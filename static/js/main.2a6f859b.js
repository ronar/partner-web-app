/*! For license information please see main.2a6f859b.js.LICENSE.txt */
!function(){var e={53575:function(e,t,n){"use strict";n.r(t),n.d(t,{ResizeObserver:function(){return U},ResizeObserverEntry:function(){return _},ResizeObserverSize:function(){return u}});var r,i=[],a="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(r||(r={}));var o,s=function(e){return Object.freeze(e)},u=function(e,t){this.inlineSize=e,this.blockSize=t,s(this)},c=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,s(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),l=function(e){return e instanceof SVGElement&&"getBBox"in e},d=function(e){if(l(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||e.getClientRects().length)},f=function(e){var t,n;if(e instanceof Element)return!0;var r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},p="undefined"!==typeof window?window:{},h=new WeakMap,m=/auto|scroll/,v=/^tb|vertical/,g=/msie|trident/i.test(p.navigator&&p.navigator.userAgent),y=function(e){return parseFloat(e||"0")},b=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new u((n?t:e)||0,(n?e:t)||0)},w=s({devicePixelContentBoxSize:b(),borderBoxSize:b(),contentBoxSize:b(),contentRect:new c(0,0,0,0)}),k=function(e,t){if(void 0===t&&(t=!1),h.has(e)&&!t)return h.get(e);if(d(e))return h.set(e,w),w;var n=getComputedStyle(e),r=l(e)&&e.ownerSVGElement&&e.getBBox(),i=!g&&"border-box"===n.boxSizing,a=v.test(n.writingMode||""),o=!r&&m.test(n.overflowY||""),u=!r&&m.test(n.overflowX||""),f=r?0:y(n.paddingTop),p=r?0:y(n.paddingRight),k=r?0:y(n.paddingBottom),x=r?0:y(n.paddingLeft),_=r?0:y(n.borderTopWidth),S=r?0:y(n.borderRightWidth),E=r?0:y(n.borderBottomWidth),C=x+p,T=f+k,A=(r?0:y(n.borderLeftWidth))+S,O=_+E,R=u?e.offsetHeight-O-e.clientHeight:0,I=o?e.offsetWidth-A-e.clientWidth:0,N=i?C+A:0,P=i?T+O:0,M=r?r.width:y(n.width)-N-I,L=r?r.height:y(n.height)-P-R,D=M+C+I+A,F=L+T+R+O,B=s({devicePixelContentBoxSize:b(Math.round(M*devicePixelRatio),Math.round(L*devicePixelRatio),a),borderBoxSize:b(D,F,a),contentBoxSize:b(M,L,a),contentRect:new c(x,f,M,L)});return h.set(e,B),B},x=function(e,t,n){var i=k(e,n),a=i.borderBoxSize,o=i.contentBoxSize,s=i.devicePixelContentBoxSize;switch(t){case r.DEVICE_PIXEL_CONTENT_BOX:return s;case r.BORDER_BOX:return a;default:return o}},_=function(e){var t=k(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=s([t.borderBoxSize]),this.contentBoxSize=s([t.contentBoxSize]),this.devicePixelContentBoxSize=s([t.devicePixelContentBoxSize])},S=function(e){if(d(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},E=function(){var e=1/0,t=[];i.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new _(t.target),i=S(t.target);r.push(n),t.lastReportedSize=x(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},C=function(e){i.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(S(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},T=function(){var e=0;for(C(e);i.some((function(e){return e.activeTargets.length>0}));)e=E(),C(e);return i.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:a}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=a),window.dispatchEvent(e)}(),e>0},A=[],O=function(e){if(!o){var t=0,n=document.createTextNode("");new MutationObserver((function(){return A.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),o=function(){n.textContent=""+(t?t--:t++)}}A.push(e),o()},R=0,I={attributes:!0,characterData:!0,childList:!0,subtree:!0},N=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],P=function(e){return void 0===e&&(e=0),Date.now()+e},M=!1,L=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!M){M=!0;var n,r=P(e);n=function(){var n=!1;try{n=T()}finally{if(M=!1,e=r-P(),!R)return;n?t.run(1e3):e>0?t.run(e):t.start()}},O((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,I)};document.body?t():p.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),N.forEach((function(t){return p.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),N.forEach((function(t){return p.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),D=function(e){!R&&e>0&&L.start(),!(R+=e)&&L.stop()},F=function(){function e(e,t){this.target=e,this.observedBox=t||r.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=x(this.target,this.observedBox,!0);return e=this.target,l(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),B=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},j=new WeakMap,Z=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},V=function(){function e(){}return e.connect=function(e,t){var n=new B(e,t);j.set(e,n)},e.observe=function(e,t,n){var r=j.get(e),a=0===r.observationTargets.length;Z(r.observationTargets,t)<0&&(a&&i.push(r),r.observationTargets.push(new F(t,n&&n.box)),D(1),L.schedule())},e.unobserve=function(e,t){var n=j.get(e),r=Z(n.observationTargets,t),a=1===n.observationTargets.length;r>=0&&(a&&i.splice(i.indexOf(n),1),n.observationTargets.splice(r,1),D(-1))},e.disconnect=function(e){var t=this,n=j.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),U=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");V.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!f(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");V.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!f(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");V.unobserve(this,e)},e.prototype.disconnect=function(){V.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}()},16608:function(e,t,n){"use strict";var r=n(87462),i=n(45987),a=n(72791),o=n(28182),s=n(38317),u=n(91122),c=a.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,l=e.color,d=void 0===l?"inherit":l,f=e.component,p=void 0===f?"svg":f,h=e.fontSize,m=void 0===h?"medium":h,v=e.htmlColor,g=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,w=(0,i.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return a.createElement(p,(0,r.Z)({className:(0,o.Z)(s.root,c,"inherit"!==d&&s["color".concat((0,u.Z)(d))],"default"!==m&&"medium"!==m&&s["fontSize".concat((0,u.Z)(m))]),focusable:"false",viewBox:b,color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},w),n,g?a.createElement("title",null,g):null)}));c.muiName="SvgIcon",t.Z=(0,s.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c)},13108:function(e,t,n){"use strict";n.d(t,{$n:function(){return f},Fq:function(){return l},_4:function(){return c},_j:function(){return d},mi:function(){return s}});var r=n(37483);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.Z)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return u(e)>.5?d(e,t):f(e,t)}function l(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function d(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},47121:function(e,t,n){"use strict";n.d(t,{X:function(){return a},Z:function(){return o}});var r=n(87462),i=n(45987),a=["xs","sm","md","lg","xl"];function o(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,o=e.unit,s=void 0===o?"px":o,u=e.step,c=void 0===u?5:u,l=(0,i.Z)(e,["values","unit","step"]);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function f(e,t){var r=a.indexOf(t);return r===a.length-1?d(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[a[r+1]]?n[a[r+1]]:t)-c/100).concat(s,")")}return(0,r.Z)({keys:a,values:n,up:d,down:function(e){var t=a.indexOf(e)+1,r=n[a[t]];return t===a.length?d("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(s,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},l)}},65628:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(45987),i=n(81534),a=n(47121),o=n(4942),s=n(87462);function u(e,t,n){var r;return(0,s.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,s.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,o.Z)({},e.up("sm"),(0,s.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,o.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,o.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}var c=n(37483),l={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},f={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},h={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=n(13108),b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.white,default:d[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:l.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:d[800],default:"#303030"},action:{active:l.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function k(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,y.$n)(e.main,i):"dark"===t&&(e.dark=(0,y._j)(e.main,a)))}function x(e){var t=e.primary,n=void 0===t?{light:f[300],main:f[500],dark:f[700]}:t,a=e.secondary,o=void 0===a?{light:p.A200,main:p.A400,dark:p.A700}:a,u=e.error,x=void 0===u?{light:h[300],main:h[500],dark:h[700]}:u,_=e.warning,S=void 0===_?{light:m[300],main:m[500],dark:m[700]}:_,E=e.info,C=void 0===E?{light:v[300],main:v[500],dark:v[700]}:E,T=e.success,A=void 0===T?{light:g[300],main:g[500],dark:g[700]}:T,O=e.type,R=void 0===O?"light":O,I=e.contrastThreshold,N=void 0===I?3:I,P=e.tonalOffset,M=void 0===P?.2:P,L=(0,r.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function D(e){return(0,y.mi)(e,w.text.primary)>=N?w.text.primary:b.text.primary}var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,s.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,c.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,c.Z)(5,JSON.stringify(e.main)));return k(e,"light",n,M),k(e,"dark",r,M),e.contrastText||(e.contrastText=D(e.main)),e},B={dark:w,light:b};return(0,i.Z)((0,s.Z)({common:l,type:R,primary:F(n),secondary:F(o,"A400","A200","A700"),error:F(x),warning:F(S),info:F(C),success:F(A),grey:d,contrastThreshold:N,getContrastText:D,augmentColor:F,tonalOffset:M},B[R]),L)}function _(e){return Math.round(1e5*e)/1e5}function S(e){return _(e)}var E={textTransform:"uppercase"},C='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,o=void 0===a?C:a,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,d=void 0===l?300:l,f=n.fontWeightRegular,p=void 0===f?400:f,h=n.fontWeightMedium,m=void 0===h?500:h,v=n.fontWeightBold,g=void 0===v?700:v,y=n.htmlFontSize,b=void 0===y?16:y,w=n.allVariants,k=n.pxToRem,x=(0,r.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var T=c/14,A=k||function(e){return"".concat(e/b*T,"rem")},O=function(e,t,n,r,i){return(0,s.Z)({fontFamily:o,fontWeight:e,fontSize:A(t),lineHeight:n},o===C?{letterSpacing:"".concat(_(r/t),"em")}:{},i,w)},R={h1:O(d,96,1.167,-1.5),h2:O(d,60,1.2,-.5),h3:O(p,48,1.167,0),h4:O(p,34,1.235,.25),h5:O(p,24,1.334,0),h6:O(m,20,1.6,.15),subtitle1:O(p,16,1.75,.15),subtitle2:O(m,14,1.57,.1),body1:O(p,16,1.5,.15),body2:O(p,14,1.43,.15),button:O(m,14,1.75,.4,E),caption:O(p,12,1.66,.4),overline:O(p,12,2.66,1,E)};return(0,i.Z)((0,s.Z)({htmlFontSize:b,pxToRem:A,round:S,fontFamily:o,fontSize:c,fontWeightLight:d,fontWeightRegular:p,fontWeightMedium:m,fontWeightBold:g},R),x,{clone:!1})}function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var O=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],R={borderRadius:4},I=n(99908);function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,I.h)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var P=n(10812),M=n(19535);function L(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.mixins,s=void 0===o?{}:o,c=e.palette,l=void 0===c?{}:c,d=e.spacing,f=e.typography,p=void 0===f?{}:f,h=(0,r.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),m=x(l),v=(0,a.Z)(n),g=N(d),y=(0,i.Z)({breakpoints:v,direction:"ltr",mixins:u(v,g,s),overrides:{},palette:m,props:{},shadows:O,typography:T(m,p),spacing:g,shape:R,transitions:P.ZP,zIndex:M.Z},h),b=arguments.length,w=new Array(b>1?b-1:0),k=1;k<b;k++)w[k-1]=arguments[k];return y=w.reduce((function(e,t){return(0,i.Z)(e,t)}),y)}var D=L},40663:function(e,t,n){"use strict";var r=(0,n(65628).Z)();t.Z=r},10812:function(e,t,n){"use strict";n.d(t,{x9:function(){return a}});var r=n(45987),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function o(e){return"".concat(Math.round(e),"ms")}t.ZP={easing:i,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?a.standard:n,u=t.easing,c=void 0===u?i.easeInOut:u,l=t.delay,d=void 0===l?0:l;(0,r.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:o(s)," ").concat(c," ").concat("string"===typeof d?d:o(d))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},38317:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(87462),i=n(45987),a=n(72791),o=n(62110),s=n.n(o),u=n(9863),c=n(70794),l=n(78444),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,d=t.withTheme,f=void 0!==d&&d,p=t.name,h=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var m=p,v=(0,u.Z)(e,(0,r.Z)({defaultTheme:o,Component:n,name:p||n.displayName,classNamePrefix:m},h)),g=a.forwardRef((function(e,t){e.classes;var s,u=e.innerRef,d=(0,i.Z)(e,["classes","innerRef"]),h=v((0,r.Z)({},n.defaultProps,e)),m=d;return("string"===typeof p||f)&&(s=(0,l.Z)()||o,p&&(m=(0,c.Z)({theme:s,name:p,props:d})),f&&!m.theme&&(m.theme=s)),a.createElement(n,(0,r.Z)({ref:u||t,classes:h},m))}));return s()(g,n),g}},f=n(40663);var p=function(e,t){return d(e,(0,r.Z)({defaultTheme:f.Z},t))}},19535:function(e,t){"use strict";t.Z={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},91122:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(37483);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},37545:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},94327:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(87462),i=n(72791),a=n(16608);function o(e,t){var n=function(t,n){return i.createElement(a.Z,(0,r.Z)({ref:n},t),e)};return n.muiName=a.Z.muiName,i.memo(i.forwardRef(n))}},50503:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,s=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},87156:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i.Z},createSvgIcon:function(){return a.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return u.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return l.Z},requirePropFactory:function(){return d},setRef:function(){return f.Z},unstable_useId:function(){return g.Z},unsupportedProp:function(){return p},useControlled:function(){return h.Z},useEventCallback:function(){return m.Z},useForkRef:function(){return v.Z},useIsFocusVisible:function(){return y.Z}});var r=n(91122),i=n(37545),a=n(94327),o=n(50503);function s(e,t){return function(){return null}}var u=n(43375),c=n(54667),l=n(37636);function d(e){return function(){return null}}var f=n(21565);function p(e,t,n,r,i){return null}var h=n(92497),m=n(72216),v=n(69806),g=n(22939),y=n(81175)},43375:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},54667:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},37636:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(54667);function i(e){return(0,r.Z)(e).defaultView||window}},21565:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},22939:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);function i(e){var t=r.useState(e),n=t[0],i=t[1],a=e||n;return r.useEffect((function(){null==n&&i("mui-".concat(Math.round(1e5*Math.random())))}),[n]),a}},92497:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),o=a[0],s=a[1];return[i?t:o,r.useCallback((function(e){i||s(e)}),[])]}},72216:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},69806:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(21565);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},81175:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(72791),i=n(54164),a=!0,o=!1,s=null,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function l(){a=!1}function d(){"hidden"===this.visibilityState&&o&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function p(){o=!0,window.clearTimeout(s),s=window.setTimeout((function(){o=!1}),100)}function h(){return{isFocusVisible:f,onBlurVisible:p,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",d,!0))}),[])}}},66556:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"}),"AccountBox");t.Z=o},21759:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}),"Apps");t.Z=o},56955:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.Z=o},31820:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");t.Z=o},44362:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");t.Z=o},2665:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"}),"BlurOnOutlined");t.Z=o},30014:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},80996:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");t.Z=o},97595:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=o},65952:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.Z=o},28719:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"}),"NotInterestedOutlined");t.Z=o},3036:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.Z=o},13880:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},44894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(87156)},79316:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for;t.Z=n?Symbol.for("mui.nested"):"__THEME_NESTED__"},70794:function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,{Z:function(){return r}})},9863:function(e,t,n){"use strict";n.d(t,{Z:function(){return mn}});var r=n(45987),i=n(87462),a=n(72791),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="object"===("undefined"===typeof window?"undefined":o(window))&&"object"===("undefined"===typeof document?"undefined":o(document))&&9===document.nodeType,u=n(43144),c=n(94578),l=n(97326),d=n(63366),f={}.constructor;function p(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(p);if(e.constructor!==f)return e;var t={};for(var n in e)t[n]=p(e[n]);return t}function h(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=p(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var m=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},v=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=m(e[r]," ");else n=m(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function g(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function y(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=g(n),u=s.linebreak,c=s.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var d=o[l];for(var f in d){var p=d[f];null!=p&&(r&&(r+=u),r+=y(f+":"+c+v(p)+";",a))}}else for(var h in o){var m=o[h];null!=m&&(r&&(r+=u),r+=y(h+":"+c+v(m)+";",a))}for(var b in t){var w=t[b];null!=w&&"fallbacks"!==b&&(r&&(r+=u),r+=y(b+":"+c+v(w)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),y(""+e+c+"{"+r,--a)+y("}",a)):r}var w=/([[\].#*$><+~=|^:(),"'`\s])/g,k="undefined"!==typeof CSS&&CSS.escape,x=function(e){return k?k(e):e.replace(w,"\\$1")},_=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),S=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,u=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=u((0,l.Z)((0,l.Z)(i)),s),i.selectorText="."+x(i.id)),i}(0,c.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=v(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},(0,u.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(_),E={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new S(e,t,n)}},C={indent:1,children:!0},T=/@([\w-]+)/,A=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(T);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new J((0,i.Z)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=C);var t=g(e).linebreak;if(null==e.indent&&(e.indent=C.indent),null==e.children&&(e.children=C.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),O=/@media|@supports\s+/,R={onCreateRule:function(e,t,n){return O.test(e)?new A(e,t,n):null}},I={indent:1,children:!0},N=/@keyframes\s+([\w-]+)/,P=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(N);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;for(var u in this.id=!1===a?this.name:x(s(this,o)),this.rules=new J((0,i.Z)({},n,{parent:this})),t)this.rules.add(u,t[u],(0,i.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=I);var t=g(e).linebreak;if(null==e.indent&&(e.indent=I.indent),null==e.children&&(e.children=I.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),M=/@keyframes\s+/,L=/\$([\w-]+)/g,D=function(e,t){return"string"===typeof e?e.replace(L,(function(e,n){return n in t?t[n]:e})):e},F=function(e,t,n){var r=e[t],i=D(r,n);i!==r&&(e[t]=i)},B={onCreateRule:function(e,t,n){return"string"===typeof e&&M.test(e)?new P(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&F(e,"animation-name",n.keyframes),"animation"in e&&F(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return D(e,r.keyframes);default:return e}}},j=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(_),Z={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new j(e,t,n):null}},V=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=g(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=b(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return b(this.at,this.style,e)},e}(),U=/@font-face/,W={onCreateRule:function(e,t,n){return U.test(e)?new V(e,t,n):null}},H=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),z={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new H(e,t,n):null}},G=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),q={"@charset":!0,"@import":!0,"@namespace":!0},K={onCreateRule:function(e,t,n){return e in q?new G(e,t,n):null}},Y=[E,R,B,Z,W,z,K],X={process:!0},Q={force:!0,process:!0},J=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,s=r.jss,u=r.Renderer,c=r.generateId,l=r.scoped,d=(0,i.Z)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(d.selector="."+x(this.classes[f]));var p=h(f,t,d);if(!p)return null;this.register(p);var m=void 0===d.index?this.index.length:d.index;return this.index.splice(m,0,p),p},t.replace=function(e,t,n){var r=this.get(e),a=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==a&&(o=(0,i.Z)({},n,{index:a})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof S?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof P&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof S?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof P&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=X);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var u in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,Q)}for(var l in s){var d=t.style[l],f=s[l];null==d&&d!==f&&t.prop(l,null,Q)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=g(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),$=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,i.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new J(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,d.Z)(t,["attached"]),i=g(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},(0,u.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ne=new te,re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ie="2f1acc6c3a606b082e5eef5e54414ffb";null==re[ie]&&(re[ie]=0);var ae=re[ie]++,oe=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ae+i+t:a+n.key+"-"+ae+(i?"-"+i:"")+"-"+t}},se=function(e){var t;return function(){return t||(t=e()),t}},ue=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ce=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=v(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},le=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},de=function(e,t){return e.selectorText=t,e.selectorText===t},fe=se((function(){return document.querySelector("head")}));function pe(e){var t=ne.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=fe(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var he=se((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),me=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},ve=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ge=function(){function e(e){this.getPropertyValue=ue,this.setProperty=ce,this.removeProperty=le,this.setSelector=de,this.hasInsertedRules=!1,this.cssRules=[],e&&ne.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=he();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=pe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else fe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=ve(n,t);if(!1===(i=me(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=ve(n,t),u=me(n,o,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof $&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ye=0,be=function(){function e(e){this.id=ye++,this.version="10.9.0",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:oe,Renderer:s?ge:null,plugins:[]},this.generateId=oe({minify:!1});for(var t=0;t<Y.length;t++)this.plugins.use(Y[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,i.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ne.index?0:ne.index+1);var r=new $(e,(0,i.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ne.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,i.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=h(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),we=function(e){return new be(e)},ke="object"===typeof CSS&&null!=CSS&&"number"in CSS;function xe(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=xe(r);a&&(t||(t={}),t[n]=a)}}return t}we();var _e=n(25352),Se={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Ee=Se,Ce=n(78444),Te=n(79316),Ae=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Oe=Date.now(),Re="fnValues"+Oe,Ie="fnStyle"+ ++Oe,Ne=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=h(e,{},n);return r[Ie]=t,r},onProcessStyle:function(e,t){if(Re in t||Ie in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Re]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Ie];a&&(i.style=a(e)||{});var o=i[Re];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},Pe="@global",Me="@global ",Le=function(){function e(e,t,n){for(var r in this.type="global",this.at=Pe,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new J((0,i.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),De=function(){function e(e,t,n){this.type="global",this.at=Pe,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Me.length);this.rule=n.jss.createRule(r,t,(0,i.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Fe=/\s*,\s*/g;function Be(e,t){for(var n=e.split(Fe),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var je=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Pe)return new Le(e,t,n);if("@"===e[0]&&e.substr(0,Me.length)===Me)return new De(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,a=r?r[Pe]:null;if(a){for(var o in a)t.addRule(o,a[o],(0,i.Z)({},n,{selector:Be(o,e.selector)}));delete r[Pe]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,Pe.length)===Pe){var o=Be(a.substr(Pe.length),e.selector);t.addRule(o,r[a],(0,i.Z)({},n,{selector:o})),delete r[a]}}(e,t))}}},Ze=/\s*,\s*/g,Ve=/&/g,Ue=/\$([\w-]+)/g;var We=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Ze),r=e.split(Ze),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(Ve,o):o+" "+u}return i}function n(e,t,n){if(n)return(0,i.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=(0,i.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,o){if("style"!==a.type)return r;var s,u,c=a,l=c.options.parent;for(var d in r){var f=-1!==d.indexOf("&"),p="@"===d[0];if(f||p){if(s=n(c,l,s),f){var h=t(d,c.selector);u||(u=e(l,o)),h=h.replace(Ue,u);var m=c.key+"-"+d;"replaceRule"in l?l.replaceRule(m,r[d],(0,i.Z)({},s,{selector:h})):l.addRule(m,r[d],(0,i.Z)({},s,{selector:h}))}else p&&l.addRule(d,{},s).addRule(c.key,r[d],{selector:c.selector});delete r[d]}}return r}}},He=n(57630);function ze(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:(0,He.default)(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(ze):t.fallbacks=ze(e.fallbacks)),t}var Ge=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=ze(e[t]);return e}return ze(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=(0,He.default)(t);return t===r?e:(n.prop(r,e),null)}}},qe=ke&&CSS?CSS.px:"px",Ke=ke&&CSS?CSS.ms:"ms",Ye=ke&&CSS?CSS.percent:"%";function Xe(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Qe=Xe({"animation-delay":Ke,"animation-duration":Ke,"background-position":qe,"background-position-x":qe,"background-position-y":qe,"background-size":qe,border:qe,"border-bottom":qe,"border-bottom-left-radius":qe,"border-bottom-right-radius":qe,"border-bottom-width":qe,"border-left":qe,"border-left-width":qe,"border-radius":qe,"border-right":qe,"border-right-width":qe,"border-top":qe,"border-top-left-radius":qe,"border-top-right-radius":qe,"border-top-width":qe,"border-width":qe,"border-block":qe,"border-block-end":qe,"border-block-end-width":qe,"border-block-start":qe,"border-block-start-width":qe,"border-block-width":qe,"border-inline":qe,"border-inline-end":qe,"border-inline-end-width":qe,"border-inline-start":qe,"border-inline-start-width":qe,"border-inline-width":qe,"border-start-start-radius":qe,"border-start-end-radius":qe,"border-end-start-radius":qe,"border-end-end-radius":qe,margin:qe,"margin-bottom":qe,"margin-left":qe,"margin-right":qe,"margin-top":qe,"margin-block":qe,"margin-block-end":qe,"margin-block-start":qe,"margin-inline":qe,"margin-inline-end":qe,"margin-inline-start":qe,padding:qe,"padding-bottom":qe,"padding-left":qe,"padding-right":qe,"padding-top":qe,"padding-block":qe,"padding-block-end":qe,"padding-block-start":qe,"padding-inline":qe,"padding-inline-end":qe,"padding-inline-start":qe,"mask-position-x":qe,"mask-position-y":qe,"mask-size":qe,height:qe,width:qe,"min-height":qe,"max-height":qe,"min-width":qe,"max-width":qe,bottom:qe,left:qe,top:qe,right:qe,inset:qe,"inset-block":qe,"inset-block-end":qe,"inset-block-start":qe,"inset-inline":qe,"inset-inline-end":qe,"inset-inline-start":qe,"box-shadow":qe,"text-shadow":qe,"column-gap":qe,"column-rule":qe,"column-rule-width":qe,"column-width":qe,"font-size":qe,"font-size-delta":qe,"letter-spacing":qe,"text-decoration-thickness":qe,"text-indent":qe,"text-stroke":qe,"text-stroke-width":qe,"word-spacing":qe,motion:qe,"motion-offset":qe,outline:qe,"outline-offset":qe,"outline-width":qe,perspective:qe,"perspective-origin-x":Ye,"perspective-origin-y":Ye,"transform-origin":Ye,"transform-origin-x":Ye,"transform-origin-y":Ye,"transform-origin-z":Ye,"transition-delay":Ke,"transition-duration":Ke,"vertical-align":qe,"flex-basis":qe,"shape-margin":qe,size:qe,gap:qe,grid:qe,"grid-gap":qe,"row-gap":qe,"grid-row-gap":qe,"grid-column-gap":qe,"grid-template-rows":qe,"grid-template-columns":qe,"grid-auto-rows":qe,"grid-auto-columns":qe,"box-shadow-x":qe,"box-shadow-y":qe,"box-shadow-blur":qe,"box-shadow-spread":qe,"font-line-height":qe,"text-shadow-x":qe,"text-shadow-y":qe,"text-shadow-blur":qe});function Je(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Je(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=Je(i,t[i],n);else for(var a in t)t[a]=Je(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||Qe[e];return!o||0===t&&o===qe?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var $e=function(e){void 0===e&&(e={});var t=Xe(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Je(r,e[r],t);return e},onChangeValue:function(e,n){return Je(n,e,t)}}},et=n(93433),tt="",nt="",rt="",it="",at=s&&"ontouchstart"in document.documentElement;if(s){var ot={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},st=document.createElement("p").style;for(var ut in ot)if(ut+"Transform"in st){tt=ut,nt=ot[ut];break}"Webkit"===tt&&"msHyphens"in st&&(tt="ms",nt=ot.ms,it="edge"),"Webkit"===tt&&"-apple-trailing-word"in st&&(rt="apple")}var ct=tt,lt=nt,dt=rt,ft=it,pt=at;var ht={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ct?"-webkit-"+e:lt+e)}},mt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ct?lt+"print-"+e:e)}},vt=/[-\s]+(.)?/g;function gt(e,t){return t?t.toUpperCase():""}function yt(e){return e.replace(vt,gt)}function bt(e){return yt("-"+e)}var wt,kt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ct){var n="mask-image";if(yt(n)in t)return e;if(ct+bt(n)in t)return lt+e}return e}},xt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==dt||pt?e:lt+e)}},_t={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:lt+e)}},St={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:lt+e)}},Et={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ct||"ms"===ct&&"edge"!==ft?lt+e:e)}},Ct={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ct||"ms"===ct||"apple"===dt?lt+e:e)}},Tt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ct?"WebkitColumn"+bt(e)in t&&lt+"column-"+e:"Moz"===ct&&("page"+bt(e)in t&&"page-"+e))}},At={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ct)return e;var n=e.replace("-inline","");return ct+bt(n)in t&&lt+n}},Ot={supportedProperty:function(e,t){return yt(e)in t&&e}},Rt={supportedProperty:function(e,t){var n=bt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ct+n in t?lt+e:"Webkit"!==ct&&"Webkit"+n in t&&"-webkit-"+e}},It={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ct?""+lt+e:e)}},Nt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ct?lt+"scroll-chaining":e)}},Pt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Mt={supportedProperty:function(e,t){var n=Pt[e];return!!n&&(ct+bt(n)in t&&lt+n)}},Lt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Dt=Object.keys(Lt),Ft=function(e){return lt+e},Bt={supportedProperty:function(e,t,n){var r=n.multiple;if(Dt.indexOf(e)>-1){var i=Lt[e];if(!Array.isArray(i))return ct+bt(i)in t&&lt+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(ct+bt(i[0])in t))return!1;return i.map(Ft)}return!1}},jt=[ht,mt,kt,xt,_t,St,Et,Ct,Tt,At,Ot,Rt,It,Nt,Mt,Bt],Zt=jt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Vt=jt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,et.Z)(t.noPrefill)),e}),[]),Ut={};if(s){wt=document.createElement("p");var Wt=window.getComputedStyle(document.documentElement,"");for(var Ht in Wt)isNaN(Ht)||(Ut[Wt[Ht]]=Wt[Ht]);Vt.forEach((function(e){return delete Ut[e]}))}function zt(e,t){if(void 0===t&&(t={}),!wt)return e;if(null!=Ut[e])return Ut[e];"transition"!==e&&"transform"!==e||(t[e]=e in wt.style);for(var n=0;n<Zt.length&&(Ut[e]=Zt[n](e,wt.style,t),!Ut[e]);n++);try{wt.style[e]=""}catch(r){return!1}return Ut[e]}var Gt,qt={},Kt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Yt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Xt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?zt(t):", "+zt(n);return r||(t||n)}function Qt(e,t){var n=t;if(!Gt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=qt[r])return qt[r];try{Gt.style[e]=n}catch(i){return qt[r]=!1,!1}if(Kt[e])n=n.replace(Yt,Xt);else if(""===Gt.style[e]&&("-ms-flex"===(n=lt+n)&&(Gt.style[e]="-ms-flexbox"),Gt.style[e]=n,""===Gt.style[e]))return qt[r]=!1,!1;return Gt.style[e]="",qt[r]=n,qt[r]}s&&(Gt=document.createElement("p"));var Jt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=zt(n);a&&a!==n&&(i=!0);var o=!1,s=Qt(a,v(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===ct?e:"@"+lt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Qt(t,v(e))||e}}};var $t=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var en=we({plugins:[Ne(),je(),We(),Ge(),$e(),"undefined"===typeof window?null:Jt(),$t()]}),tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Ae.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Te.Z]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(s).concat(i).concat(c())}}(),nn={disableGeneration:!1,generateClassName:tn,jss:en,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},rn=a.createContext(nn);var an=-1e9;function on(){return an+=1}var sn=n(81534);function un(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return a;var o=n.overrides[r],s=(0,i.Z)({},a);return Object.keys(o).forEach((function(e){s[e]=(0,sn.Z)(s[e],o[e])})),s},options:{}}}var cn={};function ln(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=(0,_e.Z)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function dn(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,s=e.name;if(!a.disableGeneration){var u=Ee.get(a.sheetsManager,o,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Ee.set(a.sheetsManager,o,r,u));var c=(0,i.Z)({},o.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=a.sheetsRegistry;if(0===u.refs){var d;a.sheetsCache&&(d=Ee.get(a.sheetsCache,o,r));var f=o.create(r,s);d||((d=a.jss.createStyleSheet(f,(0,i.Z)({link:!1},c))).attach(),a.sheetsCache&&Ee.set(a.sheetsCache,o,r,d)),l&&l.add(d),u.staticSheet=d,u.dynamicStyles=xe(f)}if(u.dynamicStyles){var p=a.jss.createStyleSheet(u.dynamicStyles,(0,i.Z)({link:!0},c));p.update(t),p.attach(),n.dynamicSheet=p,n.classes=(0,_e.Z)({baseClasses:u.staticSheet.classes,newClasses:p.classes}),l&&l.add(p)}else n.classes=u.staticSheet.classes;u.refs+=1}}function fn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function pn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Ee.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Ee.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function hn(e,t){var n,r=a.useRef([]),i=a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.useEffect((function(){return function(){n&&n()}}),[i])}function mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,u=t.defaultTheme,c=void 0===u?cn:u,l=(0,r.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),d=un(e),f=n||o||"makeStyles";d.options={index:on(),name:n,meta:f,classNamePrefix:f};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,Ce.Z)()||c,r=(0,i.Z)({},a.useContext(rn),l),o=a.useRef(),u=a.useRef();hn((function(){var i={name:n,state:{},stylesCreator:d,stylesOptions:r,theme:t};return dn(i,e),u.current=!1,o.current=i,function(){pn(i)}}),[t,d]),a.useEffect((function(){u.current&&fn(o.current,e),u.current=!0}));var f=ln(o.current,e.classes,s);return f};return p}},25352:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(87462);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},40423:function(e,t,n){"use strict";var r=n(72791).createContext(null);t.Z=r},78444:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(40423);function a(){return r.useContext(i.Z)}},16086:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(71002),i={xs:0,sm:600,md:960,lg:1280,xl:1920},a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function o(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||a;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===(0,r.Z)(t)){var o=e.theme.breakpoints||a;return Object.keys(t).reduce((function(e,r){return e[o.up(r)]=n(t[r]),e}),{})}return n(t)}},7351:function(e,t,n){"use strict";var r=n(81534);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},99908:function(e,t,n){"use strict";n.d(t,{h:function(){return d},Z:function(){return h}});var r=n(29439),i=n(16086),a=n(7351);var o={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!u[e])return[e];e=u[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],c=o[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return c+e})):[c+l]})),l=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function d(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function f(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function p(e){var t=d(e.theme);return Object.keys(e).map((function(n){if(-1===l.indexOf(n))return null;var r=f(c(n),t),a=e[n];return(0,i.k)(e,a,r)})).reduce(a.Z,{})}p.propTypes={},p.filterProps=l;var h=p},81534:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(87462),i=n(71002);function a(e){return e&&"object"===(0,i.Z)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},37483:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},11214:function(e){"use strict";function t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n(e,n,r){var i=r<.5?r*(1+n):r+n-r*n,a=2*r-i,o=t(a,i,e+1/3),s=t(a,i,e),u=t(a,i,e-1/3);return Math.round(255*o)<<24|Math.round(255*s)<<16|Math.round(255*u)<<8}var r,i="[-+]?\\d*\\.?\\d+",a=i+"%";function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}function s(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function u(e){return(parseFloat(e)%360+360)%360/360}function c(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function l(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}e.exports=function(e){if("number"===typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!==typeof e)return null;var t,d=function(){void 0===r&&(r={rgb:new RegExp("rgb"+o(i,i,i)),rgba:new RegExp("rgba"+o(i,i,i,i)),hsl:new RegExp("hsl"+o(i,a,a)),hsla:new RegExp("hsla"+o(i,a,a,i)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/});return r}();if(t=d.hex6.exec(e))return parseInt(t[1]+"ff",16)>>>0;var f=function(e){switch(e){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":case"cyan":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":case"darkgrey":return 2846468607;case"darkgreen":return 6553855;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":case"magenta":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":case"grey":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":case"lightgrey":return 3553874943;case"lightgreen":return 2431553791;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}(e);return null!=f?f:(t=d.rgb.exec(e))?(s(t[1])<<24|s(t[2])<<16|s(t[3])<<8|255)>>>0:(t=d.rgba.exec(e))?(s(t[1])<<24|s(t[2])<<16|s(t[3])<<8|c(t[4]))>>>0:(t=d.hex3.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=d.hex8.exec(e))?parseInt(t[1],16)>>>0:(t=d.hex4.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=d.hsl.exec(e))?(255|n(u(t[1]),l(t[2]),l(t[3])))>>>0:(t=d.hsla.exec(e))?(n(u(t[1]),l(t[2]),l(t[3]))|c(t[4]))>>>0:null}},46196:function(e,t,n){"use strict";n.d(t,{He:function(){return m},Ld:function(){return A},eC:function(){return y},f3:function(){return h},iG:function(){return g},rS:function(){return w},sb:function(){return _},ys:function(){return p}});var r=n(29439),i=n(11752),a=n(61120),o=n(60136),s=n(29388),u=n(15671),c=n(43144),l=n(91315),d=n(72791),f=Symbol.for("Animated:node"),p=function(e){return e&&e[f]},h=function(e,t){return(0,l.dE)(e,f,t)},m=function(e){return e&&e[f]&&e[f].getPayload()},v=function(){function e(){(0,u.Z)(this,e),this.payload=void 0,h(this,this)}return(0,c.Z)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),g=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,l.is.num(r._value)&&(r.lastPosition=r._value),r}return(0,c.Z)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return l.is.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,l.is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(v),y=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=(0,l.mD)({output:[e,e]}),r}return(0,c.Z)(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(l.is.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!(0,i.Z)((0,a.Z)(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=(0,l.mD)({output:[this.getValue(),e]})),this._value=0,(0,i.Z)((0,a.Z)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(g),b={dependencies:null},w=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return(0,c.Z)(n,[{key:"getValue",value:function(e){var t={};return(0,l.rU)(this.source,(function(n,r){var i;(i=n)&&i[f]===i?t[r]=n.getValue(e):(0,l.j$)(n)?t[r]=(0,l.je)(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&(0,l.S6)(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return(0,l.rU)(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;b.dependencies&&(0,l.j$)(e)&&b.dependencies.add(e);var n=m(e);n&&(0,l.S6)(n,(function(e){return t.add(e)}))}}]),n}(v),k=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){return(0,u.Z)(this,n),t.call(this,e)}return(0,c.Z)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):((0,i.Z)((0,a.Z)(n.prototype),"setValue",this).call(this,e.map(x)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(w);function x(e){return((0,l.Df)(e)?y:g).create(e)}function _(e){var t=p(e);return t?t.constructor:l.is.arr(e)?k:(0,l.Df)(e)?y:g}function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}var E=function(e,t){var n=!l.is.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,d.forwardRef)((function(i,a){var o=(0,d.useRef)(null),s=n&&(0,d.useCallback)((function(e){o.current=function(e,t){e&&(l.is.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),u=function(e,t){var n=new Set;b.dependencies=n,e.style&&(e=S({},e,{style:t.createAnimatedStyle(e.style)}));return e=new w(e),b.dependencies=null,[e,n]}(i,t),c=(0,r.Z)(u,2),f=c[0],p=c[1],h=(0,l.NW)(),m=function(){var e=o.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,f.getValue(!0)))&&h()},v=new C(m,p),g=(0,d.useRef)();(0,l.LI)((function(){return g.current=v,(0,l.S6)(p,(function(e){return(0,l.UI)(e,v)})),function(){g.current&&((0,l.S6)(g.current.deps,(function(e){return(0,l.iL)(e,g.current)})),l.Wn.cancel(g.current.update))}})),(0,d.useEffect)(m,[]),(0,l.tf)((function(){return function(){var e=g.current;(0,l.S6)(e.deps,(function(t){return(0,l.iL)(t,e)}))}}));var y=t.getComponentProps(f.getValue());return d.createElement(e,S({},y,{ref:s}))}))},C=function(){function e(t,n){(0,u.Z)(this,e),this.update=t,this.deps=n}return(0,c.Z)(e,[{key:"eventObserved",value:function(e){"change"==e.type&&l.Wn.write(this.update)}}]),e}();var T=Symbol.for("AnimatedComponent"),A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new w(e)}:i,o=t.getComponentProps,s=void 0===o?function(e){return e}:o,u={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:s},c=function e(t){var n=O(t)||"Anonymous";return(t=l.is.str(t)?e[t]||(e[t]=E(t,u)):t[T]||(t[T]=E(t,u))).displayName="Animated(".concat(n,")"),t};return(0,l.rU)(e,(function(t,n){l.is.arr(e)&&(n=O(t)),c[n]=c(t)})),{animated:c}},O=function(e){return l.is.str(e)?e:e&&l.is.str(e.displayName)?e.displayName:l.is.fun(e)&&e.name||null}},18867:function(e,t,n){"use strict";n.r(t),n.d(t,{BailSignal:function(){return ae},Controller:function(){return Te},FrameValue:function(){return ce},Globals:function(){return v.OH},Interpolation:function(){return it},Spring:function(){return $e},SpringContext:function(){return Ze},SpringRef:function(){return Ue},SpringValue:function(){return ve},Trail:function(){return tt},Transition:function(){return rt},config:function(){return j},createInterpolator:function(){return v.mD},easings:function(){return G},inferTo:function(){return N},interpolate:function(){return ct},to:function(){return ut},update:function(){return lt},useChain:function(){return B},useIsomorphicLayoutEffect:function(){return v.LI},useReducedMotion:function(){return v.JZ},useSpring:function(){return He},useSpringRef:function(){return qe},useSprings:function(){return We},useTrail:function(){return Ke},useTransition:function(){return Ye}});var r=n(97326),i=n(93433),a=n(29439),o=n(11752),s=n(61120),u=n(60136),c=n(29388),l=n(98737),d=n(74165),f=n(15861),p=n(43144),h=n(15671),m=n(37762),v=n(91315),g=n(72791),y=n(46196),b=n(84538),w={};for(var k in b)["default","Globals","createInterpolator","useIsomorphicLayoutEffect","useReducedMotion","BailSignal","Controller","FrameValue","Interpolation","Spring","SpringContext","SpringRef","SpringValue","Trail","Transition","config","easings","inferTo","interpolate","to","update","useChain","useSpring","useSpringRef","useSprings","useTrail","useTransition"].indexOf(k)<0&&(w[k]=function(e){return b[e]}.bind(0,k));n.d(t,w);var x=n(29543);w={};for(var k in x)["default","Globals","createInterpolator","useIsomorphicLayoutEffect","useReducedMotion","BailSignal","Controller","FrameValue","Interpolation","Spring","SpringContext","SpringRef","SpringValue","Trail","Transition","config","easings","inferTo","interpolate","to","update","useChain","useSpring","useSpringRef","useSprings","useTrail","useTransition"].indexOf(k)<0&&(w[k]=function(e){return x[e]}.bind(0,k));function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v.is.fun(e)?e.apply(void 0,n):e}n.d(t,w);var E=function(e,t){return!0===e||!!(t&&e&&(v.is.fun(e)?e(t):(0,v.qo)(e).includes(t)))},C=function(e,t){return v.is.obj(e)?t&&e[t]:e},T=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},A=function(e){return e},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A,n=R;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},a=(0,m.Z)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=t(e[o],o);v.is.und(s)||(i[o]=s)}}catch(u){a.e(u)}finally{a.f()}return i},R=["config","onProps","onStart","onChange","onPause","onResume","onRest"],I={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function N(e){var t=function(e){var t={},n=0;if((0,v.rU)(e,(function(e,r){I[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return(0,v.rU)(e,(function(e,r){return r in t||(n[r]=e)})),n}return _({},e)}function P(e){return e=(0,v.je)(e),v.is.arr(e)?e.map(P):(0,v.Df)(e)?v.OH.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function M(e){for(var t in e)return!0;return!1}function L(e){return v.is.fun(e)||v.is.arr(e)&&v.is.obj(e[0])}function D(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function F(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;(0,v.LI)((function(){if(t){var r=0;(0,v.S6)(e,(function(e,i){var a=e.current;if(a.length){var o=n*t[i];isNaN(o)?o=r:r=o,(0,v.S6)(a,(function(e){(0,v.S6)(e.queue,(function(e){var t=e.delay;e.delay=function(e){return o+S(t||0,e)}}))})),e.start()}}))}else{var i=Promise.resolve();(0,v.S6)(e,(function(e){var t=e.current;if(t.length){var n=t.map((function(e){var t=e.queue;return e.queue=[],t}));i=i.then((function(){return(0,v.S6)(t,(function(e,t){return(0,v.S6)(n[t]||[],(function(t){return e.queue.push(t)}))})),Promise.all(e.start())}))}}))}}))}var j={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Z=1.70158,V=1.525*Z,U=Z+1,W=2*Math.PI/3,H=2*Math.PI/4.5,z=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},G={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return U*e*e*e-Z*e*e},easeOutBack:function(e){return 1+U*Math.pow(e-1,3)+Z*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-V)/2:(Math.pow(2*e-2,2)*((V+1)*(2*e-2)+V)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*W)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*W)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*H)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*H)/2+1},easeInBounce:function(e){return 1-z(1-e)},easeOutBounce:z,easeInOutBounce:function(e){return e<.5?(1-z(1-2*e))/2:(1+z(2*e-1))/2}},q=_({},j.default,{mass:1,damping:1,easing:G.linear,clamp:!1}),K=(0,p.Z)((function e(){(0,h.Z)(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,q)}));function Y(e,t){if(v.is.und(t.decay)){var n=!v.is.und(t.tension)||!v.is.und(t.friction);!n&&v.is.und(t.frequency)&&v.is.und(t.damping)&&v.is.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var X=[],Q=(0,p.Z)((function e(){(0,h.Z)(this,e),this.changed=!1,this.values=X,this.toValues=null,this.fromValues=X,this.to=void 0,this.from=void 0,this.config=new K,this.immediate=!1}));function J(e,t){var n=t.key,r=t.props,i=t.defaultProps,a=t.state,o=t.actions;return new Promise((function(t,s){var u,c,l,d=E(null!=(u=r.cancel)?u:null==i?void 0:i.cancel,n);if(d)m();else{v.is.und(r.pause)||(a.paused=E(r.pause,n));var f=null==i?void 0:i.pause;!0!==f&&(f=a.paused||E(f,n)),c=S(r.delay||0,n),f?(a.resumeQueue.add(h),o.pause()):(o.resume(),h())}function p(){a.resumeQueue.add(h),a.timeouts.delete(l),l.cancel(),c=l.time-v.Wn.now()}function h(){c>0&&!v.OH.skipAnimation?(a.delayed=!0,l=v.Wn.setTimeout(m,c),a.pauseQueue.add(p),a.timeouts.add(l)):m()}function m(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(p),a.timeouts.delete(l),e<=(a.cancelId||0)&&(d=!0);try{o.start(_({},r,{callId:e,cancel:d}),t)}catch(n){s(n)}}}))}var $=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?ne(e.get()):t.every((function(e){return e.noop}))?ee(e.get()):te(e.get(),t.every((function(e){return e.finished})))},ee=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},ne=function(e){return{value:e,cancelled:!0,finished:!1}};function re(e,t,n,r){var i=t.callId,a=t.parentId,o=t.onRest,s=n.asyncTo,u=n.promise;return a||e!==s||t.reset?n.promise=(0,f.Z)((0,d.Z)().mark((function c(){var l,p,h,g,y,b,w,k;return(0,d.Z)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.asyncId=i,n.asyncTo=e,l=O(t,(function(e,t){return"onRest"===t?void 0:e})),g=new Promise((function(e,t){return p=e,h=t})),y=function(e){var t=i<=(n.cancelId||0)&&ne(r)||i!==n.asyncId&&te(r,!1);if(t)throw e.result=t,h(e),e},b=function(e,t){var a=new ae,o=new oe;return(0,f.Z)((0,d.Z)().mark((function s(){var u,c;return(0,d.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!v.OH.skipAnimation){s.next=5;break}throw ie(n),o.result=te(r,!1),h(o),o;case 5:return y(a),(u=v.is.obj(e)?_({},e):_({},t,{to:e})).parentId=i,(0,v.rU)(l,(function(e,t){v.is.und(u[t])&&(u[t]=e)})),s.next=11,r.start(u);case 11:if(c=s.sent,y(a),!n.paused){s.next=16;break}return s.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return s.abrupt("return",c);case 17:case"end":return s.stop()}}),s)})))()},!v.OH.skipAnimation){c.next=9;break}return ie(n),c.abrupt("return",te(r,!1));case 9:return c.prev=9,k=v.is.arr(e)?function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var n,r,i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,m.Z)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,b(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(b,r.stop.bind(r))),c.next=13,Promise.all([k.then(p),g]);case 13:w=te(r.get(),!0,!1),c.next=27;break;case 16:if(c.prev=16,c.t0=c.catch(9),!(c.t0 instanceof ae)){c.next=22;break}w=c.t0.result,c.next=27;break;case 22:if(!(c.t0 instanceof oe)){c.next=26;break}w=c.t0.result,c.next=27;break;case 26:throw c.t0;case 27:return c.prev=27,i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?s:void 0,n.promise=a?u:void 0),c.finish(27);case 30:return v.is.fun(o)&&v.Wn.batchedUpdates((function(){o(w,r,r.item)})),c.abrupt("return",w);case 32:case"end":return c.stop()}}),c,null,[[9,16,27,30]])})))():u}function ie(e,t){(0,v.yl)(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var ae=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,h.Z)(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return(0,p.Z)(n)}((0,l.Z)(Error)),oe=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,h.Z)(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return(0,p.Z)(n)}((0,l.Z)(Error)),se=function(e){return e instanceof ce},ue=1,ce=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,h.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).id=ue++,e.key=void 0,e._priority=0,e}return(0,p.Z)(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=(0,y.ys)(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.OH.to(this,t)}},{key:"interpolate",value:function(){(0,v.LW)();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.OH.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,v.k0)(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||v.fT.sort(this),(0,v.k0)(this,{type:"priority",parent:this,priority:e})}}]),n}(v.B0),le=Symbol.for("SpringPhase"),de=function(e){return(1&e[le])>0},fe=function(e){return(2&e[le])>0},pe=function(e){return(4&e[le])>0},he=function(e,t){return t?e[le]|=3:e[le]&=-3},me=function(e,t){return t?e[le]|=4:e[le]&=-5},ve=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e,r){var i;if((0,h.Z)(this,n),(i=t.call(this)).key=void 0,i.animation=new Q,i.queue=void 0,i.defaultProps={},i._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!v.is.und(e)||!v.is.und(r)){var a=v.is.obj(e)?_({},e):_({},r,{from:e});v.is.und(a.default)&&(a.default=!0),i.start(a)}return i}return(0,p.Z)(n,[{key:"idle",get:function(){return!(fe(this)||this._state.asyncTo)||pe(this)}},{key:"goal",get:function(){return(0,v.je)(this.animation.to)}},{key:"velocity",get:function(){var e=(0,y.ys)(this);return e instanceof y.iG?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return de(this)}},{key:"isAnimating",get:function(){return fe(this)}},{key:"isPaused",get:function(){return pe(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.config,o=i.toValues,s=(0,y.He)(i.to);!s&&(0,v.j$)(i.to)&&(o=(0,v.qo)((0,v.je)(i.to))),i.values.forEach((function(u,c){if(!u.done){var l=u.constructor==y.eC?1:s?s[c].lastPosition:o[c],d=i.immediate,f=l;if(!d){if(f=u.lastPosition,a.tension<=0)return void(u.done=!0);var p,h=u.elapsedTime+=e,m=i.fromValues[c],g=null!=u.v0?u.v0:u.v0=v.is.arr(a.velocity)?a.velocity[c]:a.velocity;if(v.is.und(a.duration))if(a.decay){var b=!0===a.decay?.998:a.decay,w=Math.exp(-(1-b)*h);f=m+g/(1-b)*(1-w),d=Math.abs(u.lastPosition-f)<.1,p=g*w}else{p=null==u.lastVelocity?g:u.lastVelocity;for(var k=a.precision||(m==l?.005:Math.min(1,.001*Math.abs(l-m))),x=a.restVelocity||k/10,_=a.clamp?0:a.bounce,S=!v.is.und(_),E=m==l?u.v0>0:m<l,C=Math.ceil(e/1),T=0;T<C&&(Math.abs(p)>x||!(d=Math.abs(l-f)<=k));++T){S&&(f==l||f>l==E)&&(p=-p*_,f=l),f+=1*(p+=1*((1e-6*-a.tension*(f-l)+.001*-a.friction*p)/a.mass))}}else{var A=1;a.duration>0&&(t._memoizedDuration!==a.duration&&(t._memoizedDuration=a.duration,u.durationProgress>0&&(u.elapsedTime=a.duration*u.durationProgress,h=u.elapsedTime+=e)),A=(A=(a.progress||0)+h/t._memoizedDuration)>1?1:A<0?0:A,u.durationProgress=A),p=((f=m+a.easing(A)*(l-m))-u.lastPosition)/e,d=1==A}u.lastVelocity=p,Number.isNaN(f)&&(console.warn("Got NaN while animating:",t),d=!0)}s&&!s[c].done&&(d=!1),d?u.done=!0:n=!1,u.setValue(f,a.round)&&(r=!0)}}));var u=(0,y.ys)(this),c=u.getValue();if(n){var l=(0,v.je)(i.to);c===l&&!r||a.decay?r&&a.decay&&this._onChange(c):(u.setValue(l),this._onChange(l)),this._stop()}else r&&this._onChange(c)}},{key:"set",value:function(e){var t=this;return v.Wn.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(fe(this)){var t=this.animation,n=t.to,r=t.config;v.Wn.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return v.is.und(e)?(n=this.queue||[],this.queue=[]):n=[v.is.obj(e)?e:_({},t,{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return $(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),ie(this._state,e&&this._lastCallId),v.Wn.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=v.is.obj(n)?n[t]:n)||L(n))&&(n=void 0),null==(r=v.is.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!de(this)){if(e.reverse){var a=[r,n];n=a[0],r=a[1]}r=(0,v.je)(r),v.is.und(r)?(0,y.ys)(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=_({},e),i=this.key,a=this.defaultProps;r.default&&Object.assign(a,O(r,(function(e,t){return/^on/.test(t)?C(e,i):e}))),_e(this,r,"onProps"),Se(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return J(++this._lastCallId,{key:i,props:r,defaultProps:a,state:s,actions:{pause:function(){pe(n)||(me(n,!0),(0,v.bl)(s.pauseQueue),Se(n,"onPause",te(n,ge(n,n.animation.to)),n))},resume:function(){pe(n)&&(me(n,!1),fe(n)&&n._resume(),(0,v.bl)(s.resumeQueue),Se(n,"onResume",te(n,ge(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=ye(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(ne(this));var i=!v.is.und(e.to),a=!v.is.und(e.from);if(i||a){if(!(t.callId>this._lastToId))return n(ne(this));this._lastToId=t.callId}var o=this.key,s=this.defaultProps,u=this.animation,c=u.to,l=u.from,d=e.to,f=void 0===d?c:d,p=e.from,h=void 0===p?l:p;if(!a||i||t.default&&!v.is.und(f)||(f=h),t.reverse){var m=[h,f];f=m[0],h=m[1]}var g=!(0,v.Xy)(h,l);g&&(u.from=h),h=(0,v.je)(h);var b=!(0,v.Xy)(f,c);b&&this._focus(f);var w=L(t.to),k=u.config,x=k.decay,C=k.velocity;(i||a)&&(k.velocity=0),t.config&&!w&&function(e,t,n){for(var r in n&&(Y(n=_({},n),t),t=_({},n,t)),Y(e,t),Object.assign(e,t),q)null==e[r]&&(e[r]=q[r]);var i=e.mass,a=e.frequency,o=e.damping;v.is.und(a)||(a<.01&&(a=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/a,2)*i,e.friction=4*Math.PI*o*i/a)}(k,S(t.config,o),t.config!==s.config?S(s.config,o):void 0);var T=(0,y.ys)(this);if(!T||v.is.und(f))return n(te(this,!0));var A=v.is.und(t.reset)?a&&!t.default:!v.is.und(h)&&E(t.reset,o),O=A?h:this.get(),R=P(f),I=v.is.num(R)||v.is.arr(R)||(0,v.Df)(R),N=!w&&(!I||E(s.immediate||t.immediate,o));if(b){var M=(0,y.sb)(f);if(M!==T.constructor){if(!N)throw Error("Cannot animate between ".concat(T.constructor.name," and ").concat(M.name,', as the "to" prop suggests'));T=this._set(R)}}var D=T.constructor,F=(0,v.j$)(f),B=!1;if(!F){var j=A||!de(this)&&g;(b||j)&&(F=!(B=(0,v.Xy)(P(O),R))),((0,v.Xy)(u.immediate,N)||N)&&(0,v.Xy)(k.decay,x)&&(0,v.Xy)(k.velocity,C)||(F=!0)}if(B&&fe(this)&&(u.changed&&!A?F=!0:F||this._stop(c)),!w&&((F||(0,v.j$)(c))&&(u.values=T.getPayload(),u.toValues=(0,v.j$)(f)?null:D==y.eC?[1]:(0,v.qo)(R)),u.immediate!=N&&(u.immediate=N,N||A||this._set(c)),F)){var Z=u.onRest;(0,v.S6)(xe,(function(e){return _e(r,t,e)}));var V=te(this,ge(this,c));(0,v.bl)(this._pendingCalls,V),this._pendingCalls.add(n),u.changed&&v.Wn.batchedUpdates((function(){u.changed=!A,null==Z||Z(V,r),A?S(s.onRest,V):null==u.onStart||u.onStart(V,r)}))}A&&this._set(O),w?n(re(t.to,t,this._state,this)):F?this._start():fe(this)&&!b?this._pendingCalls.add(n):n(ee(O))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&((0,v.Ll)(this)&&this._detach(),t.to=e,(0,v.Ll)(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;(0,v.j$)(t)&&((0,v.UI)(t,this),se(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;(0,v.j$)(e)&&(0,v.iL)(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,v.je)(e);if(!v.is.und(r)){var i=(0,y.ys)(this);if(!i||!(0,v.Xy)(r,i.getValue())){var a=(0,y.sb)(r);i&&i.constructor==a?i.setValue(r):(0,y.f3)(this,a.create(r)),i&&v.Wn.batchedUpdates((function(){t._onChange(r,n)}))}}return(0,y.ys)(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,Se(this,"onStart",te(this,ge(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),S(this.animation.onChange,e,this)),S(this.defaultProps.onChange,e,this),(0,o.Z)((0,s.Z)(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;(0,y.ys)(this).reset((0,v.je)(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),fe(this)||(he(this,!0),pe(this)||this._resume())}},{key:"_resume",value:function(){v.OH.skipAnimation?this.finish():v.fT.start(this)}},{key:"_stop",value:function(e,t){if(fe(this)){he(this,!1);var n=this.animation;(0,v.S6)(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),(0,v.k0)(this,{type:"idle",parent:this});var r=t?ne(this.get()):te(this.get(),ge(this,null!=e?e:n.to));(0,v.bl)(this._pendingCalls,r),n.changed&&(n.changed=!1,Se(this,"onRest",r,this))}}}]),n}(ce);function ge(e,t){var n=P(t),r=P(e.get());return(0,v.Xy)(r,n)}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=S(t);if(r){var i=!0!==r&&N(r),a=(i||e).reverse,o=!i||i.reset;return be(_({},e,{loop:t,default:!1,pause:void 0,to:!a||L(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function be(e){var t=e=N(e),n=t.to,r=t.from,i=new Set;return v.is.obj(n)&&ke(n,i),v.is.obj(r)&&ke(r,i),e.keys=i.size?Array.from(i):null,e}function we(e){var t=be(e);return v.is.und(t.default)&&(t.default=O(t)),t}function ke(e,t){(0,v.rU)(e,(function(e,n){return null!=e&&t.add(n)}))}var xe=["onStart","onRest","onChange","onPause","onResume"];function _e(e,t,n){e.animation[n]=t[n]!==T(t,n)?C(t[n],e.key):void 0}function Se(e,t){for(var n,r,i,a,o,s,u=arguments.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];null==(i=(a=e.animation)[t])||(n=i).call.apply(n,[a].concat(c)),null==(o=(s=e.defaultProps)[t])||(r=o).call.apply(r,[s].concat(c))}var Ee=["onStart","onChange","onRest"],Ce=1,Te=function(){function e(t,n){(0,h.Z)(this,e),this.id=Ce++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(_({default:!0},t))}return(0,p.Z)(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];v.is.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(be(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=(0,v.qo)(e).map(be):this.queue=[],this._flush?this._flush(this,t):(Le(this,t),Ae(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;(0,v.S6)((0,v.qo)(t),(function(t){return n[t].stop(!!e)}))}else ie(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(v.is.und(e))this.start({pause:!0});else{var t=this.springs;(0,v.S6)((0,v.qo)(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(v.is.und(e))this.start({pause:!1});else{var t=this.springs;(0,v.S6)((0,v.qo)(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){(0,v.rU)(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,o=this._active.size>0,s=this._changed.size>0;(o&&!this._started||s&&!this._started)&&(this._started=!0,(0,v.yl)(n,(function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var u=!o&&this._started,c=s||u&&i.size?this.get():null;s&&r.size&&(0,v.yl)(r,(function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];i.value=c,r(i,e,e._item)})),u&&(this._started=!1,(0,v.yl)(i,(function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];i.value=c,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}v.Wn.onFrame(this._onFrame)}}]),e}();function Ae(e,t){return Promise.all(t.map((function(t){return Oe(e,t)}))).then((function(t){return $(e,t)}))}function Oe(e,t,n){return Re.apply(this,arguments)}function Re(){return Re=(0,f.Z)((0,d.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,p,h,m,g,y;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,a=n.to,o=n.from,s=n.loop,u=n.onRest,c=n.onResolve,l=v.is.obj(n.default)&&n.default,s&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null),(f=v.is.arr(a)||v.is.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,l&&(l.onRest=void 0)):(0,v.S6)(Ee,(function(e){var r=n[e];if(v.is.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},l&&(l[e]=n[e])}})),p=t._state,n.pause===!p.paused?(p.paused=n.pause,(0,v.bl)(n.pause?p.pauseQueue:p.resumeQueue)):p.paused&&(n.pause=!0),h=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),m=!0===n.cancel||!0===T(n,"cancel"),(f||m&&p.asyncId)&&h.push(J(++t._lastAsyncId,{props:n,state:p,actions:{pause:v.ZT,resume:v.ZT,start:function(e,n){m?(ie(p,t._lastAsyncId),n(ne(t))):(e.onRest=u,n(re(f,e,p,t)))}}})),!p.paused){e.next=15;break}return e.next=15,new Promise((function(e){p.resumeQueue.add(e)}));case 15:return e.t0=$,e.t1=t,e.next=19,Promise.all(h);case 19:if(e.t2=e.sent,g=(0,e.t0)(e.t1,e.t2),!s||!g.finished||r&&g.noop){e.next=26;break}if(!(y=ye(n,s,a))){e.next=26;break}return Le(t,[y]),e.abrupt("return",Oe(t,y,!0));case 26:return c&&v.Wn.batchedUpdates((function(){return c(g,t,t.item)})),e.abrupt("return",g);case 28:case"end":return e.stop()}}),e)}))),Re.apply(this,arguments)}function Ie(e,t){var n=_({},e.springs);return t&&(0,v.S6)((0,v.qo)(t),(function(e){v.is.und(e.keys)&&(e=be(e)),v.is.obj(e.to)||(e=_({},e,{to:void 0})),Me(n,e,(function(e){return Pe(e)}))})),Ne(e,n),n}function Ne(e,t){(0,v.rU)(t,(function(t,n){e.springs[n]||(e.springs[n]=t,(0,v.UI)(t,e))}))}function Pe(e,t){var n=new ve;return n.key=e,t&&(0,v.UI)(n,t),n}function Me(e,t,n){t.keys&&(0,v.S6)(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function Le(e,t){(0,v.S6)(t,(function(t){Me(e.springs,t,(function(t){return Pe(t,e)}))}))}function De(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Fe,Be,je=["children"],Ze=function(e){var t=e.children,n=De(e,je),r=(0,g.useContext)(Ve),i=n.pause||!!r.pause,a=n.immediate||!!r.immediate;n=(0,v.Pr)((function(){return{pause:i,immediate:a}}),[i,a]);var o=Ve.Provider;return g.createElement(o,{value:n},t)},Ve=(Fe=Ze,Be={},Object.assign(Fe,g.createContext(Be)),Fe.Provider._context=Fe,Fe.Consumer._context=Fe,Fe);Ze.Provider=Ve.Provider,Ze.Consumer=Ve.Consumer;var Ue=function(){var e=[],t=function(t){(0,v.ZR)();var r=[];return(0,v.S6)(e,(function(e,i){if(v.is.und(t))r.push(e.start());else{var a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return(0,v.S6)(e,(function(e){return e.pause.apply(e,(0,i.Z)(t))})),this},t.resume=function(){var t=arguments;return(0,v.S6)(e,(function(e){return e.resume.apply(e,(0,i.Z)(t))})),this},t.set=function(t){(0,v.S6)(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,r=[];return(0,v.S6)(e,(function(e,i){if(v.is.und(t))r.push(e.start());else{var a=n._getProps(t,e,i);a&&r.push(e.start(a))}})),r},t.stop=function(){var t=arguments;return(0,v.S6)(e,(function(e){return e.stop.apply(e,(0,i.Z)(t))})),this},t.update=function(t){var n=this;return(0,v.S6)(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return v.is.fun(e)?e(n,t):e};return t._getProps=n,t};function We(e,t,n){var r=arguments,a=v.is.fun(t)&&t;a&&!n&&(n=[]);var o=(0,g.useMemo)((function(){return a||3==r.length?Ue():void 0}),[]),s=(0,g.useRef)(0),u=(0,v.NW)(),c=(0,g.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=Ie(e,t);return s.current>0&&!c.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?Ae(e,t):new Promise((function(r){Ne(e,n),c.queue.push((function(){r(Ae(e,t))})),u()}))}}}),[]),l=(0,g.useRef)((0,i.Z)(c.ctrls)),d=[],f=(0,v.zH)(e)||0;function p(e,n){for(var r=e;r<n;r++){var i=l.current[r]||(l.current[r]=new Te(null,c.flush)),o=a?a(r,i):t[r];o&&(d[r]=we(o))}}(0,g.useMemo)((function(){(0,v.S6)(l.current.slice(e,f),(function(e){D(e,o),e.stop(!0)})),l.current.length=e,p(f,e)}),[e]),(0,g.useMemo)((function(){p(0,Math.min(f,e))}),n);var h=l.current.map((function(e,t){return Ie(e,d[t])})),m=(0,g.useContext)(Ze),y=(0,v.zH)(m),b=m!==y&&M(m);(0,v.LI)((function(){s.current++,c.ctrls=l.current;var e=c.queue;e.length&&(c.queue=[],(0,v.S6)(e,(function(e){return e()}))),(0,v.S6)(l.current,(function(e,t){null==o||o.add(e),b&&e.start({default:m});var n=d[t];n&&(F(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),(0,v.tf)((function(){return function(){(0,v.S6)(c.ctrls,(function(e){return e.stop(!0)}))}}));var w=h.map((function(e){return _({},e)}));return o?[w,o]:w}function He(e,t){var n=v.is.fun(e),r=We(1,n?e:[e],n?t||[]:t),i=(0,a.Z)(r,2),o=(0,a.Z)(i[0],1),s=o[0],u=i[1];return n||2==arguments.length?[s,u]:s}var ze,Ge=function(){return Ue()},qe=function(){return(0,g.useState)(Ge)[0]};function Ke(e,t,n){var r,i=v.is.fun(t)&&t;i&&!n&&(n=[]);var a=!0,o=void 0,s=We(e,(function(e,n){var r=i?i(e,n):t;return o=r.ref,a=a&&r.reverse,r}),n||[{}]),u=null!=(r=o)?r:s[1];return(0,v.LI)((function(){(0,v.S6)(u.current,(function(e,t){var n=u.current[t+(a?1:-1)];n?e.start({to:n.springs}):e.start()}))}),n),i||3==arguments.length?(u._getProps=function(e,t,n){var r=v.is.fun(e)?e(n,t):e;if(r){var i=u.current[n+(r.reverse?1:-1)];return i&&(r.to=i.springs),r}},s):(u.start=function(e){var t=[];return(0,v.S6)(u.current,(function(n,r){var i=v.is.fun(e)?e(r,n):e,o=u.current[r+(a?1:-1)];o?t.push(n.start(_({},i,{to:o.springs}))):t.push(n.start(_({},i)))})),t},s[0])}function Ye(e,t,n){var r=arguments,i=v.is.fun(t)&&t,a=i?i():t,o=a.reset,s=a.sort,u=a.trail,c=void 0===u?0:u,l=a.expires,d=void 0===l||l,f=a.exitBeforeEnter,p=void 0!==f&&f,h=a.onDestroyed,m=a.ref,y=a.config,b=(0,g.useMemo)((function(){return i||3==r.length?Ue():void 0}),[]),w=(0,v.qo)(e),k=[],x=(0,g.useRef)(null),E=o?null:x.current;(0,v.LI)((function(){x.current=k})),(0,v.tf)((function(){return(0,v.S6)(k,(function(e){null==b||b.add(e.ctrl),e.ctrl.ref=b})),function(){(0,v.S6)(x.current,(function(e){e.expired&&clearTimeout(e.expirationId),D(e.ctrl,b),e.ctrl.stop(!0)}))}}));var C=Qe(w,i?i():t,E),T=o&&x.current||[];(0,v.LI)((function(){return(0,v.S6)(T,(function(e){var t=e.ctrl,n=e.item,r=e.key;D(t,b),S(h,n,r)}))}));var A=[];if(E&&(0,v.S6)(E,(function(e,t){e.expired?(clearTimeout(e.expirationId),T.push(e)):~(t=A[t]=C.indexOf(e.key))&&(k[t]=e)})),(0,v.S6)(w,(function(e,t){k[t]||(k[t]={key:C[t],item:e,phase:ze.MOUNT,ctrl:new Te},k[t].ctrl.item=e)})),A.length){var R=-1,I=i?i():t,P=I.leave;(0,v.S6)(A,(function(e,t){var n=E[t];~e?(R=k.indexOf(n),k[R]=_({},n,{item:w[e]})):P&&k.splice(++R,0,n)}))}v.is.fun(s)&&k.sort((function(e,t){return s(e.item,t.item)}));var L=-c,B=(0,v.NW)(),j=O(t),Z=new Map,V=(0,g.useRef)(new Map),U=(0,g.useRef)(!1);(0,v.S6)(k,(function(e,n){var r,a,o=e.key,s=e.phase,u=i?i():t,l=S(u.delay||0,o);if(s==ze.MOUNT)r=u.enter,a=ze.ENTER;else{var f=C.indexOf(o)<0;if(s!=ze.LEAVE)if(f)r=u.leave,a=ze.LEAVE;else{if(!(r=u.update))return;a=ze.UPDATE}else{if(f)return;r=u.enter,a=ze.ENTER}}if(r=S(r,e.item,n),!(r=v.is.obj(r)?N(r):{to:r}).config){var h=y||j.config;r.config=S(h,e.item,n,a)}var g=_({},j,{delay:l+(L+=c),ref:m,immediate:u.immediate,reset:!1},r);if(a==ze.ENTER&&v.is.und(g.from)){var b=i?i():t,w=v.is.und(b.initial)||E?b.from:b.initial;g.from=S(w,e.item,n)}var k=g.onResolve;g.onResolve=function(e){S(k,e);var t=x.current,n=t.find((function(e){return e.key===o}));if(n&&(!e.cancelled||n.phase==ze.UPDATE)&&n.ctrl.idle){var r=t.every((function(e){return e.ctrl.idle}));if(n.phase==ze.LEAVE){var i=S(d,n.item);if(!1!==i){var a=!0===i?0:i;if(n.expired=!0,!r&&a>0)return void(a<=2147483647&&(n.expirationId=setTimeout(B,a)))}}r&&t.some((function(e){return e.expired}))&&(V.current.delete(n),p&&(U.current=!0),B())}};var T=Ie(e.ctrl,g);a===ze.LEAVE&&p?V.current.set(e,{phase:a,springs:T,payload:g}):Z.set(e,{phase:a,springs:T,payload:g})}));var W=(0,g.useContext)(Ze),H=(0,v.zH)(W),z=W!==H&&M(W);(0,v.LI)((function(){z&&(0,v.S6)(k,(function(e){e.ctrl.start({default:W})}))}),[W]),(0,v.S6)(Z,(function(e,t){if(V.current.size){var n=k.findIndex((function(e){return e.key===t.key}));k.splice(n,1)}})),(0,v.LI)((function(){(0,v.S6)(V.current.size?V.current:Z,(function(e,t){var n=e.phase,r=e.payload,i=t.ctrl;t.phase=n,null==b||b.add(i),z&&n==ze.ENTER&&i.start({default:W}),r&&(F(i,r.ref),!i.ref&&!b||U.current?(i.start(r),U.current&&(U.current=!1)):i.update(r))}))}),o?void 0:n);var G=function(e){return g.createElement(g.Fragment,null,k.map((function(t,n){var r=(Z.get(t)||t.ctrl).springs,i=e(_({},r),t.item,t,n);return i&&i.type?g.createElement(i.type,_({},i.props,{key:v.is.str(t.key)||v.is.num(t.key)?t.key:t.ctrl.id,ref:i.ref})):i})))};return b?[G,b]:G}!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(ze||(ze={}));var Xe=1;function Qe(e,t,n){var r=t.key,i=t.keys,a=void 0===i?r:i;if(null===a){var o=new Set;return e.map((function(e){var t=n&&n.find((function(t){return t.item===e&&t.phase!==ze.LEAVE&&!o.has(t)}));return t?(o.add(t),t.key):Xe++}))}return v.is.und(a)?e:v.is.fun(a)?e.map(a):(0,v.qo)(a)}var Je=["children"];function $e(e){return(0,e.children)(He(De(e,Je)))}var et=["items","children"];function tt(e){var t=e.items,n=e.children,r=De(e,et),i=Ke(t.length,r);return t.map((function(e,t){var r=n(e,t);return v.is.fun(r)?r(i[t]):r}))}var nt=["items","children"];function rt(e){var t=e.items,n=e.children;return Ye(t,De(e,nt))(n)}var it=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e,a){var o;(0,h.Z)(this,n),(o=t.call(this)).key=void 0,o.idle=!0,o.calc=void 0,o._active=new Set,o.source=e,o.calc=v.mD.apply(void 0,(0,i.Z)(a));var s=o._get(),u=(0,y.sb)(s);return(0,y.f3)((0,r.Z)(o),u.create(s)),o}return(0,p.Z)(n,[{key:"advance",value:function(e){var t=this._get(),n=this.get();(0,v.Xy)(t,n)||((0,y.ys)(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&ot(this._active)&&st(this)}},{key:"_get",value:function(){var e=v.is.arr(this.source)?this.source.map(v.je):(0,v.qo)((0,v.je)(this.source));return this.calc.apply(this,(0,i.Z)(e))}},{key:"_start",value:function(){var e=this;this.idle&&!ot(this._active)&&(this.idle=!1,(0,v.S6)((0,y.He)(this),(function(e){e.done=!1})),v.OH.skipAnimation?(v.Wn.batchedUpdates((function(){return e.advance()})),st(this)):v.fT.start(this))}},{key:"_attach",value:function(){var e=this,t=1;(0,v.S6)((0,v.qo)(this.source),(function(n){(0,v.j$)(n)&&(0,v.UI)(n,e),se(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;(0,v.S6)((0,v.qo)(this.source),(function(t){(0,v.j$)(t)&&(0,v.iL)(t,e)})),this._active.clear(),st(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=(0,v.qo)(this.source).reduce((function(e,t){return Math.max(e,(se(t)?t.priority:0)+1)}),0))}}]),n}(ce);function at(e){return!1!==e.idle}function ot(e){return!e.size||Array.from(e).every(at)}function st(e){e.idle||(e.idle=!0,(0,v.S6)((0,y.He)(e),(function(e){e.done=!0})),(0,v.k0)(e,{type:"idle",parent:e}))}var ut=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new it(e,n)},ct=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(0,v.LW)(),new it(e,n)};v.OH.assign({createStringInterpolator:v.qS,to:function(e,t){return new it(e,t)}});var lt=v.fT.advance},91315:function(e,t,n){"use strict";n.d(t,{B0:function(){return Ee},OH:function(){return U},UI:function(){return Te},k0:function(){return Se},O9:function(){return J},mD:function(){return ge},qS:function(){return je},dE:function(){return T},ZR:function(){return ze},LW:function(){return We},S6:function(){return R},rU:function(){return I},yl:function(){return P},bl:function(){return D},fT:function(){return q},Ll:function(){return _e},je:function(){return xe},j$:function(){return ke},is:function(){return A},Df:function(){return Ge},Xy:function(){return O},ZT:function(){return C},Wn:function(){return u},iL:function(){return Ae},qo:function(){return N},NW:function(){return Ke},LI:function(){return qe},Pr:function(){return Ye},tf:function(){return Xe},zH:function(){return Je},JZ:function(){return $e}});var r=n(29439),i=n(43144),a=n(15671),o=n(93433),s=_(),u=function(e){return b(e,s)},c=_();u.write=function(e){return b(e,c)};var l=_();u.onStart=function(e){return b(e,l)};var d=_();u.onFrame=function(e){return b(e,d)};var f=_();u.onFinish=function(e){return b(e,f)};var p=[];u.setTimeout=function(e,t){var n=u.now()+t,r={time:n,handler:e,cancel:function e(){var t=p.findIndex((function(t){return t.cancel==e}));~t&&p.splice(t,1),g-=~t?1:0}};return p.splice(h(n),0,r),g+=1,w(),r};var h=function(e){return~(~p.findIndex((function(t){return t.time>e}))||~p.length)};u.cancel=function(e){l.delete(e),d.delete(e),f.delete(e),s.delete(e),c.delete(e)},u.sync=function(e){y=!0,u.batchedUpdates(e),y=!1},u.throttle=function(e){var t;function n(){try{e.apply(void 0,(0,o.Z)(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,u.onStart(n)}return r.handler=e,r.cancel=function(){l.delete(n),t=null},r};var m="undefined"!=typeof window?window.requestAnimationFrame:function(){};u.use=function(e){return m=e},u.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,u.batchedUpdates=function(e){return e()},u.catch=console.error,u.frameLoop="always",u.advance=function(){"demand"!==u.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):x()};var v=-1,g=0,y=!1;function b(e,t){y?(t.delete(e),e(0)):(t.add(e),w())}function w(){v<0&&(v=0,"demand"!==u.frameLoop&&m(k))}function k(){~v&&(m(k),u.batchedUpdates(x))}function x(){var e=v;v=u.now();var t=h(v);t&&(S(p.splice(0,t),(function(e){return e.handler()})),g-=t),g?(l.flush(),s.flush(e?Math.min(64,v-e):16.667),d.flush(),c.flush(),f.flush()):v=-1}function _(){var e=new Set,t=e;return{add:function(n){g+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return g-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,g-=t.size,S(t,(function(t){return t(n)&&e.add(t)})),g+=e.size,t=e)}}}function S(e,t){e.forEach((function(e){try{t(e)}catch(n){u.catch(n)}}))}var E=n(72791);function C(){}var T=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},A={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function O(e,t){if(A.arr(e)){if(!A.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var R=function(e,t){return e.forEach(t)};function I(e,t,n){if(A.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var N=function(e){return A.und(e)?[]:A.arr(e)?e:[e]};function P(e,t){if(e.size){var n=Array.from(e);e.clear(),R(n,t)}}var M,L,D=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return P(e,(function(e){return e.apply(void 0,n)}))},F=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},B=null,j=!1,Z=C,V=function(e){e.to&&(L=e.to),e.now&&(u.now=e.now),void 0!==e.colors&&(B=e.colors),null!=e.skipAnimation&&(j=e.skipAnimation),e.createStringInterpolator&&(M=e.createStringInterpolator),e.requestAnimationFrame&&u.use(e.requestAnimationFrame),e.batchedUpdates&&(u.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Z=e.willAdvance),e.frameLoop&&(u.frameLoop=e.frameLoop)},U=Object.freeze({__proto__:null,get createStringInterpolator(){return M},get to(){return L},get colors(){return B},get skipAnimation(){return j},get willAdvance(){return Z},assign:V}),W=new Set,H=[],z=[],G=0,q={get idle(){return!W.size&&!H.length},start:function(e){G>e.priority?(W.add(e),u.onStart(K)):(Y(e),u(Q))},advance:Q,sort:function(e){if(G)u.onFrame((function(){return q.sort(e)}));else{var t=H.indexOf(e);~t&&(H.splice(t,1),X(e))}},clear:function(){H=[],W.clear()}};function K(){W.forEach(Y),W.clear(),u(Q)}function Y(e){H.includes(e)||X(e)}function X(e){H.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(H,(function(t){return t.priority>e.priority})),0,e)}function Q(e){for(var t=z,n=0;n<H.length;n++){var r=H[n];G=r.priority,r.idle||(Z(r),r.advance(e),r.idle||t.push(r))}return G=0,(z=H).length=0,(H=t).length>0}var J={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},$="[-+]?\\d*\\.?\\d+",ee=$+"%";function te(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var ne=new RegExp("rgb"+te($,$,$)),re=new RegExp("rgba"+te($,$,$,$)),ie=new RegExp("hsl"+te($,ee,ee)),ae=new RegExp("hsla"+te($,ee,ee,$)),oe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,se=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ue=/^#([0-9a-fA-F]{6})$/,ce=/^#([0-9a-fA-F]{8})$/;function le(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function de(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=le(i,r,e+1/3),o=le(i,r,e),s=le(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function fe(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function pe(e){return(parseFloat(e)%360+360)%360/360}function he(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function me(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function ve(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=ue.exec(e))?parseInt(t[1]+"ff",16)>>>0:B&&void 0!==B[e]?B[e]:(t=ne.exec(e))?(fe(t[1])<<24|fe(t[2])<<16|fe(t[3])<<8|255)>>>0:(t=re.exec(e))?(fe(t[1])<<24|fe(t[2])<<16|fe(t[3])<<8|he(t[4]))>>>0:(t=oe.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ce.exec(e))?parseInt(t[1],16)>>>0:(t=se.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ie.exec(e))?(255|de(pe(t[1]),me(t[2]),me(t[3])))>>>0:(t=ae.exec(e))?(de(pe(t[1]),me(t[2]),me(t[3]))|he(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var ge=function e(t,n,r){if(A.fun(t))return t;if(A.arr(t))return e({range:t,output:n,extrapolate:r});if(A.str(t.output[0]))return M(t);var i=t,a=i.output,o=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",c=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,a,o,s,u){var c=u?u(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=a(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,o[t],o[t+1],a[t],a[t+1],c,s,u,i.map)}};function ye(){return ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}var be=Symbol.for("FluidValue.get"),we=Symbol.for("FluidValue.observers"),ke=function(e){return Boolean(e&&e[be])},xe=function(e){return e&&e[be]?e[be]():e},_e=function(e){return e[we]||null};function Se(e,t){var n=e[we];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Ee=(0,i.Z)((function e(t){if((0,a.Z)(this,e),this[be]=void 0,this[we]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");Ce(this,t)})),Ce=function(e,t){return Re(e,be,t)};function Te(e,t){if(e[be]){var n=e[we];n||Re(e,we,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Ae(e,t){var n=e[we];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[we]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Oe,Re=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},Ie=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ne=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Pe=new RegExp("(".concat(Ie.source,")(%|[a-z]+)"),"i"),Me=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Le=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,De=function e(t){var n=Fe(t),i=(0,r.Z)(n,2),a=i[0],o=i[1];if(!a||F())return t;var s=window.getComputedStyle(document.documentElement).getPropertyValue(a);if(s)return s.trim();if(o&&o.startsWith("--")){var u=window.getComputedStyle(document.documentElement).getPropertyValue(o);return u||t}return o&&Le.test(o)?e(o):o||t},Fe=function(e){var t=Le.exec(e);if(!t)return[,];var n=(0,r.Z)(t,3);return[n[1],n[2]]},Be=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},je=function(e){Oe||(Oe=B?new RegExp("(".concat(Object.keys(B).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return xe(e).replace(Le,De).replace(Ne,ve).replace(Oe,ve)})),n=t.map((function(e){return e.match(Ie).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return ge(ye({},e,{output:t}))}));return function(e){var n,i=!Pe.test(t[0])&&(null==(n=t.find((function(e){return Pe.test(e)})))?void 0:n.replace(Ie,"")),a=0;return t[0].replace(Ie,(function(){return"".concat(r[a++](e)).concat(i||"")})).replace(Me,Be)}},Ze="react-spring: ",Ve=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(Ze,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},Ue=Ve(console.warn);function We(){Ue("".concat(Ze,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var He=Ve(console.warn);function ze(){He("".concat(Ze,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'))}function Ge(e){return A.str(e)&&("#"==e[0]||/\d/.test(e)||!F()&&Le.test(e)||e in(B||{}))}var qe=F()?E.useEffect:E.useLayoutEffect;function Ke(){var e=(0,E.useState)()[1],t=function(){var e=(0,E.useRef)(!1);return qe((function(){return e.current=!0,function(){e.current=!1}}),[]),e}();return function(){t.current&&e(Math.random())}}function Ye(e,t){var n=(0,E.useState)((function(){return{inputs:t,result:e()}})),i=(0,r.Z)(n,1)[0],a=(0,E.useRef)(),o=a.current,s=o;s?Boolean(t&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,s.inputs))||(s={inputs:t,result:e()}):s=i;return(0,E.useEffect)((function(){a.current=s,o==i&&(i.inputs=i.result=void 0)}),[s]),s.result}var Xe=function(e){return(0,E.useEffect)(e,Qe)},Qe=[];function Je(e){var t=(0,E.useRef)();return(0,E.useEffect)((function(){t.current=e})),t.current}var $e=function(){var e=(0,E.useState)(null),t=(0,r.Z)(e,2),n=t[0],i=t[1];return qe((function(){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(e){i(e.matches),V({skipAnimation:e.matches})};return t(e),e.addEventListener("change",t),function(){e.removeEventListener("change",t)}}),[]),n}},84538:function(){},29543:function(){},54753:function(e,t,n){"use strict";n.r(t),n.d(t,{a:function(){return R},animated:function(){return R}});var r=n(29439),i=n(43144),a=n(15671),o=n(60136),s=n(29388),u=n(18867),c={};for(var l in u)["default","a","animated"].indexOf(l)<0&&(c[l]=function(e){return u[e]}.bind(0,l));n.d(t,c);var d=n(54164),f=n(91315),p=n(46196);function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var m=["style","children","scrollTop","scrollLeft"],v=/^--/;function g(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||v.test(e)||b.hasOwnProperty(e)&&b[e]?(""+t).trim():t+"px"}var y={};var b={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w=["Webkit","Ms","Moz","O"];b=Object.keys(b).reduce((function(e,t){return w.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),b);var k=["x","y","z"],x=/^(matrix|translate|scale|rotate|skew)/,_=/^(translate)/,S=/^(rotate|skew)/,E=function(e,t){return f.is.num(e)&&0!==e?e+t:e},C=function e(t,n){return f.is.arr(t)?t.every((function(t){return e(t,n)})):f.is.num(t)?t===n:parseFloat(t)===n},T=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){(0,a.Z)(this,n);var i=e.x,o=e.y,s=e.z,u=h(e,k),c=[],l=[];return(i||o||s)&&(c.push([i||0,o||0,s||0]),l.push((function(e){return["translate3d(".concat(e.map((function(e){return E(e,"px")})).join(","),")"),C(e,0)]}))),(0,f.rU)(u,(function(e,t){if("transform"===t)c.push([e||""]),l.push((function(e){return[e,""===e]}));else if(x.test(t)){if(delete u[t],f.is.und(e))return;var n=_.test(t)?"px":S.test(t)?"deg":"";c.push((0,f.qo)(e)),l.push("rotate3d"===t?function(e){var t=(0,r.Z)(e,4),i=t[0],a=t[1],o=t[2],s=t[3];return["rotate3d(".concat(i,",").concat(a,",").concat(o,",").concat(E(s,n),")"),C(s,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return E(e,n)})).join(","),")"),C(e,t.startsWith("scale")?1:0)]})}})),c.length&&(u.transform=new A(c,l)),t.call(this,u)}return(0,i.Z)(n)}(p.rS),A=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),(i=t.call(this))._value=null,i.inputs=e,i.transforms=r,i}return(0,i.Z)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return(0,f.S6)(this.inputs,(function(i,a){var o=(0,f.je)(i[0]),s=e.transforms[a](f.is.arr(o)?o:i.map(f.je)),u=(0,r.Z)(s,2),c=u[0],l=u[1];t+=" "+c,n=n&&l})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&(0,f.S6)(this.inputs,(function(e){return(0,f.S6)(e,(function(e){return(0,f.j$)(e)&&(0,f.UI)(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&(0,f.S6)(this.inputs,(function(e){return(0,f.S6)(e,(function(e){return(0,f.j$)(e)&&(0,f.iL)(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),(0,f.k0)(this,e)}}]),n}(f.B0),O=["scrollTop","scrollLeft"];u.Globals.assign({batchedUpdates:d.unstable_batchedUpdates,createStringInterpolator:f.qS,colors:f.O9});var R=(0,p.Ld)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,i=r.style,a=r.children,o=r.scrollTop,s=r.scrollLeft,u=h(r,m),c=Object.values(u),l=Object.keys(u).map((function(t){return n||e.hasAttribute(t)?t:y[t]||(y[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var d in void 0!==a&&(e.textContent=a),i)if(i.hasOwnProperty(d)){var f=g(d,i[d]);v.test(d)?e.style.setProperty(d,f):e.style[d]=f}l.forEach((function(t,n){e.setAttribute(t,c[n])})),void 0!==o&&(e.scrollTop=o),void 0!==s&&(e.scrollLeft=s)},createAnimatedStyle:function(e){return new T(e)},getComponentProps:function(e){return h(e,O)}}).animated},71059:function(e,t,n){"use strict";n.r(t),n.d(t,{BodyPix:function(){return qi},PART_CHANNELS:function(){return va},blurBodyPart:function(){return ma},drawBokehEffect:function(){return ha},drawMask:function(){return fa},drawPixelatedMask:function(){return pa},flipPoseHorizontal:function(){return Mi},load:function(){return Xi},resizeAndPadTo:function(){return Ri},scaleAndCropToInputTensorShape:function(){return Ii},toColoredPartMask:function(){return sa},toMask:function(){return aa},version:function(){return ga}});var r={};n.r(r),n.d(r,{json:function(){return V}});var i={};n.r(i),n.d(i,{json:function(){return U}});var a={};n.r(a),n.d(a,{json:function(){return W}});var o={};n.r(o),n.d(o,{json:function(){return H}});var s={};n.r(s),n.d(s,{json:function(){return z}});var u={};n.r(u),n.d(u,{json:function(){return G}});var c={};n.r(c),n.d(c,{json:function(){return q}});var l={};n.r(l),n.d(l,{json:function(){return K}});var d={};n.r(d),n.d(d,{json:function(){return Y}});var f={};n.r(f),n.d(f,{json:function(){return X}});var p={};n.r(p),n.d(p,{json:function(){return Q}});var h={};n.r(h),n.d(h,{json:function(){return J}});var m={};n.r(m),n.d(m,{json:function(){return $}});var v={};n.r(v),n.d(v,{json:function(){return ee}});var g={};n.r(g),n.d(g,{json:function(){return te}});var y={};n.r(y),n.d(y,{json:function(){return ne}});var b={};n.r(b),n.d(b,{json:function(){return re}});var w={};n.r(w),n.d(w,{json:function(){return ie}});var k={};n.r(k),n.d(k,{json:function(){return ae}});var x={};n.r(x),n.d(x,{OP_SCOPE_SUFFIX:function(){return rn.zvA},abs:function(){return rn.WnP},acos:function(){return rn.Khb},acosh:function(){return rn.__u},add:function(){return rn.IHx},addN:function(){return rn.QBD},all:function(){return rn.$6P},any:function(){return rn.YjB},argMax:function(){return rn.NqF},argMin:function(){return rn.vHJ},asin:function(){return rn.ZRM},asinh:function(){return rn.VfV},atan:function(){return rn.z4N},atan2:function(){return rn.fvJ},atanh:function(){return rn.C80},avgPool:function(){return rn.wS1},avgPool3d:function(){return rn.uR5},basicLSTMCell:function(){return rn.zEQ},batchNorm:function(){return rn.tgs},batchNorm2d:function(){return rn.Dxk},batchNorm3d:function(){return rn.JY5},batchNorm4d:function(){return rn.p3b},batchToSpaceND:function(){return rn.E4h},bincount:function(){return rn.yE8},booleanMaskAsync:function(){return rn.anm},broadcastArgs:function(){return rn.XsQ},broadcastTo:function(){return rn.UFq},buffer:function(){return rn.f3b},cast:function(){return rn.pju},ceil:function(){return rn.mDi},clipByValue:function(){return rn.iUl},clone:function(){return rn.d9v},complex:function(){return rn.PYB},concat:function(){return rn.zoF},concat1d:function(){return rn.gME},concat2d:function(){return rn.Izb},concat3d:function(){return rn.MNy},concat4d:function(){return rn.ZaL},conv1d:function(){return rn.PAt},conv2d:function(){return rn.Tek},conv2dTranspose:function(){return rn.bc},conv3d:function(){return rn.pdZ},conv3dTranspose:function(){return rn.$QV},cos:function(){return rn.mCk},cosh:function(){return rn.f9Y},cosineWindow:function(){return rn.mew},cumprod:function(){return rn.$Gn},cumsum:function(){return rn.zbp},denseBincount:function(){return rn.ppE},depthToSpace:function(){return rn.nTT},depthwiseConv2d:function(){return rn.B10},diag:function(){return rn.Ka3},dilation2d:function(){return rn.WmZ},div:function(){return rn.hiC},divNoNan:function(){return rn.NTj},dot:function(){return rn.AKD},dropout:function(){return rn.rvX},einsum:function(){return rn.WYO},elu:function(){return rn.pyx},enclosingPowerOfTwo:function(){return rn.GRh},equal:function(){return rn.DgJ},erf:function(){return rn.qNN},euclideanNorm:function(){return rn.d2q},exp:function(){return rn.Qqt},expandDims:function(){return rn.dt4},expm1:function(){return rn.t$B},eye:function(){return rn.iyy},fft:function(){return rn.kp_},fill:function(){return rn.hlL},floor:function(){return rn.GWj},floorDiv:function(){return rn.qPi},fused:function(){return rn.imm},gather:function(){return rn.Iqj},gatherND:function(){return rn.dbB},greater:function(){return rn.pjt},greaterEqual:function(){return rn.brS},ifft:function(){return rn.Sxn},imag:function(){return rn.asL},image:function(){return rn.BHj},inTopKAsync:function(){return rn.V3u},irfft:function(){return rn.wx0},isFinite:function(){return rn.xVT},isInf:function(){return rn.UWc},isNaN:function(){return rn.i2d},leakyRelu:function(){return rn.hi7},less:function(){return rn.d9m},lessEqual:function(){return rn.zN1},linalg:function(){return rn.$r2},linspace:function(){return rn.SX3},localResponseNormalization:function(){return rn.G9k},log:function(){return rn.cM7},log1p:function(){return rn.Krr},logSigmoid:function(){return rn.e_t},logSoftmax:function(){return rn.CmS},logSumExp:function(){return rn.l_t},logicalAnd:function(){return rn.HvI},logicalNot:function(){return rn.hJK},logicalOr:function(){return rn.K5V},logicalXor:function(){return rn.egP},losses:function(){return rn.MB5},lowerBound:function(){return rn.eab},matMul:function(){return rn.OI3},max:function(){return rn.Fp7},maxPool:function(){return rn._sB},maxPool3d:function(){return rn.YQQ},maxPoolWithArgmax:function(){return rn.Ip$},maximum:function(){return rn.gWQ},mean:function(){return rn.J69},meshgrid:function(){return rn.ry_},min:function(){return rn.VV$},minimum:function(){return rn.LTh},mirrorPad:function(){return rn.VdP},mod:function(){return rn.wQq},moments:function(){return rn.Gi7},movingAverage:function(){return rn.p_},mul:function(){return rn.dC7},multiRNNCell:function(){return rn.rq4},multinomial:function(){return rn.SJ_},neg:function(){return rn.W76},norm:function(){return rn.KOy},notEqual:function(){return rn.Quu},oneHot:function(){return rn.lfX},ones:function(){return rn.iUs},onesLike:function(){return rn.JpU},op:function(){return rn.op},outerProduct:function(){return rn.N2O},pad:function(){return rn.vku},pad1d:function(){return rn.pNR},pad2d:function(){return rn.koy},pad3d:function(){return rn.t1L},pad4d:function(){return rn.lGY},pool:function(){return rn.d_R},pow:function(){return rn.sQ3},prelu:function(){return rn.AL3},print:function(){return rn.S0v},prod:function(){return rn.WVs},rand:function(){return rn.TN_},randomGamma:function(){return rn.wzB},randomNormal:function(){return rn.nGf},randomUniform:function(){return rn.LGj},range:function(){return rn.w6H},real:function(){return rn.kwC},reciprocal:function(){return rn.M25},relu:function(){return rn.UYe},relu6:function(){return rn.btT},reshape:function(){return rn.XLQ},reverse:function(){return rn.GYS},reverse1d:function(){return rn.SDf},reverse2d:function(){return rn.diP},reverse3d:function(){return rn.sx7},reverse4d:function(){return rn.mG2},rfft:function(){return rn.QEs},round:function(){return rn.NMM},rsqrt:function(){return rn.bp0},scalar:function(){return rn.iD$},scatterND:function(){return rn.snQ},searchSorted:function(){return rn.zcT},selu:function(){return rn.U8D},separableConv2d:function(){return rn.U_I},setdiff1dAsync:function(){return rn.ODp},sigmoid:function(){return rn.XD2},sign:function(){return rn.Xxe},signal:function(){return rn.tdS},sin:function(){return rn.O$l},sinh:function(){return rn.R_K},slice:function(){return rn.tPi},slice1d:function(){return rn.jZU},slice2d:function(){return rn.SmN},slice3d:function(){return rn.CnO},slice4d:function(){return rn.p0P},softmax:function(){return rn.XAC},softplus:function(){return rn.Wvh},spaceToBatchND:function(){return rn.fBT},sparse:function(){return rn.rVs},sparseToDense:function(){return rn.ers},spectral:function(){return rn.uN7},split:function(){return rn.Vl2},sqrt:function(){return rn._b3},square:function(){return rn.h62},squaredDifference:function(){return rn.$i},squeeze:function(){return rn.L9e},stack:function(){return rn.knu},step:function(){return rn.Nbs},stridedSlice:function(){return rn.NXj},string:function(){return rn.Z_8},sub:function(){return rn.luU},sum:function(){return rn.Smz},tan:function(){return rn.ORZ},tanh:function(){return rn.AEp},tensor:function(){return rn.XeE},tensor1d:function(){return rn.RRF},tensor2d:function(){return rn.odF},tensor3d:function(){return rn.wOQ},tensor4d:function(){return rn.yXz},tensor5d:function(){return rn.Bfx},tensor6d:function(){return rn.xZs},tile:function(){return rn.Gg6},topk:function(){return rn.hg7},transpose:function(){return rn.p4s},truncatedNormal:function(){return rn.Xu6},unique:function(){return rn.Two},unsortedSegmentSum:function(){return rn.pUJ},unstack:function(){return rn.HHK},upperBound:function(){return rn.GaM},variable:function(){return rn.VD$},where:function(){return rn.arb},whereAsync:function(){return rn.itS},zeros:function(){return rn.lls},zerosLike:function(){return rn.P84}});var _=n(87105);(0,_.env)().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")}));var S,E,C=n(74165),T=n(15861),A=n(15671),O=n(43144),R=n(29439),I=n(93433);!function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(S||(S={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(E||(E={}));var N={};function P(e){return N[e]}function M(e,t,n,r,i){var a=t.inputParams[e];if(a&&void 0!==a.inputIndexStart){var o=a.inputIndexStart,s=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?o+1:a.inputIndexEnd;if("tensor"===a.type)return L(t.inputNames[a.inputIndexStart],n,r,i);if("tensors"===a.type)return t.inputNames.slice(o,s).map((function(e){return L(e,n,r,i)}));var u=L(t.inputNames.slice(o)[0],n,r,i),c=u.dataSync();return"number"===a.type?c[0]:_.util.toNestedArray(u.shape,c)}var l=t.attrParams[e];return l&&l.value}function L(e,t,n,r){var i=B(e),a=(0,R.Z)(i,2),o=a[0],s=a[1];if(null!=r){var u=r.getHashTableHandleByName(o);if(null!=u)return u}var c=n.currentContextIds.find((function(e){return!!t[F(o,e)]}));return void 0!==c?t[F(o,c)][s]:void 0}function D(e,t){var n=B(e),r=(0,R.Z)(n,3),i=r[0],a=r[1],o=r[2];return[F(i,t&&t.currentContextId),a,o]}function F(e,t){return t?"".concat(e,"-").concat(t):e}function B(e){var t=e.split(":");if(1===t.length)return[e,0,void 0];var n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function j(e,t,n){var r=M("pad",e,t,n);if("explicit"===r){r=M("explicitPaddings",e,t,n);for(var i=[[0,0],[0,0],[0,0],[0,0]],a=0;a<4;a++)i[a][0]=r[2*a],i[a][1]=r[2*a+1];return i}return r}function Z(e){return e.kept?e:(0,_.clone)(e)}var V=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],U=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],W=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],H=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],z=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],G=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],q=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],K=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Y=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],X=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],Q=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],J=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],$=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],ee=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],te=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],ne=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],re=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],ie=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],ae=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],oe=function(){function e(){var t;(0,A.Z)(this,e);var n=[r,i,a,o,s,u,c,l,d,f,p,h,m,v,g,y,b,w,k],x=(t=[]).concat.apply(t,(0,I.Z)(n.map((function(e){return e.json}))));this.opMappers=x.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return(0,O.Z)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.node,i=[],a=[],o=[],s=r.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?i.push(e[n.name]):"Const"===n.op?a.push(e[n.name]):null!=n.input&&0!==n.input.length||o.push(e[n.name]),e}),{}),u=[],c=[],l={},d={};null!=n&&(l=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));var f=Object.keys(s);f.forEach((function(e){var t=s[e];t.inputNames.forEach((function(e,n){var r=D(e),i=(0,R.Z)(r,3),a=i[0],o=i[2],u=s[a];if(null!=u.outputs){var c=u.outputs.indexOf(o);if(-1!==c){var l="".concat(a,":").concat(c);t.inputNames[n]=l}}t.inputs.push(u),u.children.push(t)}))})),0===Object.keys(d).length?f.forEach((function(e){var t=s[e];0===t.children.length&&c.push(t)})):Object.keys(d).forEach((function(e){var t=D(e),n=(0,R.Z)(t,1)[0],r=s[n];null!=r&&(r.signatureKey=d[e],c.push(r))})),Object.keys(l).length>0?Object.keys(l).forEach((function(e){var t=D(e),n=(0,R.Z)(t,1)[0],r=s[n];r&&(r.signatureKey=l[e],u.push(r))})):u=i;var p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var h={nodes:s,inputs:u,outputs:c,weights:a,placeholders:i,signature:n,functions:p};return o.length>0&&(h.initNodes=o),h}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=P(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.slice(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,i=void 0;switch(n.type){case"string":void 0===(i=ue(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ue(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(i=ye(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(i=le(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(i=le(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(i=ge(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ge(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(i=ce(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ce(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(i=we(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=we(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(i=ve(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ve(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(i=be(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=be(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(i=pe(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=pe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(i=he(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=he(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(i=fe(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=fe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:i,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,r=[],i={};null!=n&&(i=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&r.push(e[n.name]),e}),{}));var a=[],o=[];e.signature.inputArg.forEach((function(e){var t=D(e.name),n=(0,R.Z)(t,1)[0],r={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:de(e.type),type:"dtype"}},children:[]};r.signatureKey=e.name,a.push(r),i[n]=r})),Object.keys(i).forEach((function(e){var t=i[e];t.inputNames.forEach((function(e,n){var r=D(e),a=(0,R.Z)(r,3),o=a[0],s=a[2],u=i[o];if(null!=u.outputs){var c=u.outputs.indexOf(s);if(-1!==c){var l="".concat(o,":").concat(c);t.inputNames[n]=l}}t.inputs.push(u),u.children.push(t)}))}));var s=e.ret;e.signature.outputArg.forEach((function(e){var t=D(s[e.name]),n=(0,R.Z)(t,2),r=n[0],a=n[1],u=i[r];null!=u&&(u.defaultOutput=a,o.push(u))}));var u=this.mapArgsToSignature(e);return{nodes:i,inputs:a,outputs:o,weights:r,placeholders:[],signature:u}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function se(e,t){var n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){var t=(0,_.env)().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function ue(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e[t];return null!=i?se(i.s,r):n}function ce(e,t,n){var r=e[t];return r?r.b:n}function le(e,t,n){var r=e[t]||{},i=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof i?i:parseInt(i,10)}function de(e){switch("string"===typeof e&&(e=S[e]),e){case S.DT_FLOAT:case S.DT_HALF:return"float32";case S.DT_INT32:case S.DT_INT64:case S.DT_INT8:case S.DT_UINT8:return"int32";case S.DT_BOOL:return"bool";case S.DT_DOUBLE:return"float32";case S.DT_STRING:return"string";default:return null}}function fe(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function pe(e,t,n){var r=e[t];return r&&r.type?de(r.type):n}function he(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return de(e)})):n}function me(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function ve(e,t,n){var r=e[t];return r&&r.shape?me(r.shape):n}function ge(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function ye(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e[t];return i&&i.list&&i.list.s?i.list.s.map((function(e){return se(e,r)})):n}function be(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return me(e)})):n}function we(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var ke=function(){function e(t,n,r){var i=this;(0,A.Z)(this,e),this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map((function(e){return i.getInput(e)})),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((function(e,t){return e[t]=i.getAttr(t),e}),{}))}return(0,O.Z)(e,[{key:"getInput",value:function(e){return L(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return L(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return le(this.node.rawAttrs,e,t);if(null!=n.s)return ue(this.node.rawAttrs,e,t);if(null!=n.b)return ce(this.node.rawAttrs,e,t);if(null!=n.shape)return ve(this.node.rawAttrs,e,t);if(null!=n.type)return pe(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return ge(this.node.rawAttrs,e,t);if(null!=n.list.s)return ye(this.node.rawAttrs,e,t);if(null!=n.list.shape)return be(this.node.rawAttrs,e,t);if(null!=n.list.b)return we(this.node.rawAttrs,e,t);if(null!=n.list.type)return he(this.node.rawAttrs,e,t)}return t}}]),e}(),xe=n(43312),_e=n(15506),Se=n(84645),Ee=n(30651),Ce=n(15750),Te=n(75923),Ae=n(67145),Oe=n(84774),Re=n(82273),Ie=n(70705),Ne=n(44334),Pe=n(7993),Me=n(7613),Le=n(1719),De=n(24502),Fe=n(33053),Be=n(30054),je=n(64778),Ze=n(32227),Ve=n(47897),Ue=n(31396),We=n(59253),He=n(21227),ze=n(46679),Ge=n(52353),qe=n(93891),Ke=n(411),Ye=n(15682),Xe=n(22628),Qe=n(40378),Je=n(95341),$e=n(76996),et=n(4362),tt=n(12209),nt=n(26972),rt=n(17539),it=n(60766),at=n(20413),ot=n(77643),st=n(87254),ut=n(2070),ct=n(57657),lt=n(54626),dt=n(46902),ft=n(7391),pt=n(11744),ht=n(66999),mt=n(89836),vt=n(65900),gt=n(65115),yt=n(67722),bt=n(74419),wt=n(96859),kt=n(37005);function xt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){_.util.assert(e.length===t.length,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}));for(var r=0;r<e.length;r++){var i=e[r],a=t[r];_.util.assert(i<0||a<0||i===a,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}}}function _t(e){return"number"!==typeof e&&!e.some((function(e){return e<0}))}function St(e,t,n){var r=Et(e,n),i=!_t(r);if(i&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(i&&t.forEach((function(e){r=Et(e.shape,r)})),!_t(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function Et(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));for(var n=[],r=0;r<e.length;++r){var i=e[r],a=t[r];if(i>=0&&a>=0&&i!==a)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=i>=0?i:a}return n}var Ct=function(){function e(t,n,r,i,a,o,s){(0,A.Z)(this,e),this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=i,this.identicalElementShapes=a,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=(0,_.scalar)(0),(0,_.keep)(this.idTensor)}return(0,O.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map((function(e){return t.read(e)}))}},{key:"write",value:function(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),xt(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,(0,_.keep)(t),n.written=!0,this.tensors[e]=n}},{key:"writeMany",value:function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach((function(e,r){return n.write(e,t[r])}))}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return(0,_.tensor)([],[0].concat(this.elementShape));var r=this.readMany(e);return xt(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),(0,_.stack)(r,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return(0,_.tensor)([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return xt(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(r[0].shape,")")),(0,_.concat)(r,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));var n=Math.max.apply(Math,(0,I.Z)(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,(0,_.unstack)(t,0))}},{key:"split",value:function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));var r=0,i=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");var a=0===r?0:t.size/r,o=[];(0,_.tidy)((function(){t=(0,_.reshape)(t,[1,r,a]);for(var s=0;s<e.length;++s){var u=[0,0===s?0:i[s-1],0],c=[1,e[s],a];o[s]=(0,_.reshape)((0,_.slice)(t,u,c),n.elementShape)}return o}));for(var s=[],u=0;u<e.length;u++)s[u]=u;this.writeMany(s,o)}}]),e}(),Tt=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;(0,A.Z)(this,e),this.tensors=t,this.elementShape=n,this.elementDtype=r,null!=t&&t.forEach((function(e){if(r!==e.dtype)throw new Error("Invalid data types; op elements ".concat(r,", but list elements ").concat(e.dtype));xt(n,e.shape,"TensorList shape mismatch: "),(0,_.keep)(e)})),this.idTensor=(0,_.scalar)(0),this.maxNumElements=i,(0,_.keep)(this.idTensor)}return(0,O.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"copy",value:function(){return new e((0,I.Z)(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==r&&this.tensors.length!==r)throw new Error("Operation expected a list with ".concat(r," elements but got a list with ").concat(this.tensors.length," elements."));xt(e,this.elementShape,"TensorList shape mismatch: ");var i=St(this.elementShape,this.tensors,e);return(0,_.tidy)((function(){var e=n.tensors.map((function(e){return(0,_.reshape)(e,i)}));return(0,_.stack)(e,0)}))}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");var n=St(this.elementShape,this.tensors,e),r=this.tensors.pop();return xt(r.shape,e,"TensorList shape mismatch: "),(0,_.reshape)(r,n)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(xt(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");(0,_.keep)(e),this.tensors.push(e)}},{key:"resize",value:function(t){if(t<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(t));if(-1!==this.maxNumElements&&t>this.maxNumElements)throw new Error("TensorListResize input size ".concat(t," is greater maxNumElement ").concat(this.maxNumElements,"."));var n=new e([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=t;for(var r=0;r<Math.min(this.tensors.length,t);++r)n.tensors[r]=this.tensors[r];return n}},{key:"getItem",value:function(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));xt(this.tensors[e].shape,t,"TensorList shape mismatch: ");var r=St(this.elementShape,this.tensors,t);return(0,_.reshape)(this.tensors[e],r)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));xt(this.elementShape,t.shape,"TensorList shape mismatch: "),(0,_.keep)(t),this.tensors[e]=t}},{key:"gather",value:function(e,t,n){var r=this;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));xt(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var i=St(this.elementShape,this.tensors,n);return 0===e.length?(0,_.tensor)([],[0].concat(i)):(0,_.tidy)((function(){var t=e.map((function(e){return(0,_.reshape)(r.tensors[e],i)}));return(0,_.stack)(t,0)}))}},{key:"concat",value:function(e,t){var n=this;if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));xt(this.elementShape,t,"TensorList shape mismatch: ");var r=St(this.elementShape,this.tensors,t);return 0===this.size()?(0,_.tensor)([],[0].concat(r)):(0,_.tidy)((function(){var e=n.tensors.map((function(e){return(0,_.reshape)(e,r)}));return(0,_.concat)(e,0)}))}}]),e}();function At(e,t,n){var r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));xt(e.shape.slice(1),t,"TensorList shape mismatch: ");var i=(0,_.unstack)(e);return new Tt(i,t,r)}function Ot(e,t,n){return new Tt([],e,t,n)}function Rt(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var i=Math.max.apply(Math,(0,I.Z)(t));if(null!=r&&-1!==r&&i>=r)throw new Error("Max index must be < array size (".concat(i,"  vs. ").concat(r,")"));var a=new Tt([],n,e.dtype,r),o=(0,_.unstack)(e,0);return t.forEach((function(e,t){a.setItem(e,o[t])})),a}function It(e,t,n){var r=0,i=t.map((function(e){return r+=e}));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));for(var a=Et(e.shape.slice(1),n),o=0===r?0:e.size/r,s=(0,_.tidy)((function(){var n=[];e=(0,_.reshape)(e,[1,r,o]);for(var s=0;s<t.length;++s){var u=[0,0===s?0:i[s-1],0],c=[1,t[s],o];n[s]=(0,_.reshape)((0,_.slice)(e,u,c),a)}return e.dispose(),n})),u=new Tt([],n,e.dtype,t.length),c=0;c<s.length;c++)u.setItem(c,s[c]);return u}var Nt=function(){var e=(0,T.Z)((0,C.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,d,f,p,h,m,v,g,y,b,w,k,x,S,E,T,A,O,R,I,N,P,D,F,B,j,V,U,W,H,z,G,q,K,Y,X,Q,J,$,ee,te,ne,re,ie,ae,oe,se,ue,ce,le,de,fe,pe,he,me,ve,ge,ye,be,we,ke,xe,_e,Se,Ee,Ce,Te,Ae,Oe,Re,Ie,Ne,Pe,Me,Le,De,Fe,Be,je,Ze,Ve,Ue,We,He,ze,Ge,qe,Ke,Ye,Xe,Qe,Je,$e,et,tt,nt;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="If"===e.t0||"StatelessIf"===e.t0?3:"While"===e.t0||"StatelessWhile"===e.t0?15:"LoopCond"===e.t0?19:"Switch"===e.t0?21:"Merge"===e.t0?32:"Enter"===e.t0?37:"Exit"===e.t0?41:"NextIteration"===e.t0?44:"TensorArrayV3"===e.t0?47:"TensorArrayWriteV3"===e.t0?57:"TensorArrayReadV3"===e.t0?63:"TensorArrayGatherV3"===e.t0?67:"TensorArrayScatterV3"===e.t0?72:"TensorArrayConcatV3"===e.t0?78:"TensorArraySplitV3"===e.t0?82:"TensorArraySizeV3"===e.t0?88:"TensorArrayCloseV3"===e.t0?91:"TensorListSetItem"===e.t0?95:"TensorListGetItem"===e.t0?101:"TensorListScatterV2"===e.t0||"TensorListScatter"===e.t0?107:"TensorListReserve"===e.t0||"EmptyTensorList"===e.t0?114:"TensorListGather"===e.t0?121:"TensorListStack"===e.t0?127:"TensorListFromTensor"===e.t0?133:"TensorListConcat"===e.t0||"TensorListConcatV2"===e.t0?139:"TensorListPushBack"===e.t0?144:"TensorListPopBack"===e.t0?149:"TensorListSplit"===e.t0?154:"TensorListLength"===e.t0?160:"TensorListResize"===e.t0?163:169;break;case 3:return i=M("thenBranch",t,n,r),a=M("elseBranch",t,n,r),o=M("cond",t,n,r),s=M("args",t,n,r),e.next=9,o.data();case 9:if(!e.sent[0]){e.next=14;break}return e.abrupt("return",r.functionMap[i].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 14:return e.abrupt("return",r.functionMap[a].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 15:return e.delegateYield((0,C.Z)().mark((function e(){var i,a,o,s,u,c,l,d;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=M("body",t,n,r),a=M("cond",t,n,r),o=M("args",t,n,r),e.next=5,r.functionMap[a].executeFunctionAsync(o,r.tensorArrayMap,r.tensorListMap);case 5:return s=e.sent,u=o.map((function(e){return e.id})),e.next=9,s[0].data();case 9:c=e.sent,s.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||e.dispose()})),l=o,d=(0,C.Z)().mark((function e(){var t,n,o;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l,e.next=3,r.functionMap[i].executeFunctionAsync(l,r.tensorArrayMap,r.tensorListMap);case 3:return l=e.sent,n=l.map((function(e){return e.id})),t.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()})),e.next=8,r.functionMap[a].executeFunctionAsync(l,r.tensorArrayMap,r.tensorListMap);case 8:return o=e.sent,e.next=11,o[0].data();case 11:c=e.sent,o.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()}));case 13:case"end":return e.stop()}}),e)}));case 13:if(!c[0]){e.next=17;break}return e.delegateYield(d(),"t0",15);case 15:e.next=13;break;case 17:return e.abrupt("return",{v:l});case 18:case"end":return e.stop()}}),e)}))(),"t1",16);case 16:if("object"!==typeof(u=e.t1)){e.next=19;break}return e.abrupt("return",u.v);case 19:return c=M("pred",t,n,r),e.abrupt("return",[Z(c)]);case 21:return l=M("pred",t,n,r),(d=M("data",t,n,r)).kept||(d=Z(d)),e.next=26,l.data();case 26:if(!e.sent[0]){e.next=30;break}e.t2=[void 0,d],e.next=31;break;case 30:e.t2=[d,void 0];case 31:return e.abrupt("return",e.t2);case 32:if(f=t.inputNames.find((function(e){return void 0!==L(e,n,r)})),!f){e.next=36;break}return p=L(f,n,r),e.abrupt("return",[Z(p)]);case 36:return e.abrupt("return",void 0);case 37:return h=M("frameName",t,n,r),m=M("tensor",t,n,r),r.enterFrame(h),e.abrupt("return",[Z(m)]);case 41:return v=M("tensor",t,n,r),r.exitFrame(),e.abrupt("return",[Z(v)]);case 44:return g=M("tensor",t,n,r),r.nextIteration(),e.abrupt("return",[Z(g)]);case 47:return y=M("size",t,n,r),b=M("dtype",t,n,r),w=M("elementShape",t,n,r),k=M("dynamicSize",t,n,r),x=M("clearAfterRead",t,n,r),S=M("identicalElementShapes",t,n,r),E=M("name",t,n,r),T=new Ct(E,b,y,w,S,k,x),r.addTensorArray(T),e.abrupt("return",[T.idTensor,(0,_.scalar)(1)]);case 57:return A=M("tensorArrayId",t,n,r),O=M("index",t,n,r),R=M("tensor",t,n,r),(I=r.getTensorArray(A.id)).write(O,R),e.abrupt("return",[I.idTensor]);case 63:return N=M("tensorArrayId",t,n,r),P=M("index",t,n,r),D=r.getTensorArray(N.id),e.abrupt("return",[D.read(P)]);case 67:return F=M("tensorArrayId",t,n,r),B=M("indices",t,n,r),j=M("dtype",t,n,r),V=r.getTensorArray(F.id),e.abrupt("return",[V.gather(B,j)]);case 72:return U=M("tensorArrayId",t,n,r),W=M("indices",t,n,r),H=M("tensor",t,n,r),(z=r.getTensorArray(U.id)).scatter(W,H),e.abrupt("return",[z.idTensor]);case 78:return G=M("tensorArrayId",t,n,r),q=r.getTensorArray(G.id),K=M("dtype",t,n,r),e.abrupt("return",[q.concat(K)]);case 82:return Y=M("tensorArrayId",t,n,r),X=M("tensor",t,n,r),Q=M("lengths",t,n,r),(J=r.getTensorArray(Y.id)).split(Q,X),e.abrupt("return",[J.idTensor]);case 88:return $=M("tensorArrayId",t,n,r),ee=r.getTensorArray($.id),e.abrupt("return",[(0,_.scalar)(ee.size(),"int32")]);case 91:return te=M("tensorArrayId",t,n,r),(ne=r.getTensorArray(te.id)).clearAndClose(),e.abrupt("return",[ne.idTensor]);case 95:return re=M("tensorListId",t,n,r),ie=M("index",t,n,r),ae=M("tensor",t,n,r),(oe=r.getTensorList(re.id)).setItem(ie,ae),e.abrupt("return",[oe.idTensor]);case 101:return se=M("tensorListId",t,n,r),ue=M("index",t,n,r),ce=M("elementShape",t,n,r),le=M("elementDType",t,n,r),de=r.getTensorList(se.id),e.abrupt("return",[de.getItem(ue,ce,le)]);case 107:return fe=M("indices",t,n,r),pe=M("tensor",t,n,r),he=M("elementShape",t,n,r),me=M("numElements",t,n,r),ve=Rt(pe,fe,he,me),r.addTensorList(ve),e.abrupt("return",[ve.idTensor]);case 114:return ge=M("elementShape",t,n,r),ye=M("elementDType",t,n,r),be="TensorListReserve"===t.op?"numElements":"maxNumElements",we=M(be,t,n,r),ke=Ot(ge,ye,we),r.addTensorList(ke),e.abrupt("return",[ke.idTensor]);case 121:return xe=M("tensorListId",t,n,r),_e=M("indices",t,n,r),Se=M("elementShape",t,n,r),Ee=M("elementDType",t,n,r),Ce=r.getTensorList(xe.id),e.abrupt("return",[Ce.gather(_e,Ee,Se)]);case 127:return Te=M("tensorListId",t,n,r),Ae=M("elementShape",t,n,r),Oe=M("elementDType",t,n,r),Re=M("numElements",t,n,r),Ie=r.getTensorList(Te.id),e.abrupt("return",[Ie.stack(Ae,Oe,Re)]);case 133:return Ne=M("tensor",t,n,r),Pe=M("elementShape",t,n,r),Me=M("elementDType",t,n,r),Le=At(Ne,Pe,Me),r.addTensorList(Le),e.abrupt("return",[Le.idTensor]);case 139:return De=M("tensorListId",t,n,r),Fe=r.getTensorList(De.id),Be=M("dtype",t,n,r),je=M("elementShape",t,n,r),e.abrupt("return",[Fe.concat(Be,je)]);case 144:return Ze=M("tensorListId",t,n,r),Ve=M("tensor",t,n,r),(Ue=r.getTensorList(Ze.id)).pushBack(Ve),e.abrupt("return",[Ue.idTensor]);case 149:return We=M("tensorListId",t,n,r),He=M("elementShape",t,n,r),ze=M("elementDType",t,n,r),Ge=r.getTensorList(We.id),e.abrupt("return",[Ge.popBack(He,ze)]);case 154:return qe=M("tensor",t,n,r),Ke=M("elementShape",t,n,r),Ye=M("lengths",t,n,r),Xe=It(qe,Ye,Ke),r.addTensorList(Xe),e.abrupt("return",[Xe.idTensor]);case 160:return Qe=M("tensorListId",t,n,r),Je=r.getTensorList(Qe.id),e.abrupt("return",[(0,_.scalar)(Je.size(),"int32")]);case 163:return $e=M("tensorListId",t,n,r),et=M("size",t,n,r),tt=r.getTensorList($e.id),nt=tt.resize(et),r.addTensorList(nt),e.abrupt("return",[nt.idTensor]);case 169:throw TypeError("Node type ".concat(t.op," is not implemented"));case 170:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Pt=n(44918),Mt=n(93457),Lt=n(97500),Dt=n(71732),Ft=n(61147),Bt=n(48113),jt=n(49204),Zt=n(85777),Vt=n(78811),Ut=n(65840),Wt=n(39185),Ht=n(57580);function zt(e,t,n){var r=M("fusedOps",e,t,n),i=(0,R.Z)(r,2),a=i[0],o=i[1],s="biasadd"===a,u=!s,c="prelu"===o,l="fusedbatchnorm"===a,d=M("numArgs",e,t,n);if(s){if(c&&2!==d)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!c&&s&&1!==d)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var f=M("strides",e,t,n),p=j(e,t,n),h=M("dataFormat",e,t,n).toUpperCase(),m=M("dilations",e,t,n),v=M("args",e,t,n),g=(0,R.Z)(v,2),y=g[0],b=g[1];return u&&(b=y,y=void 0),{stride:f,pad:p,dataFormat:h,dilations:m,biasArg:y,preluArg:b,activationFunc:o,leakyreluAlpha:M("leakyreluAlpha",e,t,n)}}var Gt=n(8582),qt=n(62453),Kt=n(4660),Yt=n(34326),Xt=n(86100),Qt=n(20773),Jt=n(16407),$t=n(422),en=n(52453),tn=n(87742),nn=n(87293),rn=n(13398),an=n(99118),on=n(41867),sn=n(24438);function un(e,t,n){return{boxes:M("boxes",e,t,n),scores:M("scores",e,t,n),maxOutputSize:M("maxOutputSize",e,t,n),iouThreshold:M("iouThreshold",e,t,n),scoreThreshold:M("scoreThreshold",e,t,n),softNmsSigma:M("softNmsSigma",e,t,n)}}var cn=function(){var e=(0,T.Z)((0,C.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,d,f,p,h,m,v,g,y,b,w,k,x,_,S,E,T,A;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="NonMaxSuppressionV5"===e.t0?3:"NonMaxSuppressionV4"===e.t0?8:"NonMaxSuppressionV3"===e.t0||"NonMaxSuppressionV2"===e.t0?14:"Where"===e.t0?19:"ListDiff"===e.t0?26:27;break;case 3:return i=un(t,n,r),a=i.boxes,o=i.scores,s=i.maxOutputSize,u=i.iouThreshold,c=i.scoreThreshold,l=i.softNmsSigma,e.next=6,rn.BHj.nonMaxSuppressionWithScoreAsync(a,o,s,u,c,l);case 6:return d=e.sent,e.abrupt("return",[d.selectedIndices,d.selectedScores]);case 8:return f=un(t,n,r),p=f.boxes,h=f.scores,m=f.maxOutputSize,v=f.iouThreshold,g=f.scoreThreshold,y=M("padToMaxOutputSize",t,n,r),e.next=12,rn.BHj.nonMaxSuppressionPaddedAsync(p,h,m,v,g,y);case 12:return b=e.sent,e.abrupt("return",[b.selectedIndices,b.validOutputs]);case 14:return w=un(t,n,r),k=w.boxes,x=w.scores,_=w.maxOutputSize,S=w.iouThreshold,E=w.scoreThreshold,e.next=17,rn.BHj.nonMaxSuppressionAsync(k,x,_,S,E);case 17:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 19:return T=an.p(M("condition",t,n,r),"bool"),e.next=22,on.i(T);case 22:return e.t2=e.sent,A=[e.t2],T.dispose(),e.abrupt("return",A);case 26:return e.abrupt("return",sn.O(M("x",t,n,r),M("y",t,n,r)));case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ln=n(94255),dn=n(29085),fn=n(16035),pn=n(74860),hn=n(92894),mn=n(27067),vn=function(){function e(t,n){(0,A.Z)(this,e),this.keyDType=t,this.valueDType=n,this.handle=(0,_.scalar)(0),this.tensorMap=new Map,(0,_.keep)(this.handle)}return(0,O.Z)(e,[{key:"id",get:function(){return this.handle.id}},{key:"clearAndClose",value:function(){this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return mn.i(this.size(),"int32")}},{key:"import",value:function(){var e=(0,T.Z)((0,C.Z)().mark((function e(t,n){var r,i=this;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),e.abrupt("return",(0,_.tidy)((function(){var e=(0,_.unstack)(n),t=r.length,a=e.length;_.util.assert(t===a,(function(){return"The number of elements doesn't match, keys has "+"".concat(t," elements, the values has ").concat(a," ")+"elements."}));for(var o=0;o<t;o++){var s=r[o],u=e[o];(0,_.keep)(u),i.tensorMap.set(s,u)}return i.handle})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=(0,T.Z)((0,C.Z)().mark((function e(t,n){var r,i=this;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,e.abrupt("return",(0,_.tidy)((function(){for(var e=[],t=0;t<r.length;t++){var a=r[t],o=i.findWithDefault(a,n);e.push(o)}return(0,_.stack)(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findWithDefault",value:function(e,t){var n=this.tensorMap.get(e);return null!=n?n:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}]),e}(),gn=function(){var e=(0,T.Z)((0,C.Z)().mark((function e(t,n,r,i){var a,o,s,u,c,l,d,f,p,h,m,v,g;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="HashTable"===e.t0||"HashTableV2"===e.t0?3:"LookupTableImport"===e.t0||"LookupTableImportV2"===e.t0?8:"LookupTableFind"===e.t0||"LookupTableFindV2"===e.t0?16:"LookupTableSize"===e.t0||"LookupTableSizeV2"===e.t0?24:27;break;case 3:return a=M("keyDType",t,n,r),o=M("valueDType",t,n,r),s=new vn(a,o),i.addHashTable(t.name,s),e.abrupt("return",[s.handle]);case 8:return u=M("tableHandle",t,n,r,i),c=M("keys",t,n,r),l=M("values",t,n,r),d=i.getHashTableById(u.id),e.next=14,d.import(c,l);case 14:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 16:return f=M("tableHandle",t,n,r,i),p=M("keys",t,n,r),h=M("defaultValue",t,n,r),m=i.getHashTableById(f.id),e.next=22,m.find(p,h);case 22:return e.t2=e.sent,e.abrupt("return",[e.t2]);case 24:return v=M("tableHandle",t,n,r,i),g=i.getHashTableById(v.id),e.abrupt("return",[g.tensorSize()]);case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),yn=n(63254),bn=n(15549),wn=n(35014),kn=n(18327),xn=n(44920),_n=n(12642),Sn=n(2177),En=n(30875),Cn=n(15117),Tn=n(10329),An=n(57221),On=n(58060),Rn=n(61240),In=n(13313),Nn=n(63700),Pn=n(40936),Mn=n(74910),Ln=n(54561),Dn=n(49991),Fn=n(56176),Bn=n(6568),jn=n(77891),Zn=n(40227),Vn=n(14108),Un=n(58543),Wn=n(29995),Hn=n(95157),zn=n(69457),Gn=n(58862),qn=n(77531),Kn=n(57419),Yn=n(34836),Xn=n(49498),Qn=n(34933),Jn=n(59238),$n=n(39017),er=n(83931),tr=n(75561),nr=n(18306),rr=n(54566),ir=n(42343),ar=n(82588),or=n(23522),sr=n(53357),ur=n(37635),cr=n(50530),lr=n(64617),dr=n(774),fr=n(72975),pr=n(27613),hr=n(71970),mr=n(65696),vr=n(36994),gr=n(91878),yr=n(49742),br=n(80238);function wr(e,t,n,r){var i=function(e,t,n){switch(e.category){case"arithmetic":return _.tidy((function(){return function(e,t,n){switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[xe.I(M("a",e,t,n),M("b",e,t,n))];case"AddN":return[_e.Q(M("tensors",e,t,n))];case"FloorMod":case"Mod":return[Se.w(M("a",e,t,n),M("b",e,t,n))];case"Mul":return[Ee.d(M("a",e,t,n),M("b",e,t,n))];case"RealDiv":case"Div":return[Ce.h(M("a",e,t,n),M("b",e,t,n))];case"DivNoNan":return[Te.N(M("a",e,t,n),M("b",e,t,n))];case"FloorDiv":return[Ae.q(M("a",e,t,n),M("b",e,t,n))];case"Sub":return[Oe.l(M("a",e,t,n),M("b",e,t,n))];case"Minimum":return[Re.L(M("a",e,t,n),M("b",e,t,n))];case"Maximum":return[Ie.g(M("a",e,t,n),M("b",e,t,n))];case"Pow":return[Ne.s(M("a",e,t,n),M("b",e,t,n))];case"SquaredDifference":return[Pe.$(M("a",e,t,n),M("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"basic_math":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Abs":case"ComplexAbs":return[Me.W(M("x",e,t,n))];case"Acos":return[Le.K(M("x",e,t,n))];case"Acosh":return[De._(M("x",e,t,n))];case"Asin":return[Fe.Z(M("x",e,t,n))];case"Asinh":return[Be.V(M("x",e,t,n))];case"Atan":return[je.z(M("x",e,t,n))];case"Atan2":return[Ze.f(M("x",e,t,n),M("y",e,t,n))];case"Atanh":return[Ve.C(M("x",e,t,n))];case"Ceil":return[Ue.m(M("x",e,t,n))];case"Complex":return[We.P(M("real",e,t,n),M("imag",e,t,n))];case"Cos":return[He.m(M("x",e,t,n))];case"Cosh":return[ze.f(M("x",e,t,n))];case"Elu":return[Ge.p(M("x",e,t,n))];case"Erf":return[qe.q(M("x",e,t,n))];case"Exp":return[Ke.Q(M("x",e,t,n))];case"Expm1":return[Ye.t(M("x",e,t,n))];case"Floor":return[Xe.G(M("x",e,t,n))];case"Log":return[Qe.c(M("x",e,t,n))];case"Log1p":return[Je.K(M("x",e,t,n))];case"Imag":return[$e.a(M("x",e,t,n))];case"Neg":return[et.W(M("x",e,t,n))];case"Reciprocal":return[tt.M(M("x",e,t,n))];case"Real":return[nt.k(M("x",e,t,n))];case"Relu":return[rt.U(M("x",e,t,n))];case"Round":return[it.N(M("x",e,t,n))];case"Selu":return[at.U(M("x",e,t,n))];case"Sigmoid":return[ot.X(M("x",e,t,n))];case"Sin":return[st.O(M("x",e,t,n))];case"Sign":return[ut.X(M("x",e,t,n))];case"Sinh":return[ct.R(M("x",e,t,n))];case"Softplus":return[lt.W(M("x",e,t,n))];case"Sqrt":return[dt._(M("x",e,t,n))];case"Square":return[ft.h(M("x",e,t,n))];case"Tanh":return[pt.A(M("x",e,t,n))];case"Tan":return[ht.O(M("x",e,t,n))];case"ClipByValue":return[mt.i(M("x",e,t,n),M("clipValueMin",e,t,n),M("clipValueMax",e,t,n))];case"Relu6":return[vt.b(M("x",e,t,n))];case"Rsqrt":return[gt.b(L(e.inputNames[0],t,n))];case"Prod":return[yt.W(M("x",e,t,n),M("axes",e,t,n))];case"LeakyRelu":return[bt.h(M("x",e,t,n),M("alpha",e,t,n))];case"Prelu":return[wt.A(M("x",e,t,n),M("alpha",e,t,n))];case"IsNan":return[kt.i(L(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"control":return Nt(e,t,n);case"convolution":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Conv1D":var r=M("stride",e,t,n),i=M("pad",e,t,n),a=M("dataFormat",e,t,n).toUpperCase(),o=M("dilation",e,t,n);return[Pt.P(M("x",e,t,n),M("filter",e,t,n),r,i,a,o)];case"Conv2D":var s=M("strides",e,t,n),u=j(e,t,n),c=M("dataFormat",e,t,n).toUpperCase(),l=M("dilations",e,t,n);return[Mt.T(M("x",e,t,n),M("filter",e,t,n),[s[1],s[2]],u,c,[l[1],l[2]])];case"_FusedConv2D":var d=zt(e,t,n),f=d.stride,p=d.pad,h=d.dataFormat,m=d.dilations,v=d.biasArg,g=d.preluArg,y=d.activationFunc,b=d.leakyreluAlpha;return[Lt.conv2d({x:M("x",e,t,n),filter:M("filter",e,t,n),strides:[f[1],f[2]],pad:p,dataFormat:h,dilations:[m[1],m[2]],bias:v,activation:y,preluActivationWeights:g,leakyreluAlpha:b})];case"FusedDepthwiseConv2dNative":var w=zt(e,t,n),k=w.stride,x=w.pad,_=w.dataFormat,S=w.dilations,E=w.biasArg,C=w.preluArg,T=w.activationFunc,A=w.leakyreluAlpha;return[Lt.depthwiseConv2d({x:M("x",e,t,n),filter:M("filter",e,t,n),strides:[k[1],k[2]],pad:x,dataFormat:_,dilations:[S[1],S[2]],bias:E,activation:T,preluActivationWeights:C,leakyreluAlpha:A})];case"Conv2DBackpropInput":case"Conv2dTranspose":var O=M("outputShape",e,t,n),R=M("strides",e,t,n),I=j(e,t,n);return[Dt.b(M("x",e,t,n),M("filter",e,t,n),O,[R[1],R[2]],I)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var N=M("strides",e,t,n),P=j(e,t,n),L=M("dilations",e,t,n),D=M("dataFormat",e,t,n).toUpperCase();return[Ft.B(M("input",e,t,n),M("filter",e,t,n),[N[1],N[2]],P,D,[L[1],L[2]])];case"Conv3D":var F=M("strides",e,t,n),B=M("pad",e,t,n),Z=M("dataFormat",e,t,n).toUpperCase(),V=M("dilations",e,t,n);return[Bt.p(M("x",e,t,n),M("filter",e,t,n),[F[1],F[2],F[3]],B,Z,[V[1],V[2],V[3]])];case"AvgPool":var U=M("strides",e,t,n),W=M("pad",e,t,n),H=M("kernelSize",e,t,n);return[jt.w(M("x",e,t,n),[H[1],H[2]],[U[1],U[2]],W)];case"MaxPool":var z=M("strides",e,t,n),G=M("pad",e,t,n),q=M("kernelSize",e,t,n);return[Zt._(M("x",e,t,n),[q[1],q[2]],[z[1],z[2]],G)];case"MaxPoolWithArgmax":var K=M("strides",e,t,n),Y=M("pad",e,t,n),X=M("kernelSize",e,t,n),Q=M("includeBatchInIndex",e,t,n),J=Vt.I(M("x",e,t,n),[X[1],X[2]],[K[1],K[2]],Y,Q);return[J.result,J.indexes];case"AvgPool3D":var $=M("strides",e,t,n),ee=M("pad",e,t,n),te=M("kernelSize",e,t,n);return[Ut.u(M("x",e,t,n),[te[1],te[2],te[3]],[$[1],$[2],$[3]],ee)];case"MaxPool3D":var ne=M("strides",e,t,n),re=M("pad",e,t,n),ie=M("kernelSize",e,t,n);return[Wt.Y(M("x",e,t,n),[ie[1],ie[2],ie[3]],[ne[1],ne[2],ne[3]],re)];case"Dilation2D":var ae=M("strides",e,t,n),oe=M("pad",e,t,n),se=M("dilations",e,t,n),ue=ae[1],ce=ae[2],le=se[1],de=se[2];return[Ht.W(M("x",e,t,n),M("filter",e,t,n),[ue,ce],oe,[le,de],"NHWC")];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"creation":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Fill":var r=M("shape",e,t,n),i=M("dtype",e,t,n),a=M("value",e,t,n);return[Gt.h(r,a,i)];case"LinSpace":var o=M("start",e,t,n),s=M("stop",e,t,n),u=M("num",e,t,n);return[qt.S(o,s,u)];case"Multinomial":var c=M("logits",e,t,n),l=M("numSamples",e,t,n),d=M("seed",e,t,n);return[Kt.S(c,l,d)];case"OneHot":var f=M("indices",e,t,n),p=M("depth",e,t,n),h=M("onValue",e,t,n),m=M("offValue",e,t,n);return[Yt.l(f,p,h,m)];case"Ones":return[Xt.i(M("shape",e,t,n),M("dtype",e,t,n))];case"OnesLike":return[Qt.J(M("x",e,t,n))];case"RandomUniform":return[Jt.L(M("shape",e,t,n),M("minval",e,t,n),M("maxval",e,t,n),M("dtype",e,t,n))];case"Range":var v=M("start",e,t,n),g=M("stop",e,t,n),y=M("step",e,t,n);return[$t.w(v,g,y,M("dtype",e,t,n))];case"TruncatedNormal":var b=M("shape",e,t,n),w=M("mean",e,t,n),k=M("stdDev",e,t,n),x=M("seed",e,t,n);return[en.X(b,w,k,M("dtype",e,t,n),x)];case"Zeros":return[tn.l(M("shape",e,t,n),M("dtype",e,t,n))];case"ZerosLike":return[nn.P(M("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"dynamic":return cn(e,t,n);case"evaluation":return _.tidy((function(){return function(e,t,n){switch(e.op){case"LowerBound":var r=M("sortedSequence",e,t,n),i=M("values",e,t,n);return[ln.e(r,i)];case"TopKV2":var a=M("x",e,t,n),o=M("k",e,t,n),s=M("sorted",e,t,n),u=dn.h(a,o,s);return[u.values,u.indices];case"UpperBound":var c=M("sortedSequence",e,t,n),l=M("values",e,t,n);return[fn.G(c,l)];case"Unique":var d=M("x",e,t,n),f=pn.T(d);return[f.values,f.indices];case"UniqueV2":var p=M("x",e,t,n),h=M("axis",e,t,n),m=pn.T(p,h);return[m.values,m.indices];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"image":return _.tidy((function(){return function(e,t,n){switch(e.op){case"ResizeBilinear":var r=M("images",e,t,n),i=M("size",e,t,n),a=M("alignCorners",e,t,n),o=M("halfPixelCenters",e,t,n);return[rn.BHj.resizeBilinear(r,[i[0],i[1]],a,o)];case"ResizeNearestNeighbor":var s=M("images",e,t,n),u=M("size",e,t,n),c=M("alignCorners",e,t,n),l=M("halfPixelCenters",e,t,n);return[rn.BHj.resizeNearestNeighbor(s,[u[0],u[1]],c,l)];case"CropAndResize":var d=M("image",e,t,n),f=M("boxes",e,t,n),p=M("boxInd",e,t,n),h=M("cropSize",e,t,n),m=M("method",e,t,n),v=M("extrapolationValue",e,t,n);return[rn.BHj.cropAndResize(d,f,p,h,m,v)];case"ImageProjectiveTransformV3":var g=M("images",e,t,n),y=M("transforms",e,t,n),b=M("outputShape",e,t,n),w=M("fillValue",e,t,n),k=M("interpolation",e,t,n),x=M("fillMode",e,t,n);return[rn.BHj.transform(g,y,k.toLowerCase(),x.toLowerCase(),w,b)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"graph":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var r=M("default",e,t,n);return[L(e.name,t,n)||r];case"Placeholder":return[L(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[Z(M("x",e,t,n))];case"IdentityN":return M("x",e,t,n).map((function(e){return Z(e)}));case"Shape":return[hn.R(M("x",e,t,n).shape,"int32")];case"ShapeN":return M("x",e,t,n).map((function(e){return hn.R(e.shape)}));case"Size":return[mn.i(M("x",e,t,n).size,"int32")];case"Rank":return[mn.i(M("x",e,t,n).rank,"int32")];case"NoOp":return[mn.i(1)];case"Print":var i=M("x",e,t,n),a=M("data",e,t,n),o=M("message",e,t,n),s=M("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(o);for(var u=0;u<a.length;u++)console.log(Array.prototype.slice.call(a[u].dataSync()).slice(0,s));return[i];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"logical":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Equal":return[yn.D(M("a",e,t,n),M("b",e,t,n))];case"NotEqual":return[bn.Q(M("a",e,t,n),M("b",e,t,n))];case"Greater":return[wn.p(M("a",e,t,n),M("b",e,t,n))];case"GreaterEqual":return[kn.b(M("a",e,t,n),M("b",e,t,n))];case"Less":return[xn.d(M("a",e,t,n),M("b",e,t,n))];case"LessEqual":return[_n.z(M("a",e,t,n),M("b",e,t,n))];case"LogicalAnd":return[Sn.H(M("a",e,t,n),M("b",e,t,n))];case"LogicalNot":return[En.h(M("a",e,t,n))];case"LogicalOr":return[Cn.K(M("a",e,t,n),M("b",e,t,n))];case"Select":case"SelectV2":return[Tn.a(M("condition",e,t,n),M("a",e,t,n),M("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"matrices":return _.tidy((function(){return function(e,t,n){switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[An.O(M("a",e,t,n),M("b",e,t,n),M("transposeA",e,t,n),M("transposeB",e,t,n))];case"Einsum":return[On.W.apply(x,[M("equation",e,t,n)].concat((0,I.Z)(M("tensors",e,t,n))))];case"Transpose":return[Rn.p(M("x",e,t,n),M("perm",e,t,n))];case"_FusedMatMul":var r=M("fusedOps",e,t,n),i=(0,R.Z)(r,2),a=i[0],o=i[1],s="biasadd"===a,u="prelu"===o,c=M("numArgs",e,t,n),l=M("leakyreluAlpha",e,t,n);if(s){if(u&&2!==c)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&1!==c)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var d=M("args",e,t,n),f=(0,R.Z)(d,2),p=f[0],h=f[1];return[Lt.matMul({a:M("a",e,t,n),b:M("b",e,t,n),transposeA:M("transposeA",e,t,n),transposeB:M("transposeB",e,t,n),bias:p,activation:o,preluActivationWeights:h,leakyreluAlpha:l})];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"normalization":return _.tidy((function(){return function(e,t,n){switch(e.op){case"EuclideanNorm":return[In.d(M("x",e,t,n),M("axis",e,t,n),M("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[Nn.t(M("x",e,t,n),M("mean",e,t,n),M("variance",e,t,n),M("offset",e,t,n),M("scale",e,t,n),M("epsilon",e,t,n))];case"LRN":return[Pn.G(M("x",e,t,n),M("radius",e,t,n),M("bias",e,t,n),M("alpha",e,t,n),M("beta",e,t,n))];case"Softmax":return[Mn.X(M("x",e,t,n))];case"LogSoftmax":return[Ln.C(M("x",e,t,n))];case"SparseToDense":return[Dn.e(M("sparseIndices",e,t,n),M("outputShape",e,t,n),M("sparseValues",e,t,n),M("defaultValue",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"reduction":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Max":var r=M("axis",e,t,n),i=M("keepDims",e,t,n);return[Fn.F(M("x",e,t,n),r,i)];case"Mean":var a=M("axis",e,t,n),o=M("keepDims",e,t,n);return[Bn.J(M("x",e,t,n),a,o)];case"Min":var s=M("axis",e,t,n),u=M("keepDims",e,t,n);return[jn.V(M("x",e,t,n),s,u)];case"Sum":var c=M("axis",e,t,n),l=M("keepDims",e,t,n);return[Zn.S(M("x",e,t,n),c,l)];case"All":var d=M("axis",e,t,n),f=M("keepDims",e,t,n);return[Vn.$(M("x",e,t,n),d,f)];case"Any":var p=M("axis",e,t,n),h=M("keepDims",e,t,n);return[Un.Y(M("x",e,t,n),p,h)];case"ArgMax":var m=M("axis",e,t,n);return[Wn.N(M("x",e,t,n),m)];case"ArgMin":var v=M("axis",e,t,n);return[Hn.v(M("x",e,t,n),v)];case"Prod":var g=M("axis",e,t,n),y=M("keepDims",e,t,n);return[yt.W(M("x",e,t,n),g,y)];case"Cumprod":var b=M("axis",e,t,n),w=M("exclusive",e,t,n),k=M("reverse",e,t,n);return[zn.$(M("x",e,t,n),b,w,k)];case"Cumsum":var x=M("axis",e,t,n),_=M("exclusive",e,t,n),S=M("reverse",e,t,n);return[Gn.z(M("x",e,t,n),x,_,S)];case"Bincount":var E=M("x",e,t,n),C=M("weights",e,t,n),T=M("size",e,t,n);return[qn.y(E,C,T)];case"DenseBincount":var A=M("x",e,t,n),O=M("weights",e,t,n),R=M("size",e,t,n),I=M("binaryOutput",e,t,n);return[Kn.p(A,O,R,I)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"slice_join":return _.tidy((function(){return function(e,t,n){switch(e.op){case"ConcatV2":case"Concat":var r=M("n",e,t,n),i=M("axis",e,t,n),a=M("tensors",e,t,n);return a=a.slice(0,r),[Yn.z(a,i)];case"Gather":var o=M("x",e,t,n),s=M("indices",e,t,n);return[Xn.I(o,an.p(s,"int32"),0)];case"GatherV2":var u=M("axis",e,t,n),c=M("batchDims",e,t,n),l=M("x",e,t,n),d=M("indices",e,t,n);return[Xn.I(l,an.p(d,"int32"),u,c)];case"Reverse":for(var f=M("dims",e,t,n),p=[],h=0;h<f.length;h++)f[h]&&p.push(h);var m=M("x",e,t,n);return[Qn.G(m,p)];case"ReverseV2":var v=M("axis",e,t,n),g=M("x",e,t,n);return[Qn.G(g,v)];case"Slice":var y=M("begin",e,t,n),b=M("size",e,t,n);return[Jn.t(M("x",e,t,n),y,b)];case"StridedSlice":var w=M("begin",e,t,n),k=M("end",e,t,n),x=M("strides",e,t,n),S=M("beginMask",e,t,n),E=M("endMask",e,t,n),C=M("ellipsisMask",e,t,n),T=M("newAxisMask",e,t,n),A=M("shrinkAxisMask",e,t,n),O=M("x",e,t,n);return[$n.N(O,w,k,x,S,E,C,T,A)];case"Pack":return(0,_.tidy)((function(){var r=M("axis",e,t,n),i=M("tensors",e,t,n),a=i[0].shape,o=er.L(i[0]).shape,s=i.map((function(e){var t=_.util.arraysEqual(e.shape,a);if(!t&&!_.util.arraysEqual(er.L(e).shape,o))throw new Error("the input tensors shape does not match");return t?e:tr.X(e,a)}));return[nr.k(s,r)]}));case"Unpack":var R=M("axis",e,t,n),I=M("tensor",e,t,n);return rr.H(I,R);case"Tile":var N=M("reps",e,t,n);return[ir.G(M("x",e,t,n),N)];case"Split":case"SplitV":var P=M("axis",e,t,n),L=M("numOrSizeSplits",e,t,n),D=M("x",e,t,n);return ar.V(D,L,P);case"ScatterNd":var F=M("indices",e,t,n),B=M("values",e,t,n),j=M("shape",e,t,n);return[or.s(F,B,j)];case"GatherNd":var Z=M("x",e,t,n),V=M("indices",e,t,n);return[sr.d(Z,V)];case"SparseToDense":var U=M("sparseIndices",e,t,n),W=M("outputShape",e,t,n),H=M("sparseValues",e,t,n),z=M("defaultValue",e,t,n);return[Dn.e(U,H,W,H.dtype===z.dtype?z:an.p(z,H.dtype))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"sparse":return _.tidy((function(){return function(e,t,n){switch(e.op){case"SparseFillEmptyRows":var r=rn.rVs.sparseFillEmptyRows(M("indices",e,t,n),M("values",e,t,n),M("denseShape",e,t,n),M("defaultValue",e,t,n));return[r.outputIndices,r.outputValues,r.emptyRowIndicator,r.reverseIndexMap];case"SparseReshape":var i=rn.rVs.sparseReshape(M("inputIndices",e,t,n),M("inputShape",e,t,n),M("newShape",e,t,n));return[i.outputIndices,i.outputShape];case"SparseSegmentMean":return[rn.rVs.sparseSegmentMean(M("data",e,t,n),M("indices",e,t,n),M("segmentIds",e,t,n))];case"SparseSegmentSum":return[rn.rVs.sparseSegmentSum(M("data",e,t,n),M("indices",e,t,n),M("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"spectral":return _.tidy((function(){return function(e,t,n){switch(e.op){case"FFT":return[ur.k(M("x",e,t,n))];case"IFFT":return[cr.S(M("x",e,t,n))];case"RFFT":return[lr.Q(M("x",e,t,n))];case"IRFFT":return[dr.w(M("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"string":return _.tidy((function(){return function(e,t,n){switch(e.op){case"StringNGrams":var r=rn.Z_8.stringNGrams(M("data",e,t,n),M("dataSplits",e,t,n),M("separator",e,t,n),M("nGramWidths",e,t,n),M("leftPad",e,t,n),M("rightPad",e,t,n),M("padWidth",e,t,n),M("preserveShortSequences",e,t,n));return[r.nGrams,r.nGramsSplits];case"StringSplit":var i=rn.Z_8.stringSplit(M("input",e,t,n),M("delimiter",e,t,n),M("skipEmpty",e,t,n));return[i.indices,i.values,i.shape];case"StringToHashBucketFast":return[rn.Z_8.stringToHashBucketFast(M("input",e,t,n),M("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"transformation":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Cast":return[an.p(M("x",e,t,n),M("dtype",e,t,n))];case"ExpandDims":var r=M("axis",e,t,n);return[fr.d(M("x",e,t,n),r)];case"Squeeze":var i=M("axis",e,t,n);return[er.L(M("x",e,t,n),i)];case"Reshape":return[tr.X(M("x",e,t,n),M("shape",e,t,n))];case"MirrorPad":return[pr.V(M("x",e,t,n),M("padding",e,t,n),M("mode",e,t,n))];case"PadV2":case"Pad":return[hr.v(M("x",e,t,n),M("padding",e,t,n),M("constantValue",e,t,n))];case"SpaceToBatchND":var a=M("blockShape",e,t,n),o=M("paddings",e,t,n);return[mr.f(M("x",e,t,n),a,o)];case"BatchToSpaceND":var s=M("blockShape",e,t,n),u=M("crops",e,t,n);return[vr.E(M("x",e,t,n),s,u)];case"DepthToSpace":var c=M("blockSize",e,t,n),l=M("dataFormat",e,t,n).toUpperCase();return[gr.n(M("x",e,t,n),c,l)];case"BroadcastTo":return[yr.U(M("x",e,t,n),M("shape",e,t,n))];case"BroadcastArgs":return[br.X(M("s0",e,t,n),M("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"hash_table":return gn(e,t,n,r);case"custom":var i=P(e.op);if(i&&i.customExecutor)return i.customExecutor(new ke(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return _.util.isPromise(i)?i.then((function(e){return[].concat(e)})):[].concat(i)}var kr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,A.Z)(this,e),this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=i,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return(0,O.Z)(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"currentContext",get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)})).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}},{key:"nextIteration",value:function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}]),e}();function xr(e,t,n,r){var i=new Set,a=[],o=null,s=null,u=new Set,c=Object.keys(e).map((function(e){return B(e)[0]})),l=[];null!=r&&(l=r.map((function(e){return B(e.name)[0]})));for(var d=(0,I.Z)(t);d.length>0;){var f=d.pop();(Cr(f)||Tr(f)||Ar(f))&&null==o&&(s=(o=f).children.map((function(e){return e.name})).filter((function(e){return i.has(e)}))),i.add(f.name),null==n[f.name]&&(-1===c.indexOf(f.name)&&-1===l.indexOf(f.name)&&(0!==f.inputs.length?f.inputs.forEach((function(e){u.has(e.name)||(u.add(e.name),d.push(e))})):a.push(f.name)))}return{inputs:e,outputs:t,usedNodes:i,missingInputs:a,dynamicNode:o,syncInputs:s}}var _r=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],Sr=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],Er=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function Cr(e){return _r.indexOf(e.op)>=0}function Tr(e){return Sr.indexOf(e.op)>=0}function Ar(e){return Er.indexOf(e.op)>=0}var Or=function(){function e(t,n){var r=this;(0,A.Z)(this,e),this.graph=t,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach((function(n){r._functionExecutorMap[n]=new e(t.functions[n],r)}))}return(0,O.Z)(e,[{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,n=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this._weightIds=(t=[]).concat.apply(t,(0,I.Z)(n)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"outputs",get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"inputNodes",get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))}},{key:"outputNodes",get:function(){return this._outputs.map((function(e){var t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce((function(t,n){return t[n]=e._functions[n].signature,t}),{})}},{key:"getCompilationKey",value:function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}},{key:"compile",value:function(e,t){var n=xr(e,t,this.weightMap,this._initNodes),r=n.missingInputs,i=n.dynamicNode,a=n.syncInputs;if(null!=i)throw new Error("This execution contains the node '".concat(i.name,"', which has ")+"the dynamic op '".concat(i.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(a,"]"));if(r.length>0){var o=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(o,"] from the provided inputs ")+"[".concat(s,"]. Missing the following inputs: [").concat(r,"]"))}return function(e,t,n){var r=n.usedNodes,i=n.inputs,a=[],o=Object.keys(i).map((function(e){return B(e)[0]})).map((function(t){return e.nodes[t]})),s=e.initNodes;o.forEach((function(e){r.has(e.name)&&a.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&a.push(e)})),null!=s&&s.forEach((function(e){r.has(e.name)&&a.push(e)}));for(var u=new Set,c=[];a.length>0;){var l=a.pop();u.add(l.name),t[l.name]||c.push(l),l.children.forEach((function(e){!u.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return u.has(e.name)}))&&a.push(e)}))}return c}(this.graph,this.weightMap,n)}},{key:"execute",value:function(e,t){var n=this;e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var i=r.map((function(e){return n.graph.nodes[B(e)[0]]})),a=t.map((function(e){return B(e)[0]})),o=a.map((function(e){return n.graph.nodes[e]}));this.resetIntermediateTensors(),0===o.length&&(o=this._outputs);var s=this.getCompilationKey(i,o),u=this.compiledMap.get(s);null==u&&(u=this.compile(e,o),this.compiledMap.set(s,u));var c={},l={};return(0,_.tidy)((function(){var r=new kr(n.weightMap,c,l,n.functionExecutorMap),i=Object.assign({},n.weightMap);Object.keys(e).forEach((function(t){var n=B(t),r=(0,R.Z)(n,2),a=r[0],o=[];o[r[1]]=e[t],i[a]=o}));for(var o=n.getFrozenTensorIds(i),s={},d=0;d<u.length;d++){var f=u[d];if(!i[f.name]){var p=wr(f,i,r,n._resourceManager);if(_.util.isPromise(p))throw new Error("The execution of the op '".concat(f.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");i[f.name]=p,n.checkTensorForDisposal(f.name,f,i,r,o,a,s)}}return null==n.parent&&r.dispose(o),t.map((function(e){return L(e,i,r)}))}))}},{key:"getFrozenTensorIds",value:function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)}},{key:"checkTensorForDisposal",value:function(e,t,n,r,i,a,o){var s=this;"control"!==t.category&&-1===a.indexOf(e)&&(n[e].forEach((function(e){null!=e&&(o[e.id]=(o[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var a=function(e,t,n){return t[F(e,n.currentContextId)]}(e.name,n,r);null!=a&&a.forEach((function(e){if(e&&!e.kept&&!i.has(e.id)){var n=o[e.id];if(1===n){if(s.keepTensorForDebug){var a=D(t.name,r),u=(0,R.Z)(a,2),c=u[0],l=u[1];s.intermediateTensors[c]||(s.intermediateTensors[c]=[]),s.intermediateTensors[c][l]=e}else e.dispose();delete o[e.id]}else null!=n&&o[e.id]--}}))}})))}},{key:"executeAsync",value:function(){var e=(0,T.Z)((0,C.Z)().mark((function e(t,n){return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._executeAsync(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"disposeIntermediateTensors",value:function(){var e=this;this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((function(t){return e.intermediateTensors[t].forEach((function(e){return e.dispose()}))})),this.disposeTensorsMap())}},{key:"disposeTensorsMap",value:function(){var e=this;this.tensorsMap&&Object.keys(this.tensorsMap).forEach((function(t){e.tensorsMap[t].forEach((function(t){!t||t.kept||t.isDisposed||e.keepIds.has(t.id)||t.dispose()}))}))}},{key:"getIntermediateTensors",value:function(){return this.tensorsMap}},{key:"resetIntermediateTensors",value:function(){for(var e in this.intermediateTensors)this.intermediateTensors[e].forEach((function(e){return e.dispose()})),delete this.intermediateTensors[e]}},{key:"_executeAsync",value:function(){var e=(0,T.Z)((0,C.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l=this,d=arguments;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=d.length>2&&void 0!==d[2]&&d[2],i=d.length>3&&void 0!==d[3]?d[3]:{},a=d.length>4&&void 0!==d[4]?d[4]:{},r||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=(0,_.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(f){console.warn(f.message)}return this.resetIntermediateTensors(),o=new kr(this.weightMap,i,a,this.functionExecutorMap),e.next=9,this.executeWithControlFlow(t,o,n,r);case 9:return this.tensorsMap=e.sent,s=n.map((function(e){return L(e,l.tensorsMap,o)})),u=s.map((function(e){return e.id})),c=Object.keys(t).map((function(e){return t[e].id})),this.keepIds=new Set([].concat((0,I.Z)(u),(0,I.Z)(c),(0,I.Z)(this.weightIds))),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&o.dispose(this.keepIds),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeFunctionAsync",value:function(){var e=(0,T.Z)((0,C.Z)().mark((function e(t,n,r){var i,a=this;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.reduce((function(e,t,n){return e[a.inputs[n].name]=t,e}),{}),e.abrupt("return",this._executeAsync(i,this.outputNodes,!0,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeWithControlFlow",value:function(){var e=(0,T.Z)((0,C.Z)().mark((function e(t,n,r,i){var a,o,s,u,c,l,d,f,p,h,m,v,g,y,b,w,k,x=this;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object.keys(t),o=a.map((function(e){return x.graph.nodes[B(e)[0]]})),s=r.map((function(e){return B(e)[0]})),0===(u=s.map((function(e){return x.graph.nodes[e]}))).length&&(u=this._outputs),c=xr(t,u,this.weightMap,this._initNodes),l=c.usedNodes,d=c.missingInputs,f=c.dynamicNode,p=c.syncInputs,h=[].concat((0,I.Z)(o),(0,I.Z)(this.graph.weights),(0,I.Z)(this._initNodes||[])).map((function(e){return{node:e,contexts:n.currentContext}})),m=Object.assign({},this.weightMap),Object.keys(t).forEach((function(e){var n=B(e),r=(0,R.Z)(n,2),i=r[0],a=[];a[r[1]]=t[e],m[i]=a})),v={},g=this.getFrozenTensorIds(m),y={};case 12:if(!(h.length>0)){e.next=18;break}return b=this.processStack(o,h,n,m,y,g,s,v,l),e.next=16,Promise.all(b);case 16:e.next=12;break;case 18:if(null!=f||i||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),!((w=u.filter((function(e){return!Cr(e)&&!L(e.name,m,n)})).map((function(e){return e.name}))).length>0)){e.next=24;break}throw k="",null!=f&&(k="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(p,"]")),new Error("Cannot compute the outputs [".concat(w,"] from the provided ")+"inputs [".concat(a,"]. Consider providing the following inputs: ")+"[".concat(d,"]. ").concat(k));case 24:return e.abrupt("return",m);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"processStack",value:function(e,t,n,r,i,a,o,s,u){for(var c=this,l=[],d=function(){var e=t.pop();n.currentContext=e.contexts;var d="";if("Enter"===e.node.op&&M("isConstant",e.node,r,n)){var f=D(e.node.name,n),p=(0,R.Z)(f,1);d=p[0]}if(null==r[e.node.name]){var h=wr(e.node,r,n,c._resourceManager);if(!d){var m=D(e.node.name,n),v=(0,R.Z)(m,1);d=v[0]}var g=n.currentContext;_.util.isPromise(h)?l.push(h.then((function(l){return r[d]=l,n.currentContext=g,c.checkTensorForDisposal(d,e.node,r,n,a,o,s),c.processChildNodes(e.node,t,n,r,i,u),l}))):(r[d]=h,c.checkTensorForDisposal(d,e.node,r,n,a,o,s),c.processChildNodes(e.node,t,n,r,i,u))}else c.processChildNodes(e.node,t,n,r,i,u)};t.length>0;)d();return l}},{key:"processChildNodes",value:function(e,t,n,r,i,a){e.children.forEach((function(e){var o=D(e.name,n),s=(0,R.Z)(o,1)[0];!i[s]&&a.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!L(e,r,n)}))&&(i[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!L(e,r,n)}))&&(i[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=B(n),a=(0,R.Z)(i,1)[0],o=t.graph.nodes[a];if(o.attrParams.shape&&o.attrParams.shape.value){var s=o.attrParams.shape.value,u=s.length===r.shape.length&&r.shape.every((function(e,t){return-1===s[t]||s[t]===e}));_.util.assert(u,(function(){return"The shape of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be [".concat(s,"], but was ")+"[".concat(r.shape,"]")}))}o.attrParams.dtype&&o.attrParams.dtype.value&&_.util.assert(r.dtype===o.attrParams.dtype.value,(function(){return"The dtype of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(o.attrParams.dtype.value,", but was ").concat(r.dtype)}))}))}},{key:"mapInputs",value:function(e){var t={};for(var n in e){if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n])t[this._signature.inputs[n].name]=e[n];else t[n]=e[n]}return t}},{key:"checkInputs",value:function(e){var t=this,n=Object.keys(e).filter((function(e){var n=B(e),r=(0,R.Z)(n,1)[0];return null==t.graph.nodes[r]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(n,"] that are not part of graph"))}},{key:"mapOutputs",value:function(e){var t=this;return e.map((function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e}),{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach((function(e){var n=B(e),r=(0,R.Z)(n,1)[0];if(!t.graph.nodes[r])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}]),e}(),Rr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,A.Z)(this,e),this.hashTableNameToHandle=t,this.hashTableMap=n}return(0,O.Z)(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}(),Ir=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,A.Z)(this,e),this.modelUrl=t,this.loadOptions=n,this.version="n/a",null==n&&(this.loadOptions={}),this.resourceManager=new Rr}return(0,O.Z)(e,[{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"findIOHandler",value:function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=_.io.browserHTTPRequest(e,this.loadOptions);else{var t=_.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(_.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}},{key:"load",value:function(){var e=this;if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");var t=this.handler.load();return _.util.isPromise(t)?t.then((function(t){return e.loadSync(t)})):this.loadSync(t)}},{key:"loadSync",value:function(e){this.artifacts=e;var t,n=this.artifacts.modelTopology;t=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=t,this.version="".concat(n.versions.producer,".").concat(n.versions.minConsumer);var r=_.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Or(oe.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var i=oe.Instance.transformGraph(e.modelInitializer);this.initializer=new Or(i),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}},{key:"save",value:function(){var e=(0,T.Z)((0,C.Z)().mark((function e(t,n){var r;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=_.io.getSaveHandlers(t)).length){e.next=6;break}throw new Error("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new Error("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.abrupt("return",t.save(this.artifacts));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e,t){return this.execute(e,this.outputNodes)}},{key:"normalizeInputs",value:function(e){if(!(e instanceof _.Tensor)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+"the graph model has ".concat(this.inputNodes.length," placeholders, ")+"while there are ".concat(e.length," input tensors."));return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})}},{key:"normalizeOutputs",value:function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}},{key:"execute",value:function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]}},{key:"executeAsync",value:function(){var e=(0,T.Z)((0,C.Z)().mark((function e(t,n){var r;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.normalizeInputs(t),n=this.normalizeOutputs(n),e.next=4,this.executor.executeAsync(t,n);case 4:return r=e.sent,e.abrupt("return",r.length>1?r:r[0]);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}]),e}();function Nr(e){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,T.Z)((0,C.Z)().mark((function e(t){var n,r,i=arguments;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},null!=t){e.next=3;break}throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");case 3:return null==n&&(n={}),n.fromTFHub&&"string"===typeof t&&(t=Mr(t)),r=new Ir(t,n),e.next=8,r.load();case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Mr(e){return e.endsWith("/")||(e+="/"),"".concat(e).concat("model.json").concat("?tfjs-format=file")}var Lr=function(e,t){return(Lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Dr(e,t){function n(){this.constructor=e}Lr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Fr=function(){return(Fr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Br(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function jr(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function Zr(e){var t=e.shape[2],n=(0,_.argMax)(e,2),r=(0,_.reshape)(n,[-1]);return(0,_.oneHot)(r,t)}function Vr(e,t){return(0,_.tidy)((function(){return(0,_.cast)((0,_.greater)(e,(0,_.scalar)(t)),"int32")}))}function Ur(e,t){var n=t.shape,r=n[0],i=n[1],a=n[2];return(0,_.tidy)((function(){var n=Zr(t),o=(0,_.expandDims)((0,_.range)(0,a,1,"int32"),1),s=(0,_.cast)((0,_.matMul)(n,o),"int32"),u=(0,_.reshape)(s,[r,i]),c=(0,_.add)(u,(0,_.scalar)(1,"int32"));return(0,_.sub)(function(e,t){return(0,_.mul)(e,t)}(c,e),(0,_.scalar)(1,"int32"))}))}function Wr(e){var t=e.shape,n=t[0],r=t[1],i=t[2];return(0,_.tidy)((function(){var t=Zr(e),a=(0,_.expandDims)((0,_.range)(0,i,1,"int32"),1),o=(0,_.cast)((0,_.matMul)(t,a),"int32");return(0,_.reshape)(o,[n,r])}))}var Hr=function(){function e(e,t){this.model=e,this.outputStride=t;var n=this.model.inputs[0].shape;_.util.assert(-1===n[1]&&-1===n[2],(function(){return"Input shape ["+n[1]+", "+n[2]+"] must both be equal to or -1"}))}return e.prototype.predict=function(e){var t=this;return(0,_.tidy)((function(){var n=t.preprocessInput((0,_.cast)(e,"float32")),r=(0,_.expandDims)(n,0),i=t.model.predict(r).map((function(e){return(0,_.squeeze)(e,[0])})),a=t.nameOutputResults(i);return{heatmapScores:(0,_.sigmoid)(a.heatmap),offsets:a.offsets,displacementFwd:a.displacementFwd,displacementBwd:a.displacementBwd,segmentation:a.segmentation,partHeatmaps:a.partHeatmaps,longOffsets:a.longOffsets,partOffsets:a.partOffsets}}))},e.prototype.dispose=function(){this.model.dispose()},e}(),zr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dr(t,e),t.prototype.preprocessInput=function(e){return(0,_.tidy)((function(){return(0,_.sub)((0,_.div)(e,127.5),1)}))},t.prototype.nameOutputResults=function(e){return{offsets:e[0],segmentation:e[1],partHeatmaps:e[2],longOffsets:e[3],heatmap:e[4],displacementFwd:e[5],displacementBwd:e[6],partOffsets:e[7]}},t}(Hr),Gr=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],qr=Gr.length,Kr=Gr.reduce((function(e,t,n){return e[t]=n,e}),{});[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]].map((function(e){var t=e[0],n=e[1];return[Kr[t],Kr[n]]}));function Yr(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1],s=n.top,u=n.bottom;return[o/(n.left+n.right+i),a/(s+u+r)]}function Xr(e,t,n,r){return{y:r.get(e,t,n),x:r.get(e,t,n+qr)}}function Qr(e,t,n){var r=Xr(e.heatmapY,e.heatmapX,e.id,n),i=r.y,a=r.x;return{x:e.heatmapX*t+a,y:e.heatmapY*t+i}}function Jr(e,t,n){return e<t?t:e>n?n:e}function $r(e,t){return{x:e.x+t.x,y:e.y+t.y}}function ei(e,t,n){void 0===n&&(n=.3);for(var r=0,i=0,a=0;a<e.length;a++)t.keypoints[a].score>n&&(i+=1,r+=Math.pow(e[a].x-t.keypoints[a].position.x,2)+Math.pow(e[a].y-t.keypoints[a].position.y,2));return 0===i?r=1/0:r/=i,r}function ti(e,t,n,r,i,a,o){for(var s=o[0],u=o[1],c=n(e),l=c.y*r+c.x,d=i[qr*(2*l)+t],f=i[qr*(2*l+1)+t],p=e.y+d,h=e.x+f,m=0;m<a;m++){p=Math.min(p,s-1);var v=n({x:h=Math.min(h,u-1),y:p}),g=v.y*r+v.x;p+=d=i[qr*(2*g)+t],h+=f=i[qr*(2*g+1)+t]}return{x:h,y:p}}function ni(e,t,n,r,i,a,o,s,u,c){for(var l=i[0],d=i[1],f=a[0],p=a[1],h=s[0],m=s[1],v=[],g=function(e){return function(e,t,n,r){var i=t[0],a=t[1],o=n[0],s=n[1],u=Math.round(((i+e.y+1)*s-1)/r);return{x:Math.round(((a+e.x+1)*o-1)/r),y:u}}(e,[l,d],[f,p],u)},y=0;y<r;y++){var b=ti(e,y,g,o,t,c,[h,m]);v.push(b)}for(var w=-1,k=1/0,x=0;x<n.length;x++){var _=ei(v,n[x]);_<k&&(w=x,k=_)}return w}function ri(e,t){var n=e[0],r=e[1];return[Math.round((r-1)/t+1),Math.round((n-1)/t+1)]}function ii(e,t,n,r,i,a,o,s,u,c,l){for(var d=o[0],f=o[1],p=e.shape,h=p[0],m=p[1],v=t.shape.slice(0,2),g=v[0],y=v[1],b=(0,_.reshape)(t,[g,y,2,qr]),w=new Float32Array(l*qr*3).fill(0),k=0;k<n.length;k++)for(var x=k*qr*3,S=n[k],E=0;E<qr;E++){var C=S.keypoints[E],T=x+3*E;w[T]=C.score,w[T+1]=C.position.y,w[T+2]=C.position.x}var A=Yr([r,i],[d,f],s),O=A[0],R=A[1],I=(0,_.tensor)(w,[l,qr,3]),N=s.top,P=s.left,M={variableNames:["segmentation","longOffsets","poses"],outputShape:[h,m],userCode:"\n    int convertToPositionInOutput(int pos, int pad, float scale, int stride) {\n      return round(((float(pos + pad) + 1.0) * scale - 1.0) / float(stride));\n    }\n\n    float convertToPositionInOutputFloat(\n        int pos, int pad, float scale, int stride) {\n      return ((float(pos + pad) + 1.0) * scale - 1.0) / float(stride);\n    }\n\n    float dist(float x1, float y1, float x2, float y2) {\n      return pow(x1 - x2, 2.0) + pow(y1 - y2, 2.0);\n    }\n\n    float sampleLongOffsets(float h, float w, int d, int k) {\n      float fh = fract(h);\n      float fw = fract(w);\n      int clH = int(ceil(h));\n      int clW = int(ceil(w));\n      int flH = int(floor(h));\n      int flW = int(floor(w));\n      float o11 = getLongOffsets(flH, flW, d, k);\n      float o12 = getLongOffsets(flH, clW, d, k);\n      float o21 = getLongOffsets(clH, flW, d, k);\n      float o22 = getLongOffsets(clH, clW, d, k);\n      float o1 = mix(o11, o12, fw);\n      float o2 = mix(o21, o22, fw);\n      return mix(o1, o2, fh);\n    }\n\n    int findNearestPose(int h, int w) {\n      float prob = getSegmentation(h, w);\n      if (prob < 1.0) {\n        return -1;\n      }\n\n      // Done(Tyler): convert from output space h/w to strided space.\n      float stridedH = convertToPositionInOutputFloat(\n        h, "+N+", "+R+", "+a+");\n      float stridedW = convertToPositionInOutputFloat(\n        w, "+P+", "+O+", "+a+");\n\n      float minDist = 1000000.0;\n      int iMin = -1;\n      for (int i = 0; i < "+l+"; i++) {\n        float curDistSum = 0.0;\n        int numKpt = 0;\n        for (int k = 0; k < "+qr+"; k++) {\n          float dy = sampleLongOffsets(stridedH, stridedW, 0, k);\n          float dx = sampleLongOffsets(stridedH, stridedW, 1, k);\n\n          float y = float(h) + dy;\n          float x = float(w) + dx;\n\n          for (int s = 0; s < "+u+"; s++) {\n            int yRounded = round(min(y, float("+(r-1)+")));\n            int xRounded = round(min(x, float("+(i-1)+")));\n\n            float yStrided = convertToPositionInOutputFloat(\n              yRounded, "+N+", "+R+", "+a+");\n            float xStrided = convertToPositionInOutputFloat(\n              xRounded, "+P+", "+O+", "+a+");\n\n            float dy = sampleLongOffsets(yStrided, xStrided, 0, k);\n            float dx = sampleLongOffsets(yStrided, xStrided, 1, k);\n\n            y = y + dy;\n            x = x + dx;\n          }\n\n          float poseScore = getPoses(i, k, 0);\n          float poseY = getPoses(i, k, 1);\n          float poseX = getPoses(i, k, 2);\n          if (poseScore > "+c+") {\n            numKpt = numKpt + 1;\n            curDistSum = curDistSum + dist(x, y, poseX, poseY);\n          }\n        }\n        if (numKpt > 0 && curDistSum / float(numKpt) < minDist) {\n          minDist = curDistSum / float(numKpt);\n          iMin = i;\n        }\n      }\n      return iMin;\n    }\n\n    void main() {\n        ivec2 coords = getOutputCoords();\n        int nearestPose = findNearestPose(coords[0], coords[1]);\n        setOutput(float(nearestPose));\n      }\n  "};return(0,_.backend)().compileAndRun(M,[e,b,I])}function ai(){return"webgl"===(0,_.getBackend)()}function oi(e,t,n,r,i,a,o,s,u,c,l,d){var f=o[0],p=o[1];return void 0===u&&(u=.2),void 0===c&&(c=8),void 0===l&&(l=.3),void 0===d&&(d=10),Br(this,void 0,void 0,(function(){var o,h,m,v,g;return jr(this,(function(y){switch(y.label){case 0:return o=n.filter((function(e){return e.score>=u})),ai()?(m=(0,_.tidy)((function(){var n=ii(e,t,o,r,i,a,[f,p],s,c,l,d),u=(0,_.engine)().makeTensorFromDataId(n.dataId,n.shape,n.dtype);return o.map((function(e,t){return function(e,t){return(0,_.tidy)((function(){return(0,_.cast)((0,_.equal)(e,(0,_.scalar)(t)),"int32")}))}(u,t)}))})),[4,Promise.all(m.map((function(e){return e.data()})))]):[3,2];case 1:return h=y.sent(),m.forEach((function(e){return e.dispose()})),[3,5];case 2:return[4,e.data()];case 3:return v=y.sent(),[4,t.data()];case 4:g=y.sent(),h=function(e,t,n,r,i,a,o,s,u,c){var l=o[0],d=o[1];void 0===c&&(c=5);for(var f=n.map((function(e){return new Uint8Array(r*i).fill(0)})),p=s.top,h=s.left,m=Yr([r,i],[l,d],s),v=m[0],g=m[1],y=ri([l,d],a)[0],b=0;b<r;b+=1)for(var w=0;w<i;w+=1){var k=b*i+w;if(1===e[k]){var x=ni({x:w,y:b},t,n,c,[p,h],[v,g],y,[r,i],a,u);x>=0&&(f[x][k]=1)}}return f}(v,g,o,r,i,a,[f,p],s,c),y.label=5;case 5:return[2,h.map((function(e,t){return{data:e,pose:o[t],width:i,height:r}}))]}}))}))}function si(e,t,n,r,i,a,o,s,u,c,l,d,f){var p=s[0],h=s[1];return void 0===c&&(c=.2),void 0===l&&(l=8),void 0===d&&(d=.3),void 0===f&&(f=10),Br(this,void 0,void 0,(function(){var s,m,v,g,y,b;return jr(this,(function(w){switch(w.label){case 0:return s=r.filter((function(e){return e.score>=c})),ai()?(v=(0,_.tidy)((function(){var r=ii(e,t,s,i,a,o,[p,h],u,l,d,f),c=(0,_.engine)().makeTensorFromDataId(r.dataId,r.shape,r.dtype);return s.map((function(e,t){return function(e,t,n){return(0,_.tidy)((function(){return(0,_.sub)((0,_.mul)((0,_.cast)((0,_.equal)(e,(0,_.scalar)(n)),"int32"),(0,_.add)(t,1)),1)}))}(c,n,t)}))})),[4,Promise.all(v.map((function(e){return e.data()})))]):[3,2];case 1:return m=w.sent(),v.forEach((function(e){return e.dispose()})),[3,6];case 2:return[4,e.data()];case 3:return g=w.sent(),[4,t.data()];case 4:return y=w.sent(),[4,n.data()];case 5:b=w.sent(),m=function(e,t,n,r,i,a,o,s,u,c,l){var d=s[0],f=s[1];void 0===l&&(l=5);for(var p=r.map((function(e){return new Int32Array(i*a).fill(-1)})),h=u.top,m=u.left,v=Yr([i,a],[d,f],u),g=v[0],y=v[1],b=ri([d,f],o)[0],w=0;w<i;w+=1)for(var k=0;k<a;k+=1){var x=w*a+k;if(1===e[x]){var _=ni({x:k,y:w},t,r,l,[h,m],[g,y],b,[i,a],o,c);_>=0&&(p[_][x]=n[x])}}return p}(g,y,b,s,i,a,o,[p,h],u,l),w.label=6;case 6:return[2,m.map((function(e,t){return{pose:s[t],data:e,height:i,width:a}}))]}}))}))}function ui(e){return Math.floor(e/2)}var ci=function(){function e(e,t){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=t}return e.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},e.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},e.prototype.empty=function(){return-1===this.numberOfElements},e.prototype.size=function(){return this.numberOfElements+1},e.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},e.prototype.max=function(){return this.priorityQueue[0]},e.prototype.swim=function(e){for(;e>0&&this.less(ui(e),e);)this.exchange(e,ui(e)),e=ui(e)},e.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t}},e.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},e.prototype.less=function(e,t){return this.getValueAt(e)<this.getValueAt(t)},e.prototype.exchange=function(e,t){var n=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=n},e}();function li(e,t,n,r,i,a){for(var o=a.shape,s=o[0],u=o[1],c=!0,l=Math.max(n-i,0),d=Math.min(n+i+1,s),f=l;f<d;++f){for(var p=Math.max(r-i,0),h=Math.min(r+i+1,u),m=p;m<h;++m)if(a.get(f,m,e)>t){c=!1;break}if(!c)break}return c}var di=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]].map((function(e){var t=e[0],n=e[1];return[Kr[t],Kr[n]]})),fi=di.map((function(e){return e[1]})),pi=di.map((function(e){return e[0]}));function hi(e,t,n,r){return{y:Jr(Math.round(e.y/t),0,n-1),x:Jr(Math.round(e.x/t),0,r-1)}}function mi(e,t,n,r,i,a,o,s){void 0===s&&(s=2);for(var u=r.shape,c=u[0],l=u[1],d=function(e,t,n){var r=n.shape[2]/2;return{y:n.get(t.y,t.x,e),x:n.get(t.y,t.x,r+e)}}(e,hi(t.position,a,c,l),o),f=$r(t.position,d),p=0;p<s;p++){var h=hi(f,a,c,l),m=Xr(h.y,h.x,n,i);f=$r({x:h.x*a,y:h.y*a},{x:m.x,y:m.y})}var v=hi(f,a,c,l),g=r.get(v.y,v.x,n);return{position:f,part:Gr[n],score:g}}function vi(e,t,n,r,i,a){var o=t.shape[2],s=fi.length,u=new Array(o),c=e.part,l=e.score,d=Qr(c,r,n);u[c.id]={score:l,part:Gr[c.id],position:d};for(var f=s-1;f>=0;--f){var p=fi[f],h=pi[f];u[p]&&!u[h]&&(u[h]=mi(f,u[p],h,t,n,r,a))}for(f=0;f<s;++f)p=pi[f],h=fi[f],u[p]&&!u[h]&&(u[h]=mi(f,u[p],h,t,n,r,i));return u}function gi(e,t,n,r){var i=n.x,a=n.y;return e.some((function(e){var n=e.keypoints[r].position;return function(e,t,n,r){var i=n-e,a=r-t;return i*i+a*a}(a,i,n.y,n.x)<=t}))}function yi(e,t,n){return n.reduce((function(n,r,i){var a=r.position,o=r.score;return gi(e,t,a,i)||(n+=o),n}),0)/n.length}function bi(e,t,n,r,i,a,o,s){void 0===o&&(o=.5),void 0===s&&(s=20);for(var u=[],c=function(e,t,n){for(var r=n.shape,i=r[0],a=r[1],o=r[2],s=new ci(i*a*o,(function(e){return e.score})),u=0;u<i;++u)for(var c=0;c<a;++c)for(var l=0;l<o;++l){var d=n.get(u,c,l);d<e||li(l,d,u,c,t,n)&&s.enqueue({score:d,part:{heatmapY:u,heatmapX:c,id:l}})}return s}(o,1,e),l=s*s;u.length<a&&!c.empty();){var d=c.dequeue();if(!gi(u,l,Qr(d.part,i,t),d.part.id)){var f=vi(d,e,t,i,n,r),p=yi(u,l,f);u.push({keypoints:f,score:p})}}return u}var wi,ki=[-123.15,-115.9,-103.06],xi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dr(t,e),t.prototype.preprocessInput=function(e){return(0,_.add)(e,ki)},t.prototype.nameOutputResults=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5];return{offsets:a,segmentation:e[6],partHeatmaps:o,longOffsets:i,heatmap:r,displacementFwd:n,displacementBwd:t,partOffsets:e[7]}},t}(Hr),_i="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/resnet50/",Si="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/mobilenet/";function Ei(e){if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)return function(e){if("offsetHeight"in e&&0!==e.offsetHeight&&"offsetWidth"in e&&0!==e.offsetWidth)return[e.offsetHeight,e.offsetWidth];if(null!=e.height&&null!=e.width)return[e.height,e.width];throw new Error("HTMLImageElement must have height and width attributes set.")}(e);if("undefined"!=typeof ImageData&&e instanceof ImageData)return[e.height,e.width];if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)return function(e){return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth]}(e);if(e instanceof _.Tensor)return[e.shape[0],e.shape[1]];throw new Error("error: Unknown input type: "+e+".")}function Ci(e,t){return function(e,t){return(e-1)%t==0}(e,t)?e:Math.floor(e/t)*t+1}var Ti={low:"low",medium:"medium",high:"high",full:"full"},Ai=((wi={})[Ti.low]=.25,wi[Ti.medium]=.5,wi[Ti.high]=.75,wi[Ti.full]=1,wi);function Oi(e,t,n){var r=n[0],i=n[1],a=function(e){if("string"==typeof e){var t=Ai[e];return _.util.assert("number"==typeof t,(function(){return"string value of inputResolution must be one of "+Object.values(Ti).join(",")+" but was "+e+"."})),t}return _.util.assert("number"==typeof e&&e<=2&&e>=.1,(function(){return"inputResolution must be a string or number between 0.1 and 2, but was "+e})),e}(e);return[Ci(r*a,t),Ci(i*a,t)]}function Ri(e,t,n){var r=t[0],i=t[1];void 0===n&&(n=!1);var a,o,s,u,c,l,d=e.shape,f=d[0],p=d[1]/f;if(p>i/r){a=i;var h=r-(o=Math.ceil(a/p));s=0,u=0,c=Math.floor(h/2),l=r-(o+c)}else{o=r;var m=i-(a=Math.ceil(r*p));s=Math.floor(m/2),u=i-(a+s),c=0,l=0}return{resizedAndPadded:(0,_.tidy)((function(){var t;return t=n?_.image.resizeBilinear((0,_.reverse)(e,1),[o,a]):_.image.resizeBilinear(e,[o,a]),(0,_.pad3d)(t,[[c,l],[s,u],[0,0]])})),paddedBy:[[c,l],[s,u]]}}function Ii(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],u=n[1],c=r[0],l=c[0],d=c[1],f=r[1],p=f[0],h=f[1];return void 0===i&&(i=!1),(0,_.tidy)((function(){var t=_.image.resizeBilinear(e,[s,u],!0);return i&&(t=(0,_.sigmoid)(t)),function(e,t,n){var r=t[0],i=t[1],a=n[0],o=a[0],s=a[1],u=n[1],c=u[0],l=u[1];return(0,_.tidy)((function(){var t=(0,_.expandDims)(e);return(0,_.squeeze)(_.image.cropAndResize(t,[[o/(r+o+s-1),c/(i+c+l-1),(o+r-1)/(r+o+s-1),(c+i-1)/(i+c+l-1)]],[0],[r,i]),[0])}))}(t,[a,o],[[l,d],[p,h]])}))}function Ni(e,t){var n=t[0],r=t[1],i=Ei(e),a=i[0],o=i[1],s=r/n,u=[0,0,0,0],c=u[0],l=u[1],d=u[2],f=u[3];return o/a<s?(c=0,l=0,d=Math.round(.5*(s*a-o)),f=Math.round(.5*(s*a-o))):(c=Math.round(.5*(1/s*o-a)),l=Math.round(.5*(1/s*o-a)),d=0,f=0),{resized:(0,_.tidy)((function(){var t=function(e){return e instanceof _.Tensor?e:_.browser.fromPixels(e)}(e);return t=(0,_.pad3d)(t,[[c,l],[d,f],[0,0]]),_.image.resizeBilinear(t,[n,r])})),padding:{top:c,left:d,right:f,bottom:l}}}function Pi(e){return Br(this,void 0,void 0,(function(){return jr(this,(function(t){return[2,Promise.all(e.map((function(e){return e.buffer()})))]}))}))}function Mi(e,t){return{score:e.score,keypoints:e.keypoints.map((function(e){var n=e.score,r=e.part,i=e.position;return{score:n,part:r,position:{x:t-1-i.x,y:i.y}}}))}}function Li(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],u=n[1],c=function(e,t,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),1===n&&1===t&&0===r&&0===i?e:e.map((function(e){return function(e,t,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),{score:e.score,keypoints:e.keypoints.map((function(e){var a=e.score,o=e.part,s=e.position;return{score:a,part:o,position:{x:s.x*n+i,y:s.y*t+r}}}))}}(e,t,n,r,i)}))}(e,(a+r.top+r.bottom)/s,(o+r.left+r.right)/u,-r.top,-r.left);return i?function(e,t){return t<=0?e:e.map((function(e){return Mi(e,t)}))}(c,o):c}var Di=!0,Fi=!1,Bi={architecture:"MobileNetV1",outputStride:16,quantBytes:4,multiplier:.75},ji=["MobileNetV1","ResNet50"],Zi={MobileNetV1:[8,16,32],ResNet50:[32,16]},Vi={MobileNetV1:[.5,.75,1],ResNet50:[1]},Ui=[1,2,4];var Wi={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20},Hi={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20,minKeypointScore:.3,refineSteps:10};function zi(e){var t=e.segmentationThreshold,n=e.maxDetections,r=e.scoreThreshold,i=e.nmsRadius;if(t<0||t>1)throw new Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold "+r+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".")}function Gi(e){var t=e.segmentationThreshold,n=e.maxDetections,r=e.scoreThreshold,i=e.nmsRadius,a=e.minKeypointScore,o=e.refineSteps;if(t<0||t>1)throw new Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold "+r+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".");if(a<0||a>1)throw new Error("Invalid minKeypointScore "+a+".Should be in range [0.0, 1.0]");if(o<=0||o>20)throw new Error("Invalid refineSteps "+o+".Should be in range [1, 20]")}var qi=function(){function e(e){this.baseModel=e}return e.prototype.predictForPersonSegmentation=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForPersonSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,partHeatmapLogits:t.partHeatmaps,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForMultiPersonInstanceSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,longOffsets:t.longOffsets,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd,partHeatmaps:t.partHeatmaps}},e.prototype.segmentPersonActivation=function(e,t,n){var r=this;void 0===n&&(n=.5);var i=Ei(e),a=i[0],o=i[1],s=Oi(t,this.baseModel.outputStride,[a,o]),u=Ni(e,s),c=u.resized,l=u.padding,d=(0,_.tidy)((function(){var e=r.predictForPersonSegmentation(c),t=e.segmentLogits,i=e.heatmapScores,s=e.offsets,u=e.displacementFwd,d=e.displacementBwd,f=c.shape,p=f[0],h=f[1],m=Ii(t,[a,o],[p,h],[[l.top,l.bottom],[l.left,l.right]],Di);return{segmentation:Vr((0,_.squeeze)(m),n),heatmapScores:i,offsets:s,displacementFwd:u,displacementBwd:d}})),f=d.segmentation,p=d.heatmapScores,h=d.offsets,m=d.displacementFwd,v=d.displacementBwd;return c.dispose(),{segmentation:f,heatmapScores:p,offsets:h,displacementFwd:m,displacementBwd:v,padding:l,internalResolutionHeightAndWidth:s}},e.prototype.segmentPerson=function(e,t){return void 0===t&&(t=Wi),Br(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,l,d,f,p,h,m,v,g,y,b;return jr(this,(function(w){switch(w.label){case 0:return zi(t=Fr(Fr({},Wi),t)),n=this.segmentPersonActivation(e,t.internalResolution,t.segmentationThreshold),r=n.segmentation,i=n.heatmapScores,a=n.offsets,o=n.displacementFwd,s=n.displacementBwd,u=n.padding,c=n.internalResolutionHeightAndWidth,l=r.shape,d=l[0],f=l[1],[4,r.data()];case 1:return p=w.sent(),r.dispose(),[4,Pi([i,a,o,s])];case 2:return h=w.sent(),m=h[0],v=h[1],g=h[2],y=h[3],b=Li(b=bi(m,v,g,y,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[d,f],c,u,Fi),i.dispose(),a.dispose(),o.dispose(),s.dispose(),[2,{height:d,width:f,data:p,allPoses:b}]}}))}))},e.prototype.segmentMultiPerson=function(e,t){return void 0===t&&(t=Hi),Br(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,l,d,f,p,h,m,v,g,y,b,w,k,x,S=this;return jr(this,(function(E){switch(E.label){case 0:return Gi(t=Fr(Fr({},Hi),t)),n=Ei(e),r=n[0],i=n[1],a=Oi(t.internalResolution,this.baseModel.outputStride,[r,i]),o=Ni(e,a),s=o.resized,u=o.padding,c=(0,_.tidy)((function(){var e,n=S.predictForMultiPersonInstanceSegmentationAndPart(s),o=n.segmentLogits,c=n.longOffsets,l=n.heatmapScores,d=n.offsets,f=n.displacementFwd,p=n.displacementBwd,h=Ii(o,[r,i],a,[[u.top,u.bottom],[u.left,u.right]],Di);return e=c,{segmentation:Vr((0,_.squeeze)(h),t.segmentationThreshold),longOffsets:e,heatmapScoresRaw:l,offsetsRaw:d,displacementFwdRaw:f,displacementBwdRaw:p}})),l=c.segmentation,d=c.longOffsets,f=c.heatmapScoresRaw,p=c.offsetsRaw,h=c.displacementFwdRaw,m=c.displacementBwdRaw,[4,Pi([f,p,h,m])];case 1:return v=E.sent(),g=v[0],y=v[1],b=v[2],w=v[3],k=Li(k=bi(g,y,b,w,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[r,i],a,u,Fi),[4,oi(l,d,k,r,i,this.baseModel.outputStride,a,u,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return x=E.sent(),s.dispose(),l.dispose(),d.dispose(),f.dispose(),p.dispose(),h.dispose(),m.dispose(),[2,x]}}))}))},e.prototype.segmentPersonPartsActivation=function(e,t,n){var r=this;void 0===n&&(n=.5);var i=Ei(e),a=i[0],o=i[1],s=Oi(t,this.baseModel.outputStride,[a,o]),u=Ni(e,s),c=u.resized,l=u.padding,d=(0,_.tidy)((function(){var e=r.predictForPersonSegmentationAndPart(c),t=e.segmentLogits,i=e.partHeatmapLogits,s=e.heatmapScores,u=e.offsets,d=e.displacementFwd,f=e.displacementBwd,p=c.shape,h=p[0],m=p[1],v=Ii(t,[a,o],[h,m],[[l.top,l.bottom],[l.left,l.right]],Di),g=Ii(i,[a,o],[h,m],[[l.top,l.bottom],[l.left,l.right]],Di);return{partSegmentation:Ur(Vr((0,_.squeeze)(v),n),g),heatmapScores:s,offsets:u,displacementFwd:d,displacementBwd:f}})),f=d.partSegmentation,p=d.heatmapScores,h=d.offsets,m=d.displacementFwd,v=d.displacementBwd;return c.dispose(),{partSegmentation:f,heatmapScores:p,offsets:h,displacementFwd:m,displacementBwd:v,padding:l,internalResolutionHeightAndWidth:s}},e.prototype.segmentPersonParts=function(e,t){return void 0===t&&(t=Wi),Br(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,l,d,f,p,h,m,v,g,y,b;return jr(this,(function(w){switch(w.label){case 0:return zi(t=Fr(Fr({},Wi),t)),n=this.segmentPersonPartsActivation(e,t.internalResolution,t.segmentationThreshold),r=n.partSegmentation,i=n.heatmapScores,a=n.offsets,o=n.displacementFwd,s=n.displacementBwd,u=n.padding,c=n.internalResolutionHeightAndWidth,l=r.shape,d=l[0],f=l[1],[4,r.data()];case 1:return p=w.sent(),r.dispose(),[4,Pi([i,a,o,s])];case 2:return h=w.sent(),m=h[0],v=h[1],g=h[2],y=h[3],b=Li(b=bi(m,v,g,y,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[d,f],c,u,Fi),i.dispose(),a.dispose(),o.dispose(),s.dispose(),[2,{height:d,width:f,data:p,allPoses:b}]}}))}))},e.prototype.segmentMultiPersonParts=function(e,t){return void 0===t&&(t=Hi),Br(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,l,d,f,p,h,m,v,g,y,b,w,k,x,S,E=this;return jr(this,(function(C){switch(C.label){case 0:return Gi(t=Fr(Fr({},Hi),t)),n=Ei(e),r=n[0],i=n[1],a=Oi(t.internalResolution,this.baseModel.outputStride,[r,i]),o=Ni(e,a),s=o.resized,u=o.padding,c=(0,_.tidy)((function(){var e=E.predictForMultiPersonInstanceSegmentationAndPart(s),n=e.segmentLogits,o=e.longOffsets,c=e.heatmapScores,l=e.offsets,d=e.displacementFwd,f=e.displacementBwd,p=e.partHeatmaps,h=Ii(n,[r,i],a,[[u.top,u.bottom],[u.left,u.right]],Di),m=Ii(p,[r,i],a,[[u.top,u.bottom],[u.left,u.right]],Di),v=o;return{segmentation:Vr((0,_.squeeze)(h),t.segmentationThreshold),longOffsets:v,heatmapScoresRaw:c,offsetsRaw:l,displacementFwdRaw:d,displacementBwdRaw:f,partSegmentation:Wr(m)}})),l=c.segmentation,d=c.longOffsets,f=c.heatmapScoresRaw,p=c.offsetsRaw,h=c.displacementFwdRaw,m=c.displacementBwdRaw,v=c.partSegmentation,[4,Pi([f,p,h,m])];case 1:return g=C.sent(),y=g[0],b=g[1],w=g[2],k=g[3],x=Li(x=bi(y,b,w,k,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[r,i],a,u,Fi),[4,si(l,d,v,x,r,i,this.baseModel.outputStride,a,u,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return S=C.sent(),s.dispose(),l.dispose(),d.dispose(),f.dispose(),p.dispose(),h.dispose(),m.dispose(),v.dispose(),[2,S]}}))}))},e.prototype.dispose=function(){this.baseModel.dispose()},e}();function Ki(e){return Br(this,void 0,void 0,(function(){var t,n,r,i,a,o;return jr(this,(function(s){switch(s.label){case 0:if(t=e.outputStride,n=e.quantBytes,r=e.multiplier,null==_)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\n        model.");return i=function(e,t,n){var r={1:"100",.75:"075",.5:"050"},i="model-stride"+e+".json";return 4===n?Si+"float/"+r[t]+"/"+i:Si+"quant"+n+"/"+r[t]+"/"+i}(t,r,n),[4,Nr(e.modelUrl||i)];case 1:return a=s.sent(),o=new zr(a,t),[2,new qi(o)]}}))}))}function Yi(e){return Br(this,void 0,void 0,(function(){var t,n,r,i,a;return jr(this,(function(o){switch(o.label){case 0:if(t=e.outputStride,n=e.quantBytes,null==_)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\n        model.");return r=function(e,t){var n="model-stride"+e+".json";return 4===t?_i+"float/"+n:_i+"quant"+t+"/"+n}(t,n),[4,Nr(e.modelUrl||r)];case 1:return i=o.sent(),a=new xi(i,t),[2,new qi(a)]}}))}))}function Xi(e){return void 0===e&&(e=Bi),Br(this,void 0,void 0,(function(){return jr(this,(function(t){return"ResNet50"===(e=function(e){if(null==(e=e||Bi).architecture&&(e.architecture="MobileNetV1"),ji.indexOf(e.architecture)<0)throw new Error("Invalid architecture "+e.architecture+". Should be one of "+ji);if(null==e.outputStride&&(e.outputStride=16),Zi[e.architecture].indexOf(e.outputStride)<0)throw new Error("Invalid outputStride "+e.outputStride+". Should be one of "+Zi[e.architecture]+" for architecture "+e.architecture+".");if(null==e.multiplier&&(e.multiplier=1),Vi[e.architecture].indexOf(e.multiplier)<0)throw new Error("Invalid multiplier "+e.multiplier+". Should be one of "+Vi[e.architecture]+" for architecture "+e.architecture+".");if(null==e.quantBytes&&(e.quantBytes=4),Ui.indexOf(e.quantBytes)<0)throw new Error("Invalid quantBytes "+e.quantBytes+". Should be one of "+Ui+" for architecture "+e.architecture+".");return e}(e)).architecture?[2,Yi(e)]:"MobileNetV1"===e.architecture?[2,Ki(e)]:[2,null]}))}))}var Qi={};function Ji(e,t,n,r){var i=e.width,a=e.height,o=t.width,s=t.height;if(i!==o||a!==s)throw new Error("error: dimensions must match. "+n+" has dimensions "+i+"x"+a+", "+r+" has dimensions "+o+"x"+s)}function $i(e){var t=e.getContext("2d");t.scale(-1,1),t.translate(-e.width,0)}function ea(e,t,n){e.globalCompositeOperation=n,e.drawImage(t,0,0)}function ta(e){return Qi[e]||(Qi[e]=function(){if("undefined"!=typeof document)return document.createElement("canvas");if("undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(0,0);throw new Error("Cannot create a canvas in this context")}()),Qi[e]}function na(e,t,n){var r=e.height,i=e.width,a=n.getContext("2d");n.width=i,n.height=r,a.clearRect(0,0,i,r),a.save(),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?function(e,t,n){for(var r=e.getContext("2d"),i=0,a=1/(2*Math.PI*5*5),o=n<3?1:2,s=-n;s<=n;s+=o)for(var u=-n;u<=n;u+=o)i+=a*Math.exp(-(u*u+s*s)/50);for(s=-n;s<=n;s+=o)for(u=-n;u<=n;u+=o)r.globalAlpha=a*Math.exp(-(u*u+s*s)/50)/i*n,r.drawImage(t,u,s);r.globalAlpha=1}(n,e,t):(a.filter="blur("+t+"px)",a.drawImage(e,0,0,i,r)),a.restore()}function ra(e,t,n){var r=ta(n);return 0===t?function(e,t){var n=e.width,r=e.height;t.width=n,t.height=r,t.getContext("2d").drawImage(e,0,0,n,r)}(e,r):na(e,t,r),r}function ia(e,t){var n=ta(t);return function(e,t){t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0)}(e,n),n}function aa(e,t,n,r,i){if(void 0===t&&(t={r:0,g:0,b:0,a:0}),void 0===n&&(n={r:0,g:0,b:0,a:255}),void 0===r&&(r=!1),void 0===i&&(i=[1]),Array.isArray(e)&&0===e.length)return null;var a,o=(a=Array.isArray(e)?e:[e])[0],s=o.width,u=o.height,c=new Uint8ClampedArray(s*u*4);function l(e,t,n,r,i,a){void 0===a&&(a={r:0,g:255,b:255,a:255});for(var o=-i;o<=i;o++)for(var s=-i;s<=i;s++)if(0!==o&&0!==s){var u=(t+o)*r+(n+s);e[4*u+0]=a.r,e[4*u+1]=a.g,e[4*u+2]=a.b,e[4*u+3]=a.a}}function d(e,t,n,r,i,a){void 0===i&&(i=[1]),void 0===a&&(a=1);for(var o=0,s=-a;s<=a;s++)for(var u=function(a){if(0!==s&&0!==a){var u=(t+s)*r+(n+a);i.some((function(t){return t===e[u]}))||(o+=1)}},c=-a;c<=a;c++)u(c);return o>0}for(var f=0;f<u;f+=1)for(var p=function(e){var o=f*s+e;c[4*o+0]=n.r,c[4*o+1]=n.g,c[4*o+2]=n.b,c[4*o+3]=n.a;for(var p=function(n){if(i.some((function(e){return e===a[n].data[o]}))){c[4*o]=t.r,c[4*o+1]=t.g,c[4*o+2]=t.b,c[4*o+3]=t.a;var p=d(a[n].data,f,e,s,i);r&&f-1>=0&&f+1<u&&e-1>=0&&e+1<s&&p&&l(c,f,e,s,1)}},h=0;h<a.length;h++)p(h)},h=0;h<s;h+=1)p(h);return new ImageData(c,s,u)}var oa=[[110,64,170],[143,61,178],[178,60,178],[210,62,167],[238,67,149],[255,78,125],[255,94,99],[255,115,75],[255,140,56],[239,167,47],[217,194,49],[194,219,64],[175,240,91],[135,245,87],[96,247,96],[64,243,115],[40,234,141],[28,219,169],[26,199,194],[33,176,213],[47,150,224],[65,125,224],[84,101,214],[99,81,195]];function sa(e,t){if(void 0===t&&(t=oa),Array.isArray(e)&&0===e.length)return null;for(var n,r=(n=Array.isArray(e)?e:[e])[0],i=r.width,a=r.height,o=new Uint8ClampedArray(i*a*4),s=0;s<a*i;++s){var u=4*s;o[u+0]=255,o[u+1]=255,o[u+2]=255,o[u+3]=255;for(var c=0;c<n.length;c++){var l=n[c].data[s];if(-1!==l){var d=t[l];if(!d)throw new Error("No color could be found for part id "+l);o[u+0]=d[0],o[u+1]=d[1],o[u+2]=d[2],o[u+3]=255}}}return new ImageData(o,i,a)}var ua="blurred",ca="blurred-mask",la="mask",da="lowres-part-mask";function fa(e,t,n,r,i,a){void 0===r&&(r=.7),void 0===i&&(i=0),void 0===a&&(a=!1);var o=Ei(t),s=o[0],u=o[1];e.width=u,e.height=s;var c=e.getContext("2d");if(c.save(),a&&$i(e),c.drawImage(t,0,0),c.globalAlpha=r,n){Ji({width:u,height:s},n,"image","mask");var l=ra(ia(n,la),i,ca);c.drawImage(l,0,0,u,s)}c.restore()}function pa(e,t,n,r,i,a,o){void 0===r&&(r=.7),void 0===i&&(i=0),void 0===a&&(a=!1),void 0===o&&(o=10);var s=Ei(t),u=s[0];Ji({width:s[1],height:u},n,"image","mask");var c=ra(ia(n,la),i,ca);e.width=c.width,e.height=c.height;var l=e.getContext("2d");l.save(),a&&$i(e);var d=ta(da),f=d.getContext("2d");d.width=c.width*(1/o),d.height=c.height*(1/o),f.drawImage(c,0,0,c.width,c.height,0,0,d.width,d.height),l.imageSmoothingEnabled=!1,l.drawImage(d,0,0,d.width,d.height,0,0,e.width,e.height);for(var p=0;p<d.width;p++)l.beginPath(),l.strokeStyle="#ffffff",l.moveTo(o*p,0),l.lineTo(o*p,e.height),l.stroke();for(p=0;p<d.height;p++)l.beginPath(),l.strokeStyle="#ffffff",l.moveTo(0,o*p),l.lineTo(e.width,o*p),l.stroke();l.globalAlpha=1-r,l.drawImage(t,0,0,c.width,c.height),l.restore()}function ha(e,t,n,r,i,a){void 0===r&&(r=3),void 0===i&&(i=3),void 0===a&&(a=!1);var o=ra(t,r,ua);e.width=o.width,e.height=o.height;var s=e.getContext("2d");if(Array.isArray(n)&&0===n.length)s.drawImage(o,0,0);else{var u=function(e,t){var n=ia(aa(e,{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0}),la);return 0===t?n:ra(n,t,ca)}(n,i);s.save(),a&&$i(e);var c=Ei(t),l=c[0],d=c[1];s.drawImage(t,0,0,d,l),ea(s,u,"destination-in"),ea(s,o,"destination-over"),s.restore()}}function ma(e,t,n,r,i,a,o){void 0===r&&(r=[0,1]),void 0===i&&(i=3),void 0===a&&(a=3),void 0===o&&(o=!1);var s=ra(t,i,ua);e.width=s.width,e.height=s.height;var u=e.getContext("2d");if(Array.isArray(n)&&0===n.length)u.drawImage(s,0,0);else{var c=function(e,t,n){var r=ia(aa(e,{r:0,g:0,b:0,a:0},{r:0,g:0,b:0,a:255},!0,t),la);return 0===n?r:ra(r,n,ca)}(n,r,a);u.save(),o&&$i(e);var l=Ei(t),d=l[0],f=l[1];u.drawImage(t,0,0,f,d),ea(u,c,"destination-in"),ea(u,s,"destination-over"),u.restore()}}var va=["left_face","right_face","left_upper_arm_front","left_upper_arm_back","right_upper_arm_front","right_upper_arm_back","left_lower_arm_front","left_lower_arm_back","right_lower_arm_front","right_lower_arm_back","left_hand","right_hand","torso_front","torso_back","left_upper_leg_front","left_upper_leg_back","right_upper_leg_front","right_upper_leg_back","left_lower_leg_front","left_lower_leg_back","right_lower_leg_front","right_lower_leg_back","left_feet","right_feet"],ga="2.2.0"},23193:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(87105);function i(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&r.util.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")}))}))}},58808:function(e,t,n){"use strict";n.r(t),n.d(t,{MathBackendCPU:function(){return v},shared:function(){return r},version_cpu:function(){return le}});var r={};n.r(r),n.d(r,{addImpl:function(){return y.EH},bincountImpl:function(){return b.W},bincountReduceImpl:function(){return b.i},ceilImpl:function(){return w.__},concatImpl:function(){return k.j},equalImpl:function(){return x.tW},expImpl:function(){return _.Ro},expm1Impl:function(){return S.OF},floorImpl:function(){return E.r6},gatherNdImpl:function(){return C.m},gatherV2Impl:function(){return T.i},greaterEqualImpl:function(){return O.HL},greaterImpl:function(){return A.o},lessEqualImpl:function(){return I.lx},lessImpl:function(){return R.rO},linSpaceImpl:function(){return N.b},logImpl:function(){return P.vX},maxImpl:function(){return M.B},maximumImpl:function(){return L.wS},minimumImpl:function(){return D.vP},multiplyImpl:function(){return F.$3},negImpl:function(){return B.uC},notEqualImpl:function(){return j.Gj},prodImpl:function(){return Z.Qg},rangeImpl:function(){return V.b},rsqrtImpl:function(){return U.zd},scatterImpl:function(){return W.N},sigmoidImpl:function(){return H.VY},simpleAbsImpl:function(){return g.bk},sliceImpl:function(){return z.rT},sparseFillEmptyRowsImpl:function(){return G.c},sparseReshapeImpl:function(){return q.U},sparseSegmentReductionImpl:function(){return K.V},sqrtImpl:function(){return Y.zT},squaredDifferenceImpl:function(){return J},stridedSliceImpl:function(){return te.t},stringNGramsImpl:function(){return ne.A},stringSplitImpl:function(){return re.Q},stringToHashBucketFastImpl:function(){return ie.h},subImpl:function(){return ae.VY},tileImpl:function(){return oe.R},topKImpl:function(){return se.W},transposeImpl:function(){return ue.H},uniqueImpl:function(){return ce.S}});var i=n(87105),a=n(74165),o=n(15861),s=n(15671),u=n(43144),c=n(97326),l=n(11752),d=n(61120),f=n(60136),p=n(29388),h=n(23193),m=i.kernel_impls.whereImpl,v=function(e){(0,f.Z)(n,e);var t=(0,p.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.call(this)).blockSize=48,e.firstUse=!0,e.data=new i.DataStorage((0,c.Z)(e),(0,i.engine)()),e}return(0,u.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"write",value:function(e,t,n){this.firstUse&&(this.firstUse=!1,(0,i.env)().get("IS_NODE")&&i.backend_util.warn("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));var r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&i.util.isString(n[0])){var a=n.map((function(e){return i.util.encodeString(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){this.data.get(e).refCount++}},{key:"decRef",value:function(e){this.data.has(e)&&this.data.get(e).refCount--}},{key:"move",value:function(e,t,n,r,i){this.data.set(e,{values:t,dtype:r,refCount:i})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensorInfos;if("complex64"===n){var a=this.readSync(r.real.dataId),o=this.readSync(r.imag.dataId);return i.backend_util.mergeRealAndImagArrays(a,o)}return this.data.get(e).values}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return i.util.decodeString(e)}));return(0,i.buffer)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,i.buffer)(e.shape,e.dtype,t)}},{key:"makeOutput",value:function(e,t,n){return(0,i.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var n=this.data.get(e),r=n.complexTensorInfos;null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.util.now(),t(),r=i.util.now()-n,e.abrupt("return",{kernelMs:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){(0,h.H)([e],"where");var t=this.readSync(e.dataId);return m(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return(0,l.Z)((0,d.Z)(n.prototype),"epsilon",this).call(this)}}]),n}(i.KernelBackend);v.nextDataId=0;var g=n(96220),y=n(25589),b=n(73737),w=n(94351),k=n(46563),x=n(68116),_=n(66880),S=n(21354),E=n(97224),C=n(34351),T=n(82666),A=n(69075),O=n(26985),R=n(39813),I=n(18734),N=n(21491),P=n(68298),M=n(4771),L=n(89518),D=n(38094),F=n(18244),B=n(54569),j=n(21566),Z=n(89120),V=n(66284),U=n(78105),W=n(28567),H=n(294),z=n(22126),G=n(78337),q=n(63634),K=n(35440),Y=n(4165),X=n(69341),Q=n(69501),J=(0,X.b)((function(e,t){var n=e-t;return n*n})),$=(0,Q.j)(i.SquaredDifference,J),ee={kernelName:i.SquaredDifference,backendName:"cpu",kernelFunc:$},te=n(47497),ne=n(18294),re=n(60998),ie=n(71489),ae=n(51802),oe=n(57129),se=n(79516),ue=n(31103),ce=n(24242),le="3.18.0";(0,i.registerBackend)("cpu",(function(){return new v}),1);var de=n(91844),fe=(0,de.A)(i.Elu,(function(e){return e>=0?e:Math.exp(e)-1})),pe={kernelName:i.Elu,backendName:"cpu",kernelFunc:fe},he=n(59090);function me(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.alpha;(0,h.H)([a],"leakyRelu");for(var s=i.util.sizeFromShape(a.shape),u=n.data.get(a.dataId).values,c=i.util.getTypedArrayFromDType("float32",s),l=0;l<u.length;l++)c[l]=u[l]<0?o*u[l]:u[l];return n.makeTensorInfo(a.shape,"float32",c)}var ve={kernelName:i.LeakyRelu,backendName:"cpu",kernelFunc:me},ge=n(29439),ye=(0,X.b)((function(e,t){return e<0?t*e:e}));function be(e){var t=e.inputs,n=e.backend,r=t.x,i=t.alpha;(0,h.H)([r,i],"prelu");var a=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,s=ye(r.shape,i.shape,a,o,"float32"),u=(0,ge.Z)(s,2),c=u[0],l=u[1];return n.makeTensorInfo(l,"float32",c)}var we={kernelName:i.Prelu,backendName:"cpu",kernelFunc:be},ke=(0,de.A)(i.Relu,(function(e){return Math.max(0,e)})),xe={kernelName:i.Relu,backendName:"cpu",kernelFunc:ke},_e=(0,de.A)(i.Relu6,(function(e){return Math.min(Math.max(0,e),6)})),Se={kernelName:i.Relu6,backendName:"cpu",kernelFunc:_e};function Ee(e,t,n,r,i){if("linear"===n)return(0,he.y)({inputs:{x:t},backend:e});if("relu"===n)return ke({inputs:{x:t},backend:e});if("elu"===n)return fe({inputs:{x:t},backend:e});if("relu6"===n)return _e({inputs:{x:t},backend:e});if("prelu"===n)return be({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return me({inputs:{x:t},backend:e,attrs:{alpha:i}});if("sigmoid"===n)return(0,H.XD)({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function Ce(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.shape,s=i.util.sizeFromShape(a.shape),u=i.util.inferFromImplicitShape(o,s),c=i.util.sizeFromShape(u);i.util.assert(s===c,(function(){return"The new shape (".concat(u,") has ").concat(c," elements and the old ")+"shape (".concat(a.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."})),n.incRef(a.dataId);var l=n.data.get(a.dataId);if(null!=l.complexTensorInfos){var d=l.complexTensorInfos.real,f=l.complexTensorInfos.imag;d.shape=u,f.shape=u}return{dataId:a.dataId,shape:u,dtype:a.dtype}}var Te={kernelName:i.Reshape,backendName:"cpu",kernelFunc:Ce};function Ae(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,o=t.b,s=r.transposeA,u=r.transposeB;(0,h.H)([a,o],"matMul");var c=a.shape.length,l=o.shape.length,d=s?a.shape[c-2]:a.shape[c-1],f=u?o.shape[l-1]:o.shape[l-2],p=s?a.shape[c-1]:a.shape[c-2],m=u?o.shape[l-2]:o.shape[l-1],v=a.shape.slice(0,-2),g=o.shape.slice(0,-2),y=i.util.sizeFromShape(v),b=i.util.sizeFromShape(g),w=i.broadcast_util.assertAndGetBroadcastShape(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([p,m]);i.util.assert(d===f,(function(){return"Error in matMul: inner shapes (".concat(d,") and (")+"".concat(f,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(o.shape," and transposeA=").concat(s)+" and transposeB=".concat(u," must match.")}));for(var k=u?[b,m,f]:[b,f,m],x=Ce({inputs:{x:a},backend:n,attrs:{shape:s?[y,d,p]:[y,p,d]}}),_=Ce({inputs:{x:o},backend:n,attrs:{shape:k}}),S=s?x.shape[1]:x.shape[2],E=s?x.shape[2]:x.shape[1],C=u?_.shape[1]:_.shape[2],T=Math.max(y,b),A=n.data.get(x.dataId).values,O=n.data.get(_.dataId).values,R=i.util.computeStrides(x.shape),I=i.util.computeStrides(_.shape),N=s?[R[0],1,R[1]]:[R[0],R[1],1],P=(0,ge.Z)(N,3),M=P[0],L=P[1],D=P[2],F=u?[1,I[1],I[0]]:[I[1],1,I[0]],B=(0,ge.Z)(F,3),j=B[0],Z=B[1],V=B[2],U=E*C,W=(0,i.buffer)([T,E,C],x.dtype),H=W.values,z=n.blockSize,G=0;G<T;G++)for(var q=0;q<E;q+=z)for(var K=0;K<C;K+=z)for(var Y=0;Y<S;Y+=z)for(var X=Math.min(q+z,E),Q=Math.min(K+z,C),J=Math.min(Y+z,S),$=q;$<X;$++)for(var ee=K;ee<Q;ee++){for(var te=0,ne=Y;ne<J;ne++){var re=Math.min(G,y-1)*M,ie=Math.min(G,b-1)*V;te+=A[re+$*L+ne*D]*O[ne*j+ee*Z+ie]}H[G*U+($*C+ee)]+=te}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(_),n.makeTensorInfo(w,W.dtype,W.values)}var Oe={kernelName:i.BatchMatMul,backendName:"cpu",kernelFunc:Ae};var Re={kernelName:i._FusedMatMul,backendName:"cpu",kernelFunc:function(e){var t,n,r,i=e.inputs,a=e.backend,o=e.attrs,s=i.a,u=i.b,c=i.bias,l=i.preluActivationWeights,d=o.transposeA,f=o.transposeB,p=o.activation,h=o.leakyreluAlpha,m=[];t=Ae({inputs:{a:s,b:u},attrs:{transposeA:d,transposeB:f},backend:a}),c&&(n=(0,y.IH)({inputs:{a:t,b:c},backend:a}),m.push(t),t=n),p&&(r=Ee(a,t,p,l,h),m.push(t),t=r);for(var v=0,g=m;v<g.length;v++){var b=g[v];a.disposeIntermediateTensorInfo(b)}return t}},Ie=(0,de.A)(i.Acos,(function(e){return Math.acos(e)})),Ne={kernelName:i.Acos,backendName:"cpu",kernelFunc:Ie},Pe=(0,de.A)(i.Acosh,(function(e){return Math.acosh(e)})),Me={kernelName:i.Acosh,backendName:"cpu",kernelFunc:Pe};var Le={kernelName:i.AddN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;(0,h.H)(t,"addN");for(var a=r.map((function(e){return n.data.get(e.dataId).values})),o=(0,i.buffer)(r[0].shape,r[0].dtype),s=o.values,u=0;u<r.length;u++)for(var c=a[u],l=0;l<s.length;l++)s[l]+=c[l];return n.makeTensorInfo(o.shape,o.dtype,o.values)}},De=n(65257);var Fe={kernelName:i.All,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims;(0,h.H)(a,"all");var u=i.util.parseAxisParam(o,a.shape),c=u,l=i.backend_util.getAxesPermutation(c,a.shape.length),d=a;null!=l&&(d=(0,De.p)({inputs:{x:a},backend:n,attrs:{perm:l}}),c=i.backend_util.getInnerMostAxes(c.length,a.shape.length)),i.backend_util.assertAxesAreInnerMostDims("all",c,d.shape.length);for(var f=i.backend_util.computeOutAndReduceShapes(d.shape,c),p=(0,ge.Z)(f,2),m=p[0],v=p[1],g=i.util.sizeFromShape(v),y=i.util.makeZerosTypedArray(i.util.sizeFromShape(m),d.dtype),b=n.data.get(d.dataId).values,w=0;w<y.length;++w){for(var k=w*g,x=b[k],_=0;_<g;++_){var S=b[k+_];x=x&&S}y[w]=x}null!=l&&n.disposeIntermediateTensorInfo(d);var E=n.makeTensorInfo(m,d.dtype,y);if(s){var C=Ce({inputs:{x:E},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(m,u)}});return n.disposeIntermediateTensorInfo(E),C}return E}};var Be={kernelName:i.Any,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims;(0,h.H)(a,"any");var u=i.util.parseAxisParam(o,a.shape),c=u,l=i.backend_util.getAxesPermutation(c,a.shape.length),d=a;null!=l&&(d=(0,De.p)({inputs:{x:a},backend:n,attrs:{perm:l}}),c=i.backend_util.getInnerMostAxes(c.length,a.shape.length)),i.backend_util.assertAxesAreInnerMostDims("any",c,d.shape.length);for(var f=i.backend_util.computeOutAndReduceShapes(d.shape,c),p=(0,ge.Z)(f,2),m=p[0],v=p[1],g=i.util.sizeFromShape(v),y=i.util.makeZerosTypedArray(i.util.sizeFromShape(m),d.dtype),b=n.data.get(d.dataId).values,w=0;w<y.length;++w){for(var k=w*g,x=b[k],_=0;_<g;++_){var S=b[k+_];x=x||S}y[w]=x}null!=l&&n.disposeIntermediateTensorInfo(d);var E=n.makeTensorInfo(m,d.dtype,y);if(s){var C=Ce({inputs:{x:E},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(m,u)}});return n.disposeIntermediateTensorInfo(E),C}return E}};var je={kernelName:i.ArgMax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis;(0,h.H)(a,"argMax");var s=i.util.parseAxisParam(o,a.shape),u=i.backend_util.getAxesPermutation(s,a.shape.length),c=a,l=[];null!=u&&(c=(0,De.p)({inputs:{x:a},backend:n,attrs:{perm:u}}),l.push(c),s=i.backend_util.getInnerMostAxes(s.length,c.shape.length)),s=[s[0]],i.backend_util.assertAxesAreInnerMostDims("argMax",s,c.shape.length);for(var d=i.backend_util.computeOutAndReduceShapes(c.shape,s),f=(0,ge.Z)(d,2),p=f[0],m=f[1],v=i.util.sizeFromShape(p),g=i.util.makeZerosTypedArray(v,"int32"),y=i.util.sizeFromShape(m),b=n.data.get(c.dataId).values,w=0;w<g.length;++w){for(var k=w*y,x=b[k],_=0,S=0;S<y;++S){var E=b[k+S];E>x&&(x=E,_=S)}g[w]=_}return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",g)}};var Ze={kernelName:i.ArgMin,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis;(0,h.H)(a,"argMin");var s=i.util.parseAxisParam(o,a.shape),u=i.backend_util.getAxesPermutation(s,a.shape.length),c=a,l=[];null!=u&&(c=(0,De.p)({inputs:{x:a},backend:n,attrs:{perm:u}}),l.push(c),s=i.backend_util.getInnerMostAxes(s.length,c.shape.length)),s=[s[0]],i.backend_util.assertAxesAreInnerMostDims("argMin",s,c.shape.length);for(var d=i.backend_util.computeOutAndReduceShapes(c.shape,s),f=(0,ge.Z)(d,2),p=f[0],m=f[1],v=i.util.sizeFromShape(p),g=i.util.makeZerosTypedArray(v,"int32"),y=i.util.sizeFromShape(m),b=n.data.get(c.dataId).values,w=0;w<g.length;++w){for(var k=w*y,x=b[k],_=0,S=0;S<y;++S){var E=b[k+S];E<x&&(x=E,_=S)}g[w]=_}return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",g)}},Ve=(0,de.A)(i.Asin,(function(e){return Math.asin(e)})),Ue={kernelName:i.Asin,backendName:"cpu",kernelFunc:Ve},We=(0,de.A)(i.Asinh,(function(e){return Math.asinh(e)})),He={kernelName:i.Asinh,backendName:"cpu",kernelFunc:We},ze=(0,de.A)(i.Atan,(function(e){return Math.atan(e)})),Ge={kernelName:i.Atan,backendName:"cpu",kernelFunc:ze},qe=(0,X.b)((function(e,t){return Math.atan2(e,t)})),Ke=(0,Q.j)(i.Atan2,qe),Ye={kernelName:i.Atan2,backendName:"cpu",kernelFunc:Ke},Xe=(0,de.A)(i.Atanh,(function(e){return Math.atanh(e)})),Qe={kernelName:i.Atanh,backendName:"cpu",kernelFunc:Xe};function Je(e,t,n,r,a,o){for(var s=a.strideHeight,u=a.strideWidth,c=a.dilationHeight,l=a.dilationWidth,d=a.effectiveFilterHeight,f=a.effectiveFilterWidth,p=a.padInfo.top,h=a.padInfo.left,m="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=(0,i.buffer)(a.outShape,n),g=v.values,y=a.outShape[1]*a.outShape[2]*a.outShape[3],b=a.outShape[2]*a.outShape[3],w=a.outShape[3],k=0;k<a.batchSize;++k)for(var x=k*y,_=k*r[0],S=0;S<a.inChannels;++S)for(var E=0;E<a.outHeight;++E)for(var C=E*s-p,T=Math.max(0,C),A=Math.min(a.inHeight,d+C),O=x+E*b,R=0;R<a.outWidth;++R){for(var I=R*u-h,N=Math.max(0,I),P=Math.min(a.inWidth,f+I),M=m,L=0,D=0,F=T;F<A;F+=c){for(var B=_+F*r[1],j=N;j<P;j+=l){var Z=e[B+j*r[2]+S];"max"===o&&Z>M?M=Z:"avg"===o&&(L+=Z,D++)}if(isNaN(M))break}g[O+R*w+S]="avg"===o?L/D:M}return v}function $e(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=(0,i.buffer)(r.outShape,"int32"),u=r.strideHeight,c=r.strideWidth,l=r.dilationHeight,d=r.dilationWidth,f=r.effectiveFilterHeight,p=r.effectiveFilterWidth,h=r.padInfo.top,m=r.padInfo.left,v=(0,i.buffer)(t,n,e),g=0;g<r.batchSize;++g)for(var y=0;y<r.inChannels;++y)for(var b=0;b<r.outHeight;++b){for(var w=b*u-h,k=w;k<0;)k+=l;for(var x=Math.min(r.inHeight,f+w),_=0;_<r.outWidth;++_){for(var S=_*c-m,E=S;E<0;)E+=d;for(var C=Math.min(r.inWidth,p+S),T=Number.NEGATIVE_INFINITY,A=-1,O=k;O<x;O+=l)for(var R=O-w,I=E;I<C;I+=d){var N=I-S,P=v.get(g,O,I,y);P>T&&(T=P,A=a?o?((g*r.inHeight+O)*r.inWidth+I)*r.inChannels+y:(O*r.inWidth+I)*r.inChannels+y:R*p+N)}s.set(A,g,b,_,y)}}return s}function et(e,t,n,r,a,o){for(var s=a.strideDepth,u=a.strideHeight,c=a.strideWidth,l=a.dilationDepth,d=a.dilationHeight,f=a.dilationWidth,p=a.effectiveFilterDepth,h=a.effectiveFilterHeight,m=a.effectiveFilterWidth,v=a.padInfo.front,g=a.padInfo.top,y=a.padInfo.left,b="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,w=(0,i.buffer)(a.outShape,n),k=w.values,x=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],_=a.outShape[2]*a.outShape[3]*a.outShape[4],S=a.outShape[3]*a.outShape[4],E=a.outShape[4],C=0;C<a.batchSize;++C)for(var T=C*x,A=C*r[0],O=0;O<a.inChannels;++O)for(var R=0;R<a.outDepth;++R){for(var I=R*s-v,N=I;N<0;)N+=l;for(var P=Math.min(a.inDepth,p+I),M=T+R*_,L=0;L<a.outHeight;++L){for(var D=L*u-g,F=D;F<0;)F+=d;for(var B=Math.min(a.inHeight,h+D),j=M+L*S,Z=0;Z<a.outWidth;++Z){for(var V=Z*c-y,U=V;U<0;)U+=f;for(var W=Math.min(a.inWidth,m+V),H=j+Z*E,z=b,G=0,q=0,K=N;K<P;K+=l){for(var Y=A+K*r[1],X=F;X<B;X+=d){for(var Q=Y+X*r[2],J=U;J<W;J+=f){var $=e[Q+J*r[3]+O];if("max"===o&&$>z?z=$:"avg"===o&&(G+=$,q++),isNaN(z))break}if(isNaN(z))break}if(isNaN(z))break}k[H+O]="avg"===o?G/q:z}}}return w}var tt={kernelName:i.AvgPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;(0,h.H)(a,"avgPool");var o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode;i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(s,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")}));var l,d=i.backend_util.computePool2DInfo(a.shape,o,s,1,u,c);if(1===d.filterWidth&&1===d.filterHeight&&i.util.arraysEqual(d.inShape,d.outShape))l=(0,he.y)({inputs:{x:a},backend:n});else{var f=n.data.get(a.dataId).values,p=i.util.computeStrides(a.shape),m=Je(f,a.shape,a.dtype,p,d,"avg");l=n.makeTensorInfo(d.outShape,a.dtype,m.values)}return l}};var nt={kernelName:i.AvgPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode,l=r.dataFormat;(0,h.H)(a,"avgPool3d");var d=i.backend_util.computePool3DInfo(a.shape,o,s,1,u,c,l),f=et(n.data.get(a.dataId).values,a.shape,a.dtype,i.util.computeStrides(a.shape),d,"avg");return n.makeTensorInfo(f.shape,"float32",f.values)}};var rt={kernelName:i.AvgPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=r.filterSize,u=r.strides,c=r.pad,l=r.dimRoundingMode;(0,h.H)([a,o],"avgPool3DGrad");for(var d=i.backend_util.computePool3DInfo(o.shape,s,u,1,c,l),f=d.strideDepth,p=d.strideHeight,m=d.strideWidth,v=d.filterDepth,g=d.filterHeight,y=d.filterWidth,b=d.dilationDepth,w=d.dilationHeight,k=d.dilationWidth,x=d.effectiveFilterDepth,_=d.effectiveFilterHeight,S=d.effectiveFilterWidth,E=x-1-d.padInfo.front,C=S-1-d.padInfo.left,T=_-1-d.padInfo.top,A=(0,i.buffer)(o.shape,"float32"),O=1/(v*g*y),R=n.bufferSync(a),I=0;I<d.batchSize;++I)for(var N=0;N<d.inChannels;++N)for(var P=0;P<d.inDepth;++P)for(var M=0;M<d.inHeight;++M)for(var L=0;L<d.inWidth;++L){for(var D=P-E,F=M-T,B=L-C,j=0,Z=0;Z<x;Z+=b){var V=(D+Z)/f;if(!(V<0||V>=d.outDepth||Math.floor(V)!==V))for(var U=0;U<_;U+=w){var W=(F+U)/p;if(!(W<0||W>=d.outHeight||Math.floor(W)!==W))for(var H=0;H<S;H+=k){var z=(B+H)/m;if(!(z<0||z>=d.outWidth||Math.floor(z)!==z))j+=R.get(I,V,W,z,N)}}}A.set(j*O,I,P,M,L,N)}return n.makeTensorInfo(A.shape,A.dtype,A.values)}};var it={kernelName:i.AvgPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=o;(0,h.H)([a,o],"avgPoolGrad");for(var u=r.filterSize,c=r.strides,l=r.pad,d=i.backend_util.computePool2DInfo(s.shape,u,c,1,l),f=d.strideHeight,p=d.strideWidth,m=d.filterHeight,v=d.filterWidth,g=d.dilationHeight,y=d.dilationWidth,b=d.effectiveFilterHeight,w=d.effectiveFilterWidth,k=w-1-d.padInfo.left,x=b-1-d.padInfo.top,_=(0,i.buffer)(s.shape,"float32"),S=1/(m*v),E=n.data.get(a.dataId).values,C=(0,i.buffer)(a.shape,"float32",E),T=0;T<d.batchSize;++T)for(var A=0;A<d.inChannels;++A)for(var O=0;O<d.inHeight;++O)for(var R=0;R<d.inWidth;++R){for(var I=O-x,N=R-k,P=0,M=0;M<b;M+=g){var L=(I+M)/f;if(!(L<0||L>=d.outHeight||Math.floor(L)!==L))for(var D=0;D<w;D+=y){var F=(N+D)/p;if(!(F<0||F>=d.outWidth||Math.floor(F)!==F))P+=C.get(T,L,F,A)}}_.set(P*S,T,O,R,A)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}};var at={kernelName:i.FusedBatchNorm,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.scale,s=t.offset,u=t.mean,c=t.variance;i.util.assert(u.shape.length===c.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),i.util.assert(null==s||u.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),i.util.assert(null==o||u.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),(0,h.H)([a,u,c,o,s],"batchNorm");var l=r.varianceEpsilon;null==l&&(l=.001);for(var d=n.data.get(a.dataId).values,f=n.data.get(u.dataId).values,p=n.data.get(c.dataId).values,m=o?n.data.get(o.dataId).values:new Float32Array([1]),v=s?n.data.get(s.dataId).values:new Float32Array([0]),g=new Float32Array(d.length),y=v.length,b=m.length,w=p.length,k=f.length,x=0,_=0,S=0,E=0,C=0;C<d.length;++C)g[C]=v[x++]+(d[C]-f[_++])*m[S++]/Math.sqrt(p[E++]+l),x>=y&&(x=0),_>=k&&(_=0),S>=b&&(S=0),E>=w&&(E=0);return n.makeTensorInfo(a.shape,a.dtype,g)}};var ot={kernelName:i.BatchToSpaceND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,s=r.crops;(0,h.H)([a],"batchToSpaceND");var u=o.reduce((function(e,t){return e*t})),c=i.backend_util.getReshaped(a.shape,o,u),l=i.backend_util.getPermuted(c.length,o.length),d=i.backend_util.getReshapedPermuted(a.shape,o,u),f=i.backend_util.getSliceBeginCoords(s,o.length),p=i.backend_util.getSliceSize(d,s,o.length),m=Ce({inputs:{x:a},backend:n,attrs:{shape:c}}),v=(0,De.p)({inputs:{x:m},backend:n,attrs:{perm:l}}),g=Ce({inputs:{x:v},backend:n,attrs:{shape:d}}),y=(0,z.tP)({inputs:{x:g},backend:n,attrs:{begin:f,size:p}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),y}};var st={kernelName:i.Bincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,c=(0,b.W)(s,u,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,c)}};var ut={kernelName:i.BroadcastArgs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,u=i.backend_util.assertAndGetBroadcastShape(Array.from(o),Array.from(s));return n.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},ct=n(60570),lt=(0,de.A)(i.ClipByValue,(function(e,t){var n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),dt={kernelName:i.ClipByValue,backendName:"cpu",kernelFunc:lt},ft=n(36545),pt={kernelName:i.ComplexAbs,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs.x,n=e.backend,r=new Float32Array(i.util.sizeFromShape(t.shape)),a=n.data.get(t.dataId),o=a.complexTensorInfos.real,s=a.complexTensorInfos.imag,u=n.data.get(o.dataId).values,c=n.data.get(s.dataId).values,l=0;l<u.length;l++){var d=u[l],f=c[l];r[l]=Math.hypot(d,f)}return n.makeOutput(r,t.shape,"float32")}};function ht(e){var t=e.inputs,n=e.backend,r=t.input,i=n.data.get(r.dataId).complexTensorInfos.imag,a=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,a)}var mt={kernelName:i.Imag,backendName:"cpu",kernelFunc:ht},vt=n(36241);function gt(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=i.util.parseAxisParam(r,t[0].shape)[0],o=i.backend_util.computeOutShape(t.map((function(e){return e.shape})),a);if(0===i.util.sizeFromShape(o))return n.makeTensorInfo(o,t[0].dtype,[]);var s=t.filter((function(e){return i.util.sizeFromShape(e.shape)>0}));if(1===s.length)return(0,he.y)({inputs:{x:s[0]},backend:n});var u=s.map((function(e){return e.shape}));if(i.backend_util.assertParamsConsistent(u,a),"complex64"===s[0].dtype){var c=s.map((function(e){return(0,vt.k)({inputs:{input:e},backend:n})})),l=s.map((function(e){return ht({inputs:{input:e},backend:n})})),d=gt({inputs:c,backend:n,attrs:{axis:a}}),f=gt({inputs:l,backend:n,attrs:{axis:a}}),p=(0,ft.P)({inputs:{real:d,imag:f},backend:n});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),p}var h=s.map((function(e){var t=i.util.sizeFromShape(e.shape.slice(a));return Ce({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),m=h.map((function(e){return{vals:n.data.get(e.dataId).values,shape:e.shape}}));o=i.backend_util.computeOutShape(h.map((function(e){return e.shape})),1);var v=1===h[0].shape[0],g=(0,k.j)(m,o,t[0].dtype,v),y=i.backend_util.computeOutShape(s.map((function(e){return e.shape})),a),b=n.makeTensorInfo(y,t[0].dtype,g);return h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}var yt={kernelName:i.Concat,backendName:"cpu",kernelFunc:gt};function bt(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dataFormat,l=r.dilations,d=r.dimRoundingMode;(0,h.H)([a,o],"conv2d");for(var f=i.backend_util.convertConv2DDataFormat(c),p=i.backend_util.computeConv2DInfo(a.shape,o.shape,s,l,u,d,!1,f),m=p.filterHeight,v=p.filterWidth,g=p.dilationHeight,y=p.dilationWidth,b=p.padInfo.left,w=p.padInfo.top,k="channelsLast"===p.dataFormat,x=new i.TensorBuffer(p.outShape,a.dtype),_=i.util.computeStrides(a.shape),S=i.util.computeStrides(o.shape),E=_[0],C=k?_[1]:_[2],T=k?_[2]:1,A=k?1:_[1],O=x.strides[0],R=k?x.strides[1]:x.strides[2],I=k?x.strides[2]:1,N=k?1:x.strides[1],P=n.data.get(a.dataId).values,M=n.data.get(o.dataId).values,L=x.values,D=0;D<p.batchSize;++D)for(var F=D*E,B=D*O,j=0;j<p.outHeight;++j)for(var Z=B+j*R,V=j*p.strideHeight-w,U=0;U<m;++U){var W=V+U*g;if(!(W<0||W>=p.inHeight))for(var H=U*S[0],z=F+W*C,G=0;G<p.outWidth;++G)for(var q=Z+G*I,K=G*p.strideWidth-b,Y=0;Y<v;++Y){var X=K+Y*y;if(!(X<0||X>=p.inWidth))for(var Q=z+X*T,J=H+Y*S[1],$=0;$<p.inChannels;++$){for(var ee=P[Q+$*A],te=0;te<p.outChannels;++te)L[q+te*N]+=ee*M[J+te];J+=p.outChannels}}}return n.makeTensorInfo(x.shape,x.dtype,L)}var wt={kernelName:i.Conv2D,backendName:"cpu",kernelFunc:bt};var kt={kernelName:i.Conv2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.pad,c=r.dataFormat,l=r.dimRoundingMode,d=r.filterShape;(0,h.H)([a,o],"conv2dBackpropFilter");for(var f=i.backend_util.convertConv2DDataFormat(c),p=i.backend_util.computeConv2DInfo(a.shape,d,s,1,u,l,!1,f),m=p.strideHeight,v=p.strideWidth,g=p.filterHeight,y=p.filterWidth,b="channelsLast"===p.dataFormat,w=new i.TensorBuffer(p.filterShape,"float32"),k=p.padInfo.left,x=p.padInfo.top,_=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,E=new i.TensorBuffer(a.shape,a.dtype,_),C=new i.TensorBuffer(o.shape,o.dtype,S),T=0;T<g;++T)for(var A=Math.max(0,Math.ceil((x-T)/m)),O=Math.min(p.outHeight,(p.inHeight+x-T)/m),R=0;R<y;++R)for(var I=Math.max(0,Math.ceil((k-R)/v)),N=Math.min(p.outWidth,(p.inWidth+k-R)/v),P=0;P<p.inChannels;++P)for(var M=0;M<p.outChannels;++M){for(var L=0,D=0;D<p.batchSize;++D)for(var F=A;F<O;++F)for(var B=T+F*m-x,j=I;j<N;++j){var Z=R+j*v-k;L+=b?E.get(D,B,Z,P)*C.get(D,F,j,M):E.get(D,P,B,Z)*C.get(D,M,F,j)}w.set(L,T,R,P,M)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var xt={kernelName:i.Conv2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,s=r.inputShape,u=r.strides,c=r.pad,l=r.dataFormat,d=r.dimRoundingMode;(0,h.H)([a,o],"conv2dBackpropInput");var f=i.util.computeStrides(o.shape),p=i.util.computeStrides(a.shape),m=i.backend_util.convertConv2DDataFormat(l),v=i.backend_util.computeConv2DInfo(s,o.shape,u,1,c,d,!1,m),g=new i.TensorBuffer(v.inShape,"float32"),y=g.values,b=n.data.get(a.dataId).values,w=n.data.get(o.dataId).values,k=(0,ge.Z)(f,3),x=k[0],_=k[1],S=k[2],E=v.batchSize,C=v.filterHeight,T=v.filterWidth,A=v.inChannels,O=v.inHeight,R=v.inWidth,I=v.outChannels,N=v.outHeight,P=v.outWidth,M=v.strideHeight,L=v.strideWidth;m=v.dataFormat;for(var D=C-1-v.padInfo.top,F=T-1-v.padInfo.left,B="channelsLast"===m,j=g.strides[0],Z=B?g.strides[1]:g.strides[2],V=B?g.strides[2]:1,U=B?1:g.strides[1],W=p[0],H=B?p[1]:p[2],z=B?p[2]:1,G=B?1:p[1],q=0;q<E;++q)for(var K=0;K<A;++K)for(var Y=0;Y<O;++Y)for(var X=Y-D,Q=Math.max(0,Math.ceil(X/M)),J=Math.min(N,(C+X)/M),$=0;$<R;++$){for(var ee=$-F,te=Math.max(0,Math.ceil(ee/L)),ne=Math.min(P,(T+ee)/L),re=0,ie=Q;ie<J;++ie)for(var ae=ie*M-X,oe=te;oe<ne;++oe)for(var se=W*q+H*ie+z*oe,ue=x*(C-1-ae)+_*(T-1-(oe*L-ee))+S*K,ce=0;ce<I;++ce){re+=b[se+G*ce]*w[ue+ce]}y[j*q+Z*Y+V*$+U*K]=re}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var _t={kernelName:i.Conv3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations;(0,h.H)([a,o],"conv3d");for(var l=i.backend_util.computeConv3DInfo(a.shape,o.shape,s,c,u),d=l.filterDepth,f=l.filterHeight,p=l.filterWidth,m=l.dilationDepth,v=l.dilationHeight,g=l.dilationWidth,y=l.padInfo,b=y.front,w=y.left,k=y.top,x=new i.TensorBuffer(l.outShape,a.dtype),_=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,E=x.values,C=i.util.computeStrides(a.shape),T=i.util.computeStrides(o.shape),A=0;A<l.batchSize;++A)for(var O=A*C[0],R=A*x.strides[0],I=0;I<l.outDepth;++I)for(var N=R+I*x.strides[1],P=I*l.strideDepth-b,M=0;M<d;++M){var L=P+M*m;if(!(L<0||L>=l.inDepth))for(var D=M*T[0],F=O+L*C[1],B=0;B<l.outHeight;++B)for(var j=N+B*x.strides[2],Z=B*l.strideHeight-k,V=0;V<f;++V){var U=Z+V*v;if(!(U<0||U>=l.inHeight))for(var W=D+V*T[1],H=F+U*C[2],z=0;z<l.outWidth;++z)for(var G=j+z*l.outChannels,q=z*l.strideWidth-w,K=0;K<p;++K){var Y=q+K*g;if(!(Y<0||Y>=l.inWidth))for(var X=W+K*T[2],Q=H+Y*l.inChannels,J=X,$=0;$<l.inChannels;++$){for(var ee=_[Q+$],te=0;te<l.outChannels;++te)E[G+te]+=ee*S[J+te];J+=l.outChannels}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var St={kernelName:i.Conv3DBackpropFilterV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.pad,c=r.filterShape;(0,h.H)([a,o],"conv3dBackpropFilterV2");for(var l=i.util.computeStrides(a.shape),d=i.util.computeStrides(o.shape),f=i.backend_util.computeConv3DInfo(a.shape,c,s,1,u),p=f.strideDepth,m=f.strideHeight,v=f.strideWidth,g=f.filterDepth,y=f.filterHeight,b=f.filterWidth,w=new i.TensorBuffer(f.filterShape,"float32"),k=w.values,x=(0,ge.Z)(w.strides,4),_=x[0],S=x[1],E=x[2],C=x[3],T=n.data.get(o.dataId).values,A=(0,ge.Z)(d,4),O=A[0],R=A[1],I=A[2],N=A[3],P=n.data.get(a.dataId).values,M=(0,ge.Z)(l,4),L=M[0],D=M[1],F=M[2],B=M[3],j=f.padInfo.front,Z=f.padInfo.left,V=f.padInfo.top,U=0;U<g;++U)for(var W=Math.max(0,Math.ceil((j-U)/p)),H=Math.min(f.outDepth,(f.inDepth+j-U)/p),z=U*_,G=0;G<y;++G)for(var q=Math.max(0,Math.ceil((V-G)/m)),K=Math.min(f.outHeight,(f.inHeight+V-G)/m),Y=G*S+z,X=0;X<b;++X)for(var Q=Math.max(0,Math.ceil((Z-X)/v)),J=Math.min(f.outWidth,(f.inWidth+Z-X)/v),$=X*E+Y,ee=0;ee<f.inChannels;++ee)for(var te=ee*C+$,ne=0;ne<f.outChannels;++ne){for(var re=0,ie=0;ie<f.batchSize;++ie)for(var ae=ie*L,oe=ie*O,se=W;se<H;++se)for(var ue=(U+se*p-j)*D+ae,ce=se*R+oe,le=q;le<K;++le)for(var de=(G+le*m-V)*F+ue,fe=le*I+ce,pe=Q;pe<J;++pe){var he=pe*N+fe;re+=P[(X+pe*v-Z)*B+de+ee]*T[he+ne]}k[te+ne]=re}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var Et={kernelName:i.Conv3DBackpropInputV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,s=r.pad,u=r.strides,c=r.inputShape;(0,h.H)([a],"conv3dBackpropInputV2");for(var l=i.util.computeStrides(a.shape),d=i.util.computeStrides(o.shape),f=i.backend_util.computeConv3DInfo(c,o.shape,u,1,s),p=new i.TensorBuffer(f.inShape,"float32"),m=p.values,v=(0,ge.Z)(p.strides,4),g=v[0],y=v[1],b=v[2],w=v[3],k=n.data.get(a.dataId).values,x=(0,ge.Z)(l,4),_=x[0],S=x[1],E=x[2],C=x[3],T=n.data.get(o.dataId).values,A=(0,ge.Z)(d,4),O=A[0],R=A[1],I=A[2],N=A[3],P=f.batchSize,M=f.filterDepth,L=f.filterHeight,D=f.filterWidth,F=f.inChannels,B=f.inDepth,j=f.inHeight,Z=f.inWidth,V=f.outChannels,U=f.outDepth,W=f.outHeight,H=f.outWidth,z=f.strideDepth,G=f.strideHeight,q=f.strideWidth,K=M-1-f.padInfo.front,Y=L-1-f.padInfo.top,X=D-1-f.padInfo.left,Q=0;Q<P;++Q)for(var J=0;J<F;++J)for(var $=0;$<B;++$)for(var ee=$-K,te=Math.max(0,Math.ceil(ee/z)),ne=Math.min(U,(M+ee)/z),re=0;re<j;++re)for(var ie=re-Y,ae=Math.max(0,Math.ceil(ie/G)),oe=Math.min(W,(L+ie)/G),se=0;se<Z;++se){for(var ue=se-X,ce=Math.max(0,Math.ceil(ue/q)),le=Math.min(H,(D+ue)/q),de=0,fe=te;fe<ne;++fe)for(var pe=fe*z-ee,he=ae;he<oe;++he)for(var me=he*G-ie,ve=ce;ve<le;++ve)for(var ye=_*Q+S*fe+E*he+C*ve,be=O*(M-1-pe)+R*(L-1-me)+I*(D-1-(ve*q-ue))+N*J,we=0;we<V;++we){de+=k[ye+we]*T[be+we]}m[g*Q+y*$+b*re+w*se+J]=de}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},Ct=(0,de.A)(i.Cos,(function(e){return Math.cos(e)})),Tt={kernelName:i.Cos,backendName:"cpu",kernelFunc:Ct},At=(0,de.A)(i.Cosh,(function(e){return Math.cosh(e)})),Ot={kernelName:i.Cosh,backendName:"cpu",kernelFunc:At};var Rt={kernelName:i.CropAndResize,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,o=t.boxes,s=t.boxInd,u=r.cropSize,c=r.method,l=r.extrapolationValue,d=(0,ge.Z)(a.shape,4),f=d[0],p=d[1],h=d[2],m=d[3],v=o.shape[0],g=(0,ge.Z)(u,2),y=g[0],b=g[1],w=(0,i.buffer)([v,y,b,m],"float32"),k=n.data.get(o.dataId).values,x=n.data.get(s.dataId).values,_=n.data.get(a.dataId).values,S=i.util.computeStrides(a.shape),E=i.util.computeStrides(w.shape),C=0;C<v;C++){var T=4*C,A=k[T],O=k[T+1],R=k[T+2],I=k[T+3],N=x[C];if(!(N>=f))for(var P=y>1?(R-A)*(p-1)/(y-1):0,M=b>1?(I-O)*(h-1)/(b-1):0,L=0;L<y;L++){var D=y>1?A*(p-1)+L*P:.5*(A+R)*(p-1);if(D<0||D>p-1)for(var F=0;F<b;F++)for(var B=0;B<m;B++){var j=B+F*E[2]+L*E[1]+C*E[0];w.values[j]=l}else if("bilinear"===c)for(var Z=Math.floor(D),V=Math.ceil(D),U=D-Z,W=0;W<b;W++){var H=b>1?O*(h-1)+W*M:.5*(O+I)*(h-1);if(H<0||H>h-1)for(var z=0;z<m;z++){var G=z+W*E[2]+L*E[1]+C*E[0];w.values[G]=l}else for(var q=Math.floor(H),K=Math.ceil(H),Y=H-q,X=0;X<m;X++){var Q=X+q*S[2]+Z*S[1]+N*S[0],J=_[Q],$=_[Q=X+K*S[2]+Z*S[1]+N*S[0]],ee=_[Q=X+q*S[2]+V*S[1]+N*S[0]],te=J+($-J)*Y,ne=ee+(_[Q=X+K*S[2]+V*S[1]+N*S[0]]-ee)*Y;Q=X+W*E[2]+L*E[1]+C*E[0],w.values[Q]=te+(ne-te)*U}}else for(var re=0;re<b;++re){var ie=b>1?O*(h-1)+re*M:.5*(O+I)*(h-1);if(ie<0||ie>h-1)for(var ae=0;ae<m;ae++){var oe=ae+re*E[2]+L*E[1]+C*E[0];w.values[oe]=l}else for(var se=Math.round(ie),ue=Math.round(D),ce=0;ce<m;ce++){var le=ce+se*S[2]+ue*S[1]+N*S[0],de=ce+re*E[2]+L*E[1]+C*E[0];w.values[de]=_[le]}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var It={kernelName:i.Cumprod,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.exclusive,u=r.reverse;(0,h.H)(a,"cumprod");var c=i.backend_util.getAxesPermutation([o],a.shape.length),l=a;null!=c&&(l=(0,De.p)({inputs:{x:a},backend:n,attrs:{perm:c}}));var d=i.backend_util.getInnerMostAxes(1,a.shape.length)[0];if(d!==l.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(d));for(var f=(0,i.upcastType)(l.dtype,"int32"),p=i.util.makeOnesTypedArray(i.util.sizeFromShape(l.shape),f),m=n.data.get(l.dataId).values,v=l.shape[l.shape.length-1],g=u?function(e,t){return e+v-t-1}:function(e,t){return e+t},y=0;y<m.length;y+=v)for(var b=0;b<v;b++){var w=g(y,b);if(0===b)p[w]=s?1:m[w];else{var k=g(y,b-1);p[w]=s?m[k]*p[k]:m[w]*p[k]}}var x=n.makeTensorInfo(l.shape,f,p);if(null!=c){var _=i.backend_util.getUndoAxesPermutation(c),S=(0,De.p)({inputs:{x:x},backend:n,attrs:{perm:_}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(l),S}return x}};var Nt={kernelName:i.Cumsum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.exclusive,u=r.reverse;(0,h.H)(a,"cumsum");var c=i.backend_util.getAxesPermutation([o],a.shape.length),l=a;null!=c&&(l=(0,De.p)({inputs:{x:a},backend:n,attrs:{perm:c}}));var d=i.backend_util.getInnerMostAxes(1,a.shape.length)[0];if(d!==l.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(d));for(var f=(0,i.upcastType)(l.dtype,"int32"),p=i.util.makeZerosTypedArray(i.util.sizeFromShape(l.shape),f),m=n.data.get(l.dataId).values,v=l.shape[l.shape.length-1],g=u?function(e,t){return e+v-t-1}:function(e,t){return e+t},y=0;y<m.length;y+=v)for(var b=0;b<v;b++){var w=g(y,b);if(0===b)p[w]=s?0:m[w];else{var k=g(y,b-1);p[w]=s?m[k]+p[k]:m[w]+p[k]}}var x=n.makeTensorInfo(l.shape,f,p);if(null!=c){var _=i.backend_util.getUndoAxesPermutation(c),S=(0,De.p)({inputs:{x:x},backend:n,attrs:{perm:_}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(l),S}return x}};var Pt={kernelName:i.DenseBincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=r.binaryOutput;if(1===i.shape.length){var u=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values,l=(0,b.W)(u,c,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,l)}if(2===i.shape.length){var d=n.bufferSync(i),f=n.bufferSync(a),p=(0,b.i)(d,f,o,s);return n.makeTensorInfo(p.shape,a.dtype,p.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(i.shape.length,"."))}};var Mt={kernelName:i.DepthToSpace,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockSize,s=r.dataFormat;i.util.assert("NHWC"===s,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(s)}));for(var u=a.shape[0],c=a.shape[1],l=a.shape[2],d=a.shape[3],f=c*o,p=l*o,h=d/(o*o),m=n.data.get(a.dataId).values,v=new Float32Array(u*f*p*h),g=0,y=0;y<u;++y)for(var b=0;b<f;++b)for(var w=Math.floor(b/o),k=b%o,x=0;x<p;++x)for(var _=Math.floor(x/o),S=(k*o+x%o)*h,E=0;E<h;++E){var C=E+S+d*(_+l*(w+c*y));v[g++]=m[C]}return n.makeTensorInfo([u,f,p,h],a.dtype,v)}};function Lt(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations,l=r.dimRoundingMode;(0,h.H)([a,o],"depthwiseConv2DNative");var d=i.util.computeStrides(a.shape),f=i.util.computeStrides(o.shape),p=c;null==p&&(p=[1,1]),i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(s,p),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(p,"'")}));for(var m=i.backend_util.computeConv2DInfo(a.shape,o.shape,s,p,u,l,!0),v=m.filterHeight,g=m.filterWidth,y=m.dilationHeight,b=m.dilationWidth,w=m.padInfo,k=w.left,x=w.top,_=m.outChannels/m.inChannels,S=new i.TensorBuffer(m.outShape,a.dtype),E=n.data.get(a.dataId).values,C=n.data.get(o.dataId).values,T=S.values,A=0;A<m.batchSize;++A)for(var O=A*d[0],R=A*S.strides[0],I=0;I<m.outHeight;++I)for(var N=R+I*S.strides[1],P=I*m.strideHeight-x,M=0;M<v;++M){var L=P+M*y;if(!(L<0||L>=m.inHeight))for(var D=M*f[0],F=O+L*d[1],B=0;B<m.outWidth;++B)for(var j=N+B*S.strides[2],Z=B*m.strideWidth-k,V=0;V<g;++V){var U=Z+V*b;if(!(U<0||U>=m.inWidth))for(var W=D+V*f[1],H=F+U*m.inChannels,z=j,G=W,q=0;q<m.inChannels;++q){for(var K=E[H+q],Y=0;Y<_;++Y)T[z+Y]+=K*C[G+Y];z+=_,G+=_}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}var Dt={kernelName:i.DepthwiseConv2dNative,backendName:"cpu",kernelFunc:Lt};var Ft={kernelName:i.DepthwiseConv2dNativeBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.dilations,c=r.pad,l=r.dimRoundingMode,d=r.filterShape;(0,h.H)([a,o],"depthwiseConv2dNativeBackpropFilter");for(var f=i.backend_util.computeConv2DInfo(a.shape,d,s,u,c,l,!0),p=f.strideHeight,m=f.strideWidth,v=f.filterHeight,g=f.filterWidth,y=new i.TensorBuffer(f.filterShape,"float32"),b=f.padInfo.left,w=f.padInfo.top,k=f.outChannels/f.inChannels,x=n.data.get(a.dataId).values,_=new i.TensorBuffer(a.shape,a.dtype,x),S=n.data.get(o.dataId).values,E=new i.TensorBuffer(o.shape,o.dtype,S),C=0;C<v;++C)for(var T=Math.max(0,Math.ceil((w-C)/p)),A=Math.min(f.outHeight,(f.inHeight+w-C)/p),O=0;O<g;++O)for(var R=Math.max(0,Math.ceil((b-O)/m)),I=Math.min(f.outWidth,(f.inWidth+b-O)/m),N=0;N<f.outChannels;++N){for(var P=Math.trunc(N/k),M=N%k,L=0,D=0;D<f.batchSize;++D)for(var F=T;F<A;++F)for(var B=C+F*p-w,j=R;j<I;++j){var Z=O+j*m-b;L+=_.get(D,B,Z,P)*E.get(D,F,j,N)}y.set(L,C,O,P,M)}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var Bt={kernelName:i.DepthwiseConv2dNativeBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,s=r.strides,u=r.dilations,c=r.pad,l=r.dimRoundingMode,d=r.inputShape;(0,h.H)([a,o],"depthwiseConv2DNativeBackpropInput");for(var f=i.util.computeStrides(a.shape),p=i.util.computeStrides(o.shape),m=i.backend_util.computeConv2DInfo(d,o.shape,s,u,c,l,!0),v=new i.TensorBuffer(m.inShape,"float32"),g=v.values,y=(0,ge.Z)(v.strides,3),b=y[0],w=y[1],k=y[2],x=n.data.get(a.dataId).values,_=(0,ge.Z)(f,3),S=_[0],E=_[1],C=_[2],T=n.data.get(o.dataId).values,A=(0,ge.Z)(p,3),O=A[0],R=A[1],I=A[2],N=m.batchSize,P=m.filterHeight,M=m.filterWidth,L=m.inChannels,D=m.inHeight,F=m.inWidth,B=m.outChannels,j=m.outHeight,Z=m.outWidth,V=m.strideHeight,U=m.strideWidth,W=P-1-m.padInfo.top,H=M-1-m.padInfo.left,z=B/L,G=0;G<N;++G)for(var q=0;q<L;++q)for(var K=0;K<D;++K)for(var Y=K-W,X=Math.max(0,Math.ceil(Y/V)),Q=Math.min(j,(P+Y)/V),J=0;J<F;++J){for(var $=J-H,ee=Math.max(0,Math.ceil($/U)),te=Math.min(Z,(M+$)/U),ne=0,re=X;re<Q;++re)for(var ie=re*V-Y,ae=ee;ae<te;++ae)for(var oe=S*G+E*re+C*ae,se=O*(P-1-ie)+R*(M-1-(ae*U-$))+I*q,ue=0;ue<z;++ue){ne+=x[oe+(q*z+ue)]*T[se+ue]}g[b*G+w*K+k*J+q]=ne}return n.makeTensorInfo(v.shape,v.dtype,v.values)}},jt=n(93433);var Zt={kernelName:i.Diag,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=t.x,a=i.util.sizeFromShape(r.shape),o=n.data.get(r.dataId).values,s=(0,i.buffer)([a,a],r.dtype),u=s.values,c=0;c<o.length;c++)u[c*a+c]=o[c];var l=[].concat((0,jt.Z)(r.shape),(0,jt.Z)(r.shape));return n.makeTensorInfo(l,s.dtype,s.values)}},Vt={kernelName:i.Dilation2D,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations,l=n,d=l.data.get(a.dataId).values,f=a.shape.length,p=l.data.get(o.dataId).values,h=o.shape.length,m=i.backend_util.computeDilation2DInfo(a.shape,o.shape,s,u,"NHWC",c),v=m.batchSize,g=m.inHeight,y=m.inWidth,b=m.inChannels,w=m.outHeight,k=m.outWidth,x=m.padInfo,_=m.strideHeight,S=m.strideWidth,E=m.filterHeight,C=m.filterWidth,T=m.dilationHeight,A=m.dilationWidth,O=m.outShape,R=i.util.sizeFromShape(O),I=O.length,N=i.util.getArrayFromDType(a.dtype,R),P=0;P<v;++P)for(var M=0;M<w;++M)for(var L=M*_-x.top,D=0;D<k;++D)for(var F=D*S-x.left,B=0;B<b;++B){for(var j=Number.MIN_SAFE_INTEGER,Z=0;Z<E;++Z){var V=L+Z*T;if(V>=0&&V<g)for(var U=0;U<C;++U){var W=F+U*A;if(W>=0&&W<y){var H=i.util.locToIndex([P,V,W,B],f,i.util.computeStrides(a.shape)),z=i.util.locToIndex([Z,U,B],h,i.util.computeStrides(o.shape)),G=d[H]+p[z];G>j&&(j=G)}}}N[i.util.locToIndex([P,M,D,B],I,i.util.computeStrides(O))]=j}return{dataId:l.write(i.util.toTypedArray(N,a.dtype),O,a.dtype),shape:O,dtype:a.dtype}}},Ut={kernelName:i.Dilation2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=t.dy,u=r.strides,c=r.pad,l=r.dilations,d=n,f=i.util.toNestedArray(a.shape,d.data.get(a.dataId).values),p=i.util.toNestedArray(o.shape,d.data.get(o.dataId).values),h=i.backend_util.computeDilation2DInfo(a.shape,o.shape,u,c,"NHWC",l),m=h.batchSize,v=h.inHeight,g=h.inWidth,y=h.inChannels,b=h.outHeight,w=h.outWidth,k=h.padInfo,x=h.strideHeight,_=h.strideWidth,S=h.filterHeight,E=h.filterWidth,C=h.dilationHeight,T=h.dilationWidth,A=h.outShape;i.util.assert(s.rank===A.length,(function(){return"Error in ".concat(i.Dilation2DBackpropFilter,", dy ")+"must have the same rank as output ".concat(A.length,", but got ")+"".concat(s.rank)}));for(var O=i.util.toNestedArray(A,d.data.get(s.dataId).values),R=i.util.makeZerosNestedTypedArray(o.shape,o.dtype),I=0;I<m;++I)for(var N=0;N<b;++N)for(var P=N*x-k.top,M=0;M<w;++M)for(var L=M*_-k.left,D=0;D<y;++D){for(var F=Number.MIN_SAFE_INTEGER,B=0,j=0,Z=0;Z<S;++Z){var V=P+Z*C;if(V>=0&&V<v)for(var U=0;U<E;++U){var W=L+U*T;if(W>=0&&W<g){var H=f[I][V][W][D]+p[Z][U][D];H>F&&(F=H,B=Z,j=U)}}}R[B][j][D]+=O[I][N][M][D]}return{dataId:d.write(i.util.toTypedArray(R,a.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},Wt={kernelName:i.Dilation2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=t.dy,u=r.strides,c=r.pad,l=r.dilations,d=n,f=i.util.toNestedArray(a.shape,d.data.get(a.dataId).values),p=i.util.toNestedArray(o.shape,d.data.get(o.dataId).values),h=i.backend_util.computeDilation2DInfo(a.shape,o.shape,u,c,"NHWC",l),m=h.batchSize,v=h.inHeight,g=h.inWidth,y=h.inChannels,b=h.outHeight,w=h.outWidth,k=h.padInfo,x=h.strideHeight,_=h.strideWidth,S=h.filterHeight,E=h.filterWidth,C=h.dilationHeight,T=h.dilationWidth,A=h.outShape;i.util.assert(s.rank===A.length,(function(){return"Error in ".concat(i.Dilation2DBackpropInput,", dy ")+"must have the same rank as output ".concat(A.length,", but got ")+"".concat(s.rank)}));for(var O=i.util.toNestedArray(A,d.data.get(s.dataId).values),R=i.util.makeZerosNestedTypedArray(a.shape,a.dtype),I=0;I<m;++I)for(var N=0;N<b;++N)for(var P=N*x-k.top,M=0;M<w;++M)for(var L=M*_-k.left,D=0;D<y;++D){for(var F=Number.MIN_SAFE_INTEGER,B=P<0?0:P,j=L<0?0:L,Z=0;Z<S;++Z){var V=P+Z*C;if(V>=0&&V<v)for(var U=0;U<E;++U){var W=L+U*T;if(W>=0&&W<g){var H=f[I][V][W][D]+p[Z][U][D];H>F&&(F=H,B=V,j=W)}}}R[I][B][j][D]+=O[I][N][M][D]}return{dataId:d.write(i.util.toTypedArray(R,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},Ht=n(37762),zt=n(94842);function Gt(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,s=a.axis,u=a.keepDims;(0,h.H)(o,"sum");var c=(t="bool"===o.dtype?(0,ct.p)({inputs:{x:o},backend:r,attrs:{dtype:"int32"}}):(0,he.y)({inputs:{x:o},backend:r})).shape.length,l=i.util.parseAxisParam(s,t.shape),d=i.backend_util.getAxesPermutation(l,c),f=l,p=t;null!=d&&(p=(0,De.p)({inputs:{x:t},backend:r,attrs:{perm:d}}),f=i.backend_util.getInnerMostAxes(f.length,c)),i.backend_util.assertAxesAreInnerMostDims("sum",f,p.shape.length);for(var m=i.backend_util.computeOutAndReduceShapes(p.shape,f),v=(0,ge.Z)(m,2),g=v[0],y=v[1],b=i.backend_util.upcastType(p.dtype,"int32"),w=(0,zt.l)(r,g,b),k=i.util.sizeFromShape(y),x=r.data.get(w.dataId).values,_=r.data.get(p.dataId).values,S=0;S<x.length;++S){for(var E=S*k,C=0,T=0;T<k;++T)C+=_[E+T];x[S]=C}if(u){var A=w;w=Ce({inputs:{x:w},backend:r,attrs:{shape:i.backend_util.expandShapeToKeepDim(w.shape,l)}}),r.disposeIntermediateTensorInfo(A)}return r.disposeIntermediateTensorInfo(t),null!=d&&r.disposeIntermediateTensorInfo(p),w}var qt={kernelName:i.Sum,backendName:"cpu",kernelFunc:Gt};var Kt={kernelName:i.Einsum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,a=t,o=i.backend_util.decodeEinsumEquation(r,a.length),s=o.allDims,u=o.summedDims,c=o.idDims;i.backend_util.checkEinsumDimSizes(s.length,c,a);for(var l=i.backend_util.getEinsumComputePath(u,c),d=l.path,f=l.steps,p=f.length,h=null,m=s.length,v=[],g=0;g<p;++g){var y,b=(0,Ht.Z)(f[g]);try{for(b.s();!(y=b.n()).done;){var w=y.value,k=i.backend_util.getEinsumPermutation(m,c[w]),x=k.permutationIndices,_=k.expandDims,S=void 0;i.backend_util.isIdentityPermutation(x)?S=a[w]:(S=(0,De.p)({inputs:{x:a[w]},backend:n,attrs:{perm:x}}),v.push(S));for(var E=S.shape.slice(),C=0;C<_.length;++C)E.splice(_[C],0,1);i.util.arraysEqual(S.shape,E)||(S=Ce({inputs:{x:S},backend:n,attrs:{shape:E}}),v.push(S)),null===h?h=S:(h=(0,F.Jp)({inputs:{a:S,b:h},backend:n}),v.push(h))}}catch(R){b.e(R)}finally{b.f()}g<p-1&&(d[g]>=0&&(h=Gt({inputs:{x:h},backend:n,attrs:{axis:d[g]-(s.length-m),keepDims:!1}}),v.push(h)),m--)}for(var T=0,A=v;T<A.length;T++){var O=A[T];O!==h&&n.disposeIntermediateTensorInfo(O)}return h}};var Yt={kernelName:i.EluGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y;(0,h.H)([r,a],"eluGrad");for(var o=new Float32Array(i.util.sizeFromShape(a.shape)),s=n.data.get(a.dataId).values,u=n.data.get(r.dataId).values,c=0;c<s.length;++c){var l=s[c];o[c]=l>=1?u[c]:u[c]*(l+1)}return n.makeTensorInfo(a.shape,"float32",o)}},Xt=i.backend_util.ERF_P,Qt=i.backend_util.ERF_A1,Jt=i.backend_util.ERF_A2,$t=i.backend_util.ERF_A3,en=i.backend_util.ERF_A4,tn=i.backend_util.ERF_A5,nn=(0,de.A)(i.Erf,(function(e){var t=Math.sign(e),n=Math.abs(e),r=1/(1+Xt*n);return t*(1-((((tn*r+en)*r+$t)*r+Jt)*r+Qt)*r*Math.exp(-n*n))})),rn={kernelName:i.Erf,backendName:"cpu",kernelFunc:nn};function an(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.input,o=r.dim,s=a.shape.length,u=a.shape.slice(),c=o;return o<0&&(i.util.assert(-(s+1)<=o,(function(){return"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]")})),c=s+o+1),u.splice(c,0,1),Ce({inputs:{x:a},backend:n,attrs:{shape:u}})}var on={kernelName:i.ExpandDims,backendName:"cpu",kernelFunc:an},sn=(0,X.b)((function(e,t){return e/t})),un=(0,Q.j)(i.RealDiv,sn),cn={kernelName:i.RealDiv,backendName:"cpu",kernelFunc:un};function ln(e,t,n){for(var r=e.shape,a=r[0],o=r[1],s=n.data.get(e.dataId),u=s.complexTensorInfos.real,c=s.complexTensorInfos.imag,l=[a,o],d=i.util.sizeFromShape(l),f=i.util.getTypedArrayFromDType("float32",d),p=i.util.getTypedArrayFromDType("float32",d),h=0;h<a;h++){for(var m=(0,z.tP)({inputs:{x:u},backend:n,attrs:{begin:[h,0],size:[1,o]}}),v=(0,z.tP)({inputs:{x:c},backend:n,attrs:{begin:[h,0],size:[1,o]}}),g=(0,ft.P)({inputs:{real:m,imag:v},backend:n}),y=dn(g,t,n),b=y.real,w=y.imag,k=i.backend_util.mergeRealAndImagArrays(b,w),x=0;x<o;x++){var _=i.backend_util.getComplexWithIndex(k,x);f[h*o+x]=_.real,p[h*o+x]=_.imag}n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g)}var S=n.makeTensorInfo(l,"float32",f),E=n.makeTensorInfo(l,"float32",p),C=(0,ft.P)({inputs:{real:S,imag:E},backend:n});return n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(E),C}function dn(e,t,n){var r=i.util.sizeFromShape(e.shape),a=n.data.get(e.dataId),o=n.data.get(a.complexTensorInfos.real.dataId).values,s=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0===((y=r)&y-1)){var u=fn(o,s,r,t,n),c=[e.shape[0],e.shape[1]];if(t){var l=n.makeTensorInfo(c,"float32",u.real),d=n.makeTensorInfo(c,"float32",u.imag),f=n.makeTensorInfo([],"float32",i.util.createScalarValue(r,"float32")),p=(0,he.y)({inputs:{x:f},backend:n}),h=cn.kernelFunc({inputs:{a:l,b:f},backend:n}),m=cn.kernelFunc({inputs:{a:d,b:p},backend:n}),v=n.data.get(h.dataId).values,g=n.data.get(m.dataId).values;return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),{real:v,imag:g}}return u}var y,b=function(e,t,n){for(var r=new Float32Array(2*t),a=0;a<t;a++){for(var o=0,s=0,u=0;u<t;u++){var c=i.backend_util.exponent(a*u,t,n),l=i.backend_util.getComplexWithIndex(e,u);o+=l.real*c.real-l.imag*c.imag,s+=l.real*c.imag+l.imag*c.real}n&&(o/=t,s/=t),i.backend_util.assignToTypedArray(r,o,s,a)}return r}(i.backend_util.mergeRealAndImagArrays(o,s),r,t);return i.backend_util.splitRealAndImagArrays(b)}function fn(e,t,n,r,a){if(1===n)return{real:e,imag:t};var o=i.backend_util.mergeRealAndImagArrays(e,t),s=n/2,u=i.backend_util.complexWithEvenIndex(o),c=u.real,l=u.imag,d=[c.length],f=a.makeTensorInfo(d,"float32",c),p=a.makeTensorInfo(d,"float32",l),h=(0,ft.P)({inputs:{real:f,imag:p},backend:a}),m=i.backend_util.complexWithOddIndex(o),v=m.real,g=m.imag,b=[v.length],w=a.makeTensorInfo(b,"float32",v),k=a.makeTensorInfo(b,"float32",g),x=(0,ft.P)({inputs:{real:w,imag:k},backend:a}),_=fn(c,l,s,r,a),S=_.real,E=_.imag,C=[S.length],T=a.makeTensorInfo(C,"float32",S),A=a.makeTensorInfo(C,"float32",E),O=(0,ft.P)({inputs:{real:T,imag:A},backend:a}),R=fn(v,g,s,r,a),I=R.real,N=R.imag,P=[I.length],M=a.makeTensorInfo(P,"float32",I),L=a.makeTensorInfo(P,"float32",N),D=(0,ft.P)({inputs:{real:M,imag:L},backend:a}),B=i.backend_util.exponents(n,r),j=[B.real.length],Z=a.makeTensorInfo(j,"float32",B.real),V=a.makeTensorInfo(j,"float32",B.imag),U=(0,ft.P)({inputs:{real:Z,imag:V},backend:a}),W=(0,F.Jp)({inputs:{a:U,b:D},backend:a}),H=(0,y.IH)({inputs:{a:O,b:W},backend:a}),z=(0,ae.lu)({inputs:{a:O,b:W},backend:a}),G=(0,vt.k)({inputs:{input:H},backend:a}),q=(0,vt.k)({inputs:{input:z},backend:a}),K=ht({inputs:{input:H},backend:a}),Y=ht({inputs:{input:z},backend:a}),X=gt({inputs:[G,q],backend:a,attrs:{axis:0}}),Q=gt({inputs:[K,Y],backend:a,attrs:{axis:0}}),J=a.data.get(X.dataId).values,$=a.data.get(Q.dataId).values;return a.disposeIntermediateTensorInfo(f),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(w),a.disposeIntermediateTensorInfo(k),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(T),a.disposeIntermediateTensorInfo(A),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(M),a.disposeIntermediateTensorInfo(L),a.disposeIntermediateTensorInfo(D),a.disposeIntermediateTensorInfo(Z),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(K),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(Y),a.disposeIntermediateTensorInfo(X),a.disposeIntermediateTensorInfo(Q),{real:J,imag:$}}var pn={kernelName:i.FFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=i.util.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],s=Ce({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),u=ln(s,!1,n),c=Ce({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),c}};function hn(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,o=n.dtype||i.util.inferDtype(a),s=i.util.getArrayFromDType(o,i.util.sizeFromShape(r));return function(e,t,n){e.fill(t)}(s,a),t.makeTensorInfo(r,o,s)}var mn={kernelName:i.Fill,backendName:"cpu",kernelFunc:hn};var vn={kernelName:i.FlipLeftRight,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=(e.attrs,e.backend),r=t.image,a=n,o=i.util.getTypedArrayFromDType(r.dtype,i.util.sizeFromShape(r.shape)),s=(0,ge.Z)(r.shape,4),u=s[0],c=s[1],l=s[2],d=s[3],f=a.data.get(r.dataId).values,p=0;p<u;p++)for(var h=p*l*c*d,m=0;m<c;m++)for(var v=m*(l*d),g=0;g<l;g++)for(var y=g*d,b=0;b<d;b++){var w=Math.round(l-g-1),k=h+v+y+b,x=f[k];if(w>=0&&w<l)x=f[h+v+w*d+b];o[k]=x}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},gn=(0,X.b)((function(e,t){return Math.floor(e/t)})),yn=(0,Q.j)(i.FloorDiv,gn,null,"int32"),bn={kernelName:i.FloorDiv,backendName:"cpu",kernelFunc:yn};var wn={kernelName:i.FusedConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,l=r.dataFormat,d=r.dilations,f=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,m=bt({inputs:{x:i,filter:a},backend:n,attrs:{strides:u,pad:c,dataFormat:l,dilations:d,dimRoundingMode:f}});if(o){var v=m;if("NCHW"===l&&1===o.shape.length&&1!==o.shape[0]){var g=Ce({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=(0,y.IH)({inputs:{a:m,b:g},backend:n}),n.disposeIntermediateTensorInfo(g)}else m=(0,y.IH)({inputs:{a:m,b:o},backend:n});n.disposeIntermediateTensorInfo(v)}if(p){var b=m;if("NCHW"===l&&"prelu"===p&&1===s.shape.length&&1!==s.shape[0]){var w=Ce({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=Ee(n,m,p,w,h),n.disposeIntermediateTensorInfo(w)}else m=Ee(n,m,p,s,h);n.disposeIntermediateTensorInfo(b)}return m}};var kn={kernelName:i.FusedDepthwiseConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,l=r.dataFormat,d=r.dilations,f=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,m=Lt({inputs:{x:i,filter:a},backend:n,attrs:{strides:u,pad:c,dataFormat:l,dilations:d,dimRoundingMode:f}});if(o){var v=m;m=(0,y.IH)({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(v)}if(p){var g=m;m=Ee(n,m,p,s,h),n.disposeIntermediateTensorInfo(g)}return m}};var xn={kernelName:i.GatherNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,o=i.util.sizeFromShape(r.shape),s=a.shape,u=s[s.length-1],c=i.backend_util.prepareAndValidate(r,a),l=(0,ge.Z)(c,4),d=l[0],f=l[1],p=l[2],h=l[3];if(0===f)return n.makeTensorInfo(d,r.dtype,[]);var m=n.data.get(a.dataId).values,v=n.bufferSync(r),g=(0,C.m)(m,v,r.dtype,f,u,p,h,r.shape,o);return n.makeTensorInfo(d,r.dtype,g.values)}};var _n={kernelName:i.GatherV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.indices,s=r.axis,u=r.batchDims;(0,h.H)([a,o],"gatherV2");for(var c=i.util.parseAxisParam(s,a.shape)[0],l=n.data.get(o.dataId).values,d=a.shape[c],f=function(e){var t=l[e];i.util.assert(t<=d-1&&t>=0,(function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(d-1,"]")}))},p=0;p<l.length;++p)f(p);var m=u;null==u&&(m=0);var v=i.util.sizeFromShape(o.shape),g=i.backend_util.segment_util.collectGatherOpShapeInfo(a,o,c,m),y=Ce({inputs:{x:a},backend:n,attrs:{shape:[g.batchSize,g.outerSize,g.dimSize,g.sliceSize]}}),b=Ce({inputs:{x:o},backend:n,attrs:{shape:[g.batchSize,v/g.batchSize]}}),w=[g.batchSize,g.outerSize,v/g.batchSize,g.sliceSize],k=n.bufferSync(b),x=n.bufferSync(y),_=(0,T.i)(x,k,w);return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),n.makeTensorInfo(g.outputShape,_.dtype,_.values)}};var Sn={kernelName:i.IFFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=i.util.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],s=Ce({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),u=ln(s,!0,n),c=Ce({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),c}},En=(0,de.A)(i.IsFinite,(function(e){return Number.isFinite(e)?1:0}),"bool"),Cn={kernelName:i.IsFinite,backendName:"cpu",kernelFunc:En},Tn=(0,de.A)(i.IsInf,(function(e){return Math.abs(e)===1/0?1:0}),"bool"),An={kernelName:i.IsInf,backendName:"cpu",kernelFunc:Tn},On=(0,de.A)(i.IsNan,(function(e){return Number.isNaN(e)?1:0}),"bool"),Rn={kernelName:i.IsNan,backendName:"cpu",kernelFunc:On};var In={kernelName:i.LinSpace,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.num,o=(0,N.b)(r,i,a);return t.makeTensorInfo([o.length],"float32",o)}},Nn=(0,de.A)(i.Log1p,(function(e){return Math.log1p(e)})),Pn={kernelName:i.Log1p,backendName:"cpu",kernelFunc:Nn},Mn=(0,X.b)((function(e,t){return e&&t})),Ln=(0,Q.j)(i.LogicalAnd,Mn,null,"bool"),Dn={kernelName:i.LogicalAnd,backendName:"cpu",kernelFunc:Ln},Fn=(0,de.A)(i.LogicalNot,(function(e){return e?0:1}),"bool"),Bn={kernelName:i.LogicalNot,backendName:"cpu",kernelFunc:Fn},jn=(0,X.b)((function(e,t){return e||t})),Zn=(0,Q.j)(i.LogicalOr,jn,null,"bool"),Vn={kernelName:i.LogicalOr,backendName:"cpu",kernelFunc:Zn};var Un={kernelName:i.LRN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.depthRadius,s=r.bias,u=r.alpha,c=r.beta;(0,h.H)(a,"LRN");var l=a.shape[3],d=l-1,f=n.data.get(a.dataId).values,p=i.util.sizeFromShape(a.shape),m=new Float32Array(p);function v(e){for(var t=e%l,n=e-t+Math.max(0,t-o),r=e-t+Math.min(t+o,d),i=0;n<=r;n++){var a=f[n];i+=a*a}return i}for(var g=0;g<p;g++){var y=v(g),b=f[g]*Math.pow(s+u*y,-c);m[g]=b}return n.makeTensorInfo(a.shape,a.dtype,m)}};var Wn={kernelName:i.LRNGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.y,s=t.dy,u=r.depthRadius,c=r.bias,l=r.alpha,d=r.beta;(0,h.H)(s,"LRNGrad");for(var f=i.util.sizeFromShape(s.shape),p=s.shape[3],m=n.data.get(s.dataId).values,v=n.data.get(a.dataId).values,g=n.data.get(o.dataId).values,y=new Float32Array(f),b=f,w=0;w<b;w++){for(var k=w%p,x=w-k+Math.max(0,k-u),_=w-k+Math.min(p,k+u+1),S=0,E=x;E<_;E++)S+=Math.pow(v[E],2);S=l*S+c;for(var C=x;C<_;C++){var T=-2*l*d*v[C]*g[w]/S;w===C&&(T+=Math.pow(S,-d)),T*=m[w],y[C]+=T}}return n.makeTensorInfo(s.shape,a.dtype,y)}};function Hn(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reductionIndices,s=r.keepDims,u=n,c=a.shape,l=c.length,d=i.util.parseAxisParam(o,c),f=d,p=i.backend_util.getAxesPermutation(f,l),m=u.data.get(a.dataId).values;if(null!=p){for(var v=new Array(l),g=0;g<v.length;g++)v[g]=c[p[g]];m=(0,ue.H)(m,c,a.dtype,p,v),f=i.backend_util.getInnerMostAxes(f.length,l),c=v}(0,h.H)(a,"max"),i.backend_util.assertAxesAreInnerMostDims("max",f,l);var y=i.backend_util.computeOutAndReduceShapes(c,f),b=(0,ge.Z)(y,2),w=b[0],k=b[1],x=i.util.sizeFromShape(k),_=(0,M.B)(m,x,w,a.dtype),S=u.write(_,w,a.dtype),E=w;s&&(E=v=i.backend_util.expandShapeToKeepDim(w,d));return{dataId:S,shape:E,dtype:a.dtype}}var zn={kernelName:i.Max,backendName:"cpu",kernelFunc:Hn};var Gn={kernelName:i.MaxPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;(0,h.H)(a,"maxPool");var o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode;i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(s,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")}));var l,d=i.backend_util.computePool2DInfo(a.shape,o,s,1,u,c);if(1===d.filterWidth&&1===d.filterHeight&&i.util.arraysEqual(d.inShape,d.outShape))l=(0,he.y)({inputs:{x:a},backend:n});else{var f=n.data.get(a.dataId).values,p=i.util.computeStrides(a.shape),m=Je(f,a.shape,a.dtype,p,d,"max");l=n.makeTensorInfo(d.outShape,a.dtype,m.values)}return l}};var qn={kernelName:i.MaxPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode,l=r.dataFormat;(0,h.H)(a,"maxPool3d");var d=i.backend_util.computePool3DInfo(a.shape,o,s,1,u,c,l),f=et(n.data.get(a.dataId).values,a.shape,a.dtype,i.util.computeStrides(a.shape),d,"max");return n.makeTensorInfo(f.shape,"float32",f.values)}};var Kn={kernelName:i.MaxPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=r.filterSize,u=r.strides,c=r.pad,l=r.dimRoundingMode;(0,h.H)([a,o],"maxPool3DGrad");for(var d=i.backend_util.computePool3DInfo(o.shape,s,u,1,c,l),f=function(e,t){for(var n=(0,i.buffer)(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,o=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,d=t.effectiveFilterHeight,f=t.effectiveFilterWidth,p=t.padInfo.front,h=t.padInfo.top,m=t.padInfo.left,v=0;v<t.batchSize;++v)for(var g=0;g<t.inChannels;++g)for(var y=0;y<t.outDepth;++y){for(var b=y*r-p,w=b;w<0;)w+=s;for(var k=Math.min(t.inDepth,l+b),x=0;x<t.outHeight;++x){for(var _=x*a-h,S=_;S<0;)S+=u;for(var E=Math.min(t.inHeight,d+_),C=0;C<t.outWidth;++C){for(var T=C*o-m,A=T;A<0;)A+=c;for(var O=Math.min(t.inWidth,f+T),R=Number.NEGATIVE_INFINITY,I=-1,N=w;N<k;N+=s)for(var P=N-b,M=S;M<E;M+=u)for(var L=M-_,D=A;D<O;D+=c){var F=D-T,B=e.get(v,N,M,D,g);B>=R&&(R=B,I=P*d*f+L*d+F)}n.set(I,v,y,x,C,g)}}}return n}(n.bufferSync(o),d),p=d.strideDepth,m=d.strideHeight,v=d.strideWidth,g=d.dilationDepth,y=d.dilationHeight,b=d.dilationWidth,w=d.effectiveFilterDepth,k=d.effectiveFilterHeight,x=d.effectiveFilterWidth,_=w-1-d.padInfo.front,S=x-1-d.padInfo.left,E=k-1-d.padInfo.top,C=(0,i.buffer)(o.shape,"float32"),T=n.bufferSync(a),A=0;A<d.batchSize;++A)for(var O=0;O<d.inChannels;++O)for(var R=0;R<d.inDepth;++R)for(var I=0;I<d.inHeight;++I)for(var N=0;N<d.inWidth;++N){for(var P=R-_,M=I-E,L=N-S,D=0,F=0;F<w;F+=g){var B=(P+F)/p;if(!(B<0||B>=d.outDepth||Math.floor(B)!==B))for(var j=0;j<k;j+=y){var Z=(M+j)/m;if(!(Z<0||Z>=d.outHeight||Math.floor(Z)!==Z))for(var V=0;V<x;V+=b){var U=(L+V)/v;if(!(U<0||U>=d.outWidth||Math.floor(U)!==U)){var W=w*k*x-1-f.get(A,B,Z,U,O)===F*k*x+j*x+V?1:0;if(0!==W)D+=T.get(A,B,Z,U,O)*W}}}}C.set(D,A,R,I,N,O)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};var Yn={kernelName:i.MaxPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=t.output,u=o;(0,h.H)([o,s],"maxPoolGrad");for(var c=r.filterSize,l=r.strides,d=r.pad,f=r.dimRoundingMode,p=i.backend_util.computePool2DInfo(u.shape,c,l,1,d,f),m=n.data.get(u.dataId).values,v=(0,i.buffer)(p.outShape,u.dtype,$e(m,u.shape,u.dtype,p).values),g=p.strideHeight,y=p.strideWidth,b=p.dilationHeight,w=p.dilationWidth,k=p.effectiveFilterHeight,x=p.effectiveFilterWidth,_=x-1-p.padInfo.left,S=k-1-p.padInfo.top,E=(0,i.buffer)(u.shape,"float32"),C=n.data.get(a.dataId).values,T=(0,i.buffer)(a.shape,"float32",C),A=0;A<p.batchSize;++A)for(var O=0;O<p.inChannels;++O)for(var R=0;R<p.inHeight;++R)for(var I=0;I<p.inWidth;++I){for(var N=R-S,P=I-_,M=0,L=0;L<k;L+=b){var D=(N+L)/g;if(!(D<0||D>=p.outHeight||Math.floor(D)!==D))for(var F=0;F<x;F+=w){var B=(P+F)/y;if(!(B<0||B>=p.outWidth||Math.floor(B)!==B)){var j=k*x-1-v.get(A,D,B,O)===L*x+F?1:0;if(0!==j)M+=T.get(A,D,B,O)*j}}}E.set(M,A,R,I,O)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}};var Xn={kernelName:i.MaxPoolWithArgmax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=n.filterSize,s=n.strides,u=n.pad,c=n.includeBatchInIndex,l=r;(0,h.H)(a,"MaxPoolWithArgmax");var d=l.data.get(a.dataId).values,f=i.backend_util.computePool2DInfo(a.shape,o,s,[1,1],u),p=function(e,t,n,r,a){var o=Je(e,0,n,i.util.computeStrides(t),a,"max"),s=$e(e,t,n,a,!0,r);return[o.values,s.values]}(d,a.shape,a.dtype,c,f),m=(0,ge.Z)(p,2),v=m[0],g=m[1],y=l.write(v,f.outShape,a.dtype),b=l.write(g,f.outShape,a.dtype);return[{dataId:y,shape:f.outShape,dtype:a.dtype},{dataId:b,shape:f.outShape,dtype:"int32"}]}};var Qn={kernelName:i.Mean,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims,u=i.util.parseAxisParam(o,a.shape),c=i.backend_util.computeOutAndReduceShapes(a.shape,u)[1],l=i.util.sizeFromShape(c),d=[],f=n.makeTensorInfo([],"float32",new Float32Array([l]));d.push(f);var p=(0,ct.p)({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});d.push(p);var h=un({inputs:{a:p,b:f},backend:n});d.push(h);var m=Gt({inputs:{x:h},backend:n,attrs:{axis:o,keepDims:s}});return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),m}};var Jn={kernelName:i.Min,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims;(0,h.H)(a,"min");var u=i.util.parseAxisParam(o,a.shape),c=u,l=i.backend_util.getAxesPermutation(c,a.shape.length),d=a;null!=l&&(d=(0,De.p)({inputs:{x:a},backend:n,attrs:{perm:l}}),c=i.backend_util.getInnerMostAxes(c.length,a.shape.length)),i.backend_util.assertAxesAreInnerMostDims("min",c,d.shape.length);for(var f=i.backend_util.computeOutAndReduceShapes(d.shape,c),p=(0,ge.Z)(f,2),m=p[0],v=p[1],g=i.util.sizeFromShape(v),y=i.util.makeZerosTypedArray(i.util.sizeFromShape(m),d.dtype),b=n.data.get(d.dataId).values,w=0;w<y.length;++w){for(var k=w*g,x=b[k],_=0;_<g;++_){var S=b[k+_];(Number.isNaN(S)||S<x)&&(x=S)}y[w]=x}null!=l&&n.disposeIntermediateTensorInfo(d);var E=n.makeTensorInfo(m,d.dtype,y);if(s){var C=Ce({inputs:{x:E},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(m,u)}});return n.disposeIntermediateTensorInfo(E),C}return E}};var $n={kernelName:i.MirrorPad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,s=r.mode;(0,h.H)(a,"mirrorPad");for(var u=o.map((function(e,t){return e[0]+a.shape[t]+e[1]})),c=o.map((function(e){return e[0]})),l=o.map((function(e,t){return e[0]+a.shape[t]})),d="reflect"===s?0:1,f=n.data.get(a.dataId).values,p=a.shape.length,m=i.util.computeStrides(a.shape),v=i.util.sizeFromShape(u),g=u.length,y=i.util.computeStrides(u),b=i.util.getTypedArrayFromDType(a.dtype,v),w=0;w<v;w++){for(var k=i.util.indexToLoc(w,g,y),x=0;x<g;x++)k[x]<c[x]?k[x]=2*c[x]-k[x]-d:k[x]>=l[x]&&(k[x]=2*(l[x]-1)-k[x]+d);k=k.map((function(e,t){return e-c[t]}));var _=i.util.locToIndex(k,p,m);b[w]=f[_]}return{dataId:n.write(b,u,a.dtype),shape:u,dtype:a.dtype}}},er=(0,X.b)((function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),tr=(0,Q.j)(i.Mod,er),nr={kernelName:i.Mod,backendName:"cpu",kernelFunc:tr},rr=n(96699);function ir(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.dim,s=a.shape.length,u=o;if(-1===u&&(u=s-1),u!==s-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(s," and dim was ").concat(u));var c=i.util.parseAxisParam([u],a.shape),l=Hn({inputs:{x:a},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),d=i.backend_util.expandShapeToKeepDim(l.shape,c),f=Ce({inputs:{x:l},backend:n,attrs:{shape:d}}),p=(0,ae.lu)({inputs:{a:a,b:f},backend:n}),h=(0,_.Qq)({inputs:{x:p},backend:n}),m=Gt({inputs:{x:h},backend:n,attrs:{axis:c,keepDims:!1}}),v=Ce({inputs:{x:m},backend:n,attrs:{shape:d}}),g=un({inputs:{a:h,b:v},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),g}var ar={kernelName:i.Softmax,backendName:"cpu",kernelFunc:ir};var or={kernelName:i.Multinomial,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.numSamples,s=r.seed,u=r.normalized;(0,h.H)(a,"multinomial");for(var c=u?a:ir({inputs:{logits:a},backend:n,attrs:{dim:-1}}),l=c.shape[0],d=c.shape[1],f=n.data.get(c.dataId).values,p=[l,o],m=i.util.makeZerosTypedArray(i.util.sizeFromShape(p),"int32"),v=0;v<l;++v){var g=v*d,y=new Float32Array(d-1);y[0]=f[g];for(var b=1;b<y.length;++b)y[b]=y[b-1]+f[g+b];for(var w=rr.alea(s.toString()),k=v*o,x=0;x<o;++x){var _=w();m[k+x]=y.length;for(var S=0;S<y.length;S++)if(_<y[S]){m[k+x]=S;break}}}return u||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(p,"int32",m)}},sr=i.kernel_impls.nonMaxSuppressionV3Impl;var ur={kernelName:i.NonMaxSuppressionV3,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold;(0,h.H)(i,"NonMaxSuppression");var c=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values,d=sr(c,l,o,s,u).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},cr=i.kernel_impls.nonMaxSuppressionV4Impl;var lr={kernelName:i.NonMaxSuppressionV4,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.padToMaxOutputSize;(0,h.H)(i,"NonMaxSuppressionPadded");var l=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values,f=cr(l,d,o,s,u,c),p=f.selectedIndices,m=f.validOutputs;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}},dr=i.kernel_impls.nonMaxSuppressionV5Impl;var fr={kernelName:i.NonMaxSuppressionV5,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.softNmsSigma;(0,h.H)(i,"NonMaxSuppressionWithScore");var l=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values,f=dr(l,d,o,s,u,c),p=f.selectedIndices,m=f.selectedScores;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([m.length],"float32",new Float32Array(m))]}};var pr={kernelName:i.OneHot,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=r.depth,s=r.onValue,u=r.offValue;(0,h.H)(a,"oneHot");var c=i.util.sizeFromShape(a.shape),l=new Float32Array(c*o);l.fill(u);for(var d=n.data.get(a.dataId).values,f=0;f<c;++f)d[f]>=0&&d[f]<o&&(l[f*o+d[f]]=s);return n.makeTensorInfo([].concat((0,jt.Z)(a.shape),[o]),"int32",l)}};function hr(e){var t=e.inputs,n=e.backend,r=t.x;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){var i=(0,vt.k)({inputs:{input:r},backend:n}),a=hr({inputs:{x:i},backend:n}),o=ht({inputs:{input:r},backend:n}),s=hr({inputs:{x:o},backend:n}),u=(0,ft.P)({inputs:{real:a,imag:s},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return hn({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var mr={kernelName:i.ZerosLike,backendName:"cpu",kernelFunc:hr};var vr={kernelName:i.OnesLike,backendName:"cpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=n.x;if("string"===i.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===i.dtype){var a=(0,vt.k)({inputs:{input:i},backend:r}),o=e({inputs:{x:a},backend:r}),s=ht({inputs:{input:i},backend:r}),u=hr({inputs:{x:s},backend:r}),c=(0,ft.P)({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}return hn({backend:r,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}};function gr(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return an({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,o=t[0].dtype;t.forEach((function(e){i.util.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),i.util.assert(o===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var s=[],u=gt({inputs:t.map((function(e){var t=an({inputs:{input:e},backend:n,attrs:{dim:r}});return s.push(t),t})),backend:n,attrs:{axis:r}});return s.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u}var yr={kernelName:i.Pack,backendName:"cpu",kernelFunc:gr};var br={kernelName:i.PadV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,s=r.constantValue;(0,h.H)(a,"pad");var u=o.map((function(e,t){return e[0]+a.shape[t]+e[1]})),c=o.map((function(e){return e[0]})),l=n.data.get(a.dataId).values,d=i.util.sizeFromShape(a.shape),f=a.shape.length,p=i.util.computeStrides(a.shape),m=i.util.sizeFromShape(u),v=u.length,g=i.util.computeStrides(u),y=i.util.getTypedArrayFromDType(a.dtype,m);0!==s&&y.fill(s);for(var b=0;b<d;b++){var w=i.util.indexToLoc(b,f,p).map((function(e,t){return e+c[t]}));y[i.util.locToIndex(w,v,g)]=l[b]}return{dataId:n.write(y,u,a.dtype),shape:u,dtype:a.dtype}}},wr=(0,X.b)((function(e,t){return Math.pow(e,t)})),kr=(0,Q.j)(i.Pow,wr),xr={kernelName:i.Pow,backendName:"cpu",kernelFunc:kr};var _r={kernelName:i.Range,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.dtype,o=n.step,s=(0,V.b)(r,i,o,a);return t.makeTensorInfo([s.length],a,s)}},Sr=(0,de.A)(i.Reciprocal,(function(e){return 1/e})),Er={kernelName:i.Reciprocal,backendName:"cpu",kernelFunc:Sr};var Cr={kernelName:i.ResizeBilinear,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,s=r.halfPixelCenters,u=r.size;(0,h.H)(a,"resizeBilinear");for(var c=i.util.computeStrides(a.shape),l=(0,ge.Z)(u,2),d=l[0],f=l[1],p=(0,ge.Z)(a.shape,4),m=p[0],v=p[1],g=p[2],y=p[3],b=n.data.get(a.dataId).values,w=new Float32Array(i.util.sizeFromShape([m,d,f,y])),k=[o&&d>1?v-1:v,o&&f>1?g-1:g],x=[o&&d>1?d-1:d,o&&f>1?f-1:f],_=0,S=k[0]/x[0],E=k[1]/x[1],C=0;C<m;C++)for(var T=0;T<d;T++){var A=void 0;A=s?S*(T+.5)-.5:S*T;for(var O=Math.max(0,Math.floor(A)),R=A-O,I=Math.min(v-1,Math.ceil(A)),N=C*c[0]+O*c[1],P=C*c[0]+I*c[1],M=0;M<f;M++){var L=void 0;L=s?E*(M+.5)-.5:E*M;for(var D=Math.max(0,Math.floor(L)),F=L-D,B=Math.min(g-1,Math.ceil(L)),j=N+D*c[2],Z=P+D*c[2],V=N+B*c[2],U=P+B*c[2],W=0;W<y;W++){var H=b[j+W],z=b[Z+W],G=H+(b[V+W]-H)*F,q=G+(z+(b[U+W]-z)*F-G)*R;w[_++]=q}}}return n.makeTensorInfo([m,d,f,y],"float32",w)}};var Tr={kernelName:i.ResizeBilinearGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,s=r.alignCorners;(0,h.H)([o,a],"resizeBilinearGrad");for(var u=i.util.computeStrides(a.shape),c=(0,ge.Z)(a.shape,4),l=c[0],d=c[1],f=c[2],p=c[3],m=(0,ge.Z)(o.shape,3),v=m[1],g=m[2],y=new Float32Array(l*d*f*p),b=[s&&v>1?d-1:d,s&&g>1?f-1:f],w=[s&&v>1?v-1:v,s&&g>1?g-1:g],k=b[0]/w[0],x=b[1]/w[1],_=n.data.get(o.dataId).values,S=0,E=0;E<l;E++)for(var C=E*u[0],T=0;T<v;T++)for(var A=T*k,O=Math.floor(A),R=Math.min(Math.ceil(A),d-1),I=C+O*u[1],N=C+R*u[1],P=A-O,M=1-P,L=0;L<g;L++)for(var D=L*x,F=Math.floor(D),B=Math.min(Math.ceil(D),f-1),j=D-F,Z=1-j,V=I+F*u[2],U=I+B*u[2],W=N+F*u[2],H=N+B*u[2],z=M*Z,G=M*j,q=P*Z,K=P*j,Y=0;Y<p;Y++){var X=_[S++];y[V+Y]+=X*z,y[U+Y]+=X*G,y[W+Y]+=X*q,y[H+Y]+=X*K}return n.makeTensorInfo([l,f,d,p],"float32",y)}};var Ar={kernelName:i.ResizeNearestNeighbor,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,s=r.halfPixelCenters,u=r.size;(0,h.H)(a,"resizeNearestNeighbor");for(var c=i.util.computeStrides(a.shape),l=(0,ge.Z)(u,2),d=l[0],f=l[1],p=(0,ge.Z)(a.shape,4),m=p[0],v=p[1],g=p[2],y=p[3],b=n.data.get(a.dataId).values,w=new Float32Array(m*d*f*y),k=[o&&d>1?v-1:v,o&&f>1?g-1:g],x=[o&&d>1?d-1:d,o&&f>1?f-1:f],_=k[0]/x[0],S=k[1]/x[1],E=0,C=0;C<m;C++)for(var T=C*c[0],A=0;A<d;A++){var O=s?_*(A+.5):_*A,R=Math.min(v-1,o?Math.round(O):Math.floor(O));s&&(R=Math.max(0,R));for(var I=T+R*c[1],N=0;N<f;N++){var P=s?S*(N+.5):S*N,M=Math.min(g-1,o?Math.round(P):Math.floor(P));s&&(M=Math.max(0,M));for(var L=I+M*c[2],D=0;D<y;D++){var F=b[L+D];w[E++]=F}}}return n.makeTensorInfo([m,d,f,y],a.dtype,w)}};var Or={kernelName:i.ResizeNearestNeighborGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,s=r.alignCorners;(0,h.H)([o,a],"resizeNearestNeighborGrad");for(var u=i.util.computeStrides(a.shape),c=i.util.computeStrides(o.shape),l=(0,ge.Z)(a.shape,4),d=l[0],f=l[1],p=l[2],m=l[3],v=(0,ge.Z)(o.shape,3),g=v[1],y=v[2],b=new Float32Array(d*f*p*m),w=n.data.get(o.dataId).values,k=[s&&g>1?f-1:f,s&&y>1?p-1:p],x=[s&&g>1?g-1:g,s&&y>1?y-1:y],_=k[0]/x[0],S=k[1]/x[1],E=1/_,C=1/S,T=2*Math.ceil(E)+2,A=2*Math.ceil(C)+2,O=0;O<d;O++)for(var R=O*u[0],I=0;I<f;I++)for(var N=R+I*u[1],P=Math.floor(I*E),M=Math.floor(P-T/2),L=0;L<p;L++)for(var D=N+L*u[2],F=Math.floor(L*C),B=Math.floor(F-A/2),j=0;j<m;j++){for(var Z=0,V=0;V<T;V++){var U=V+M;if(!(U<0||U>=g)){var W=R+U*c[1],H=U*_;if(I===Math.min(f-1,s?Math.round(H):Math.floor(H)))for(var z=0;z<A;z++){var G=z+B;if(!(G<0||G>=y)){var q=W+G*c[2],K=G*S;L===Math.min(p-1,s?Math.round(K):Math.floor(K))&&(Z+=w[q+j])}}}}b[D+j]=Z}return n.makeTensorInfo(a.shape,a.dtype,b)}};var Rr={kernelName:i.Reverse,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.dims;(0,h.H)(a,"reverse");var s=a.shape.length,u=i.util.parseAxisParam(o,a.shape);if(0===s)return(0,he.y)({inputs:{x:a},backend:n});for(var c=new i.TensorBuffer(a.shape,a.dtype),l=n.bufferSync(a),d=function(e){var t=c.indexToLoc(e),n=t.slice();u.forEach((function(e){return n[e]=a.shape[e]-1-n[e]})),c.set.apply(c,[l.get.apply(l,(0,jt.Z)(n))].concat((0,jt.Z)(t)))},f=0;f<c.size;f++)d(f);return n.makeTensorInfo(c.shape,c.dtype,c.values)}},Ir={kernelName:i.RotateWithOffset,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,o=n.radians,s=n.fillValue,u=n.center,c=r,l=i.util.getTypedArrayFromDType(a.dtype,i.util.sizeFromShape(a.shape)),d=(0,ge.Z)(a.shape,4),f=d[0],p=d[1],h=d[2],m=d[3],v=i.backend_util.getImageCenter(u,p,h),g=(0,ge.Z)(v,2),y=g[0],b=g[1],w=Math.sin(o),k=Math.cos(o),x=c.data.get(a.dataId).values,_=0;_<f;_++)for(var S=_*h*p*m,E=0;E<p;E++)for(var C=E*(h*m),T=0;T<h;T++)for(var A=T*m,O=0;O<m;O++){var R=[f,E,T,O],I=R[2],N=R[1],P=(I-y)*k-(N-b)*w,M=(I-y)*w+(N-b)*k;P=Math.round(P+y),M=Math.round(M+b);var L=s;if("number"!==typeof s&&(L=3===O?255:s[O]),P>=0&&P<h&&M>=0&&M<p)L=x[S+M*(h*m)+P*m+O];l[S+C+A+O]=L}return{dataId:c.write(l,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},Nr=(0,de.A)(i.Round,(function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),Pr={kernelName:i.Round,backendName:"cpu",kernelFunc:Nr};var Mr={kernelName:i.ScatterNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=t.updates,s=r.shape,u=i.backend_util.calculateShapes(o,a,s),c=u.sliceRank,l=u.numUpdates,d=u.sliceSize,f=u.strides,p=u.outputSize,h=n.bufferSync(a),m=n.bufferSync(o),v=(0,W.N)(h,m,s,p,d,l,c,f,0,!0);return n.makeTensorInfo(s,v.dtype,v.values)}};function Lr(e,t){for(var n=0,r=e.length,i=0;n<r;)e[i=Math.floor((n+r)/2)]<t?n=i+1:r=i;return r}function Dr(e,t){for(var n=0,r=e.length,i=0;n<r;)e[i=Math.floor((n+r)/2)]<=t?n=i+1:r=i;return r}var Fr={kernelName:i.SearchSorted,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sortedSequence,o=t.values,s=r.side,u=function(e,t,n,r,a,o){for(var s=i.util.getArrayFromDType("int32",n*a),u=0;u<n;++u)for(var c=e.slice(u*r,(u+1)*r),l=u*a,d=0;d<a;++d)s[l+d]="left"===o?Lr(c,t[d+l]):Dr(c,t[d+l]);return s}(n.data.get(a.dataId).values,n.data.get(o.dataId).values,a.shape[0],a.shape[1],o.shape[1],s);return n.makeTensorInfo(o.shape,"int32",u)}};var Br={kernelName:i.Select,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,o=t.e;(0,h.H)([r,a,o],"select");for(var s=r.shape.length,u=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,d=(0,i.upcastType)(a.dtype,o.dtype),f=i.util.makeZerosTypedArray(i.util.sizeFromShape(a.shape),d),p=0,m=0===s||s>1||1===a.shape.length?1:i.util.sizeFromShape(a.shape.slice(1)),v=0;v<u.length;v++)for(var g=0;g<m;g++)1===u[v]?f[p++]=c[v]:f[p++]=l[v];return n.makeTensorInfo(a.shape,d,f)}},jr=i.backend_util.SELU_SCALEALPHA,Zr=i.backend_util.SELU_SCALE,Vr=(0,de.A)(i.Selu,(function(e){return e>=0?Zr*e:jr*(Math.exp(e)-1)})),Ur={kernelName:i.Selu,backendName:"cpu",kernelFunc:Vr},Wr=(0,de.A)(i.Sign,(function(e){return e<0?-1:e>0?1:0})),Hr={kernelName:i.Sign,backendName:"cpu",kernelFunc:Wr},zr=(0,de.A)(i.Sin,(function(e){return Math.sin(e)})),Gr={kernelName:i.Sin,backendName:"cpu",kernelFunc:zr},qr=(0,de.A)(i.Sinh,(function(e){return Math.sinh(e)})),Kr={kernelName:i.Sinh,backendName:"cpu",kernelFunc:qr},Yr=Math.log(1.1920928955078125e-7)+2,Xr=(0,de.A)(i.Softplus,(function(e){var t=e>-Yr,n=e<Yr,r=Math.exp(e);return n?r:t?e:Math.log(1+r)})),Qr={kernelName:i.Softplus,backendName:"cpu",kernelFunc:Xr};var Jr={kernelName:i.SpaceToBatchND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,s=r.paddings;(0,h.H)([a],"spaceToBatchND");var u=i.util.sizeFromShape(o),c=[[0,0]];c.push.apply(c,(0,jt.Z)(s));for(var l=1+o.length;l<a.shape.length;++l)c.push([0,0]);var d=br.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),f=i.backend_util.getReshaped(d.shape,o,u,!1),p=i.backend_util.getPermuted(f.length,o.length,!1),m=i.backend_util.getReshapedPermuted(d.shape,o,u,!1),v=Ce({inputs:{x:d},backend:n,attrs:{shape:f}}),g={x:v},y={perm:p},b=(0,De.p)({inputs:g,backend:n,attrs:y}),w=Ce({inputs:{x:b},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),w}};var $r={kernelName:i.SparseFillEmptyRows,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,i=t.values,a=t.denseShape,o=t.defaultValue;if(1!==a.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(a.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==i.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(i.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));var s=n.data.get(r.dataId).values,u=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values[0],d=(0,G.c)(s,r.shape,r.dtype,u,i.dtype,c,l),f=(0,ge.Z)(d,5),p=f[0],h=f[1],m=f[2],v=f[3],g=f[4];return[n.makeTensorInfo(h,r.dtype,p),n.makeTensorInfo([h[0]],i.dtype,m),n.makeTensorInfo([v.length],"bool",new Uint8Array(v.map((function(e){return Number(e)})))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}};var ei={kernelName:i.SparseReshape,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,i=t.inputShape,a=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==i.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(i.shape));if(1!==a.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(a.shape));var o=Array.from(n.data.get(i.dataId).values),s=n.data.get(r.dataId).values,u=Array.from(n.data.get(a.dataId).values),c=(0,q.U)(s,r.shape,r.dtype,o,u),l=(0,ge.Z)(c,3),d=l[0],f=l[1],p=l[2];return[n.makeTensorInfo(f,r.dtype,d),n.makeTensorInfo([p.length],a.dtype,new Int32Array(p))]}};var ti={kernelName:i.SparseSegmentMean,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(a.shape));if(i.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,c=(0,K.V)(o,r.shape,r.dtype,s,u,!0),l=(0,ge.Z)(c,2),d=l[0],f=l[1];return n.makeTensorInfo(f,r.dtype,d)}};var ni={kernelName:i.SparseSegmentSum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(a.shape));if(i.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,c=(0,K.V)(o,r.shape,r.dtype,s,u),l=(0,ge.Z)(c,2),d=l[0],f=l[1];return n.makeTensorInfo(f,r.dtype,d)}};var ri={kernelName:i.SparseToDense,backendName:"cpu",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.sparseIndices,s=n.sparseValues,u=n.defaultValue,c=a.outputShape,l=i.backend_util.calculateShapes(s,o,c),d=l.sliceRank,f=l.numUpdates,p=l.sliceSize,h=l.strides,m=l.outputSize,v=!1,g=r.bufferSync(o);switch(s.dtype){case"bool":var y=r.bufferSync(s),b=Boolean(r.data.get(u.dataId).values[0]);t=(0,W.N)(g,y,c,m,p,f,d,h,b,v);break;case"float32":var w=r.bufferSync(s),k=r.data.get(u.dataId).values[0];t=(0,W.N)(g,w,c,m,p,f,d,h,k,v);break;case"int32":var x=r.bufferSync(s),_=r.data.get(u.dataId).values[0];t=(0,W.N)(g,x,c,m,p,f,d,h,_,v);break;case"string":var S=r.bufferSync(s),E=i.util.decodeString(r.data.get(u.dataId).values[0]);t=(0,W.N)(g,S,c,m,p,f,d,h,E,v);break;default:throw new Error("Unsupported type ".concat(s.dtype))}return r.makeTensorInfo(c,t.dtype,t.values)}};var ii={kernelName:i.SplitV,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.numOrSizeSplits,s=r.axis,u=i.util.parseAxisParam(s,a.shape)[0],c=i.backend_util.prepareSplitSize(a,o,u),l=new Array(a.shape.length).fill(0),d=a.shape.slice();return c.map((function(e){var t=(0,jt.Z)(d);t[u]=e;var r=(0,z.tP)({inputs:{x:a},backend:n,attrs:{begin:l,size:t}});return l[u]+=e,r}))}},ai={kernelName:i.Square,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n;(0,h.H)(r,"square");for(var a=i.data.get(r.dataId).values,o=new Float32Array(a.length),s=0;s<a.length;++s){var u=a[s];o[s]=u*u}return{dataId:i.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},oi=(0,de.A)(i.Step,(function(e,t){var n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),si={kernelName:i.Step,backendName:"cpu",kernelFunc:oi};var ui={kernelName:i.StridedSlice,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.begin,s=r.end,u=r.strides,c=r.beginMask,l=r.endMask,d=r.ellipsisMask,f=r.newAxisMask,p=r.shrinkAxisMask;(0,h.H)(a,"stridedSlice");var m,v=i.slice_util.sliceInfo(a.shape,o,s,u,c,l,d,f,p),g=v.finalShapeSparse,y=v.finalShape,b=v.isIdentity,w=v.sliceDim0,k=v.isSimpleSlice,x=v.begin,_=v.end,S=v.strides;if(b)m=Ce({inputs:{x:a},backend:n,attrs:{shape:y}});else if(w||k){i.util.assert(a.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(a.shape.length)}));var E=i.slice_util.computeOutShape(x,_,S),C=(0,z.tP)({inputs:{x:a},backend:n,attrs:{begin:x,size:E}});m=Ce({inputs:{x:C},backend:n,attrs:{shape:y}}),n.disposeIntermediateTensorInfo(C)}else{var T=n.bufferSync(a),A=(0,te.t)(g,T,S,x);m=n.makeTensorInfo(y,A.dtype,A.values)}return m}};var ci={kernelName:i.StringNGrams,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=r.separator,a=r.nGramWidths,o=r.leftPad,s=r.rightPad,u=r.padWidth,c=r.preserveShortSequences,l=t.data,d=t.dataSplits,f=n.data.get(l.dataId).values,p=n.data.get(d.dataId).values,h=(0,ne.A)(f,p,i,a,o,s,u,c),m=(0,ge.Z)(h,2),v=m[0],g=m[1];return[n.makeTensorInfo([v.length],"string",v),n.makeTensorInfo(d.shape,"int32",g)]}};var li={kernelName:i.StringSplit,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,i=t.input,a=t.delimiter;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error("Input must be a vector, got shape: ".concat(i.shape));if(0!==a.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(a.shape));var o=n.data.get(i.dataId).values,s=n.data.get(a.dataId).values[0],u=(0,re.Q)(o,s,r),c=(0,ge.Z)(u,3),l=c[0],d=c[1],f=c[2],p=d.length;return[n.makeTensorInfo([p,2],"int32",l),n.makeTensorInfo([p],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(f))]}};var di={kernelName:i.StringToHashBucketFast,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,i=t.input;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var a=n.data.get(i.dataId).values,o=(0,ie.h)(a,r);return n.makeTensorInfo(i.shape,"int32",o)}},fi=(0,de.A)(i.Tan,(function(e){return Math.tan(e)})),pi={kernelName:i.Tan,backendName:"cpu",kernelFunc:fi},hi=(0,de.A)(i.Tanh,(function(e){return Math.tanh(e)})),mi={kernelName:i.Tanh,backendName:"cpu",kernelFunc:hi};var vi={kernelName:i.Tile,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.reps;(0,h.H)(i,"tile");var o=(0,oe.R)(n.bufferSync(i),a);return n.makeTensorInfo(o.shape,o.dtype,o.values)}};var gi={kernelName:i.TopK,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.k,o=r.sorted;(0,h.H)(i,"topk");var s=n.data.get(i.dataId).values,u=(0,se.W)(s,i.shape,i.dtype,a,o),c=(0,ge.Z)(u,2),l=c[0],d=c[1];return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(d.shape,d.dtype,d.values)]}};var yi={kernelName:i.Transform,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,o=t.transforms,s=n.interpolation,u=n.fillMode,c=n.fillValue,l=n.outputShape,d=(0,ge.Z)(a.shape,4),f=d[0],p=d[1],h=d[2],m=d[3],v=null!=l?l:[p,h],g=(0,ge.Z)(v,2),y=g[0],b=g[1],w=[f,y,b,m],k=i.util.computeStrides(a.shape),x=k[0],_=k[1],S=k[2],E=i.util.getTypedArrayFromDType(a.dtype,i.util.sizeFromShape(w));E.fill(c);for(var C=r.data.get(a.dataId).values,T=r.data.get(o.dataId).values,A=0;A<f;++A){for(var O=1===o.shape[0]?T:T.subarray(8*A,8*A+8),R=0;R<y;++R)for(var I=0;I<b;++I)for(var N=0;N<m;++N){var P=void 0,M=O[6]*I+O[7]*R+1;if(0!==M){var L=(O[0]*I+O[1]*R+O[2])/M,D=(O[3]*I+O[4]*R+O[5])/M,F=bi(L,h,u),B=bi(D,p,u);switch(s){case"nearest":P=ki(C,p,h,x,_,S,A,B,F,N,c);break;case"bilinear":P=xi(C,p,h,x,_,S,A,B,F,N,c);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(s))}E[A*x+R*_+I*S+N]=P}}return r.makeTensorInfo(w,a.dtype,E)}return{dataId:r.write(E,w,a.dtype),shape:a.shape,dtype:a.dtype}}};function bi(e,t,n){switch(n){case"reflect":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{var a=2*t;(n-=a*Math.trunc(n/a))>=t&&(n=a-n-1)}return i.util.clamp(0,n,t-1)}(e,t);case"wrap":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{var a=t-1;n-=t*Math.trunc(n/a)}return i.util.clamp(0,n,t-1)}(e,t);case"nearest":return function(e,t){return i.util.clamp(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function wi(e,t,n,r,i,a,o,s,u,c,l){return 0<=s&&s<t&&0<=u&&u<n?e[o*r+s*i+u*a+c]:l}function ki(e,t,n,r,i,a,o,s,u,c,l){return wi(e,t,n,r,i,a,o,Math.round(s),Math.round(u),c,l)}function xi(e,t,n,r,i,a,o,s,u,c,l){var d=Math.floor(s),f=Math.floor(u),p=d+1,h=f+1;return(p-s)*((h-u)*wi(e,t,n,r,i,a,o,d,f,c,l)+(u-f)*wi(e,t,n,r,i,a,o,d,h,c,l))+(s-d)*((h-u)*wi(e,t,n,r,i,a,o,p,f,c,l)+(u-f)*wi(e,t,n,r,i,a,o,p,h,c,l))}var _i={kernelName:i.Unique,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=n.axis,a=t.x;(0,h.H)(a,"unique");var o=r.data.get(a.dataId).values,s=(0,ce.S)(o,i,a.shape,a.dtype),u=s.outputValues,c=s.outputShape,l=s.indices;return[r.makeTensorInfo(c,a.dtype,u),r.makeTensorInfo([l.length],"int32",l)]}};var Si={kernelName:i.Unpack,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.value,a=r.axis;a<0&&(a+=i.shape.length);for(var o=i.shape.length,s=i.shape[a],u=new Array(o-1),c=0,l=0;l<o;l++)l!==a&&(u[c++]=i.shape[l]);var d=new Array(o).fill(0),f=i.shape.slice();f[a]=1;for(var p=new Array(s),h=0;h<p.length;h++){d[a]=h;var m=(0,z.tP)({inputs:{x:i},backend:n,attrs:{begin:d,size:f}});p[h]=Ce({inputs:{x:m},backend:n,attrs:{shape:u}}),n.disposeIntermediateTensorInfo(m)}return p}};for(var Ei={kernelName:i.UnsortedSegmentSum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.segmentIds,s=r.numSegments;(0,h.H)(a,"unsortedSegmentSum");for(var u=[],c=[],l=a.shape.length-o.shape.length,d=o,f=0;f<l;++f){var p=an({inputs:{input:d},backend:n,attrs:{dim:f+1}});d=p,c.push(p)}for(var m=0;m<s;++m){var v=i.util.createScalarValue(m,"int32"),g=n.makeTensorInfo([],"int32",v),y=(0,x.Dg)({inputs:{a:g,b:d},backend:n}),b=(0,ct.p)({inputs:{x:y},backend:n,attrs:{dtype:"float32"}}),w=(0,F.Jp)({inputs:{a:b,b:a},backend:n}),k=Gt({inputs:{x:w},backend:n,attrs:{axis:0,keepDims:!1}});u.push(k),c.push(g),c.push(y),c.push(b),c.push(w),c.push(k)}var _=gr({inputs:u,backend:n,attrs:{axis:0}});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),_}},Ci=0,Ti=[Re,g.fC,Ne,Me,y.j4,Le,Fe,Be,je,Ze,Ue,He,Ge,Ye,Qe,tt,nt,rt,it,Oe,at,ot,st,ut,ct.M,w.y2,dt,ft.z,pt,yt,wt,kt,xt,_t,St,Et,Tt,Ot,Rt,It,Nt,Pt,Mt,Dt,Ft,Bt,Zt,Vt,Ut,Wt,Kt,pe,Yt,x.Kx,rn,_.SX,on,S.Vu,pn,mn,vn,E.Ao,bn,wn,kn,xn,_n,A.Ce,O.V,he.I,Sn,mt,Cn,An,Rn,ve,R.zh,I.m3,In,P.xM,Pn,Dn,Bn,Vn,Un,Wn,zn,L.eJ,Gn,qn,Kn,Yn,Xn,Qn,Jn,D.u0,$n,nr,or,F.f$,B.AF,ur,lr,fr,j.nP,pr,vr,yr,br,xr,we,Z.Iz,_r,vt.O,cn,Er,xe,Se,Te,Cr,Tr,Ar,Or,Rr,Ir,Pr,U.FY,Mr,Fr,Br,Ur,H.BP,Hr,Gr,Kr,z.C6,ar,Qr,Jr,$r,ei,ti,ni,ri,ii,Y.cz,ai,ee,si,ui,ci,li,di,ae.GR,qt,pi,mi,vi,gi,yi,De.b,_i,Si,Ei,mr];Ci<Ti.length;Ci++){var Ai=Ti[Ci];(0,i.registerKernel)(Ai)}},96220:function(e,t,n){"use strict";n.d(t,{bk:function(){return a},fC:function(){return o}});var r=n(87105),i=n(23193);function a(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var o={kernelName:r.Abs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs.x,n=e.backend;(0,i.H)(t,"abs");var o=new Float32Array(r.util.sizeFromShape(t.shape));return o=a(n.data.get(t.dataId).values),n.makeOutput(o,t.shape,t.dtype)}}},25589:function(e,t,n){"use strict";n.d(t,{EH:function(){return o},IH:function(){return u},j4:function(){return c}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e+t})),s=(0,a.H)((function(e,t,n,r){return{real:e+n,imag:t+r}})),u=(0,a.j)(r.Add,o,s),c={kernelName:r.Add,backendName:"cpu",kernelFunc:u}},73737:function(e,t,n){"use strict";n.d(t,{W:function(){return i},i:function(){return a}});var r=n(87105);function i(e,t,n,i,a){for(var o=r.util.sizeFromShape(i),s=r.util.makeZerosTypedArray(a,n),u=0;u<e.length;u++){var c=e[u];if(c<0)throw new Error("Input x must be non-negative!");c>=a||(s[c]+=o>0?t[u]:1)}return s}function a(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],o=e.shape[1],s=(0,r.buffer)([a,n],t.dtype),u=0;u<a;u++)for(var c=0;c<o;c++){var l=e.get(u,c);if(l<0)throw new Error("Input x must be non-negative!");l>=n||(i?s.set(1,u,l):t.size>0?s.set(s.get(u,l)+t.get(u,c),u,l):s.set(s.get(u,l)+1,u,l))}return s}},60570:function(e,t,n){"use strict";n.d(t,{M:function(){return d},p:function(){return l}});var r=n(29439),i=n(87105),a=n(69341),o=n(94842),s=n(36545),u=n(59090),c=n(36241);function l(e){var t=e.inputs,n=e.backend,d=e.attrs,f=t.x,p=d.dtype;if("complex64"===p){if("complex64"===f.dtype)return(0,u.y)({inputs:{x:f},backend:n});var h=(0,o.l)(n,f.shape,f.dtype),m=l({inputs:{x:f},backend:n,attrs:{dtype:"float32"}}),v=(0,s.P)({inputs:{real:m,imag:h},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),v}if("complex64"===f.dtype){var g=(0,c.k)({inputs:{input:f},backend:n}),y=l({inputs:{x:g},backend:n,attrs:{dtype:p}});return n.disposeIntermediateTensorInfo(g),y}if(!i.util.hasEncodingLoss(f.dtype,p)){var b=(0,u.y)({inputs:{x:f},backend:n});return{dataId:b.dataId,shape:b.shape,dtype:p}}if("int32"===p){var w=n.data.get(f.dataId).values,k=Int32Array.from(w);return n.makeTensorInfo(f.shape,"int32",k)}if("bool"===p){var x=n.data.get(f.dataId).values,_=i.util.toTypedArray([0],f.dtype),S=(0,a.b)((function(e,t){return e!==t?1:0}))(f.shape,[],x,_,"bool"),E=(0,r.Z)(S,2),C=E[0],T=E[1];return n.makeTensorInfo(T,"bool",C)}throw new Error("Error in Cast: failed to cast ".concat(f.dtype," to ").concat(p))}var d={kernelName:i.Cast,backendName:"cpu",kernelFunc:l}},94351:function(e,t,n){"use strict";n.d(t,{__:function(){return o},y2:function(){return u}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.ceil(e)})),s=(0,a.O)(r.Ceil,o),u={kernelName:r.Ceil,backendName:"cpu",kernelFunc:s}},36545:function(e,t,n){"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.real,i=t.imag,a=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",a),imag:n.makeTensorInfo(i.shape,"float32",o)},s}n.d(t,{P:function(){return r},z:function(){return i}});var i={kernelName:n(87105).Complex,backendName:"cpu",kernelFunc:r}},46563:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(87105);function i(e,t,n,i){var a=r.util.getArrayFromDType(n,r.util.sizeFromShape(t));if(i&&"string"!==n){var o=0;e.forEach((function(e){var t=r.util.sizeFromShape(e.shape);a.set(e.vals,o),o+=t}))}else{var s=0;e.forEach((function(e){for(var i="string"===n?r.backend_util.fromUint8ToStringArray(e.vals):e.vals,o=0,u=0;u<e.shape[0];++u)for(var c=u*t[1]+s,l=0;l<e.shape[1];++l)a[c+l]=i[o++];s+=e.shape[1]}))}return a}},68116:function(e,t,n){"use strict";n.d(t,{Dg:function(){return s},Kx:function(){return u},tW:function(){return o}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e===t?1:0})),s=(0,a.j)(r.Equal,o,null,"bool"),u={kernelName:r.Equal,backendName:"cpu",kernelFunc:s}},66880:function(e,t,n){"use strict";n.d(t,{Qq:function(){return s},Ro:function(){return o},SX:function(){return u}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.exp(e)})),s=(0,a.O)(r.Exp,o,"float32"),u={kernelName:r.Exp,backendName:"cpu",kernelFunc:s}},21354:function(e,t,n){"use strict";n.d(t,{OF:function(){return o},Vu:function(){return u}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.expm1(e)})),s=(0,a.O)(r.Expm1,o),u={kernelName:r.Expm1,backendName:"cpu",kernelFunc:s}},97224:function(e,t,n){"use strict";n.d(t,{Ao:function(){return u},r6:function(){return o}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.floor(e)})),s=(0,a.O)(r.Floor,o),u={kernelName:r.Floor,backendName:"cpu",kernelFunc:s}},34351:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(93433),i=n(87105);function a(e,t,n,a,o,s,u,c,l){for(var d=(0,i.buffer)([a,s],n),f=0;f<a;f++){for(var p=[],h=0,m=0;m<o;m++){var v=e[f*o+m];h+=v*u[m],p.push(v)}if(h<0||h>=l/s)throw new Error("Invalid indices: ".concat(p," does not index into ").concat(c));for(var g=0;g<s;g++)d.values[f*s+g]=t.get.apply(t,(0,r.Z)(t.indexToLoc(h*s+g)))}return d}},82666:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var r=n(87105);function i(e,t,n){for(var i=(0,r.buffer)(n,e.dtype),a=0;a<i.size;++a){var o=i.indexToLoc(a).slice(),s=o[0],u=o[2],c=t.locToIndex([s,u]);o[2]=t.values[c];var l=e.locToIndex(o);0<=l&&l<e.values.length&&(i.values[a]=e.values[l])}return i}},69075:function(e,t,n){"use strict";n.d(t,{Ce:function(){return u},o:function(){return o}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e>t?1:0})),s=(0,a.j)(r.Greater,o,null,"bool"),u={kernelName:r.Greater,backendName:"cpu",kernelFunc:s}},26985:function(e,t,n){"use strict";n.d(t,{HL:function(){return o},V:function(){return u}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e>=t?1:0})),s=(0,a.j)(r.GreaterEqual,o,null,"bool"),u={kernelName:r.GreaterEqual,backendName:"cpu",kernelFunc:s}},59090:function(e,t,n){"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}n.d(t,{I:function(){return i},y:function(){return r}});var i={kernelName:n(87105).Identity,backendName:"cpu",kernelFunc:r}},39813:function(e,t,n){"use strict";n.d(t,{rO:function(){return o},zh:function(){return u}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e<t?1:0})),s=(0,a.j)(r.Less,o,null,"bool"),u={kernelName:r.Less,backendName:"cpu",kernelFunc:s}},18734:function(e,t,n){"use strict";n.d(t,{lx:function(){return o},m3:function(){return u}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e<=t?1:0})),s=(0,a.j)(r.LessEqual,o,null,"bool"),u={kernelName:r.LessEqual,backendName:"cpu",kernelFunc:s}},21491:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(87105);function i(e,t,n){var i=(t-e)/(n-1),a=r.util.makeZerosTypedArray(n,"float32");a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+i;return a}},68298:function(e,t,n){"use strict";n.d(t,{vX:function(){return o},xM:function(){return u}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.log(e)})),s=(0,a.O)(r.Log,o),u={kernelName:r.Log,backendName:"cpu",kernelFunc:s}},4771:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});var r=n(87105);function i(e,t,n,i){for(var a=r.util.getTypedArrayFromDType(i,r.util.sizeFromShape(n)),o=0;o<a.length;++o){for(var s=o*t,u=e[s],c=0;c<t;++c){var l=e[s+c];(Number.isNaN(l)||l>u)&&(u=l)}a[o]=u}return a}},89518:function(e,t,n){"use strict";n.d(t,{eJ:function(){return u},wS:function(){return o}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return Math.max(e,t)})),s=(0,a.j)(r.Maximum,o),u={kernelName:r.Maximum,backendName:"cpu",kernelFunc:s}},38094:function(e,t,n){"use strict";n.d(t,{u0:function(){return u},vP:function(){return o}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return Math.min(e,t)})),s=(0,a.j)(r.Minimum,o),u={kernelName:r.Minimum,backendName:"cpu",kernelFunc:s}},18244:function(e,t,n){"use strict";n.d(t,{$3:function(){return o},Jp:function(){return u},f$:function(){return c}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e*t})),s=(0,a.H)((function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})),u=(0,a.j)(r.Multiply,o,s),c={kernelName:r.Multiply,backendName:"cpu",kernelFunc:u}},54569:function(e,t,n){"use strict";n.d(t,{AF:function(){return u},uC:function(){return s}});var r=n(29439),i=n(87105),a=n(23193),o=n(18244);function s(e,t,n){var r=i.util.createScalarValue(-1,n);return(0,o.$3)([],t,r,e,n)}var u={kernelName:i.Neg,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=t.x;(0,a.H)(i,"neg");var o=s(n.data.get(i.dataId).values,i.shape,i.dtype),u=(0,r.Z)(o,2),c=u[0],l=u[1];return n.makeTensorInfo(l,i.dtype,c)}}},21566:function(e,t,n){"use strict";n.d(t,{Gj:function(){return o},nP:function(){return u}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e!==t?1:0})),s=(0,a.j)(r.NotEqual,o,null,"bool"),u={kernelName:r.NotEqual,backendName:"cpu",kernelFunc:s}},89120:function(e,t,n){"use strict";n.d(t,{Iz:function(){return u},Qg:function(){return s}});var r=n(29439),i=n(87105),a=n(23193),o=n(65257);function s(e,t,n,a){for(var o=i.backend_util.computeOutAndReduceShapes(e,a),s=(0,r.Z)(o,2),u=s[0],c=s[1],l=(0,i.upcastType)(t,"int32"),d=i.util.makeZerosTypedArray(i.util.sizeFromShape(u),l),f=i.util.sizeFromShape(c),p=0;p<d.length;++p){for(var h=p*f,m=1,v=0;v<f;++v)m*=n[h+v];d[p]=m}return{outVals:d,outShape:u,outDtype:l}}var u={kernelName:i.Prod,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,u=t.x,c=r.axis,l=r.keepDims;(0,a.H)(u,"prod");var d=u.shape.length,f=i.util.parseAxisParam(c,u.shape),p=i.backend_util.getAxesPermutation(f,d),h=f,m=u,v=[];null!=p&&(m=(0,o.p)({inputs:{x:u},backend:n,attrs:{perm:p}}),v.push(m),h=i.backend_util.getInnerMostAxes(h.length,d));var g=n.data.get(m.dataId).values,y=s(m.shape,m.dtype,g,h),b=y.outVals,w=y.outShape,k=y.outDtype,x=w;return l&&(x=i.backend_util.expandShapeToKeepDim(w,f)),v.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(x,k,b)}}},66284:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(87105);function i(e,t,n,i){if(e===t||e<t&&n<0||t<e&&n>1)return r.util.makeZerosTypedArray(0,i);var a=Math.abs(Math.ceil((t-e)/n)),o=r.util.makeZerosTypedArray(a,i);t<e&&1===n&&(n=-1),o[0]=e;for(var s=1;s<o.length;s++)o[s]=o[s-1]+n;return o}},36241:function(e,t,n){"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.input,i=n.data.get(r.dataId).complexTensorInfos.real,a=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,a)}n.d(t,{O:function(){return i},k:function(){return r}});var i={kernelName:n(87105).Real,backendName:"cpu",kernelFunc:r}},78105:function(e,t,n){"use strict";n.d(t,{FY:function(){return u},zd:function(){return o}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return 1/Math.sqrt(e)})),s=(0,a.O)(r.Rsqrt,o),u={kernelName:r.Rsqrt,backendName:"cpu",kernelFunc:s}},28567:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(87105);function i(e,t,n,i,a,o,s,u,c,l){var d=[i/a,a],f=e.values,p=t.values;if(0===i)return(0,r.buffer)(n,t.dtype);var h=(0,r.buffer)(d,t.dtype);"string"===typeof c||"number"===typeof c?h.values.fill(c):"boolean"===typeof c&&h.values.fill(+c);for(var m=0;m<o;m++){for(var v=[],g=0,y=0;y<s;y++){var b=f[m*s+y];v.push(b),g+=b*u[y]}if(g<0||g>=i/a)throw new Error("Invalid indices: ".concat(v," does not index into ").concat(n));for(var w=0;w<a;w++)l?h.values[g*a+w]+=p[m*a+w]:h.values[g*a+w]=0===t.rank?p[0]:p[m*a+w]}return h}},294:function(e,t,n){"use strict";n.d(t,{BP:function(){return u},VY:function(){return o},XD:function(){return s}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return 1/(1+Math.exp(-e))})),s=(0,a.A)(r.Sigmoid,(function(e){return 1/(1+Math.exp(-e))})),u={kernelName:r.Sigmoid,backendName:"cpu",kernelFunc:s}},22126:function(e,t,n){"use strict";n.d(t,{C6:function(){return c},rT:function(){return s},tP:function(){return u}});var r=n(29439),i=n(93433),a=n(87105),o=n(23193);function s(e,t,n,r,o){var s=a.slice_util.isSliceContinous(r,t,n),u=a.util.sizeFromShape(n),c=a.util.computeStrides(r);if(s){var l=a.slice_util.computeFlatOffset(t,c);return"string"===o?e.slice(l,l+u):e.subarray(l,l+u)}for(var d="string"===o?a.backend_util.fromUint8ToStringArray(e):e,f=(0,a.buffer)(r,o,d),p=(0,a.buffer)(n,o),h=0;h<p.size;++h){var m=p.indexToLoc(h),v=m.map((function(e,n){return e+t[n]}));p.set.apply(p,[f.get.apply(f,(0,i.Z)(v))].concat((0,i.Z)(m)))}return"string"===o?a.backend_util.fromStringArrayToUint8(p.values):p.values}function u(e){var t=e.inputs,n=e.backend,i=e.attrs,u=t.x,c=i.begin,l=i.size;(0,o.H)(u,"slice");var d=a.slice_util.parseSliceParams(u,c,l),f=(0,r.Z)(d,2),p=f[0],h=f[1];a.slice_util.assertParamsValid(u,p,h);var m=s(n.data.get(u.dataId).values,p,h,u.shape,u.dtype);return n.makeTensorInfo(h,u.dtype,m)}var c={kernelName:a.Slice,backendName:"cpu",kernelFunc:u}},78337:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var r=n(87105);function i(e,t,n,i,a,o,s){var u=t[0],c=o[0],l=new Array(c),d=new Array(u),f=t[1];if(0===c){if(0!==u)throw new Error(r.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(u));return[r.util.getArrayFromDType(n,0),[0,f],r.util.getArrayFromDType(a,0),l,d]}for(var p=!0,h=0,m=new Array(c).fill(0),v=0;v<u;++v){var g=e[v*f];if(g<0)throw new Error(r.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(v,g));if(g>=c)throw new Error(r.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(v,g,c));++m[g],p=p&&g>=h,h=g}for(var y=!0,b=0;b<c;++b){var w=0===m[b];l[b]=w,y=y&&!w,m[b]=Math.max(m[b],1),b>0&&(m[b]+=m[b-1])}if(y&&p){for(var k=e,x=i,_=0;_<u;++_)d[_]=_;return[k,[u,f],x,l,d]}for(var S=m[c-1],E=r.util.getArrayFromDType(n,S*f),C=r.util.getArrayFromDType(a,S),T=new Array(c).fill(0),A=0;A<u;++A){var O=e[A*f],R=T[O],I=(0===O?0:m[O-1])+R;T[O]++;for(var N=0;N<f;++N)E[I*f+N]=e[A*f+N];C[I]=i[A],d[A]=I}for(var P=0;P<c;++P){if(0===T[P]){var M=0===P?0:m[P-1];E[M*f+0]=P;for(var L=1;L<f;++L)E[M*f+L]=0;C[M]=s}}return[E,[S,f],C,l,d]}},63634:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(87105);function i(e,t,n,i,a){for(var o=r.util.sizeFromShape(i),s=t[0],u=a.length,c=[],l=1,d=-1,f=0;f<u;++f){var p=a[f];if(-1===p){if(-1!==d)throw new Error(r.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(d,f));d=f,c.push(1)}else{if(p<0)throw new Error(r.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(f,p));l*=p,c.push(p)}}if(-1!==d){if(l<=0)throw new Error(r.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());var h=Math.trunc(o/l);if(l*h!==o)throw new Error(r.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(i,c));c[d]=h}if(r.util.sizeFromShape(c)!==o)throw new Error(r.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(i,c));var m=i.length,v=[];if(m>0){v[m-1]=1;for(var g=m-2;g>=0;--g)v[g]=v[g+1]*i[g+1]}var y=[];if(u>0){y[u-1]=1;for(var b=u-2;b>=0;--b)y[b]=y[b+1]*c[b+1]}for(var w=r.util.getArrayFromDType(n,s*u),k=0;k<s;++k){for(var x=0,_=0;_<m;++_)x+=e[k*m+_]*v[_];for(var S=0;S<u;++S)w[k*u+S]=Math.trunc(x/y[S]),x%=y[S]}return[w,[s,u],c]}},35440:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(87105);function i(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=i.length,c=[t[0],e.length/t[0]],l=c[1],d=u>0?a[u-1]+1:0,f=d;if(f<0)throw new Error(r.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var p=t.slice();p[0]=f;var h=p.reduce((function(e,t){return e*t}),1),m=r.util.getArrayFromDType(n,h);if(0===u)return f>0&&m.fill(s),[m,p];if(f<=0)throw new Error(r.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());for(var v=0,g=1,y=0,b=a[v];;){var w=0;if(g<u){if(b===(w=a[g])){++g;continue}if(b>=w)throw new Error(r.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(b<0||b>=f)throw new Error(r.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(b,f));b>y&&m.fill(s,y*l,b*l);for(var k=v;k<g;++k){var x=i[k];if(x<0||x>=c[0])throw new Error(r.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(k,i[k],c[0]));for(var _=0;_<l;_++)m[b*l+_]+=e[x*l+_]}if(o)for(var S=0;S<l;S++)m[b*l+S]/=g-v;if(v=g,y=b+1,b=w,++g>u)break}return y<f&&m.fill(s,y*l,f*l),[m,p]}},4165:function(e,t,n){"use strict";n.d(t,{cz:function(){return u},zT:function(){return o}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.sqrt(e)})),s=(0,a.A)(r.Sqrt,(function(e){return Math.sqrt(e)})),u={kernelName:r.Sqrt,backendName:"cpu",kernelFunc:s}},47497:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r=n(93433),i=n(87105);function a(e,t,n,a){for(var o=(0,i.buffer)(e,t.dtype),s=0;s<o.size;s++){for(var u=o.indexToLoc(s),c=new Array(u.length),l=0;l<c.length;l++)c[l]=u[l]*n[l]+a[l];o.set.apply(o,[t.get.apply(t,c)].concat((0,r.Z)(u)))}return o}},18294:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(15671),i=n(43144),a=n(87105),o=function(){function e(t,n,i,o,s,u){(0,r.Z)(this,e),this.separator=a.util.encodeString(t),this.nGramWidths=n,this.leftPad=a.util.encodeString(i),this.rightPad=a.util.encodeString(o),this.padWidth=s,this.preserveShort=u}return(0,i.Z)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){var n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}},{key:"createNGrams",value:function(e,t,n,r,i,a){for(var o=this,s=function(s){var u=o.getPadWidth(a),c=Math.max(0,u-s),l=Math.max(0,u-(i-(s+1))),d=a-(c+l),f=t+(c>0?0:s-u),p=0;p+=c*o.leftPad.length;for(var h=0;h<d;++h)p+=e[f+h].length;p+=l*o.rightPad.length,p+=(c+l+d-1)*o.separator.length,n[r+s]=new Uint8Array(p);for(var m=n[r+s],v=0,g=function(e){return e.forEach((function(e){return m[v++]=e}))},y=0;y<c;++y)g(o.leftPad),g(o.separator);for(var b=0;b<d-1;++b)g(e[f+b]),g(o.separator);if(d>0){g(e[f+d-1]);for(var w=0;w<l;++w)g(o.separator),g(o.rightPad)}else{for(var k=0;k<l-1;++k)g(o.rightPad),g(o.separator);g(o.rightPad)}},u=0;u<i;++u)s(u)}},{key:"compute",value:function(e,t){var n=this,r=e.length,i=t.length;if(i>0){var o=t[0];if(0!==o)throw new Error("First split value must be 0, got ".concat(o));for(var s=1;s<i;++s){var u=t[s]>=o;if(!(u=u&&t[s]<=r))throw new Error("Invalid split value ".concat(t[s],", must be in [").concat(o,", ").concat(r,"]"));o=t[s]}if(o!==r)throw new Error("Last split value must be data size. Expected ".concat(r,", got ").concat(o))}var c=i-1,l=a.util.getArrayFromDType("int32",i);if(0===r||0===i){for(var d=new Array(r),f=0;f<=c;++f)l[f]=0;return[d,l]}l[0]=0;for(var p=function(e){var r=t[e]-t[e-1],i=0;n.nGramWidths.forEach((function(e){i+=n.getNumNGrams(r,e)})),n.preserveShort&&r>0&&0===i&&(i=1),l[e]=l[e-1]+i},h=1;h<=c;++h)p(h);for(var m=new Array(l[c]),v=function(r){var i=t[r],a=l[r];if(n.nGramWidths.forEach((function(o){var s=t[r+1]-t[r],u=n.getNumNGrams(s,o);n.createNGrams(e,i,m,a,u,o),a+=u})),n.preserveShort&&a===l[r]){var o=t[r+1]-t[r];if(0===o)return"continue";var s=o+2*n.padWidth;n.createNGrams(e,i,m,a,1,s)}},g=0;g<c;++g)v(g);return[m,l]}}]),e}();function s(e,t,n,r,i,a,s,u){return new o(n,r,i,a,s,u).compute(e,t)}},60998:function(e,t,n){"use strict";n.d(t,{Q:function(){return a}});var r=n(87105);function i(e,t,n,r){if(e.length)if(0!==t.length)if(1!==t.length){for(var i=0,a=0;a<e.length+1;a++)if(a===e.length||-1!==t.indexOf(e[a])){var o=e.subarray(i,a);n&&0===o.length||r.push(o),i=a+1}}else{for(var s=t[0],u=e.indexOf(s);-1!==u;){var c=e.subarray(0,u);n&&0===c.length||r.push(c),u=(e=e.subarray(u+1)).indexOf(s)}n&&0===e.length||r.push(e)}else for(var l=0;l<e.length;++l)r.push(e.subarray(l,l+1))}function a(e,t,n){for(var a=e.length,o=[],s=0,u=0,c=new Array(a),l=0;l<a;++l){var d=o.length;i(e[l],t,n,o);var f=o.length-d;c[l]=f,s+=f,u=Math.max(u,f)}for(var p=r.util.getArrayFromDType("int32",2*s),h=new Array(s),m=[a,u],v=0,g=0;g<a;++g)for(var y=0;y<c[g];++y)p[2*v]=g,p[2*v+1]=y,h[v]=o[v],++v;return[p,h,m]}},71489:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(87105);function i(e,t){for(var n=r.util.getArrayFromDType("int32",e.length),i=0;i<e.length;++i)n[i]=r.util.fingerPrint64(e[i]).modulo(t).getLowBitsUnsigned();return n}},51802:function(e,t,n){"use strict";n.d(t,{GR:function(){return c},VY:function(){return o},lu:function(){return u}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e-t})),s=(0,a.H)((function(e,t,n,r){return{real:e-n,imag:t-r}})),u=(0,a.j)(r.Sub,o,s),c={kernelName:r.Sub,backendName:"cpu",kernelFunc:u}},57129:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(87105);function i(e,t){for(var n=new Array(e.rank),i=0;i<n.length;i++)n[i]=e.shape[i]*t[i];for(var a=(0,r.buffer)(n,e.dtype),o=0;o<a.values.length;++o){for(var s=a.indexToLoc(o),u=new Array(e.rank),c=0;c<u.length;c++)u[c]=s[c]%e.shape[c];var l=e.locToIndex(u);a.values[o]=e.values[l]}return a}},79516:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(87105),i=function(e,t){var n=t.value-e.value;return 0===n?e.index-t.index:n};function a(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;o>n;){if(o-n>600){var s=o-n+1,u=t-n+1,c=Math.log(s),l=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*l*(s-l)/s)*Math.sign(u-s/2),f=Math.max(n,Math.floor(t-u*l/s+d)),p=Math.min(o,Math.floor(t+(s-u)*l/s+d));a(e,t,f,p)}var h=e[t],m=n,v=o;for(r.util.swap(e,n,t),i(e[o],h)>0&&r.util.swap(e,n,o);m<v;){for(r.util.swap(e,m,v),m++,v--;i(e[m],h)<0;)m+=1;for(;i(e[v],h)>0;)v-=1}0===i(e[n],h)?r.util.swap(e,n,v):(v+=1,r.util.swap(e,v,o)),v<=t&&(n=v+1),t<=v&&(o=v-1)}}function o(e,t,n,o,s){for(var u=t[t.length-1],c=e.length/u,l=u,d=r.util.getTypedArrayFromDType(n,c*o),f=r.util.getTypedArrayFromDType("int32",c*o),p=function(t){var n=t*l,r=e.subarray(n,n+l),u=new Array(r.length);r.forEach((function(e,t){return u[t]={value:e,index:t}})),o<u.length&&(a(u,o),u=u.slice(0,o)),s&&u.sort(i);for(var c=t*o,p=d.subarray(c,c+o),h=f.subarray(c,c+o),m=0;m<o;m++)p[m]=u[m].value,h[m]=u[m].index},h=0;h<c;h++)p(h);var m=t.slice();return m[m.length-1]=o,[(0,r.buffer)(m,n,d),(0,r.buffer)(m,"int32",f)]}},65257:function(e,t,n){"use strict";n.d(t,{b:function(){return s},p:function(){return o}});var r=n(87105),i=n(23193),a=n(31103);function o(e){var t=e.inputs,n=e.attrs,r=e.backend,o=t.x,s=n.perm;(0,i.H)(o,"transpose");for(var u=o.shape.length,c=new Array(u),l=0;l<c.length;l++)c[l]=o.shape[s[l]];var d=r.data.get(o.dataId).values,f=(0,a.H)(d,o.shape,o.dtype,s,c);return{dataId:r.write(f,c,o.dtype),shape:c,dtype:o.dtype}}var s={kernelName:r.Transpose,backendName:"cpu",kernelFunc:o}},31103:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(87105);function i(e,t,n,i,a){for(var o=t.length,s=r.util.sizeFromShape(t),u=r.util.computeStrides(t),c=r.util.computeStrides(a),l=r.util.getTypedArrayFromDType(n,r.util.sizeFromShape(a)),d=0;d<s;++d){for(var f=r.util.indexToLoc(d,o,u),p=new Array(f.length),h=0;h<p.length;h++)p[h]=f[i[h]];l[r.util.locToIndex(p,o,c)]=e[d]}return l}},24242:function(e,t,n){"use strict";n.d(t,{S:function(){return i}});var r=n(87105);function i(e,t,n,i){for(var a=r.util.parseAxisParam(t,n)[0],o=[1,n[0],1],s=0;s<a;s++)o[0]*=n[s];o[1]=n[a];for(var u=a+1;u<n.length;u++)o[2]*=n[u];for(var c={},l=new Int32Array(n[a]),d=new r.TensorBuffer(o,i,e),f=[],p=1===o[0]&&1===o[2],h=0;h<n[a];h++){var m=void 0;if(p)m=e[h].toString();else{for(var v=[],g=0;g<o[0];g++)for(var y=0;y<o[2];y++)v.push(d.get(g,h,y));m=v.join(",")}if(void 0!==c[m])l[h]=c[m];else{var b=Object.keys(c).length;c[m]=b,l[h]=b,f.push(h)}}var w=o.slice();w[1]=Object.keys(c).length;var k=new r.TensorBuffer(w,i);f.forEach((function(e,t){for(var n=0;n<o[0];n++)for(var r=0;r<o[2];r++)k.set(d.get(n,e,r),n,t,r)}));var x=n.slice();return x[a]=w[1],{outputValues:k.values,outputShape:x,indices:l}}},69341:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(87105);function i(e){return function(t,n,i,a,o){var s=r.backend_util.assertAndGetBroadcastShape(t,n),u=s.length,c=r.util.computeStrides(s),l=r.util.sizeFromShape(s),d=r.util.getTypedArrayFromDType(o,l),f=t.length,p=n.length,h=r.util.computeStrides(t),m=r.util.computeStrides(n),v=r.backend_util.getBroadcastDims(t,s),g=r.backend_util.getBroadcastDims(n,s);if(v.length+g.length===0)for(var y=0;y<d.length;++y)d[y]=e(i[y%i.length],a[y%a.length]);else for(var b=function(t){var n=r.util.indexToLoc(t,u,c),o=n.slice(-f);v.forEach((function(e){return o[e]=0}));var s=r.util.locToIndex(o,f,h),l=n.slice(-p);g.forEach((function(e){return l[e]=0}));var y=r.util.locToIndex(l,p,m);d[t]=e(i[s],a[y])},w=0;w<d.length;++w)b(w);return[d,s]}}},69501:function(e,t,n){"use strict";n.d(t,{H:function(){return c},j:function(){return u}});var r=n(29439),i=n(87105),a=n(23193),o=n(60570),s=n(36545);function u(e,t,n,u){return null==n?function(n){var o=n.inputs,s=n.backend,c=o.a,l=o.b,d=s;(0,a.H)([c,l],e);var f=d.data.get(c.dataId).values,p=d.data.get(l.dataId).values,h="string"===c.dtype?i.backend_util.fromUint8ToStringArray(f):f,m="string"===c.dtype?i.backend_util.fromUint8ToStringArray(p):p,v=u||c.dtype,g=t(c.shape,l.shape,h,m,v),y=(0,r.Z)(g,2),b=y[0],w=y[1];return d.makeTensorInfo(w,v,b)}:function(e){var i=e.inputs,a=e.backend,c=i.a,l=i.b,d=a;if("complex64"===c.dtype||"complex64"===l.dtype){var f=(0,o.p)({inputs:{x:c},backend:d,attrs:{dtype:"complex64"}}),p=d.data.get(f.dataId),h=p.complexTensorInfos.real,m=p.complexTensorInfos.imag,v=d.data.get(h.dataId).values,g=d.data.get(m.dataId).values,y=(0,o.p)({inputs:{x:l},backend:d,attrs:{dtype:"complex64"}}),b=d.data.get(y.dataId),w=b.complexTensorInfos.real,k=b.complexTensorInfos.imag,x=d.data.get(w.dataId).values,_=d.data.get(k.dataId).values,S=n(c.shape,l.shape,v,g,x,_),E=(0,r.Z)(S,3),C=E[0],T=E[1],A=E[2],O=d.makeTensorInfo(A,"float32",C),R=d.makeTensorInfo(A,"float32",T),I=(0,s.P)({inputs:{real:O,imag:R},backend:d});return d.disposeIntermediateTensorInfo(f),d.disposeIntermediateTensorInfo(y),d.disposeIntermediateTensorInfo(O),d.disposeIntermediateTensorInfo(R),I}var N=d.data.get(c.dataId).values,P=d.data.get(l.dataId).values,M=u||c.dtype,L=t(c.shape,l.shape,N,P,M),D=(0,r.Z)(L,2),F=D[0],B=D[1];return d.makeTensorInfo(B,M,F)}}function c(e){return function(t,n,r,a,o,s){var u=i.backend_util.assertAndGetBroadcastShape(t,n),c=i.util.sizeFromShape(u),l=u.length,d=i.util.computeStrides(u),f=i.util.getTypedArrayFromDType("float32",c),p=i.util.getTypedArrayFromDType("float32",c),h=i.backend_util.getBroadcastDims(t,u),m=i.backend_util.getBroadcastDims(n,u),v=i.backend_util.mergeRealAndImagArrays(r,a),g=i.backend_util.mergeRealAndImagArrays(o,s),y=t.length,b=i.util.computeStrides(t),w=n.length,k=i.util.computeStrides(n);if(h.length+m.length===0)for(var x=0;x<f.length;x++){var _=x%v.length,S=x%g.length,E=e(v[2*_],v[2*_+1],g[2*S],g[2*S+1]);f[x]=E.real,p[x]=E.imag}else for(var C=function(t){var n=i.util.indexToLoc(t,l,d),r=n.slice(-y);h.forEach((function(e){return r[e]=0}));var a=i.util.locToIndex(r,y,b),o=n.slice(-w);m.forEach((function(e){return o[e]=0}));var s=i.util.locToIndex(o,w,k),u=e(v[2*a],v[2*a+1],g[2*s],g[2*s+1]);f[t]=u.real,p[t]=u.imag},T=0;T<f.length;T++)C(T);return[f,p,u]}}},50422:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(87105);function i(e){return function(t,n,i){for(var a=r.util.getTypedArrayFromDType(n,t.length),o=0;o<t.length;++o)a[o]=e(t[o],i);return a}}},91844:function(e,t,n){"use strict";n.d(t,{A:function(){return a},O:function(){return o}});var r=n(87105),i=n(23193);function a(e,t,n){return function(a){var o=a.inputs,s=a.attrs,u=a.backend,c=o.x;if((0,i.H)(c,e),"string"===c.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");for(var l=u,d=l.data.get(c.dataId).values,f=r.util.sizeFromShape(c.shape),p=n||c.dtype,h=r.util.getArrayFromDType(p,f),m=0;m<f;++m)h[m]=t(d[m],s);return l.makeTensorInfo(c.shape,p,h)}}function o(e,t,n){return function(r){var a=r.inputs,o=r.attrs,s=r.backend,u=a.x;if((0,i.H)(u,e),"string"===u.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");var c=s,l=c.data.get(u.dataId).values,d=n||u.dtype,f=t(l,d,o);return c.makeTensorInfo(u.shape,d,f)}}},94842:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var r=n(87105),i=n(36545);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){var o=a(e,t,"float32"),s=a(e,t,"float32");return(0,i.P)({inputs:{real:o,imag:s},backend:e})}var u=r.util.makeZerosTypedArray(r.util.sizeFromShape(t),n);return e.makeTensorInfo(t,n,u)}},78832:function(e,t,n){"use strict";n.r(t),n.d(t,{GPGPUContext:function(){return Nt},MathBackendWebGL:function(){return Br},forceHalfFloat:function(){return Zr},gpgpu_util:function(){return i},setWebGLContext:function(){return w},version_webgl:function(){return jr},webgl:function(){return Vr},webgl_util:function(){return r}});var r={};n.r(r),n.d(r,{assertNotComplex:function(){return ke},bindCanvasToFramebuffer:function(){return Q},bindColorTextureToFramebuffer:function(){return J},bindTextureToProgramUniformSampler:function(){return X},bindTextureUnit:function(){return G},bindVertexBufferToProgramAttribute:function(){return z},callAndCheck:function(){return C},canBeRepresented:function(){return T},createFragmentShader:function(){return I},createFramebuffer:function(){return H},createProgram:function(){return D},createStaticIndexBuffer:function(){return Z},createStaticVertexBuffer:function(){return j},createTexture:function(){return U},createVertexShader:function(){return R},getBatchDim:function(){return ie},getExtensionOrThrow:function(){return O},getFramebufferErrorMessage:function(){return te},getMaxTexturesInShader:function(){return pe},getNumChannels:function(){return V},getProgramUniformLocation:function(){return Y},getProgramUniformLocationOrThrow:function(){return K},getRowsCols:function(){return ae},getShapeAs3D:function(){return oe},getTextureShapeFromLogicalShape:function(){return se},getWebGLDisjointQueryTimerVersion:function(){return he},getWebGLErrorMessage:function(){return A},getWebGLMaxTextureSize:function(){return le},hasExtension:function(){return me},isCapableOfRenderingToFloatTexture:function(){return ge},isDownloadFloatTextureEnabled:function(){return ye},isReshapeFree:function(){return ce},isWebGLFenceEnabled:function(){return we},isWebGLVersionEnabled:function(){return ve},linkProgram:function(){return F},logShaderSourceAndInfoLog:function(){return L},resetMaxTextureSize:function(){return de},resetMaxTexturesInShader:function(){return fe},unbindColorTextureFromFramebuffer:function(){return $},unbindTextureUnit:function(){return q},validateFramebuffer:function(){return ee},validateProgram:function(){return B},validateTextureSize:function(){return W}});var i={};n.r(i),n.d(i,{bindVertexProgramAttributeStreams:function(){return St},createBufferFromOutputTexture:function(){return Tt},createFloat16MatrixTexture:function(){return gt},createFloat16PackedMatrixTexture:function(){return _t},createFloat32MatrixTexture:function(){return mt},createIndexBuffer:function(){return ft},createPackedMatrixTexture:function(){return kt},createUnsignedBytesMatrixTexture:function(){return bt},createVertexBuffer:function(){return dt},createVertexShader:function(){return lt},downloadByteEncodedFloatMatrixFromOutputTexture:function(){return Ot},downloadFloat32MatrixFromBuffer:function(){return At},downloadMatrixFromPackedOutputTexture:function(){return It},downloadPackedMatrixFromBuffer:function(){return Rt},getInternalFormatForFloat16MatrixTexture:function(){return vt},getInternalFormatForFloat16PackedMatrixTexture:function(){return xt},getInternalFormatForFloat32MatrixTexture:function(){return ht},getInternalFormatForPackedMatrixTexture:function(){return wt},getInternalFormatForUnsignedBytesMatrixTexture:function(){return yt},uploadDenseMatrixToTexture:function(){return Et},uploadPixelDataToTexture:function(){return Ct}});var a,o,s,u=n(87105),c=n(29439),l=n(74165),d=n(93433),f=n(15861),p=n(15671),h=n(43144),m=n(97326),v=n(60136),g=n(29388),y={},b={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function w(e,t){y[e]=t}function k(e,t){if(!(e in y)||null!=t){var n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=null==t?function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;if(n.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete y[e]}),!1),1===e)return n.getContext("webgl",b)||n.getContext("experimental-webgl",b);return n.getContext("webgl2",b)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;y[e]=n}var r=y[e];return null==r||r.isContextLost()?(delete y[e],k(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),y[e])}function x(e,t){return[t,e]}function _(e){var t=u.util.sizeFromShape(e),n=Math.ceil(t/4);return u.util.sizeToSquarishShape(n)}function S(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function E(e,t){var n,r,i,a,o,s,c,l,d,f,p=e;return 2===(0,u.env)().getNumber("WEBGL_VERSION")?(n=p.R32F,r=p.R16F,i=p.RGBA16F,a=p.RGBA32F,o=p.RED,c=4,l=1,d=p.HALF_FLOAT,f=p.FLOAT,s=p.RGBA8):(n=e.RGBA,r=e.RGBA,i=e.RGBA,a=p.RGBA,o=e.RGBA,c=4,l=4,d=null!=t?t.HALF_FLOAT_OES:null,f=e.FLOAT,s=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:s,downloadUnpackNumChannels:c,defaultNumChannels:l,textureTypeHalfFloat:d,textureTypeFloat:f}}function C(e,t){var n=t();return(0,u.env)().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+A(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(a||(a={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(o||(o={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(s||(s={}));function T(e){return!!((0,u.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function A(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}function O(e,t){return ne(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}function R(e,t){var n=ne(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(C(e,(function(){return e.shaderSource(n,t)})),C(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function I(e,t){var n=ne(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(C(e,(function(){return e.shaderSource(n,t)})),C(e,(function(){return e.compileShader(n)})),(0,u.env)().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw L(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var N,P,M=/ERROR: [0-9]+:([0-9]+):/g;function L(e,t){var n=M.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);for(var r=+n[1],i=e.split("\n"),a=i.length.toString().length+2,o=i.map((function(e,t){return u.util.rightPad((t+1).toString(),a)+e})),s=0,c=0;c<o.length;c++)s=Math.max(o[c].length,s);var l=o.slice(0,r-1),d=o.slice(r-1,r),f=o.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(u.util.rightPad(d[0],s)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}function D(e){return ne(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function F(e,t){if(C(e,(function(){return e.linkProgram(t)})),!(0,u.env)().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function B(e,t){if(C(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function j(e,t){var n=ne(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return C(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),C(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}function Z(e,t){var n=ne(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return C(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),C(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}function V(){return 2===(0,u.env)().getNumber("WEBGL_VERSION")?1:4}function U(e){return ne(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function W(e,t){var n=(0,u.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){var i="[".concat(e,"x").concat(t,"]"),a="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU "+a+".")}}function H(e){return ne(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function z(e,t,n,r,i,a,o){var s=e.getAttribLocation(t,n);return-1!==s&&(C(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),C(e,(function(){return e.vertexAttribPointer(s,i,e.FLOAT,!1,a,o)})),C(e,(function(){return e.enableVertexAttribArray(s)})),!0)}function G(e,t,n){re(e,n),C(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}function q(e,t){re(e,t),C(e,(function(){return e.activeTexture(e.TEXTURE0+t)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function K(e,t,n){return ne(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}function Y(e,t,n){return e.getUniformLocation(t,n)}function X(e,t,n,r){C(e,(function(){return G(e,t,r)})),C(e,(function(){return e.uniform1i(n,r)}))}function Q(e){C(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),C(e,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),C(e,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))}function J(e,t,n){C(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),C(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function $(e,t){C(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),C(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function ee(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+te(e,t))}function te(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}function ne(e,t,n){var r=C(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function re(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var i="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(i,"."))}}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return u.util.sizeFromShape(e.slice(0,e.length-t))}function ae(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function oe(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[ie(e)].concat((0,d.Z)(ae(e)))),t}function se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,u.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map((function(t,n){return n>=e.length-2?u.util.nearestLargerEven(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var r=u.util.squeezeShape(e);e=r.newShape}var i=u.util.sizeFromShape(e);if(e.length<=1&&i<=n)return[1,i];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){var a=ie(e),o=2,s=2;if(e.length){var l=ae(e),d=(0,c.Z)(l,2);o=d[0],s=d[1]}return i=a*(o/2)*(s/2),u.util.sizeToSquarishShape(i).map((function(e){return 2*e}))}return u.util.sizeToSquarishShape(i)}function ue(e){return e%2===0}function ce(e,t){if(e=e.slice(-2),t=t.slice(-2),u.util.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(ue(n)&&ue(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&ue(e[0])&&ue(t[0])}function le(e){if(null==N){var t=k(e);N=t.getParameter(t.MAX_TEXTURE_SIZE)}return N}function de(){N=null}function fe(){P=null}function pe(e){if(null==P){var t=k(e);P=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,P)}function he(e){if(0===e)return 0;var t=k(e);return me(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:me(t,"EXT_disjoint_timer_query")?1:0}function me(e,t){return null!=e.getExtension(t)}function ve(e){try{if(null!=k(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function ge(e){if(0===e)return!1;var t=k(e);if(1===e){if(!me(t,"OES_texture_float"))return!1}else if(!me(t,"EXT_color_buffer_float"))return!1;return be(t)}function ye(e){if(0===e)return!1;var t=k(e);if(1!==e){if(me(t,"EXT_color_buffer_float"))return be(t);var n="EXT_color_buffer_half_float";if(me(t,n)){var r=t.getExtension(n);return function(e,t){var n=E(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var i=1,a=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,i,a,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),s}(t,r)}return!1}return!!me(t,"OES_texture_float")&&(!!me(t,"WEBGL_color_buffer_float")&&be(t))}function be(e){var t=E(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),i}function we(e){return 2===e&&null!=k(e).fenceSync}function ke(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&u.util.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."}))}))}var xe=(0,u.env)();function _e(){var e,t,n,r,i,a,o,s,c,l;return 2===(0,u.env)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",i="texture",a="outputColor",o="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",c="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",i="texture2D",a="gl_FragColor",o="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",c="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:i,output:a,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:c,defineRound:l}}function Se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=u.util.computeStrides(t);return r.map((function(t,i){var a="int ".concat(e[i]," = ").concat(n," / ").concat(t),o=i===r.length-1?"int ".concat(e[i+1]," = ").concat(n," - ").concat(e[i]," * ").concat(t):"index -= ".concat(e[i]," * ").concat(t);return"".concat(a,"; ").concat(o,";")})).join("")}function Ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=u.util.computeStrides(t);return r.map((function(t,i){var a="int ".concat(e[i]," = ").concat(n," / outShapeStrides[").concat(i,"]"),o=i===r.length-1?"int ".concat(e[i+1]," = ").concat(n," - ").concat(e[i]," * outShapeStrides[").concat(i,"]"):"index -= ".concat(e[i]," * outShapeStrides[").concat(i,"]");return"".concat(a,"; ").concat(o,";")})).join("")}function Ce(e,t){var n=e.length,r=e.map((function(e){return"".concat(t,"[").concat(e,"]")})),i=new Array(n-1);i[n-2]=r[n-1];for(var a=n-3;a>=0;--a)i[a]="(".concat(i[a+1]," * ").concat(r[a+1],")");return i}function Te(e){var t=u.util.computeStrides(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}xe.registerFlag("HAS_WEBGL",(function(){return xe.getNumber("WEBGL_VERSION")>0})),xe.registerFlag("WEBGL_VERSION",(function(){return ve(2)?2:ve(1)?1:0})),xe.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(function(){return!1})),xe.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===xe.get("WEBGL_VERSION")})),xe.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),xe.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),xe.registerFlag("WEBGL_PACK",(function(){return xe.getBool("HAS_WEBGL")})),xe.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return xe.getBool("WEBGL_PACK")})),xe.registerFlag("WEBGL_PACK_CLIP",(function(){return xe.getBool("WEBGL_PACK")})),xe.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return xe.getBool("WEBGL_PACK")})),xe.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return xe.getBool("WEBGL_PACK")})),xe.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return xe.getBool("WEBGL_PACK")})),xe.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return xe.getBool("WEBGL_PACK")})),xe.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return xe.getBool("WEBGL_PACK")})),xe.registerFlag("WEBGL_PACK_REDUCE",(function(){return xe.getBool("WEBGL_PACK")})),xe.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return xe.getBool("WEBGL_PACK")})),xe.registerFlag("WEBGL_CONV_IM2COL",(function(){return xe.getBool("WEBGL_PACK")})),xe.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return le(xe.getNumber("WEBGL_VERSION"))})),xe.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return pe(xe.getNumber("WEBGL_VERSION"))})),xe.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=xe.getNumber("WEBGL_VERSION");return 0===e?0:he(e)})),xe.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return xe.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!u.device_util.isMobile()})),xe.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return ge(xe.getNumber("WEBGL_VERSION"))})),xe.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!xe.getBool("WEBGL_FORCE_F16_TEXTURES")&&xe.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),xe.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return ye(xe.getNumber("WEBGL_VERSION"))})),xe.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return we(xe.getNumber("WEBGL_VERSION"))})),xe.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return xe.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),xe.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(function(){return-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),xe.registerFlag("WEBGL_FLUSH_THRESHOLD",(function(){return u.device_util.isMobile()?1:-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),xe.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 128})),xe.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(function(){return!1})),xe.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 1e5})),xe.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(function(){return 128}));var Ae="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",Oe=u.backend_util.getBroadcastDims;function Re(e,t,n){var r=[];if(e.forEach((function(e){var t=u.util.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){switch(Ye(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((function(e){r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));var i,a,o=r.join("\n"),s=e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i="";i+=n?Ne(e,r):Ie(e,r);var a=e.shapeInfo.logicalShape,o=t.logicalShape;a.length<=o.length&&(i+=n?Ge(e,t):qe(e,t));return i}(e,t,n.packedInputs,n.enableShapeUniforms)})).join("\n"),c=t.texShape,l=_e(),d=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(l),f=function(e){return"".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(Pe,"\n    ").concat(Me,"\n    ").concat(Le,"\n  ")}(l);return t.isPacked?(i=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(u.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");var i=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[2]/2),a=i*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";for(var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[e.length-1]/2),a=i*Math.ceil(e[e.length-2]/2),o=a,s="",u="b, r, c",c=2;c<e.length-1;c++)o*=e[e.length-c-1],s="\n      int b".concat(c," = index / ").concat(o,";\n      index -= b").concat(c," * ").concat(o,";\n    ")+s,u="b".concat(c,", ")+u;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(s,"\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec").concat(e.length,"(").concat(u,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,c,n.enableShapeUniforms),a=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(l)):(i=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(u.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){var r=Ee(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(r,"\n    return ivec3(r, c, d);\n  }\n")}var i=Se(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){var r=Ee(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}var i=Se(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){var n=Se(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){var n=Se(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,c,n.enableShapeUniforms),a=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(l)),n.packedInputs&&(f+=De),[f,d,a,o,i,s,n.userCode].join("\n")}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.shapeInfo.logicalShape;switch(n.length){case 0:return Be(e,t);case 1:return je(e,t);case 2:return Ze(e,t);case 3:return Ve(e,t);case 4:return Ue(e,t);case 5:return We(e);case 6:return He(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function Ne(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=_e();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=_e();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");var o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=a[0],s=a[1],c=_e();if(null!=a&&u.util.arraysEqual(n,a))return t?"\n      vec4 ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(i,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ");var l=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],d=Math.ceil(n[1]/2);return"\n    vec4 ".concat(i,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(d,", ").concat(l[0],", ").concat(l[1],", row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===n[0]){var s=[1,2],u=Xe(e,n.slice(1)),c=["b","row","col"];return"\n        ".concat(Ne(u,t),"\n        vec4 ").concat(i,"(int b, int row, int col) {\n          return ").concat(i,"(").concat(Qe(c,s),");\n        }\n      ")}var l=_e();if(t)return"\n    vec4 ".concat(i,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ");var d=o[0],f=o[1],p=Math.ceil(n[2]/2),h=p*Math.ceil(n[1]/2);return"\n    vec4 ".concat(i,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(d,", ").concat(f,", ").concat(h,", ").concat(p,", b, row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=_e();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ");for(var a=e.shapeInfo.logicalShape,o=a.length,s=e.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=u[0],l=u[1],d=Math.ceil(a[o-1]/2),f=d*Math.ceil(a[o-2]/2),p="int b, int row, int col",h="b * ".concat(f," + (row / 2) * ").concat(d," + (col / 2)"),m=2;m<o-1;m++)p="int b".concat(m,", ")+p,f*=a[o-m-1],h="b".concat(m," * ").concat(f," + ")+h;return"\n    vec4 ".concat(r,"(").concat(p,") {\n      int index = ").concat(h,";\n      int texR = index / ").concat(l,";\n      int texC = index - texR * ").concat(l,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(l,", ").concat(c,");\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}var Pe="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Me="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Le="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",De="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Fe(e){return"offset".concat(e)}function Be(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");var i=(0,c.Z)(e.shapeInfo.texShape,2),a=i[0],o=i[1];if(1===a&&1===o)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=Fe(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var u=(0,c.Z)(e.shapeInfo.texShape,2),l=u[0],d=u[1];return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(l,", ").concat(d,", ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function je(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(ze(e),"\n      }\n    ");var i=e.shapeInfo.texShape,a=i[0],o=i[1];if(1===o&&1===a)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=Fe(n);return 1===o?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / ").concat(a,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):1===a?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / ").concat(o,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):t?"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  "):"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(a,", ").concat(o,", index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function Ze(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape;if(null!=a&&u.util.arraysEqual(n,a)){if(t)return"\n      float ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var o=a[0],s=a[1];return"\n    float ".concat(i,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}var c=u.util.squeezeShape(n),l=c.newShape,d=c.keptDims,f=l;if(f.length<n.length){var p=Xe(e,f);return"\n      ".concat(Ie(p,t),"\n      float ").concat(i,"(int row, int col) {\n        return ").concat(i,"(").concat(Qe(["row","col"],d),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(ze(e),"\n      }\n    ");var h=a[0],m=a[1],v=Fe(r);return 1===m?t?"\n      float ".concat(i,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(h,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):1===h?t?"\n      float ".concat(i,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(m,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):t?"\n      float ".concat(i,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(v,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n  float ".concat(i,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(v,";\n    vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}function Ve(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[1]*n[2],o=n[2],s=u.util.squeezeShape(n),c=s.newShape,l=s.keptDims,d=c;if(d.length<n.length){var f=Xe(e,d);return"\n        ".concat(Ie(f,t),"\n        float ").concat(i,"(int row, int col, int depth) {\n          return ").concat(i,"(").concat(Qe(["row","col","depth"],l),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(a,", ").concat(o,", 1)));\n        ").concat(ze(e),"\n      }\n    ");var p=e.shapeInfo.texShape,h=p[0],m=p[1],v=e.shapeInfo.flatOffset;if(m===a&&null==v)return t?"\n      float ".concat(i,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(i,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(o,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(m,".0, ").concat(h,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(m===o&&null==v)return t?"\n      float ".concat(i,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(m,".0, ").concat(h,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");var g=Fe(r);return t?"\n    float ".concat(i,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * ").concat(a," + col * ").concat(o," + depth + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    "):"\n      float ".concat(i,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(a," + col * ").concat(o," + depth + ").concat(g,";\n        vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}function Ue(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[3],o=n[2]*a,s=n[1]*o,c=u.util.squeezeShape(n),l=c.newShape,d=c.keptDims;if(l.length<n.length){var f=Xe(e,l);return"\n      ".concat(Ie(f,t),"\n      float ").concat(i,"(int row, int col, int depth, int depth2) {\n        return ").concat(i,"(").concat(Qe(["row","col","depth","depth2"],d),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(s,", ").concat(o,", ").concat(a,", 1)));\n        ").concat(ze(e),"\n      }\n    ");var p=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,m=h[0],v=h[1],g="int stride2 = ".concat(r,"Shape[3];"),y="int stride1 = ".concat(r,"Shape[2] * stride2;"),b="int stride0 = ".concat(r,"Shape[1] * stride1;");if(v===s&&null==p)return t?"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        ").concat(g,"\n        ").concat(y,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(o,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(v===a&&null==p)return t?"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var w=Fe(r);return t?"\n    float ".concat(i,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(g,"\n      ").concat(y,"\n      ").concat(b,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(w,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):"\n    float ".concat(i,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," +\n          depth * ").concat(a," + depth2;\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(v,", index + ").concat(w,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}function We(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[4],a=t[3]*i,o=t[2]*a,s=t[1]*o,c=u.util.squeezeShape(t),l=c.newShape,d=c.keptDims;if(l.length<t.length){var f=Xe(e,l);return"\n      ".concat(Ie(f),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(Qe(["row","col","depth","depth2","depth3"],d),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(s,", ").concat(o,", ").concat(a,", ").concat(i,")) +\n          depth3;\n        ").concat(ze(e),"\n      }\n    ");var p=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,m=h[0],v=h[1];if(v===s&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(o,", ").concat(a,", ").concat(i,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(v===i&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var g=Fe(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," + depth * ").concat(a," +\n          depth2 * ").concat(i," + depth3 + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(v,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function He(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=u.util.squeezeShape(t),a=i.newShape,o=i.keptDims;if(a.length<t.length){var s=Xe(e,a);return"\n      ".concat(Ie(s),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(Qe(["row","col","depth","depth2","depth3","depth4"],o),");\n      }\n    ")}var c=t[5],l=t[4]*c,d=t[3]*l,f=t[2]*d,p=t[1]*f;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(p,", ").concat(f,", ").concat(d,", ").concat(l,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(c,", 1)));\n        ").concat(ze(e),"\n      }\n    ");var h=e.shapeInfo.flatOffset,m=e.shapeInfo.texShape,v=m[0],g=m[1];if(g===p&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(f,", ").concat(d,", ").concat(l,", ").concat(c,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(g,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(g===c&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(g,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var y=Fe(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(p," + col * ").concat(f," + depth * ").concat(d," +\n          depth2 * ").concat(l," + depth3 * ").concat(c," + depth4 + ").concat(y,";\n      vec2 uv = uvFromFlat(").concat(v,", ").concat(g,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function ze(e){var t=e.name,n=u.util.sizeFromShape(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function Ge(e,t){var n,r=e.name,i=r.charAt(0).toUpperCase()+r.slice(1),a="get"+i+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,c=Oe(e.shapeInfo.logicalShape,t.logicalShape),l=Ke(s),d=s-o,f=["x","y","z","w","u","v"];n=0===o?"":s<2&&c.length>=1?"coords = 0;":c.map((function(e){return"coords.".concat(f[e+d]," = 0;")})).join("\n");var p="";p=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(f[t+d])})).join(", ");var h="return outputValue;",m=1===u.util.sizeFromShape(e.shapeInfo.logicalShape),v=1===u.util.sizeFromShape(t.logicalShape);if(1!==o||m||v){if(m&&!v)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(c.length){var g=o-2,y=o-1;c.indexOf(g)>-1&&c.indexOf(y)>-1?h="return vec4(outputValue.x);":c.indexOf(g)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":c.indexOf(y)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(a,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(i,"(").concat(p,");\n      ").concat(h,"\n    }\n  ")}function qe(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",a=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,c=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===c&&null==e.shapeInfo.flatOffset&&u.util.arraysEqual(o,a))return"\n      float ".concat(i,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var l,d=Ke(c),f=Oe(e.shapeInfo.logicalShape,t.logicalShape),p=c-s,h=["x","y","z","w","u","v"];l=0===s?"":c<2&&f.length>=1?"coords = 0;":f.map((function(e){return"coords.".concat(h[e+p]," = 0;")})).join("\n");var m="";return m=c<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(h[t+p])})).join(", "),"\n    float ".concat(i,"() {\n      ").concat(d," coords = getOutputCoords();\n      ").concat(l,"\n      return get").concat(r,"(").concat(m,");\n    }\n  ")}function Ke(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function Ye(e,t,n){var r=u.util.squeezeShape(t),i=r.newShape,a=r.keptDims,o=t.length,s=e&&3===o&&1===t[0],c=s?t.slice(1):i,l=!e&&o>1&&!u.util.arraysEqual(t,n)&&i.length<o||s;return{useSqueezeShape:l,uniformShape:l?c:t,keptDims:a}}function Xe(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Qe(e,t){return t.map((function(t){return e[t]})).join(", ")}function Je(e,t,n,r){var i=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),a=i.map((function(e){return e.shapeInfo})),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=Re(i,o,t),c=I(e.gl,s),l=e.createProgram(c);return(0,u.env)().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:c,source:s,webGLProgram:l,inShapeInfos:a,outShapeInfo:o,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:c,source:s,webGLProgram:l,inShapeInfos:a,outShapeInfo:o},$e(e,t,l))}function $e(e,t,n){var r,i,a,o,s={},c={},l={},d=[],f=null;o=e.getUniformLocation(n,"NAN",!1),1===(0,u.env)().getNumber("WEBGL_VERSION")&&(f=e.getUniformLocation(n,"INFINITY",!1));for(var p=!1,h=0;h<t.variableNames.length;h++){var m=t.variableNames[h];s[m]=e.getUniformLocation(n,m,p),s["offset".concat(m)]=e.getUniformLocation(n,"offset".concat(m),p),t.enableShapeUniforms&&(c["".concat(m,"Shape")]=e.getUniformLocation(n,"".concat(m,"Shape"),p),l["".concat(m,"TexShape")]=e.getUniformLocation(n,"".concat(m,"TexShape"),p))}return t.enableShapeUniforms&&(r=e.getUniformLocation(n,"outShape",p),a=e.getUniformLocation(n,"outShapeStrides",p),i=e.getUniformLocation(n,"outTexShape",p)),t.customUniforms&&t.customUniforms.forEach((function(t,r){d[r]=e.getUniformLocation(n,t.name,p)})),{uniformLocations:s,customUniformLocations:d,infLoc:f,nanLoc:o,inShapesLocations:c,inTexShapesLocations:l,outShapeLocation:r,outShapeStridesLocation:a,outTexShapeLocation:i}}function et(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach((function(e,n){var r=e.logicalShape,i=t[n],a=i.shape;if(!u.util.arraysEqual(r,a))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(a," must match"));if(!e.isUniform||!i.isUniform){var o=e.texShape,s=i.isUniform?null:i.texData.texShape;if(!u.util.arraysEqual(o,s))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(o," and ").concat(s," must match"))}}))}function tt(e,t,n,r,i){t.program.enableShapeUniforms||(et(t.inShapeInfos,n),et([t.outShapeInfo],[r]));var a=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a.texture,o[0],o[1]):e.setOutputMatrixTexture(a.texture,o[0],o[1]),e.setProgram(t.webGLProgram),1===(0,u.env)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var i=t.program.variableNames[r],a=t.uniformLocations[i],o=t.uniformLocations["offset".concat(i)],s=t.inShapesLocations["".concat(i,"Shape")],c=t.inTexShapesLocations["".concat(i,"TexShape")];if(s){var l=Ye(t.program.packedInputs,n.shape,n.texData.texShape).uniformShape;switch(l.length){case 1:e.gl.uniform1iv(s,new Int32Array(l));break;case 2:e.gl.uniform2iv(s,new Int32Array(l));break;case 3:e.gl.uniform3iv(s,new Int32Array(l));break;case 4:e.gl.uniform4iv(s,new Int32Array(l))}}if(c&&e.gl.uniform2i(c,n.texData.texShape[0],n.texData.texShape[1]),null!=a)if(n.isUniform)if(u.util.sizeFromShape(n.shape)<2)e.gl.uniform1f(a,n.uniformValues[0]);else{var d=n.uniformValues;d instanceof Float32Array||(d=new Float32Array(d)),e.gl.uniform1fv(a,d)}else null!=n.texData.slice&&null!=o&&e.gl.uniform1i(o,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,a,r)}));var s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){var c=u.util.computeStrides(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(c));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(c));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(c))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&i&&t.program.customUniforms.forEach((function(n,r){var a=t.customUniformLocations[r],o=i[r];if("float"===n.type)e.gl.uniform1fv(a,o);else if("vec2"===n.type)e.gl.uniform2fv(a,o);else if("vec3"===n.type)e.gl.uniform3fv(a,o);else if("vec4"===n.type)e.gl.uniform4fv(a,o);else if("int"===n.type)e.gl.uniform1iv(a,o);else if("ivec2"===n.type)e.gl.uniform2iv(a,o);else if("ivec3"===n.type)e.gl.uniform3iv(a,o);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(a,o)}})),e.executeProgram()}function nt(e,t,n){var r="";t.concat(n).forEach((function(t){var i=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var a=t.texData.texShape,o=Ye(e.packedInputs,t.shape,a),s=o.useSqueezeShape,c=o.uniformShape,l=o.keptDims,d="",f="",p="";if(1===c.length&&e.packedInputs){var h=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];d="".concat(h[0]>1,"_").concat(h[1]>1)}else if(2!==c.length||e.packedInputs){if(c.length>2&&!e.packedInputs){var m=u.util.computeStrides(c);p="".concat(m[0]===a[1],"_").concat(m[m.length-1]===a[1])}}else f="".concat(c[0]>1,"_").concat(c[1]>1);var v=t.shape.length,g=2===c.length&&u.util.arraysEqual(t.shape,a),y=1===u.util.sizeFromShape(t.shape),b=u.backend_util.getBroadcastDims(t.shape,n.shape),w=!e.packedInputs&&v===n.shape.length&&u.util.arraysEqual(a,n.texData.texShape),k=e.packedInputs||c.length>2?"":"".concat(a[0]>1,"_").concat(a[1]>1);r+="".concat(v,"_").concat(w,"_").concat(s?l:"","_").concat(c.length,"_").concat(y,"_").concat(b,"_").concat(g,"_").concat(d,"_").concat(f,"_").concat(p,"_").concat(k,"_").concat(i)}else{var x=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(x,"_").concat(i)}}));var i=e.userCode,a=e.constructor.name;return a+="_"+r+"_"+i+"".concat((0,u.env)().getNumber("WEBGL_VERSION"))}function rt(e){return(0,u.env)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var it=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=a.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=_e();this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?Ee(["r","c","d"],t):Se(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),at=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=a.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=_e();this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?Ee(["r","c","d"],t):Se(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),ot=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.outTexUsage=o.DOWNLOAD;var n=_e();this.outputShape=t,this.userCode="\n      ".concat(Ae,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),st=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=o.DOWNLOAD;var n=_e();this.outputShape=t,this.userCode="\n      ".concat(Ae,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),ut=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,p.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=_e();this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length);var i="result";n&&(i="floor(result * 255. + 0.5)"),this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Te(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ").concat(r.texture2D,"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ").concat(r.output," = vec4(").concat(i,", 0., 0., 0.);\n      }\n    ")})),ct=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=_e();this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length);var i="",a="result";n&&(a="floor(result * 255. + 0.5)");for(var o=0;o<=1;o++)for(var s=0;s<=1;s++){var u=2*o+s;i+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(s," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n          localCoords[2] += ").concat(s,";\n          if (localCoords[1] + ").concat(o," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n            localCoords[1] += ").concat(o,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(r.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(u,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(u,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(u,"] = values[2];\n            } else {\n              result[").concat(u,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Te(t),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(i,"\n\n          ").concat(r.output," = ").concat(a,";\n        }\n    ")}));function lt(e){var t=_e();return R(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function dt(e){return j(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function ft(e){return Z(e,new Uint16Array([0,1,2,2,1,3]))}function pt(e,t,n,r,i,a){W(t,n);var o=U(e),s=e.TEXTURE_2D;return C(e,(function(){return e.bindTexture(s,o)})),C(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),C(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),C(e,(function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)})),C(e,(function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)})),1===(0,u.env)().getNumber("WEBGL_VERSION")?C(e,(function(){return e.texImage2D(s,0,r,t,n,0,i,a,null)})):C(e,(function(){return e.texStorage2D(s,1,r,t,n)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),{texture:o,texShape:[n,t]}}function ht(e){return e.internalFormatFloat}function mt(e,t,n,r){var i=x(t,n),a=(0,c.Z)(i,2);return pt(e,a[0],a[1],ht(r),r.textureFormatFloat,e.FLOAT)}function vt(e){return e.internalFormatHalfFloat}function gt(e,t,n,r){var i=x(t,n),a=(0,c.Z)(i,2);return pt(e,a[0],a[1],vt(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function yt(e){return e.downloadTextureFormat}function bt(e,t,n,r){var i=x(t,n),a=(0,c.Z)(i,2);return pt(e,a[0],a[1],yt(r),e.RGBA,e.UNSIGNED_BYTE)}function wt(e){return e.internalFormatPackedFloat}function kt(e,t,n,r){var i=S(t,n),a=(0,c.Z)(i,2);return pt(e,a[0],a[1],wt(r),e.RGBA,e.FLOAT)}function xt(e){return e.internalFormatPackedHalfFloat}function _t(e,t,n,r){var i=S(t,n),a=(0,c.Z)(i,2);return pt(e,a[0],a[1],xt(r),e.RGBA,r.textureTypeHalfFloat)}function St(e,t,n){return C(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),z(e,t,"clipSpacePos",n,3,20,0)&&z(e,t,"uv",n,2,20,12)}function Et(e,t,n,r,i,a){var o,s,c;C(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),i instanceof Uint8Array?(o=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,c=e.RGBA):(o=new Float32Array(n*r*4),s=e.FLOAT,c=a.internalFormatPackedFloat),o.set(i),2===(0,u.env)().getNumber("WEBGL_VERSION")?C(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,o)})):C(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,c,n,r,0,e.RGBA,s,o)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Ct(e,t,n){C(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),n.data instanceof Uint8Array?2===(0,u.env)().getNumber("WEBGL_VERSION")?C(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)})):C(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):2===(0,u.env)().getNumber("WEBGL_VERSION")?C(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)})):C(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Tt(e,t,n,r){var i=e.createBuffer();C(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)}));var a=16*t*n;return C(e,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)})),C(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)})),C(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),i}function At(e,t,n){var r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function Ot(e,t,n,r){var i=x(t,n),a=(0,c.Z)(i,2),o=a[0],s=a[1],u=new Uint8Array(t*n*4);return C(e,(function(){return e.readPixels(0,0,o,s,r.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function Rt(e,t,n,r,i,a,o,s){var u=e,l=new Float32Array(function(e,t){var n=S(e,t),r=(0,c.Z)(n,2);return r[0]*r[1]*4}(a,o));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function It(e,t,n){var r=new Float32Array(t*n*4);return C(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)})),r}var Nt=function(){function e(t){(0,p.Z)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=(0,u.env)().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,w(n,t)):this.gl=k(n);var r="WEBGL_color_buffer_float",i="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===(0,u.env)().getNumber("WEBGL_VERSION")){var a="OES_texture_half_float";if(this.textureFloatExtension=O(this.gl,"OES_texture_float"),me(this.gl,a))this.textureHalfFloatExtension=O(this.gl,a);else if((0,u.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),me(this.gl,i))this.colorBufferHalfFloatExtension=O(this.gl,i);else if((0,u.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",me(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!me(this.gl,i))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(i)}this.vertexBuffer=dt(this.gl),this.indexBuffer=ft(this.gl),this.framebuffer=H(this.gl),this.textureConfig=E(this.gl,this.textureHalfFloatExtension)}return(0,h.Z)(e,[{key:"debug",get:function(){return(0,u.env)().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;C(t,(function(){return t.finish()})),C(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),C(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),C(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),C(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),C(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),mt(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),gt(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),bt(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),Ct(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,r){this.throwIfDisposed(),Et(this.gl,e,t,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),_t(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),kt(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&($(this.gl,this.framebuffer),this.outputTexture=null),C(this.gl,(function(){return t.gl.deleteTexture(e)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return Ot(r.gl,t,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,i,a){return Rt(this.gl,e,0,0,0,i,a,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return At(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=Tt(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,r=this;if((0,u.env)().getBool("WEBGL_FENCE_API_ENABLED")){var i=e,a=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=i.clientWaitSync(a,0,0);return e===i.ALREADY_SIGNALED||e===i.CONDITION_SATISFIED},t=a}else(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return It(r.gl,t,n)}))}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var n=this.gl;null==this.vertexShader&&(this.vertexShader=lt(n));var r=D(n);return C(n,(function(){return n.attachShader(r,t.vertexShader)})),C(n,(function(){return n.attachShader(r,e)})),F(n,r),this.debug&&B(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=St(n,this.program,this.vertexBuffer)),r}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&C(this.gl,(function(){return t.gl.deleteProgram(e)}))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&B(this.gl,this.program),C(this.gl,(function(){return t.gl.useProgram(e)}))}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?K(this.gl,e,t):Y(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),C(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),X(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=S(t,n),i=(0,c.Z)(r,2),a=i[0],o=i[1];this.setOutputMatrixTextureDriver(e,a,o)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&B(this.gl,this.program),ee(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),C(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),C(this.gl,(function(){return e.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=O(this.gl,2===(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i}},{key:"endQuery",value:function(){if(2!==(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=(0,f.Z)((0,l.Z)().mark((function e(t){var n=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.util.repeatedTry((function(){return n.disposed||n.isQueryAvailable(t,(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));case 2:return e.abrupt("return",this.getQueryTime(t,(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}var a=this.getQueryTimerExtensionWebGL1(),o=a.getQueryObjectEXT(e,a.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),o&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||u.util.repeatedTry((function(){return n.pollItems(),0===n.itemsToPoll.length}))}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),J(this.gl,e,this.framebuffer),this.debug&&ee(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(J(this.gl,this.outputTexture,this.framebuffer),this.debug&&ee(this.gl)):$(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;J(r,e,this.framebuffer),this.debug&&ee(r),this.outputTexture=e,C(r,(function(){return r.viewport(0,0,t,n)})),C(r,(function(){return r.scissor(0,0,t,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var i=this;this.throwIfDisposed(),C(this.gl,(function(){return i.gl.scissor(e,t,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}}]),e}();var Pt=n(25589),Mt=n(73737),Lt=n(94351),Dt=n(46563),Ft=n(68116),Bt=n(66880),jt=n(21354),Zt=n(97224),Vt=n(34351),Ut=n(82666),Wt=n(69075),Ht=n(26985),zt=n(39813),Gt=n(18734),qt=n(21491),Kt=n(68298),Yt=n(4771),Xt=n(89518),Qt=n(38094),Jt=n(18244),$t=n(54569),en=n(21566),tn=n(89120),nn=n(66284),rn=n(78105),an=n(28567),on=n(294),sn=n(96220),un=n(22126),cn=n(78337),ln=n(63634),dn=n(35440),fn=n(4165),pn=n(47497),hn=n(18294),mn=n(60998),vn=n(71489),gn=n(51802),yn=n(57129),bn=n(79516),wn=n(31103),kn=n(24242),xn=Pt.EH,_n=Mt.W,Sn=Mt.i,En=Lt.__,Cn=Dt.j,Tn=Ft.tW,An=Bt.Ro,On=jt.OF,Rn=Zt.r6,In=Vt.m,Nn=Ut.i,Pn=Wt.o,Mn=Ht.HL,Ln=zt.rO,Dn=Gt.lx,Fn=qt.b,Bn=Kt.vX,jn=Yt.B,Zn=Xt.wS,Vn=Qt.vP,Un=Jt.$3,Wn=$t.uC,Hn=en.Gj,zn=tn.Qg,Gn=nn.b,qn=rn.zd,Kn=an.N,Yn=on.VY,Xn=sn.bk,Qn=un.rT,Jn=cn.c,$n=ln.U,er=dn.V,tr=fn.zT,nr=pn.t,rr=hn.A,ir=mn.Q,ar=vn.h,or=gn.VY,sr=yn.R,ur=bn.W,cr=wn.H,lr=kn.S;function dr(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return"".concat(e,".").concat(t)}))}function fr(e,t){return 1===t?[e]:dr(e,t)}var pr=function(){function e(t){if((0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=rt(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=fr("rc",this.rank),r=Ke(this.rank),i=this.getOutOfBoundsCondition(n),a=this.getSetup(n),o=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(r," rc = getOutputCoords();\n\n          if(").concat(i,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(a,"\n\n            setOutput(vec4(").concat(o,"));\n          }\n        }\n      ")}}return(0,h.Z)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],n=0;n<=1;n++)for(var r=0;r<=1;r++){for(var i="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1"),a=2;a<this.rank;a++)i="".concat(e[e.length-1-a],",")+i;t.push(i)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);if(1===this.rank){var n=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(n," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}(),hr=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length);for(var r="",i=0;i<4;i++){var a="thisRC = rc;";i%2===1&&(a+="thisRC.z += 1;"),i>1&&(a+="thisRC.y += 1;"),r+="\n        ".concat(a,"\n        ").concat(i>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(i,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(i>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){var n=t?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=e.map((function(e,t){return t})),i=Ce(r,t);return i.map((function(t,r){var a="int ".concat(e[r]," = ").concat(n," / ").concat(i[r]),o=r===i.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(i[r]):"index -= ".concat(e[r]," * ").concat(i[r]);return"".concat(a,"; ").concat(o,";")})).join("")}(["r","c","d"],"inputShape"):Se(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Te(t),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")}));var mr=function(){function e(t){(0,p.Z)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return(0,h.Z)(e,[{key:"acquireTexture",value:function(e,t,n){var r=gr(t,n),i=yr(e,r,n);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);var a,o=vr(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();var u=this.freeTextures[i].shift();return this.usedTextures[i].push(u),u}return r===s.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===s.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===s.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===s.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===s.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(a),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),a}},{key:"releaseTexture",value:function(e,t,n,r){if(null!=this.freeTextures){var i=gr(n,r),a=yr(t,i,r);a in this.freeTextures||(this.freeTextures[a]=[]);var o=vr(t,i,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=(0,u.env)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;var c=this.usedTextures[a],l=c.indexOf(e);if(l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c.splice(l,1),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function vr(e,t,n,r,i){var a,o=function(e,t){switch(e){case s.PACKED_2X2_FLOAT32:return wt(t);case s.PACKED_2X2_FLOAT16:return xt(t);case s.UNPACKED_FLOAT32:return ht(t);case s.UNPACKED_FLOAT16:return vt(t);case s.PACKED_4X1_UNSIGNED_BYTE:return yt(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);if(i){var u=S(e[0],e[1]),l=(0,c.Z)(u,2);a=l[0]*l[1]}else{var d=x(e[0],e[1]),f=(0,c.Z)(d,2);a=f[0]*f[1]}var p=function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,o);return a*p}function gr(e,t){if(e===o.UPLOAD)return s.PACKED_2X2_FLOAT32;if(e===o.RENDER||null==e)return function(e){return(0,u.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?s.PACKED_2X2_FLOAT32:s.UNPACKED_FLOAT32:e?s.PACKED_2X2_FLOAT16:s.UNPACKED_FLOAT16}(t);if(e===o.DOWNLOAD||e===o.PIXELS)return s.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function yr(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}var br=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),wr="if (isnan(x)) return x;",kr="return x;",xr="return abs(x);";var _r="return (x >= 0.0) ? x : (exp(x) - 1.0);",Sr=wr+"\n  return (x < 0.0) ? 0.0 : x;\n",Er=wr+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Cr="return x;",Tr="return 1.0 / (1.0 + exp(-1.0 * x));",Ar="return x;",Or="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Rr="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Ir="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Nr="return 1.0 / (1.0 + exp(-1.0 * x));",Pr=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),Mr=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length);var n=t.length,r=fr("rc",n),i=Ke(n),a=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),o=r.slice(-2),s=n<=1?"rc":"vec2(".concat(o.join(","),")");this.userCode="\n      void main() {\n        ".concat(i," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(a,");\n\n        setOutput(getChannel(packedInput, ").concat(s,"));\n      }\n    ")})),Lr=u.kernel_impls.whereImpl,Dr={};var Fr=(0,u.env)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");var Br=function(e){(0,v.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r,i,a;if((0,p.Z)(this,n),(r=t.call(this)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!(0,u.env)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null!=e){if(e instanceof Nt)i=e;else{var o=k((0,u.env)().getNumber("WEBGL_VERSION"),e);i=new Nt(o)}r.binaryCache={},r.gpgpuCreatedLocally=!1}else{var s=k((0,u.env)().getNumber("WEBGL_VERSION"));i=new Nt(s),r.binaryCache=((a=(0,u.env)().getNumber("WEBGL_VERSION"))in Dr||(Dr[a]={}),Dr[a]),r.gpgpuCreatedLocally=!0}return r.gpgpu=i,r.canvas=r.gpgpu.gl.canvas,r.textureManager=new mr(r.gpgpu),r.numMBBeforeWarning=null==(0,u.env)().global.screen?1024:(0,u.env)().global.screen.height*(0,u.env)().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new u.DataStorage((0,m.Z)(r),(0,u.engine)()),r}return(0,h.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"write",value:function(e,t,n){if(((0,u.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||(0,u.env)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:o.UPLOAD,refCount:1}),r}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,r,i){if((0,u.env)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:o.UPLOAD,refCount:i})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,i=t.complexTensorInfos,a=t.slice,o=t.shape,s=t.isPacked;if(null!=a){var c;c=s?new Pr(o,Cr):new br(o,Cr);var l=this.runWebGLProgram(c,[{dataId:e,shape:o,dtype:r}],r),d=this.readSync(l.dataId);return this.disposeIntermediateTensorInfo(l),d}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var f,p,h=null!=this.activeTimers;if(h&&(f=u.util.now()),"complex64"===r){var m=this.readSync(i.real.dataId),v=this.readSync(i.imag.dataId);p=u.backend_util.mergeRealAndImagArrays(m,v)}else p=this.getValuesFromTexture(e);return h&&(this.downloadWaitMs+=u.util.now()-f),this.convertAndCacheOnCPU(e,p)}},{key:"read",value:function(){var e=(0,f.Z)((0,l.Z)().mark((function e(t){var n,r,i,a,o,s,c,f,p,h,m,v,g,y,b,w,k,x,S,E,T,A,O;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead.has(t)){e.next=3;break}return n=this.pendingRead.get(t),e.abrupt("return",new Promise((function(e){return n.push(e)})));case 3:if(r=this.texData.get(t),i=r.values,a=r.shape,o=r.slice,s=r.dtype,c=r.complexTensorInfos,f=r.isPacked,null==o){e.next=11;break}return p=f?new Pr(a,Cr):new br(a,Cr),h=this.runWebGLProgram(p,[{dataId:t,shape:a,dtype:s}],s),m=this.read(h.dataId),this.disposeIntermediateTensorInfo(h),e.abrupt("return",m);case 11:if(null==i){e.next=13;break}return e.abrupt("return",this.convertAndCacheOnCPU(t));case 13:if(!(0,u.env)().getBool("DEBUG")){e.next=16;break}if((0,u.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==(0,u.env)().getNumber("WEBGL_VERSION")){e.next=16;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 16:if(v=null,"complex64"!==s&&(0,u.env)().get("WEBGL_BUFFER_SUPPORTED")&&(g=this.decode(t),b=this.texData.get(g.dataId),v=(y=this.gpgpu).createBufferFromTexture.apply(y,[b.texture.texture].concat((0,d.Z)(_(a))))),this.pendingRead.set(t,[]),"complex64"===s){e.next=22;break}return e.next=22,this.gpgpu.createAndWaitForFence();case 22:if("complex64"!==s){e.next=31;break}return e.next=25,Promise.all([this.read(c.real.dataId),this.read(c.imag.dataId)]);case 25:k=e.sent,x=k[0],S=k[1],w=u.backend_util.mergeRealAndImagArrays(x,S),e.next=32;break;case 31:null==v?w=this.getValuesFromTexture(t):(E=u.util.sizeFromShape(a),w=this.gpgpu.downloadFloat32MatrixFromBuffer(v,E));case 32:return null!=g&&this.disposeIntermediateTensorInfo(g),null!=v&&C(T=this.gpgpu.gl,(function(){return T.deleteBuffer(v)})),A=this.convertAndCacheOnCPU(t,w),O=this.pendingRead.get(t),this.pendingRead.delete(t),O.forEach((function(e){return e(A)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&(0,u.engine)().removeDataId(t,this),this.pendingDeletes--),e.abrupt("return",A);case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.texData.get(e),r=n.values,i=n.shape,a=n.slice,o=n.dtype,s=n.isPacked,c=n.texture;if("complex64"===o)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=a){var l;l=s?new Pr(i,Cr):new br(i,Cr);var d=this.runWebGLProgram(l,[{dataId:e,shape:i,dtype:o}],o),f=this.readToGPU(d,t);return this.disposeIntermediateTensorInfo(d),f}if(null==c)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");var p=this.decode(e,t.customTexShape),h=(0,u.engine)().makeTensorFromTensorInfo(p),m=this.texData.get(p.dataId);return Object.assign({tensorRef:h},m.texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return u.util.decodeString(e)}));return(0,u.buffer)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,u.buffer)(e.shape,e.dtype,t)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!T(n)){if((0,u.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,i=t.isPacked,a=u.util.sizeFromShape(n);if((0,u.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var o,s=this.decode(e),c=this.texData.get(s.dataId),l=(o=this.gpgpu).downloadMatrixFromPackedTexture.apply(o,[c.texture.texture].concat((0,d.Z)(_(n)))).subarray(0,a);return this.disposeIntermediateTensorInfo(s),l}var f=(0,u.env)().getBool("WEBGL_PACK")&&!0===i,p=f?oe(n):n,h=f?new st(p):new ot(p),m=this.runWebGLProgram(h,[{shape:p,dtype:r,dataId:e}],"float32"),v=this.texData.get(m.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture.texture,v.texShape[0],v.texShape[1]).subarray(0,a);return this.disposeIntermediateTensorInfo(m),g}},{key:"timerAvailable",value:function(){return(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this,n=this.activeTimers,r=[],i=!1;null==this.programTimersStack?(this.programTimersStack=r,i=!0):this.activeTimers.push(r),this.activeTimers=r,e();var a=u.util.flatten(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),o=u.util.flatten(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e}));this.activeTimers=n,i&&(this.programTimersStack=null);var s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(0,f.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=8;break}return e.next=3,Promise.all(a);case 3:n=e.sent,s.kernelMs=u.util.sum(n),s.getExtraProfileInfo=function(){return n.map((function(e,t){return{name:o[t],ms:e}})).map((function(e){return"".concat(e.name,": ").concat(e.ms)})).join(", ")},e.next=9;break;case 8:s.kernelMs={error:"WebGL query timers are not supported in this environment."};case 9:return t.uploadWaitMs=0,t.downloadWaitMs=0,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))()}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:u.util.now(),endMs:null}}},{key:"endTimer",value:function(e){return(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=u.util.now(),e)}},{key:"getQueryTime",value:function(){var e=(0,f.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=2;break}return e.abrupt("return",this.gpgpu.waitForQueryAndGetTime(t));case 2:return n=t,e.abrupt("return",n.endMs-n.startMs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e),r=n.complexTensorInfos;return null!=r&&(this.disposeData(r.real.dataId,t),this.disposeData(r.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,i=t.texShape,a=t.usage,o=t.isPacked,s=t.slice,u=s&&s.origDataId||e,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(i,r),this.textureManager.releaseTexture(n,i,a,o)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fr;return(0,u.env)().getBool("WEBGL_CPU_FORWARD")&&e.every((function(e){return null==t.texData.get(e.dataId).texture&&u.util.sizeFromShape(e.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){u.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Lr(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var r=new Pr(e.shape,t),i=this.compileAndRun(r,[e],n);return(0,u.engine)().makeTensorFromTensorInfo(i)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=Xn(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if((0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,xr,e.dtype);var n=new br(e.shape,xr),r=this.compileAndRun(n,[e]);return(0,u.engine)().makeTensorFromTensorInfo(r)}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&u.util.isString(n[0])){var i=n.map((function(e){return u.util.encodeString(e)}));r=this.write(i,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){return(0,u.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}},{key:"unpackTensor",value:function(e){var t=new Mr(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new pr(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[ie(e.shape)].concat((0,d.Z)(ae(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[ie(t)].concat((0,d.Z)(ae(t))),a=new hr(i,n),o=[n],s=this.runWebGLProgram(a,[r],e.dtype,o,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}},{key:"decode",value:function(e,t){var n=this.texData.get(e),r=n.isPacked,i=n.shape,a=n.dtype;if(null!=t){var o=u.util.sizeFromShape(i),s=t[0]*t[1]*4;u.util.assert(o<=s,(function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."}))}var c,l=oe(i);c=r?new at(l):new it(l);var d=[null!=t?t:_(l)];return{dtype:a,shape:i,dataId:this.runWebGLProgram(c,[{shape:l,dtype:a,dataId:e}],a,d,!0,t).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0,c=this.makeTensorInfo(e.outputShape,n),l=this.texData.get(c.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===a.DENSE){var d=null!=s?s:_(e.outputShape);l.texShape=d.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(l.usage=e.outTexUsage),0===u.util.sizeFromShape(c.shape))return l.values=u.util.getTypedArrayFromDType(c.dtype,0),c;var f=[],p=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=i.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&u.util.sizeFromShape(t.shape)<=(0,u.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(i.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?i.unpackTensor(t):i.packTensor(t),f.push(t),n=i.texData.get(t.dataId);else if(n.isPacked&&!ce(n.shape,t.shape)){var r=t,a=t.shape;t.shape=n.shape,t=i.packedReshape(t,a),f.push(t),n=i.texData.get(t.dataId),r.shape=a}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(c.dataId);var h,m={shape:c.shape,texData:l,isUniform:!1},v=nt(e,p,m),g=this.getAndSaveBinary(v,(function(){return Je(i.gpgpu,e,p,m)})),y=null!=this.activeTimers;y&&(h=this.startTimer()),(0,u.env)().get("ENGINE_COMPILE_ONLY")||tt(this.gpgpu,g,p,m,r),f.forEach((function(e){return i.disposeIntermediateTensorInfo(e)})),y&&(h=this.endTimer(h),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(h)}));var b=(0,u.env)().get("WEBGL_FLUSH_THRESHOLD");if(b>0){var w=u.util.now();w-this.lastGlFlushTime>b&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=w)}if(!(0,u.env)().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&!1===o){var k=this.unpackTensor(c);return this.disposeIntermediateTensorInfo(c),k}return c}},{key:"compileAndRun",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;var a=this.runWebGLProgram(e,t,n,r,i);return a}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;if(!this.disposed){if(!(0,u.env)().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=(0,u.tidy)((function(){if(!(0,u.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=(0,u.env)().getBool("DEBUG");(0,u.env)().set("DEBUG",!1);var n=e.abs((0,u.scalar)(1e-8)).dataSync()[0];if((0,u.env)().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,i=t.values,a=t.texture,s=t.usage,l=t.isPacked;if(null==a){var d,f=null!=this.activeTimers;f&&(d=u.util.now());var p=t.texShape;if(null==p&&(p=se(n,l),t.texShape=p),null!=i){var h,m=oe(n),v=p[1],g=p[0],y=i instanceof Uint8Array||i instanceof Uint8ClampedArray;if(l||!y){var b=S(p[0],p[1]),w=(0,c.Z)(b,2);v=w[0],g=w[1]}h=l?new ct(m,y):new ut(m,y);var k=y?[g,v]:p,x=this.makeTensorInfo(k,r),_=this.texData.get(x.dataId);_.usage=y?o.PIXELS:o.UPLOAD,_.texShape=k,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),v,g,i);var E=[[g,v]],C=this.runWebGLProgram(h,[x],r,E,!0),T=this.texData.get(C.dataId);t.texShape=T.texShape,t.isPacked=T.isPacked,t.usage=T.usage,(0,u.env)().get("ENGINE_COMPILE_ONLY")?this.disposeData(C.dataId):(t.texture=T.texture,t.values=null,this.texData.delete(C.dataId)),this.disposeIntermediateTensorInfo(x),f&&(this.uploadWaitMs+=u.util.now()-d)}else{var A=this.acquireTexture(p,s,r,l);t.texture=A}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(i," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*u.util.bytesPerElement(t)}},{key:"checkCompileCompletion",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=(0,c.Z)(t[e],2)[1];this.checkCompletion_(n)}}},{key:"checkCompileCompletionAsync",value:function(){var e=(0,f.Z)((0,l.Z)().mark((function e(){var t,n,r,i,a,o,s,u,d=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.gpgpu.parallelCompilationExtension){e.next=6;break}for(n=0,r=Object.entries(this.binaryCache);n<r.length;n++)i=(0,c.Z)(r[n],2),a=i[1],t.push(this.checkCompletionAsync_(a));return e.abrupt("return",Promise.all(t));case 6:for(o=function(){var e=(0,c.Z)(u[s],2)[1],n=new Promise((function(t){try{d.checkCompletion_(e),t(!0)}catch(n){throw n}}));t.push(n)},s=0,u=Object.entries(this.binaryCache);s<u.length;s++)o();return e.abrupt("return",Promise.all(t));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkCompletionAsync_",value:function(){var e=(0,f.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)){e.next=4;break}return e.abrupt("return",this.checkCompletion_(t));case 4:return e.next=6,(0,u.nextFrame)();case 6:return e.abrupt("return",this.checkCompletionAsync_(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkCompletion_",value:function(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw L(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}},{key:"getUniformLocations",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=(0,c.Z)(t[e],2)[1],r=$e(this.gpgpu,n.program,n.webGLProgram),i=r.uniformLocations,a=r.customUniformLocations,o=r.infLoc,s=r.nanLoc,u=r.inShapesLocations,l=r.inTexShapesLocations,d=r.outShapeLocation,f=r.outShapeStridesLocation,p=r.outTexShapeLocation;n.uniformLocations=i,n.customUniformLocations=a,n.infLoc=o,n.nanLoc=s,n.inShapesLocations=u,n.inTexShapesLocations=l,n.outShapeLocation=d,n.outShapeStridesLocation=f,n.outTexShapeLocation=p}}}]),n}(u.KernelBackend);Br.nextDataId=0;var jr="3.18.0";function Zr(){(0,u.env)().set("WEBGL_FORCE_F16_TEXTURES",!0)}u.device_util.isBrowser()&&(0,u.registerBackend)("webgl",(function(){return new Br}),2);var Vr={forceHalfFloat:Zr},Ur=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["A","B"],this.outputShape=u.backend_util.assertAndGetBroadcastShape(n,r),this.enableShapeUniforms=rt(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")})),Wr=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,p.Z)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=u.backend_util.assertAndGetBroadcastShape(n,r);var a=this.outputShape.length;this.enableShapeUniforms=rt(a);var o="";if(i)if(0===a||1===u.util.sizeFromShape(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{var s=Ke(a);if(o="\n          ".concat(s," coords = getOutputCoords();\n        "),1===a)this.enableShapeUniforms?o+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":o+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var c=fr("coords",a);this.enableShapeUniforms?o+="\n            bool nextRowOutOfBounds =\n              (".concat(c[a-2]," + 1) >= outShape[").concat(a," - 2];\n            bool nextColOutOfBounds =\n              (").concat(c[a-1]," + 1) >= outShape[").concat(a," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):o+="\n            bool nextRowOutOfBounds =\n              (".concat(c[a-2]," + 1) >= ").concat(this.outputShape[a-2],";\n            bool nextColOutOfBounds =\n              (").concat(c[a-1]," + 1) >= ").concat(this.outputShape[a-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(o,"\n\n        setOutput(result);\n      }\n    ")}));function Hr(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var zr={kernelName:u.Identity,backendName:"webgl",kernelFunc:Hr};function Gr(e){var t=e.inputs,n=e.backend,r=t.real,i=t.imag,a=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(a.dataId),s=Hr({inputs:{x:r},backend:n}),u=Hr({inputs:{x:i},backend:n});return o.complexTensorInfos={real:s,imag:u},a}var qr={kernelName:u.Complex,backendName:"webgl",kernelFunc:Gr},Kr="return (a < 0.) ? b * a : a;",Yr="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var Xr={kernelName:u.LeakyRelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.alpha,o=n.makeTensorInfo([],"float32",u.util.createScalarValue(a,"float32")),s=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Wr(Yr,i.shape,o.shape):new Ur(Kr,i.shape,o.shape),c=n.runWebGLProgram(s,[i,o],"float32");return n.disposeIntermediateTensorInfo(o),c}},Qr="return (a < 0.) ? b * a : a;",Jr="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var $r={kernelName:u.Prelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=t.alpha,a=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Wr(Jr,r.shape,i.shape):new Ur(Qr,r.shape,i.shape);return n.runWebGLProgram(a,[r,i],"float32")}};function ei(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.cpuKernelImpl,i=e.dtype;return function(e){var a,o=e.inputs,s=e.backend,c=o.x,l=s,d=i||c.dtype;if(l.shouldExecuteOnCPU([c])&&null!=r){var f=l.texData.get(c.dataId),p=r(f.values,d);return l.makeTensorInfo(c.shape,d,p)}return a=(0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new Pr(c.shape,n):new br(c.shape,t),l.runWebGLProgram(a,[c],d)}}function ti(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.checkOutOfBounds,i=void 0!==r&&r,a=e.supportsComplex,o=void 0!==a&&a,s=e.cpuKernelImpl,l=e.dtype;return function(e){var r=e.inputs,a=e.backend,d=r.a,f=r.b,p=a;if(o&&"complex64"===d.dtype){var h=p.texData.get(d.dataId),m=p.texData.get(f.dataId),v=[[h.complexTensorInfos.real,m.complexTensorInfos.real],[h.complexTensorInfos.imag,m.complexTensorInfos.imag]].map((function(e){var n=(0,c.Z)(e,2),r=n[0],i=n[1],a={dataId:r.dataId,dtype:r.dtype,shape:d.shape},o={dataId:i.dataId,dtype:i.dtype,shape:f.shape},s=new Ur(t,d.shape,f.shape);return p.runWebGLProgram(s,[a,o],(0,u.upcastType)(r.dtype,i.dtype))})),g=(0,c.Z)(v,2),y=g[0],b=g[1],w=Gr({inputs:{real:y,imag:b},backend:p});return p.disposeIntermediateTensorInfo(y),p.disposeIntermediateTensorInfo(b),w}var k,x=l||(0,u.upcastType)(d.dtype,f.dtype);if(("string"===d.dtype||"string"===f.dtype||p.shouldExecuteOnCPU([d,f]))&&null!=s){var _=p.texData.get(d.dataId).values,S=p.texData.get(f.dataId).values,E="string"===d.dtype?u.backend_util.fromUint8ToStringArray(_):_,C="string"===d.dtype?u.backend_util.fromUint8ToStringArray(S):S,T=s(d.shape,f.shape,E,C,x),A=(0,c.Z)(T,2),O=A[0],R=A[1],I=p.makeTensorInfo(R,x);return p.texData.get(I.dataId).values=O,I}return k=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new Wr(n,d.shape,f.shape,i):new Ur(t,d.shape,f.shape),p.runWebGLProgram(k,[d,f],x)}}function ni(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?Ar:kr;if("relu"===e)return t?Rr:Sr;if("elu"===e)return t?Or:_r;if("relu6"===e)return t?Ir:Er;if("prelu"===e)return t?Jr:Qr;if("leakyrelu"===e)return t?Yr:Kr;if("sigmoid"===e)return t?Nr:Tr;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}var ri=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];(0,p.Z)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=rt(this.outputShape.length);var l=i?t[1]:t[2],d=Math.ceil(l/2),f=i?"i * 2, rc.y":"rc.y, i * 2",h=a?"rc.z, i * 2":"i * 2, rc.z",m=i?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],v=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],g="",y="";s&&(g=u?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(s,"\n        }"):c?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(s,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(s,"\n        }"),y="result = activation(result);");var b=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");var w="rc.x",k="rc.x";t[0]<n[0]?w="int(min(float(rc.x), ".concat(t[0]-1,".))"):n[0]<t[0]&&(k="int(min(float(rc.x), ".concat(n[0]-1,".))")),this.userCode="\n      ".concat(g,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(d,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ").concat(d,"; i++) {\n          int batchA = ").concat(w,";\n          int batchB = ").concat(k,";\n          vec4 a = getMatrixA(batchA, ").concat(f,");\n          vec4 b = getMatrixB(batchB, ").concat(h,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(m[0]," * ").concat(v[0],");\n          result += (").concat(m[1]," * ").concat(v[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(b,"\n\n        ").concat(y,"\n\n        setOutput(result);\n      }\n    ")})),ii="return areal * breal - aimag * bimag;",ai="return areal * bimag + aimag * breal;",oi=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=u.backend_util.assertAndGetBroadcastShape(n,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")})),si="return a * b;";function ui(e){var t,n=e.inputs,r=e.backend,i=n.a,a=n.b,o=u.backend_util.upcastType(i.dtype,a.dtype);if("complex64"===i.dtype){var s=r.texData.get(i.dataId),l=r.texData.get(a.dataId),d=new oi(ii,i.shape,a.shape),f=new oi(ai,i.shape,a.shape),p=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:i.shape},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:i.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:a.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:a.shape}],h=r.runWebGLProgram(d,p,"float32"),m=r.runWebGLProgram(f,p,"float32"),v=Gr({inputs:{real:h,imag:m},backend:r});return r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(m),v}if(r.shouldExecuteOnCPU([i,a])){var g=r.texData.get(i.dataId),y=r.texData.get(a.dataId),b=Un(i.shape,a.shape,g.values,y.values,o),w=(0,c.Z)(b,2),k=w[0],x=w[1],_=r.makeTensorInfo(x,o);return r.texData.get(_.dataId).values=k,_}return t=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Wr(si,i.shape,a.shape):new Ur(si,i.shape,a.shape),r.runWebGLProgram(t,[i,a],o)}var ci={kernelName:u.Multiply,backendName:"webgl",kernelFunc:ui};function li(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.shape,o=n,s=u.util.sizeFromShape(i.shape),c=u.util.inferFromImplicitShape(a,s),l=u.util.sizeFromShape(c);u.util.assert(s===l,(function(){return"The new shape (".concat(c,") has ").concat(l," elements and the old ")+"shape (".concat(i.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."}));var f=o.texData.get(i.dataId);return!f.isPacked||ce(i.shape,c)||null!==f.texture&&ce(f.shape,c)?(o.incRef(i.dataId),{dataId:i.dataId,shape:c,dtype:i.dtype}):function(e,t,n){var r=[ie(e.shape)].concat((0,d.Z)(ae(e.shape))),i={dtype:e.dtype,shape:r,dataId:e.dataId},a=[ie(t)].concat((0,d.Z)(ae(t))),o=new hr(a,r),s=[r],u=n.runWebGLProgram(o,[i],e.dtype,s,!0);return{dataId:u.dataId,shape:t,dtype:u.dtype}}(i,c,o)}var di={kernelName:u.Reshape,backendName:"webgl",kernelFunc:li},fi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,i=t.batchSize,a=t.inSize,o=t.outSize;this.outputShape=[i,o];var s=4*Math.floor(r/4),c=r%4,l="sumValue += dot(values, ones);";if(null!=n){var d=1/n;l="sumValue += dot(values * ".concat(u.util.isInt(d)?d.toPrecision(2):d,", ones);")}var f="";a%r>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(f,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(l,"\n        }\n        setOutput(sumValue);\n      }\n    ")})),pi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,i=t.batchSize,a=t.inSize,o=t.outSize;this.outputShape=[i,o];var s="0.0",u="";"prod"===n?s="1.0":"min"===n?(s="1.0 / 1e-20",u="min"):"max"===n&&(s="-1.0 / 1e-20",u="max");var c="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?c="sumValue":"prod"===n?c="prodValue":"all"===n?c="allValue":"any"===n&&(c="anyValue");var l=4*Math.floor(r/4),d=r%4,f="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(u,"(values, minMaxValue);\n        if (").concat("min"===n," || ").concat("max"===n,") {\n          minMaxValue = ").concat(u,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),h="vec4";"all"===n?(s="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===n&&(s="0.0",f="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var m="";a%r>0&&(m="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(s,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(m,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(s,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(l,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(f,"\n        }\n\n        int inIdx = inOffset + ").concat(l,";\n        if (").concat(1===d,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(f,"\n        } else if (").concat(2===d,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(f,"\n        } else if (").concat(3===d,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(f,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}));function hi(e,t,n,r){for(var i=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],r=u.backend_util.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape),a=e,o=0;o<i.length;o++){var s,c=i[o],l=c.inSize,d=c.windowSize,f=c.outSize,p=void 0;p="mean"===n?0===o?new fi({windowSize:d,inSize:l,batchSize:e.shape[0],outSize:f},l):new fi({windowSize:d,inSize:l,batchSize:e.shape[0],outSize:f}):new pi({windowSize:d,inSize:l,batchSize:e.shape[0],outSize:f},n),s=a,a=r.runWebGLProgram(p,[a],t),s.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(s)}return a}var mi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[n[i]];this.outputShape=r,this.rank=r.length;var a=Ke(this.rank),o=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),i=0;i<e.length;i++)r[e[i]]=n[i];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(a," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")}));var vi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[n[i]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var a=Ke(this.rank),o=dr("rc",this.rank),s=new Array(this.rank),u=0;u<n.length;u++)s[n[u]]=o[u];var c="vec2(".concat(s.slice(-2).join(),")"),l="++".concat(o[this.rank-1]," < ").concat(r[this.rank-1]),d="getChannel(getA(".concat(s.join(),"), ").concat(c,")");this.userCode="\n    void main() {\n      ".concat(a," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(d,";\n      if(").concat(l,") {\n        result[1] = ").concat(d,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(d,";\n        if(").concat(l,") {\n          result[3] = ").concat(d,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}));function gi(e,t,n){var r=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new vi(e.shape,t):new mi(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function yi(e){var t=e.inputs,n=e.backend,r=e.attrs;return function(e,t,n,r){var i=t,a=e.shape.length,o=u.util.parseAxisParam(i,e.shape),s=o,l=u.backend_util.getAxesPermutation(s,a),d=null!=l,f=e;d&&(f=gi(e,l,r),s=u.backend_util.getInnerMostAxes(s.length,a)),u.backend_util.assertAxesAreInnerMostDims("sum",s,a);var p=u.backend_util.computeOutAndReduceShapes(f.shape,s),h=(0,c.Z)(p,2),m=h[0],v=h[1],g=m;n&&(g=u.backend_util.expandShapeToKeepDim(m,o));var y=u.util.sizeFromShape(v),b=li({inputs:{x:f},attrs:{shape:[u.util.sizeFromShape(e.shape)/y,y]},backend:r}),w=hi(b,(0,u.sumOutType)(e.dtype),"sum",r),k=li({inputs:{x:w},attrs:{shape:g},backend:r});return r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(w),d&&r.disposeIntermediateTensorInfo(f),k}(t.x,r.axis,r.keepDims,n)}var bi={kernelName:u.Sum,backendName:"webgl",kernelFunc:yi};function wi(e){for(var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.perm,s=r,u=a.shape.length,c=new Array(u),l=0;l<c.length;l++)c[l]=a.shape[o[l]];if(s.shouldExecuteOnCPU([a])){var d=s.texData.get(a.dataId).values,f=cr(d,a.shape,a.dtype,o,c);t=s.makeTensorInfo(c,a.dtype),s.texData.get(t.dataId).values=f}else t=gi(a,o,s);return t}var ki={kernelName:u.Transpose,backendName:"webgl",kernelFunc:wi};function xi(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.backend,o=e.bias,s=void 0===o?null:o,c=e.preluActivationWeights,l=void 0===c?null:c,d=e.leakyreluAlpha,f=void 0===d?0:d,p=e.activation,h=void 0===p?null:p,m=t.shape.length,v=n.shape.length,g=r?t.shape[m-2]:t.shape[m-1],y=i?n.shape[v-1]:n.shape[v-2],b=r?t.shape[m-1]:t.shape[m-2],w=i?n.shape[v-2]:n.shape[v-1],k=t.shape.slice(0,-2),x=n.shape.slice(0,-2),_=u.util.sizeFromShape(k),S=u.util.sizeFromShape(x),E=u.broadcast_util.assertAndGetBroadcastShape(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([b,w]);u.util.assert(g===y,(function(){return"Error in matMul: inner shapes (".concat(g,") and (")+"".concat(y,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(i," must match.")}));var C,T=r?[_,g,b]:[_,b,g],A=i?[S,w,y]:[S,y,w],O=li({inputs:{x:t},backend:a,attrs:{shape:T}}),R=li({inputs:{x:n},backend:a,attrs:{shape:A}}),I=[O,R],N=Math.max(_,S),P=r?O.shape[1]:O.shape[2],M=null!=s,L=null!=l,D="leakyrelu"===h,F=null!=h?ni(h,!0):null;if((1===b||1===w)&&P>1e3&&!1===(M||L||D||null!=F)){var B=O,j=R;r&&(B=wi({inputs:{x:O},backend:a,attrs:{perm:[0,2,1]}}),I.push(B)),i&&(j=wi({inputs:{x:R},backend:a,attrs:{perm:[0,2,1]}}),I.push(j));var Z=1===w,V=B;1!==w&&(V=li({inputs:{x:B},backend:a,attrs:{shape:[N,P,1]}}),I.push(V));var U=1===w?2:1,W=j;Z&&(W=li({inputs:{x:j},backend:a,attrs:{shape:[N,1,P]}}),I.push(W));var H=ui({inputs:{a:V,b:W},backend:a});C=yi({inputs:{x:H},backend:a,attrs:{axis:U,keepDims:!0}}),I.push(H)}else{var z=(0,u.upcastType)(t.dtype,n.dtype),G=new ri(T,A,[N,b,w],r,i,M,F,L,D),q=[O,R];if(null!=s&&q.push(s),L&&q.push(l),D){var K=a.makeTensorInfo([],"float32",u.util.createScalarValue(f,"float32"));q.push(K),I.push(K)}C=a.runWebGLProgram(G,q,z)}var Y=li({inputs:{x:C},backend:a,attrs:{shape:E}});I.push(C);for(var X=0,Q=I;X<Q.length;X++){var J=Q[X];a.disposeIntermediateTensorInfo(J)}return Y}var _i={kernelName:u._FusedMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.a,a=t.b,o=t.bias,s=t.preluActivationWeights,u=r.transposeA,c=r.transposeB,l=r.activation;return xi({a:i,b:a,transposeA:u,transposeB:c,backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:r.leakyreluAlpha,activation:l})}},Si="return abs(x);";var Ei={kernelName:u.Abs,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=n.x;if(r.shouldExecuteOnCPU([i])&&"complex64"!==i.dtype){var a=r.texData.get(i.dataId),o=Xn(a.values);return r.makeTensorInfo(i.shape,i.dtype,o)}return t=(0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Pr(i.shape,Si):new br(i.shape,Si),r.runWebGLProgram(t,[i],i.dtype)}},Ci=ei({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),Ti={kernelName:u.Acos,backendName:"webgl",kernelFunc:Ci},Ai=ei({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),Oi={kernelName:u.Acosh,backendName:"webgl",kernelFunc:Ai},Ri="return a + b;",Ii=ti({opSnippet:Ri,packedOpSnippet:Ri,supportsComplex:!0,cpuKernelImpl:xn}),Ni={kernelName:u.Add,backendName:"webgl",kernelFunc:Ii},Pi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));var i=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(i,";\n        setOutput(result);\n      }\n    ")})),Mi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));var i=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(i,";\n        setOutput(result);\n      }\n    ")}));var Li={kernelName:u.AddN,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=n;if(1===i.length)return Hr({inputs:{x:i[0]},backend:r});if(i.length>(0,u.env)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var a=Math.floor(i.length/2),o=e({inputs:i.slice(0,a),backend:r}),s=e({inputs:i.slice(a),backend:r});return e({inputs:[o,s],backend:r})}var c=i.map((function(e){return e.dtype})).reduce((function(e,t){return(0,u.upcastType)(e,t)})),l=i.map((function(e){return e.shape})),d=(0,u.env)().getBool("WEBGL_PACK")?new Mi(i[0].shape,l):new Pi(i[0].shape,l);return r.runWebGLProgram(d,i,c)}};var Di={kernelName:u.All,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims,s=i.shape.length,l=u.util.parseAxisParam(a,i.shape),d=l,f=u.backend_util.getAxesPermutation(d,s),p=i;null!=f&&(p=wi({inputs:{x:i},backend:n,attrs:{perm:f}}),d=u.backend_util.getInnerMostAxes(d.length,s)),u.backend_util.assertAxesAreInnerMostDims("all",d,s);var h,m=u.backend_util.computeOutAndReduceShapes(p.shape,d),v=(0,c.Z)(m,2),g=v[0],y=v[1],b=li({inputs:{x:p},backend:n,attrs:{shape:[-1,u.util.sizeFromShape(y)]}}),w=hi(b,b.dtype,"all",n);return h=li(o?{inputs:{x:w},backend:n,attrs:{shape:u.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:w},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(w),null!=f&&n.disposeIntermediateTensorInfo(p),h}};var Fi={kernelName:u.Any,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims,s=i.shape.length,l=u.util.parseAxisParam(a,i.shape),d=l,f=u.backend_util.getAxesPermutation(d,s),p=i;null!=f&&(p=wi({inputs:{x:i},backend:n,attrs:{perm:f}}),d=u.backend_util.getInnerMostAxes(d.length,s)),u.backend_util.assertAxesAreInnerMostDims("any",d,s);var h,m=u.backend_util.computeOutAndReduceShapes(p.shape,d),v=(0,c.Z)(m,2),g=v[0],y=v[1],b=li({inputs:{x:p},backend:n,attrs:{shape:[-1,u.util.sizeFromShape(y)]}}),w=hi(b,b.dtype,"any",n);return h=li(o?{inputs:{x:w},backend:n,attrs:{shape:u.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:w},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(w),null!=f&&n.disposeIntermediateTensorInfo(p),h}},Bi=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["A"];var i=t.windowSize,a=t.batchSize,o=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[a,o];var s="max"===n?">":"<",u=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(i,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(i,"; i++) {\n          int inIdx = ").concat(u,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(s," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")})),ji=(0,h.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,u.util.assert(t.length>2,(function(){return"Packed arg".concat(r.charAt(0).toUpperCase()+r.slice(1)," supports only inputs with rank above 2.")}));var a=t[t.length-1],o=Math.ceil(a/n);this.outputShape=t.slice(0,-1),o>1&&this.outputShape.push(o),i||this.variableNames.push("bestIndicesA");var s,c,l=this.outputShape,d=l.length,f=Ke(d),h=fr("coords",d);if(1===o){var m=Ke(c=d+1);s="\n        ".concat(m," sourceLocR = ").concat(m,"(").concat(h.join(),", 0);\n        ++").concat(h[d-1],";\n        ").concat(m," sourceLocG = ").concat(m,"(").concat(h.join(),", 0);\n        ++").concat(h[d-2],";\n        ").concat(m," sourceLocA = ").concat(m,"(").concat(h.join(),", 0);\n        --").concat(h[d-1],";\n        ").concat(m," sourceLocB = ").concat(m,"(").concat(h.join(),", 0);\n        --").concat(h[d-2],";")}else c=d,s="\n        ".concat(f," sourceLocR = coords;\n        ++").concat(h[d-1],";\n        ").concat(f," sourceLocG = coords;\n        ++").concat(h[d-2],";\n        ").concat(f," sourceLocA = coords;\n        --").concat(h[d-1],";\n        ").concat(f," sourceLocB = coords;\n        --").concat(h[d-2],";");var v=["x","y","z","w","u","v"].slice(0,c),g="."+v[c-1],y=v.map((function(e){return"int "+e})),b=fr("sourceLocR",c-1).concat("inIdx.r"),w=fr("sourceLocG",c-1).concat("inIdx.g"),k=fr("sourceLocB",c-1).concat("inIdx.b"),x=fr("sourceLocA",c-1).concat("inIdx.a"),_="max"===r?"greaterThan":"lessThan",S=i?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(w.join(),"),\n                             getBestIndicesAChannel(").concat(k.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),")));"),E="vec4(\n            getAChannel(".concat(b.join(),"),\n            hasNextCol ? getAChannel(").concat(w.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(k.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(x.join(),") : 0.)"),C=i?"":"\n      float getBestIndicesAChannel(".concat(y.join(),") {\n        return getChannel(getBestIndicesA(").concat(v.join(),"),\n                                          vec2(").concat(v.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(y.join(),") {\n        return getChannel(getA(").concat(v.join(),"),\n                               vec2(").concat(v.slice(-2).join(),"));\n      }\n      ").concat(C,"\n      void main() {\n        ").concat(f," coords = getOutputCoords();\n        bool hasNextCol = ").concat(h[d-1]," < ").concat(l[d-1]-1,";\n        bool hasNextRow = ").concat(h[d-2]," < ").concat(l[d-2]-1,";\n        ").concat(s,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(g,", sourceLocG").concat(g,",\n          sourceLocB").concat(g,", sourceLocA").concat(g,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(E,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(S,"\n          vec4 candidate = ").concat(E,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(_,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}));function Zi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t.shape[0],a=t.shape[1];null!=r&&(i=r.shape[0],a=r.shape[1]);var o=u.backend_util.computeOptimalWindowSize(a),s={windowSize:o,inSize:a,batchSize:i,outSize:Math.ceil(a/o)},c=new Bi(s,n,null==r),l=[t];null!=r&&l.push(r);var d=e.runWebGLProgram(c,l,"int32");if(1===d.shape[1])return d;var f=Zi(e,t,n,d);return e.disposeIntermediateTensorInfo(d),f}function Vi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null!=r?r.shape:t.shape,a=i[i.length-1],o=u.backend_util.computeOptimalWindowSize(a),s=new ji(i,o,n,null==r),c=null==r?[t]:[t,r],l=e.runWebGLProgram(s,c,"int32");if(l.shape.length===t.shape.length){var d=Vi(e,t,n,l);return e.disposeIntermediateTensorInfo(l),d}return l}function Ui(e,t,n,r){var i=[n];if(u.backend_util.assertAxesAreInnerMostDims("arg"+r.charAt(0).toUpperCase()+r.slice(1),i,t.shape.length),!(0,u.env)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var a=[],o=e.texData.get(t.dataId),s=t;null!==o&&o.isPacked&&(s=e.unpackTensor(t),a.push(s));var l=u.backend_util.computeOutAndReduceShapes(s.shape,i),d=(0,c.Z)(l,2),f=d[0],p=d[1],h=u.util.sizeFromShape(p),m=li({inputs:{x:s},backend:e,attrs:{shape:[-1,h]}});a.push(m);var v=Zi(e,m,r);a.push(v);var g=li({inputs:{x:v},backend:e,attrs:{shape:f}});return a.forEach((function(t){return e.disposeIntermediateTensorInfo(t)})),g}return Vi(e,t,r)}var Wi={kernelName:u.ArgMax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=u.util.parseAxisParam(a,i.shape),s=u.backend_util.getAxesPermutation(o,i.shape.length),c=i,l=[];null!=s&&(c=wi({inputs:{x:i},backend:n,attrs:{perm:s}}),l.push(c),o=u.backend_util.getInnerMostAxes(o.length,c.shape.length)),u.backend_util.assertAxesAreInnerMostDims("argMax",[o[0]],c.shape.length);var d=Ui(n,c,o[0],"max");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),d}};var Hi={kernelName:u.ArgMin,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=u.util.parseAxisParam(a,i.shape),s=u.backend_util.getAxesPermutation(o,i.shape.length),c=i,l=[];null!=s&&(c=wi({inputs:{x:i},backend:n,attrs:{perm:s}}),l.push(c),o=u.backend_util.getInnerMostAxes(o.length,c.shape.length)),u.backend_util.assertAxesAreInnerMostDims("argMin",[o[0]],c.shape.length);var d=Ui(n,c,o[0],"min");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),d}},zi=ei({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),Gi={kernelName:u.Asin,backendName:"webgl",kernelFunc:zi},qi=ei({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),Ki={kernelName:u.Asinh,backendName:"webgl",kernelFunc:qi},Yi=ei({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),Xi={kernelName:u.Atan,backendName:"webgl",kernelFunc:Yi},Qi=ti({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),Ji={kernelName:u.Atan2,backendName:"webgl",kernelFunc:Qi},$i=ei({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),ea={kernelName:u.Atanh,backendName:"webgl",kernelFunc:$i},ta=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,p.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,l=t.dilationWidth,d=t.effectiveFilterHeight,f=t.effectiveFilterWidth,h=t.padInfo.top,m=t.padInfo.left;this.outputShape=t.outShape;var v="avg"===n,g="((batch  * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),y="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),b="0.0";if(v||(b="-1.0 / 1e-20"),r){var w=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n        const ivec2 pads = ivec2(").concat(h,", ").concat(m,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(f,";\n                wC += ").concat(l,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(w," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(i?a?g:y:"wR * ".concat(f," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var k="max",x="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(x="avgValue / count");var _=4*Math.floor(o/4),S=o%4,E="\n      if (".concat(v,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(k,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n      const ivec2 pads = ivec2(").concat(h,", ").concat(m,");\n      const float initializationValue = ").concat(b,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(b,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(d,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(_,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(l,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              getValue(batch, xR, xC + 3 * ").concat(l,", d)\n            );\n\n            ").concat(E,"\n          }\n\n          int xC = xCCorner + ").concat(_,";\n          if (").concat(1===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(E,"\n          } else if (").concat(2===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(E,"\n          } else if (").concat(3===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              initializationValue\n            );\n\n            ").concat(E,"\n          }\n        }\n        setOutput(").concat(x,");\n      }\n    ")}})),na=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,p.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideDepth,u=t.strideHeight,c=t.strideWidth,l=t.dilationDepth,d=t.dilationHeight,f=t.dilationWidth,h=t.effectiveFilterDepth,m=t.effectiveFilterHeight,v=t.effectiveFilterWidth,g=t.padInfo.front,y=t.padInfo.top,b=t.padInfo.left;this.outputShape=t.outShape;var w="avg"===n,k="0.0";if(w||(k="-1.0 / 1e-20"),r){var x=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(g,", ").concat(y,", ").concat(b,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(h,";\n              wD += ").concat(l,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(m,";\n                wR += ").concat(d,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(v,";\n                  wC += ").concat(f,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(x," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(i?a?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(m," * ").concat(v," +\n                      wR * ").concat(v," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var _="max",S="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(S="avgValue / count");var E=4*Math.floor(o/4),C=o%4,T="\n      if (".concat(w,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(_,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(g,", ").concat(y,", ").concat(b,");\n      const float initializationValue = ").concat(k,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(k,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(h,";\n            wD += ").concat(l,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(m,";\n            wR += ").concat(d,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(E,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(f,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(f,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(f,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(f,", ch)\n              );\n\n              ").concat(T,"\n            }\n\n            int xC = xCCorner + ").concat(E,";\n            if (").concat(1===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(2===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(f,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(3===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(f,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(f,", ch),\n                initializationValue\n              );\n\n              ").concat(T,"\n            }\n          }\n          setOutput(").concat(S,");\n        }\n      }\n    ")}}));var ra={kernelName:u.AvgPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x;ke(i,"avgPool");var a=r.filterSize,o=r.strides,s=r.pad,c=r.dimRoundingMode;u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var l=u.backend_util.computePool2DInfo(i.shape,a,o,1,s,c);if(1===l.filterWidth&&1===l.filterHeight&&u.util.arraysEqual(l.inShape,l.outShape))return Hr({inputs:{x:i},backend:n});var d=new ta(l,"avg",!1);return n.runWebGLProgram(d,[i],"float32")}};var ia={kernelName:u.AvgPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.filterSize,o=r.strides,s=r.pad,c=r.dimRoundingMode,l=r.dataFormat,d=u.backend_util.computePool3DInfo(i.shape,a,o,[1,1,1],s,c,l),f=new na(d,"avg",!1);return n.runWebGLProgram(f,[i],"float32")}},aa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,i=t.strideHeight,a=t.strideWidth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=u-1-t.padInfo.top,d=c-1-t.padInfo.left,f=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(l,", ").concat(d,");\n      const float avgMultiplier = float(").concat(f,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(s,") {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),oa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,i=t.filterWidth,a=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,d=t.effectiveFilterDepth,f=t.effectiveFilterHeight,h=t.effectiveFilterWidth,m=d-1-t.padInfo.front,v=f-1-t.padInfo.top,g=h-1-t.padInfo.left,y=1/(n*r*i);this.userCode="\n      const ivec3 pads = ivec3(".concat(m,", ").concat(v,", ").concat(g,");\n      const float avgMultiplier = float(").concat(y,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(d,";\n            wD += ").concat(u,") {\n          float dyD = float(dyDCorner + wD) / ").concat(a,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(f,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(l,") {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var sa={kernelName:u.AvgPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode,d=u.backend_util.computePool3DInfo(a.shape,o,s,[1,1,1],c,l),f=new oa(d);return n.runWebGLProgram(f,[i],a.dtype)}};var ua={kernelName:u.AvgPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=a;ke([i,a],"avgPoolGrad");var s=r.filterSize,c=r.strides,l=r.pad,d=u.backend_util.computePool2DInfo(o.shape,s,c,1,l),f=new aa(d);return n.runWebGLProgram(f,[i],o.dtype)}};var ca={kernelName:u.BatchMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return xi({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},la=(0,h.Z)((function e(t,n,r,i,a,o){(0,p.Z)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],u.backend_util.assertAndGetBroadcastShape(t,n),u.backend_util.assertAndGetBroadcastShape(t,r);var s="0.0";null!=i&&(u.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var c="1.0";null!=a&&(u.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(s,";\n        float scale = ").concat(c,";\n        float inv = scale * inversesqrt(variance + float(").concat(o,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")})),da=(0,h.Z)((function e(t,n,r,i,a,o){(0,p.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],u.backend_util.assertAndGetBroadcastShape(t,n),u.backend_util.assertAndGetBroadcastShape(t,r);var s="vec4(0.0)";null!=i&&(u.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var c="vec4(1.0)";null!=a&&(u.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = ".concat(s,";\n        vec4 scale = ").concat(c,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(o,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")})),fa={kernelName:u.FusedBatchNorm,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.mean,o=t.variance,s=t.offset,c=t.scale;u.util.assert(a.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),u.util.assert(null==s||a.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),u.util.assert(null==c||a.shape.length===c.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var l=r.varianceEpsilon;null==l&&(l=.001);var d=[i,a,o],f=null;null!=s&&(f=s.shape,d.push(s));var p=null;null!=c&&(p=c.shape,d.push(c));var h=(0,u.env)().getBool("WEBGL_PACK_NORMALIZATION")?new da(i.shape,a.shape,o.shape,f,p,l):new la(i.shape,a.shape,o.shape,f,p,l);return n.runWebGLProgram(h,d,d[0].dtype)}},pa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n=Ke(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r,i=function(e){if(1===e)return"sourceLoc";if(e<=6)return ha.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),a=t.map((function(e,t){return"sourceLoc.".concat(ha[t]," = start[").concat(t,"] + coords.").concat(ha[t],";")}));r="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(a.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(i,"));\n      }\n    ")})),ha=["x","y","z","w","u","v"];var ma=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var n=Ke(this.rank),r=fr("coords",this.rank),i=fr("sourceLoc",this.rank),a=1===this.rank?"sourceLoc":"vec2(".concat(i.slice(-2).join(),")"),o="getChannel(getSource(".concat(i.join(),"), ").concat(a,")"),s="\n      result.x = ".concat(o,";\n      if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n        ++").concat(i[this.rank-1],";\n        result.y = ").concat(o,";\n        --").concat(i[this.rank-1],";\n      }\n    "),u=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(t[this.rank-2],") {\n        ++").concat(i[this.rank-2],";\n        result.z = ").concat(o,";\n        if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n          ++").concat(i[this.rank-1],";\n          result.w = ").concat(o,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(t.map((function(e,t){return"start[".concat(t,"]")})).join(),");"):t.map((function(e,t){return"".concat(i[t]," = ").concat(r[t]," + start[").concat(t,"];")})).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(s,"\n        ").concat(u,"\n        setOutput(result);\n      }\n    ")}));function va(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.begin,o=r.size,s=u.slice_util.parseSliceParams(i,a,o),l=(0,c.Z)(s,2),d=l[0],f=l[1];if(u.slice_util.assertParamsValid(i,d,f),0===u.util.sizeFromShape(f))return n.makeTensorInfo(f,i.dtype,[]);if(n.shouldExecuteOnCPU([i])||"string"===i.dtype){var p=n.texData.get(i.dataId),h=Qn(p.values,d,f,i.shape,i.dtype);return n.makeTensorInfo(f,i.dtype,h)}var m=n.texData.get(i.dataId).isPacked,v=u.slice_util.isSliceContinous(i.shape,d,f);if(m||!v){var g=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ma(f):new pa(f),y=[d];return n.runWebGLProgram(g,[i],i.dtype,y)}return n.uploadToGPU(i.dataId),function(e,t,n,r){var i=r.texData.get(e.dataId),a=r.makeTensorInfo(n,e.dtype),o=r.texData.get(a.dataId);Object.assign(o,i),o.refCount=1,o.shape=n,o.dtype=e.dtype;var s=u.slice_util.computeFlatOffset(t,u.util.computeStrides(e.shape));i.slice&&(s+=i.slice.flatOffset),o.slice={flatOffset:s,origDataId:i.slice&&i.slice.origDataId||e.dataId};var c=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,c+1),a}(i,d,f,n)}var ga={kernelName:u.Slice,backendName:"webgl",kernelFunc:va},ya={kernelName:u.BatchToSpaceND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockShape,o=r.crops;u.util.assert(i.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var s=a.reduce((function(e,t){return e*t})),c=u.backend_util.getReshaped(i.shape,a,s),l=u.backend_util.getPermuted(c.length,a.length),d=u.backend_util.getReshapedPermuted(i.shape,a,s),f=u.backend_util.getSliceBeginCoords(o,a.length),p=u.backend_util.getSliceSize(d,o,a.length),h=[],m=li({inputs:{x:i},backend:n,attrs:{shape:c}}),v=wi({inputs:{x:m},backend:n,attrs:{perm:l}}),g=li({inputs:{x:v},backend:n,attrs:{shape:d}}),y=va({inputs:{x:g},backend:n,attrs:{begin:f,size:p}});return h.push(m),h.push(v),h.push(g),h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}};var ba={kernelName:u.Bincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=n.readSync(i.dataId),u=n.readSync(a.dataId),c=_n(s,u,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,c)}};var wa={kernelName:u.BroadcastArgs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,i=t.s1,a=n.readSync(r.dataId),o=n.readSync(i.dataId),s=u.backend_util.assertAndGetBroadcastShape(Array.from(a),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},ka=ti({opSnippet:"return float(a != b);",cpuKernelImpl:Hn,dtype:"bool"}),xa={kernelName:u.NotEqual,backendName:"webgl",kernelFunc:ka};function _a(e){var t=e.inputs,n=e.backend,r=t.input;return Hr({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var Sa={kernelName:u.Real,backendName:"webgl",kernelFunc:_a};var Ea={kernelName:u.Cast,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=t.attrs,a=n.x,o=i.dtype;if("complex64"===o){if("complex64"===a.dtype)return Hr({inputs:{x:a},backend:r});var s=u.zeros(a.shape),c=e({inputs:{x:a},backend:r,attrs:{dtype:"float32"}}),l=Gr({inputs:{real:c,imag:s},backend:r});return s.dispose(),r.disposeIntermediateTensorInfo(c),l}if("complex64"===a.dtype){var d=_a({inputs:{input:a},backend:r}),f=e({inputs:{x:d},backend:r,attrs:{dtype:o}});return r.disposeIntermediateTensorInfo(d),f}if(!u.util.hasEncodingLoss(a.dtype,o)){var p=Hr({inputs:{x:a},backend:r});return{dataId:p.dataId,shape:p.shape,dtype:o}}if("int32"===o)return function(e,t){var n=new br(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(a,r);if("bool"===o){var h=r.makeTensorInfo([],"bool",u.util.getTypedArrayFromDType("bool",1)),m=ka({inputs:{a:a,b:h},backend:r});return r.disposeIntermediateTensorInfo(h),m}throw new Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(o))}},Ca="return ceil(x);",Ta=ei({opSnippet:Ca,packedOpSnippet:Ca,cpuKernelImpl:En}),Aa={kernelName:u.Ceil,backendName:"webgl",kernelFunc:Ta},Oa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "})),Ra=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}));var Ia={kernelName:u.ClipByValue,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.clipValueMin,s=i.clipValueMax;t=(0,u.env)().getBool("WEBGL_PACK_CLIP")?new Ra(a.shape):new Oa(a.shape);var c=[[o],[s]];return r.runWebGLProgram(t,[a],a.dtype,c)}},Na=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}));function Pa(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var Ma={kernelName:u.ComplexAbs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n.texData.get(r.dataId),a=new Na(r.shape),o=[Pa(r,i.complexTensorInfos.real),Pa(r,i.complexTensorInfos.imag)];return n.runWebGLProgram(a,o,o[0].dtype)}},La=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.outputShape=[],this.outputShape=u.backend_util.computeOutShape(t,1),this.variableNames=t.map((function(e,t){return"T".concat(t)}));var n=new Array(t.length-1);n[0]=t[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+t[r][1];for(var i=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],a=1;a<n.length;a++){var o=n[a-1];i.push("else if (yC < ".concat(n[a],") ")+"setOutput(getT".concat(a,"(yR, yC-").concat(o,"));"))}var s=n.length,c=n[n.length-1];i.push("else setOutput(getT".concat(s,"(yR, yC-").concat(c,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(i.join("\n        "),"\n      }\n    ")})),Da=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=u.backend_util.computeOutShape(t,n);var r=this.outputShape,i=r.length,a=Ke(i),o=fr("coords",i),s=["x","y","z","w","u","v"].slice(0,i);this.variableNames=t.map((function(e,t){return"T".concat(t)}));var c=new Array(t.length-1);c[0]=t[0][n];for(var l=1;l<c.length;l++)c[l]=c[l-1]+t[l][n];for(var d=s[n],f=s.slice(-2),h=s.join(),m="if (".concat(d," < ").concat(c[0],") {\n        return getChannel(\n            getT0(").concat(h,"), vec2(").concat(f.join(),"));\n        }"),v=1;v<c.length;v++){var g=c[v-1];m+="\n        if (".concat(d," < ").concat(c[v],"  && ").concat(d," >= ").concat(c[v-1],") {\n          return getChannel(\n            getT").concat(v,"(").concat(Fa(s,d,g),"),\n            vec2(").concat(Fa(f,d,g),"));\n        }")}var y=c.length,b=c[c.length-1];m+="\n        return getChannel(\n          getT".concat(y,"(").concat(Fa(s,d,b),"),\n          vec2(").concat(Fa(f,d,b),"));"),this.userCode="\n      float getValue(".concat(s.map((function(e){return"int "+e})),") {\n        ").concat(m,"\n      }\n\n      void main() {\n        ").concat(a," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(o,"), 0., 0., 0.);\n\n        ").concat(o[i-1]," = ").concat(o[i-1]," + 1;\n        if (").concat(o[i-1]," < ").concat(r[i-1],") {\n          result.g = getValue(").concat(o,");\n        }\n\n        ").concat(o[i-2]," = ").concat(o[i-2]," + 1;\n        if (").concat(o[i-2]," < ").concat(r[i-2],") {\n          result.a = getValue(").concat(o,");\n        }\n\n        ").concat(o[i-1]," = ").concat(o[i-1]," - 1;\n        if (").concat(o[i-2]," < ").concat(r[i-2]," &&\n            ").concat(o[i-1]," < ").concat(r[i-1],") {\n          result.b = getValue(").concat(o,");\n        }\n        setOutput(result);\n      }\n    ")}));function Fa(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?"".concat(e," - ").concat(n):e})).join()}function Ba(e){var t=e.inputs,n=e.backend,r=t.input;return Hr({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var ja={kernelName:u.Imag,backendName:"webgl",kernelFunc:Ba};function Za(e,t,n){var r=e[0].dtype;if("complex64"===r){var i=e.map((function(e){return _a({inputs:{input:e},backend:n})})),a=e.map((function(e){return Ba({inputs:{input:e},backend:n})})),o=Za(i,t,n),s=Za(a,t,n),c=Gr({inputs:{real:o,imag:s},backend:n});return i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),a.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),c}var l=n.shouldExecuteOnCPU(e);if("string"===r&&(l=!0),l){var d=e.map((function(e){var r=u.util.sizeFromShape(e.shape.slice(t));return li({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),f=d.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),p=u.backend_util.computeOutShape(d.map((function(e){return e.shape})),1),h=1===d[0].shape[0],m=Cn(f,p,r,h),v=u.backend_util.computeOutShape(e.map((function(e){return e.shape})),t),g=n.makeTensorInfo(v,r,m);return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}if(e.length>(0,u.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var y=Math.floor(e.length/2),b=Za(e.slice(0,y),t,n),w=Za(e.slice(y),t,n),k=Za([b,w],t,n);return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(w),k}if((0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){var x=new Da(e.map((function(e){return e.shape})),t);return n.runWebGLProgram(x,e,r)}var _=function(e,t,n){var r=u.backend_util.computeOutShape(e.map((function(e){return e.shape})),t);return{tensors2D:e.map((function(e){return li({inputs:{x:e},attrs:{shape:[-1,u.util.sizeFromShape(e.shape.slice(t))]},backend:n})})),outShape:r}}(e,t,n),S=_.tensors2D,E=_.outShape,C=new La(S.map((function(e){return e.shape}))),T=n.runWebGLProgram(C,S,r);S.forEach((function(e){return n.disposeIntermediateTensorInfo(e)}));var A=li({inputs:{x:T},attrs:{shape:E},backend:n});return n.disposeIntermediateTensorInfo(T),A}function Va(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,i=u.util.parseAxisParam(r,t[0].shape)[0],a=u.backend_util.computeOutShape(t.map((function(e){return e.shape})),i);if(0===u.util.sizeFromShape(a))return n.makeTensorInfo(a,t[0].dtype,[]);var o=t.filter((function(e){return u.util.sizeFromShape(e.shape)>0}));if(1===o.length)return Hr({inputs:{x:o[0]},backend:n});var s=o.map((function(e){return e.shape}));return u.backend_util.assertParamsConsistent(s,i),Za(o,i,n)}var Ua={kernelName:u.Concat,backendName:"webgl",kernelFunc:Va},Wa=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,p.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,d=t.dilationWidth,f=t.filterHeight,h=t.filterWidth,m=4*Math.floor(t.inChannels/4),v=t.inChannels%4,g="channelsLast"===t.dataFormat,y=g?1:2,b=g?2:3,w=g?3:1,k="",x="";r&&(k=i?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):a?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),x="result = activation(result);");var _=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(k,"\n\n      const ivec2 strides = ivec2(").concat(u,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(w,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(y,"], coords[").concat(b,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(f,"; wR++) {\n          int xR = xRCorner + wR * ").concat(l,";\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(h,"; wC++) {\n            int xC = xCCorner + wC * ").concat(d,";\n\n            if (xC < 0 || xC >= ").concat(t.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(m,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(g,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===v,") {\n\n              if (").concat(g,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(m,") *\n                    getW(wR, wC, ").concat(m,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(m,", xR, xC) *\n                    getW(wR, wC, ").concat(m,", d2);\n              }\n\n            } else if (").concat(2===v,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(m,", d2),\n                getW(wR, wC, ").concat(m," + 1, d2)\n              );\n\n              if (").concat(g,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(m,"),\n                  getX(batch, xR, xC, ").concat(m," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(m,", xR, xC),\n                  getX(batch, ").concat(m," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===v,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(m,", d2),\n                getW(wR, wC, ").concat(m," + 1, d2),\n                getW(wR, wC, ").concat(m," + 2, d2)\n              );\n\n              if (").concat(g,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(m,"),\n                  getX(batch, xR, xC, ").concat(m," + 1),\n                  getX(batch, xR, xC, ").concat(m," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(m,", xR, xC),\n                  getX(batch, ").concat(m," + 1, xR, xC),\n                  getX(batch, ").concat(m," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(_,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")})),Ha=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,i=t.padInfo.left,a=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,d=t.filterDepth,f=t.filterHeight,h=t.filterWidth,m=4*Math.floor(t.inChannels/4),v=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(a,", ").concat(o,", ").concat(s,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(i,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(d,"; wF++) {\n          int xF = xFCorner + wF * ").concat(u,";\n\n          if (xF < 0 || xF >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(f,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,"; wC++) {\n              int xC = xCCorner + wC * ").concat(l,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(m,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===v,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(m,") *\n                  getW(wF, wR, wC, ").concat(m,", d2);\n              } else if (").concat(2===v,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(m,"),\n                  getX(batch, xF, xR, xC, ").concat(m," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(m,", d2),\n                  getW(wF, wR, wC, ").concat(m," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===v,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(m,"),\n                  getX(batch, xF, xR, xC, ").concat(m," + 1),\n                  getX(batch, xF, xR, xC, ").concat(m," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(m,", d2),\n                  getW(wF, wR, wC, ").concat(m," + 1, d2),\n                  getW(wF, wR, wC, ").concat(m," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),za=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length);for(var r=n.dataFormat,i=_e(),a="channelsLast"===r,o=a?0:1,s=a?1:2,u=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":"if(blockIndex < ".concat(t[1]," && pos < ").concat(t[0],") {"),c="",l=0;l<=1;l++)for(var d=0;d<=1;d++)c+="\n          blockIndex = rc.y + ".concat(d,";\n          pos = rc.x + ").concat(l,";\n\n          ").concat(u,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(o,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(s,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(a,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*l+d,"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*l+d,"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(c,"\n\n        ").concat(i.output," = result;\n      }\n    ")}));function Ga(e){var t,n=e.x,r=e.filter,i=e.convInfo,a=e.backend,o=e.bias,s=void 0===o?null:o,c=e.preluActivationWeights,l=void 0===c?null:c,d=e.leakyreluAlpha,f=void 0===d?0:d,p=e.activation,h=void 0===p?null:p,m=n.shape,v=a.texData.get(n.dataId),g=i.inChannels,y=m[0]*m[1]*m[2],b=i.outChannels,w="channelsLast"===i.dataFormat,k=[];if(null!=l&&!w&&3===l.shape.length){var x=wi({inputs:{x:l},backend:a,attrs:{perm:[1,2,0]}});k.push(x),l=x}if(!((1===y||1===b)&&g>1e3)&&v.isPacked&&w&&null!=v.texture&&m[2]%2!==0&&u.util.arraysEqual(v.shape.slice(-3),m.slice(-3))){var _=m[0]*m[1]*(m[2]+1),S={dataId:n.dataId,shape:[1,_,i.inChannels],dtype:n.dtype},E=v.shape;v.shape=v.shape.slice(),v.shape[v.shape.length-2]++,u.util.assert(ce(v.shape,S.shape),(function(){return"packed reshape ".concat(v.shape," to ").concat(S.shape," isn't free")}));var C=li({inputs:{x:r},backend:a,attrs:{shape:[1,i.inChannels,i.outChannels]}});k.push(C);var T=xi({a:S,b:C,backend:a,transposeA:false,transposeB:false,bias:s,activation:h,preluActivationWeights:l,leakyreluAlpha:f}),A=a.texData.get(T.dataId);u.util.assert(A.isPacked,(function(){return"batchMatMul result is expected to be packed"})),v.shape=E,A.shape=i.outShape,(t=Hr({inputs:{x:T},backend:a})).shape=i.outShape,k.push(T)}else{var O=w?n:wi({inputs:{x:n},backend:a,attrs:{perm:[0,2,3,1]}}),R=O.shape,I=li({inputs:{x:O},backend:a,attrs:{shape:[1,R[0]*R[1]*R[2],i.inChannels]}}),N=li({inputs:{x:r},backend:a,attrs:{shape:[1,i.inChannels,i.outChannels]}}),P=xi({a:I,b:N,transposeA:false,transposeB:false,backend:a,bias:s,activation:h,preluActivationWeights:l,leakyreluAlpha:f}),M=li({inputs:{x:P},backend:a,attrs:{shape:[i.batchSize,i.outHeight,i.outWidth,i.outChannels]}});t=w?M:wi({inputs:{x:M},backend:a,attrs:{perm:[0,3,1,2]}}),w||(k.push(O),k.push(M)),k.push(I),k.push(N),k.push(P)}for(var L=0,D=k;L<D.length;L++){var F=D[L];a.disposeIntermediateTensorInfo(F)}return t}function qa(e){var t=e.x,n=e.filter,r=e.convInfo,i=e.backend,a=e.bias,o=void 0===a?null:a,s=e.preluActivationWeights,c=void 0===s?null:s,l=e.leakyreluAlpha,d=void 0===l?0:l,f=e.activation,p=void 0===f?null:f,h=r.filterWidth,m=r.filterHeight,v=r.inChannels,g=r.outWidth,y=r.outHeight,b="channelsLast"===r.dataFormat,w=h*m*v,k=y*g,x=[w,k],_=[];if(null!=c&&!b&&3===c.shape.length){var S=wi({inputs:{x:c},backend:i,attrs:{perm:[1,2,0]}});_.push(S),c=S}var E=li({inputs:{x:t},backend:i,attrs:{shape:t.shape.slice(1)}}),C=li({inputs:{x:n},backend:i,attrs:{shape:[1,w,u.util.sizeFromShape(n.shape)/w]}});_.push(E),_.push(C);var T=new za(x,r),A=[E.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],O=i.runWebGLProgram(T,[E],"float32",A),R=li({inputs:{x:O},backend:i,attrs:{shape:[1,x[0],x[1]]}});_.push(O),_.push(R);var I=null!=o,N=null!=c,P="leakyrelu"===p,M=p?ni(p,!0):null,L=new ri(R.shape,C.shape,[1,k,r.outChannels],!0,!1,I,M,N,P),D=[R,C];if(o&&D.push(o),N&&D.push(c),P){var F=i.makeTensorInfo([],"float32",u.util.createScalarValue(d,"float32"));D.push(F),_.push(F)}var B=i.runWebGLProgram(L,D,"float32"),j=li({inputs:{x:B},backend:i,attrs:{shape:[1,y,g,r.outChannels]}}),Z=b?j:wi({inputs:{x:j},backend:i,attrs:{perm:[0,3,1,2]}});b||_.push(j),_.push(B);for(var V=0,U=_;V<U.length;V++){var W=U[V];i.disposeIntermediateTensorInfo(W)}return Z}var Ka={kernelName:u.Conv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=n.filter,s=i.strides,c=i.pad,l=i.dataFormat,d=i.dilations,f=i.dimRoundingMode,p=u.backend_util.convertConv2DDataFormat(l),h=u.backend_util.computeConv2DInfo(a.shape,o.shape,s,d,c,f,!1,p);if(1!==h.filterHeight||1!==h.filterWidth||1!==h.dilationHeight||1!==h.dilationWidth||1!==h.strideHeight||1!==h.strideWidth||"SAME"!==h.padInfo.type&&"VALID"!==h.padInfo.type)if((0,u.env)().getBool("WEBGL_CONV_IM2COL")&&1===a.shape[0])t=qa({x:a,filter:o,convInfo:h,backend:r});else{var m=new Wa(h);t=r.runWebGLProgram(m,[a,o],"float32")}else t=Ga({x:a,filter:o,convInfo:h,backend:r});var v=li({inputs:{x:t},backend:r,attrs:{shape:h.outShape}});return r.disposeIntermediateTensorInfo(t),v}},Ya=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,i=t.padInfo.top,a=t.padInfo.left,o="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(i,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(a,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              if (").concat(o,") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Xa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,i=t.strideHeight,a=t.strideWidth,o="channelsLast"===t.dataFormat,s=n-1-t.padInfo.top,u=r-1-t.padInfo.left,c=o?1:2,l=o?2:3,d=o?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(d,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(l,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n\n              if (").concat(o,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Qa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,i=t.strideWidth,a=t.padInfo.front,o=t.padInfo.top,s=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(a,";\n\n            if (xF < 0 || xF >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(o,";\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(i," - ").concat(s,";\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Ja=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,i=t.filterWidth,a=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=n-1-t.padInfo.front,c=r-1-t.padInfo.top,l=i-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(c,", ").concat(l,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(a,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(i,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(i," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var $a={kernelName:u.Conv2DBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.pad,c=r.dataFormat,l=r.dimRoundingMode,d=r.filterShape,f=u.backend_util.convertConv2DDataFormat(c),p=u.backend_util.computeConv2DInfo(i.shape,d,o,1,s,l,!1,f),h=new Ya(p);return n.runWebGLProgram(h,[i,a],"float32")}};var eo={kernelName:u.Conv2DBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.inputShape,s=r.strides,c=r.pad,l=r.dataFormat,d=r.dimRoundingMode,f=u.backend_util.convertConv2DDataFormat(l),p=u.backend_util.computeConv2DInfo(o,a.shape,s,1,c,d,!1,f),h=new Xa(p);return n.runWebGLProgram(h,[i,a],"float32")}};var to={kernelName:u.Conv3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=r.strides,s=r.pad,c=r.dilations,l=u.backend_util.computeConv3DInfo(i.shape,a.shape,o,c,s),d=new Ha(l);return n.runWebGLProgram(d,[i,a],"float32")}};var no={kernelName:u.Conv3DBackpropFilterV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.pad,c=r.filterShape,l=u.backend_util.computeConv3DInfo(i.shape,c,o,1,s),d=new Qa(l);return n.runWebGLProgram(d,[i,a],"float32")}};var ro,io={kernelName:u.Conv3DBackpropInputV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.pad,s=r.strides,c=r.inputShape,l=u.backend_util.computeConv3DInfo(c,a.shape,s,1,o),d=new Ja(l);return n.runWebGLProgram(d,[i,a],"float32")}},ao=ei({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"}),oo={kernelName:u.Cos,backendName:"webgl",kernelFunc:ao},so=ei({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),uo={kernelName:u.Cosh,backendName:"webgl",kernelFunc:so},co=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],d=o[3],f=(0,c.Z)(n,1)[0],h=(0,c.Z)(r,2),m=h[0],v=h[1];this.outputShape=[f,m,v,d];var g="bilinear"===i?1:0,y="".concat(u-1,".0"),b="".concat(l-1,".0"),w=m>1?["".concat((u-1)/(m-1)),"(y2-y1) * height_ratio","y1*".concat(y," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(y)],k=(0,c.Z)(w,3),x=k[0],_=k[1],S=k[2],E=v>1?["".concat((l-1)/(v-1)),"(x2-x1) * width_ratio","x1*".concat(b," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(b)],C=(0,c.Z)(E,3),T=C[0],A=C[1],O=C[2];this.userCode="\n      const float height_ratio = float(".concat(x,");\n      const float width_ratio = float(").concat(T,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(s,") {\n          return;\n        }\n\n        float height_scale = ").concat(_,";\n        float width_scale = ").concat(A,";\n\n        float in_y = ").concat(S,";\n        if( in_y < 0.0 || in_y > ").concat(y," ) {\n          setOutput(float(").concat(a,"));\n          return;\n        }\n        float in_x = ").concat(O,";\n        if( in_x < 0.0 || in_x > ").concat(b," ) {\n          setOutput(float(").concat(a,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(g," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")})),lo={kernelName:u.CropAndResize,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.image,a=t.boxes,o=t.boxInd,s=r.cropSize,u=r.method,c=r.extrapolationValue,l=new co(i.shape,a.shape,s,u,c);return n.runWebGLProgram(l,[i,a,o],"float32")}};!function(e){e.Prod="*",e.Sum="+"}(ro||(ro={}));var fo=(0,h.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.op=t,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];var a=this.outputShape.length,o=this.op===ro.Prod?"1.0":"0.0",s=r?o:"getX(".concat(po(a,"coords",this.op),")"),u=this.outputShape[this.outputShape.length-1],c="",l="";r?(c=i?"end != ".concat(u-1):"end != 0",l=i?"end + 1":"end - 1"):(c=i?"end + pow2 < ".concat(u):"end >= pow2",l=i?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(Ke(a)," coords = getOutputCoords();\n        int end = ").concat(ho(a,"coords",this.op),";\n        float val = ").concat(s,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(c,") {\n          int idx = ").concat(l,";\n          ").concat(ho(a,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(po(a,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}));function po(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function ho(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function mo(e,t,n,r,i,a){var o=t.shape.length,s=u.backend_util.getAxesPermutation([r],o),c=t;null!=s&&(c=wi({inputs:{x:t},backend:n,attrs:{perm:s}}));var l=u.backend_util.getInnerMostAxes(1,o)[0];if(l!==o-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(r));for(var d=c.shape[l],f=Hr({inputs:{x:c},backend:n}),p=0;p<=Math.ceil(Math.log2(d))-1;p++){var h=new fo(e,c.shape,!1,a),m=[[p]],v=f;f=n.runWebGLProgram(h,[f],f.dtype,m),n.disposeIntermediateTensorInfo(v)}if(i){var g=new fo(e,c.shape,i,a),y=f;f=n.runWebGLProgram(g,[f],f.dtype),n.disposeIntermediateTensorInfo(y)}if(null!=s){var b=wi({inputs:{x:f},backend:n,attrs:{perm:u.backend_util.getUndoAxesPermutation(s)}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(c),b}return f}var vo={kernelName:u.Cumprod,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.exclusive,s=r.reverse;return mo(ro.Prod,i,n,a,o,s)}};var go={kernelName:u.Cumsum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.exclusive,s=r.reverse;return mo(ro.Sum,i,n,a,o,s)}};var yo={kernelName:u.DenseBincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=r.binaryOutput;if(1===i.shape.length){var u=n.readSync(i.dataId),c=n.readSync(a.dataId),l=_n(u,c,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,l)}if(2===i.shape.length){var d=n.bufferSync(i),f=n.bufferSync(a),p=Sn(d,f,o,s);return n.makeTensorInfo(p.shape,a.dtype,p.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(i.shape.length,"."))}},bo=function(){function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return(0,h.Z)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var wo={kernelName:u.DepthToSpace,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockSize,o=r.dataFormat,s=i.shape[0],u=("NHWC"===o?i.shape[1]:i.shape[2])*a,c=("NHWC"===o?i.shape[2]:i.shape[3])*a,l=("NHWC"===o?i.shape[3]:i.shape[1])/(a*a),d=new bo("NHWC"===o?[s,u,c,l]:[s,l,u,c],a,o);return n.runWebGLProgram(d,[i],i.dtype)}},ko=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,p.Z)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=rt(this.outputShape.length);var o=t.filterHeight,s=t.filterWidth,u=t.outChannels/t.inChannels,c="",l="";r&&(c=i?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):a?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),l="result = activation(result);");var d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(c,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(u,";\n        int q = d2 - d1 * ").concat(u,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(o,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(d,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")})),xo=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,p.Z)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=rt(this.outputShape.length);for(var o=t.outChannels/t.inChannels,s=t.padInfo.left,c=t.strideWidth,l=t.dilationWidth,d=t.filterHeight,f=t.filterWidth,h=f,m="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;",v=0;v<f;v++)m+="\n          vec4 xTexelC".concat(2*v,";\n          int xTexelC").concat(2*v,"Ready;\n          vec4 xTexelC").concat(2*v+1,";\n          int xTexelC").concat(2*v+1,"Ready;\n          vec4 xC").concat(v,";");m+="\n    for (int r = 0; r < ".concat(d,"; r++) {\n      ");for(var g=0;g<f;g++)m+="\n          xTexelC".concat(2*g," = vec4(0.0);\n          xTexelC").concat(2*g,"Ready = 0;\n          xTexelC").concat(2*g+1," = vec4(0.0);\n          xTexelC").concat(2*g+1,"Ready = 0;\n          xC").concat(g," = vec4(0.0);");m+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(var y=0;y<(h+1)/2;y++){var b=2*y;if(m+="\n          xC = xCCorner + ".concat(b*l,";\n          "),1===c){if(b<f&&(s%2===1?(m+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n              "),m+=1===l&&b>0?"\n                xC".concat(b," = vec4(xTexelC").concat(b-2,".zw, xTexelC").concat(b,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(b," = vec4(previous.zw, xTexelC").concat(b,".xy);\n                  } else {\n                    xC").concat(b," = vec4(0.0, 0.0, xTexelC").concat(b,".xy);\n                  }\n                  ")):m+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n\n                xC").concat(b," = xTexelC").concat(b,";\n                "),b+1<f)){var w=s%2===0?u.util.nearestLargerEven(l):l;l%2===0&&s%2===1||l%2!==0&&s%2!==1?(m+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(w,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                    xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(b+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(b+1,"Ready = 1;\n                  }\n                  "),l>1&&(m+="\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                      xTexelC").concat(b," = getX(batch, xR, xCOffset, d1);\n                      xTexelC").concat(b,"Ready = 1;\n                    }\n                    ")),m+="\n                  xC".concat(b+1," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".xy);\n                  ")):m+=1===w?"\n                    xC".concat(b+1," = xTexelC").concat(b,";\n                    "):"\n                    xCOffset = xC + ".concat(w,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                      xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(b+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(b+1,"Ready = 1;\n                    }\n\n                    xC").concat(b+1," = xTexelC").concat(b+1,";\n                    ")}}else b<f&&(s%2===1?(m+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                  xTexelC").concat(b+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(b+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b+1,"Ready = 1;\n                }\n\n                xC").concat(b," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".zw);\n              "),b+1<f&&(m+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(b+1," = vec4(xTexelC").concat(b+1,".xy, final.xy);\n                "))):(m+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                  xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(b+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(b+1,"Ready = 1;\n                }\n\n                xC").concat(b," = vec4(\n                  xTexelC").concat(b,".xy, xTexelC").concat(b+1,".xy);\n              "),b+1<f&&(m+="\n                  xC".concat(b+1," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".zw);\n                "))));b<f&&(m+="\n            wTexel = getW(r, ".concat(b,", d1, q);\n            dotProd += xC").concat(b," * vec4(wTexel.xz, wTexel.xz);\n          "),b+1<f&&(m+="\n              wTexel = getW(r, ".concat(b+1,", d1, q);\n              dotProd += xC").concat(b+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}m+="\n    }\n  ",m+="\n      }\n    ";var k="",x="";r&&(k=i?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):a?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(r,"\n        }"),x="result = activation(result);");var _=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(k,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(o,";\n        int q = d2 - d1 * ").concat(o,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(m,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(_,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")}));var _o={kernelName:u.DepthwiseConv2dNative,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=r.strides,s=r.pad,c=r.dilations,l=r.dimRoundingMode,d=c;null==d&&(d=[1,1]),u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,d),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(o," and dilations '").concat(d,"'")}));var f,p=u.backend_util.computeConv2DInfo(i.shape,a.shape,o,d,s,l,!0);f=(0,u.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&p.strideWidth<=2&&p.outChannels/p.inChannels===1?new xo(p):new ko(p);var h=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];return n.runWebGLProgram(f,[i,a],"float32",h)}},So=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,i=t.padInfo.top,a=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(o," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(i,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(a,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Eo=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,i=t.strideHeight,a=t.strideWidth,o=n-1-t.padInfo.top,s=r-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(u,"; dm++) {\n              int d2 = d1 * ").concat(u," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var Co={kernelName:u.DepthwiseConv2dNativeBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.dilations,c=r.pad,l=r.dimRoundingMode,d=r.filterShape,f=u.backend_util.computeConv2DInfo(i.shape,d,o,s,c,l,!0),p=new So(f);return n.runWebGLProgram(p,[i,a],"float32")}};var To={kernelName:u.DepthwiseConv2dNativeBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.strides,s=r.dilations,c=r.pad,l=r.dimRoundingMode,d=r.inputShape,f=u.backend_util.computeConv2DInfo(d,a.shape,o,s,c,l,!0),p=new Eo(f);return n.runWebGLProgram(p,[i,a],"float32")}},Ao=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}));var Oo={kernelName:u.Diag,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=[].concat((0,d.Z)(r.shape),(0,d.Z)(r.shape)),a=u.util.sizeFromShape(r.shape),o=li({inputs:{x:r},backend:n,attrs:{shape:[a]}}),s=new Ao(a),c=n.runWebGLProgram(s,[o],o.dtype),l=li({inputs:{x:c},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),l}},Ro=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,i=t.padInfo,a=t.strideHeight,o=t.strideWidth,s=t.filterHeight,u=t.filterWidth,c=t.dilationHeight,l=t.dilationWidth,d=i.top,f=i.left;this.userCode="\n      const ivec2 strides = ivec2(".concat(a,", ").concat(o,");\n      const ivec2 pads = ivec2(").concat(d,", ").concat(f,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(s,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(u,"; w++) {\n              int wIn = wBeg + w * ").concat(l,";\n\n              if (wIn >= 0 && wIn < ").concat(r,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}));var Io={kernelName:u.Dilation2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=n.filter,s=i.strides,c=i.pad,l=i.dilations,d=u.backend_util.computeDilation2DInfo(a.shape,o.shape,s,c,"NHWC",l),f=new Ro(d),p=li({inputs:{x:t=r.runWebGLProgram(f,[a,o],"float32")},backend:r,attrs:{shape:d.outShape}});return r.disposeIntermediateTensorInfo(t),p}},No=n(37762);var Po={kernelName:u.Einsum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,i=t,a=u.backend_util.decodeEinsumEquation(r,i.length),o=a.allDims,s=a.summedDims,c=a.idDims;u.backend_util.checkEinsumDimSizes(o.length,c,i);for(var l=u.backend_util.getEinsumComputePath(s,c),d=l.path,f=l.steps,p=f.length,h=null,m=o.length,v=[],g=0;g<p;++g){var y,b=(0,No.Z)(f[g]);try{for(b.s();!(y=b.n()).done;){var w=y.value,k=u.backend_util.getEinsumPermutation(m,c[w]),x=k.permutationIndices,_=k.expandDims,S=void 0;u.backend_util.isIdentityPermutation(x)?S=i[w]:(S=wi({inputs:{x:i[w]},backend:n,attrs:{perm:x}}),v.push(S));for(var E=S.shape.slice(),C=0;C<_.length;++C)E.splice(_[C],0,1);u.util.arraysEqual(S.shape,E)||(S=li({inputs:{x:S},backend:n,attrs:{shape:E}}),v.push(S)),null===h?h=S:(h=ui({inputs:{a:S,b:h},backend:n}),v.push(h))}}catch(R){b.e(R)}finally{b.f()}g<p-1&&(d[g]>=0&&(h=yi({inputs:{x:h},backend:n,attrs:{axis:d[g]-(o.length-m),keepDims:!1}}),v.push(h)),m--)}for(var T=0,A=v;T<A.length;T++){var O=A[T];O!==h&&n.disposeIntermediateTensorInfo(O)}return h}},Mo=ei({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),Lo={kernelName:u.Elu,backendName:"webgl",kernelFunc:Mo},Do={kernelName:u.EluGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,i=t.y,a=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Wr("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,i.shape):new Ur("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,i.shape);return n.runWebGLProgram(a,[r,i],r.dtype)}},Fo=ti({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:Tn}),Bo={kernelName:u.Equal,backendName:"webgl",kernelFunc:Fo},jo=ei({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(u.backend_util.ERF_P,";\n  float a1 = ").concat(u.backend_util.ERF_A1,";\n  float a2 = ").concat(u.backend_util.ERF_A2,";\n  float a3 = ").concat(u.backend_util.ERF_A3,";\n  float a4 = ").concat(u.backend_util.ERF_A4,";\n  float a5 = ").concat(u.backend_util.ERF_A5,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),Zo={kernelName:u.Erf,backendName:"webgl",kernelFunc:jo},Vo=ei({opSnippet:"if (isnan(x)) return x;\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:An,dtype:"float32"}),Uo={kernelName:u.Exp,backendName:"webgl",kernelFunc:Vo};function Wo(e){var t=e.inputs,n=e.attrs,r=e.backend,i=n.dim,a=t.input,o=a.shape.length,s=a.shape.slice(),c=i;return i<0&&(u.util.assert(-(o+1)<=i,(function(){return"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]")})),c=o+i+1),s.splice(c,0,1),li({inputs:{x:a},backend:r,attrs:{shape:s}})}var Ho={kernelName:u.ExpandDims,backendName:"webgl",kernelFunc:Wo},zo="return exp(x) - 1.0;",Go=ei({opSnippet:zo,packedOpSnippet:zo,cpuKernelImpl:On}),qo={kernelName:u.Expm1,backendName:"webgl",kernelFunc:Go},Ko=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["real","imag"];var i=n[1];this.outputShape=n;var a,o=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),s=r?"".concat(i,".0"):"1.0";if("real"===t)a="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error('FFT component must be either "real" or "imag", got '.concat(t,"."));a="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(o,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(a,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(i,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(i,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(s,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}));function Yo(e,t,n){var r=n.texData.get(e.dataId),i=u.util.sizeFromShape(e.shape),a=e.shape[e.shape.length-1],o=li({inputs:{x:e},backend:n,attrs:{shape:[i/a,a]}}),s=o.shape,c=new Ko("real",s,t),l=new Ko("imag",s,t),d=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],f=n.runWebGLProgram(c,d,"float32"),p=n.runWebGLProgram(l,d,"float32"),h=Gr({inputs:{real:f,imag:p},backend:n});n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p);var m=li({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(h),m}var Xo={kernelName:u.FFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Yo(t.input,!1,n)}},Qo=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}));function Jo(e){var t=e.backend,n=e.attrs,r=n.shape,i=n.value,a=n.dtype;if("string"===(a=a||u.util.inferDtype(i))){var o=u.util.getArrayFromDType(a,u.util.sizeFromShape(r));return o.fill(i),t.makeTensorInfo(r,a,o)}var s=new Qo(r,i),c=[[i]];return t.runWebGLProgram(s,[],a,c)}var $o,es={kernelName:u.Fill,backendName:"webgl",kernelFunc:Jo},ts=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),ns={kernelName:u.FlipLeftRight,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,i=n,a=new ts(r.shape);return i.runWebGLProgram(a,[r],r.dtype)}},rs="return floor(x);",is=ei({opSnippet:rs,packedOpSnippet:rs,cpuKernelImpl:Rn}),as={kernelName:u.Floor,backendName:"webgl",kernelFunc:is},os=ti({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),ss={kernelName:u.FloorDiv,backendName:"webgl",kernelFunc:os},us=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"];var n=_e(),r=(0,c.Z)(t,2),i=r[0],a=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(a,".0, ").concat(i,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")})),cs=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=_e(),r=(0,c.Z)(t,2),i=r[0],a=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(a,".0, ").concat(i,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),ls={kernelName:u.FromPixels,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.pixels,a=r.numChannels,s="undefined"!==typeof HTMLVideoElement&&i instanceof HTMLVideoElement,l="undefined"!==typeof HTMLImageElement&&i instanceof HTMLImageElement,d=s?[i.videoWidth,i.videoHeight]:[i.width,i.height],f=(0,c.Z)(d,2),p=f[0],h=f[1],m=[h,p],v=[h,p,a];(l||s)&&(null==$o&&($o=document.createElement("canvas").getContext("2d")),$o.canvas.width=p,$o.canvas.height=h,$o.drawImage(i,0,0,p,h),i=$o.canvas);var g=n.makeTensorInfo(m,"int32");n.texData.get(g.dataId).usage=o.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(g.dataId),i);var y=(0,u.env)().getBool("WEBGL_PACK")?new cs(v):new us(v),b=n.runWebGLProgram(y,[g],"int32");return n.disposeData(g.dataId),b}};var ds={kernelName:u.FusedConv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=n.filter,s=n.bias,c=n.preluActivationWeights,l=i.strides,d=i.pad,f=i.dataFormat,p=i.dilations,h=i.dimRoundingMode,m=i.activation,v=i.leakyreluAlpha,g=u.backend_util.convertConv2DDataFormat(f),y=u.backend_util.computeConv2DInfo(a.shape,o.shape,l,p,d,h,!1,g),b=[];if(1!==y.filterHeight||1!==y.filterWidth||1!==y.dilationHeight||1!==y.dilationWidth||1!==y.strideHeight||1!==y.strideWidth||"SAME"!==y.padInfo.type&&"VALID"!==y.padInfo.type)if((0,u.env)().getBool("WEBGL_CONV_IM2COL")&&1===a.shape[0])t=qa({x:a,filter:o,convInfo:y,backend:r,bias:s,activation:m,preluActivationWeights:c,leakyreluAlpha:v});else{var w=null!=s,k=null!=c,x="leakyrelu"===m,_=m?ni(m,!1):null,S=new Wa(y,w,_,k,x),E=[a,o],C=function(e,t){if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){var n=li({inputs:{x:e},backend:r,attrs:{shape:[e.shape[0],1,1]}});return b.push(n),n}return e};if(w&&E.push(C(s,f)),k&&E.push(C(c,f)),x){var T=r.makeTensorInfo([],"float32",u.util.createScalarValue(v,"float32"));E.push(T),b.push(T)}t=r.runWebGLProgram(S,E,"float32")}else t=Ga({x:a,filter:o,convInfo:y,backend:r,bias:s,activation:m,preluActivationWeights:c,leakyreluAlpha:v});var A=li({inputs:{x:t},backend:r,attrs:{shape:y.outShape}});return b.push(t),b.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),A}};var fs={kernelName:u.FusedDepthwiseConv2D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.bias,s=t.preluActivationWeights,c=r.strides,l=r.pad,d=r.dilations,f=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,m=[],v=d;null==v&&(v=[1,1]),u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(c,v),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(c," and dilations '").concat(v,"'")}));var g,y=u.backend_util.computeConv2DInfo(i.shape,a.shape,c,v,l,f,!0),b=(0,u.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&y.strideWidth<=2&&y.outChannels/y.inChannels===1,w=p?ni(p,b):null,k=[i,a],x=null!=o,_=null!=s,S="leakyrelu"===p;if(x&&k.push(o),_&&k.push(s),S){var E=n.makeTensorInfo([],"float32",u.util.createScalarValue(h,"float32"));k.push(E),m.push(E)}g=b?new xo(y,x,w,_,S):new ko(y,x,w,_,S);var C=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],T=n.runWebGLProgram(g,k,"float32",C);return m.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),T}},ps=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.sliceDim=t,this.strides=n,this.variableNames=["x","indices"],this.outputShape=r;var i=Ke(n.length),a=Ke(r.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        ".concat(i," strides = ").concat(i,"(").concat(this.strides,");\n         void main() {\n          ").concat(a," coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ").concat(this.sliceDim,"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ").concat(o,";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      ")}));var hs={kernelName:u.GatherNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,i=t.indices,a=i.shape,o=a[a.length-1],s=u.util.sizeFromShape(r.shape),l=u.backend_util.prepareAndValidate(r,i),d=(0,c.Z)(l,4),f=d[0],p=d[1],h=d[2],m=d[3],v=li({inputs:{x:i},backend:n,attrs:{shape:[p,o]}}),g=li({inputs:{x:r},backend:n,attrs:{shape:[u.util.sizeFromShape(r.shape)/h,h]}});if(n.shouldExecuteOnCPU([r,i])||"string"===r.dtype){var y=n.readSync(i.dataId),b=n.bufferSync(r),w=In(y,b,r.dtype,p,o,h,m,r.shape,s);return n.makeTensorInfo(f,r.dtype,w.values)}var k=new ps(o,m,[p,h]),x=n.runWebGLProgram(k,[g,v],g.dtype),_=li({inputs:{x:x},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(x),_}},ms=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=Ke(this.rank),i=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],i=0;i<e.length;i++)2===i?r.push("index"):r.push("".concat(n[i]));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(t[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(i,"));\n      }\n    ")}));function vs(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.indices,o=r.axis,s=r.batchDims,c=u.util.parseAxisParam(o,i.shape)[0];(0,u.env)().get("DEBUG")&&function(){for(var e=n.readSync(a.dataId),t=i.shape[c],r=function(n){var r=e[n];u.util.assert(r<=t-1&&r>=0,(function(){return"GatherV2: the index value ".concat(r," is not in [0, ").concat(t-1,"]")}))},o=0;o<e.length;++o)r(o)}();var l=u.backend_util.segment_util.collectGatherOpShapeInfo(i,a,c,s),d=u.util.sizeFromShape(a.shape),f=[],p=li({inputs:{x:i},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),h=li({inputs:{x:a},backend:n,attrs:{shape:[l.batchSize,d/l.batchSize]}});f.push(p),f.push(h);var m=[l.batchSize,l.outerSize,d/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([i,a])||"string"===i.dtype){var v=n.bufferSync(h),g=n.bufferSync(p),y=Nn(g,v,m);return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(l.outputShape,y.dtype,y.values)}var b=new ms(p.shape,m),w=n.runWebGLProgram(b,[p,h],p.dtype);f.push(w);var k=li({inputs:{x:w},backend:n,attrs:{shape:l.outputShape}});return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),k}var gs={kernelName:u.GatherV2,backendName:"webgl",kernelFunc:vs},ys=ti({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:Pn,dtype:"bool"}),bs={kernelName:u.Greater,backendName:"webgl",kernelFunc:ys},ws=ti({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:Mn}),ks={kernelName:u.GreaterEqual,backendName:"webgl",kernelFunc:ws};var xs={kernelName:u.IFFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Yo(t.input,!0,n)}},_s=ei({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),Ss={kernelName:u.IsFinite,backendName:"webgl",kernelFunc:_s},Es=ei({opSnippet:"return float(isinf(x));",dtype:"bool"}),Cs={kernelName:u.IsInf,backendName:"webgl",kernelFunc:Es},Ts=ei({opSnippet:"return float(isnan(x));",dtype:"bool"}),As={kernelName:u.IsNan,backendName:"webgl",kernelFunc:Ts},Os=ti({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:Ln,dtype:"bool"}),Rs={kernelName:u.Less,backendName:"webgl",kernelFunc:Os},Is=ti({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:Dn,dtype:"bool"}),Ns={kernelName:u.LessEqual,backendName:"webgl",kernelFunc:Is};var Ps={kernelName:u.LinSpace,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.num,o=Fn(r,i,a);return t.makeTensorInfo([o.length],"float32",o)}},Ms=ei({opSnippet:"if (isnan(x)) return x;\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:Bn}),Ls={kernelName:u.Log,backendName:"webgl",kernelFunc:Ms},Ds=ei({opSnippet:"if (isnan(x)) return x;\n  return log(1.0 + x);\n"}),Fs={kernelName:u.Log1p,backendName:"webgl",kernelFunc:Ds},Bs=ti({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),js={kernelName:u.LogicalAnd,backendName:"webgl",kernelFunc:Bs},Zs=ei({opSnippet:"return float(!(x >= 1.0));"}),Vs={kernelName:u.LogicalNot,backendName:"webgl",kernelFunc:Zs},Us=ti({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),Ws={kernelName:u.LogicalOr,backendName:"webgl",kernelFunc:Us},Hs=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=[];var o,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(i,") * sum");o=.5===a?"inversesqrt(".concat(c,")"):1===a?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(a,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(s,"; j <= ").concat(s,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(u,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(o,";\n        setOutput(val);\n      }\n    ")})),zs=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(i,") * sum");o=.5===a?"inversesqrt(".concat(c,")"):1===a?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(a,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(s,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(s,"; j <= ").concat(s,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(u,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(o,";\n        setOutput(result);\n      }\n    ")})),Gs={kernelName:u.LRN,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.depthRadius,o=r.bias,s=r.alpha,c=r.beta,l=(0,u.env)().getBool("WEBGL_PACK_NORMALIZATION")?new zs(i.shape,a,o,s,c):new Hs(i.shape,a,o,s,c);return n.runWebGLProgram(l,[i],i.dtype)}},qs=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=i,this.beta=a,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(i,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(i,")\n                * float(").concat(a,")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(a,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")})),Ks={kernelName:u.LRNGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.y,o=t.dy,s=r.depthRadius,u=r.bias,c=r.alpha,l=r.beta,d=new qs(i.shape,s,u,c,l);return n.runWebGLProgram(d,[i,a,o],i.dtype)}};function Ys(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.reductionIndices,o=r.keepDims,s=i.shape.length,l=u.util.parseAxisParam(a,i.shape),d=l,f=u.backend_util.getAxesPermutation(d,s),p=null!=f,h=n.shouldExecuteOnCPU([i]),m=i;if(p){if(h){for(var v=n.texData.get(m.dataId).values,g=new Array(s),y=0;y<g.length;y++)g[y]=i.shape[f[y]];var b=cr(v,i.shape,i.dtype,f,g);m=n.makeTensorInfo(g,i.dtype),n.texData.get(m.dataId).values=b}else m=gi(i,f,n);d=u.backend_util.getInnerMostAxes(d.length,s)}u.backend_util.assertAxesAreInnerMostDims("max",d,s);var w,k=u.backend_util.computeOutAndReduceShapes(m.shape,d),x=(0,c.Z)(k,2),_=x[0],S=x[1],E=_;if(o&&(E=u.backend_util.expandShapeToKeepDim(_,l)),h){v=n.texData.get(m.dataId).values;var C=jn(v,u.util.sizeFromShape(S),E,i.dtype);w=n.makeTensorInfo(E,i.dtype),n.texData.get(w.dataId).values=C}else w=function(e,t,n,r){var i=u.util.sizeFromShape(t),a=li({inputs:{x:e},attrs:{shape:[u.util.sizeFromShape(e.shape)/i,i]},backend:r}),o=hi(a,e.dtype,"max",r),s=li({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),s}(m,S,E,n);return p&&n.disposeIntermediateTensorInfo(m),w}var Xs={kernelName:u.Max,backendName:"webgl",kernelFunc:Ys},Qs=ti({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:Zn}),Js={kernelName:u.Maximum,backendName:"webgl",kernelFunc:Qs};var $s={kernelName:u.MaxPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x;ke(i,"maxPool");var a=r.filterSize,o=r.strides,s=r.pad,c=r.dimRoundingMode;u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var l=u.backend_util.computePool2DInfo(i.shape,a,o,1,s,c);if(1===l.filterWidth&&1===l.filterHeight&&u.util.arraysEqual(l.inShape,l.outShape))return Hr({inputs:{x:i},backend:n});var d=new ta(l,"max",!1);return n.runWebGLProgram(d,[i],i.dtype)}};var eu={kernelName:u.MaxPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.filterSize,o=r.strides,s=r.pad,c=r.dataFormat,l=r.dimRoundingMode,d=u.backend_util.computePool3DInfo(i.shape,a,o,[1,1,1],s,l,c),f=new na(d,"max",!1);return n.runWebGLProgram(f,[i],i.dtype)}},tu=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,i=t.dilationHeight,a=t.effectiveFilterHeight,o=t.effectiveFilterWidth,s=a-1-t.padInfo.top,u=o-1-t.padInfo.left,c=a*o-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(a,";\n          wR += ").concat(i,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(o," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),nu=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,l=t.effectiveFilterWidth,d=u-1-t.padInfo.front,f=c-1-t.padInfo.top,h=l-1-t.padInfo.left,m=u*c*l-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(d,", ").concat(f,", ").concat(h,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n           wD += ").concat(a,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(o,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(l,";\n                wC += ").concat(s,") {\n              float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(m," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(l," +\n                  wR * ").concat(l," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var ru={kernelName:u.MaxPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode,d=u.backend_util.computePool3DInfo(a.shape,o,s,[1,1,1],c,l),f=new na(d,"max",!0),p=n.runWebGLProgram(f,[a],a.dtype),h=new nu(d),m=n.runWebGLProgram(h,[i,p],a.dtype);return n.disposeIntermediateTensorInfo(p),m}};var iu={kernelName:u.MaxPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=a;ke([a,t.output],"maxPoolGrad");var s=r.filterSize,c=r.strides,l=r.pad,d=r.dimRoundingMode,f=u.backend_util.computePool2DInfo(o.shape,s,c,1,l,d),p=new ta(f,"max",!0),h=n.runWebGLProgram(p,[o],o.dtype),m=new tu(f),v=n.runWebGLProgram(m,[i,h],o.dtype);return n.disposeIntermediateTensorInfo(h),v}};var au={kernelName:u.MaxPoolWithArgmax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n.filterSize,o=n.strides,s=n.pad,l=n.includeBatchInIndex,d=r;u.util.assert(4===i.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(i.shape.length,".")}));var f=[1,1];u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,f),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(f,"'")}));var p=u.backend_util.computePool2DInfo(i.shape,a,o,f,s),h=function(e,t,n,r){var i=new ta(n,"max",!1),a=r.runWebGLProgram(i,[e],"float32");return i=new ta(n,"max",!0,!0,t),[a,r.runWebGLProgram(i,[e],"float32")]}(i,l,p,d),m=(0,c.Z)(h,2);return[m[0],m[1]]}};var ou={kernelName:u.Mean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n.keepDims,o=n.axis,s=r,l=i.shape.length,d=u.util.parseAxisParam(o,i.shape),f=d,p=u.backend_util.getAxesPermutation(f,l),h=null!=p,m=s.shouldExecuteOnCPU([i]),v=[],g=i;if(h){if(m){for(var y=s.texData.get(g.dataId).values,b=new Array(l),w=0;w<b.length;w++)b[w]=i.shape[p[w]];var k=cr(y,i.shape,i.dtype,p,b);g=s.makeTensorInfo(b,i.dtype),s.texData.get(g.dataId).values=k}else g=gi(i,p,s);v.push(g),f=u.backend_util.getInnerMostAxes(f.length,l)}u.backend_util.assertAxesAreInnerMostDims("sum",f,l);var x=u.backend_util.computeOutAndReduceShapes(g.shape,f),_=(0,c.Z)(x,2),S=_[0],E=_[1],C=S;a&&(C=u.backend_util.expandShapeToKeepDim(S,d));for(var T=function(e,t,n,r){var i=u.util.sizeFromShape(t),a=li({inputs:{x:e},attrs:{shape:[u.util.sizeFromShape(e.shape)/i,i]},backend:r}),o=hi(a,"float32","mean",r),s=li({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),s}(g,E,C,s),A=0,O=v;A<O.length;A++){w=O[A];s.disposeIntermediateTensorInfo(w)}return T}};var su={kernelName:u.Min,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims,s=i.shape.length,l=u.util.parseAxisParam(a,i.shape),d=l,f=u.backend_util.getAxesPermutation(d,s),p=i;null!=f&&(p=wi({inputs:{x:i},backend:n,attrs:{perm:f}}),d=u.backend_util.getInnerMostAxes(d.length,i.shape.length)),u.backend_util.assertAxesAreInnerMostDims("min",d,s);var h,m=u.backend_util.computeOutAndReduceShapes(p.shape,d),v=(0,c.Z)(m,2),g=v[0],y=v[1],b=li({inputs:{x:p},backend:n,attrs:{shape:[-1,u.util.sizeFromShape(y)]}}),w=hi(b,b.dtype,"min",n);return h=li(o?{inputs:{x:w},backend:n,attrs:{shape:u.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:w},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(w),null!=f&&n.disposeIntermediateTensorInfo(p),h}},uu=ti({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:Vn}),cu={kernelName:u.Minimum,backendName:"webgl",kernelFunc:uu},lu=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var i=t.length,a=Ke(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i),c="reflect"===r?0:1;this.userCode=1!==i?"\n      ".concat(a," start = ").concat(a,"(").concat(o,");\n      ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(i,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(a," coords = outC - start;\n        setOutput(getX(").concat(u,"));\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")})),du=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var i=t.length,a=Ke(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=fr("rc",i),c=fr("source",i),l="".concat(u[i-1]," < ").concat(this.outputShape[i-1]),d=1===i?"source":"vec2(".concat(c.slice(-2).join(),")"),f="reflect"===r?0:1,h="";if(1===i){var m="\n        ".concat(a," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(f,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(f,";\n        }\n        source -= start;\n      ");h="\n        ".concat(a," rc = outputLoc;\n        ").concat(m,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(u[i-1]," += 1;\n        if(").concat(l,") {\n          ").concat(m,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ")}else{var v="\n        ".concat(a," source = rc;\n        ").concat(a," lt = ").concat(a,"(lessThan(source, start));\n        ").concat(a," gte = ").concat(a,"(greaterThanEqual(source, end));\n        ").concat(a," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(f,") +\n                gte * ((end - 1) * 2 - source + ").concat(f,");\n        source -= start;\n      ");h="\n        ".concat(a," rc = outputLoc;\n        ").concat(v,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(u[i-1]," += 1;\n        if(").concat(l,") {\n          ").concat(v,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n        rc = outputLoc;\n        ").concat(u[i-2]," += 1;\n        if(").concat(u[i-2]," < ").concat(this.outputShape[i-2],") {\n          ").concat(v,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          ").concat(u[i-1]," += 1;\n          if(").concat(l,") {\n            ").concat(v,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(a," start = ").concat(a,"(").concat(o,");\n      const ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")})),fu={kernelName:u.MirrorPad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.paddings,o=r.mode,s=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new du(i.shape,a,o):new lu(i.shape,a,o);return n.runWebGLProgram(s,[i],i.dtype)}},pu=ti({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),hu={kernelName:u.Mod,backendName:"webgl",kernelFunc:pu},mu=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")})),vu=ti({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),gu={kernelName:u.RealDiv,backendName:"webgl",kernelFunc:vu},yu="return a - b;",bu=ti({opSnippet:yu,packedOpSnippet:yu,supportsComplex:!0,cpuKernelImpl:or}),wu={kernelName:u.Sub,backendName:"webgl",kernelFunc:bu};function ku(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.logits,a=r.dim,o=u.util.parseAxisParam([a],i.shape),s=Ys({inputs:{x:i},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),c=u.backend_util.expandShapeToKeepDim(s.shape,o),l=li({inputs:{x:s},backend:n,attrs:{shape:c}}),d=bu({inputs:{a:i,b:l},backend:n}),f=Vo({inputs:{x:d},backend:n}),p=yi({inputs:{x:f},backend:n,attrs:{axis:o,keepDims:!1}}),h=li({inputs:{x:p},backend:n,attrs:{shape:c}}),m=vu({inputs:{a:f,b:h},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),m}var xu={kernelName:u.Softmax,backendName:"webgl",kernelFunc:ku};var _u={kernelName:u.Multinomial,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.logits,a=r.numSamples,o=r.seed,s=r.normalized,u=s?i:ku({inputs:{logits:i},backend:n,attrs:{dim:i.shape.length-1}}),c=u.shape[0],l=u.shape[1],d=new mu(c,l,a),f=[[o]],p=n.runWebGLProgram(d,[u],"int32",f);return s||n.disposeIntermediateTensorInfo(u),p}};var Su={kernelName:u.Neg,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=n.x;if(r.shouldExecuteOnCPU([i])){var a=r.texData.get(i.dataId),o=Wn(a.values,i.shape,i.dtype),s=(0,c.Z)(o,2),l=s[0],d=s[1];return r.makeTensorInfo(d,i.dtype,l)}return t=(0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Pr(i.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new br(i.shape,"if (isnan(x)) return x;\n  return -x;\n"),r.runWebGLProgram(t,[i],i.dtype)}},Eu=u.kernel_impls.nonMaxSuppressionV3Impl;var Cu={kernelName:u.NonMaxSuppressionV3,backendName:"webgl",kernelFunc:function(e){u.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=n.readSync(i.dataId),d=n.readSync(a.dataId),f=Eu(l,d,o,s,c).selectedIndices;return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}},Tu=u.kernel_impls.nonMaxSuppressionV4Impl;var Au={kernelName:u.NonMaxSuppressionV4,backendName:"webgl",kernelFunc:function(e){u.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=r.padToMaxOutputSize,d=n.readSync(i.dataId),f=n.readSync(a.dataId),p=Tu(d,f,o,s,c,l),h=p.selectedIndices,m=p.validOutputs;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}},Ou=u.kernel_impls.nonMaxSuppressionV5Impl;var Ru={kernelName:u.NonMaxSuppressionV5,backendName:"webgl",kernelFunc:function(e){u.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=r.softNmsSigma,d=n.readSync(i.dataId),f=n.readSync(a.dataId),p=Ou(d,f,o,s,c,l),h=p.selectedIndices,m=p.selectedScores;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([m.length],"float32",new Float32Array(m))]}},Iu=(0,h.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(i,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")})),Nu={kernelName:u.OneHot,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.indices,a=r.depth,o=r.onValue,s=r.offValue,c=u.util.sizeFromShape(i.shape),l=new Iu(c,a,o,s),f=li({inputs:{x:i},backend:n,attrs:{shape:[c]}}),p=n.runWebGLProgram(l,[f],i.dtype);n.disposeIntermediateTensorInfo(f);var h=li({inputs:{x:p},backend:n,attrs:{shape:[].concat((0,d.Z)(i.shape),[a])}});return n.disposeIntermediateTensorInfo(p),h}};function Pu(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var i=_a({inputs:{input:r},backend:n}),a=Pu({inputs:{x:i},backend:n}),o=Ba({inputs:{input:r},backend:n}),s=Pu({inputs:{x:o},backend:n}),u=Gr({inputs:{real:a,imag:s},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return Jo({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var Mu={kernelName:u.ZerosLike,backendName:"webgl",kernelFunc:Pu};var Lu={kernelName:u.OnesLike,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=n.x;if("string"===i.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===i.dtype){var a=_a({inputs:{input:i},backend:r}),o=e({inputs:{x:a},backend:r}),s=Ba({inputs:{input:i},backend:r}),u=Pu({inputs:{x:s},backend:r}),c=Gr({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}return Jo({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:r})}};var Du={kernelName:u.Pack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return Wo({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var i=t[0].shape,a=t[0].dtype;t.forEach((function(e){u.util.assertShapesMatch(i,e.shape,"All tensors passed to stack must have matching shapes"),u.util.assert(a===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=[],s=Va({inputs:t.map((function(e){var t=Wo({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),backend:n,attrs:{axis:r}});return o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),s}},Fu=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var i=t.length,a=Ke(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i);this.userCode=1!==i?"\n      ".concat(a," start = ").concat(a,"(").concat(o,");\n      ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(a," coords = outC - start;\n          setOutput(getX(").concat(u,"));\n        }\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")})),Bu=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));for(var i=t.length,a=Ke(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=fr("rc",i),c=fr("source",i),l="".concat(u[i-1]," < ").concat(this.outputShape[i-1]),d=1===i?"source":"vec2(".concat(c.slice(-2).join(),")"),f=["".concat(a," rc = outputLoc;"),"".concat(u[i-1]," += 1;\n       if(").concat(l,") {\n      "),1===i?"":"}\n       rc = outputLoc;\n       ".concat(u[i-2]," += 1;\n       if(").concat(u[i-2]," < ").concat(this.outputShape[i-2],") {"),1===i?"":"  ".concat(u[i-1]," += 1;\n         if(").concat(l,") {")],h=1===i?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",m="",v=0,g=1===i?2:4;v<g;v++)m+="\n        ".concat(f[v],"\n        if (").concat(h,") {\n          result[").concat(v,"] = float(value);\n        } else {\n          ").concat(a," source = rc - start;\n          result[").concat(v,"] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ");m+=1===i?"} ":"}}",this.userCode="\n      const ".concat(a," start = ").concat(a,"(").concat(o,");\n      const ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(m,"\n        setOutput(result);\n      }\n    ")})),ju=function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.paddings,o=r.constantValue;if(0===u.util.sizeFromShape(i.shape))return Jo({backend:n,attrs:{shape:a.map((function(e,t){return e[0]+i.shape[t]+e[1]})),value:o,dtype:i.dtype}});var s=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Bu(i.shape,a,o):new Fu(i.shape,a,o),c=[[o]];return n.runWebGLProgram(s,[i],i.dtype,c)},Zu={kernelName:u.PadV2,backendName:"webgl",kernelFunc:ju},Vu=ti({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),Uu={kernelName:u.Pow,backendName:"webgl",kernelFunc:Vu};var Wu={kernelName:u.Prod,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.axis,s=i.keepDims,l=a.shape.length,d=[],f=u.util.parseAxisParam(o,a.shape),p=f,h=u.backend_util.getAxesPermutation(p,l),m=a;if(null!=h&&(m=wi({inputs:{x:a},backend:r,attrs:{perm:h}}),p=u.backend_util.getInnerMostAxes(p.length,l),d.push(m)),u.backend_util.assertAxesAreInnerMostDims("prod",p,l),r.shouldExecuteOnCPU([m])){var v=r.texData.get(m.dataId).values,g=zn(m.shape,m.dtype,v,p),y=g.outVals,b=g.outShape,w=g.outDtype;t=r.makeTensorInfo(b,w,y)}else{var k=u.backend_util.computeOutAndReduceShapes(m.shape,p),x=(0,c.Z)(k,2),_=x[0],S=x[1],E=u.util.sizeFromShape(S),C=li({inputs:{x:m},backend:r,attrs:{shape:[-1,E]}}),T=hi(C,(0,u.sumOutType)(a.dtype),"prod",r);t=li({inputs:{x:T},backend:r,attrs:{shape:_}}),d.push(C),d.push(T)}if(s){d.push(t);var A=u.backend_util.expandShapeToKeepDim(t.shape,f);t=li({inputs:{x:t},backend:r,attrs:{shape:A}})}return d.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),t}},Hu=function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.step,o=n.dtype,s=Gn(r,i,a,o);return t.makeTensorInfo([s.length],o,s)},zu={kernelName:u.Range,backendName:"webgl",kernelFunc:Hu},Gu=ei({opSnippet:"return 1.0 / x;"}),qu={kernelName:u.Reciprocal,backendName:"webgl",kernelFunc:Gu},Ku=ei({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Yu={kernelName:u.Relu,backendName:"webgl",kernelFunc:Ku},Xu=ei({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Qu={kernelName:u.Relu6,backendName:"webgl",kernelFunc:Xu},Ju=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],d=o[3];this.outputShape=[s,n,r,d];var f,h=[i&&n>1?u-1:u,i&&r>1?l-1:l],m=[i&&n>1?n-1:n,i&&r>1?r-1:r];f=a?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/m[0],",\n          ").concat(h[1]/m[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(f,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")})),$u=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],d=o[3];this.outputShape=[s,n,r,d];var f,h=[i&&n>1?u-1:u,i&&r>1?l-1:l],m=[i&&n>1?n-1:n,i&&r>1?r-1:r];f=a?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/m[0],",\n          ").concat(h[1]/m[1],",\n          ").concat(h[1]/m[1],");\n      const vec3 inputShapeRC = vec3(").concat(u,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(f,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(d-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}));var ec={kernelName:u.ResizeBilinear,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=r.alignCorners,o=r.halfPixelCenters,s=r.size,l=(0,c.Z)(s,2),d=l[0],f=l[1],p=(0,u.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new $u(i.shape,d,f,a,o):new Ju(i.shape,d,f,a,o);return n.runWebGLProgram(p,[i],"float32")}},tc=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var i=(0,c.Z)(n,3),a=i[1],o=i[2],s=(0,c.Z)(t,3),u=s[1],l=s[2],d=[r&&u>1?a-1:a,r&&l>1?o-1:o],f=[r&&u>1?u-1:u,r&&l>1?l-1:l],h=d[0]/f[0],m=d[1]/f[1],v=1/h,g=1/m,y=2*Math.ceil(v)+2,b=2*Math.ceil(g)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(m,");\n\n        const float invHeightScale = float(").concat(v,");\n        const float invWidthScale = float(").concat(g,");\n\n        const int winHeight = int(").concat(y,");\n        const int winWidth = int(").concat(b,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(u,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(a-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(o-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var nc={kernelName:u.ResizeBilinearGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=t.dy,o=r.alignCorners,s=new tc(a.shape,i.shape,o);return n.runWebGLProgram(s,[a],a.dtype)}},rc=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],d=o[3];this.outputShape=[s,n,r,d];var f,h=[i&&n>1?u-1:u,i&&r>1?l-1:l],m=[i&&n>1?n-1:n,i&&r>1?r-1:r],v=i?"0.5":"0.0";f=a?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/m[0],",\n          ").concat(h[1]/m[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(f,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(v,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")})),ic=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],d=o[3];this.outputShape=[s,n,r,d];var f,h=[i&&n>1?u-1:u,i&&r>1?l-1:l],m=[i&&n>1?n-1:n,i&&r>1?r-1:r],v=i?"0.5":"0.0";f=a?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/m[0],",\n          ").concat(h[1]/m[1],",\n          ").concat(h[1]/m[1],");\n      const vec3 inputShapeRC = vec3(").concat(u,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(f,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(v,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(d-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}));var ac={kernelName:u.ResizeNearestNeighbor,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=r.alignCorners,o=r.halfPixelCenters,s=r.size,l=(0,c.Z)(s,2),d=l[0],f=l[1],p=(0,u.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ic(i.shape,d,f,a,o):new rc(i.shape,d,f,a,o);return n.runWebGLProgram(p,[i],i.dtype)}},oc=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var i=(0,c.Z)(n,3),a=i[1],o=i[2],s=(0,c.Z)(t,3),u=s[1],l=s[2],d=[r&&u>1?a-1:a,r&&l>1?o-1:o],f=[r&&u>1?u-1:u,r&&l>1?l-1:l],h=d[0]/f[0],m=d[1]/f[1],v=1/h,g=1/m,y=2*Math.ceil(v)+2,b=2*Math.ceil(g)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(m,");\n\n        const float invHeightScale = float(").concat(v,");\n        const float invWidthScale = float(").concat(g,");\n\n        const int winHeight = int(").concat(y,");\n        const int winWidth = int(").concat(b,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(u,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(d[0],") *\n                (float(dyR) / float(").concat(f[0],"));\n\n            float sourceFracCol =\n                float(").concat(d[1],") *\n                  (float(dyC) / float(").concat(f[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(a,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var sc={kernelName:u.ResizeNearestNeighborGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=t.dy,o=r.alignCorners,s=new oc(a.shape,i.shape,o);return n.runWebGLProgram(s,[a],a.dtype)}},uc=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=t,1!==r){var i=t.map((function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - coords[").concat(e,"] - 1"):"coords[".concat(e,"]")}(r)})).join(","),a=Ke(r);this.userCode="\n      void main() {\n        ".concat(a," coords = getOutputCoords();\n        setOutput(getX(").concat(i,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(t[0]," - coord - 1));\n        }\n      ")})),cc=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=t;var i=fr("rc",r),a="".concat(i[r-1]," + 1 < ").concat(this.outputShape[r-1]),o="".concat(i[r-2]," + 1 < ").concat(this.outputShape[r-2]),s=Ke(r);function u(e){var r=t.map((function(r,i){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - ").concat(r[e]," - 1"):"".concat(r[e])}(i,e)})),i=r.join(","),a=r.slice(-2).join(",");return"getChannel(getX(".concat(i,"), vec2(").concat(a,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n            ").concat(t[0]," - rc - 1);\n          if(").concat(a,"){\n              result.g = getChannel(getX(").concat(t[0]," - (rc  + 1) - 1),\n                ").concat(t[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(s," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return u(e)}(i.slice()),";\n          if(").concat(a,"){\n            result.g = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",u(e)}(i.slice()),";\n          }\n          if(").concat(o,") {\n            result.b = ").concat(function(e){return e[r-2]="("+e[r-2]+" + 1)",u(e)}(i.slice()),";\n            if(").concat(a,") {\n              result.a = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",u(e)}(i.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}));var lc={kernelName:u.Reverse,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.dims,o=i.shape.length,s=u.util.parseAxisParam(a,i.shape);if(0===o)return Hr({inputs:{x:i},backend:n});var c=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new cc(i.shape,s):new uc(i.shape,s);return n.runWebGLProgram(c,[i],i.dtype)}},dc=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var r=t[1],i=t[2];this.outputShape=t;var a="";a="number"===typeof n?"float outputValue = ".concat(n.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(a,"\n          if(coordX >= 0 && coordX < ").concat(i," && coordY >= 0 && coordY < ").concat(r,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),fc={kernelName:u.RotateWithOffset,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.image,a=n.radians,o=n.fillValue,s=n.center,l=r,d=new dc(i.shape,o),f=u.backend_util.getImageCenter(s,i.shape[1],i.shape[2]),p=(0,c.Z)(f,2),h=[[p[0],p[1],Math.sin(a),Math.cos(a)]];return l.runWebGLProgram(d,[i],i.dtype,h)}},pc=ei({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),hc={kernelName:u.Round,backendName:"webgl",kernelFunc:pc},mc=ei({opSnippet:"return inversesqrt(x);",cpuKernelImpl:qn}),vc={kernelName:u.Rsqrt,backendName:"webgl",kernelFunc:mc},gc=(0,h.Z)((function e(t,n,r,i,a,o){(0,p.Z)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=Ke(a.length),u=Ke(o.length),c="";1===r?c="i":2===r&&(c="i, j");var l="getIndices(".concat(c,")"),d="";1===i?d="i":2===i&&(d="i, coords[1]");var f="getUpdates(".concat(d,")"),h=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(s," strides = ").concat(s,"(").concat(a,");\n\n        void main() {\n          ").concat(u," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(t,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(l,");\n              flattenedIndex += index * ").concat(h,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(f,";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ")}));var yc={kernelName:u.ScatterNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.indices,a=t.updates,o=r.shape,s=u.backend_util.calculateShapes(a,i,o),c=s.sliceRank,l=s.numUpdates,d=s.sliceSize,f=s.strides,p=s.outputSize,h=[p/d,d];if(0===p)return n.makeTensorInfo(o,i.dtype);var m=li({inputs:{x:i},backend:n,attrs:{shape:[l,c]}}),v=li({inputs:{x:a},backend:n,attrs:{shape:[l,d]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0])),y=new gc(l,c,m.shape.length,v.shape.length,f,h),b=n.runWebGLProgram(y,[v,m,g],v.dtype),w=li({inputs:{x:b},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(g),w}},bc=(0,h.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,r];var a="for (int i = 0; i < ".concat(Math.ceil(Math.log2(n+1)),"; ++i) { if (left >= right) break;"),o=2===(0,u.env)().getNumber("WEBGL_VERSION")?"while (left < right) {":a,s="left"===i?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(o,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(s," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}));var wc={kernelName:u.SearchSorted,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.sortedSequence,a=t.values,o=r.side,s=new bc(i.shape[0],i.shape[1],a.shape[1],o),u=[[i.shape[1]]];return n.runWebGLProgram(s,[i,a],"int32",u)}},kc=(0,h.Z)((function e(t,n,r){var i,a;if((0,p.Z)(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)a="resRC",i="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],u=[],c=0;c<n.length;c++)u.push("".concat(o[c])),c<t&&s.push("".concat(o[c]));i=s.join(),a=u.join()}var l=Ke(r);this.userCode="\n      void main() {\n        ".concat(l," resRC = getOutputCoords();\n        float cVal = getC(").concat(i,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(a,"));\n        } else {\n          setOutput(getB(").concat(a,"));\n        }\n      }\n    ")}));var xc={kernelName:u.Select,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,i=t.t,a=t.e,o=new kc(r.shape.length,i.shape,i.shape.length);return n.runWebGLProgram(o,[r,i,a],(0,u.upcastType)(i.dtype,a.dtype))}},_c=ei({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(u.backend_util.SELU_SCALEALPHA,";\n  float scale = ").concat(u.backend_util.SELU_SCALE,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),Sc={kernelName:u.Selu,backendName:"webgl",kernelFunc:_c},Ec=ei({opSnippet:"if (isnan(x)) return x;\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Yn}),Cc={kernelName:u.Sigmoid,backendName:"webgl",kernelFunc:Ec},Tc=ei({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),Ac={kernelName:u.Sign,backendName:"webgl",kernelFunc:Tc},Oc=ei({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"}),Rc={kernelName:u.Sin,backendName:"webgl",kernelFunc:Oc},Ic=ei({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),Nc={kernelName:u.Sinh,backendName:"webgl",kernelFunc:Ic},Pc=ei({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Mc={kernelName:u.Softplus,backendName:"webgl",kernelFunc:Pc},Lc={kernelName:u.SpaceToBatchND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockShape,o=r.paddings;u.util.assert(i.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var s=a.reduce((function(e,t){return e*t})),c=[[0,0]];c.push.apply(c,(0,d.Z)(o));for(var l=1+a.length;l<i.shape.length;++l)c.push([0,0]);var f=[],p=ju({inputs:{x:i},backend:n,attrs:{paddings:c,constantValue:0}}),h=u.backend_util.getReshaped(p.shape,a,s,!1),m=u.backend_util.getPermuted(h.length,a.length,!1),v=u.backend_util.getReshapedPermuted(p.shape,a,s,!1),g=li({inputs:{x:p},backend:n,attrs:{shape:h}}),y=wi({inputs:{x:g},backend:n,attrs:{perm:m}}),b=li({inputs:{x:y},backend:n,attrs:{shape:v}});return f.push(p),f.push(g),f.push(y),f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}};var Dc={kernelName:u.SparseFillEmptyRows,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,i=t.values,a=t.denseShape,o=t.defaultValue;if(1!==a.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(a.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==i.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(i.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));var s=n.readSync(r.dataId),u=n.readSync(i.dataId),l=n.readSync(a.dataId),d=n.readSync(o.dataId)[0],f=Jn(s,r.shape,r.dtype,u,i.dtype,l,d),p=(0,c.Z)(f,5),h=p[0],m=p[1],v=p[2],g=p[3],y=p[4];return[n.makeTensorInfo(m,r.dtype,h),n.makeTensorInfo([m[0]],i.dtype,v),n.makeTensorInfo([g.length],"bool",new Uint8Array(g.map((function(e){return Number(e)})))),n.makeTensorInfo([y.length],r.dtype,new Int32Array(y))]}};var Fc={kernelName:u.SparseReshape,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,i=t.inputShape,a=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==i.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(i.shape));if(1!==a.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(a.shape));var o=Array.from(n.readSync(i.dataId)),s=n.readSync(r.dataId),u=Array.from(n.readSync(a.dataId)),l=$n(s,r.shape,r.dtype,o,u),d=(0,c.Z)(l,3),f=d[0],p=d[1],h=d[2];return[n.makeTensorInfo(p,r.dtype,f),n.makeTensorInfo([h.length],a.dtype,new Int32Array(h))]}};var Bc={kernelName:u.SparseSegmentMean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(a.shape));var o=n.readSync(r.dataId),s=n.readSync(i.dataId),u=n.readSync(a.dataId),l=er(o,r.shape,r.dtype,s,u,!0),d=(0,c.Z)(l,2),f=d[0],p=d[1];return n.makeTensorInfo(p,r.dtype,f)}};var jc={kernelName:u.SparseSegmentSum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(a.shape));var o=n.readSync(r.dataId),s=n.readSync(i.dataId),u=n.readSync(a.dataId),l=er(o,r.shape,r.dtype,s,u),d=(0,c.Z)(l,2),f=d[0],p=d[1];return n.makeTensorInfo(p,r.dtype,f)}};var Zc={kernelName:u.SparseToDense,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.sparseIndices,a=t.sparseValues,o=t.defaultValue,s=r.outputShape,c=u.backend_util.calculateShapes(a,i,s),l=c.sliceRank,d=c.numUpdates,f=c.sliceSize,p=c.strides,h=c.outputSize;if("string"===a.dtype){var m=n.bufferSync(i),v=n.bufferSync(a),g=u.util.decodeString(n.readSync(o.dataId)[0]),y=Kn(m,v,s,h,f,d,l,p,g,false);return n.makeTensorInfo(s,y.dtype,y.values)}var b=new gc(d,l,i.shape.length,a.shape.length,p,[h,1],false),w=n.runWebGLProgram(b,[a,i,o],a.dtype),k=li({inputs:{x:w},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(w),k}};var Vc={kernelName:u.SplitV,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.numOrSizeSplits,o=r.axis,s=u.util.parseAxisParam(o,i.shape)[0],c=u.backend_util.prepareSplitSize(i,a,s),l=i.shape.length,f=new Array(l).fill(0),p=i.shape.slice();return c.map((function(e){var t=(0,d.Z)(p);t[s]=e;var r=va({inputs:{x:i},backend:n,attrs:{begin:f,size:t}});return f[s]+=e,r}))}},Uc="return sqrt(x);",Wc=ei({opSnippet:Uc,packedOpSnippet:Uc,cpuKernelImpl:tr}),Hc={kernelName:u.Sqrt,backendName:"webgl",kernelFunc:Wc},zc=ei({opSnippet:"return x * x;"}),Gc={kernelName:u.Square,backendName:"webgl",kernelFunc:zc},qc="return (a - b) * (a - b);",Kc=ti({opSnippet:qc,packedOpSnippet:qc}),Yc={kernelName:u.SquaredDifference,backendName:"webgl",kernelFunc:Kc};var Xc={kernelName:u.Step,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=wr+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),o=new br(i.shape,a);return r.runWebGLProgram(o,[i],i.dtype)}},Qc=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=r;var i=r.length,a=Ke(r.length),o=Ke(r.length),s="";if(1===i)s="coords * strides + begin";else{var u=0;s=r.map((function(e,t){return u++,1===r.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(u-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")})).join(",")}this.userCode="\n      ".concat(a," begin = ").concat(a,"(").concat(t,");\n      ").concat(a," strides = ").concat(a,"(").concat(n,");\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(s,"));\n      }\n    ")}));var Jc={kernelName:u.StridedSlice,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.begin,s=i.end,c=i.strides,l=i.beginMask,d=i.endMask,f=i.ellipsisMask,p=i.newAxisMask,h=i.shrinkAxisMask,m=u.slice_util.sliceInfo(a.shape,o,s,c,l,d,f,p,h),v=m.finalShapeSparse,g=m.finalShape,y=m.isIdentity,b=m.sliceDim0,w=m.isSimpleSlice,k=m.begin,x=m.end,_=m.strides;if(y)t=li({inputs:{x:a},backend:r,attrs:{shape:g}});else if(b||w){u.util.assert(a.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(a.shape.length)}));var S=u.slice_util.computeOutShape(k,x,_),E=va({inputs:{x:a},backend:r,attrs:{begin:k,size:S}});t=li({inputs:{x:E},backend:r,attrs:{shape:g}}),r.disposeIntermediateTensorInfo(E)}else{if(r.shouldExecuteOnCPU([a])){var C=r.readSync(a.dataId),T=(0,u.buffer)(a.shape,a.dtype,C),A=nr(v,T,_,k);t=r.makeTensorInfo(g,a.dtype,A.values)}else{var O=new Qc(k,_,v);t=r.runWebGLProgram(O,[a],a.dtype)}}var R=li({inputs:{x:t},backend:r,attrs:{shape:g}});return r.disposeIntermediateTensorInfo(t),R}};var $c={kernelName:u.StringNGrams,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=r.separator,a=r.nGramWidths,o=r.leftPad,s=r.rightPad,u=r.padWidth,l=r.preserveShortSequences,d=t.data,f=t.dataSplits,p=n.readSync(d.dataId),h=n.readSync(f.dataId),m=rr(p,h,i,a,o,s,u,l),v=(0,c.Z)(m,2),g=v[0],y=v[1];return[n.makeTensorInfo([g.length],"string",g),n.makeTensorInfo(f.shape,"int32",y)]}};var el={kernelName:u.StringSplit,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,i=t.input,a=t.delimiter;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error("Input must be a vector, got shape: ".concat(i.shape));if(0!==a.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(a.shape));var o=n.readSync(i.dataId),s=n.readSync(a.dataId)[0],u=ir(o,s,r),l=(0,c.Z)(u,3),d=l[0],f=l[1],p=l[2],h=f.length;return[n.makeTensorInfo([h,2],"int32",d),n.makeTensorInfo([h],"string",f),n.makeTensorInfo([2],"int32",new Int32Array(p))]}};var tl={kernelName:u.StringToHashBucketFast,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,i=t.input;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var a=n.readSync(i.dataId),o=ar(a,r);return n.makeTensorInfo(i.shape,"int32",o)}},nl=ei({opSnippet:"return tan(x);"}),rl={kernelName:u.Tan,backendName:"webgl",kernelFunc:nl},il=ei({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),al={kernelName:u.Tanh,backendName:"webgl",kernelFunc:il},ol=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[i]*n[i];this.outputShape=r,this.rank=r.length;var a=Ke(this.rank),o=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<e.length;i++)r.push("imod(".concat(n[i],", ").concat(e[i],")"));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(a," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")}));function sl(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.reps;if("string"===i.dtype||i.shape.length>5){var o=n.readSync(i.dataId),s="string"===i.dtype?o.map((function(e){return u.util.decodeString(e)})):o,c=(0,u.buffer)(i.shape,i.dtype,s),l=sr(c,a);return n.makeTensorInfo(l.shape,l.dtype,l.values)}var d=new ol(i.shape,a);return n.runWebGLProgram(d,[i],i.dtype)}var ul={kernelName:u.Tile,backendName:"webgl",kernelFunc:sl},cl=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "})),ll=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}));function dl(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function fl(e){for(var t=1;t<e;)t*=2;return t}var pl={kernelName:u.TopK,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.k,o=r.sorted,s=(0,u.env)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=(0,u.env)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),d=i.shape,f=d[d.length-1];if(n.shouldExecuteOnCPU([i])||f<s||a>l){var p=n.readSync(i.dataId),h=ur(p,d,i.dtype,a,o),m=(0,c.Z)(h,2),v=m[0],g=m[1];return[n.makeTensorInfo(v.shape,v.dtype,v.values),n.makeTensorInfo(g.shape,g.dtype,g.values)]}if(0===a)return d[d.length-1]=0,[n.makeTensorInfo(d,i.dtype,[]),n.makeTensorInfo(d,"int32",[])];if(1===f)return[i,Jo({attrs:{shape:d,dtype:"int32",value:0},backend:n})];var y=n.texData.get(i.dataId),b=null!==y&&y.isPacked,w=b?n.unpackTensor(i):i,k=u.util.sizeFromShape(d)/f,x=li({inputs:{x:w},attrs:{shape:[k,f]},backend:n});b&&dl(n,w);for(var _=fl(a),S=fl(f),E=null,C=function(){return null===E?[x,x]:[x,E]},T=function(e,t,r){var i=C(),a=new cl(r),o=[[f],[null===E?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=E;E=n.runWebGLProgram(a,i,"int32",o),dl(n,s)},A=1;A<_;A*=2)for(var O=2*A,R=A;R>=1;R/=2)T(O,R,[k,S]);for(var I=S;I>_;I/=2){var N=C(),P=new ll([k,I/2]),M=[[f],[null===E?1:0],[_]],L=E;E=n.runWebGLProgram(P,N,"int32",M),dl(n,L);for(var D=_/2,F=2*D,B=D;B>=1;B/=2)T(F,B,E.shape)}var j=E;E=va({inputs:{x:E},backend:n,attrs:{begin:0,size:[k,a]}}),dl(n,j);var Z=vs({inputs:{x:x,indices:E},backend:n,attrs:{axis:1,batchDims:1}});dl(n,x);var V=d.slice(0,-1);V.push(a),j=E,E=li({inputs:{x:E},attrs:{shape:V},backend:n}),dl(n,j);var U=Z;return Z=li({inputs:{x:Z},attrs:{shape:V},backend:n}),dl(n,U),[Z,E]}},hl=(0,h.Z)((function e(t,n,r,i,a,o){(0,p.Z)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=o;var s,u="nearest"===r?1:2;switch(i){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(s," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(a,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(a,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(t,"));\n\n                if (").concat(u," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}));var ml={kernelName:u.Transform,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.image,a=t.transforms,o=r.interpolation,s=r.fillMode,u=r.fillValue,l=r.outputShape,d=(0,c.Z)(i.shape,4),f=d[0],p=d[1],h=d[2],m=d[3],v=null!=l?l:[p,h],g=(0,c.Z)(v,2),y=g[0],b=g[1],w=new hl(p,h,o,s,u,[f,y,b,m]);return n.runWebGLProgram(w,[i,a],"float32")}};var vl={kernelName:u.Unique,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=n.axis,a=t.x;ke(a,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var o=r.readSync(a.dataId),s=lr(o,i,a.shape,a.dtype),u=s.outputValues,c=s.outputShape,l=s.indices;return[r.makeTensorInfo(c,a.dtype,u),r.makeTensorInfo([l.length],"int32",l)]}};var gl={kernelName:u.Unpack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.value,a=r.axis;a<0&&(a+=i.shape.length);for(var o=i,s=o.shape.length,u=i.shape[a],c=new Array(s-1),l=0,d=0;d<s;d++)d!==a&&(c[l++]=o.shape[d]);var f=[],p=new Array(s).fill(0),h=o.shape.slice();h[a]=1;for(var m=new Array(u),v=0;v<m.length;v++){p[a]=v;var g=va({inputs:{x:o},backend:n,attrs:{begin:p,size:h}}),y=li({inputs:{x:g},backend:n,attrs:{shape:c}});m[v]=y,f.push(g)}return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),m}},yl=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,i=t.batchSize,a=t.inSize,o=t.numSegments,s=o*Math.ceil(a/r);this.outputShape=[i,s];var u=4*Math.floor(r/4),c=r%4,l="\n        sumValue += dot(values, segFilter);\n    ",d="";a%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return initializationValue;\n        }\n      "));var f="";a%r>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(f,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(o,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(o,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(l,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}));for(var bl=0,wl=[_i,Ei,Ti,Oi,Ni,Li,Di,Fi,Wi,Hi,Gi,Ki,Xi,Ji,ea,ra,ia,sa,ua,ca,fa,ya,ba,wa,Ea,Aa,Ia,qr,Ma,Ua,Ka,$a,eo,to,no,io,oo,uo,lo,vo,go,yo,wo,_o,Co,To,Oo,Io,Po,Lo,Do,Bo,Zo,Uo,Ho,qo,Xo,es,ns,as,ss,ls,ds,fs,hs,gs,bs,ks,zr,xs,ja,Ss,Cs,As,Xr,Rs,Ns,Ps,Ls,Fs,js,Vs,Ws,Gs,Ks,Xs,Js,$s,eu,ru,iu,au,ou,su,cu,fu,hu,_u,ci,Su,Cu,Au,Ru,xa,Nu,Lu,Du,Zu,Uu,$r,Wu,zu,Sa,gu,qu,Yu,Qu,di,ec,nc,ac,sc,lc,fc,hc,vc,yc,wc,xc,Sc,Cc,Ac,Rc,Nc,ga,xu,Mc,Lc,Dc,Fc,Bc,jc,Zc,Vc,Hc,Gc,Yc,Xc,Jc,$c,el,tl,wu,bi,rl,al,ul,pl,ml,ki,vl,gl,{kernelName:u.UnsortedSegmentSum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.segmentIds,o=r.numSegments,s=i.shape.length,c=[],l=0,d=u.backend_util.getAxesPermutation([l],s),f=i;null!=d&&(f=wi({inputs:{x:i},backend:n,attrs:{perm:d}}),c.push(f),l=u.backend_util.getInnerMostAxes(1,s)[0]);var p=u.backend_util.segment_util.computeOutShape(f.shape,l,o),h=u.util.sizeFromShape([f.shape[l]]),m=li({inputs:{x:f},backend:n,attrs:{shape:[-1,h]}});c.push(m);var v=function e(t,r,i,a,o){var s=t.shape[0],l=t.shape[1],d=u.backend_util.segment_util.segOpComputeOptimalWindowSize(l,o),f=new yl({windowSize:d,inSize:l,batchSize:s,numSegments:o},r),p=n.compileAndRun(f,[t,i],a);if(c.push(p),p.shape[1]===o)return p;var h=Hu({backend:n,attrs:{start:0,stop:o,step:1,dtype:"float32"}}),m=sl({inputs:{x:h},backend:n,attrs:{reps:[l/d]}});return c.push(h),c.push(m),e(p,r,m,a,o)}(m,"unsortedSegmentSum",a,(0,u.sumOutType)(i.dtype),o),g=li({inputs:{x:v},backend:n,attrs:{shape:p}}),y=g;if(null!=d){c.push(g);var b=u.backend_util.getUndoAxesPermutation(d);y=wi({inputs:{x:y},backend:n,attrs:{perm:b}})}return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}},Mu];bl<wl.length;bl++){var kl=wl[bl];(0,u.registerKernel)(kl)}},54679:function(e,t,n){"use strict";n.d(t,{JL:function(){return a},Zu:function(){return o}});var r=n(15671),i=n(43144),a=function(){function e(t,n){(0,r.Z)(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return(0,i.Z)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),o=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"refCount",value:function(e){return s("refCount")}},{key:"incRef",value:function(e){return s("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return s("time")}},{key:"read",value:function(e){return s("read")}},{key:"readSync",value:function(e){return s("readSync")}},{key:"readToGPU",value:function(e,t){return s("readToGPU")}},{key:"numDataIds",value:function(){return s("numDataIds")}},{key:"disposeData",value:function(e,t){return s("disposeData")}},{key:"write",value:function(e,t,n){return s("write")}},{key:"move",value:function(e,t,n,r,i){return s("move")}},{key:"memory",value:function(){return s("memory")}},{key:"floatPrecision",value:function(){return s("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return s("dispose")}}]),e}();function s(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}},60745:function(e,t,n){"use strict";n.d(t,{GP:function(){return o},qP:function(){return s},pA:function(){return u}});var r=n(93433);function i(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,i=e.length,a=0,o=!1;for(;r<i;){var s=n(t,e[a=r+(i-r>>>1)]);s>0?r=a+1:(i=a,o=!s)}return o?r:-r-1}(e,t,n||a)}(e,t,n),i=r<0?-(r+1):r;e.splice(i,0,t)}function a(e,t){return e>t?1:e<t?-1:0}function o(e,t,n,r,i){return c(e,t,n,r,i,0)}function s(e,t,n,r,i,a){return c(e,t,n,r,i,0,!1,a,!0)}function u(e,t,n,r,i,a){return c(e,t,n,r,i,a,!0)}function c(e,t,n,a,o,s){for(var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=[],m=0;m<t.length;m++)t[m]>o&&h.push({score:t[m],boxIndex:m,suppressBeginIndex:0});h.sort(f);for(var v=s>0?-.5/s:0,g=[],y=[];g.length<n&&h.length>0;){var b=h.pop(),w=b.score,k=b.boxIndex,x=b.suppressBeginIndex;if(w<o)break;for(var _=!1,S=g.length-1;S>=x;--S){var E=l(e,k,g[S]);if(E>=a){_=!0;break}if(b.score=b.score*d(a,v,E),b.score<=o)break}b.suppressBeginIndex=g.length,_||(b.score===w?(g.push(k),y.push(b.score)):b.score>o&&i(h,b,f))}var C=g.length,T=n-C;c&&T>0&&(g.push.apply(g,(0,r.Z)(new Array(T).fill(0))),y.push.apply(y,(0,r.Z)(new Array(T).fill(0))));var A={selectedIndices:g};return u&&(A.selectedScores=y),p&&(A.validOutputs=C),A}function l(e,t,n){var r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(i[0],i[2]),l=Math.min(i[1],i[3]),d=Math.max(i[0],i[2]),f=Math.max(i[1],i[3]),p=(s-a)*(u-o),h=(d-c)*(f-l);if(p<=0||h<=0)return 0;var m=Math.max(a,c),v=Math.max(o,l),g=Math.min(s,d),y=Math.min(u,f),b=Math.max(g-m,0)*Math.max(y-v,0);return b/(p+h-b)}function d(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function f(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}},24189:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(77039);function i(e,t){for(var n=[],i=0;i<t.length;i++)t[i]&&n.push(i);for(var a=(0,r.f)(e,"int32"),o=(0,r.f)([n.length,e.length],"int32"),s=0;s<n.length;s++){var u=a.indexToLoc(n[s]),c=s*e.length;o.values.set(u,c)}return o.toTensor()}},70318:function(e,t,n){"use strict";n.d(t,{BV:function(){return A},wv:function(){return T}});var r=n(37762),i=n(93433),a=n(74165),o=n(15861),s=n(15671),u=n(43144),c=n(54679),l=n(35050),d=n(96581),f=n(32145),p=n(78864),h=n(17269),m=n(70115),v=n(36147),g=function(){function e(t,n){(0,s.Z)(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new y)}return(0,u.Z)(e,[{key:"profileKernel",value:function(e,t,n){var i,a,o=function(){i=n()},s=m.now();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(o);else{o();var u,c=(0,r.Z)(i);try{for(c.s();!(u=c.n()).done;){u.value.dataSync()}}catch(p){c.e(p)}finally{c.f()}a=Promise.resolve({kernelMs:m.now()-s})}if((0,l.OB)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var d=function(t){var n=i[t];n.data().then((function(t){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(isNaN(i)||!isFinite(i))return console.warn("Found ".concat(i," in the result of '").concat(n,"'")),!0}}(t,n.dtype,e)}))},f=0;f<i.length;f++)d(f);return{kernelName:e,outputs:i,inputs:t,timeMs:a.then((function(e){return e.kernelMs})),extraInfo:a.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,i=e.timeMs,a=e.inputs,o=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),i,o]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],a,r[2])}))}))}}]),e}();var y=function(){function e(){(0,s.Z)(this,e)}return(0,u.Z)(e,[{key:"logKernelProfile",value:function(e,t,n,r,i,a){var o="number"===typeof r?v.oj("".concat(r,"ms"),9):r.error,s=v.oj(e,25),u=t.rank,c=t.size,l=v.oj(t.shape.toString(),14),d="";for(var f in i){var p=i[f];if(null!=p){var h=p.shape||t.shape,m=h.length;d+="".concat(f,": ").concat(m,"D ").concat(m>0?h:""," ")}}console.log("%c".concat(s,"\t%c").concat(o,"\t%c").concat(u,"D ").concat(l,"\t%c").concat(c,"\t%c").concat(d,"\t%c").concat(a),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();function b(e,t,n){for(var r={},i={},a=0;a<t.length;a++)r[t[a].id]=!0;for(var o=0;o<e.length;o++){var s=e[o],u=s.inputs;for(var c in u){for(var l=u[c],d=!1,f=0;f<t.length;f++)if(r[l.id]){s.outputs.forEach((function(e){return r[e.id]=!0})),d=!0,i[s.id]=!0;break}if(d)break}}var p={};p[n.id]=!0;for(var h={},m=e.length-1;m>=0;m--)for(var v=e[m],g=v.inputs,y=0;y<v.outputs.length;y++)if(p[v.outputs[y].id]){for(var b in g)p[g[b].id]=!0,h[v.id]=!0;break}for(var w=[],k=0;k<e.length;k++){var x=e[k];if(i[x.id]&&h[x.id]){var _={};for(var S in x.inputs){var E=x.inputs[S];r[E.id]&&(_[S]=E)}var C=Object.assign({},x);C.inputs=_,C.outputs=x.outputs,w.push(C)}}return w}function w(e,t,n,r){for(var i=function(i){var a=t[i],o=[];if(a.outputs.forEach((function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)})),null==a.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(a.kernelName,"."));var s=a.gradient(o),u=function(t){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));var i=n((function(){return s[t]()}));if("float32"!==i.dtype)throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(i.dtype,"'"));var o=a.inputs[t];if(!v.cO(i.shape,o.shape))throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(i.shape,"', which does not match ")+"the shape of the input '".concat(o.shape,"'"));if(null==e[o.id])e[o.id]=i;else{var u=e[o.id];e[o.id]=r(u,i),u.dispose()}};for(var c in a.inputs)u(c)},a=t.length-1;a>=0;a--)i(a)}var k=n(4376),x=n(99064);function _(e){return null!=e.kernelName}var S=function(){function e(){(0,s.Z)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return(0,u.Z)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),E=function(){function e(t){(0,s.Z)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new S}return(0,u.Z)(e,[{key:"ready",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=15;break}return e.next=14,this.setBackend(r);case 14:return e.abrupt("return");case 15:n++,e.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(h.Z("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=12;break}return e.next=9,r;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=r;case 13:if(e.t0){e.next=16;break}return e.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new g(this.backendInstance),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;(0,p.tr)(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;(0,p.tr)(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof c.Zu||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var i=++this.pendingBackendInitId,a=r.then((function(n){return!(i<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return i<t.pendingBackendInitId||(t.pendingBackendInit=null,h.Z("Initialization of backend ".concat(e," failed")),h.Z(n.stack||n.message)),!1}));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}catch(o){return h.Z("Initialization of backend ".concat(e," failed")),h.Z(o.stack||o.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),i=r.success,a=r.asyncInit;if(a||i)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t),a=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,i,n.shape,n.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,i=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}return this.scopedRun((function(){return r.startScope(i)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(i){throw t(),i}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=A.runKernel(f.iJ,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return A.runKernel(f.RF,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,!(null!=(0,p.pI)(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),i=0;n.forEach((function(e){i+="complex64"===e.dtype?3:1}));var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-i-a;if(o>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(o," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r,i=this,a=[],o=this.isTapeOn(),s=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var c=_(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(_(e)){var l=e.kernelName,d=e.inputs,f=e.attrs;null==this.backendName&&this.backend;var h=(0,p.pI)(l,this.backendName);v.hu(null!=h,(function(){return"Cannot find registered kernel '".concat(l,"' for backend '").concat(i.backendName,"'")})),n=function(){var e=i.backend.numDataIds();r=h.kernelFunc({inputs:d,attrs:f,backend:i.backend});var t=Array.isArray(r)?r:[r];i.shouldCheckForMemLeaks()&&i.checkKernelForMemLeak(l,e,t);var n=t.map((function(e){return null!=e.rank?e:i.makeTensorFromTensorInfo(e)}));if(o){var s=i.getTensorsForGradient(l,d,n);a=i.saveTensorsForBackwardMode(s)}return n}}else{var m=e.forwardFunc,g=function(e){o&&(a=e.map((function(e){return i.keep(i.clone(e))})))};n=function(){var e=i.backend.numDataIds();r=i.tidy((function(){return m(i.backend,g)}));var t=Array.isArray(r)?r:[r];return i.shouldCheckForMemLeaks()&&i.checkKernelForMemLeak(c,e,t),t}}var y,b=e.inputs,w=e.attrs,k=_(e)?null:e.backwardsFunc;return this.scopedRun((function(){return i.state.kernelDepth++}),(function(){return i.state.kernelDepth--}),(function(){i.ENV.getBool("DEBUG")||i.state.profiling?(y=i.profiler.profileKernel(c,b,(function(){return n()})),i.ENV.getBool("DEBUG")&&i.profiler.logKernelProfile(y),t=y.outputs):t=n()})),o&&this.addTapeNode(c,b,t,k,a,w),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(b).map((function(e){return null!=b[e]?b[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:y.timeMs,extraInfo:y.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this,n=e.map((function(e){return t.keep(t.clone(e))}));return n}},{key:"getTensorsForGradient",value:function(e,t,n){var r=(0,p.uk)(e);if(null!=r){var i,a=r.inputsToSave||[],o=r.outputsToSave||[];r.saveAllInputs?(v.hu(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),i=Object.keys(t).map((function(e){return t[e]}))):i=a.map((function(e){return t[e]}));var s=n.filter((function(e,t){return o[t]}));return i.concat(s)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var i=e;"string"===n&&v.HD(e[0])&&(i=e.map((function(e){return m.encodeString(e)})));var a=r.write(i,t,n),o=new k.es(t,n,a,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){var s=this.state.tensorInfo.get(a),u=(0,v.Ub)(i);this.state.numBytes+=u-s.bytes,s.bytes=u}return o}},{key:"makeTensorFromDataId",value:function(e,t,n,r){var i={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(i,r)}},{key:"makeTensorFromTensorInfo",value:function(e,t){var n=e.dataId,r=e.shape,i=e.dtype,a=new k.es(r,i,n,this.nextTensorId());return this.trackTensor(a,t),a}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var i=new k._w(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error("Variable with name ".concat(i.name," was already registered"));return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*v.bT(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof k._w||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*v.bT(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,o,s,u,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,o=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=6,t();case 6:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,(0,i.Z)(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-o,s=(0,r.Z)(this.state.activeProfile.kernels),e.prev=12,s.s();case 14:if((u=s.n()).done){e.next=24;break}return c=u.value,e.next=18,c.kernelTimeMs;case 18:return c.kernelTimeMs=e.sent,e.next=21,c.extraInfo;case 21:c.extraInfo=e.sent;case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),s.e(e.t0);case 29:return e.prev=29,s.f(),e.finish(29);case 32:return e.abrupt("return",this.state.activeProfile);case 33:case"end":return e.stop()}}),e,this,[[12,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,i,a){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},u=(0,p.uk)(e);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],i=v.wT(r.size,r.dtype);return o.makeTensor(i,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],i,a)}),this.state.activeTape.push(s)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=(0,x.getTensorsInContainer)(e),r=new Set(n.map((function(e){return e.id}))),i=0;i<this.state.activeScope.track.length;i++){var a=this.state.activeScope.track[i];a.kept||r.has(a.id)||a.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==o.id||t.track(e)}))}},{key:"gradients",value:function(e,t,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(v.hu(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var o=this.scopedRun((function(){return i.startTape()}),(function(){return i.endTape()}),(function(){return i.tidy("forward",e)}));v.hu(o instanceof k.es,(function(){return"The result y returned by f() must be a tensor."}));var s=b(this.state.activeTape,t,o);if(!a&&0===s.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[o.id]=null==n?C(o.shape):n,w(e,s,(function(e){return i.tidy(e)}),O);var a=t.map((function(t){return e[t.id]}));return 0===i.state.gradientDepth&&(i.state.activeTape.forEach((function(e){var t,n=(0,r.Z)(e.saved);try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(i){n.e(i)}finally{n.f()}})),i.state.activeTape=null),{value:o,grads:a}}))}},{key:"customGrad",value:function(e){var t=this;return v.hu(v.mf(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a;v.hu(r.every((function(e){return e instanceof k.es})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var o={};r.forEach((function(e,t){o[t]=e}));var s=function(t,n){return a=e.apply(void 0,[].concat(r,[n])),v.hu(a.value instanceof k.es,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),v.hu(v.mf(a.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),a.value},u=function(e,t){var n=a.gradFunc(e,t),i=Array.isArray(n)?n:[n];v.hu(i.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),v.hu(i.every((function(e){return e instanceof k.es})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return i.forEach((function(e,t){o[t]=function(){return e}})),o};return t.runKernelFunc({forwardFunc:s,backwardsFunc:u,inputs:o})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,m.now)(),e.next=3,this.backend.time(t);case 3:return(r=e.sent).wallMs=(0,m.now)()-n,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new S,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function C(e){var t=(0,v.p8)((0,v.NA)(e),"float32");return A.makeTensor(t,e,"float32")}function T(){var e=(0,d.D)();if(null==e._tfengine){var t=new l.qA(e);e._tfengine=new E(t)}return(0,l.iG)(e._tfengine.ENV),(0,k.Vi)((function(){return e._tfengine})),e._tfengine}E.nextTensorId=0,E.nextVariableId=0;var A=T();function O(e,t){var n={a:e,b:t};return A.runKernel(f.mm,n)}},35050:function(e,t,n){"use strict";n.d(t,{OB:function(){return p},Vi:function(){return h},iG:function(){return m},qA:function(){return l}});var r=n(29439),i=n(74165),a=n(15861),o=n(15671),s=n(43144),u=n(36147),c="tfjsflags",l=function(){function e(t){(0,o.Z)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=d,this.populateURLFlags()}return(0,s.Z)(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(p().getBool("IS_TEST")||p().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];p().getBool("IS_TEST")||p().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=2;break}return e.abrupt("return",this.flags[t]);case 2:return e.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=e.sent,e.abrupt("return",this.flags[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if((0,u.tI)(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);if(c in t)t.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),i=(0,r.Z)(n,2),a=i[0],o=i[1];e.urlFlags[a]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if("".concat(+t)===t)return+t;throw new Error("Could not parse value flag value ".concat(t," for flag ").concat(e,"."))}(a,o)}))}}}]),e}();function d(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return f(t,r[0],r[1]),r.join("=")})),t}function f(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function p(){return h}var h=null;function m(e){h=e}},96581:function(e,t,n){"use strict";var r;function i(){if(null==r){var e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}r=e}return r}function a(e,t){var n=function(){var e=i();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}n.d(t,{D:function(){return i},R:function(){return a}})},35875:function(e,t,n){"use strict";n.d(t,{B9:function(){return v},CQ:function(){return b},Cd:function(){return w},Cn:function(){return g},G4:function(){return s},MX:function(){return l},N5:function(){return h},N8:function(){return d},N_:function(){return k},R:function(){return u},SR:function(){return f},VY:function(){return T},XV:function(){return y},cF:function(){return c},cj:function(){return x},jq:function(){return E},lu:function(){return m},sq:function(){return p},x3:function(){return _},y3:function(){return C},ze:function(){return S}});var r=n(70318),i=n(35050),a=n(4376),o=n(99064);function s(){(0,i.OB)().set("PROD",!0)}function u(){(0,i.OB)().set("DEBUG",!0)}function c(){(0,i.OB)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function l(e){(0,i.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function d(){r.BV.disposeVariables()}function f(){return r.BV}function p(){return r.BV.memory()}function h(e){return r.BV.profile(e)}function m(e,t){return r.BV.tidy(e,t)}function v(e){(0,o.getTensorsInContainer)(e).forEach((function(e){return e.dispose()}))}function g(e){return r.BV.keep(e)}function y(e){return r.BV.time(e)}function b(e){return r.BV.setBackend(e)}function w(){return r.BV.ready()}function k(){return r.BV.backendName}function x(e){r.BV.removeBackend(e)}function _(e){return r.BV.findBackend(e)}function S(e){return r.BV.findBackendFactory(e)}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return r.BV.registerBackend(e,t,n)}function C(){return r.BV.backend}function T(e,t){(0,i.OB)().setPlatform(e,t)}(0,a.FZ)(l)},66450:function(e,t,n){"use strict";n.d(t,{UQ:function(){return u},cb:function(){return p},fN:function(){return d},h7:function(){return l},pn:function(){return f},ti:function(){return c}});var r=n(93433),i=n(70318),a=n(4376),o=n(48354),s=n(36147);function u(e){return s.hu(s.mf(e),(function(){return"The f passed in grad(f) must be a function"})),function(t,n){var r=(0,o._1)(t,"x","tf.grad","string_or_numeric"),a=null!=n?(0,o._1)(n,"dy","tf.grad"):null;return i.BV.tidy((function(){var t=i.BV.gradients((function(){return e(r)}),[r],a),n=t.value,o=t.grads;return null!=a&&s.k5(n.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),h(o),o[0]}))}}function c(e){return s.hu(s.mf(e),(function(){return"The f passed in grads(f) must be a function"})),function(t,n){s.hu(Array.isArray(t),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var a=(0,o.sI)(t,"args","tf.grads","string_or_numeric"),u=null!=n?(0,o._1)(n,"dy","tf.grads"):null;return i.BV.tidy((function(){var t=i.BV.gradients((function(){return e.apply(void 0,(0,r.Z)(a))}),a,u),n=t.value,o=t.grads;return null!=u&&s.k5(n.shape,u.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(o),o}))}}function l(e){return s.hu(s.mf(e),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(t,n){s.hu(t instanceof a.es,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),s.hu(null==n||n instanceof a.es,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=i.BV.gradients((function(){return e(t)}),[t],n),o=r.grads,u=r.value;return h(o),{grad:o[0],value:u}}}function d(e){return s.hu(s.mf(e),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(t,n){s.hu(Array.isArray(t)&&t.every((function(e){return e instanceof a.es})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),s.hu(null==n||n instanceof a.es,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var o=i.BV.gradients((function(){return e.apply(void 0,(0,r.Z)(t))}),t,n);return null!=n&&s.k5(o.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(o.grads),o}}function f(e,t){s.hu(s.mf(e),(function(){return"The f passed in variableGrads(f) must be a function"})),s.hu(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof a._w})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],i.BV.registeredVariables)t.push(i.BV.registeredVariables[r]);var o=n?t.filter((function(e){return!e.trainable})):null,u=t.length;t=t.filter((function(e){return e.trainable})),s.hu(t.length>0,(function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(u," variables is ")+"trainable."}));var c=i.BV.gradients(e,t,null,!0),l=c.value,d=c.grads;s.hu(d.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),s.hu(0===l.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(l.rank," tensor")}));var f={};return t.forEach((function(e,t){null!=d[t]&&(f[e.name]=d[t])})),null!=o&&o.forEach((function(e){return f[e.name]=null})),{value:l,grads:f}}function p(e){return i.BV.customGrad(e)}function h(e){if(e.filter((function(e){return null==e})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},87105:function(e,t,n){"use strict";n.r(t),n.d(t,{Abs:function(){return bt.SY},Acos:function(){return bt.VG},Acosh:function(){return bt.Sp},AdadeltaOptimizer:function(){return Sn},AdagradOptimizer:function(){return Cn},AdamOptimizer:function(){return On},AdamaxOptimizer:function(){return Nn},Add:function(){return bt.mm},AddN:function(){return bt.Xz},All:function(){return bt.oT},Any:function(){return bt.IK},ArgMax:function(){return bt.sJ},ArgMin:function(){return bt.aJ},Asin:function(){return bt.M2},Asinh:function(){return bt.qw},Atan:function(){return bt.jM},Atan2:function(){return bt.QC},Atanh:function(){return bt.Oy},AvgPool:function(){return bt.Jh},AvgPool3D:function(){return bt._k},AvgPool3DGrad:function(){return bt.IM},AvgPoolGrad:function(){return bt.RO},BatchMatMul:function(){return bt.XL},BatchToSpaceND:function(){return bt.zw},Bincount:function(){return bt.zv},BroadcastArgs:function(){return bt.eE},BroadcastTo:function(){return bt.Ly},Cast:function(){return bt.RF},Ceil:function(){return bt.gJ},ClipByValue:function(){return bt.xn},Complex:function(){return bt.Zz},ComplexAbs:function(){return bt.yj},Concat:function(){return bt.Eh},Conv2D:function(){return bt.mh},Conv2DBackpropFilter:function(){return bt.wU},Conv2DBackpropInput:function(){return bt.wm},Conv3D:function(){return bt.x1},Conv3DBackpropFilterV2:function(){return bt.o2},Conv3DBackpropInputV2:function(){return bt.ik},Cos:function(){return bt.mc},Cosh:function(){return bt.TR},CropAndResize:function(){return bt.Vc},Cumprod:function(){return bt.By},Cumsum:function(){return bt.iH},DataStorage:function(){return qr.JL},DenseBincount:function(){return bt.QR},DepthToSpace:function(){return bt.T0},DepthwiseConv2dNative:function(){return bt.ci},DepthwiseConv2dNativeBackpropFilter:function(){return bt.sL},DepthwiseConv2dNativeBackpropInput:function(){return bt.y7},Diag:function(){return bt.$w},Dilation2D:function(){return bt.p4},Dilation2DBackpropFilter:function(){return bt.Vn},Dilation2DBackpropInput:function(){return bt.ek},ENV:function(){return b.Vi},Einsum:function(){return bt.$g},Elu:function(){return bt.SX},EluGrad:function(){return bt.HE},Environment:function(){return b.qA},Equal:function(){return bt.hd},Erf:function(){return bt.Om},Exp:function(){return bt.NE},ExpandDims:function(){return bt.YF},Expm1:function(){return bt.Y0},FFT:function(){return bt.vw},Fill:function(){return bt.de},FlipLeftRight:function(){return bt.Uy},Floor:function(){return bt.OR},FloorDiv:function(){return bt.je},FromPixels:function(){return bt.eB},FusedBatchNorm:function(){return bt.sH},FusedConv2D:function(){return bt._V},FusedDepthwiseConv2D:function(){return bt.lu},GatherNd:function(){return bt.q1},GatherV2:function(){return bt.qi},Greater:function(){return bt.iZ},GreaterEqual:function(){return bt.Ac},IFFT:function(){return bt.Qg},Identity:function(){return bt.iJ},Imag:function(){return bt.J_},IsFinite:function(){return bt.av},IsInf:function(){return bt.iW},IsNan:function(){return bt.r7},KernelBackend:function(){return qr.Zu},LRN:function(){return bt.eZ},LRNGrad:function(){return bt.Hh},LeakyRelu:function(){return bt.J$},Less:function(){return bt.vt},LessEqual:function(){return bt.CA},LinSpace:function(){return bt.e7},Log:function(){return bt.Zb},Log1p:function(){return bt.kU},LogSoftmax:function(){return bt.qC},LogicalAnd:function(){return bt.PY},LogicalNot:function(){return bt.Vf},LogicalOr:function(){return bt.MZ},LowerBound:function(){return bt.qI},Max:function(){return bt.Yo},MaxPool:function(){return bt.mT},MaxPool3D:function(){return bt.OA},MaxPool3DGrad:function(){return bt.OU},MaxPoolGrad:function(){return bt.OV},MaxPoolWithArgmax:function(){return bt.vF},Maximum:function(){return bt.BM},Mean:function(){return bt.q2},Min:function(){return bt.c1},Minimum:function(){return bt.q8},MirrorPad:function(){return bt.jQ},Mod:function(){return bt.Vb},MomentumOptimizer:function(){return Mn},Multinomial:function(){return bt.NZ},Multiply:function(){return bt.wY},Neg:function(){return bt.ku},NonMaxSuppressionV3:function(){return bt.uv},NonMaxSuppressionV4:function(){return bt.cy},NonMaxSuppressionV5:function(){return bt.W0},NotEqual:function(){return bt.yQ},OP_SCOPE_SUFFIX:function(){return Bn.zvA},OneHot:function(){return bt.we},OnesLike:function(){return bt.qW},Optimizer:function(){return _n},OptimizerConstructors:function(){return Dn},Pack:function(){return bt.Qi},PadV2:function(){return bt.ly},Pool:function(){return bt.Kg},Pow:function(){return bt.pe},Prelu:function(){return bt.o0},Prod:function(){return bt.Dl},RMSPropOptimizer:function(){return Ln},Range:function(){return bt.e6},Rank:function(){return Fn.yw},Real:function(){return bt.xJ},RealDiv:function(){return bt.oH},Reciprocal:function(){return bt.$H},Reduction:function(){return jn.I},Relu:function(){return bt.qk},Relu6:function(){return bt.Sb},Reshape:function(){return bt.HZ},ResizeBilinear:function(){return bt._Y},ResizeBilinearGrad:function(){return bt.zb},ResizeNearestNeighbor:function(){return bt.dp},ResizeNearestNeighborGrad:function(){return bt.Hm},Reverse:function(){return bt.mK},RotateWithOffset:function(){return bt.b9},Round:function(){return bt.e0},Rsqrt:function(){return bt.bV},SGDOptimizer:function(){return Pn},ScatterNd:function(){return bt.xQ},SearchSorted:function(){return bt.nr},Select:function(){return bt.Ph},Selu:function(){return bt.oF},Sigmoid:function(){return bt.a5},Sign:function(){return bt.i5},Sin:function(){return bt.RQ},Sinh:function(){return bt.w3},Slice:function(){return bt.p2},Softmax:function(){return bt.Gc},Softplus:function(){return bt.MR},SpaceToBatchND:function(){return bt.TQ},SparseFillEmptyRows:function(){return bt.O3},SparseReshape:function(){return bt.nh},SparseSegmentMean:function(){return bt.YW},SparseSegmentSum:function(){return bt.Zj},SparseToDense:function(){return bt.D2},SplitV:function(){return bt.L8},Sqrt:function(){return bt.FK},Square:function(){return bt.bK},SquaredDifference:function(){return bt._t},Step:function(){return bt.h8},StridedSlice:function(){return bt.m2},StringNGrams:function(){return bt._J},StringSplit:function(){return bt.s1},StringToHashBucketFast:function(){return bt.Xk},Sub:function(){return bt.Tr},Sum:function(){return bt.GB},Tan:function(){return bt.sE},Tanh:function(){return bt.MI},Tensor:function(){return je.es},TensorBuffer:function(){return je.YD},Tile:function(){return bt.n9},TopK:function(){return bt.cW},Transform:function(){return bt.wx},Transpose:function(){return bt.G3},Unique:function(){return bt.kp},Unpack:function(){return bt.To},UnsortedSegmentSum:function(){return bt.Qv},UpperBound:function(){return bt.XD},Variable:function(){return je._w},ZerosLike:function(){return bt.Ru},_FusedMatMul:function(){return bt.us},abs:function(){return Bn.WnP},acos:function(){return Bn.Khb},acosh:function(){return Bn.__u},add:function(){return Bn.IHx},addN:function(){return Bn.QBD},all:function(){return Bn.$6P},any:function(){return Bn.YjB},argMax:function(){return Bn.NqF},argMin:function(){return Bn.vHJ},asin:function(){return Bn.ZRM},asinh:function(){return Bn.VfV},atan:function(){return Bn.z4N},atan2:function(){return Bn.fvJ},atanh:function(){return Bn.C80},avgPool:function(){return Bn.wS1},avgPool3d:function(){return Bn.uR5},backend:function(){return hn.y3},backend_util:function(){return f},basicLSTMCell:function(){return Bn.zEQ},batchNorm:function(){return Bn.tgs},batchNorm2d:function(){return Bn.Dxk},batchNorm3d:function(){return Bn.JY5},batchNorm4d:function(){return Bn.p3b},batchToSpaceND:function(){return Bn.E4h},bincount:function(){return Bn.yE8},booleanMaskAsync:function(){return Bn.anm},broadcastArgs:function(){return Bn.XsQ},broadcastTo:function(){return Bn.UFq},broadcast_util:function(){return yt},browser:function(){return o},buffer:function(){return Bn.f3b},cast:function(){return Bn.pju},ceil:function(){return Bn.mDi},clipByValue:function(){return Bn.iUl},clone:function(){return Bn.d9v},complex:function(){return Bn.PYB},concat:function(){return Bn.zoF},concat1d:function(){return Bn.gME},concat2d:function(){return Bn.Izb},concat3d:function(){return Bn.MNy},concat4d:function(){return Bn.ZaL},conv1d:function(){return Bn.PAt},conv2d:function(){return Bn.Tek},conv2dTranspose:function(){return Bn.bc},conv3d:function(){return Bn.pdZ},conv3dTranspose:function(){return Bn.$QV},copyRegisteredKernels:function(){return wt.T3},cos:function(){return Bn.mCk},cosh:function(){return Bn.f9Y},cosineWindow:function(){return Bn.mew},cumprod:function(){return Bn.$Gn},cumsum:function(){return Bn.zbp},customGrad:function(){return kn.cb},denseBincount:function(){return Bn.ppE},deprecationWarn:function(){return hn.MX},depthToSpace:function(){return Bn.nTT},depthwiseConv2d:function(){return Bn.B10},device_util:function(){return r},diag:function(){return Bn.Ka3},dilation2d:function(){return Bn.WmZ},disableDeprecationWarnings:function(){return hn.cF},dispose:function(){return hn.B9},disposeVariables:function(){return hn.N8},div:function(){return Bn.hiC},divNoNan:function(){return Bn.NTj},dot:function(){return Bn.AKD},dropout:function(){return Bn.rvX},einsum:function(){return Bn.WYO},elu:function(){return Bn.pyx},enableDebugMode:function(){return hn.R},enableProdMode:function(){return hn.G4},enclosingPowerOfTwo:function(){return Bn.GRh},engine:function(){return hn.SR},env:function(){return b.OB},equal:function(){return Bn.DgJ},erf:function(){return Bn.qNN},euclideanNorm:function(){return Bn.d2q},exp:function(){return Bn.Qqt},expandDims:function(){return Bn.dt4},expm1:function(){return Bn.t$B},eye:function(){return Bn.iyy},fft:function(){return Bn.kp_},fill:function(){return Bn.hlL},findBackend:function(){return hn.x3},findBackendFactory:function(){return hn.ze},floor:function(){return Bn.GWj},floorDiv:function(){return Bn.qPi},fused:function(){return Bn.imm},gather:function(){return Bn.Iqj},gatherND:function(){return Bn.dbB},gather_util:function(){return s},getBackend:function(){return hn.N_},getGradient:function(){return wt.uk},getKernel:function(){return wt.pI},getKernelsForBackend:function(){return wt.tr},grad:function(){return kn.UQ},grads:function(){return kn.ti},greater:function(){return Bn.pjt},greaterEqual:function(){return Bn.brS},ifft:function(){return Bn.Sxn},imag:function(){return Bn.asL},image:function(){return Bn.BHj},inTopKAsync:function(){return Bn.V3u},io:function(){return i},irfft:function(){return Bn.wx0},isFinite:function(){return Bn.xVT},isInf:function(){return Bn.UWc},isNaN:function(){return Bn.i2d},keep:function(){return hn.Cn},kernel_impls:function(){return p},leakyRelu:function(){return Bn.hi7},less:function(){return Bn.d9m},lessEqual:function(){return Bn.zN1},linalg:function(){return Bn.$r2},linspace:function(){return Bn.SX3},localResponseNormalization:function(){return Bn.G9k},log:function(){return Bn.cM7},log1p:function(){return Bn.Krr},logSigmoid:function(){return Bn.e_t},logSoftmax:function(){return Bn.CmS},logSumExp:function(){return Bn.l_t},logicalAnd:function(){return Bn.HvI},logicalNot:function(){return Bn.hJK},logicalOr:function(){return Bn.K5V},logicalXor:function(){return Bn.egP},losses:function(){return Bn.MB5},lowerBound:function(){return Bn.eab},matMul:function(){return Bn.OI3},math:function(){return a},max:function(){return Bn.Fp7},maxPool:function(){return Bn._sB},maxPool3d:function(){return Bn.YQQ},maxPoolWithArgmax:function(){return Bn.Ip$},maximum:function(){return Bn.gWQ},mean:function(){return Bn.J69},memory:function(){return hn.sq},meshgrid:function(){return Bn.ry_},min:function(){return Bn.VV$},minimum:function(){return Bn.LTh},mirrorPad:function(){return Bn.VdP},mod:function(){return Bn.wQq},moments:function(){return Bn.Gi7},movingAverage:function(){return Bn.p_},mul:function(){return Bn.dC7},multiRNNCell:function(){return Bn.rq4},multinomial:function(){return Bn.SJ_},neg:function(){return Bn.W76},nextFrame:function(){return Un},norm:function(){return Bn.KOy},notEqual:function(){return Bn.Quu},oneHot:function(){return Bn.lfX},ones:function(){return Bn.iUs},onesLike:function(){return Bn.JpU},op:function(){return Bn.op},outerProduct:function(){return Bn.N2O},pad:function(){return Bn.vku},pad1d:function(){return Bn.pNR},pad2d:function(){return Bn.koy},pad3d:function(){return Bn.t1L},pad4d:function(){return Bn.lGY},pool:function(){return Bn.d_R},pow:function(){return Bn.sQ3},prelu:function(){return Bn.AL3},print:function(){return Bn.S0v},prod:function(){return Bn.WVs},profile:function(){return hn.N5},rand:function(){return Bn.TN_},randomGamma:function(){return Bn.wzB},randomNormal:function(){return Bn.nGf},randomUniform:function(){return Bn.LGj},range:function(){return Bn.w6H},ready:function(){return hn.Cd},real:function(){return Bn.kwC},reciprocal:function(){return Bn.M25},registerBackend:function(){return hn.jq},registerGradient:function(){return wt.Li},registerKernel:function(){return wt.wC},relu:function(){return Bn.UYe},relu6:function(){return Bn.btT},removeBackend:function(){return hn.cj},reshape:function(){return Bn.XLQ},reverse:function(){return Bn.GYS},reverse1d:function(){return Bn.SDf},reverse2d:function(){return Bn.diP},reverse3d:function(){return Bn.sx7},reverse4d:function(){return Bn.mG2},rfft:function(){return Bn.QEs},round:function(){return Bn.NMM},rsqrt:function(){return Bn.bp0},scalar:function(){return Bn.iD$},scatterND:function(){return Bn.snQ},scatter_util:function(){return Rt},searchSorted:function(){return Bn.zcT},selu:function(){return Bn.U8D},separableConv2d:function(){return Bn.U_I},serialization:function(){return c},setBackend:function(){return hn.CQ},setPlatform:function(){return hn.VY},setdiff1dAsync:function(){return Bn.ODp},sigmoid:function(){return Bn.XD2},sign:function(){return Bn.Xxe},signal:function(){return Bn.tdS},sin:function(){return Bn.O$l},sinh:function(){return Bn.R_K},slice:function(){return Bn.tPi},slice1d:function(){return Bn.jZU},slice2d:function(){return Bn.SmN},slice3d:function(){return Bn.CnO},slice4d:function(){return Bn.p0P},slice_util:function(){return u},softmax:function(){return Bn.XAC},softplus:function(){return Bn.Wvh},spaceToBatchND:function(){return Bn.fBT},sparse:function(){return Bn.rVs},sparseToDense:function(){return Bn.ers},spectral:function(){return Bn.uN7},split:function(){return Bn.Vl2},sqrt:function(){return Bn._b3},square:function(){return Bn.h62},squaredDifference:function(){return Bn.$i},squeeze:function(){return Bn.L9e},stack:function(){return Bn.knu},step:function(){return Bn.Nbs},stridedSlice:function(){return Bn.NXj},string:function(){return Bn.Z_8},sub:function(){return Bn.luU},sum:function(){return Bn.Smz},sumOutType:function(){return Fn.z4},tan:function(){return Bn.ORZ},tanh:function(){return Bn.AEp},tensor:function(){return Bn.XeE},tensor1d:function(){return Bn.RRF},tensor2d:function(){return Bn.odF},tensor3d:function(){return Bn.wOQ},tensor4d:function(){return Bn.yXz},tensor5d:function(){return Bn.Bfx},tensor6d:function(){return Bn.xZs},tensor_util:function(){return Qt},test_util:function(){return l},tidy:function(){return hn.lu},tile:function(){return Bn.Gg6},time:function(){return hn.XV},topk:function(){return Bn.hg7},train:function(){return Zn},transpose:function(){return Bn.p4s},truncatedNormal:function(){return Bn.Xu6},unique:function(){return Bn.Two},unregisterGradient:function(){return wt.bt},unregisterKernel:function(){return wt.nE},unsortedSegmentSum:function(){return Bn.pUJ},unstack:function(){return Bn.HHK},upcastType:function(){return Fn.x8},upperBound:function(){return Bn.GaM},util:function(){return Jt},valueAndGrad:function(){return kn.h7},valueAndGrads:function(){return kn.fN},variable:function(){return Bn.VD$},variableGrads:function(){return kn.pn},version_core:function(){return dn},where:function(){return Bn.arb},whereAsync:function(){return Bn.itS},zeros:function(){return Bn.lls},zerosLike:function(){return Bn.P84}});var r={};n.r(r),n.d(r,{isBrowser:function(){return y},isMobile:function(){return g},mockIsMobile:function(){return v}});var i={};n.r(i),n.d(i,{browserFiles:function(){return ze},browserHTTPRequest:function(){return rt},concatenateArrayBuffers:function(){return j},copyModel:function(){return Te},decodeWeights:function(){return P},encodeWeights:function(){return I},fromMemory:function(){return st},fromMemorySync:function(){return ut},getLoadHandlers:function(){return X},getModelArtifactsForJSON:function(){return U},getModelArtifactsInfoForJSON:function(){return H},getSaveHandlers:function(){return Y},http:function(){return nt},isHTTPScheme:function(){return et},listModels:function(){return _e},loadWeights:function(){return Ye},moveModel:function(){return Oe},registerLoadRouter:function(){return K},registerSaveRouter:function(){return q},removeModel:function(){return Ee},weightsLoaderFactory:function(){return Qe},withSaveHandler:function(){return ct},withSaveHandlerSync:function(){return lt}});var a={};n.r(a),n.d(a,{confusionMatrix:function(){return gt}});var o={};n.r(o),n.d(o,{fromPixels:function(){return At},fromPixelsAsync:function(){return St},toPixels:function(){return Ct}});var s={};n.r(s),n.d(s,{prepareAndValidate:function(){return Ot}});var u={};n.r(u),n.d(u,{assertParamsValid:function(){return It},computeFlatOffset:function(){return Ht},computeOutShape:function(){return Pt},getNormalizedAxes:function(){return Ft},isSliceContinous:function(){return Wt},maskToAxes:function(){return Nt},parseSliceParams:function(){return zt},sliceInfo:function(){return Gt},startForAxis:function(){return Vt},startIndicesWithElidedDims:function(){return Bt},stopForAxis:function(){return Ut},stopIndicesWithElidedDims:function(){return jt},stridesForAxis:function(){return Zt},stridesWithElidedDims:function(){return Mt}});var c={};n.r(c),n.d(c,{Serializable:function(){return Kt},SerializationMap:function(){return Yt},registerClass:function(){return Xt}});var l={};n.r(l),n.d(l,{TEST_EPSILON_FLOAT16:function(){return $t},encodeStrings:function(){return ln},expectArrayBuffersEqual:function(){return cn},expectArraysClose:function(){return en},expectArraysEqual:function(){return an},expectNumbersClose:function(){return on},expectPromiseToFail:function(){return rn},expectValuesInRange:function(){return un},testEpsilon:function(){return tn}});var d={};n.r(d),n.d(d,{collectGatherOpShapeInfo:function(){return Ur},computeOutShape:function(){return Vr},segOpComputeOptimalWindowSize:function(){return Zr}});var f={};n.r(f),n.d(f,{ERF_A1:function(){return ar},ERF_A2:function(){return or},ERF_A3:function(){return sr},ERF_A4:function(){return ur},ERF_A5:function(){return cr},ERF_P:function(){return ir},PARALLELIZE_THRESHOLD:function(){return Kn},SELU_SCALE:function(){return rr},SELU_SCALEALPHA:function(){return nr},applyActivation:function(){return qn.QH},assertAndGetBroadcastShape:function(){return yt.assertAndGetBroadcastShape},assertAxesAreInnerMostDims:function(){return Wn.lB},assertParamsConsistent:function(){return Hn},assignToTypedArray:function(){return vr},axesAreInnerMostDims:function(){return Wn.YB},calculateShapes:function(){return Rt.calculateShapes},checkEinsumDimSizes:function(){return _r},checkPadOnDimRoundingMode:function(){return Gn.m},combineLocations:function(){return Wn.Vh},complexWithEvenIndex:function(){return pr},complexWithOddIndex:function(){return hr},computeConv2DInfo:function(){return Gn.Ix},computeConv3DInfo:function(){return Gn.jw},computeDefaultPad:function(){return Gn.aO},computeDilation2DInfo:function(){return Gn.Rf},computeOptimalWindowSize:function(){return Yn},computeOutAndReduceShapes:function(){return Wn.kz},computeOutShape:function(){return zn},computePool2DInfo:function(){return Gn.Xw},computePool3DInfo:function(){return Gn.pl},convertConv2DDataFormat:function(){return Gn.sl},decodeEinsumEquation:function(){return kr},eitherStridesOrDilationsAreOne:function(){return Gn.jT},expandShapeToKeepDim:function(){return Wn.rv},exponent:function(){return yr},exponents:function(){return gr},fromStringArrayToUint8:function(){return Hr},fromUint8ToStringArray:function(){return Wr},getAxesPermutation:function(){return Wn.Q3},getBroadcastDims:function(){return yt.getBroadcastDims},getComplexWithIndex:function(){return mr},getEinsumComputePath:function(){return Sr},getEinsumPermutation:function(){return xr},getFusedBiasGradient:function(){return qn.pf},getFusedDyActivation:function(){return qn.Fr},getImageCenter:function(){return Xn},getInnerMostAxes:function(){return Wn.sY},getPermuted:function(){return Jn},getReductionAxes:function(){return yt.getReductionAxes},getReshaped:function(){return Qn},getReshapedPermuted:function(){return $n},getSliceBeginCoords:function(){return er},getSliceSize:function(){return tr},getSparseFillEmptyRowsIndicesDenseShapeMismatch:function(){return Ar},getSparseFillEmptyRowsNegativeIndexErrorMessage:function(){return Or},getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:function(){return Rr},getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:function(){return Pr},getSparseReshapeInputOutputMismatchErrorMessage:function(){return Lr},getSparseReshapeInputOutputMultipleErrorMessage:function(){return Mr},getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:function(){return Ir},getSparseReshapeNegativeOutputDimErrorMessage:function(){return Nr},getSparseSegmentReductionIndicesOutOfRangeErrorMessage:function(){return jr},getSparseSegmentReductionNegativeSegmentIdsErrorMessage:function(){return Dr},getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:function(){return Fr},getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:function(){return Br},getUndoAxesPermutation:function(){return Wn.LJ},isIdentityPermutation:function(){return Er},log:function(){return lr.c},mergeRealAndImagArrays:function(){return dr},prepareAndValidate:function(){return Ot},prepareSplitSize:function(){return Tr},segment_util:function(){return d},shouldFuse:function(){return qn.uy},slice_util:function(){return u},splitRealAndImagArrays:function(){return fr},tupleValuesAreOne:function(){return Gn.I0},upcastType:function(){return Fn.x8},validateInput:function(){return Rt.validateInput},validateUpdateShape:function(){return Rt.validateUpdateShape},warn:function(){return lr.Z}});var p={};n.r(p),n.d(p,{nonMaxSuppressionV3Impl:function(){return zr.GP},nonMaxSuppressionV4Impl:function(){return zr.qP},nonMaxSuppressionV5Impl:function(){return zr.pA},whereImpl:function(){return Gr.Z}});var h,m=n(70318);function v(e){h=e}function g(e){if(void 0!==h)return h;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){var n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function y(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}var b=n(35050),w=(0,b.OB)();w.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),w.registerFlag("IS_BROWSER",(function(){return y()})),w.registerFlag("IS_NODE",(function(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node})),w.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),w.registerFlag("PROD",(function(){return!1})),w.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return w.getBool("DEBUG")})),w.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),w.registerFlag("IS_TEST",(function(){return!1})),w.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return!0})),w.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1})),w.registerFlag("ENGINE_COMPILE_ONLY",(function(){return!1}));var k=n(15671),x=n(43144),_=n(37762),S=n(74165),E=n(15861),C=n(29439),T=n(59253),A=n(72442),O=n(36147),R={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};function I(e,t){return N.apply(this,arguments)}function N(){return N=(0,E.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s,u;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],i=[],a=Array.isArray(t)?t.map((function(e){return e.name})):Object.keys(t),o=function(e){var o=a[e],s=Array.isArray(t)?t[e].tensor:t[o];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error("Unsupported dtype in weight '".concat(o,"': ").concat(s.dtype));var u={name:o,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){var c=new Promise(function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){var n,r,i,a,o,u,c;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bytes();case 2:for(n=e.sent,r=n.reduce((function(e,t){return e+t.length}),0)+4*n.length,i=new Uint8Array(r),a=0,o=0;o<n.length;o++)u=n[o],c=new Uint8Array(new Uint32Array([u.length]).buffer),i.set(c,a),a+=4,i.set(u,a),a+=u.length;t(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());i.push(c)}else i.push(s.data());null!=n&&(u.group=n),r.push(u)},s=0;s<a.length;++s)o(s);return e.next=7,Promise.all(i);case 7:return u=e.sent,e.abrupt("return",{data:M(u),specs:r});case 9:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function P(e,t){var n,r,i={},a=0,o=(0,_.Z)(t);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=s.name,c=s.dtype,l=s.shape,d=(0,O.NA)(l),f=void 0;if("quantization"in s){var p=s.quantization;if("uint8"===p.dtype||"uint16"===p.dtype){if(!("min"in p)||!("scale"in p))throw new Error("Weight ".concat(s.name," with quantization ").concat(p.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==p.dtype)throw new Error("Weight ".concat(s.name," has unknown ")+"quantization dtype ".concat(p.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==c)throw new Error("Weight ".concat(s.name," is quantized with ").concat(p.dtype," ")+"which only supports weights of type float32 not ".concat(c,"."))}var h=R[p.dtype],m=e.slice(a,a+d*h),v="uint8"===p.dtype?new Uint8Array(m):new Uint16Array(m);if("float32"===c)if("uint8"===p.dtype||"uint16"===p.dtype){f=new Float32Array(v.length);for(var g=0;g<v.length;g++){var y=v[g];f[g]=y*p.scale+p.min}}else{if("float16"!==p.dtype)throw new Error("Unsupported quantization type ".concat(p.dtype," ")+"for weight type float32.");void 0===n&&(n=z()),f=n(v)}else{if("int32"!==c)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(c));if("uint8"!==p.dtype&&"uint16"!==p.dtype)throw new Error("Unsupported quantization type ".concat(p.dtype," ")+"for weight type int32.");f=new Int32Array(v.length);for(var b=0;b<v.length;b++){var w=v[b];f[b]=Math.round(w*p.scale+p.min)}}a+=d*h}else if("string"===c){var k=(0,O.NA)(s.shape);f=[];for(var x=0;x<k;x++){var S=new Uint32Array(e.slice(a,a+4))[0];a+=4;var E=new Uint8Array(e.slice(a,a+S));f.push(E),a+=S}}else{var C=R[c],I=e.slice(a,a+d*C);if("float32"===c)f=new Float32Array(I);else if("int32"===c)f=new Int32Array(I);else if("bool"===c)f=new Uint8Array(I);else{if("complex64"!==c)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(c));f=new Float32Array(I);for(var N=new Float32Array(f.length/2),P=new Float32Array(f.length/2),M=0;M<N.length;M++)N[M]=f[2*M],P[M]=f[2*M+1];var L=(0,A.X)(N,l,"float32"),D=(0,A.X)(P,l,"float32");i[u]=(0,T.P)(L,D),L.dispose(),D.dispose()}a+=d*C}"complex64"!==c&&(i[u]=(0,A.X)(f,l,c))}}catch(F){o.e(F)}finally{o.f()}return i}function M(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));var r=new Uint8Array(t),i=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),i),i+=e.byteLength})),r.buffer}var L="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function D(e){return L?Buffer.byteLength(e):new Blob([e]).size}function F(e){if(L)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function B(e){if(L){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r.set([n.charCodeAt(i)],i);return r.buffer}function j(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function Z(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function V(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function U(e,t){return W.apply(this,arguments)}function W(){return W=(0,E.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy},null!=t.trainingConfig&&(r.trainingConfig=t.trainingConfig),null==t.weightsManifest){e.next=11;break}return e.next=5,n(t.weightsManifest);case 5:i=e.sent,a=(0,C.Z)(i,2),o=a[0],s=a[1],r.weightSpecs=o,r.weightData=s;case 11:return null!=t.signature&&(r.signature=t.signature),null!=t.userDefinedMetadata&&(r.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(r.modelInitializer=t.modelInitializer),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function H(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:D(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:D(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function z(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|n+947912704},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var i=new ArrayBuffer(4*r.length),a=new Uint32Array(i),o=0;o<r.length;o++){var s=r[o],u=e[n[s>>10]+(1023&s)]+t[s>>10];a[o]=u}return new Float32Array(i)}}var G=function(){function e(){(0,k.Z)(this,e),this.saveRouters=[],this.loadRouters=[]}return(0,x.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var i=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&i.push(n)})),i}}]),e}(),q=function(e){return G.registerSaveRouter(e)},K=function(e){return G.registerLoadRouter(e)},Y=function(e){return G.getSaveHandlers(e)},X=function(e,t){return G.getLoadHandlers(e,t)},Q="tensorflowjs",J="models_store",$="model_info_store";function ee(){if(!(0,b.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function te(e){var t=e.result;t.createObjectStore(J,{keyPath:"modelPath"}),t.createObjectStore($,{keyPath:"modelPath"})}var ne=function(){function e(t){if((0,k.Z)(this,e),this.indexedDB=ee(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return(0,x.Z)(e,[{key:"save",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var i=n.indexedDB.open(Q,1);i.onupgradeneeded=function(){return te(i)},i.onsuccess=function(){var a=i.result;if(null==t){var o=a.transaction(J,"readonly"),s=o.objectStore(J).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return a.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return a.close(),r(s.error)},o.oncomplete=function(){return a.close()}}else{var u,c=H(t),l=a.transaction($,"readwrite"),d=l.objectStore($),f=d.put({modelPath:n.modelPath,modelArtifactsInfo:c});f.onsuccess=function(){var i=(u=a.transaction(J,"readwrite")).objectStore(J).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c});i.onsuccess=function(){return e({modelArtifactsInfo:c})},i.onerror=function(e){var t=(d=l.objectStore($)).delete(n.modelPath);t.onsuccess=function(){return a.close(),r(i.error)},t.onerror=function(e){return a.close(),r(i.error)}}},f.onerror=function(e){return a.close(),r(f.error)},l.oncomplete=function(){null==u?a.close():u.oncomplete=function(){return a.close()}}}},i.onerror=function(e){return r(i.error)}}))}}]),e}();ne.URL_SCHEME="indexeddb://";var re=function(e){return(0,b.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ne.URL_SCHEME)?(t=e.slice(ne.URL_SCHEME.length),new ne(t)):null;var t};G.registerSaveRouter(re),G.registerLoadRouter(re);var ie=function(){function e(){(0,k.Z)(this,e),this.indexedDB=ee()}return(0,x.Z)(e,[{key:"listModels",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){var t=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.indexedDB.open(Q,1);r.onupgradeneeded=function(){return te(r)},r.onsuccess=function(){var t=r.result,i=t.transaction($,"readonly"),a=i.objectStore($).getAll();a.onsuccess=function(){var t,n={},r=(0,_.Z)(a.result);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.modelPath]=i.modelArtifactsInfo}}catch(o){r.e(o)}finally{r.f()}e(n)},a.onerror=function(e){return t.close(),n(a.error)},i.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){var n=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r=t).startsWith(ne.URL_SCHEME)?r.slice(ne.URL_SCHEME.length):r,e.abrupt("return",new Promise((function(e,r){var i=n.indexedDB.open(Q,1);i.onupgradeneeded=function(){return te(i)},i.onsuccess=function(){var n,a=i.result,o=a.transaction($,"readwrite"),s=o.objectStore($),u=s.get(t);u.onsuccess=function(){if(null==u.result)return a.close(),r(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var i=s.delete(t),o=function(){var i=(n=a.transaction(J,"readwrite")).objectStore(J).delete(t);i.onsuccess=function(){return e(u.result.modelArtifactsInfo)},i.onerror=function(e){return r(u.error)}};i.onsuccess=o,i.onerror=function(e){return o(),a.close(),r(u.error)}},u.onerror=function(e){return a.close(),r(u.error)},o.oncomplete=function(){null==n?a.close():n.oncomplete=function(){return a.close()}}},i.onerror=function(e){return r(i.error)}})));case 2:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ae="/",oe="tensorflowjs_models",se="info",ue="model_topology",ce="weight_specs",le="weight_data",de="model_metadata";function fe(e){return{info:[oe,e,se].join(ae),topology:[oe,e,ue].join(ae),weightSpecs:[oe,e,ce].join(ae),weightData:[oe,e,le].join(ae),modelMetadata:[oe,e,de].join(ae)}}function pe(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];window.localStorage.removeItem(r)}}function he(e){var t=e.split(ae);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(ae)}var me=function(){function e(t){if((0,k.Z)(this,e),!(0,b.OB)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=fe(this.modelPath)}return(0,x.Z)(e,[{key:"save",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){var n,r,i,a;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),i=H(t),e.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,F(t.weightData)),a={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),e.abrupt("return",{modelArtifactsInfo:i});case 17:throw e.prev=17,e.t0=e.catch(7),pe(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(i.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(i.weightSpecsBytes,", ")+"weightDataBytes=".concat(i.weightDataBytes,"."));case 21:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){var t,n,r,i,a,o,s;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(i=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=i,null!=(a=this.LS.getItem(this.keys.modelMetadata))&&(o=JSON.parse(a),n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,null!=o.signature&&(n.signature=o.signature),null!=o.userDefinedMetadata&&(n.userDefinedMetadata=o.userDefinedMetadata),null!=o.modelInitializer&&(n.modelInitializer=o.modelInitializer),null!=o.trainingConfig&&(n.trainingConfig=o.trainingConfig)),null!=(s=this.LS.getItem(this.keys.weightData))){e.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=B(s),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();me.URL_SCHEME="localstorage://";var ve=function(e){return(0,b.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(me.URL_SCHEME)?(t=e.slice(me.URL_SCHEME.length),new me(t)):null;var t};G.registerSaveRouter(ve),G.registerLoadRouter(ve);var ge=function(){function e(){(0,k.Z)(this,e),(0,O.hu)((0,b.OB)().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),(0,O.hu)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return(0,x.Z)(e,[{key:"listModels",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){var t,n,r,i,a,o;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=oe+ae,r=ae+se,i=0;i<this.LS.length;++i)(a=this.LS.key(i)).startsWith(n)&&a.endsWith(r)&&(o=he(a),t[o]=JSON.parse(this.LS.getItem(a)));return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){var n,r;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(i=t).startsWith(me.URL_SCHEME)?i.slice(me.URL_SCHEME.length):i,n=fe(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),pe(n),e.abrupt("return",r);case 7:case"end":return e.stop()}var i}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ye="://",be=function(){function e(){(0,k.Z)(this,e),this.managers={}}return(0,x.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){(0,O.hu)(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(ye)&&(t=t.slice(0,t.indexOf(ye))),(0,O.hu)(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();(0,O.hu)(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),r.managers[t]=n}},{key:"getManager",value:function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}},{key:"getSchemes",value:function(){return Object.keys(this.getInstance().managers)}}]),e}();function we(e){if(-1===e.indexOf(ye))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(be.getSchemes().join(",")));return{scheme:e.split(ye)[0],path:e.split(ye)[1]}}function ke(e,t){return xe.apply(this,arguments)}function xe(){return xe=(0,E.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l,d,f,p=arguments;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>2&&void 0!==p[2]&&p[2],(0,O.hu)(t!==n,(function(){return"Old path and new path are the same: '".concat(t,"'")})),i=G.getLoadHandlers(t),(0,O.hu)(i.length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")})),(0,O.hu)(i.length<2,(function(){return"Copying failed because more than one (".concat(i.length,") ")+"load handlers for source URL ".concat(t,".")})),a=i[0],o=G.getSaveHandlers(n),(0,O.hu)(o.length>0,(function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(n,".")})),(0,O.hu)(o.length<2,(function(){return"Copying failed because more than one (".concat(i.length,") ")+"save handlers for destination URL ".concat(n,".")})),s=o[0],u=we(t).scheme,c=we(t).path,l=u===we(t).scheme,e.next=15,a.load();case 15:if(d=e.sent,!r||!l){e.next=19;break}return e.next=19,be.getManager(u).removeModel(c);case 19:return e.next=21,s.save(d);case 21:if(f=e.sent,!r||l){e.next=25;break}return e.next=25,be.getManager(u).removeModel(c);case 25:return e.abrupt("return",f.modelArtifactsInfo);case 26:case"end":return e.stop()}}),e)}))),xe.apply(this,arguments)}function _e(){return Se.apply(this,arguments)}function Se(){return(Se=(0,E.Z)((0,S.Z)().mark((function e(){var t,n,r,i,a,o,s;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=be.getSchemes(),n={},r=(0,_.Z)(t),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=9,be.getManager(a).listModels();case 9:for(s in o=e.sent)n[a+ye+s]=o[s];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))).apply(this,arguments)}function Ee(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,E.Z)((0,S.Z)().mark((function e(t){var n,r;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=we(t),r=be.getManager(n.scheme),e.abrupt("return",r.removeModel(n.path));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,E.Z)((0,S.Z)().mark((function e(t,n){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,e.abrupt("return",ke(t,n,false));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t){return Re.apply(this,arguments)}function Re(){return(Re=(0,E.Z)((0,S.Z)().mark((function e(t,n){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.abrupt("return",ke(t,n,true));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ie=function(){function e(){(0,k.Z)(this,e)}return(0,x.Z)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}}]),e}();if((0,b.OB)().get("IS_BROWSER")){(0,b.OB)().setPlatform("browser",new Ie);try{be.registerManager(me.URL_SCHEME,new ge)}catch(Kr){}try{be.registerManager(ne.URL_SCHEME,new ie)}catch(Kr){}}var Ne,Pe=function(){return n(75410)};var Me=function(){function e(){(0,k.Z)(this,e),this.util=n(48628),this.textEncoder=new this.util.TextEncoder}return(0,x.Z)(e,[{key:"fetch",value:function(e,t){return null!=(0,b.OB)().global.fetch?(0,b.OB)().global.fetch(e,t):(null==Ne&&(Ne=Pe()),Ne(e,t))}},{key:"now",value:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}]),e}();(0,b.OB)().get("IS_NODE")&&!(0,b.OB)().get("IS_BROWSER")&&(0,b.OB)().setPlatform("node",new Me);var Le=n(77039),De=n(99118),Fe=n(10672),Be=n(64600),je=n(4376);(0,m.wv)();var Ze={buffer:Le.f,cast:De.p,clone:Fe.d,print:Be.S};(0,je.Vp)(Ze);var Ve=n(93433);function Ue(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var We=function(){function e(t){if((0,k.Z)(this,e),!(0,b.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return(0,x.Z)(e,[{key:"save",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){var n,r,i,a,o,s;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],i=V(t,r),a=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),(o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,o.href=a,e.next=15,Ue((function(){return o.dispatchEvent(new MouseEvent("click"))}));case 15:if(null==t.weightData){e.next=21;break}return(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,e.next=21,Ue((function(){return s.dispatchEvent(new MouseEvent("click"))}));case 21:return e.abrupt("return",{modelArtifactsInfo:H(t)});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();We.URL_SCHEME="downloads://";var He=function(){function e(t){if((0,k.Z)(this,e),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return(0,x.Z)(e,[{key:"load",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){var t=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(r){var i=JSON.parse(r.target.result),a=i.modelTopology;if(null!=a)if(null!=i.weightsManifest)if(0!==t.weightsFiles.length){var o=U(i,(function(e){return t.loadWeights(e)}));e(o)}else e({modelTopology:a});else n(new Error("weightManifest field is missing from file ".concat(t.jsonFile.name)));else n(new Error("modelTopology field is missing from file ".concat(t.jsonFile.name)))},r.onerror=function(e){return n("Failed to read model topology and weights manifest JSON "+"from file '".concat(t.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},r.readAsText(t.jsonFile)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(e){var t,n=this,r=[],i=[],a=(0,_.Z)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;r.push.apply(r,(0,Ve.Z)(o.weights)),i.push.apply(i,(0,Ve.Z)(o.paths))}}catch(Kr){a.e(Kr)}finally{a.f()}var s=this.checkManifestAndWeightFiles(e),u=i.map((function(e){return n.loadWeightsFile(e,s[e])}));return Promise.all(u).then((function(e){return[r,j(e)]}))}},{key:"loadWeightsFile",value:function(e,t){return new Promise((function(n,r){var i=new FileReader;i.onload=function(e){var t=e.target.result;n(t)},i.onerror=function(t){return r("Failed to weights data from file of path '".concat(e,"'."))},i.readAsArrayBuffer(t)}))}},{key:"checkManifestAndWeightFiles",value:function(e){var t,n=this,r=[],i=this.weightsFiles.map((function(e){return Z(e.name)})),a={},o=(0,_.Z)(e);try{for(o.s();!(t=o.n()).done;){t.value.paths.forEach((function(e){var t=Z(e);if(-1!==r.indexOf(t))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(t,"'"));if(r.push(t),-1===i.indexOf(t))throw new Error("Weight file with basename '".concat(t,"' is not provided."));a[e]=n.weightsFiles[i.indexOf(t)]}))}}catch(Kr){o.e(Kr)}finally{o.f()}if(r.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(r.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return a}}]),e}();function ze(e){return new He(e)}function Ge(e,t,n,r){!function(e){(0,O.hu)(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){(0,O.hu)(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)})),(0,O.hu)(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)})),(0,O.hu)(t>=e,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)}))}(n=null==n?0:n,r=null==r?1:r);var i=0;return Promise.all(e.map((function(a){return a.then((function(a){var o=n+ ++i/e.length*(r-n);return t(o),a})),a})))}function qe(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,E.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l,d;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?(0,b.OB)().platform.fetch:n.fetchFunc,i=t.map((function(e){return r(e,n.requestInit,{isBinary:!0})})),a=0,o=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(i);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,Ge(i,n.onProgress,a,o);case 13:e.t0=e.sent;case 14:if(s=e.t0,u=s.map((function(e){return e.arrayBuffer()})),c=.5,l=1,null!=n.onProgress){e.next=24;break}return e.next=21,Promise.all(u);case 21:e.t1=e.sent,e.next=27;break;case 24:return e.next=26,Ge(u,n.onProgress,c,l);case 26:e.t1=e.sent;case 27:return d=e.t1,e.abrupt("return",d);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,E.Z)((0,S.Z)().mark((function e(t){var n,r,i,a,o=arguments;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",r=o.length>2?o[2]:void 0,i=o.length>3?o[3]:void 0,a=Qe((function(e){return qe(e,{requestInit:i})})),e.abrupt("return",a(t,n,r));case 6:case"end":return e.stop()}}),e)}))),Xe.apply(this,arguments)}function Qe(e){return function(){var t=(0,E.Z)((0,S.Z)().mark((function t(n){var r,i,a,o,s,u,c,l,d,f,p,h,m=arguments;return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=m.length>1&&void 0!==m[1]?m[1]:"",i=m.length>2?m[2]:void 0,a=n.map((function(){return!1})),o={},s=null!=i?i.map((function(){return!1})):[],u=[],n.forEach((function(e,t){var n=0;e.weights.forEach((function(e){var r="quantization"in e?e.quantization.dtype:e.dtype,c=R[r]*O.NA(e.shape),l=function(){a[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=i?i.forEach((function(t,n){t===e.name&&(l(),s[n]=!0)})):l(),u.push(e.name),n+=c}))})),s.every((function(e){return e}))){t.next=10;break}throw c=i.filter((function(e,t){return!s[t]})),new Error("Could not find weights in manifest with names: "+"".concat(c.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(u.join(", "),"."));case 10:return l=a.reduce((function(e,t,n){return t&&e.push(n),e}),[]),d=[],l.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;d.push(t)}))})),t.next=15,e(d);case 15:return f=t.sent,p={},h=0,l.forEach((function(e){for(var t=n[e].paths.length,r=0,i=0;i<t;i++)r+=f[h+i].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),u=0,c=0;c<t;c++){var l=new Uint8Array(f[h+c]);s.set(l,u),u+=l.byteLength}o[e].forEach((function(e){var t=P(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)p[n]=t[n]})),h+=t})),t.abrupt("return",p);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}G.registerSaveRouter((function(e){return(0,b.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(We.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new We(e)}(e.slice(We.URL_SCHEME.length)):null}));var Je=function(){function e(t,n){if((0,k.Z)(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?((0,O.hu)("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=(0,b.OB)().platform.fetch,(0,O.hu)(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&(0,O.hu)(2===t.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return(0,x.Z)(e,[{key:"save",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){var n,r,i,a;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],i=V(t,r),n.body.append("model.json",new Blob([JSON.stringify(i)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),e.next=10,this.fetch(this.path,n);case 10:if(!(a=e.sent).ok){e.next=15;break}return e.abrupt("return",{modelArtifactsInfo:H(t),responses:[a]});case 15:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(a.status,"."));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){var t,n,r,i,a,o=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(i=n.modelTopology,a=n.weightsManifest,null!=i||null!=a){e.next=20;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 20:return e.abrupt("return",U(n,(function(e){return o.loadWeights(e)})));case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){var n,r,i,a,o,s,u,c,l,d,f,p,h,m,v,g,y,b,w;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=$e(n),i=(0,C.Z)(r,2),a=i[0],o=i[1],s=this.weightPathPrefix||a,u=[],c=(0,_.Z)(t);try{for(c.s();!(l=c.n()).done;)d=l.value,u.push.apply(u,(0,Ve.Z)(d.weights))}catch(Kr){c.e(Kr)}finally{c.f()}f=[],p=[],h=(0,_.Z)(t);try{for(h.s();!(m=h.n()).done;){v=m.value,g=(0,_.Z)(v.paths);try{for(g.s();!(y=g.n()).done;)b=y.value,null!=this.weightUrlConverter?p.push(this.weightUrlConverter(b)):f.push(s+b+o)}catch(Kr){g.e(Kr)}finally{g.f()}}}catch(Kr){h.e(Kr)}finally{h.f()}if(!this.weightUrlConverter){e.next=19;break}return e.t0=f.push,e.t1=f,e.t2=Ve.Z,e.next=16,Promise.all(p);case 16:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 19:return e.next=21,qe(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 21:return w=e.sent,e.abrupt("return",[u,j(w)]);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function $e(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function et(e){return null!=e.match(Je.URL_SCHEME_REGEX)}Je.URL_SCHEME_REGEX=/^https?:\/\//;var tt=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every((function(e){return et(e)})):et(e))?nt(e,t):null};function nt(e,t){return new Je(e,t)}function rt(e,t){return nt(e,t)}G.registerSaveRouter(tt),G.registerLoadRouter(tt);var it=function(){function e(t){(0,k.Z)(this,e),this.modelArtifacts=t}return(0,x.Z)(e,[{key:"load",value:function(){return this.modelArtifacts}}]),e}(),at=function(){function e(t){(0,k.Z)(this,e),this.saveHandler=t}return(0,x.Z)(e,[{key:"save",value:function(e){return this.saveHandler(e)}}]),e}(),ot=(0,x.Z)((function e(t){(0,k.Z)(this,e),t.load&&(this.load=function(){return Promise.resolve(t.load())}),t.save&&(this.save=function(e){return Promise.resolve(t.save(e))})}));function st(e,t,n,r){var i=arguments;return new ot(ut.apply(void 0,(0,Ve.Z)(i)))}function ut(e,t,n,r){if(1===arguments.length){var i=null!=e.modelTopology||null!=e.weightSpecs;return i?new it(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new it({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new it({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function ct(e){return new at(e)}function lt(e){return new at(e)}var dt=n(48354),ft=n(57221),pt=n(34326),ht=n(38640),mt=n(61240);var vt,gt=(0,ht.op)({confusionMatrix_:function(e,t,n){var r=(0,dt._1)(e,"labels","confusionMatrix"),i=(0,dt._1)(t,"predictions","confusionMatrix");O.hu(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, "+"but got ".concat(n)})),O.hu(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got ".concat(r.rank)})),O.hu(1===i.rank,(function(){return"Expected the rank of predictions to be 1, "+"but got ".concat(i.rank)})),O.hu(r.shape[0]===i.shape[0],(function(){return"Mismatch in the number of examples: "+"".concat(r.shape[0]," vs. ").concat(i.shape[0],". ")+"Labels and predictions should have the same number of elements."})),O.hu(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+"".concat(n)}));var a=(0,pt.l)((0,De.p)(r,"int32"),n),o=(0,pt.l)((0,De.p)(i,"int32"),n),s=(0,mt.p)(a),u=(0,ft.O)(s,o);return(0,De.p)(u,"int32")}}),yt=n(45774),bt=n(32145),wt=n(78864),kt=n(73123);function xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,i=!1,a=!1,o=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));s=!0}if(i){var u=2;if(i&&e.readyState<u)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}var c=(0,wt.pI)(bt.eB,m.BV.backendName);if(null!=c){var l={pixels:e},d={numChannels:t};return m.BV.runKernel(bt.eB,l,d)}var f,p,h=i?[e.videoWidth,e.videoHeight]:[e.width,e.height],v=(0,C.Z)(h,2),g=v[0],y=v[1];if(o)f=e.getContext("2d").getImageData(0,0,g,y).data;else if(r||n)f=e.data;else if(a||i||s){if(null==vt)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");vt=new OffscreenCanvas(1,1).getContext("2d")}else vt=document.createElement("canvas").getContext("2d");vt.canvas.width=g,vt.canvas.height=y,vt.drawImage(e,0,0,g,y),f=vt.getImageData(0,0,g,y).data}if(4===t)p=new Int32Array(f);else{var b=g*y;p=new Int32Array(b*t);for(var w=0;w<b;w++)for(var k=0;k<t;++k)p[w*t+k]=f[4*w+k]}var x=[y,g,t];return(0,kt.w)(p,x,"int32")}function _t(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}function St(e){return Et.apply(this,arguments)}function Et(){return Et=(0,E.Z)((0,S.Z)().mark((function e(t){var n,r,i,a=arguments;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:3,r=null,!(0,b.OB)().getBool("WRAP_TO_IMAGEBITMAP")||!_t(t)){e.next=15;break}return e.prev=3,e.next=6,createImageBitmap(t,{premultiplyAlpha:"none"});case 6:i=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),i=null;case 12:r=null!=i&&i.width===t.width&&i.height===t.height?i:t,e.next=16;break;case 15:r=t;case 16:return e.abrupt("return",xt(r,n));case 17:case"end":return e.stop()}}),e,null,[[3,9]])}))),Et.apply(this,arguments)}function Ct(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,E.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l,d,f,p,h,m,v,g,y,b;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,dt._1)(t,"img","toPixels"),t instanceof je.es||(i=r,r=(0,De.p)(i,"int32"),i.dispose()),2===r.rank||3===r.rank){e.next=4;break}throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(r.rank,"."));case 4:if(a=r.shape.slice(0,2),o=(0,C.Z)(a,2),s=o[0],u=o[1],!((c=2===r.rank?1:r.shape[2])>4||2===c)){e.next=8;break}throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(c));case 8:if("float32"===r.dtype||"int32"===r.dtype){e.next=10;break}throw new Error("Unsupported type for toPixels: ".concat(r.dtype,".")+" Please use float32 or int32 tensors.");case 10:return e.next=12,r.data();case 12:l=e.sent,d="float32"===r.dtype?255:1,f=new Uint8ClampedArray(u*s*4),p=0;case 16:if(!(p<s*u)){e.next=41;break}h=[0,0,0,255],m=0;case 19:if(!(m<c)){e.next=33;break}if(v=l[p*c+m],"float32"!==r.dtype){e.next=26;break}if(!(v<0||v>1)){e.next=24;break}throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(v,"."));case 24:e.next=29;break;case 26:if("int32"!==r.dtype){e.next=29;break}if(!(v<0||v>255)){e.next=29;break}throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(v,"."));case 29:1===c?(h[0]=v*d,h[1]=v*d,h[2]=v*d):h[m]=v*d;case 30:m++,e.next=19;break;case 33:f[(g=4*p)+0]=Math.round(h[0]),f[g+1]=Math.round(h[1]),f[g+2]=Math.round(h[2]),f[g+3]=Math.round(h[3]);case 38:++p,e.next=16;break;case 41:return null!=n&&(n.width=u,n.height=s,y=n.getContext("2d"),b=new ImageData(f,u,s),y.putImageData(b,0,0)),r!==t&&r.dispose(),e.abrupt("return",f);case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var At=(0,ht.op)({fromPixels_:xt});function Ot(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===(0,O.NA)(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var i=t.shape,a=i[i.length-1],o=1,s=0;s<i.length-1;++s)o*=i[s];var u=e.shape,c=i.slice();c.pop();for(var l=1,d=a;d<n;++d)l*=u[d],c.push(u[d]);var f=[].concat((0,Ve.Z)((0,O.e3)(e.shape).map((function(e){return e/l}))),[1]).slice(0,a);return[c,o,l,f]}var Rt=n(48604);function It(e,t,n){var r=e.shape.length;O.hu(r===t.length,(function(){return"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,").")})),O.hu(r===n.length,(function(){return"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")}));for(var i=function(i){O.hu(t[i]+n[i]<=e.shape[i],(function(){return"Error in slice".concat(r,"D: begin[").concat(i,"] + size[").concat(i,"] ")+"(".concat(t[i]+n[i],") would overflow input.shape[").concat(i,"] (").concat(e.shape[i],")")}))},a=0;a<r;++a)i(a)}function Nt(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Pt(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function Mt(e,t,n,r){for(var i=(0,Ve.Z)(e),a=i.length;a<r.length;a++)i.push(1);for(var o=0;o<n;o++)0===o?i[t]=1:(i.splice(t,0,1),i.pop());return i}function Lt(e,t,n){return n<=e?n:n-(t-1)}function Dt(e,t){for(var n=[],r=0;r<e;r++)n.push(t+r);return n}function Ft(e,t,n,r,i,a,o,s,u){var c=e.length,l=new Array(c),d=new Array(c),f=new Array(c);if(t.length&&n>0){var p=t[0],h=n+1;l=Bt(o,p,h,r,e),d=jt(s,p,h,i,e),f=Mt(a,p,h,e)}else for(var m=0;m<c;m++)l[m]=Vt(o,r,a,e,m,u),d[m]=Ut(s,i,a,e,m,u),f[m]=Zt(a,m,u);return{begin:l,end:d,strides:f}}function Bt(e,t,n,r,i){for(var a=(0,Ve.Z)(i),o=Dt(n,t),s=0;s<a.length;s++)if(o.indexOf(s)>-1)a[s]=0;else{var u=Lt(t,n,s),c=r[u];e&1<<u&&(c=0),a[s]=c}return a}function jt(e,t,n,r,i){for(var a=(0,Ve.Z)(i),o=Dt(n,t),s=0;s<a.length;s++)if(o.indexOf(s)>-1)a[s]=Number.MAX_SAFE_INTEGER;else{var u=Lt(t,n,s),c=r[u];e&1<<u&&(c=Number.MAX_SAFE_INTEGER),a[s]=c}for(var l=0;l<a.length;l++){var d=i[l];a[l]<0&&(a[l]+=d),a[l]=O.uZ(0,a[l],i[l])}return a}function Zt(e,t,n){var r=e[t];return(n&1<<t||null==r)&&(r=1),r}function Vt(e,t,n,r,i,a){var o=t[i],s=n[i]||1;(e&1<<i||a&1<<i||null==o)&&(o=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var u=r[i];return o<0&&(o+=u),o=O.uZ(0,o,u-1)}function Ut(e,t,n,r,i,a){var o=t[i],s=n[i]||1;(e&1<<i||a&1<<i||null==o)&&(o=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var u=r[i];return o<0&&(o+=u),o=s>0?O.uZ(0,o,u):O.uZ(-1,o,u-1)}function Wt(e,t,n){for(var r=n.length,i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(var a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function Ht(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function zt(e,t,n){var r,i,a=e.shape.length;return(r="number"===typeof t?[t].concat((0,Ve.Z)(new Array(a-1).fill(0))):t.length<a?t.concat(new Array(a-t.length).fill(0)):t.slice()).forEach((function(e){O.hu(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),i=(i=null==n?new Array(a).fill(-1):"number"===typeof n?[n].concat((0,Ve.Z)(new Array(a-1).fill(-1))):n.length<a?n.concat(new Array(a-n.length).fill(-1)):n).map((function(t,n){return t>=0?t:(O.hu(-1===t,(function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,".")})),e.shape[n]-r[n])})),[r,i]}function Gt(e,t,n,r,i,a,o,s,u){var c;if(null==r?(c=new Array(t.length)).fill(1):c=r,null!=o&&0!==(o&o-1))throw new Error("Multiple ellipses in slice is not allowed.");for(var l=!1,d={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:i,endMask:a,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:u},f=0;f<d.dims;f++)l&&0!==(1<<f&s)&&d.numAddAxisAfterEllipsis++,1<<f&o&&(l=!0);l||(d.ellipsisMask|=1<<d.dims,d.dims++);var p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;var n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(var r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask)for(var i=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);n<i;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r;else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,p);for(var h=!0,m=!0,v=!0,g=[],y=[],b=0;b<e.length;++b){if(0===p.strides[b])throw Error("strides[".concat(b,"] must be non-zero"));var w=!!(p.shrinkAxisMask&1<<b),k=e[b];if(-1!==k){var x=[p.beginMask&1<<b,p.endMask&1<<b],_=[p.strides[b]>0?0:-1,p.strides[b]>0?k:k-1];if(w&&p.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");v=v&&1===p.strides[b];var S=!!(p.beginMask&1<<b&&p.endMask&1<<b);if(p.beginValid&&p.endValid){if(w){var E=p.begin[b]<0?k+p.begin[b]:p.begin[b];if(p.begin[b]=E,p.end[b]=p.begin[b]+1,E<0||E>=k)throw Error("slice index ".concat(p.begin[b]," of dimension ").concat(b," out of bounds."))}else p.begin[b]=qt(p.begin[b],0,p.strides[b],k,x,_),p.end[b]=qt(p.end[b],1,p.strides[b],k,x,_);var C=1===p.strides[b]&&0===p.begin[b]&&p.end[b]===k;h=h&&C,m=m&&(0===b&&1===p.strides[b]||C)}else h=h&&1===p.strides[b]&&S,m=m&&(0===b&&1===p.strides[b]||S);var T=void 0,A=!1;if(p.beginValid&&p.endValid?(T=p.end[b]-p.begin[b],A=!0):w?(T=1,A=!0):S&&k>=0&&(T=p.strides[b]<0?-k:k,A=!0),A){var O=void 0;O=0===T||T<0!==p.strides[b]<0?0:Math.trunc(T/p.strides[b])+(T%p.strides[b]!==0?1:0),g.push(O)}else g.push(-1)}else g.push(w?1:-1)}for(var R=0;R<p.finalShapeGatherIndices.length;++R){var I=p.finalShapeGatherIndices[R];I>=0?y.push(g[I]):-2===I&&y.push(1)}var N=y.filter((function(e,t){return-2!==p.finalShapeGatherIndices[t]}));return{finalShapeSparse:N,finalShape:y,isIdentity:h,sliceDim0:m,isSimpleSlice:v,begin:p.begin,end:p.end,strides:p.strides}}function qt(e,t,n,r,i,a){if(i[t])return n>0?a[t]:a[t+1&1];var o=e<0?r+e:e;return o<a[0]?a[0]:o>a[1]?a[1]:o}var Kt=function(){function e(){(0,k.Z)(this,e)}return(0,x.Z)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),Yt=function(){function e(){(0,k.Z)(this,e),this.classNameMap={}}return(0,x.Z)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function Xt(e){(0,O.hu)(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),(0,O.hu)("string"===typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),(0,O.hu)(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),Yt.register(e)}var Qt=n(99064),Jt=n(70115),$t=.1;function en(e,t,n){return null==n&&(n=tn()),nn(e,t,(function(e,t){return sn(e,t,n)}))}function tn(){return 32===m.BV.backend.floatPrecision()?.001:$t}function nn(e,t,n){var r=!0;if(((0,O.fU)(e)||(0,O.fU)(t))&&(r=!1),(0,O.fU)(e)&&(0,O.fU)(t)&&(r=!0),r){var i=e.constructor.name,a=t.constructor.name;if(i!==a)throw new Error("Arrays are of different type. Actual: ".concat(i,". ")+"Expected: ".concat(a))}if(Array.isArray(e)&&Array.isArray(t)){var o=(0,dt.C)(e),s=(0,dt.C)(t);if(!(0,O.cO)(o,s))throw new Error("Arrays have different shapes. "+"Actual: [".concat(o,"]. Expected: [").concat(s,"]"))}var u=(0,O.fU)(e)?e:(0,O.xH)(e),c=(0,O.fU)(t)?t:(0,O.xH)(t);if(u.length!==c.length)throw new Error("Arrays have different lengths actual: ".concat(u.length," vs ")+"expected: ".concat(c.length,".\n")+"Actual:   ".concat(u,".\n")+"Expected: ".concat(c,"."));for(var l=0;l<c.length;++l){var d=u[l],f=c[l];if(!n(d,f))throw new Error("Arrays differ: actual[".concat(l,"] = ").concat(d,", expected[").concat(l,"] = ").concat(f,".\n")+"Actual:   ".concat(u,".\n")+"Expected: ".concat(c,"."))}}function rn(e,t){e().then((function(){return t.fail()}),(function(){return t()}))}function an(e,t){var n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return(0,O.HD)(e)||(0,O.HD)(e[0])||(0,O.HD)(t)||(0,O.HD)(t[0])?nn(e,n,(function(e,t){return e==t})):nn(e,t,(function(e,t){return sn(e,t,0)}))}function on(e,t,n){if(null==n&&(n=tn()),!sn(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t))}function sn(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function un(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:".concat(e[r]," low: ").concat(t,", high: ").concat(n))}function cn(e,t){var n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error("Expected ArrayBuffer to be of length "+"".concat(r.length,", but it was ").concat(n.length));for(var i=0;i<r.length;i++)if(n[i]!==r[i])throw new Error("Expected ArrayBuffer value at ".concat(i," to be ")+"".concat(r[i]," but got ").concat(n[i]," instead"))}function ln(e){for(var t=0;t<e.length;t++){var n=e[t];Array.isArray(n)?ln(n):e[t]=(0,Jt.encodeString)(n)}return e}var dn="3.18.0",fn=n(60136),pn=n(29388),hn=n(35875),mn=n(43312),vn=n(15750),gn=n(30651),yn=n(46902),bn=n(7391),wn=n(87293),kn=n(66450),xn=n(27067),_n=function(e){(0,fn.Z)(n,e);var t=(0,pn.Z)(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,x.Z)(n,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),i=r.value,a=r.grads;if(null!=n){var o=n.map((function(e){return{name:e.name,tensor:a[e.name]}}));this.applyGradients(o)}else this.applyGradients(a);return(0,hn.B9)(a),t?i:(i.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return(0,kn.pn)(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&(0,hn.B9)(this.iterations_)}},{key:"saveIterations",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.iterations_&&(this.iterations_=0),e.abrupt("return",{name:"iter",tensor:(0,xn.i)(this.iterations_,"int32")});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].tensor.data();case 2:return this.iterations_=e.sent[0],e.abrupt("return",t.slice(1));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Kt);Object.defineProperty(_n,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var Sn=function(e){(0,fn.Z)(n,e);var t=(0,pn.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,k.Z)(this,n),(i=t.call(this)).learningRate=e,i.rho=r,i.epsilon=a,i.accumulatedGrads=[],i.accumulatedUpdates=[],null==a&&(i.epsilon=m.BV.backend.epsilon()),i}return(0,x.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=m.BV.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:(0,hn.lu)((function(){return(0,wn.P)(i).variable(false)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:(0,hn.lu)((function(){return(0,wn.P)(i).variable(false)}))});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;(0,hn.lu)((function(){var e=(0,mn.I)((0,gn.d)(o,t.rho),(0,gn.d)((0,bn.h)(a),1-t.rho)),n=(0,gn.d)((0,vn.h)((0,yn._)((0,mn.I)(s,t.epsilon)),(0,yn._)((0,mn.I)(o,t.epsilon))),a),r=(0,mn.I)((0,gn.d)(s,t.rho),(0,gn.d)((0,bn.h)(n),1-t.rho));o.assign(e),s.assign(r);var u=(0,mn.I)((0,gn.d)(n,-t.learningRate),i);i.assign(u)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&((0,hn.B9)(this.accumulatedGrads.map((function(e){return e.variable}))),(0,hn.B9)(this.accumulatedUpdates.map((function(e){return e.variable}))))}},{key:"getWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){var t;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,Ve.Z)(this.accumulatedGrads),(0,Ve.Z)(this.accumulatedUpdates)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){var n;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),n}(_n);Sn.className="Adadelta",Xt(Sn);var En=n(8582),Cn=function(e){(0,fn.Z)(n,e);var t=(0,pn.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return(0,k.Z)(this,n),(r=t.call(this)).learningRate=e,r.initialAccumulatorValue=i,r.accumulatedGrads=[],r}return(0,x.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=m.BV.registeredVariables[n];if(null==t.accumulatedGrads[r]){t.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:(0,hn.lu)((function(){return(0,En.h)(i.shape,t.initialAccumulatorValue).variable(false)}))}}var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable;(0,hn.lu)((function(){var e=(0,mn.I)(o,(0,bn.h)(a));o.assign(e);var n=(0,mn.I)((0,gn.d)((0,vn.h)(a,(0,yn._)((0,mn.I)(e,m.BV.backend.epsilon()))),-t.learningRate),i);i.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&(0,hn.B9)(this.accumulatedGrads.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulatedGrads=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),n}(_n);Cn.className="Adagrad",Xt(Cn);var Tn=n(44334),An=n(84774),On=function(e){(0,fn.Z)(n,e);var t=(0,pn.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,k.Z)(this,n),(a=t.call(this)).learningRate=e,a.beta1=r,a.beta2=i,a.epsilon=o,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],(0,hn.lu)((function(){a.accBeta1=(0,xn.i)(r).variable(),a.accBeta2=(0,xn.i)(i).variable()})),null==o&&(a.epsilon=m.BV.backend.epsilon()),a}return(0,x.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);(0,hn.lu)((function(){var r=(0,An.l)(1,t.accBeta1),i=(0,An.l)(1,t.accBeta2);n.forEach((function(n,a){var o=m.BV.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:"".concat(n,"/m"),variable:(0,hn.lu)((function(){return(0,wn.P)(o).variable(false)}))}),null==t.accumulatedSecondMoment[a]&&(t.accumulatedSecondMoment[a]={originalName:"".concat(n,"/v"),variable:(0,hn.lu)((function(){return(0,wn.P)(o).variable(false)}))});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,c=t.accumulatedSecondMoment[a].variable,l=(0,mn.I)((0,gn.d)(u,t.beta1),(0,gn.d)(s,1-t.beta1)),d=(0,mn.I)((0,gn.d)(c,t.beta2),(0,gn.d)((0,bn.h)(s),1-t.beta2)),f=(0,vn.h)(l,r),p=(0,vn.h)(d,i);u.assign(l),c.assign(d);var h=(0,mn.I)((0,gn.d)((0,vn.h)(f,(0,mn.I)((0,yn._)(p),t.epsilon)),-t.learningRate),o);o.assign(h)}})),t.accBeta1.assign((0,gn.d)(t.accBeta1,t.beta1)),t.accBeta2.assign((0,gn.d)(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,hn.B9)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&(0,hn.B9)(this.accumulatedSecondMoment.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){var t;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,Ve.Z)(this.accumulatedFirstMoment),(0,Ve.Z)(this.accumulatedSecondMoment)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){var n,r=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,(0,hn.lu)((function(){r.accBeta1.assign((0,Tn.s)(r.beta1,r.iterations_+1)),r.accBeta2.assign((0,Tn.s)(r.beta2,r.iterations_+1))})),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),n}(_n);On.className="Adam",Xt(On);var Rn=n(7613),In=n(70705),Nn=function(e){(0,fn.Z)(n,e);var t=(0,pn.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,k.Z)(this,n),(a=t.call(this)).learningRate=e,a.beta1=r,a.beta2=i,a.epsilon=o,a.decay=s,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],(0,hn.lu)((function(){a.iteration=(0,xn.i)(0).variable(),a.accBeta1=(0,xn.i)(r).variable()})),null==o&&(a.epsilon=m.BV.backend.epsilon()),a}return(0,x.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);(0,hn.lu)((function(){var r=(0,An.l)(1,t.accBeta1),i=(0,vn.h)(-t.learningRate,(0,mn.I)((0,gn.d)(t.iteration,t.decay),1));n.forEach((function(n,a){var o=m.BV.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:"".concat(n,"/m"),variable:(0,wn.P)(o).variable(false)}),null==t.accumulatedWeightedInfNorm[a]&&(t.accumulatedWeightedInfNorm[a]={originalName:"".concat(n,"/v"),variable:(0,wn.P)(o).variable(false)});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,c=t.accumulatedWeightedInfNorm[a].variable,l=(0,mn.I)((0,gn.d)(u,t.beta1),(0,gn.d)(s,1-t.beta1)),d=(0,gn.d)(c,t.beta2),f=(0,Rn.W)(s),p=(0,In.g)(d,f);u.assign(l),c.assign(p);var h=(0,mn.I)((0,gn.d)((0,vn.h)(i,r),(0,vn.h)(l,(0,mn.I)(p,t.epsilon))),o);o.assign(h)}})),t.iteration.assign((0,mn.I)(t.iteration,1)),t.accBeta1.assign((0,gn.d)(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,hn.B9)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&(0,hn.B9)(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),n}(_n);Nn.className="Adamax",Xt(Nn);var Pn=function(e){(0,fn.Z)(n,e);var t=(0,pn.Z)(n);function n(e){var r;return(0,k.Z)(this,n),(r=t.call(this)).learningRate=e,r.setLearningRate(e),r}return(0,x.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=m.BV.registeredVariables[n];(0,hn.lu)((function(){var e=(0,mn.I)((0,gn.d)(t.c,i),a);a.assign(e)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=(0,hn.Cn)((0,xn.i)(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:if(0===(t=e.sent).length){e.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),n}(_n);Pn.className="SGD",Xt(Pn);var Mn=function(e){(0,fn.Z)(n,e);var t=(0,pn.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,k.Z)(this,n),(i=t.call(this,e)).learningRate=e,i.momentum=r,i.useNesterov=a,i.accumulations=[],i.m=(0,xn.i)(i.momentum),i}return(0,x.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=m.BV.registeredVariables[n];if(null==t.accumulations[r]){t.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:(0,hn.lu)((function(){return(0,wn.P)(i).variable(false)}))}}var a=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&(0,hn.lu)((function(){var e,n=(0,mn.I)((0,gn.d)(t.m,a),o);e=t.useNesterov?(0,mn.I)((0,gn.d)(t.c,(0,mn.I)(o,(0,gn.d)(n,t.m))),i):(0,mn.I)((0,gn.d)(t.c,n),i),a.assign(n),i.assign(e)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&(0,hn.B9)(this.accumulations.map((function(e){return e.variable})))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulations=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),n}(Pn);Mn.className="Momentum",Xt(Mn);var Ln=function(e){(0,fn.Z)(n,e);var t=(0,pn.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,k.Z)(this,n),(r=t.call(this)).learningRate=e,r.decay=i,r.momentum=a,r.epsilon=o,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=s,null==o&&(r.epsilon=m.BV.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return r}return(0,x.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=m.BV.registeredVariables[n],a=!1;null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:(0,hn.lu)((function(){return(0,wn.P)(i).variable(a)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:(0,hn.lu)((function(){return(0,wn.P)(i).variable(a)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:(0,hn.lu)((function(){return(0,wn.P)(i).variable(a)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var s=t.accumulatedMeanSquares[r].variable,u=t.accumulatedMoments[r].variable;(0,hn.lu)((function(){var e=(0,mn.I)((0,gn.d)(s,t.decay),(0,gn.d)((0,bn.h)(o),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,a=(0,mn.I)((0,gn.d)(n,t.decay),(0,gn.d)(o,1-t.decay)),c=(0,vn.h)((0,gn.d)(o,t.learningRate),(0,yn._)((0,An.l)(e,(0,mn.I)((0,bn.h)(a),t.epsilon)))),l=(0,mn.I)((0,gn.d)(u,t.momentum),c);s.assign(e),n.assign(a),u.assign(l);var d=(0,An.l)(i,l);i.assign(d)}else{var f=(0,mn.I)((0,gn.d)(s,t.decay),(0,gn.d)((0,bn.h)(o),1-t.decay)),p=(0,mn.I)((0,gn.d)(u,t.momentum),(0,vn.h)((0,gn.d)(o,t.learningRate),(0,yn._)((0,mn.I)(f,t.epsilon))));s.assign(f),u.assign(p);var h=(0,An.l)(i,p);i.assign(h)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&(0,hn.B9)(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&(0,hn.B9)(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&(0,hn.B9)(this.accumulatedMoments.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(){var t;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,Ve.Z)(this.accumulatedMeanSquares),(0,Ve.Z)(this.accumulatedMoments)),this.centered&&t.push.apply(t,(0,Ve.Z)(this.accumulatedMeanGrads)),e.next=4,this.saveIterations();case 4:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,E.Z)((0,S.Z)().mark((function e(t){var n,r;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=this.centered?t.length/3:t.length/2,r=!1,this.accumulatedMeanSquares=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),n}(_n);Ln.className="RMSProp",Xt(Ln);var Dn=function(){function e(){(0,k.Z)(this,e)}return(0,x.Z)(e,null,[{key:"sgd",value:function(e){return new Pn(e)}},{key:"momentum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Mn(e,t,n)}},{key:"rmsprop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Ln(e,t,n,r,i)}},{key:"adam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new On(e,t,n,r)}},{key:"adadelta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Sn(e,t,n)}},{key:"adamax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new Nn(e,t,n,r,i)}},{key:"adagrad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new Cn(e,t)}}]),e}(),Fn=n(3525),Bn=n(13398),jn=n(47627),Zn={sgd:Dn.sgd,momentum:Dn.momentum,adadelta:Dn.adadelta,adagrad:Dn.adagrad,rmsprop:Dn.rmsprop,adamax:Dn.adamax,adam:Dn.adam},Vn="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:function(e){return e()};function Un(){return new Promise((function(e){return Vn((function(){return e()}))}))}var Wn=n(88473);function Hn(e,t){var n=e[0].length;e.forEach((function(e,t){O.hu(e.length===n,(function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")}))})),O.hu(t>=0&&t<n,(function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")}));var r=e[0];e.forEach((function(e,i){for(var a=0;a<n;a++)O.hu(a===t||e[a]===r[a],(function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(i,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(i,".")}))}))}function zn(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}var Gn=n(39151),qn=n(5171),Kn=30;function Yn(e){return e<=Kn?e:(0,O.jP)(e,Math.floor(Math.sqrt(e)))}function Xn(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function Qn(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[];if(r)(i=i.concat(t.slice(0))).push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);for(var a=t.length,o=0;o<a;++o)i=i.concat([e[o+1]/t[o],t[o]]);i=i.concat(e.slice(a+1))}return i}function Jn(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];if(n){r.push(t);for(var i=t+1;i<e;++i)i<=2*t?(r.push(i),r.push(i-(t+1))):r.push(i)}else{for(var a=[],o=[],s=1;s<e;++s)s>=2*t+1||s%2===1?o.push(s):a.push(s);r.push.apply(r,a),r.push(0),r.push.apply(r,o)}return r}function $n(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(var a=1;a<e.length;++a)a<=t.length?r?i.push(t[a-1]*e[a]):i.push(e[a]/t[a-1]):i.push(e[a]);return i}function er(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function tr(e,t,n){for(var r=e.slice(0,1),i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}var nr=1.7580993408473768,rr=1.0507009873554805,ir=.3275911,ar=.254829592,or=-.284496736,sr=1.421413741,ur=-1.453152027,cr=1.061405429,lr=n(17269);function dr(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function fr(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function pr(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=0;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function hr(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=2;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function mr(e,t){return{real:e[2*t],imag:e[2*t+1]}}function vr(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function gr(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),i=0;i<Math.ceil(e/2);i++){var a=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(a),r[i]=Math.sin(a)}return{real:n,imag:r}}function yr(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}var br="->",wr=/->/g;function kr(e,t){var n=((e=e.replace(/\s/g,"")).length-e.replace(wr,"").length)/br.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(br,'").'));var r=e.split(br),i=(0,C.Z)(r,2),a=i[0],o=i[1];(0,O.hu)(-1===a.indexOf("..."),(function(){return'The ellipsis notation ("'.concat("...",'") is not supported yet.')}));var s=a.split(","),u=s.length;if(t!==u)throw new Error("Expected ".concat(u," input tensors, received ").concat(t));if(u>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var c=[],l=function(e){var t=o[e];if(!s.some((function(e){return-1!==e.indexOf(t)})))throw new Error("Output subscripts contain the label ".concat(t," ")+"not present in the input subscripts.");-1===c.indexOf(t)&&c.push(t)},d=0;d<o.length;++d)l(d);for(var f=0;f<a.length;++f){var p=a[f];-1===c.indexOf(p)&&","!==p&&c.push(p)}for(var h=new Array(s.length),m=0;m<u;++m){if(new Set(s[m].split("")).size!==s[m].length)throw new Error("Found duplicate axes in input component ".concat(s[m],". ")+"Support for duplicate axes in input is not implemented yet.");h[m]=[];for(var v=0;v<s[m].length;++v)h[m].push(c.indexOf(s[m][v]))}for(var g=c.length,y=[],b=o.length;b<g;++b)y.push(b);return{allDims:c,summedDims:y,idDims:h}}function xr(e,t){var n=new Array(e);n.fill(-1);for(var r=0;r<t.length;++r)n[t[r]]=r;for(var i=[],a=0;a<e;++a)-1===n[a]&&i.push(a);return{permutationIndices:n=n.filter((function(e){return-1!==e})),expandDims:i}}function _r(e,t,n){for(var r=new Array(e),i=function(e){for(var i=n[e].shape,a=function(n){void 0===r[t[e][n]]?r[t[e][n]]=i[n]:(0,O.hu)(r[t[e][n]]===i[n],(function(){return"Expected dimension ".concat(r[t[e][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(i),", ")+"but got dimension ".concat(i[n])}))},o=0;o<t[e].length;++o)a(o)},a=0;a<n.length;++a)i(a)}function Sr(e,t){var n,r=e,i=[];0===e.length&&r.push(-1),n=e.length+1;for(var a=0;a<n;++a)i.push([]);for(var o=[],s=0;s<r.length;++s){var u,c=Cr(t,r[s]),l=(0,_.Z)(c);try{for(l.s();!(u=l.n()).done;){var d=u.value;-1===o.indexOf(d)&&(i[s].push(d),o.push(d))}}catch(Kr){l.e(Kr)}finally{l.f()}}return{path:r,steps:i}}function Er(e){return e.every((function(e,t){return e===t}))}function Cr(e,t){for(var n=[],r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function Tr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)(0,O.hu)(e.shape[n]%t===0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(e.shape[n]/t);else{var i=t.reduce((function(e,t){return-1===t&&(e+=1),e}),0);(0,O.hu)(i<=1,(function(){return"There should be only one negative value in split array."}));var a=t.indexOf(-1);if(-1!==a){var o=t.reduce((function(e,t){return t>0?e+t:e}));t[a]=e.shape[n]-o}(0,O.hu)(e.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t}return r}function Ar(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function Or(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function Rr(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function Ir(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function Nr(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function Pr(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Mr(e,t){var n=(0,O.NA)(e),r=(0,O.NA)(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function Lr(e,t){var n=(0,O.NA)(e),r=(0,O.NA)(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function Dr(){return"segment ids must be >= 0"}function Fr(){return"segment ids are not increasing"}function Br(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function jr(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function Zr(e,t){var n,r=!1;for(e<=Kn?(n=e,r=!0):n=(0,O.jP)(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=(0,O.jP)(e,n+1);return n}function Vr(e,t,n){for(var r=[],i=e.length,a=0;a<i;a++)a!==t?r.push(e[a]):r.push(n);return r}function Ur(e,t,n,r){var i=t.shape.length,a=e.shape.length;if(0!==r&&(r<-i||r>i))throw new Error("Expect batchDims in the range of [-".concat(i,", ").concat(i,"], but got ").concat(r));if(r<0&&(r+=i),r>a)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(a,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(var o=0;o<r;++o)if(e.shape[o]!==t.shape[o])throw new Error("x.shape[".concat(o,"]: ").concat(e.shape[o]," should be equal to indices.shape[").concat(o,"]: ").concat(t.shape[o],"."));for(var s=e.shape[n],u=[],c=1,l=1,d=1,f=0;f<r;++f)u.push(e.shape[f]),c*=e.shape[f];for(var p=r;p<n;p++)u.push(e.shape[p]),l*=e.shape[p];for(var h=r;h<i;h++)u.push(t.shape[h]);for(var m=n+1;m<a;m++)u.push(e.shape[m]),d*=e.shape[m];return{batchSize:c,sliceSize:d,outerSize:l,dimSize:s,outputShape:u}}function Wr(e){try{return e.map((function(e){return(0,Jt.decodeString)(e)}))}catch(Kr){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(Kr))}}function Hr(e){return e.map((function(e){return(0,Jt.encodeString)(e)}))}var zr=n(60745),Gr=n(24189),qr=n(54679)},32145:function(e,t,n){"use strict";n.d(t,{$H:function(){return dt},$g:function(){return $},$w:function(){return K},Ac:function(){return ve},BM:function(){return Fe},By:function(){return Z},CA:function(){return Ee},D2:function(){return Vt},Dl:function(){return ut},Eh:function(){return I},FK:function(){return Nt},G3:function(){return en},GB:function(){return Pt},Gc:function(){return Dt},HE:function(){return te},HZ:function(){return pt},Hh:function(){return Le},Hm:function(){return mt},IK:function(){return c},IM:function(){return w},J$:function(){return _e},J_:function(){return be},Jh:function(){return g},Kg:function(){return at},L8:function(){return Lt},Ly:function(){return S},M2:function(){return f},MI:function(){return Xt},MR:function(){return It},MZ:function(){return Ie},NE:function(){return ie},NZ:function(){return Ke},O3:function(){return Ft},OA:function(){return Ze},OR:function(){return le},OU:function(){return Ve},OV:function(){return je},Om:function(){return ne},Oy:function(){return m},PY:function(){return Oe},Ph:function(){return St},QC:function(){return v},QR:function(){return W},Qg:function(){return ye},Qi:function(){return rt},Qv:function(){return rn},RF:function(){return C},RO:function(){return y},RQ:function(){return Tt},Ru:function(){return on},SX:function(){return ee},SY:function(){return r},Sb:function(){return yt},Sp:function(){return a},T0:function(){return H},TQ:function(){return Mt},TR:function(){return j},To:function(){return nn},Tr:function(){return Kt},Uy:function(){return ce},VG:function(){return i},Vb:function(){return qe},Vc:function(){return U},Vf:function(){return Re},Vn:function(){return Q},W0:function(){return et},XD:function(){return an},XL:function(){return k},Xk:function(){return qt},Xz:function(){return s},Y0:function(){return oe},YF:function(){return ae},YW:function(){return jt},Yo:function(){return De},Zb:function(){return Te},Zj:function(){return Zt},Zz:function(){return O},_J:function(){return zt},_V:function(){return dn},_Y:function(){return vt},_k:function(){return b},_t:function(){return Ut},a5:function(){return Rt},aJ:function(){return d},av:function(){return we},b9:function(){return cn},bK:function(){return Wt},bV:function(){return kt},c1:function(){return He},cW:function(){return Jt},ci:function(){return z},cy:function(){return $e},de:function(){return ue},dp:function(){return ht},e0:function(){return wt},e6:function(){return ct},e7:function(){return Ce},eB:function(){return un},eE:function(){return E},eZ:function(){return Me},ek:function(){return X},gJ:function(){return T},h8:function(){return sn},hd:function(){return re},i5:function(){return Ot},iH:function(){return V},iJ:function(){return ge},iW:function(){return ke},iZ:function(){return me},ik:function(){return F},jM:function(){return h},jQ:function(){return Ge},je:function(){return de},kU:function(){return Ae},kp:function(){return tn},ku:function(){return Xe},lu:function(){return fn},ly:function(){return it},m2:function(){return Ht},mK:function(){return bt},mT:function(){return Be},mc:function(){return B},mh:function(){return N},mm:function(){return o},n9:function(){return Qt},nh:function(){return Bt},nr:function(){return _t},o0:function(){return st},o2:function(){return D},oF:function(){return Et},oH:function(){return J},oT:function(){return u},p2:function(){return Ct},p4:function(){return Y},pe:function(){return ot},q1:function(){return he},q2:function(){return We},q8:function(){return ze},qC:function(){return Ne},qI:function(){return Pe},qW:function(){return tt},qi:function(){return pe},qk:function(){return ft},qw:function(){return p},r7:function(){return xe},s1:function(){return Gt},sE:function(){return Yt},sH:function(){return fe},sJ:function(){return l},sL:function(){return G},us:function(){return ln},uv:function(){return Je},vF:function(){return Ue},vt:function(){return Se},vw:function(){return se},w3:function(){return At},wU:function(){return P},wY:function(){return Ye},we:function(){return nt},wm:function(){return M},wx:function(){return $t},x1:function(){return L},xJ:function(){return lt},xQ:function(){return xt},xn:function(){return A},y7:function(){return q},yQ:function(){return Qe},yj:function(){return R},zb:function(){return gt},zv:function(){return _},zw:function(){return x}});var r="Abs",i="Acos",a="Acosh",o="Add",s="AddN",u="All",c="Any",l="ArgMax",d="ArgMin",f="Asin",p="Asinh",h="Atan",m="Atanh",v="Atan2",g="AvgPool",y="AvgPoolGrad",b="AvgPool3D",w="AvgPool3DGrad",k="BatchMatMul",x="BatchToSpaceND",_="Bincount",S="BroadcastTo",E="BroadcastArgs",C="Cast",T="Ceil",A="ClipByValue",O="Complex",R="ComplexAbs",I="Concat",N="Conv2D",P="Conv2DBackpropFilter",M="Conv2DBackpropInput",L="Conv3D",D="Conv3DBackpropFilterV2",F="Conv3DBackpropInputV2",B="Cos",j="Cosh",Z="Cumprod",V="Cumsum",U="CropAndResize",W="DenseBincount",H="DepthToSpace",z="DepthwiseConv2dNative",G="DepthwiseConv2dNativeBackpropFilter",q="DepthwiseConv2dNativeBackpropInput",K="Diag",Y="Dilation2D",X="Dilation2DBackpropInput",Q="Dilation2DBackpropFilter",J="RealDiv",$="Einsum",ee="Elu",te="EluGrad",ne="Erf",re="Equal",ie="Exp",ae="ExpandDims",oe="Expm1",se="FFT",ue="Fill",ce="FlipLeftRight",le="Floor",de="FloorDiv",fe="FusedBatchNorm",pe="GatherV2",he="GatherNd",me="Greater",ve="GreaterEqual",ge="Identity",ye="IFFT",be="Imag",we="IsFinite",ke="IsInf",xe="IsNan",_e="LeakyRelu",Se="Less",Ee="LessEqual",Ce="LinSpace",Te="Log",Ae="Log1p",Oe="LogicalAnd",Re="LogicalNot",Ie="LogicalOr",Ne="LogSoftmax",Pe="LowerBound",Me="LRN",Le="LRNGrad",De="Max",Fe="Maximum",Be="MaxPool",je="MaxPoolGrad",Ze="MaxPool3D",Ve="MaxPool3DGrad",Ue="MaxPoolWithArgmax",We="Mean",He="Min",ze="Minimum",Ge="MirrorPad",qe="Mod",Ke="Multinomial",Ye="Multiply",Xe="Neg",Qe="NotEqual",Je="NonMaxSuppressionV3",$e="NonMaxSuppressionV4",et="NonMaxSuppressionV5",tt="OnesLike",nt="OneHot",rt="Pack",it="PadV2",at="Pool",ot="Pow",st="Prelu",ut="Prod",ct="Range",lt="Real",dt="Reciprocal",ft="Relu",pt="Reshape",ht="ResizeNearestNeighbor",mt="ResizeNearestNeighborGrad",vt="ResizeBilinear",gt="ResizeBilinearGrad",yt="Relu6",bt="Reverse",wt="Round",kt="Rsqrt",xt="ScatterNd",_t="SearchSorted",St="Select",Et="Selu",Ct="Slice",Tt="Sin",At="Sinh",Ot="Sign",Rt="Sigmoid",It="Softplus",Nt="Sqrt",Pt="Sum",Mt="SpaceToBatchND",Lt="SplitV",Dt="Softmax",Ft="SparseFillEmptyRows",Bt="SparseReshape",jt="SparseSegmentMean",Zt="SparseSegmentSum",Vt="SparseToDense",Ut="SquaredDifference",Wt="Square",Ht="StridedSlice",zt="StringNGrams",Gt="StringSplit",qt="StringToHashBucketFast",Kt="Sub",Yt="Tan",Xt="Tanh",Qt="Tile",Jt="TopK",$t="Transform",en="Transpose",tn="Unique",nn="Unpack",rn="UnsortedSegmentSum",an="UpperBound",on="ZerosLike",sn="Step",un="FromPixels",cn="RotateWithOffset",ln="_FusedMatMul",dn="FusedConv2D",fn="FusedDepthwiseConv2D"},78864:function(e,t,n){"use strict";n.d(t,{Li:function(){return p},T3:function(){return v},bt:function(){return m},nE:function(){return h},pI:function(){return c},tr:function(){return d},uk:function(){return l},wC:function(){return f}});var r=n(29439),i=n(35050),a=n(96581),o=n(17269),s=(0,a.R)("kernelRegistry",(function(){return new Map})),u=(0,a.R)("gradRegistry",(function(){return new Map}));function c(e,t){var n=g(e,t);return s.get(n)}function l(e){return u.get(e)}function d(e){for(var t=s.entries(),n=[];;){var i=t.next(),a=i.done,o=i.value;if(a)break;var u=(0,r.Z)(o,2),c=u[0],l=u[1],d=c.split("_");(0,r.Z)(d,1)[0]===e&&n.push(l)}return n}function f(e){var t=e.kernelName,n=e.backendName,r=g(t,n);s.has(r)&&o.Z("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),s.set(r,e)}function p(e){var t=e.kernelName;u.has(t)&&(0,i.OB)().getBool("DEBUG")&&o.Z("Overriding the gradient for '".concat(t,"'")),u.set(t,e)}function h(e,t){var n=g(e,t);if(!s.has(n))throw new Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));s.delete(n)}function m(e){if(!u.has(e))throw new Error("The gradient '".concat(e,"' for backend is not registered"));u.delete(e)}function v(e,t){d(e).forEach((function(e){f(Object.assign({},e,{backendName:t}))}))}function g(e,t){return"".concat(t,"_").concat(e)}},17269:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},c:function(){return a}});var r=n(35050);function i(){var e;(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||(e=console).warn.apply(e,arguments)}function a(){var e;(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||(e=console).log.apply(e,arguments)}},7613:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({abs_:function(e){var t=(0,a._1)(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return r.BV.runKernel(i.yj,n)}var o={x:t};return r.BV.runKernel(i.SY,o)}})},1719:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({acos_:function(e){var t={x:(0,a._1)(e,"x","acos")};return r.BV.runKernel(i.VG,t)}})},24502:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({acosh_:function(e){var t={x:(0,a._1)(e,"x","acosh")};return r.BV.runKernel(i.Sp,t)}})},43312:function(e,t,n){"use strict";n.d(t,{I:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({add_:function(e,t){var n=(0,s._1)(e,"a","add"),u=(0,s._1)(t,"b","add"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),d={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.mm,d)}})},15506:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({addN_:function(e){o.hu(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),o.hu(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)}));var t=e.map((function(e,t){return(0,a._1)(e,"tensors".concat(t),"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!o.cO(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var s=t;return r.BV.runKernel(i.Xz,s)}})},14108:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","all","bool"),s={x:o},u={axis:t,keepDims:n};return r.BV.runKernel(i.oT,s,u)}})},58543:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","any","bool"),s={x:o},u={axis:t,keepDims:n};return r.BV.runKernel(i.IK,s,u)}})},29995:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","argMax"),o={x:n},s={axis:t};return r.BV.runKernel(i.sJ,o,s)}})},95157:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","argMin"),o={x:n},s={axis:t};return r.BV.runKernel(i.aJ,o,s)}})},33053:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({asin_:function(e){var t={x:(0,a._1)(e,"x","asin")};return r.BV.runKernel(i.M2,t)}})},30054:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({asinh_:function(e){var t={x:(0,a._1)(e,"x","asinh")};return r.BV.runKernel(i.qw,t)}})},64778:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({atan_:function(e){var t={x:(0,a._1)(e,"x","atan")};return r.BV.runKernel(i.jM,t)}})},32227:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({atan2_:function(e,t){var n=(0,s._1)(e,"a","atan2"),u=(0,s._1)(t,"b","atan2"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),d={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.QC,d)}})},47897:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({atanh_:function(e){var t={x:(0,a._1)(e,"x","atanh")};return r.BV.runKernel(i.Oy,t)}})},49204:function(e,t,n){"use strict";n.d(t,{w:function(){return d}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(99118),u=n(39151),c=n(38640),l=n(75561);var d=(0,c.op)({avgPool_:function(e,t,n,c,d){var f=(0,a._1)(e,"x","avgPool","float32");o.hu(u.jT(n,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")}));var p=f,h=!1;3===f.rank&&(h=!0,p=(0,l.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),o.hu(4===p.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(p.rank,".")})),u.m("avgPool",c,d);var m={x:p},v={filterSize:t,strides:n,pad:c,dimRoundingMode:d},g=r.BV.runKernel(i.Jh,m,v);return g=(0,s.p)(g,f.dtype),h?(0,l.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},65840:function(e,t,n){"use strict";n.d(t,{u:function(){return d}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(99118),c=n(38640),l=n(75561);var d=(0,c.op)({avgPool3d_:function(e,t,n,c,d){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",p=(0,a._1)(e,"x","avgPool3d","float32"),h=p,m=!1;4===p.rank&&(m=!0,h=(0,l.X)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),o.hu(5===h.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(h.rank,".")})),o.hu("NDHWC"===f,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(f)})),(0,s.m)("avgPool3d",c,d);var v={x:h},g={filterSize:t,strides:n,pad:c,dimRoundingMode:d,dataFormat:f},y=r.BV.runKernel(i._k,v,g);return y=(0,u.p)(y,h.dtype),m?(0,l.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},88473:function(e,t,n){"use strict";n.d(t,{LJ:function(){return l},Q3:function(){return c},Vh:function(){return a},YB:function(){return i},kz:function(){return o},lB:function(){return u},rv:function(){return s},sY:function(){return d}});var r=n(36147);function i(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function a(e,t,n){for(var r=e.length+t.length,i=[],a=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[a++]):i.push(t[o++]);return i}function o(e,t){for(var n=[],r=e.length,i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);var a=t.map((function(t){return e[t]}));return[n,a]}function s(e,t){return a(e,t.map((function(e){return 1})),t)}function u(e,t,n){r.hu(i(t,n),(function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")}))}function c(e,t){if(i(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function l(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function d(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}},36994:function(e,t,n){"use strict";n.d(t,{E:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({batchToSpaceND_:function(e,t,n){var s=(0,a._1)(e,"x","batchToSpaceND"),u=t.reduce((function(e,t){return e*t}));o.hu(s.rank>=1+t.length,(function(){return"input rank is ".concat(s.rank," but should be > than blockShape.length ").concat(t.length)})),o.hu(n.length===t.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)})),o.hu(s.shape[0]%u===0,(function(){return"input tensor batch is ".concat(s.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(u)}));var c={x:s},l={blockShape:t,crops:n};return r.BV.runKernel(i.zw,c,l)}})},63700:function(e,t,n){"use strict";n.d(t,{t:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(75561);var u=(0,n(38640).op)({batchNorm_:function(e,t,n,u,c,l){null==l&&(l=.001);var d,f,p=(0,a._1)(e,"x","batchNorm"),h=(0,a._1)(t,"mean","batchNorm"),m=(0,a._1)(n,"variance","batchNorm");null!=c&&(d=(0,a._1)(c,"scale","batchNorm")),null!=u&&(f=(0,a._1)(u,"offset","batchNorm")),o.hu(h.rank===m.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),o.hu(null==f||h.rank===f.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),o.hu(null==d||h.rank===d.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var v=function(e){return 0===e.rank||1===e.rank?(0,s.X)(e,[1,1,1,e.size]):2===e.rank?(0,s.X)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,s.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(p),g={x:v,scale:d,offset:f,mean:h,variance:m},y={varianceEpsilon:l},b=r.BV.runKernel(i.sH,g,y);return(0,s.X)(b,p.shape)}})},77531:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({bincount_:function(e,t,n){var s=(0,a._1)(e,"x","bincount"),u=(0,a._1)(t,"weights","bincount");o.hu("int32"===s.dtype,(function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(s.dtype)})),o.hu(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),o.hu(u.size===s.size||0===u.size,(function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(s.shape,", weights shape: ")+"".concat(u.shape,".")}));var c={x:s,weights:u},l={size:n};return r.BV.runKernel(i.zv,c,l)}})},80238:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({broadcastArgs_:function(e,t){var n=(0,a._1)(e,"s0","broadcastArgs","int32"),o=(0,a._1)(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==o.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(o.rank));var s={s0:n,s1:o};return r.BV.runKernel(i.eE,s)}})},49742:function(e,t,n){"use strict";n.d(t,{U:function(){return c}});var r=n(70318),i=n(32145),a=n(48354),o=n(10672),s=n(38640),u=n(75561);var c=(0,s.op)({broadcastTo_:function(e,t){var n=(0,a._1)(e,"broadcastTo","x"),s=n.shape;if(t.some((function(e){return!(e>0)||e%1!==0})))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(t,"]."));if(t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var c=n.shape.slice();c.length<t.length;)c.unshift(1);n=(0,u.X)(n,c)}for(var l=n.shape,d=Array.from(t),f=t.length-1;f>=0;f--)if(l[f]===t[f])d[f]=1;else if(1!==n.shape[f])throw new Error("broadcastTo(): [".concat(s,"] cannot be broadcast to [").concat(t,"]."));var p=d.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));if(0===p.length)return(0,o.d)(n);var h={x:n},m={reps:d};return r.BV.runKernel(i.n9,h,m)}})},45774:function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=[],i=0;i<n;i++){var a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}function i(e,t){for(var n=[],r=0;r<t.length;r++){var i=e[e.length-r-1],a=t.length-r-1,o=t[a];(null==i||1===i&&o>1)&&n.unshift(a)}return n}function a(e,t){for(var n=[],r=Math.max(e.length,t.length),i=0;i<r;i++){var a=e[e.length-i-1];null==a&&(a=1);var o=t[t.length-i-1];if(null==o&&(o=1),1===a)n.unshift(o);else if(1===o)n.unshift(a);else{if(a!==o){var s="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(s)}n.unshift(a)}}return n}n.r(t),n.d(t,{assertAndGetBroadcastShape:function(){return a},getBroadcastDims:function(){return r},getReductionAxes:function(){return i}})},77039:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(4376),i=n(36147);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",i.Mu(e),new r.YD(e,t,n)}},99118:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({cast_:function(e,t){var n=(0,a._1)(e,"x","cast");if(!o.LP(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var s={x:n},u={dtype:t};return r.BV.runKernel(i.RF,s,u)}})},31396:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({ceil_:function(e){var t={x:(0,a._1)(e,"x","ceil","float32")};return r.BV.runKernel(i.gJ,t)}})},89836:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({clipByValue_:function(e,t,n){var s=(0,a._1)(e,"x","clipByValue");o.hu(t<=n,(function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")}));var u={x:s},c={clipValueMin:t,clipValueMax:n};return r.BV.runKernel(i.xn,u,c)}})},10672:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({clone_:function(e){var t={x:(0,a._1)(e,"x","clone","string_or_numeric")};return r.BV.runKernel(i.iJ,t)}})},59253:function(e,t,n){"use strict";n.d(t,{P:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({complex_:function(e,t){var n=(0,a._1)(e,"real","complex"),s=(0,a._1)(t,"imag","complex");o.k5(n.shape,s.shape,"real and imag shapes, ".concat(n.shape," and ").concat(s.shape,", ")+"must match in call to tf.complex().");var u={real:n,imag:s};return r.BV.runKernel(i.Zz,u)}})},34836:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(10672);var u=(0,n(38640).op)({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,o.hu)(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=(0,a.sI)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return(0,s.d)(n[0]);var u=n,c={axis:t};return r.BV.runKernel(i.Eh,u,c)}})},44918:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r=n(48354),i=n(36147),a=n(93457),o=n(39151),s=n(38640),u=n(75561);var c=(0,s.op)({conv1d_:function(e,t,n,s){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,d=arguments.length>6?arguments[6]:void 0,f=(0,r._1)(e,"x","conv1d"),p=(0,r._1)(t,"filter","conv1d"),h=f,m=!1;2===f.rank&&(m=!0,h=(0,u.X)(f,[1,f.shape[0],f.shape[1]])),i.hu(3===h.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(h.rank,".")})),i.hu(3===p.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(p.rank,".")})),o.m("conv1d",s,d),i.hu(h.shape[2]===p.shape[1],(function(){return"Error in conv1d: depth of input (".concat(h.shape[2],") must match ")+"input depth for filter ".concat(p.shape[1],".")})),i.hu(o.jT(n,l),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(l,"'")})),i.hu("NWC"===c,(function(){return"Error in conv1d: got dataFormat of ".concat(c," but only NWC is currently supported.")}));var v=(0,u.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]]),g=(0,u.X)(h,[h.shape[0],1,h.shape[1],h.shape[2]]),y=[1,n],b=[1,l],w="NHWC",k=(0,a.T)(g,v,y,s,w,b,d);return m?(0,u.X)(k,[k.shape[2],k.shape[3]]):(0,u.X)(k,[k.shape[0],k.shape[2],k.shape[3]])}})},93457:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),c=n(75561);var l=(0,u.op)({conv2d_:function(e,t,n,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6?arguments[6]:void 0,p=(0,a._1)(e,"x","conv2d","float32"),h=(0,a._1)(t,"filter","conv2d","float32"),m=p,v=!1;3===p.rank&&(v=!0,m=(0,c.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),o.hu(4===m.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(m.rank,".")})),o.hu(4===h.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")})),s.m("conv2d",u,f);var g="NHWC"===l?m.shape[3]:m.shape[1];o.hu(g===h.shape[2],(function(){return"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(h.shape[2],".")})),o.hu(s.jT(n,d),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(d,"'")}));var y={x:m,filter:h},b={strides:n,pad:u,dataFormat:l,dilations:d,dimRoundingMode:f},w=r.BV.runKernel(i.mh,y,b);return v?(0,c.X)(w,[w.shape[1],w.shape[2],w.shape[3]]):w}})},21045:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var r=n(70318),i=n(32145),a=n(36147),o=n(39151),s=n(38640),u=n(75561);var c=(0,s.op)({conv2DBackpropInput_:function(e,t,n,s,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=arguments.length>6?arguments[6]:void 0;a.hu(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var f=e,p=t,h=!1;3===t.rank&&(h=!0,p=(0,u.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),f=[1,e[0],e[1],e[2]]),a.hu(4===f.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(f.length,".")})),a.hu(4===p.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(p.rank)})),a.hu(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)}));var m="NHWC"===l?f[3]:f[1],v="NHWC"===l?p.shape[3]:p.shape[1];a.hu(m===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(m,") must ")+"match input depth for filter ".concat(n.shape[2],".")})),a.hu(v===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(v,") must ")+"match output depth for filter ".concat(n.shape[3],".")})),o.m("conv2dDerInput",c,d);var g={dy:p,filter:n},y={strides:s,pad:c,dataFormat:l,dimRoundingMode:d,inputShape:f},b=r.BV.runKernel(i.wm,g,y);return h?(0,u.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},71732:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(48354),i=n(21045);var a=(0,n(38640).op)({conv2dTranspose_:function(e,t,n,a,o,s){var u=(0,r._1)(e,"x","conv2dTranspose"),c=(0,r._1)(t,"filter","conv2dTranspose");return(0,i._)(n,u,c,a,o,"NHWC",s)}})},48113:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),c=n(75561);var l=(0,u.op)({conv3d_:function(e,t,n,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],f=(0,a._1)(e,"x","conv3d"),p=(0,a._1)(t,"filter","conv3d"),h=f,m=!1;4===f.rank&&(m=!0,h=(0,c.X)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),o.hu(5===h.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(h.rank,".")})),o.hu(5===p.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(p.rank,".")})),o.hu(h.shape[4]===p.shape[3],(function(){return"Error in conv3d: depth of input (".concat(h.shape[4],") must match ")+"input depth for filter ".concat(p.shape[3],".")})),o.hu((0,s.jT)(n,d),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(d,"'")})),o.hu("NDHWC"===l,(function(){return"Error in conv3d: got dataFormat of ".concat(l," but only NDHWC is currently supported.")}));var v={x:h,filter:p},g={strides:n,pad:u,dataFormat:l,dilations:d},y=r.BV.runKernel(i.x1,v,g);return m?(0,c.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},39151:function(e,t,n){"use strict";n.d(t,{I0:function(){return y},Ix:function(){return c},Rf:function(){return o},Xw:function(){return s},aO:function(){return d},jT:function(){return b},jw:function(){return l},m:function(){return k},pl:function(){return u},sl:function(){return w}});var r=n(29439),i=n(93433),a=n(36147);function o(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0,s=e[3],u=[].concat((0,i.Z)(t),[s]),l=w(a);return c(e,u,n,o,r,null,null,l)}function s(e,t,n,i,a,o){var s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",l=f(t),d=(0,r.Z)(l,2),p=d[0],h=d[1];if("channelsLast"===u)s=[p,h,e[3],e[3]];else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));s=[p,h,e[1],e[1]]}return c(e,s,n,i,a,o,!1,u)}function u(e,t,n,i,a,o){var s,u,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",d=p(t),f=(0,r.Z)(d,3),h=f[0],m=f[1],v=f[2];if("NDHWC"===c)u="channelsLast",s=[h,m,v,e[4],e[4]];else{if("NCDHW"!==c)throw new Error("Unknown dataFormat ".concat(c));u="channelsFirst",s=[h,m,v,e[1],e[1]]}return l(e,s,n,i,a,!1,u,o)}function c(e,t,n,i,a,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",c=-1,l=-1,d=-1,p=-1;if("channelsLast"===u){var v=(0,r.Z)(e,4);c=v[0],l=v[1],d=v[2],p=v[3]}else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));var g=(0,r.Z)(e,4);c=g[0],p=g[1],l=g[2],d=g[3]}var y,b=(0,r.Z)(t,4),w=b[0],k=b[1],x=b[3],_=f(n),S=(0,r.Z)(_,2),E=S[0],C=S[1],T=f(i),A=(0,r.Z)(T,2),O=A[0],R=A[1],I=h(w,O),N=h(k,R),P=m(a,l,d,E,C,I,N,o,u),M=P.padInfo,L=P.outHeight,D=P.outWidth,F=s?x*p:x;return"channelsFirst"===u?y=[c,F,L,D]:"channelsLast"===u&&(y=[c,L,D,F]),{batchSize:c,dataFormat:u,inHeight:l,inWidth:d,inChannels:p,outHeight:L,outWidth:D,outChannels:F,padInfo:M,strideHeight:E,strideWidth:C,filterHeight:w,filterWidth:k,effectiveFilterHeight:I,effectiveFilterWidth:N,dilationHeight:O,dilationWidth:R,inShape:e,outShape:y,filterShape:t}}function l(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=arguments.length>7?arguments[7]:void 0,c=-1,l=-1,d=-1,f=-1,m=-1;if("channelsLast"===s){var g=(0,r.Z)(e,5);c=g[0],l=g[1],d=g[2],f=g[3],m=g[4]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var y=(0,r.Z)(e,5);c=y[0],m=y[1],l=y[2],d=y[3],f=y[4]}var b,w=(0,r.Z)(t,5),k=w[0],x=w[1],_=w[2],S=w[4],E=p(n),C=(0,r.Z)(E,3),T=C[0],A=C[1],O=C[2],R=p(i),I=(0,r.Z)(R,3),N=I[0],P=I[1],M=I[2],L=h(k,N),D=h(x,P),F=h(_,M),B=v(a,l,d,f,T,A,O,L,D,F,u),j=B.padInfo,Z=B.outDepth,V=B.outHeight,U=B.outWidth,W=o?S*m:S;return"channelsFirst"===s?b=[c,W,Z,V,U]:"channelsLast"===s&&(b=[c,Z,V,U,W]),{batchSize:c,dataFormat:s,inDepth:l,inHeight:d,inWidth:f,inChannels:m,outDepth:Z,outHeight:V,outWidth:U,outChannels:W,padInfo:j,strideDepth:T,strideHeight:A,strideWidth:O,filterDepth:k,filterHeight:x,filterWidth:_,effectiveFilterDepth:L,effectiveFilterHeight:D,effectiveFilterWidth:F,dilationDepth:N,dilationHeight:P,dilationWidth:M,inShape:e,outShape:b,filterShape:t}}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=h(t,r);return Math.floor((e[0]*(n-1)-n+i)/2)}function f(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function p(e){return"number"===typeof e?[e,e,e]:e}function h(e,t){return t<=1?e:e+(e-1)*(t-1)}function m(e,t,n,r,i,a,o,s,u){var c,l,f;if("number"===typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var p=function(e,t,n,r,i){null==r&&(r=d(e,t,n));var a=e[0],o=e[1];return[g((a-t+2*r)/n+1,i),g((o-t+2*r)/n+1,i)]}([t,n],a,r,e,s);l=p[0],f=p[1]}else if("same"===e){l=Math.ceil(t/r),f=Math.ceil(n/i);var h=Math.max(0,(l-1)*r+a-t),m=Math.max(0,(f-1)*i+o-n),v=Math.floor(h/2),y=h-v,b=Math.floor(m/2);c={top:v,bottom:y,left:b,right:m-b,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-a+1)/r),f=Math.ceil((n-o+1)/i);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));var w="channelsLast"===u?e[1][0]:e[2][0],k="channelsLast"===u?e[1][1]:e[2][1],x="channelsLast"===u?e[2][0]:e[3][0],_="channelsLast"===u?e[2][1]:e[3][1];c={top:w,bottom:k,left:x,right:_,type:0===w&&0===k&&0===x&&0===_?"VALID":"EXPLICIT"},l=g((t-a+w+k)/r+1,s),f=g((n-o+x+_)/i+1,s)}return{padInfo:c,outHeight:l,outWidth:f}}function v(e,t,n,r,i,a,o,s,u,c,l){var f,p,h,m;if("number"===typeof e){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var v=function(e,t,n,r,i,a){null==i&&(i=d(e,t,r));var o=e[0],s=e[1],u=e[2];return[g((o-t+2*i)/r+1,a),g((s-t+2*i)/r+1,a),g((u-t+2*i)/r+1,a),n]}([t,n,r,1],s,1,i,e,l);p=v[0],h=v[1],m=v[2]}else if("same"===e){var y=((p=Math.ceil(t/i))-1)*i+s-t,b=((h=Math.ceil(n/a))-1)*a+u-n,w=((m=Math.ceil(r/o))-1)*o+c-r,k=Math.floor(y/2),x=y-k,_=Math.floor(b/2),S=b-_,E=Math.floor(w/2);f={top:_,bottom:S,left:E,right:w-E,front:k,back:x,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: ".concat(e));f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((t-s+1)/i),h=Math.ceil((n-u+1)/a),m=Math.ceil((r-c+1)/o)}return{padInfo:f,outDepth:p,outHeight:h,outWidth:m}}function g(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function y(e){var t=f(e),n=(0,r.Z)(t,3),i=n[0],a=n[1],o=n[2];return 1===i&&1===a&&1===o}function b(e,t){return y(e)||y(t)}function w(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function k(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)a.hu(a.GN(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((function(t){t.forEach((function(t){a.hu(a.GN(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}))}))}))}}}},21227:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({cos_:function(e){var t={x:(0,a._1)(e,"x","cos","float32")};return r.BV.runKernel(i.mc,t)}})},46679:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({cosh_:function(e){var t={x:(0,a._1)(e,"x","cosh","float32")};return r.BV.runKernel(i.TR,t)}})},69457:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({cumprod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(0,a._1)(e,"x","cumprod"),u={x:s},c={axis:t,exclusive:n,reverse:o};return r.BV.runKernel(i.By,u,c)}})},58862:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(0,a._1)(e,"x","cumsum"),u={x:s},c={axis:t,exclusive:n,reverse:o};return r.BV.runKernel(i.iH,u,c)}})},57419:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({denseBincount_:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=(0,a._1)(e,"x","denseBincount"),c=(0,a._1)(t,"weights","denseBincount");o.hu("int32"===u.dtype,(function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(u.dtype)})),o.hu(u.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(u.rank,".")})),o.hu(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),o.hu(c.size===u.size||0===c.size,(function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(u.shape,", weights shape: ")+"".concat(c.shape,".")}));var l={x:u,weights:c},d={size:n,binaryOutput:s};return r.BV.runKernel(i.QR,l,d)}})},91878:function(e,t,n){"use strict";n.d(t,{n:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",s=(0,a._1)(e,"x","depthToSpace","float32"),u="NHWC"===n?s.shape[1]:s.shape[2],c="NHWC"===n?s.shape[2]:s.shape[3],l="NHWC"===n?s.shape[3]:s.shape[1];o.hu(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)})),o.hu(u*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(u," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(s.shape)})),o.hu(c*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(c," and ").concat(t," for depthToSpace with input shape\n        ").concat(s.shape)})),o.hu(l%(t*t)===0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(l," for depthToSpace with input shape ").concat(s.shape)}));var d={x:s},f={blockSize:t,dataFormat:n};return r.BV.runKernel(i.T0,d,f)}})},61147:function(e,t,n){"use strict";n.d(t,{B:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),c=n(75561);var l=(0,u.op)({depthwiseConv2d_:function(e,t,n,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6?arguments[6]:void 0,p=(0,a._1)(e,"x","depthwiseConv2d","float32"),h=(0,a._1)(t,"filter","depthwiseConv2d","float32"),m=p,v=!1;3===p.rank&&(v=!0,m=(0,c.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),o.hu(4===m.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(m.rank,".")})),o.hu(4===h.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")})),o.hu(m.shape[3]===h.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(m.shape[3],") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],".")})),s.m("depthwiseConv2d",u,f);var g={x:m,filter:h},y={strides:n,pad:u,dataFormat:l,dilations:d,dimRoundingMode:f},b=r.BV.runKernel(i.ci,g,y);return v?(0,c.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},57580:function(e,t,n){"use strict";n.d(t,{W:function(){return c}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(38640),u=n(75561);var c=(0,s.op)({dilation2d_:function(e,t,n,s){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=(0,a._1)(e,"x","dilation2d"),f=(0,a._1)(t,"filter","dilation2d");o.hu(3===d.rank||4===d.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(d.rank,".")})),o.hu(3===f.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(f.rank,".")})),o.hu("NHWC"===l,(function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(l)}));var p=d,h=!1;3===d.rank&&(p=(0,u.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]]),h=!0);var m={x:p,filter:f},v={strides:n,pad:s,dilations:c},g=r.BV.runKernel(i.p4,m,v);return h?(0,u.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},15750:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(67145);var c=(0,n(38640).op)({div_:function(e,t){var n=(0,s._1)(e,"a","div"),c=(0,s._1)(t,"b","div"),l=(0,o.makeTypesMatch)(n,c),d=(0,r.Z)(l,2);if(n=d[0],c=d[1],"int32"===n.dtype&&"int32"===c.dtype)return(0,u.q)(n,c);var f={a:n,b:c};return i.BV.runKernel(a.oH,f,{})}})},75923:function(e,t,n){"use strict";n.d(t,{N:function(){return d}});var r=n(29439),i=n(99064),a=n(48354),o=n(15750),s=n(63254),u=n(38640),c=n(10329),l=n(87293);var d=(0,u.op)({divNoNan_:function(e,t){var n=(0,a._1)(e,"a","div"),u=(0,a._1)(t,"b","div"),d=(0,i.makeTypesMatch)(n,u),f=(0,r.Z)(d,2);n=f[0],u=f[1];var p=(0,o.h)(n,u),h=(0,l.P)(p),m=(0,s.D)(u,h);return(0,c.a)(m,h,p)}})},58060:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var s=n.map((function(e,t){return(0,a._1)(e,"tensors".concat(t),"einsum")})),u={equation:e};return r.BV.runKernel(i.$g,s,u)}})},52353:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({elu_:function(e){var t={x:(0,a._1)(e,"x","elu","float32")};return r.BV.runKernel(i.SX,t)}})},63254:function(e,t,n){"use strict";n.d(t,{D:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({equal_:function(e,t){var n=(0,s._1)(e,"a","equal","string_or_numeric"),c=(0,s._1)(t,"b","equal","string_or_numeric"),l=(0,o.makeTypesMatch)(n,c),d=(0,r.Z)(l,2);n=d[0],c=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var f={a:n,b:c};return i.BV.runKernel(a.hd,f)}})},93891:function(e,t,n){"use strict";n.d(t,{q:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(99118);var u=(0,n(38640).op)({erf_:function(e){var t=(0,a._1)(e,"x","erf");o.hu("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=(0,s.p)(t,"float32"));var n={x:t};return r.BV.runKernel(i.Om,n)}})},13313:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(56662);var i=(0,n(38640).op)({euclideanNorm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.K)(e,"euclidean",t,n)}})},411:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({exp_:function(e){var t={x:(0,a._1)(e,"x","exp")};return r.BV.runKernel(i.NE,t)}})},72975:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","expandDims","string_or_numeric");o.hu(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var s={input:n},u={dim:t};return r.BV.runKernel(i.YF,s,u)}})},15682:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({expm1_:function(e){var t={x:(0,a._1)(e,"x","expm1")};return r.BV.runKernel(i.Y0,t)}})},8582:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(70318),i=n(32145);function a(e,t,n){var a={shape:e,value:t,dtype:n};return r.BV.runKernel(i.de,{},a)}},22628:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({floor_:function(e){var t={x:(0,a._1)(e,"x","floor","float32")};return r.BV.runKernel(i.OR,t)}})},67145:function(e,t,n){"use strict";n.d(t,{q:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({floorDiv_:function(e,t){var n=(0,s._1)(e,"a","floorDiv"),u=(0,s._1)(t,"b","floorDiv"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),d={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.je,d)}})},97500:function(e,t,n){"use strict";n.r(t),n.d(t,{conv2d:function(){return b},depthwiseConv2d:function(){return _},matMul:function(){return E}});var r=n(29439),i=n(70318),a=n(66450),o=n(32145),s=n(99064),u=n(48354),c=n(36147),l=n(43312),d=n(45774),f=n(93457),p=n(39151),h=n(38640),m=n(75561);var v=(0,h.op)({conv2DBackpropFilter_:function(e,t,n,r,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",u=arguments.length>6?arguments[6]:void 0,l=e;3===e.rank&&(l=(0,m.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var d=t;3===d.rank&&(d=(0,m.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),c.hu(4===l.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(l.shape,".")})),c.hu(4===d.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(d.shape,".")})),c.hu(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")}));var f="NHWC"===s?l.shape[3]:l.shape[1],h="NHWC"===s?d.shape[3]:d.shape[1];c.hu(f===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(f,") must ")+"match input depth in filter (".concat(n[2],".")})),c.hu(h===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(h,") must ")+"match output depth for filter (".concat(n[3],").")})),p.m("conv2dDerFilter",a,u);var v={x:l,dy:d},g={strides:r,pad:a,dataFormat:s,dimRoundingMode:u,filterShape:n};return i.BV.runKernel(o.wU,v,g)}}),g=n(21045),y=n(5171);var b=(0,h.op)({fusedConv2d_:function(e){var t=e.x,n=e.filter,h=e.strides,b=e.pad,w=e.dataFormat,k=void 0===w?"NHWC":w,x=e.dilations,_=void 0===x?[1,1]:x,S=e.dimRoundingMode,E=e.bias,C=e.activation,T=void 0===C?"linear":C,A=e.preluActivationWeights,O=e.leakyreluAlpha;if(T=T||"linear",!1===(0,y.uy)(i.BV.state.gradientDepth,T)){c.hu("NHWC"===k,(function(){return"Error in fused conv2d: got dataFormat of ".concat(k," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."}));var R=(0,f.T)(t,n,h,b,k,_,S);return null!=E&&(R=(0,l.I)(R,E)),(0,y.QH)(R,T,A,O)}var I=(0,u._1)(t,"x","conv2d","float32"),N=(0,u._1)(n,"filter","conv2d","float32"),P=I,M=!1;3===I.rank&&(M=!0,P=(0,m.X)(I,[1,I.shape[0],I.shape[1],I.shape[2]])),c.hu(4===P.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(P.rank,".")})),c.hu(4===N.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(N.rank,".")})),p.m("fused conv2d",b,S);var L="NHWC"===k?P.shape[3]:P.shape[1];c.hu(N.shape[2]===L,(function(){return"Error in conv2d: depth of input (".concat(L,") must match ")+"input depth for filter ".concat(N.shape[2],".")})),c.hu(p.jT(h,_),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(h," and dilations '").concat(_,"'")}));var D,F,B=p.Ix(P.shape,N.shape,h,_,b,S);if(null!=E){D=(0,u._1)(E,"bias","fused conv2d");var j=(0,s.makeTypesMatch)(D,I),Z=(0,r.Z)(j,1);D=Z[0],"NHWC"===k?d.assertAndGetBroadcastShape(B.outShape,D.shape):(c.hu(D.shape.length<=1,(function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(D.shape.length,".")})),c.hu(0===D.shape.length||D.shape[0]===B.outChannels||1===D.shape[0],(function(){return"Error in fused conv2d: bias shape (".concat(D.shape,") is not ")+"compatible with the number of output channels "+"(".concat(B.outChannels,")")})))}if(null!=A){var V=A.shape;if(c.hu(V.length<=1||3===V.length,(function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(V.length,".")})),1===V.length)c.hu(1===V[0]||V[0]===B.outChannels,(function(){return"Error in fused conv2d: PReLU activation weights "+"(".concat(V,") is not compatible with the number of output ")+"channels (".concat(B.outChannels,").")}));else if(3===V.length)try{d.assertAndGetBroadcastShape(V,B.outShape)}catch(K){var U="Error in fused conv2d: PReLU activation weights (".concat(V,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(B.outShape,").");throw Error(U)}F=(0,u._1)(A,"prelu weights","fused conv2d")}var W=function(e,t){c.hu("NHWC"===k,(function(){return"Error in gradient of fused conv2D: got dataFormat of ".concat(k," but only NHWC is currently supported.")}));var n=(0,r.Z)(t,4),i=n[0],a=n[1],o=n[2],s=n[3],u=(0,y.Fr)(e,o,T);c.hu(p.I0(_),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(_,"'")}));var l=[(0,g._)(a.shape,u,i,h,b),v(a,u,i.shape,h,b)];if(null!=s){var d=(0,y.pf)(s,u);l.push(d)}return l},H={x:P,filter:N,bias:D,preluActivationWeights:F},z={strides:h,pad:b,dataFormat:k,dilations:_,dimRoundingMode:S,activation:T,leakyreluAlpha:O};if(null==E){var G=(0,a.cb)((function(e,t,n){var r=i.BV.runKernel(o._V,H,z);return n([t,e,r]),M&&(r=(0,m.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:W}}));return G(P,N)}var q=(0,a.cb)((function(e,t,n,r){var a=i.BV.runKernel(o._V,H,z);return r([t,e,a,n]),M&&(a=(0,m.X)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:W}}));return q(P,N,D)}}),w=n(61147);var k=(0,h.op)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],u=arguments.length>6?arguments[6]:void 0,c=e;3===e.rank&&(c=(0,m.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var l=t;3===l.rank&&(l=(0,m.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var d={x:c,dy:l},f={strides:r,pad:a,dimRoundingMode:u,dilations:s,filterShape:n};return i.BV.runKernel(o.sL,d,f)}});var x=(0,h.op)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],u=arguments.length>6?arguments[6]:void 0,c=t,l=!1;3===t.rank&&(l=!0,c=(0,m.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var d={dy:c,filter:n},f={strides:r,pad:a,dimRoundingMode:u,dilations:s,inputShape:e},p=i.BV.runKernel(o.y7,d,f);return l?(0,m.X)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});var _=(0,h.op)({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,f=e.strides,h=e.pad,v=e.dataFormat,g=void 0===v?"NHWC":v,b=e.dilations,_=void 0===b?[1,1]:b,S=e.dimRoundingMode,E=e.bias,C=e.activation,T=void 0===C?"linear":C,A=e.preluActivationWeights,O=e.leakyreluAlpha;if(!1===(0,y.uy)(i.BV.state.gradientDepth,T)){var R=(0,w.B)(t,n,f,h,g,_,S);return null!=E&&(R=(0,l.I)(R,E)),(0,y.QH)(R,T,A,O)}var I=(0,u._1)(t,"x","depthwiseConv2d","float32"),N=(0,u._1)(n,"filter","depthwiseConv2d","float32"),P=I,M=!1;3===I.rank&&(M=!0,P=(0,m.X)(I,[1,I.shape[0],I.shape[1],I.shape[2]])),c.hu(4===P.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(P.rank,".")})),c.hu(4===N.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(N.rank,".")})),c.hu(P.shape[3]===N.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(P.shape[3],") must match the inChannels dimension in ")+"filter ".concat(N.shape[2],".")})),null==_&&(_=[1,1]),c.hu(p.jT(f,_),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(f," and dilations '").concat(_,"'")})),p.m("fused depthwiseConv2d",h,S);var L,D,F=p.Ix(P.shape,N.shape,f,_,h,S,!0);if(null!=E){L=(0,u._1)(E,"bias","fused conv2d");var B=(0,s.makeTypesMatch)(L,I),j=(0,r.Z)(B,1);L=j[0],d.assertAndGetBroadcastShape(F.outShape,L.shape)}null!=A&&(D=(0,u._1)(A,"prelu weights","fused depthwiseConv2d"));var Z=function(e,t){c.hu(p.I0(_),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(_,"'")}));var n=(0,r.Z)(t,4),i=n[0],a=n[1],o=n[2],s=n[3],u=(0,y.Fr)(e,o,T),l=x(a.shape,u,i,f,h,_,S),d=k(a,u,i.shape,f,h,_,S);return null!=s?[l,d,(0,y.pf)(L,u)]:[l,d]},V={x:P,filter:N,bias:L,preluActivationWeights:D},U={strides:f,pad:h,dataFormat:g,dilations:_,dimRoundingMode:S,activation:T,leakyreluAlpha:O};if(null==E){var W=(0,a.cb)((function(e,t,n){var r=i.BV.runKernel(o.lu,V,U);return n([t,e,r]),M&&(r=(0,m.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:Z}}));return W(P,N)}var H=(0,a.cb)((function(e,t,n,r){var a=i.BV.runKernel(o.lu,V,U);return r([t,e,a,n]),M&&(a=(0,m.X)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:Z}}));return H(P,N,L)}}),S=n(57221);var E=(0,h.op)({fusedMatMul_:function(e){var t=e.a,n=e.b,f=e.transposeA,p=void 0!==f&&f,h=e.transposeB,v=void 0!==h&&h,g=e.bias,b=e.activation,w=void 0===b?"linear":b,k=e.preluActivationWeights,x=e.leakyreluAlpha;if(!1===(0,y.uy)(i.BV.state.gradientDepth,w)){var _=(0,S.O)(t,n,p,v);return null!=g&&(_=(0,l.I)(_,g)),(0,y.QH)(_,w,k,x)}var E=(0,u._1)(t,"a","fused matMul"),C=(0,u._1)(n,"b","fused matMul"),T=(0,s.makeTypesMatch)(E,C),A=(0,r.Z)(T,2);E=A[0],C=A[1];var O=p?E.shape[E.rank-2]:E.shape[E.rank-1],R=v?C.shape[C.rank-1]:C.shape[C.rank-2],I=p?E.shape[E.rank-1]:E.shape[E.rank-2],N=v?C.shape[C.rank-2]:C.shape[C.rank-1],P=E.shape.slice(0,-2),M=C.shape.slice(0,-2),L=c.NA(P),D=c.NA(M);c.hu(O===R,(function(){return"Error in fused matMul: inner shapes (".concat(O,") and (")+"".concat(R,") of Tensors with shapes ").concat(E.shape," and ")+"".concat(C.shape," and transposeA=").concat(p)+" and transposeB=".concat(v," must match.")}));var F,B,j=d.assertAndGetBroadcastShape(E.shape.slice(0,-2),C.shape.slice(0,-2)).concat([I,N]),Z=p?(0,m.X)(E,[L,O,I]):(0,m.X)(E,[L,I,O]),V=v?(0,m.X)(C,[D,N,R]):(0,m.X)(C,[D,R,N]);if(null!=g){F=(0,u._1)(g,"bias","fused matMul");var U=(0,s.makeTypesMatch)(F,E);F=(0,r.Z)(U,1)[0],d.assertAndGetBroadcastShape(j,F.shape)}null!=k&&(B=(0,u._1)(k,"prelu weights","fused matMul"));var W=function(e,t){var n,i,a=(0,r.Z)(t,4),o=a[0],s=a[1],u=a[2],c=a[3],l=(0,y.Fr)((0,m.X)(e,u.shape),u,w);return p||v?!p&&v?(n=(0,S.O)(l,s,!1,!1),i=(0,S.O)(l,o,!0,!1)):p&&!v?(n=(0,S.O)(s,l,!1,!0),i=(0,S.O)(o,l,!1,!1)):(n=(0,S.O)(s,l,!0,!0),i=(0,S.O)(l,o,!0,!0)):(n=(0,S.O)(l,s,!1,!0),i=(0,S.O)(o,l,!0,!1)),null!=g?[n,i,(0,y.pf)(c,l)]:[n,i]},H={a:Z,b:V,bias:F,preluActivationWeights:B},z={transposeA:p,transposeB:v,activation:w,leakyreluAlpha:x};if(null==g){var G=(0,a.cb)((function(e,t,n){var r=i.BV.runKernel(o.us,H,z);return n([e,t,r]),{value:(0,m.X)(r,j),gradFunc:W}}));return G(Z,V)}var q=(0,a.cb)((function(e,t,n,r){var a=i.BV.runKernel(o.us,H,z);return r([e,t,a,n]),{value:(0,m.X)(a,j),gradFunc:W}}));return q(Z,V,F)}})},5171:function(e,t,n){"use strict";n.d(t,{Fr:function(){return h},QH:function(){return v},pf:function(){return m},uy:function(){return g}});var r=n(45774),i=n(52353),a=n(74419),o=n(30651),s=n(96859),u=n(17539),c=n(65900),l=n(75561),d=n(77643),f=n(94031),p=n(40227);function h(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return(0,o.d)(e,(0,f.N)(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function m(e,t){var n=t,i=r.getReductionAxes(e.shape,t.shape);return i.length>0&&(n=(0,p.S)(n,i)),(0,l.X)(n,e.shape)}function v(e,t,n,r){if("linear"===t)return e;if("relu"===t)return(0,u.U)(e);if("elu"===t)return(0,i.p)(e);if("relu6"===t)return(0,c.b)(e);if("prelu"===t)return(0,s.A)(e,n);if("leakyrelu"===t)return(0,a.h)(e,r);if("sigmoid"===t)return(0,d.X)(e);throw new Error("Unknown fused activation ".concat(t,"."))}var g=function(e,t){return!(e>0)||"linear"===t}},49498:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=(0,a._1)(e,"x","gather"),u=(0,a._1)(t,"indices","gather","int32"),c={x:s,indices:u},l={axis:n,batchDims:o};return r.BV.runKernel(i.qi,c,l)}})},53357:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({gatherND_:function(e,t){var n=(0,a._1)(t,"indices","gatherND","int32"),o={params:(0,a._1)(e,"x","gatherND","string_or_numeric"),indices:n};return r.BV.runKernel(i.q1,o)}})},35014:function(e,t,n){"use strict";n.d(t,{p:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({greater_:function(e,t){var n=(0,s._1)(e,"a","greater","string_or_numeric"),c=(0,s._1)(t,"b","greater","string_or_numeric"),l=(0,o.makeTypesMatch)(n,c),d=(0,r.Z)(l,2);n=d[0],c=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var f={a:n,b:c};return i.BV.runKernel(a.iZ,f)}})},18327:function(e,t,n){"use strict";n.d(t,{b:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({greaterEqual_:function(e,t){var n=(0,s._1)(e,"a","greaterEqual","string_or_numeric"),c=(0,s._1)(t,"b","greaterEqual","string_or_numeric"),l=(0,o.makeTypesMatch)(n,c),d=(0,r.Z)(l,2);n=d[0],c=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var f={a:n,b:c};return i.BV.runKernel(a.Ac,f)}})},76996:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({imag_:function(e){var t={input:(0,a._1)(e,"input","imag")};return r.BV.runKernel(i.J_,t)}})},37005:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({isNaN_:function(e){var t={x:(0,a._1)(e,"x","isNaN")};return r.BV.runKernel(i.r7,t)}})},74419:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=(0,a._1)(e,"x","leakyRelu"),o={x:n},s={alpha:t};return r.BV.runKernel(i.J$,o,s)}})},44920:function(e,t,n){"use strict";n.d(t,{d:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({less_:function(e,t){var n=(0,s._1)(e,"a","less","string_or_numeric"),c=(0,s._1)(t,"b","less","string_or_numeric"),l=(0,o.makeTypesMatch)(n,c),d=(0,r.Z)(l,2);n=d[0],c=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var f={a:n,b:c};return i.BV.runKernel(a.vt,f)}})},12642:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({lessEqual_:function(e,t){var n=(0,s._1)(e,"a","lessEqual","string_or_numeric"),c=(0,s._1)(t,"b","lessEqual","string_or_numeric"),l=(0,o.makeTypesMatch)(n,c),d=(0,r.Z)(l,2);n=d[0],c=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var f={a:n,b:c};return i.BV.runKernel(a.CA,f)}})},62453:function(e,t,n){"use strict";n.d(t,{S:function(){return a}});var r=n(70318),i=n(32145);function a(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var a={start:e,stop:t,num:n};return r.BV.runKernel(i.e7,{},a)}},40936:function(e,t,n){"use strict";n.d(t,{G:function(){return c}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(38640),u=n(75561);var c=(0,s.op)({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,l=(0,a._1)(e,"x","localResponseNormalization");o.hu(4===l.rank||3===l.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(l.rank,".")})),o.hu(o.GN(t),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")}));var d=l,f=!1;3===l.rank&&(f=!0,d=(0,u.X)(l,[1,l.shape[0],l.shape[1],l.shape[2]]));var p={x:d},h={depthRadius:t,bias:n,alpha:s,beta:c},m=r.BV.runKernel(i.eZ,p,h);return f?(0,u.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},40378:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({log_:function(e){var t={x:(0,a._1)(e,"x","log","float32")};return r.BV.runKernel(i.Zb,t)}})},95341:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({log1p_:function(e){var t={x:(0,a._1)(e,"x","log1p")};return r.BV.runKernel(i.kU,t)}})},54561:function(e,t,n){"use strict";n.d(t,{C:function(){return h}});var r=n(29439),i=n(66450),a=n(48354),o=n(99118),s=n(411),u=n(40378),c=n(56176),l=n(30651),d=n(38640),f=n(84774),p=n(40227);var h=(0,d.op)({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=(0,a._1)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));var d=(0,i.cb)((function(e,n){var i=(0,c.F)(e,t,!0),a=(0,f.l)(e,i),d=(0,f.l)((0,o.p)(a,"float32"),(0,u.c)((0,p.S)((0,s.Q)(a),t,!0)));n([d]);return{value:d,gradFunc:function(e,n){var i=(0,r.Z)(n,1)[0],a=(0,s.Q)(i);return(0,f.l)(e,(0,l.d)((0,p.S)(e,t,!0),a))}}}));return d(n)}})},2177:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(45774);var s=(0,n(38640).op)({logicalAnd_:function(e,t){var n=(0,a._1)(e,"a","logicalAnd","bool"),s=(0,a._1)(t,"b","logicalAnd","bool");(0,o.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.BV.runKernel(i.PY,u)}})},30875:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({logicalNot_:function(e){var t={x:(0,a._1)(e,"x","logicalNot","bool")};return r.BV.runKernel(i.Vf,t)}})},15117:function(e,t,n){"use strict";n.d(t,{K:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(45774);var s=(0,n(38640).op)({logicalOr_:function(e,t){var n=(0,a._1)(e,"a","logicalOr","bool"),s=(0,a._1)(t,"b","logicalOr","bool");(0,o.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.BV.runKernel(i.MZ,u)}})},47627:function(e,t,n){"use strict";var r;n.d(t,{I:function(){return r}}),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(r||(r={}))},94255:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(9028);function i(e,t){return(0,r.z)(e,t,"left")}},57221:function(e,t,n){"use strict";n.d(t,{O:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=(0,s._1)(e,"a","matMul"),l=(0,s._1)(t,"b","matMul"),d=(0,o.makeTypesMatch)(c,l),f=(0,r.Z)(d,2),p={a:c=f[0],b:l=f[1]},h={transposeA:n,transposeB:u};return i.BV.runKernel(a.XL,p,h)}})},56176:function(e,t,n){"use strict";n.d(t,{F:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","max"),s={x:o},u={reductionIndices:t,keepDims:n};return r.BV.runKernel(i.Yo,s,u)}})},85777:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),c=n(75561);var l=(0,u.op)({maxPool_:function(e,t,n,u,l){var d=(0,a._1)(e,"x","maxPool"),f=d,p=!1;3===d.rank&&(p=!0,f=(0,c.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),o.hu(4===f.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(f.rank,".")})),o.hu(s.jT(n,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")})),s.m("maxPool",u,l);var h={x:f},m={filterSize:t,strides:n,pad:u,dimRoundingMode:l},v=r.BV.runKernel(i.mT,h,m);return p?(0,c.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},39185:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),c=n(75561);var l=(0,u.op)({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",f=(0,a._1)(e,"x","maxPool3d"),p=f,h=!1;4===f.rank&&(h=!0,p=(0,c.X)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),o.hu(5===p.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(p.rank,".")})),o.hu("NDHWC"===d,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(d)})),(0,s.m)("maxPool3d",u,l);var m={x:p},v={filterSize:t,strides:n,pad:u,dimRoundingMode:l,dataFormat:d},g=r.BV.runKernel(i.OA,m,v);return h?(0,c.X)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},78811:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({maxPoolWithArgmax_:function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=(0,a._1)(e,"x","maxPoolWithArgmax"),c={x:u},l={filterSize:t,strides:n,pad:o,includeBatchInIndex:s},d=r.BV.runKernel(i.vF,c,l);return{result:d[0],indexes:d[1]}}})},70705:function(e,t,n){"use strict";n.d(t,{g:function(){return l}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774),c=n(99118);var l=(0,n(38640).op)({maximum_:function(e,t){var n=(0,s._1)(e,"a","maximum"),l=(0,s._1)(t,"b","maximum"),d=(0,o.makeTypesMatch)(n,l),f=(0,r.Z)(d,2);n=f[0],l=f[1],"bool"===n.dtype&&(n=(0,c.p)(n,"int32"),l=(0,c.p)(l,"int32")),(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var p={a:n,b:l};return i.BV.runKernel(a.BM,p)}})},6568:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","mean"),s={x:o},u={axis:t,keepDims:n};return r.BV.runKernel(i.q2,s,u)}})},77891:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","min"),s={x:o},u={axis:t,keepDims:n};return r.BV.runKernel(i.c1,s,u)}})},82273:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774),c=n(99118);var l=(0,n(38640).op)({minimum_:function(e,t){var n=(0,s._1)(e,"a","minimum"),l=(0,s._1)(t,"b","minimum"),d=(0,o.makeTypesMatch)(n,l),f=(0,r.Z)(d,2);n=f[0],l=f[1],"bool"===n.dtype&&(n=(0,c.p)(n,"int32"),l=(0,c.p)(l,"int32")),(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var p={a:n,b:l};return i.BV.runKernel(a.q8,p)}})},27613:function(e,t,n){"use strict";n.d(t,{V:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({mirrorPad_:function(e,t,n){o.hu("reflect"===n||"symmetric"===n,(function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")}));var s=(0,a._1)(e,"x","mirrorPad");if(0===s.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");o.hu(t.length===s.rank,(function(){return"Padding doesn't match input. Must be ".concat(s.rank,". ")+"Got ".concat(t.length,".")}));for(var u="reflect"===n?1:0,c=function(e){o.hu(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),o.hu(t[e][0]>=0&&t[e][0]<=s.shape[e]-u&&t[e][1]>=0&&t[e][1]<=s.shape[e]-u,(function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(s.shape[e]-u," or less than 0 for input of ")+"shape ".concat(s.shape)}))},l=0;l<s.rank;l++)c(l);var d={paddings:t,mode:n},f={x:s};return r.BV.runKernel(i.jQ,f,d)}})},84645:function(e,t,n){"use strict";n.d(t,{w:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({mod_:function(e,t){var n=(0,s._1)(e,"a","mod"),u=(0,s._1)(t,"b","mod"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),d={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.Vb,d)}})},30651:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({mul_:function(e,t){var n=(0,s._1)(e,"a","mul"),u=(0,s._1)(t,"b","mul"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),d={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.wY,d)}})},4660:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(38640),s=n(75561);var u=(0,o.op)({multinomial_:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=(0,a._1)(e,"logits","multinomial"),c=u.size,l=u.rank;if(c<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(c,"."));if(l>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(l));n=n||Math.random();var d=1===l?(0,s.X)(u,[1,-1]):u,f={logits:d},p={numSamples:t,seed:n,normalized:o},h=r.BV.runKernel(i.NZ,f,p);return 1===l?(0,s.X)(h,[h.size]):h}})},4362:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({neg_:function(e){var t={x:(0,a._1)(e,"x","neg")};return r.BV.runKernel(i.ku,t)}})},56662:function(e,t,n){"use strict";n.d(t,{K:function(){return g}});var r=n(48354),i=n(36147),a=n(7613),o=n(88473),s=n(56176),u=n(77891),c=n(38640),l=n(44334),d=n(75561),f=n(27067),p=n(46902),h=n(7391),m=n(40227);function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return(0,a.W)(e);if(1!==e.rank&&null===n)return v((0,d.X)(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return(0,m.S)((0,a.W)(e),n);if(t===1/0)return(0,s.F)((0,a.W)(e),n);if(t===-1/0)return(0,u.V)((0,a.W)(e),n);if("euclidean"===t||2===t)return(0,p._)((0,m.S)((0,l.s)((0,a.W)(e),(0,f.i)(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return(0,s.F)((0,m.S)((0,a.W)(e),n[0]),n[1]-1);if(t===1/0)return(0,s.F)((0,m.S)((0,a.W)(e),n[1]),n[0]);if(t===-1/0)return(0,u.V)((0,m.S)((0,a.W)(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return(0,p._)((0,m.S)((0,h.h)(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}var g=(0,c.op)({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=v(e=(0,r._1)(e,"x","norm"),t,n),u=s.shape;if(a){var c=(0,i.EC)(n,e.shape);u=o.rv(s.shape,c)}return(0,d.X)(s,u)}})},15549:function(e,t,n){"use strict";n.d(t,{Q:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({notEqual_:function(e,t){var n=(0,s._1)(e,"a","notEqual","string_or_numeric"),c=(0,s._1)(t,"b","notEqual","string_or_numeric"),l=(0,o.makeTypesMatch)(n,c),d=(0,r.Z)(l,2);n=d[0],c=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var f={a:n,b:c};return i.BV.runKernel(a.yQ,f)}})},34326:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var s=(0,a._1)(e,"indices","oneHot","int32"),u={indices:s},c={depth:t,onValue:n,offValue:o};return r.BV.runKernel(i.we,u,c)}})},86100:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(70318),i=n(36147),a=n(59253),o=n(87742);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=s(e,"float32"),u=(0,o.l)(e,"float32");return(0,a.P)(n,u)}var c=(0,i.p8)((0,i.NA)(e),t);return r.BV.makeTensor(c,e,t)}},20773:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({onesLike_:function(e){var t={x:(0,a._1)(e,"x","onesLike")};return r.BV.runKernel(i.qW,t)}})},38640:function(e,t,n){"use strict";n.d(t,{op:function(){return o},z:function(){return a}});var r=n(70318),i=n(36147),a="__op";function o(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var n=t[0],o=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=a;var s=function(){r.BV.startScope(n);try{var e=o.apply(void 0,arguments);return(0,i.tI)(e)&&console.error("Cannot return a Promise inside of tidy."),r.BV.endScope(e),e}catch(t){throw r.BV.endScope(null),t}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}},13398:function(e,t,n){"use strict";n.d(t,{zvA:function(){return _.z},WnP:function(){return r.W},Khb:function(){return i.K},__u:function(){return a._},IHx:function(){return o.I},QBD:function(){return s.Q},$6P:function(){return u.$},YjB:function(){return c.Y},NqF:function(){return l.N},vHJ:function(){return d.v},ZRM:function(){return f.Z},VfV:function(){return p.V},z4N:function(){return h.z},fvJ:function(){return m.f},C80:function(){return v.C},wS1:function(){return g.w},uR5:function(){return y.u},zEQ:function(){return T},tgs:function(){return O.t},Dxk:function(){return I},JY5:function(){return N},p3b:function(){return P},E4h:function(){return A.E},yE8:function(){return M.y},anm:function(){return Gn},XsQ:function(){return L.X},UFq:function(){return D.U},f3b:function(){return F.f},pju:function(){return B.p},mDi:function(){return j.m},iUl:function(){return Z.i},d9v:function(){return V.d},PYB:function(){return U.P},zoF:function(){return w.z},gME:function(){return W},Izb:function(){return H},MNy:function(){return z},ZaL:function(){return G},PAt:function(){return q.P},Tek:function(){return K.T},bc:function(){return Y.b},pdZ:function(){return X.p},$QV:function(){return te},mCk:function(){return ne.m},f9Y:function(){return re.f},mew:function(){return rr},$Gn:function(){return ie.$},zbp:function(){return ae.z},ppE:function(){return oe.p},nTT:function(){return se.n},B10:function(){return ue.B},Ka3:function(){return ce},WmZ:function(){return le.W},hiC:function(){return de.h},NTj:function(){return fe.N},AKD:function(){return pe},rvX:function(){return tr},WYO:function(){return he.W},pyx:function(){return me.p},GRh:function(){return nr},DgJ:function(){return ve.D},qNN:function(){return ge.q},d2q:function(){return ye.d},Qqt:function(){return be.Q},dt4:function(){return we.d},t$B:function(){return ke.t},iyy:function(){return _e},kp_:function(){return fn.k},hlL:function(){return Se.h},GWj:function(){return Ee.G},qPi:function(){return Ce.q},imm:function(){return or},Iqj:function(){return Te.I},dbB:function(){return er.d},pjt:function(){return Ae.p},brS:function(){return Oe.b},Sxn:function(){return pn.S},asL:function(){return Re.a},BHj:function(){return ui},V3u:function(){return ar},wx0:function(){return hn.w},xVT:function(){return Ie},UWc:function(){return Ne},i2d:function(){return Pe.i},hi7:function(){return Me.h},d9m:function(){return Le.d},zN1:function(){return De.z},$r2:function(){return ci},SX3:function(){return Fe.S},G9k:function(){return Be.G},cM7:function(){return je.c},Krr:function(){return Ze.K},e_t:function(){return He},CmS:function(){return ze.C},l_t:function(){return Xe},HvI:function(){return Qe.H},hJK:function(){return Je.h},K5V:function(){return $e.K},egP:function(){return tt},MB5:function(){return li},eab:function(){return nt.e},OI3:function(){return k.O},Fp7:function(){return qe.F},_sB:function(){return rt._},YQQ:function(){return it.Y},Ip$:function(){return at.I},gWQ:function(){return ot.g},J69:function(){return st.J},ry_:function(){return lt},VV$:function(){return dt.V},LTh:function(){return ft.L},VdP:function(){return pt.V},wQq:function(){return ht.w},Gi7:function(){return vt},p_:function(){return Xn},dC7:function(){return x.d},rq4:function(){return gt},SJ_:function(){return yt.S},W76:function(){return Ue.W},KOy:function(){return Kn.K},Quu:function(){return bt.Q},lfX:function(){return wt.l},iUs:function(){return ut.i},JpU:function(){return kt.J},op:function(){return _.op},N2O:function(){return xt},vku:function(){return _t.v},pNR:function(){return St},koy:function(){return Et},t1L:function(){return Ct},lGY:function(){return Tt},d_R:function(){return It},sQ3:function(){return Nt.s},AL3:function(){return Pt.A},S0v:function(){return Mt.S},WVs:function(){return Lt.W},TN_:function(){return Dt},wzB:function(){return Bt},nGf:function(){return jt},LGj:function(){return Zt.L},w6H:function(){return Vt.w},kwC:function(){return Ut.k},M25:function(){return Wt.M},UYe:function(){return Ht.U},btT:function(){return zt.b},XLQ:function(){return $.X},GYS:function(){return Gt.G},SDf:function(){return qt},diP:function(){return Kt},sx7:function(){return Yt},mG2:function(){return Xt},QEs:function(){return mn.Q},NMM:function(){return Qt.N},bp0:function(){return Jt.b},iD$:function(){return $t.i},snQ:function(){return Qn.s},zcT:function(){return Jn.z},U8D:function(){return en.U},U_I:function(){return tn},ODp:function(){return nn.O},XD2:function(){return S.X},Xxe:function(){return rn.X},tdS:function(){return si},O$l:function(){return an.O},R_K:function(){return on.R},tPi:function(){return E.t},jZU:function(){return sn},SmN:function(){return un},CnO:function(){return cn},p0P:function(){return ln},XAC:function(){return dn.X},Wvh:function(){return We.W},fBT:function(){return Rt.f},rVs:function(){return di},ers:function(){return $n.e},uN7:function(){return oi},Vl2:function(){return vn.V},_b3:function(){return gn._},h62:function(){return mt.h},$i:function(){return yn.$},L9e:function(){return bn.L},knu:function(){return wn.k},Nbs:function(){return kn.N},NXj:function(){return xn.N},Z_8:function(){return fi},luU:function(){return Ke.l},Smz:function(){return Ye.S},ORZ:function(){return _n.O},AEp:function(){return C.A},XeE:function(){return Sn.X},RRF:function(){return En.R},odF:function(){return Tn},wOQ:function(){return An.w},yXz:function(){return On},Bfx:function(){return Rn},xZs:function(){return In},Gg6:function(){return xe.G},hg7:function(){return Nn.h},p4s:function(){return qn.p},Xu6:function(){return Pn.X},Two:function(){return Mn.T},pUJ:function(){return Ln},HHK:function(){return Dn.H},GaM:function(){return Fn.G},VD$:function(){return Bn},arb:function(){return jn.a},itS:function(){return Zn.i},lls:function(){return Vn.l},P84:function(){return Un.P}});var r=n(7613),i=n(1719),a=n(24502),o=n(43312),s=n(15506),u=n(14108),c=n(58543),l=n(29995),d=n(95157),f=n(33053),p=n(30054),h=n(64778),m=n(32227),v=n(47897),g=n(49204),y=n(65840),b=n(48354),w=n(34836),k=n(57221),x=n(30651),_=n(38640),S=n(77643),E=n(59238),C=n(11744);var T=(0,_.op)({basicLSTMCell_:function(e,t,n,r,i,a){var s=(0,b._1)(e,"forgetBias","basicLSTMCell"),u=(0,b._1)(t,"lstmKernel","basicLSTMCell"),c=(0,b._1)(n,"lstmBias","basicLSTMCell"),l=(0,b._1)(r,"data","basicLSTMCell"),d=(0,b._1)(i,"c","basicLSTMCell"),f=(0,b._1)(a,"h","basicLSTMCell"),p=(0,w.z)([l,f],1),h=(0,k.O)(p,u),m=(0,o.I)(h,c),v=m.shape[0],g=m.shape[1]/4,y=[v,g],_=(0,E.t)(m,[0,0],y),T=(0,E.t)(m,[0,g],y),A=(0,E.t)(m,[0,2*g],y),O=(0,E.t)(m,[0,3*g],y),R=(0,o.I)((0,x.d)((0,S.X)(_),(0,C.A)(T)),(0,x.d)(d,(0,S.X)((0,o.I)(s,A))));return[R,(0,x.d)((0,C.A)(R),(0,S.X)(O))]}}),A=n(36994),O=n(63700),R=n(36147);var I=(0,_.op)({batchNorm2d_:function(e,t,n,r,i,a){var o,s,u=(0,b._1)(e,"x","batchNorm"),c=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");return null!=i&&(o=(0,b._1)(i,"scale","batchNorm")),null!=r&&(s=(0,b._1)(r,"offset","batchNorm")),R.hu(2===u.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(u.rank,".")})),R.hu(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(c.rank,".")})),R.hu(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&R.hu(2===o.rank||1===o.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&R.hu(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(s.rank,".")})),(0,O.t)(u,c,l,s,o,a)}});var N=(0,_.op)({batchNorm3d_:function(e,t,n,r,i,a){var o,s,u=(0,b._1)(e,"x","batchNorm"),c=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");return null!=i&&(o=(0,b._1)(i,"scale","batchNorm")),null!=r&&(s=(0,b._1)(r,"offset","batchNorm")),R.hu(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(u.rank,".")})),R.hu(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(c.rank,".")})),R.hu(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&R.hu(3===o.rank||1===o.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&R.hu(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(s.rank,".")})),(0,O.t)(u,c,l,s,o,a)}});var P=(0,_.op)({batchNorm4d_:function(e,t,n,r,i,a){var o,s,u=(0,b._1)(e,"x","batchNorm"),c=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");return null!=i&&(o=(0,b._1)(i,"scale","batchNorm")),null!=r&&(s=(0,b._1)(r,"offset","batchNorm")),R.hu(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(u.rank,".")})),R.hu(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(c.rank,".")})),R.hu(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&R.hu(4===o.rank||1===o.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&R.hu(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(s.rank,".")})),(0,O.t)(u,c,l,s,o,a)}}),M=n(77531),L=n(80238),D=n(49742),F=n(77039),B=n(99118),j=n(31396),Z=n(89836),V=n(10672),U=n(59253);var W=(0,_.op)({concat1d_:function(e){return(0,w.z)(e,0)}});var H=(0,_.op)({concat2d_:function(e,t){return(0,w.z)(e,t)}});var z=(0,_.op)({concat3d_:function(e,t){return(0,w.z)(e,t)}});var G=(0,_.op)({concat4d_:function(e,t){return(0,w.z)(e,t)}}),q=n(44918),K=n(93457),Y=n(71732),X=n(48113),Q=n(70318),J=n(32145),$=n(75561);var ee=(0,_.op)({conv3DBackpropInput_:function(e,t,n,r,i){R.hu(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var a=e,o=t,s=!1;4===t.rank&&(s=!0,o=(0,$.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),a=[1,e[0],e[1],e[2],e[3]]);var u=a[4],c=o.shape[4];R.hu(5===a.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(a.length,".")})),R.hu(5===o.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(o.rank)})),R.hu(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)})),R.hu(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(u,") must ")+"match input depth for filter ".concat(n.shape[3],".")})),R.hu(c===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(c,") must ")+"match output depth for filter ".concat(n.shape[4],".")}));var l={dy:o,filter:n},d={pad:i,strides:r,inputShape:a},f=Q.BV.runKernel(J.ik,l,d);return s?(0,$.X)(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}});var te=(0,_.op)({conv3dTranspose_:function(e,t,n,r,i){var a=(0,b._1)(e,"x","conv3dTranspose"),o=(0,b._1)(t,"filter","conv3dTranspose");return ee(n,a,o,r,i)}}),ne=n(21227),re=n(46679),ie=n(69457),ae=n(58862),oe=n(57419),se=n(91878),ue=n(61147);var ce=(0,_.op)({diag_:function(e){var t={x:(0,b._1)(e,"x","diag")};return Q.BV.runKernel(J.$w,t)}}),le=n(57580),de=n(15750),fe=n(75923);var pe=(0,_.op)({dot_:function(e,t){var n=(0,b._1)(e,"t1","dot"),r=(0,b._1)(t,"t2","dot");R.hu((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var i=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];if(R.hu(i===a,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(i," and ").concat(a,".")})),1===n.rank&&1===r.rank){var o=(0,$.X)(n,[1,-1]),s=(0,$.X)(r,[-1,1]),u=(0,k.O)(o,s);return(0,$.X)(u,[])}if(1===n.rank&&2===r.rank){var c=(0,$.X)(n,[1,-1]),l=(0,$.X)(r,[r.shape[0],r.shape[1]]),d=(0,k.O)(c,l);return(0,$.X)(d,[d.size])}if(2===n.rank&&1===r.rank){var f=(0,$.X)(r,[-1,1]),p=(0,k.O)(n,f);return(0,$.X)(p,[p.size])}var h=(0,$.X)(r,[r.shape[0],r.shape[1]]);return(0,k.O)(n,h)}}),he=n(58060),me=n(52353),ve=n(63254),ge=n(93891),ye=n(13313),be=n(411),we=n(72975),ke=n(15682),xe=n(42343);var _e=(0,_.op)({eye_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var i=(0,F.f)([e,t],r),a=e<=t?e:t,o=0;o<a;++o)i.set(1,o,o);var s=(0,$.X)(i.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return(0,xe.G)((0,we.d)(s,0),[n[0],1,1]);if(2===n.length)return(0,xe.G)((0,we.d)((0,we.d)(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return(0,xe.G)((0,we.d)((0,we.d)((0,we.d)(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}}),Se=n(8582),Ee=n(22628),Ce=n(67145),Te=n(49498),Ae=n(35014),Oe=n(18327),Re=n(76996);var Ie=(0,_.op)({isFinite_:function(e){var t={x:(0,b._1)(e,"x","isFinite")};return Q.BV.runKernel(J.av,t)}});var Ne=(0,_.op)({isInf_:function(e){var t={x:(0,b._1)(e,"x","isInf")};return Q.BV.runKernel(J.iW,t)}}),Pe=n(37005),Me=n(74419),Le=n(44920),De=n(12642),Fe=n(62453),Be=n(40936),je=n(40378),Ze=n(95341),Ve=n(66450),Ue=n(4362),We=n(54626);var He=(0,_.op)({logSigmoid_:function(e){var t=(0,b._1)(e,"x","logSigmoid"),n=(0,Ve.cb)((function(e){return{value:(0,Ue.W)((0,We.W)((0,Ue.W)(e))),gradFunc:function(t){return(0,x.d)(t,(0,S.X)((0,Ue.W)(e)))}}}));return n(t)}}),ze=n(54561),Ge=n(88473),qe=n(56176),Ke=n(84774),Ye=n(40227);var Xe=(0,_.op)({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,b._1)(e,"x","logSumExp"),i=(0,R.EC)(t,r.shape),a=(0,qe.F)(r,i,!0),s=(0,Ke.l)(r,a),u=(0,be.Q)(s),c=(0,Ye.S)(u,i),l=(0,je.c)(c),d=(0,o.I)((0,$.X)(a,l.shape),l);if(n){var f=(0,Ge.rv)(d.shape,i);return(0,$.X)(d,f)}return d}}),Qe=n(2177),Je=n(30875),$e=n(15117),et=n(45774);var tt=(0,_.op)({logicalXor_:function(e,t){var n=(0,b._1)(e,"a","logicalXor","bool"),r=(0,b._1)(t,"b","logicalXor","bool");return(0,et.assertAndGetBroadcastShape)(n.shape,r.shape),(0,Qe.H)((0,$e.K)(e,t),(0,Je.h)((0,Qe.H)(e,t)))}}),nt=n(94255),rt=n(85777),it=n(39185),at=n(78811),ot=n(70705),st=n(6568),ut=n(86100),ct=n(4376);function lt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.indexing,i=void 0===r?"xy":r;if("xy"!==i&&"ij"!==i)throw new TypeError("".concat(i," is not a valid third argument to meshgrid"));if(void 0===e)return[];var a=(0,b._1)(e,"x","meshgrid",e instanceof ct.es?e.dtype:"float32");if(void 0===t)return[a];var o=(0,b._1)(t,"y","meshgrid",t instanceof ct.es?t.dtype:"float32"),s=(0,R.NA)(a.shape),u=(0,R.NA)(o.shape);return"xy"===i?(a=(0,$.X)(a,[1,-1]),o=(0,$.X)(o,[-1,1]),[(0,k.O)((0,ut.i)([u,1],a.dtype),a),(0,k.O)(o,(0,ut.i)([1,s],o.dtype))]):(a=(0,$.X)(a,[-1,1]),o=(0,$.X)(o,[1,-1]),[(0,k.O)(a,(0,ut.i)([1,u],a.dtype)),(0,k.O)((0,ut.i)([s,1],o.dtype),o)])}var dt=n(77891),ft=n(82273),pt=n(27613),ht=n(84645),mt=n(7391);var vt=(0,_.op)({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=(0,b._1)(e,"x","moments");var r=(0,R.EC)(t,e.shape),i=(0,st.J)(e,r,n),a=i.shape;n||(a=(0,Ge.rv)(i.shape,r));var o=(0,mt.h)((0,Ke.l)((0,B.p)(e,"float32"),(0,$.X)(i,a))),s=(0,st.J)(o,r,n);return{mean:i,variance:s}}});var gt=(0,_.op)({multiRNNCell_:function(e,t,n,r){for(var i=(0,b._1)(t,"data","multiRNNCell"),a=(0,b.sI)(n,"c","multiRNNCell"),o=(0,b.sI)(r,"h","multiRNNCell"),s=i,u=[],c=0;c<e.length;c++){var l=e[c](s,a[c],o[c]);u.push(l[0]),u.push(l[1]),s=l[1]}for(var d=[],f=[],p=0;p<u.length;p+=2)d.push(u[p]),f.push(u[p+1]);return[d,f]}}),yt=n(4660),bt=n(15549),wt=n(34326),kt=n(20773);var xt=(0,_.op)({outerProduct_:function(e,t){var n=(0,b._1)(e,"v1","outerProduct"),r=(0,b._1)(t,"v2","outerProduct");R.hu(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var i=(0,$.X)(n,[-1,1]),a=(0,$.X)(r,[1,-1]);return(0,k.O)(i,a)}}),_t=n(71970);var St=(0,_.op)({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,R.hu)(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),(0,_t.v)(e,[t],n)}});var Et=(0,_.op)({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,R.hu)(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,_t.v)(e,t,n)}});var Ct=(0,_.op)({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,R.hu)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,_t.v)(e,t,n)}});var Tt=(0,_.op)({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,R.hu)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,_t.v)(e,t,n)}}),At=n(29439),Ot=n(39151),Rt=n(65696);var It=(0,_.op)({pool_:function(e,t,n,r,i,a,o){null==i&&(i=[1,1]),null==a&&(a=1),0===r&&(r="valid");var s=(0,b._1)(e,"x","maxPool"),u=s,c=!1;3===s.rank&&(c=!0,u=(0,$.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]])),R.hu(Ot.jT(a,i),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(a," and dilations '").concat(i,"'")}));var l,d=Ot.Xw(u.shape,t,a,i,r),f=[d.dilationHeight,d.dilationWidth];l="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),i=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],i[t]]}))}([d.filterHeight,d.filterWidth],f):[[0,0],[0,0]];var p=1===f[0]&&1===f[1],h=function(e,t,n){var r=n.map((function(e){return e[0]})),i=n.map((function(e){return e[1]})),a=e.concat(r,i),o=t.map((function(e,t){return(e-a[t]%e)%e})),s=i.map((function(e,t){return e+o[t]})),u=t.map((function(e,t){return[r[t],s[t]]})),c=t.map((function(e,t){return[0,o[t]]}));return[u,c]}([d.inHeight,d.inWidth],f,l),m=(0,At.Z)(h,2),v=m[0],y=m[1],w=p?r:"valid",k=p?u:(0,Rt.f)(u,f,v),x=("avg"===n?function(){return(0,g.w)(k,t,a,w,o)}:function(){return(0,rt._)(k,t,a,w,o)})(),_=p?x:(0,A.E)(x,f,y);return c?(0,$.X)(_,[_.shape[1],_.shape[2],_.shape[3]]):_}}),Nt=n(44334),Pt=n(96859),Mt=n(64600),Lt=n(67722);var Dt=(0,_.op)({rand_:function(e,t,n){var r=(0,R.NA)(e),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));i=new Uint8Array(r)}for(var a=0;a<r;a++)i[a]=t();return Q.BV.makeTensor(i,e,n)}}),Ft=n(14466);var Bt=(0,_.op)({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",i=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var a=new Ft.T9(t,n,r,i),o=(0,F.f)(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}});var jt=(0,_.op)({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var a=new Ft.Yi(t,n,r,!1,i),o=(0,F.f)(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),Zt=n(16407),Vt=n(422),Ut=n(26972),Wt=n(12209),Ht=n(17539),zt=n(65900),Gt=n(34933);var qt=(0,_.op)({reverse1d_:function(e){var t=(0,b._1)(e,"x","reverse");return R.hu(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),(0,Gt.G)(t,0)}});var Kt=(0,_.op)({reverse2d_:function(e,t){var n=(0,b._1)(e,"x","reverse");return R.hu(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),(0,Gt.G)(n,t)}});var Yt=(0,_.op)({reverse3d_:function(e,t){var n=(0,b._1)(e,"x","reverse");return R.hu(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),(0,Gt.G)(n,t)}});var Xt=(0,_.op)({reverse4d_:function(e,t){var n=(0,b._1)(e,"x","reverse");return R.hu(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),(0,Gt.G)(n,t)}}),Qt=n(60766),Jt=n(65115),$t=n(27067),en=n(20413);var tn=(0,_.op)({separableConv2d_:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",s=(0,b._1)(e,"x","separableConv2d"),u=(0,b._1)(t,"depthwiseFilter","separableConv2d"),c=(0,b._1)(n,"pointwiseFilter","separableConv2d"),l=s,d=!1;if(3===s.rank&&(d=!0,l=(0,$.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");R.hu(4===l.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(l.rank,".")})),R.hu(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(u.rank,".")})),R.hu(4===c.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(u.rank,".")})),R.hu(1===c.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(c.shape[0],".")})),R.hu(1===c.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(c.shape[1],".")}));var f=u.shape[2],p=u.shape[3];R.hu(c.shape[2]===f*p,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(f*p,", ")+"but got ".concat(c.shape[2],".")}));var h=(0,ue.B)(l,u,r,i,o,a),m=1,v=(0,K.T)(h,c,m,"valid",o);return d?(0,$.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}}),nn=n(24438),rn=n(2070),an=n(87254),on=n(57657);var sn=(0,_.op)({slice1d_:function(e,t,n){var r=(0,b._1)(e,"x","slice1d");return R.hu(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),(0,E.t)(r,[t],[n])}});var un=(0,_.op)({slice2d_:function(e,t,n){var r=(0,b._1)(e,"x","slice2d");return R.hu(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),(0,E.t)(r,t,n)}});var cn=(0,_.op)({slice3d_:function(e,t,n){var r=(0,b._1)(e,"x","slice3d");return R.hu(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),(0,E.t)(r,t,n)}});var ln=(0,_.op)({slice4d_:function(e,t,n){var r=(0,b._1)(e,"x","slice4d");return R.hu(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),(0,E.t)(r,t,n)}}),dn=n(74910),fn=n(37635),pn=n(50530),hn=n(774),mn=n(64617),vn=n(82588),gn=n(46902),yn=n(7993),bn=n(83931),wn=n(18306),kn=n(94031),xn=n(39017),_n=n(66999),Sn=n(72442),En=n(92894),Cn=n(77960);function Tn(e,t,n){if((0,R.Cq)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=(0,b.C)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,Cn.H)(e,t,r,n)}var An=n(73123);function On(e,t,n){if((0,R.Cq)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=(0,b.C)(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,Cn.H)(e,t,r,n)}function Rn(e,t,n){if((0,R.Cq)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=(0,b.C)(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,Cn.H)(e,t,r,n)}function In(e,t,n){if((0,R.Cq)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=(0,b.C)(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,(0,Cn.H)(e,t,r,n)}var Nn=n(29085),Pn=n(52453),Mn=n(74860);var Ln=(0,_.op)({unsortedSegmentSum_:function(e,t,n){var r=(0,b._1)(e,"x","unsortedSegmentSum"),i=(0,b._1)(t,"segmentIds","unsortedSegmentSum","int32");(0,R.hu)((0,R.GN)(n),(function(){return"numSegments must be of dtype int"}));var a={x:r,segmentIds:i},o={numSegments:n};return Q.BV.runKernel(J.Qv,a,o)}}),Dn=n(54566),Fn=n(16035);function Bn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return Q.BV.makeVariable(e,t,n,r)}var jn=n(10329),Zn=n(41867),Vn=n(87742),Un=n(87293),Wn=n(74165),Hn=n(15861);function zn(){return zn=(0,Hn.Z)((0,Wn.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,d,f,p,h,m,v;return(0,Wn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=(0,b._1)(t,"tensor","boolMask"),a=(0,b._1)(n,"mask","boolMask","bool"),o=null==r?0:r,s=a.rank,u=i.shape,R.hu(s>0,(function(){return"mask cannot be scalar"})),R.k5(u.slice(o,o+s),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,l=o;l<o+s;l++)c*=u[l];return d=u.slice(0,o).concat([c],u.slice(o+s)),f=(0,$.X)(i,d),p=(0,$.X)(a,[-1]),e.next=14,(0,Zn.i)(p);case 14:return h=e.sent,m=(0,bn.L)(h,[1]),v=(0,Te.I)(f,m,o),t!==i&&i.dispose(),n!==a&&a.dispose(),m.dispose(),f.dispose(),p.dispose(),h.dispose(),e.abrupt("return",v);case 24:case"end":return e.stop()}}),e)}))),zn.apply(this,arguments)}var Gn=function(e,t,n){return zn.apply(this,arguments)},qn=n(61240),Kn=n(56662),Yn=n(99064);var Xn=(0,_.op)({movingAverage_:function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=(0,b._1)(e,"v","movingAverage"),s=(0,b._1)(t,"x","movingAverage"),u=(0,b._1)(n,"decay","movingAverage");(0,Yn.assertTypesMatch)(a,s),R.hu(R.cO(a.shape,s.shape),(function(){return"Shape mismatch in v and x"}));var c=(0,$t.i)(1),l=(0,Ke.l)(c,u),d=(0,x.d)((0,Ke.l)(s,a),l);if(i){R.hu(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var f=(0,b._1)(r,"step","movingAverage");d=(0,de.h)(d,(0,Ke.l)(c,(0,Nt.s)(u,f)))}return(0,o.I)(a,d)}}),Qn=n(23522),Jn=n(9028),$n=n(49991),er=n(53357);var tr=(0,_.op)({dropout_:function(e,t,n,r){var i=(0,b._1)(e,"x","dropout");if(R.hu("float32"===i.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(i.dtype," tensor instead.")})),R.hu(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return e instanceof ct.es?i.clone():i;var a=function(e,t){if(null==t)return e.shape.slice();if(R.cO(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(i,n),s=1-t,u=(0,de.h)((0,Ee.G)((0,o.I)((0,Zt.L)(a,0,1,"float32",r),s)),s);return(0,x.d)(i,u)}});function nr(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function rr(e,t,n){for(var r=1-e%2,i=new Float32Array(e),a=0;a<e;++a){var o=2*Math.PI*a/(e+r-1);i[a]=t-n*Math.cos(o)}return(0,En.R)(i,"float32")}function ir(){return ir=(0,Hn.Z)((0,Wn.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l,d,f,p,h,m,v,g,y=arguments;return(0,Wn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:1,i=(0,b._1)(t,"predictions","inTopK"),a=(0,b._1)(n,"targets","inTopK"),(0,R.hu)(i.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(i.rank)})),(0,R.hu)(i.rank-1===a.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(i.rank," and targets rank ").concat(a.rank)})),(0,R.k5)(i.shape.slice(0,i.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=i.shape[i.shape.length-1],(0,R.hu)(r>0&&r<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(r)})),e.next=10,i.data();case 10:return s=e.sent,e.next=13,a.data();case 13:u=e.sent,c=s.length/o,l=o,d=(0,R.WP)("bool",c),f=0;case 17:if(!(f<c)){e.next=35;break}for(p=f*l,h=s.subarray(p,p+l),m=[],v=0;v<h.length;v++)m.push({value:h[v],index:v});m.sort((function(e,t){return t.value-e.value})),d[f]=0,g=0;case 25:if(!(g<r)){e.next=32;break}if(m[g].index!==u[f]){e.next=29;break}return d[f]=1,e.abrupt("break",32);case 29:g++,e.next=25;break;case 32:f++,e.next=17;break;case 35:return t!==i&&i.dispose(),n!==a&&a.dispose(),e.abrupt("return",(0,Sn.X)(d,a.shape,"bool"));case 38:case"end":return e.stop()}}),e)}))),ir.apply(this,arguments)}var ar=function(e,t){return ir.apply(this,arguments)},or=n(97500);var sr=(0,_.op)({hammingWindow_:function(e){return rr(e,.54,.46)}});var ur=(0,_.op)({hannWindow_:function(e){return rr(e,.5,.5)}});var cr=(0,_.op)({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=0,o=[];a+t<=e.size;)o.push((0,E.t)(e,a,t)),a+=n;if(r)for(;a<e.size;){var s=a+t-e.size,u=(0,w.z)([(0,E.t)(e,a,t-s),(0,Se.h)([s],i)]);o.push(u),a+=n}return 0===o.length?Tn([],[0,t]):(0,$.X)((0,w.z)(o),[o.length,t])}});var lr=(0,_.op)({stft_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ur;null==r&&(r=nr(t));var a=cr(e,t,n),o=(0,x.d)(a,i(t));return(0,mn.Q)(o,r)}});var dr=(0,_.op)({cropAndResize_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=(0,b._1)(e,"image","cropAndResize"),s=(0,b._1)(t,"boxes","cropAndResize","float32"),u=(0,b._1)(n,"boxInd","cropAndResize","int32"),c=s.shape[0];R.hu(4===o.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),R.hu(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(s.shape,".")})),R.hu(1===u.rank&&u.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(s.shape,".")})),R.hu(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")})),R.hu(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),R.hu("bilinear"===i||"nearest"===i,(function(){return"method must be bilinear or nearest, but was ".concat(i)}));var l={image:o,boxes:s,boxInd:u},d={method:i,extrapolationValue:a,cropSize:r},f=Q.BV.runKernel(J.Vc,l,d);return f}});var fr=(0,_.op)({flipLeftRight_:function(e){var t=(0,b._1)(e,"image","flipLeftRight","float32");R.hu(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}));var n={image:t};return Q.BV.runKernel(J.Uy,n,{})}});var pr=(0,_.op)({grayscaleToRGB_:function(e){var t=(0,b._1)(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];R.hu(t.rank>=2,(function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")})),R.hu(1===r,(function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")}));var i=new Array(t.rank);return i.fill(1,0,n),i[n]=3,(0,xe.G)(t,i)}});var hr=(0,_.op)({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=(0,b._1)(e,"image","rotateWithOffset","float32");R.hu(4===i.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(i.rank,".")}));var a={image:i},o={radians:t,fillValue:n,center:r},s=Q.BV.runKernel(J.b9,a,o);return s}});function mr(e,t,n,r,i,a){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==a&&(a=0);var o=e.shape[0];return n=Math.min(n,o),R.hu(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),R.hu(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")})),R.hu(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])})),R.hu(1===t.rank,(function(){return"scores must be a 1D tensor"})),R.hu(t.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected ".concat(o,", ")+"but was ".concat(t.shape[0])})),R.hu(0<=a&&a<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(a,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:a}}var vr=(0,_.op)({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=(0,b._1)(e,"boxes","nonMaxSuppression","float32"),o=(0,b._1)(t,"scores","nonMaxSuppression","float32"),s=mr(a,o,n,r,i),u={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:i=s.scoreThreshold};return Q.BV.runKernel(J.uv,{boxes:a,scores:o},u)}}),gr=n(60745);function yr(){return yr=(0,Hn.Z)((0,Wn.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,d,f,p,h=arguments;return(0,Wn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=h.length>3&&void 0!==h[3]?h[3]:.5,a=h.length>4&&void 0!==h[4]?h[4]:Number.NEGATIVE_INFINITY,o=(0,b._1)(t,"boxes","nonMaxSuppressionAsync"),s=(0,b._1)(n,"scores","nonMaxSuppressionAsync"),u=mr(o,s,r,i,a),r=u.maxOutputSize,i=u.iouThreshold,a=u.scoreThreshold,e.next=10,Promise.all([o.data(),s.data()]);case 10:return c=e.sent,l=c[0],d=c[1],f=(0,gr.GP)(l,d,r,i,a),p=f.selectedIndices,o!==t&&o.dispose(),s!==n&&s.dispose(),e.abrupt("return",(0,En.R)(p,"int32"));case 17:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}var br=function(e,t,n){return yr.apply(this,arguments)};var wr=(0,_.op)({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=(0,b._1)(e,"boxes","nonMaxSuppression"),s=(0,b._1)(t,"scores","nonMaxSuppression"),u=mr(o,s,n,r,i,a),c={boxes:o,scores:s},l={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:i=u.scoreThreshold,softNmsSigma:a=u.softNmsSigma},d=Q.BV.runKernel(J.W0,c,l);return{selectedIndices:d[0],selectedScores:d[1]}}});function kr(){return kr=(0,Hn.Z)((0,Wn.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,d,f,p,h,m,v=arguments;return(0,Wn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=v.length>3&&void 0!==v[3]?v[3]:.5,a=v.length>4&&void 0!==v[4]?v[4]:Number.NEGATIVE_INFINITY,o=v.length>5&&void 0!==v[5]?v[5]:0,s=(0,b._1)(t,"boxes","nonMaxSuppressionAsync"),u=(0,b._1)(n,"scores","nonMaxSuppressionAsync"),c=mr(s,u,r,i,a,o),r=c.maxOutputSize,i=c.iouThreshold,a=c.scoreThreshold,o=c.softNmsSigma,e.next=12,Promise.all([s.data(),u.data()]);case 12:return l=e.sent,d=l[0],f=l[1],p=(0,gr.pA)(d,f,r,i,a,o),h=p.selectedIndices,m=p.selectedScores,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:(0,En.R)(h,"int32"),selectedScores:(0,En.R)(m)});case 19:case"end":return e.stop()}}),e)}))),kr.apply(this,arguments)}var xr=function(e,t,n){return kr.apply(this,arguments)};var _r=(0,_.op)({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=(0,b._1)(e,"boxes","nonMaxSuppression"),s=(0,b._1)(t,"scores","nonMaxSuppression"),u=mr(o,s,n,r,i,null),c=u.maxOutputSize,l=u.iouThreshold,d=u.scoreThreshold,f={boxes:o,scores:s},p={maxOutputSize:c,iouThreshold:l,scoreThreshold:d,padToMaxOutputSize:a},h=Q.BV.runKernel(J.cy,f,p);return{selectedIndices:h[0],validOutputs:h[1]}}});function Sr(){return Sr=(0,Hn.Z)((0,Wn.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,d,f,p,h,m,v,g,y,w,k=arguments;return(0,Wn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=k.length>3&&void 0!==k[3]?k[3]:.5,a=k.length>4&&void 0!==k[4]?k[4]:Number.NEGATIVE_INFINITY,o=k.length>5&&void 0!==k[5]&&k[5],s=(0,b._1)(t,"boxes","nonMaxSuppressionAsync"),u=(0,b._1)(n,"scores","nonMaxSuppressionAsync"),c=mr(s,u,r,i,a,null),l=c.maxOutputSize,d=c.iouThreshold,f=c.scoreThreshold,e.next=11,Promise.all([s.data(),u.data()]);case 11:return p=e.sent,h=(0,At.Z)(p,2),m=h[0],v=h[1],g=(0,gr.qP)(m,v,l,d,f,o),y=g.selectedIndices,w=g.validOutputs,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:(0,En.R)(y,"int32"),validOutputs:(0,$t.i)(w,"int32")});case 19:case"end":return e.stop()}}),e)}))),Sr.apply(this,arguments)}var Er=function(e,t,n){return Sr.apply(this,arguments)},Cr=n(83878),Tr=n(59199),Ar=n(40181),Or=n(25267);function Rr(e){return(0,Cr.Z)(e)||(0,Tr.Z)(e)||(0,Ar.Z)(e)||(0,Or.Z)()}var Ir=(0,_.op)({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(0,b._1)(e,"images","resizeBilinear");R.hu(3===i.rank||4===i.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(i.rank,".")})),R.hu(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")})),R.hu(!1===r||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var a=i,o=!1;3===i.rank&&(o=!0,a=(0,$.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Rr(t);var s={images:a},u={alignCorners:n,halfPixelCenters:r,size:t},c=Q.BV.runKernel(J._Y,s,u);return o?(0,$.X)(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var Nr=(0,_.op)({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(0,b._1)(e,"images","resizeNearestNeighbor");R.hu(3===i.rank||4===i.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(i.rank,".")})),R.hu(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")})),R.hu("float32"===i.dtype||"int32"===i.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),R.hu(!1===r||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var a=i,o=!1;3===i.rank&&(o=!0,a=(0,$.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Rr(t);var s={images:a},u={alignCorners:n,halfPixelCenters:r,size:t},c=Q.BV.runKernel(J.dp,s,u);return o?(0,$.X)(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});function Pr(e,t){for(var n,r,i,a,s,u,c=(0,En.R)([-1]),l=(0,En.R)([0]),d=(0,En.R)([0]),f=0;f<e.size-1;f++){n=(0,E.t)(e,0,f+1),r=(0,E.t)(e,f+1),s=(0,de.h)((0,Ye.S)(n),t),u=(0,de.h)((0,Ye.S)(r),t);var p=(0,Ye.S)((0,x.d)(n,(0,Vt.w)(0,n.size)));i=(0,de.h)(p,(0,Ye.S)(n));var h=(0,Se.h)(r.shape,n.size),m=(0,o.I)((0,Vt.w)(0,r.size),h),v=(0,x.d)(r,m);a=(0,de.h)((0,Ye.S)(v),(0,Ye.S)(r));var g=(0,Ke.l)(i,a),y=(0,Ke.l)(i,a),b=(0,x.d)(s,u);d=(0,x.d)((0,x.d)(b,g),y);var w=(0,Ae.p)(d,l);l=(0,jn.a)(w,d,l),c=(0,jn.a)(w,(0,En.R)([f]),c)}return c}var Mr=(0,_.op)({threshold_:function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,c=(0,b._1)(e,"image","threshold"),l=.2989,d=.587,f=.114,p=c.shape[0]*c.shape[1],h=(0,x.d)((0,En.R)([u]),255);if(R.hu(3===c.rank,(function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(c.rank,".")})),R.hu(3===c.shape[2]||1===c.shape[2],(function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(c.shape[2],".")})),R.hu("int32"===c.dtype||"float32"===c.dtype,(function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(c.dtype,".")})),R.hu("otsu"===a||"binary"===a,(function(){return"Method must be binary or otsu, but was ".concat(a)})),3===c.shape[2]){var m=(0,vn.V)(c,[1,1,1],-1),v=(0,At.Z)(m,3);t=v[0],n=v[1],r=v[2];var g=(0,x.d)(t,l),y=(0,x.d)(n,d),w=(0,x.d)(r,f);i=(0,o.I)((0,o.I)(g,y),w)}else i=e;if("otsu"===a){var k=(0,M.y)((0,B.p)((0,Qt.N)(i),"int32"),(0,Sn.X)([]),256);h=Pr(k,p)}var _=s?(0,De.z)(i,h):(0,Ae.p)(i,h),S=(0,B.p)((0,x.d)(_,255),"int32");return S}});var Lr=(0,_.op)({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,o=(0,b._1)(e,"image","transform","float32"),s=(0,b._1)(t,"transforms","transform","float32");R.hu(4===o.rank,(function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),R.hu(2===s.rank&&(s.shape[0]===o.shape[0]||1===s.shape[0])&&8===s.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),R.hu(null==a||2===a.length,(function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(a,".")}));var u={image:o,transforms:s},c={interpolation:n,fillMode:r,fillValue:i,outputShape:a};return Q.BV.runKernel(J.wx,u,c)}});var Dr=(0,_.op)({bandPart_:function(e,t,n){(0,R.hu)(t%1===0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),(0,R.hu)(n%1===0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")}));var r=(0,b._1)(e,"a","bandPart");(0,R.hu)(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")}));var i=r.shape,a=r.shape.slice(-2),o=(0,At.Z)(a,2),s=o[0],u=o[1];if(!(t<=s))throw new Error("bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(s,")."));if(!(n<=u))throw new Error("bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(u,")."));t<0&&(t=s),n<0&&(n=u);var c=(0,$.X)((0,Vt.w)(0,s,1,"int32"),[-1,1]),l=(0,Vt.w)(0,u,1,"int32"),d=(0,Ke.l)(c,l),f=(0,Qe.H)((0,De.z)(d,(0,$t.i)(+t,"int32")),(0,Oe.b)(d,(0,$t.i)(-n,"int32"))),p=(0,Vn.l)([s,u],r.dtype);return(0,$.X)((0,wn.k)((0,Dn.H)((0,$.X)(r,[-1,s,u])).map((function(e){return(0,jn.a)(f,e,p)}))),i)}});var Fr=(0,_.op)({gramSchmidt_:function(e){var t;Array.isArray(e)?function(){t=!1,(0,R.hu)(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){(0,R.hu)(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")}))},i=1;i<e.length;++i)r(i)}():(t=!0,e=(0,vn.V)(e,e.shape[0],0).map((function(e){return(0,bn.L)(e,[0])}))),(0,R.hu)(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")}));for(var n=[],r=e,i=function(e){n.push(Q.BV.tidy((function(){var t=r[e];if(e>0)for(var i=0;i<e;++i){var a=(0,x.d)((0,Ye.S)((0,x.d)(n[i],t)),n[i]);t=(0,Ke.l)(t,a)}return(0,de.h)(t,(0,Kn.K)(t,"euclidean"))})))},a=0;a<e.length;++a)i(a);return t?(0,wn.k)(n,0):n}}),Br=n(35875);function jr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Q.BV.tidy((function(){(0,R.hu)(2===e.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")}));for(var n=e.shape[0],r=e.shape[1],i=_e(n),a=(0,V.d)(e),o=Tn([[1]],[1,1]),s=(0,V.d)(o),u=n>=r?r:n,c=function(e){var t=a,u=s,c=i,l=Q.BV.tidy((function(){var t=(0,E.t)(a,[e,e],[n-e,1]),u=(0,Kn.K)(t),c=(0,E.t)(a,[e,e],[1,1]),l=(0,jn.a)((0,Ae.p)(c,0),Tn([[-1]]),Tn([[1]])),d=(0,Ke.l)(c,(0,x.d)(l,u)),f=(0,de.h)(t,d);s=1===f.shape[0]?(0,V.d)(o):(0,w.z)([o,(0,E.t)(f,[1,0],[f.shape[0]-1,f.shape[1]])],0);var p=(0,Ue.W)((0,de.h)((0,k.O)(l,d),u)),h=(0,E.t)(a,[e,0],[n-e,r]),m=(0,x.d)(p,s),v=(0,qn.p)(s);if(0===e)a=(0,Ke.l)(h,(0,k.O)(m,(0,k.O)(v,h)));else{var g=(0,Ke.l)(h,(0,k.O)(m,(0,k.O)(v,h)));a=(0,w.z)([(0,E.t)(a,[0,0],[e,r]),g],0)}var y=(0,qn.p)(m),b=(0,E.t)(i,[0,e],[n,i.shape[1]-e]);if(0===e)i=(0,Ke.l)(b,(0,k.O)((0,k.O)(b,s),y));else{var _=(0,Ke.l)(b,(0,k.O)((0,k.O)(b,s),y));i=(0,w.z)([(0,E.t)(i,[0,0],[n,e]),_],1)}return[s,a,i]})),d=(0,At.Z)(l,3);s=d[0],a=d[1],i=d[2],(0,Br.B9)([t,u,c])},l=0;l<u;++l)c(l);return!t&&n>r&&(i=(0,E.t)(i,[0,0],[n,r]),a=(0,E.t)(a,[0,0],[r,r])),[i,a]}))}var Zr=(0,_.op)({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,R.hu)(e.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)})),2===e.rank)return jr(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=(0,Dn.H)((0,$.X)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],a=[];r.forEach((function(e){var n=jr(e,t),r=(0,At.Z)(n,2),o=r[0],s=r[1];i.push(o),a.push(s)}));var o=(0,$.X)((0,wn.k)(i,0),e.shape),s=(0,$.X)((0,wn.k)(a,0),e.shape);return[o,s]}}),Vr=n(47627);var Ur=(0,_.op)({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vr.I.SUM_BY_NONZERO_WEIGHTS,r=(0,b._1)(e,"losses","computeWeightedLoss"),i=null;null!=t&&(i=(0,b._1)(t,"weights","computeWeightedLoss"));var a=null==i?r:(0,x.d)(r,i);if(n===Vr.I.NONE)return a;if(n===Vr.I.SUM)return(0,Ye.S)(a);if(n===Vr.I.MEAN){if(null==i)return(0,st.J)(a);var o=r.size/i.size,s=(0,de.h)((0,Ye.S)(a),(0,Ye.S)(i));return o>1?(0,de.h)(s,(0,$t.i)(o)):s}if(n===Vr.I.SUM_BY_NONZERO_WEIGHTS){if(null==i)return(0,de.h)((0,Ye.S)(a),(0,$t.i)(r.size));var u=(0,x.d)(i,(0,ut.i)(r.shape)),c=(0,B.p)((0,Ye.S)((0,bt.Q)(u,(0,$t.i)(0))),"float32");return(0,de.h)((0,Ye.S)(a),c)}throw Error("Unknown reduction: ".concat(n))}});var Wr=(0,_.op)({absoluteDifference_:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Vr.I.SUM_BY_NONZERO_WEIGHTS,a=(0,b._1)(e,"labels","absoluteDifference"),o=(0,b._1)(t,"predictions","absoluteDifference"),s=null;null!=n&&(s=(0,b._1)(n,"weights","absoluteDifference")),(0,R.k5)(a.shape,o.shape,"Error in absoluteDifference: ");var u=(0,r.W)((0,Ke.l)(a,o));return Ur(u,s,i)}});var Hr=(0,_.op)({cosineDistance_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vr.I.SUM_BY_NONZERO_WEIGHTS,a=(0,b._1)(e,"labels","cosineDistance"),o=(0,b._1)(t,"predictions","cosineDistance"),s=null;null!=r&&(s=(0,b._1)(r,"weights","cosineDistance")),(0,R.k5)(a.shape,o.shape,"Error in cosineDistance: ");var u=(0,$t.i)(1),c=(0,Ke.l)(u,(0,Ye.S)((0,x.d)(a,o),n,!0));return Ur(c,s,i)}});var zr=(0,_.op)({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Vr.I.SUM_BY_NONZERO_WEIGHTS,i=(0,b._1)(e,"labels","hingeLoss"),a=(0,b._1)(t,"predictions","hingeLoss"),o=null;null!=n&&(o=(0,b._1)(n,"weights","hingeLoss")),(0,R.k5)(i.shape,a.shape,"Error in hingeLoss: ");var s=(0,$t.i)(1);i=(0,Ke.l)((0,x.d)((0,$t.i)(2),i),s);var u=(0,Ht.U)((0,Ke.l)(s,(0,x.d)(i,a)));return Ur(u,o,r)}});var Gr=(0,_.op)({huberLoss_:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vr.I.SUM_BY_NONZERO_WEIGHTS,s=(0,b._1)(e,"labels","huberLoss"),u=(0,b._1)(t,"predictions","huberLoss"),c=null;null!=n&&(c=(0,b._1)(n,"weights","huberLoss")),(0,R.k5)(s.shape,u.shape,"Error in huberLoss: ");var l=(0,$t.i)(i),d=(0,r.W)((0,Ke.l)(u,s)),f=(0,ft.L)(d,l),p=(0,Ke.l)(d,f),h=(0,o.I)((0,x.d)((0,$t.i)(.5),(0,mt.h)(f)),(0,x.d)(l,p));return Ur(h,c,a)}});var qr=(0,_.op)({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vr.I.SUM_BY_NONZERO_WEIGHTS,a=(0,b._1)(e,"labels","logLoss"),s=(0,b._1)(t,"predictions","logLoss"),u=null;null!=n&&(u=(0,b._1)(n,"weights","logLoss")),(0,R.k5)(a.shape,s.shape,"Error in logLoss: ");var c=(0,$t.i)(1),l=(0,$t.i)(r),d=(0,Ue.W)((0,x.d)(a,(0,je.c)((0,o.I)(s,l)))),f=(0,x.d)((0,Ke.l)(c,a),(0,je.c)((0,o.I)((0,Ke.l)(c,s),l))),p=(0,Ke.l)(d,f);return Ur(p,u,i)}});var Kr=(0,_.op)({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Vr.I.SUM_BY_NONZERO_WEIGHTS,i=(0,b._1)(e,"labels","meanSquaredError"),a=(0,b._1)(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=(0,b._1)(n,"weights","meanSquaredError")),(0,R.k5)(i.shape,a.shape,"Error in meanSquaredError: ");var s=(0,yn.$)(i,a);return Ur(s,o,r)}});function Yr(e,t){var n=(0,b._1)(e,"labels","sigmoidCrossEntropyWithLogits"),i=(0,b._1)(t,"logits","sigmoidCrossEntropyWithLogits");(0,R.k5)(n.shape,i.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=(0,Ht.U)(i),s=(0,x.d)(i,n),u=(0,Ze.K)((0,be.Q)((0,Ue.W)((0,r.W)(i))));return(0,o.I)((0,Ke.l)(a,s),u)}var Xr=(0,_.op)({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vr.I.SUM_BY_NONZERO_WEIGHTS,a=(0,b._1)(e,"multiClassLabels","sigmoidCrossEntropy"),s=(0,b._1)(t,"logits","sigmoidCrossEntropy"),u=null;if(null!=n&&(u=(0,b._1)(n,"weights","sigmoidCrossEntropy")),(0,R.k5)(a.shape,s.shape,"Error in sigmoidCrossEntropy: "),r>0){var c=(0,$t.i)(r),l=(0,$t.i)(1),d=(0,$t.i)(.5);a=(0,o.I)((0,x.d)(a,(0,Ke.l)(l,c)),(0,x.d)(d,c))}var f=Yr(a,s);return Ur(f,u,i)}});function Qr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));var r=(0,Ve.cb)((function(e,t,r){var i=Xe(t,[n],!0),a=(0,Ke.l)((0,B.p)(t,"float32"),i);r([e,a]);var o=(0,Ue.W)((0,x.d)(a,e));return{value:(0,Ye.S)(o,[n]),gradFunc:function(e,t){var r=(0,At.Z)(t,2),i=r[0],a=r[1],o=(0,Ge.rv)(e.shape,[n]);return[(0,x.d)((0,$.X)(e,o),(0,Ke.l)((0,B.p)(i,"float32"),(0,be.Q)(a))),(0,x.d)((0,$.X)(e,o),(0,Ke.l)((0,be.Q)(a),(0,B.p)(i,"float32")))]}}}));return r(e,t)}var Jr=(0,_.op)({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vr.I.SUM_BY_NONZERO_WEIGHTS,a=(0,b._1)(e,"onehotLabels","softmaxCrossEntropy"),s=(0,b._1)(t,"logits","softmaxCrossEntropy"),u=null;if(null!=n&&(u=(0,b._1)(n,"weights","softmaxCrossEntropy")),(0,R.k5)(a.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){var c=(0,$t.i)(r),l=(0,$t.i)(1),d=(0,$t.i)(a.shape[1]);a=(0,o.I)((0,x.d)(a,(0,Ke.l)(l,c)),(0,de.h)(c,d))}var f=Qr(a,s);return Ur(f,u,i)}});var $r=(0,_.op)({sparseFillEmptyRows_:function(e,t,n,r){var i=(0,b._1)(e,"indices","sparseFillEmptyRows","int32"),a=(0,b._1)(t,"values","sparseFillEmptyRows"),o=(0,b._1)(n,"denseShape","sparseFillEmptyRows","int32"),s=(0,b._1)(r,"defaultValue","sparseFillEmptyRows",a.dtype);if(2!==i.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(i.shape));if(1!==a.rank)throw new Error("Values should be Tensor1D but received shape ".concat(a.shape));if(1!==o.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(o.shape));if(0!==s.rank)throw new Error("Default value should be a scalar but received shape ".concat(s.shape));var u={indices:i,values:a,denseShape:o,defaultValue:s},c=Q.BV.runKernel(J.O3,u);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}});var ei=(0,_.op)({sparseReshape_:function(e,t,n){var r=(0,b._1)(e,"inputIndices","sparseReshape","int32"),i=(0,b._1)(t,"inputShape","sparseReshape","int32"),a=(0,b._1)(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==i.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(i.shape));if(1!==a.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(a.shape));var o={inputIndices:r,inputShape:i,newShape:a},s=Q.BV.runKernel(J.nh,o);return{outputIndices:s[0],outputShape:s[1]}}});var ti=(0,_.op)({sparseSegmentMean_:function(e,t,n){var r=(0,b._1)(e,"data","sparseSegmentMean"),i=(0,b._1)(t,"indices","sparseSegmentMean","int32"),a=(0,b._1)(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(i.shape));if(1!==a.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(a.shape));var o={data:r,indices:i,segmentIds:a};return Q.BV.runKernel(J.YW,o)}});var ni=(0,_.op)({sparseSegmentSum_:function(e,t,n){var r=(0,b._1)(e,"data","sparseSegmentSum"),i=(0,b._1)(t,"indices","sparseSegmentSum","int32"),a=(0,b._1)(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(i.shape));if(1!==a.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(a.shape));var o={data:r,indices:i,segmentIds:a};return Q.BV.runKernel(J.Zj,o)}});var ri=(0,_.op)({stringNGrams_:function(e,t,n,r,i,a,o,s){var u=(0,b._1)(e,"data","stringNGrams","string");if("string"!==u.dtype)throw new Error("Data must be of datatype string");if(1!==u.shape.length)throw new Error("Data must be a vector, saw: ".concat(u.shape));var c=(0,b._1)(t,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");var l={separator:n,nGramWidths:r,leftPad:i,rightPad:a,padWidth:o,preserveShortSequences:s},d={data:u,dataSplits:c},f=Q.BV.runKernel(J._J,d,l);return{nGrams:f[0],nGramsSplits:f[1]}}});var ii=(0,_.op)({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,b._1)(e,"input","stringSplit","string"),i=(0,b._1)(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==i.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(i.shape));var a={skipEmpty:n},o={input:r,delimiter:i},s=Q.BV.runKernel(J.s1,o,a);return{indices:s[0],values:s[1],shape:s[2]}}});var ai=(0,_.op)({stringToHashBucketFast_:function(e,t){var n=(0,b._1)(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var i={input:n};return Q.BV.runKernel(J.Xk,i,r)}}),oi={fft:fn.k,ifft:pn.S,rfft:mn.Q,irfft:hn.w},si={hammingWindow:sr,hannWindow:ur,frame:cr,stft:lr},ui={flipLeftRight:fr,grayscaleToRGB:pr,resizeNearestNeighbor:Nr,resizeBilinear:Ir,rotateWithOffset:hr,cropAndResize:dr,nonMaxSuppression:vr,nonMaxSuppressionAsync:br,nonMaxSuppressionWithScore:wr,nonMaxSuppressionWithScoreAsync:xr,nonMaxSuppressionPadded:_r,nonMaxSuppressionPaddedAsync:Er,threshold:Mr,transform:Lr},ci={bandPart:Dr,gramSchmidt:Fr,qr:Zr},li={absoluteDifference:Wr,computeWeightedLoss:Ur,cosineDistance:Hr,hingeLoss:zr,huberLoss:Gr,logLoss:qr,meanSquaredError:Kr,sigmoidCrossEntropy:Xr,softmaxCrossEntropy:Jr},di={sparseFillEmptyRows:$r,sparseReshape:ei,sparseSegmentMean:ti,sparseSegmentSum:ni},fi={stringNGrams:ri,stringSplit:ii,stringToHashBucketFast:ai}},71970:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(0,a._1)(e,"x","pad");if(0===o.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var s={paddings:t,constantValue:n},u={x:o};return r.BV.runKernel(i.ly,u,s)}})},44334:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({pow_:function(e,t){var n=(0,s._1)(e,"base","pow"),u=(0,s._1)(t,"exp","pow"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),d={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.pe,d)}})},96859:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({prelu_:function(e,t){var n={x:(0,a._1)(e,"x","prelu"),alpha:(0,a._1)(t,"alpha","prelu")};return r.BV.runKernel(i.o0,n)}})},64600:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}n.d(t,{S:function(){return r}})},67722:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(99118);var s=(0,n(38640).op)({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,a._1)(e,"x","prod");"bool"===s.dtype&&(s=(0,o.p)(s,"int32"));var u={x:s},c={axis:t,keepDims:n};return r.BV.runKernel(i.Dl,u,c)}})},14466:function(e,t,n){"use strict";n.d(t,{T9:function(){return s},Yi:function(){return o},wv:function(){return u}});var r=n(15671),i=n(43144),a=n(96699),o=function(){function e(t,n,i,o,s){(0,r.Z)(this,e),this.mean=t,this.stdDev=n,this.dtype=i,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var u=s||Math.random();this.random=a.alea(u.toString())}return(0,i.Z)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var i=void 0,a=void 0,o=void 0;do{o=(i=2*this.random()-1)*i+(a=2*this.random()-1)*a}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}(),s=function(){function e(t,n,i,s){(0,r.Z)(this,e),this.alpha=t,this.beta=1/n,this.dtype=i;var u=s||Math.random();this.randu=a.alea(u.toString()),this.randn=new o(0,1,i,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return(0,i.Z)(e,[{key:"nextValue",value:function(){for(var e,t,n,r,i,a;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-a+Math.log(a)),(i=this.randu())<t||Math.log(i)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if((0,r.Z)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=i-n,this.dtype=o,null==s&&(s=Math.random()),"number"===typeof s&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(i," <= 1 and dtype is not float"));this.random=a.alea(s)}return(0,i.Z)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}()},16407:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(77039),i=n(38640),a=n(14466);var o=(0,i.op)({randomUniform_:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",o=arguments.length>4?arguments[4]:void 0,s=(0,r.f)(e,i),u=new a.wv(t,n,null,o),c=0;c<s.values.length;c++)s.values[c]=u.nextValue();return s.toTensor()}})},422:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(70318),i=n(32145);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var o={start:e,stop:t,step:n,dtype:a};return r.BV.runKernel(i.e6,{},o)}},26972:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({real_:function(e){var t={input:(0,a._1)(e,"input","real")};return r.BV.runKernel(i.xJ,t)}})},12209:function(e,t,n){"use strict";n.d(t,{M:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({reciprocal_:function(e){var t={x:(0,a._1)(e,"x","reciprocal")};return r.BV.runKernel(i.$H,t)}})},17539:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({relu_:function(e){var t={x:(0,a._1)(e,"x","relu")};return r.BV.runKernel(i.qk,t)}})},65900:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({relu6_:function(e){var t={x:(0,a._1)(e,"x","relu6")};return r.BV.runKernel(i.Sb,t)}})},75561:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({reshape_:function(e,t){var n={x:(0,a._1)(e,"x","reshape","string_or_numeric")},o={shape:t};return r.BV.runKernel(i.HZ,n,o)}})},34933:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({reverse_:function(e,t){var n={x:(0,a._1)(e,"x","reverse")},o={dims:t};return r.BV.runKernel(i.mK,n,o)}})},60766:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({round_:function(e){var t={x:(0,a._1)(e,"x","round")};return r.BV.runKernel(i.e0,t)}})},65115:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({rsqrt_:function(e){var t={x:(0,a._1)(e,"x","rsqrt","float32")};return r.BV.runKernel(i.bV,t)}})},27067:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var r=n(36147),i=n(77960);function a(e,t){if(((0,r.fU)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,r.fU)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,i.H)(e,[],[],t)}},23522:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(38640),s=n(48604);var u=(0,o.op)({scatterND_:function(e,t,n){var o=(0,a._1)(e,"indices","scatterND","int32"),u=(0,a._1)(t,"updates","scatterND");s.validateInput(u,o,n);var c={indices:o,updates:u},l={shape:n};return r.BV.runKernel(i.xQ,c,l)}})},48604:function(e,t,n){"use strict";n.r(t),n.d(t,{calculateShapes:function(){return s},validateInput:function(){return o},validateUpdateShape:function(){return a}});var r=n(93433),i=n(36147);function a(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(i,".");if(n.rank<i)throw new Error(a+" update.rank < ".concat(i,". "));if(e.length<r+(n.rank-i))throw new Error(a+" Output shape length < ".concat(r+(n.rank-i)));if(n.rank!==i+e.length-r)throw new Error(a+" update.rank != ".concat(i+e.length-r));for(var o=0;o<i;++o)if(n.shape[o]!==t.shape[o])throw new Error(a+" updates.shape[".concat(o,"] (").concat(n.shape[o],") != indices.shape[").concat(o,"] (").concat(t.shape[o],")."));for(var s=0;s<n.rank-i;++s)if(n.shape[s+i]!==e[s+r])throw new Error(a+" updates.shape[".concat(s+i,"] (").concat(n.shape[s+i],") != shape[").concat(s+i,"] (").concat(e[s+i],")"))}function o(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}a(n,t,e)}function s(e,t,n){for(var a=t.shape.length,o=a>1?t.shape[a-1]:1,s=n.length,u=1,c=o;c<s;++c)u*=n[c];var l=o<1?1:o;return{sliceRank:o,numUpdates:(0,i.NA)(t.shape)/l,sliceSize:u,strides:[].concat((0,r.Z)((0,i.e3)(n.slice(0,o))),[1]),outputSize:(0,i.NA)(n)}}},9028:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(38640),u=n(75561),c=2147483648;var l=(0,s.op)({searchSorted_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",s=(0,a._1)(e,"sortedSequence","searchSorted"),l=(0,a._1)(t,"values","searchSorted"),d=s.shape[s.shape.length-1],f=l.shape[l.shape.length-1],p=(0,u.X)(s,[-1,d]),h=(0,u.X)(l,[-1,f]);if(p.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(p.shape[0]!==h.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if((0,o.NA)(h.shape)>=c)throw new Error("values tensor size must less than ".concat(c));if(p.shape[1]>=c)throw new Error("trailing dim_size must less than ".concat(c," for int32 output type, was ").concat(p.shape[1]));var m={sortedSequence:p,values:h},v={side:n};return r.BV.runKernel(i.nr,m,v)}})},20413:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({selu_:function(e){var t={x:(0,a._1)(e,"x","selu")};return r.BV.runKernel(i.oF,t)}})},24438:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var r=n(74165),i=n(15861),a=n(4376),o=n(48354),s=n(36147);function u(){return(u=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,u,c,l,d,f,p,h,m,v,g;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,o._1)(t,"x","setdiff1d"),u=(0,o._1)(n,"y","setdiff1d"),s.hu(i.dtype===u.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(i.dtype,") and y (").concat(u.dtype,").")})),s.hu(1===i.rank,(function(){return"x should be 1D tensor, but got x (".concat(i.shape,").")})),s.hu(1===u.rank,(function(){return"y should be 1D tensor, but got y (".concat(u.shape,").")})),e.next=7,i.data();case 7:return c=e.sent,e.next=10,u.data();case 10:for(l=e.sent,d=new Set(l),f=0,p=0;p<c.length;p++)d.has(c[p])||f++;for(h=new a.YD([f],i.dtype),m=new a.YD([f],"int32"),v=0,g=0;v<c.length;v++)d.has(c[v])||(h.values[g]=c[v],m.values[g]=v,g++);return e.abrupt("return",[h.toTensor(),m.toTensor()]);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=function(e,t){return u.apply(this,arguments)}},77643:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sigmoid_:function(e){var t={x:(0,a._1)(e,"x","sigmoid","float32")};return r.BV.runKernel(i.a5,t)}})},2070:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sign_:function(e){var t={x:(0,a._1)(e,"x","sign")};return r.BV.runKernel(i.i5,t)}})},87254:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sin_:function(e){var t={x:(0,a._1)(e,"x","sin","float32")};return r.BV.runKernel(i.RQ,t)}})},57657:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sinh_:function(e){var t={x:(0,a._1)(e,"x","sinh")};return r.BV.runKernel(i.w3,t)}})},59238:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({slice_:function(e,t,n){var o=(0,a._1)(e,"x","slice","string_or_numeric");if(0===o.rank)throw new Error("Slicing scalar is not possible");var s={x:o},u={begin:t,size:n};return r.BV.runKernel(i.p2,s,u)}})},74910:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=(0,a._1)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));var o={logits:n},s={dim:t};return r.BV.runKernel(i.Gc,o,s)}})},54626:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({softplus_:function(e){var t={x:(0,a._1)(e,"x","softplus")};return r.BV.runKernel(i.MR,t)}})},65696:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({spaceToBatchND_:function(e,t,n){var s=(0,a._1)(e,"x","spaceToBatchND");o.hu(s.rank>=1+t.length,(function(){return"input rank ".concat(s.rank," should be > than [blockShape] ").concat(t.length)})),o.hu(n.length===t.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)})),o.hu(s.shape.reduce((function(e,r,i){return i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]===0:e}),!0),(function(){return"input spatial dimensions ".concat(s.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())}));var u={x:s},c={blockShape:t,paddings:n};return r.BV.runKernel(i.TQ,u,c)}})},49991:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var r=n(70318),i=n(32145);function a(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var i=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(a,"."));var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==i))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(i,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}var o=n(48354);var s=(0,n(38640).op)({sparseToDense_:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=(0,o._1)(e,"sparseIndices","sparseToDense","int32"),c=(0,o._1)(t,"sparseValues","sparseToDense","string_or_numeric"),l=(0,o._1)(s,"defaultValue","sparseToDense",c.dtype);a(u,c,n,l);var d={sparseIndices:u,sparseValues:c,defaultValue:l},f={outputShape:n};return r.BV.runKernel(i.D2,d,f)}})},37635:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(70318),i=n(32145),a=n(36147);var o=(0,n(38640).op)({fft_:function(e){(0,a.hu)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.BV.runKernel(i.vw,t)}})},50530:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(70318),i=n(32145),a=n(36147);var o=(0,n(38640).op)({ifft_:function(e){(0,a.hu)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.BV.runKernel(i.Qg,t)}})},774:function(e,t,n){"use strict";n.d(t,{w:function(){return h}});var r=n(59253),i=n(34836),a=n(76996),o=n(30651),s=n(38640),u=n(26972),c=n(75561),l=n(34933),d=n(27067),f=n(59238),p=n(50530);var h=(0,s.op)({irfft_:function(e){var t,n=e.shape[e.shape.length-1],s=e.size/n;if(n<=2){var h=(0,c.X)(e,[s,n]);t=(0,p.S)(h)}else{var m=[s,2*(n-1)],v=(0,c.X)((0,u.k)(e),[s,n]),g=(0,c.X)((0,a.a)(e),[s,n]),y=(0,l.G)((0,f.t)(v,[0,1],[s,n-2]),1),b=(0,o.d)((0,l.G)((0,f.t)(g,[0,1],[s,n-2]),1),(0,d.i)(-1)),w=(0,i.z)([v,y],1),k=(0,i.z)([g,b],1),x=(0,c.X)((0,r.P)(w,k),[m[0],m[1]]);t=(0,p.S)(x)}if(t=(0,u.k)(t),3===e.rank&&0!==e.shape[0]){var _=t,S=e.shape[0];t=(0,c.X)(t,[S,t.shape[0]/S,t.shape[1]]),_.dispose()}return t}})},64617:function(e,t,n){"use strict";n.d(t,{Q:function(){return m}});var r=n(36147),i=n(59253),a=n(34836),o=n(76996),s=n(38640),u=n(26972),c=n(75561),l=n(59238),d=n(82588),f=n(87742),p=n(87293),h=n(37635);var m=(0,s.op)({rfft_:function(e,t){(0,r.hu)("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)}));var n,s=e.shape[e.shape.length-1],m=e.size/s;if(null!=t&&t<s){var v=e.shape.map((function(e){return 0})),g=e.shape.map((function(e){return e}));g[e.shape.length-1]=t,n=(0,l.t)(e,v,g),s=t}else if(null!=t&&t>s){var y=e.shape.map((function(e){return e}));y[e.shape.length-1]=t-s,n=(0,a.z)([e,(0,f.l)(y)],e.shape.length-1),s=t}else n=e;var b=(0,p.P)(n),w=(0,c.X)((0,i.P)(n,b),[m,s]),k=(0,h.k)(w),x=Math.floor(s/2)+1,_=(0,u.k)(k),S=(0,o.a)(k),E=(0,d.V)(_,[x,s-x],_.shape.length-1),C=(0,d.V)(S,[x,s-x],S.shape.length-1),T=n.shape.slice();return T[n.shape.length-1]=x,(0,c.X)((0,i.P)(E[0],C[0]),T)}})},82588:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(0,a._1)(e,"x","split"),s={x:o},u={numOrSizeSplits:t,axis:n};return r.BV.runKernel(i.L8,s,u)}})},46902:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sqrt_:function(e){var t={x:(0,a._1)(e,"x","sqrt","float32")};return r.BV.runKernel(i.FK,t)}})},7391:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(70318),i=n(48354);var a=(0,n(38640).op)({square_:function(e){var t=(0,i._1)(e,"x","square");return r.BV.runKernel("Square",{x:t},{})}})},7993:function(e,t,n){"use strict";n.d(t,{$:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({squaredDifference_:function(e,t){var n=(0,s._1)(e,"a","squaredDifference"),c=(0,s._1)(t,"b","squaredDifference"),l=(0,o.makeTypesMatch)(n,c),d=(0,r.Z)(l,2);n=d[0],c=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var f={a:n,b:c};return i.BV.runKernel(a._t,f,{})}})},83931:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var r=n(48354),i=n(36147),a=n(38640),o=n(75561);var s=(0,a.op)({squeeze_:function(e,t){var n=(0,r._1)(e,"x","squeeze");return(0,o.X)(n,(0,i.bp)(n.shape,t).newShape)}})},18306:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a.sI)(e,"tensors","stack","string_or_numeric");o.hu(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&o.hu(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var s=n,u={axis:t};return r.BV.runKernel(i.Qi,s,u)}})},94031:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","step"),o={x:n},s={alpha:t};return r.BV.runKernel(i.h8,o,s)}})},39017:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({stridedSlice_:function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,f=(0,a._1)(e,"x","stridedSlice","string_or_numeric"),p={x:f},h={begin:t,end:n,strides:o,beginMask:s,endMask:u,ellipsisMask:c,newAxisMask:l,shrinkAxisMask:d};return r.BV.runKernel(i.m2,p,h)}})},84774:function(e,t,n){"use strict";n.d(t,{l:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({sub_:function(e,t){var n=(0,s._1)(e,"a","sub"),u=(0,s._1)(t,"b","sub"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),d={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.Tr,d)}})},40227:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(99118);var s=(0,n(38640).op)({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,a._1)(e,"x","sum");"bool"===s.dtype&&(s=(0,o.p)(s,"int32"));var u={x:s},c={axis:t,keepDims:n};return r.BV.runKernel(i.GB,u,c)}})},66999:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({tan_:function(e){var t={x:(0,a._1)(e,"x","tan","float32")};return r.BV.runKernel(i.sE,t)}})},11744:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({tanh_:function(e){var t={x:(0,a._1)(e,"x","tanh","float32")};return r.BV.runKernel(i.MI,t)}})},72442:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(48354),i=n(77960);function a(e,t,n){var a=(0,r.C)(e,n);return(0,i.H)(e,t,a,n)}},92894:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(48354),i=n(36147),a=n(77960);function o(e,t){(0,i.Cq)(e);var n=(0,r.C)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,a.H)(e,null,n,t)}},73123:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(48354),i=n(36147),a=n(77960);function o(e,t,n){if((0,i.Cq)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var o=(0,r.C)(e,n);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,a.H)(e,t,o,n)}},77960:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(70318),i=n(36147),a=n(70115);function o(e,t,n,o){if(null==o&&(o=(0,i.D2)(e)),"complex64"===o)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!(0,i.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,i.Mu)(t);var s=(0,i.NA)(t),u=(0,i.NA)(n);(0,i.hu)(s===u,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(s," values but has ").concat(u)}));for(var c=0;c<n.length;++c){var l=n[c],d=c!==n.length-1||l!==(0,i.NA)(t.slice(c));(0,i.hu)(n[c]===t[c]||!d,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")}))}}return(0,i.fU)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==o?(0,a.toTypedArray)(e,o):(0,i.xH)(e,[],!0),r.BV.makeTensor(e,t,o)}},42343:function(e,t,n){"use strict";n.d(t,{G:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({tile_:function(e,t){var n=(0,a._1)(e,"x","tile","string_or_numeric");o.hu(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")}));var s={x:n},u={reps:t};return r.BV.runKernel(i.n9,s,u)}})},29085:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(29439),i=n(70318),a=n(32145),o=n(48354);var s=(0,n(38640).op)({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=(0,o._1)(e,"x","topk");if(0===s.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var u=s.shape[s.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>u)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(u,") ")+"but got ".concat(t));var c={x:s},l={k:t,sorted:n},d=i.BV.runKernel(a.cW,c,l),f=(0,r.Z)(d,2),p=f[0],h=f[1];return{values:p,indices:h}}})},61240:function(e,t,n){"use strict";n.d(t,{p:function(){return p}});var r=n(70318),i=n(35875),a=n(32145),o=n(48354),s=n(36147),u=n(59253),c=n(76996),l=n(4362),d=n(38640),f=n(26972);var p=(0,d.op)({transpose_:function(e,t,n){var d=(0,o._1)(e,"x","transpose");if(null==t&&(t=d.shape.map((function(e,t){return t})).reverse()),s.hu(d.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(d.rank," ")+"must match length of perm ".concat(t,".")})),t.forEach((function(e){s.hu(e>=0&&e<d.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(d.rank-1)+" but got ".concat(t)}))})),d.rank<=1)return d.clone();var p={x:d},h={perm:t};return"complex64"===d.dtype?(0,i.lu)((function(){var e=(0,f.k)(d),t=(0,c.a)(d);return e=r.BV.runKernel(a.G3,{x:e},h),t=r.BV.runKernel(a.G3,{x:t},h),n&&(t=(0,l.W)(t)),(0,u.P)(e,t)})):r.BV.runKernel(a.G3,p,h)}})},52453:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(77039),i=n(38640),a=n(14466);var o=(0,i.op)({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(null!=i&&"bool"===i)throw new Error("Unsupported data type $ { dtype }");for(var s=new a.Yi(t,n,i,!0,o),u=(0,r.f)(e,i),c=0;c<u.values.length;c++)u.values[c]=s.nextValue();return u.toTensor()}})},74860:function(e,t,n){"use strict";n.d(t,{T:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(48354),s=n(36147);var u=(0,n(38640).op)({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,o._1)(e,"x","unique","string_or_numeric");(0,s.hu)(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var u={x:n},c={axis:t},l=i.BV.runKernel(a.kp,u,c),d=(0,r.Z)(l,2),f=d[0],p=d[1];return{values:f,indices:p}}})},54566:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","unstack","string_or_numeric");o.hu(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")}));var s={value:n},u={axis:t};return r.BV.runKernel(i.To,s,u)}})},16035:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});var r=n(9028);function i(e,t){return(0,r.z)(e,t,"right")}},10329:function(e,t,n){"use strict";n.d(t,{a:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(49742),s=n(45774);var u=(0,n(38640).op)({where_:function(e,t,n){var u=(0,a._1)(t,"a","where"),c=(0,a._1)(n,"b","where"),l=(0,a._1)(e,"condition","where","bool"),d=(0,s.assertAndGetBroadcastShape)((0,s.assertAndGetBroadcastShape)(l.shape,u.shape),c.shape),f={condition:(0,o.U)(l,d),t:(0,o.U)(u,d),e:(0,o.U)(c,d)};return r.BV.runKernel(i.Ph,f)}})},41867:function(e,t,n){"use strict";n.d(t,{i:function(){return u}});var r=n(74165),i=n(15861),a=n(24189),o=n(48354);function s(){return(s=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,o._1)(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return i=e.sent,s=(0,a.Z)(n.shape,i),t!==n&&n.dispose(),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u=function(e){return s.apply(this,arguments)}},87742:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(70318),i=n(36147),a=n(59253);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=o(e,"float32"),s=o(e,"float32");return(0,a.P)(n,s)}var u=(0,i.wT)((0,i.NA)(e),t);return r.BV.makeTensor(u,e,t)}},87293:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({zerosLike_:function(e){var t={x:(0,a._1)(e,"x","zerosLike")};return r.BV.runKernel(i.Ru,t)}})},4376:function(e,t,n){"use strict";n.d(t,{es:function(){return S},YD:function(){return y},_w:function(){return E},FZ:function(){return _},Vp:function(){return x},Vi:function(){return k}});var r=n(60136),i=n(29388),a=n(74165),o=n(15861),s=n(15671),u=n(43144),c=n(96581),l=n(93433),d=n(36147);function f(e,t,n,r){var i=(0,d.e3)(t),a=function(e,t,n,r){var i=(0,d.NA)(t),a=r[r.length-1],o=new Array(a).fill(0),s=t.length,u="complex64"===n?v(e):e;if(s>1)for(var c=0;c<i/a;c++)for(var l=c*a,f=0;f<a;f++)o[f]=Math.max(o[f],p(u[l+f],0,n).length);return o}(e,t,n,i),o=t.length,s=m(e,t,n,i,a),u=["Tensor"];return r&&(u.push("  dtype: ".concat(n)),u.push("  rank: ".concat(o)),u.push("  shape: [".concat(t,"]")),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}function p(e,t,n){var r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(7))," + ")+"".concat(parseFloat(e[1].toFixed(7)),"j"):(0,d.HD)(e)?"'".concat(e,"'"):"bool"===n?h(e):parseFloat(e.toFixed(7)).toString(),(0,d.oj)(r,t)}function h(e){return 0===e?"false":"true"}function m(e,t,n,r,i){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o="complex64"===n?2:1,s=t[0],u=t.length;if(0===u){if("complex64"===n){var c=v(e);return[p(c[0],0,n)]}return"bool"===n?[h(e[0])]:[e[0].toString()]}if(1===u){if(s>20){var d=3*o,f=Array.from(e.slice(0,d)),g=Array.from(e.slice((s-3)*o,s*o));return"complex64"===n&&(f=v(f),g=v(g)),["["+f.map((function(e,t){return p(e,i[t],n)})).join(", ")+", ..., "+g.map((function(e,t){return p(e,i[s-3+t],n)})).join(", ")+"]"]}var y="complex64"===n?v(e):Array.from(e);return["["+y.map((function(e,t){return p(e,i[t],n)})).join(", ")+"]"]}var b=t.slice(1),w=r.slice(1),k=r[0]*o,x=[];if(s>20){for(var _=0;_<3;_++){var S=_*k,E=S+k;x.push.apply(x,(0,l.Z)(m(e.slice(S,E),b,n,w,i,!1)))}x.push("...");for(var C=s-3;C<s;C++){var T=C*k,A=T+k;x.push.apply(x,(0,l.Z)(m(e.slice(T,A),b,n,w,i,C===s-1)))}}else for(var O=0;O<s;O++){var R=O*k,I=R+k;x.push.apply(x,(0,l.Z)(m(e.slice(R,I),b,n,w,i,O===s-1)))}var N=2===u?",":"";x[0]="["+x[0]+N;for(var P=1;P<x.length-1;P++)x[P]=" "+x[P]+N;for(var M=",\n",L=2;L<u;L++)M+="\n";return x[x.length-1]=" "+x[x.length-1]+"]"+(a?"":M),x}function v(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var g=n(70115),y=function(){function e(t,n,r){var i=this;if((0,s.Z)(this,e),this.dtype=n,this.shape=t.slice(),this.size=d.NA(t),null!=r){var a=r.length;d.hu(a===this.size,(function(){return"Length of values '".concat(a,"' does not match the size ")+"inferred by the shape '".concat(i.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||d.rQ(n,this.size),this.strides=(0,d.e3)(t)}return(0,u.Z)(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];0===r.length&&(r=[0]),d.hu(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(t.rank,")")}));var a=this.locToIndex(r);this.values[a]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,i=0,a=t;i<a.length;i++){var o=a[i];if(o<0||o>=this.shape[r]){var s="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(s)}r++}for(var u=t[t.length-1],c=0;c<t.length-1;++c)u+=this.strides[c]*t[c];return this.values[u]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return b().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),b=null,w=null;function k(e){b=e}function x(e){w=e}function _(e){e}var S=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=d.NA(t),this.strides=(0,d.e3)(t),this.dataId=r,this.id=i,this.rankType=this.rank<5?this.rank.toString():"higher"}return(0,u.Z)(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",w.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return w.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",(0,d.GX)(this.shape,t,"complex64"===this.dtype));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return(0,d.GX)(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=b().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map((function(e){return g.decodeString(e)})));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),b().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=b().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return g.decodeString(e)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,b().read(this.dataId);case 3:if(t=e.sent,"string"!==this.dtype){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(b().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return w.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),w.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataSync();return f(t,this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),w.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),b().makeVariable(this,e,t,n)}}]),e}();Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),(0,c.R)("Tensor",(function(){return S}));var E=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e,r,i,a){var o;return(0,s.Z)(this,n),(o=t.call(this,e.shape,e.dtype,e.dataId,a)).trainable=r,o.name=i,o}return(0,u.Z)(n,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!d.cO(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));b().disposeTensor(this),this.dataId=e.dataId,b().incRef(this,null)}},{key:"dispose",value:function(){b().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(S);Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return e instanceof S&&null!=e.assign&&e.assign instanceof Function}})},99064:function(e,t,n){"use strict";n.r(t),n.d(t,{assertTypesMatch:function(){return s},getTensorsInContainer:function(){return c},isTensorInList:function(){return u},makeTypesMatch:function(){return o}});var r=n(4376),i=n(3525),a=n(36147);function o(e,t){if(e.dtype===t.dtype)return[e,t];var n=(0,i.x8)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function s(e,t){(0,a.hu)(e.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")}))}function u(e,t){return t.some((function(t){return t.id===e.id}))}function c(e){var t=[];return l(e,t,new Set),t}function l(e,t,n){if(null!=e)if(e instanceof r.es)t.push(e);else if(i=e,Array.isArray(i)||"object"===typeof i){var i,a=e;for(var o in a){var s=a[o];n.has(s)||(n.add(s),l(s,t,n))}}}},48354:function(e,t,n){"use strict";n.d(t,{C:function(){return u},_1:function(){return d},sI:function(){return f}});var r=n(70318),i=n(35050),a=n(4376),o=n(36147),s=n(70115);function u(e,t){var n=e;if((0,o.fU)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||(0,o.fU)(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&(0,i.OB)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&c(e,r,[]),r}function c(e,t,n){if(n=n||[],Array.isArray(e)||(0,o.fU)(e)){(0,o.hu)(t.length>0,(function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements")})),(0,o.hu)(e.length===t[0],(function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")}));for(var r=t.slice(1),i=0;i<e.length;++i)c(e[i],r,n.concat(i))}else(0,o.hu)(0===t.length,(function(){return"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")}))}function l(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function d(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof a.es)return l(i,e.dtype,t,n),e;var c=(0,o.D2)(e);if("string"!==c&&["bool","int32","float32"].indexOf(i)>=0&&(c=i),l(i,c,t,n),null==e||!(0,o.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var d=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(d,"'"))}var f=u(e,c);(0,o.fU)(e)||Array.isArray(e)||(e=[e]);var p=!0,h="string"!==c?(0,s.toTypedArray)(e,c):(0,o.xH)(e,[],p);return r.BV.makeTensor(h,f,c)}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");var i=e;return i.map((function(e,i){return d(e,"".concat(t,"[").concat(i,"]"),n,r)}))}},3525:function(e,t,n){"use strict";var r,i,a,o,s;n.d(t,{x8:function(){return c},yw:function(){return r},z4:function(){return l}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(a||(a={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(o||(o={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(s||(s={}));var u={float32:o,int32:i,bool:a,complex64:s};function c(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return u[e][t]}function l(e){return c(e,"int32")}},70115:function(e,t,n){"use strict";n.r(t),n.d(t,{arraysEqual:function(){return i.cO},assert:function(){return i.hu},assertNonNegativeIntegerDimensions:function(){return i.Mu},assertNonNull:function(){return i.Cq},assertShapesMatch:function(){return i.k5},bytesFromStringArray:function(){return i.Ub},bytesPerElement:function(){return i.bT},checkConversionForErrors:function(){return i.D5},clamp:function(){return i.uZ},computeStrides:function(){return i.e3},createScalarValue:function(){return x},createShuffledIndices:function(){return i.U$},decodeString:function(){return T},distSquared:function(){return i.E7},encodeString:function(){return C},fetch:function(){return E},fingerPrint64:function(){return k},flatten:function(){return i.xH},getArrayFromDType:function(){return i.rQ},getTypedArrayFromDType:function(){return i.WP},hasEncodingLoss:function(){return i.QB},hexToLong:function(){return s},indexToLoc:function(){return i.NE},inferDtype:function(){return i.D2},inferFromImplicitShape:function(){return i.JZ},isBoolean:function(){return i.jn},isFunction:function(){return i.mf},isInt:function(){return i.GN},isNumber:function(){return i.hj},isPromise:function(){return i.tI},isScalarShape:function(){return i.N9},isString:function(){return i.HD},isTypedArray:function(){return i.fU},isValidDtype:function(){return i.LP},locToIndex:function(){return i.qy},makeOnesTypedArray:function(){return i.p8},makeZerosNestedTypedArray:function(){return i.l6},makeZerosTypedArray:function(){return i.wT},nearestDivisor:function(){return i.jP},nearestLargerEven:function(){return i.nY},now:function(){return S},parseAxisParam:function(){return i.EC},randUniform:function(){return i.bj},repeatedTry:function(){return i.WD},rightPad:function(){return i.oj},shuffle:function(){return i.TV},shuffleCombo:function(){return i.d7},sizeFromShape:function(){return i.NA},sizeToSquarishShape:function(){return i.YP},squeezeShape:function(){return i.bp},sum:function(){return i.Sm},swap:function(){return i.LF},tanh:function(){return i.AE},toNestedArray:function(){return i.GX},toTypedArray:function(){return _}});var r=n(35050),i=n(36147),a=n(18987),o=n.n(a)()||a;function s(e){return o.fromString(e,!0,16)}var u=s("c3a5c85c97cb3127"),c=s("b492b66fbe98f273"),l=s("9ae16a3b2f90404f");function d(e){return e.xor(e.shru(47))}function f(e,t,n){var r=e.slice(t,t+n);return o.fromBytes(Array.from(r),!0,!0)}function p(e,t){return f(e,t,8)}function h(e,t){return f(e,t,4)}function m(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));var i=t.xor(r).mul(n);return i=(i=i.xor(i.shru(47))).mul(n)}function g(e,t,n,r){return function(e,t,n,r,i,a){i=i.add(e),a=m(a.add(i).add(r),21);var o=i;return i=(i=i.add(t)).add(n),a=a.add(m(i,44)),[i.add(r),a.add(o)]}(p(e,t),p(e,t+8),p(e,t+16),p(e,t+24),n,r)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var n=l.add(2*t),r=p(e,0).add(l),i=p(e,t-8),a=m(i,37).mul(n).add(r),o=m(r,25).add(i).mul(n);return v(a,o,n)}if(t>=4){var s=l.add(2*t),c=h(e,0);return v(c.shl(3).add(t),h(e,t-4),s)}if(t>0){var f=e[0],g=e[t>>1],y=e[t-1],b=f+(g<<8),w=t+(y<<2);return d(l.mul(b).xor(u.mul(w))).mul(l)}return l}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=l.add(2*t),r=p(e,0).mul(c),i=p(e,8),a=p(e,t-8).mul(n),o=p(e,t-16).mul(l);return v(m(r.add(i),43).add(m(a,30)).add(o),r.add(m(i.add(l),18)).add(a),n)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=l.add(2*t),r=p(e,0).mul(l),i=p(e,8),a=p(e,t-8).mul(n),o=p(e,t-16).mul(l),s=m(r.add(i),43).add(m(a,30)).add(o),u=v(s,r.add(m(i.add(l),18)).add(a),n),c=p(e,16).mul(n),d=p(e,24),f=s.add(p(e,t-32)).mul(n),h=u.add(p(e,t-24)).mul(n);return v(m(c.add(d),43).add(m(f,30)).add(h),c.add(m(d.add(r),18)).add(f),n)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=o.fromNumber(81,!0);if(t<=32)return t<=16?y(e,t):b(e,t);if(t<=64)return w(e,t);var r=n,i=n.mul(c).add(113),a=d(i.mul(l).add(113)).mul(l),s=[o.UZERO,o.UZERO],f=[o.UZERO,o.UZERO];r=r.mul(l).add(p(e,0));var h=0,k=64*(t-1>>6),x=k+(t-1&63)-63;do{r=m(r.add(i).add(s[0]).add(p(e,h+8)),37).mul(c),i=m(i.add(s[1]).add(p(e,h+48)),42).mul(c),r=r.xor(f[1]),i=i.add(s[0]).add(p(e,h+40)),a=m(a.add(f[0]),33).mul(c),s=g(e,h,s[1].mul(c),r.add(f[0])),f=g(e,h+32,a.add(f[1]),i.add(p(e,h+16)));var _=[r,a];a=_[0],r=_[1],h+=64}while(h!==k);var S=c.add(a.and(255).shl(1));h=x,f[0]=f[0].add(t-1&63),s[0]=s[0].add(f[0]),f[0]=f[0].add(s[0]),r=m(r.add(i).add(s[0]).add(p(e,h+8)),37).mul(S),i=m(i.add(s[1]).add(p(e,h+48)),42).mul(S),r=r.xor(f[1].mul(9)),i=i.add(s[0].mul(9).add(p(e,h+40))),a=m(a.add(f[0]),33).mul(S),s=g(e,h,s[1].mul(S),r.add(f[0])),f=g(e,h+32,a.add(f[1]),i.add(p(e,h+16)));var E=[r,a];return a=E[0],r=E[1],v(v(s[0],f[0],S).add(d(i).mul(u)).add(a),v(s[1],f[1],S).add(r),S)}function x(e,t){return"string"===t?C(e):_([e],t)}function _(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=i.xH(e)),(0,r.OB)().getBool("DEBUG")&&i.D5(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),a=0;a<n.length;++a)0!==Math.round(e[a])&&(n[a]=1);return n}throw new Error("Unknown data type ".concat(t))}function S(){return(0,r.OB)().platform.now()}function E(e,t){return(0,r.OB)().platform.fetch(e,t)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,r.OB)().platform.encode(e,t)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,r.OB)().platform.decode(e,t)}},36147:function(e,t,n){"use strict";function r(e){for(var t=e.length,n=0;t>0;)n=Math.random()*t|0,s(e,--t,n)}function i(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));for(var n=e.length,r=0;n>0;)r=Math.random()*n|0,s(e,--n,r),s(t,n,r)}function a(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e%2===0?e:e+1}function s(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function u(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function c(e,t){var n=Math.random();return t*n+(1-n)*e}function l(e,t){for(var n=0,r=0;r<e.length;r++){var i=Number(e[r])-Number(t[r]);n+=i*i}return n}function d(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";d(g(e,t),(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}function p(e){d(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(e)||N(e)&&!n)for(var r=0;r<e.length;++r)h(e[r],t,n);else t.push(e);return t}function m(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function v(e){return 0===e.length}function g(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function y(e){return e%1===0}function b(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function w(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function k(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return r(t),t}function x(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,i){var a=0;!function o(){if(e())r();else{a++;var s=t(a);null!=n&&a>=n?i():setTimeout(o,s)}}()}))}function S(e,t){for(var n=1,r=-1,i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(i));r=i}else if(e[i]<0)throw Error("Shapes can not be < 0. Found ".concat(e[i]," at dim ").concat(i));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));var a=e.slice();return a[r]=t/n,a}function E(e,t){var n=t.length;return d((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)})),d(e.every((function(e){return y(e)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function C(e,t){for(var n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:E(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=a){if(a[o]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==a[o]||a[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function T(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type ".concat(e));n=new Uint8Array(t)}return n}function A(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function O(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}function R(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function I(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function N(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function P(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function M(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function L(e){return"string"===typeof e||e instanceof String}function D(e){return"boolean"===typeof e}function F(e){return"number"===typeof e}function B(e){return Array.isArray(e)?B(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":F(e)?"float32":L(e)?"string":D(e)?"bool":"float32"}function j(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Z(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function V(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function U(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Array;if(1===t.length)for(var a=t[0]*(r?2:1),o=0;o<a;o++)i[o]=n[e+o];else for(var s=t[0],u=t.slice(1),c=u.reduce((function(e,t){return e*t}))*(r?2:1),l=0;l<s;l++)i[l]=U(e+l*c,u,n,r);return i}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce((function(e,t){return e*t}))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return U(0,e,t,n)}function H(e,t){for(var n=z(e,t),r=0;r<n.length;r++)n[r]=1;return n}function z(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function G(e,t){var n=e.reduce((function(e,t){return e*t}),1);if(null==t||"float32"===t)return W(e,new Float32Array(n));if("int32"===t)return W(e,new Int32Array(n));if("bool"===t)return W(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function q(e){e.forEach((function(t){d(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")}))}))}function K(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],i=0;i<e.length-1;++i)r+=n[i]*e[i];return r}function Y(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),i=0;i<r.length-1;++i)r[i]=Math.floor(e/n[i]),e-=r[i]*n[i];return r[r.length-1]=e,r}function X(e){return e&&e.then&&"function"===typeof e.then}n.d(t,{AE:function(){return b},Cq:function(){return p},D2:function(){return B},D5:function(){return O},E7:function(){return l},EC:function(){return E},GN:function(){return y},GX:function(){return W},HD:function(){return L},JZ:function(){return S},LF:function(){return s},LP:function(){return R},Mu:function(){return q},N9:function(){return v},NA:function(){return m},NE:function(){return Y},QB:function(){return I},Sm:function(){return u},TV:function(){return r},U$:function(){return k},Ub:function(){return M},WD:function(){return _},WP:function(){return T},YP:function(){return w},bT:function(){return P},bj:function(){return c},bp:function(){return C},cO:function(){return g},d7:function(){return i},e3:function(){return V},fU:function(){return N},hj:function(){return F},hu:function(){return d},jP:function(){return Z},jn:function(){return D},k5:function(){return f},l6:function(){return G},mf:function(){return j},nY:function(){return o},oj:function(){return x},p8:function(){return H},qy:function(){return K},rQ:function(){return A},tI:function(){return X},uZ:function(){return a},wT:function(){return z},xH:function(){return h}})},87996:function(e,t,n){"use strict";n(1583),n(44584),n(65084),n(18116),n(33858),n(87264),n(58894);var r=n(17156),i=n(89728),a=n(66115),o=n(61655),s=n(94993),u=n(73808),c=n(38416),l=n(56690);n(65202),n(67675),n(22583),n(30974);var d=n(64687),f=n(18698);n(4778),n(89104),n(59147);var p=n(62895),h=n(82764);n(32463),n(18887),n(81740),n(20447),n(54178);var m=n(1263);n(68225);var v=n(62839),g=n(32467);n(49258),n(4772),n(85625);var y=n(27424);n(45742);var b=n(8645),w=n(58868),k=n(46390),x=n(94774),_=n(56491),S=n(861);n(36669),n(44105),n(73966),n(55790),n(56678),n(74847),n(48884),n(67582),n(15669),n(40014),n(45927),n(78850),n(697),n(53517),n(68591),n(44516),n(51937),n(5977),n(71283),n(86332),n(32040),n(20718),n(54777),n(31447),n(44319),n(78493),n(54121),n(55269),n(45327),n(99238);var E=n(24610);function C(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var A=C(r),O=C(i),R=C(a),I=C(o),N=C(s),P=C(u),M=C(c),L=C(l),D=C(d),F=C(f),B=T(p),j=C(g),Z=C(y),V=C(S);function U(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":F.default(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function W(e,t){if("object"===("undefined"===typeof Reflect?"undefined":F.default(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function H(e,t){return["".concat((new Date).toISOString()," Conversations ").concat(e,":")].concat(Array.from(t))}var z=B.getLogger("twilio-conversations"),G=function(){function e(t){L.default(this,e),M.default(this,"prefix",""),this.prefix=null!==t&&void 0!==t&&t.length>0?t+" ":""}return O.default(e,[{key:"setLevel",value:function(e){z.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z.trace.apply(null,H(this.prefix+"T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z.debug.apply(null,H(this.prefix+"D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z.info.apply(null,H(this.prefix+"I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z.warn.apply(null,H(this.prefix+"W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z.error.apply(null,H(this.prefix+"E",t))}}],[{key:"scope",value:function(t){return new e(t)}},{key:"setLevel",value:function(e){z.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z.trace.apply(null,H("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z.debug.apply(null,H("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z.info.apply(null,H("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z.warn.apply(null,H("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z.error.apply(null,H("E",t))}}]),e}();function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){M.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y="PT5S",X="PT5S",Q=function e(){var t,n,r,i,a,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0;L.default(this,e),M.default(this,"typingIndicatorTimeoutDefault",5e3);var l=s.Chat||s.IPMessaging||s||{};this.productId=l.productId,this.links={myConversations:u.links.my_conversations,conversations:u.links.conversations,users:u.links.users,currentUser:u.links.current_user,typing:u.links.typing,mediaService:u.links.media_service,mediaSetService:u.links.media_set_service,messagesReceipts:u.links.messages_receipts},this.limits={mediaAttachmentsCountLimit:u.options.media_attachments_count_limit,mediaAttachmentSizeLimitInMb:u.options.media_attachment_size_limit_in_mb,mediaAttachmentsTotalSizeLimitInMb:u.options.media_attachments_total_size_limit_in_mb,emailHistoriesAllowedMimeTypes:u.options.email_histories_allowed_mime_types,emailBodiesAllowedMimeTypes:u.options.email_bodies_allowed_mime_types},this.typingIndicatorTimeoutOverride=l.typingIndicatorTimeoutOverride,this.backoffConfiguration=K({min:1e3,max:4e3,maxAttemptsCount:3},l.backoffConfigOverride),this.retryWhenThrottled=void 0===l.retryWhenThrottledOverride||l.retryWhenThrottledOverride,this.userInfosToSubscribe=null!==(t=null!==(n=l.userInfosToSubscribeOverride)&&void 0!==n?n:u.options.user_infos_to_subscribe)&&void 0!==t?t:100,this.reachabilityEnabled=u.options.reachability_enabled,this.userIdentity=u.identity,this.userInfo=u.sync_objects.my_user_info,this.myConversations=u.sync_objects.my_conversations;var d=null!==(r=null!==(i=l.httpCacheIntervalOverride)&&void 0!==i?i:u.options.http_cache_interval)&&void 0!==r?r:Y;try{this.httpCacheInterval=h.toSeconds(h.parse(d))}catch(p){c.error("Failed to parse http cache interval ".concat(d,", using default value ").concat(Y)),this.httpCacheInterval=h.toSeconds(h.parse(Y))}var f=null!==(a=null!==(o=l.consumptionReportIntervalOverride)&&void 0!==o?o:u.options.consumption_report_interval)&&void 0!==a?a:X;try{this.consumptionReportInterval=h.toSeconds(h.parse(f))}catch(m){c.error("Failed to parse consumption report interval ".concat(f,", using default value ").concat(X)),this.consumptionReportInterval=h.toSeconds(h.parse(X))}};function J(e){return JSON.parse(JSON.stringify(e))}function $(e){return"undefined"===typeof e||isNaN(Number(e))?null:Number(e)}function ee(e){try{return new Date(e)}catch(t){return null}}function te(e,t,n){var r={};if(e)try{r=JSON.parse(e)}catch(i){n.warn(t,i)}return r}var ne=function(){function e(t){L.default(this,e),this.base=t.replace(/\/$/,""),this.args=[],this.paths=[]}return O.default(e,[{key:"arg",value:function(e,t){return"undefined"!==typeof t&&this.args.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),this}},{key:"path",value:function(e){return this.paths.push(encodeURIComponent(e)),this}},{key:"build",value:function(){var e=this.base;return this.paths.length&&(e+="/"+this.paths.join("/")),this.args.length&&(e+="?"+this.args.join("&")),e}}]),e}(),re=m.custom((function(e){return[["string","number","boolean","object"].includes(F.default(e)),"a JSON type"]})),ie=m.custom((function(e){return[["undefined","string","number","boolean","object"].includes(F.default(e)),"an optional JSON type"]}));function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}var oe=G.scope("User"),se=function(e){I.default(n,e);var t=ae(n);function n(e,r,i,a){var o;return L.default(this,n),o=t.call(this),M.default(R.default(o),"promiseToFetch",null),M.default(R.default(o),"updated","updated"),M.default(R.default(o),"userSubscribed","userSubscribed"),M.default(R.default(o),"userUnsubscribed","userUnsubscribed"),o.services=a,o.subscribed="initializing",o.setMaxListeners(0),o.state={identity:e,entityName:r,friendlyName:null,attributes:{},online:null,notifiable:null},o._initializationPromise=new Promise((function(e){o._resolveInitializationPromise=e})),null!==i&&o._resolveInitialization(i,e,r,!1),o}return O.default(n,[{key:"identity",get:function(){return this.state.identity},set:function(e){this.state.identity=e}},{key:"entityName",set:function(e){this.state.entityName=e}},{key:"attributes",get:function(){return this.state.attributes}},{key:"friendlyName",get:function(){return this.state.friendlyName}},{key:"isOnline",get:function(){return this.state.online}},{key:"isNotifiable",get:function(){return this.state.notifiable}},{key:"isSubscribed",get:function(){return"subscribed"==this.subscribed}},{key:"_update",value:function(){var e=A.default(D.default.mark((function e(t,n){var r,i;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:r=[],oe.debug("User for",this.state.identity,"updated:",t,n),e.t0=t,e.next="friendlyName"===e.t0?7:"attributes"===e.t0?9:"reachability"===e.t0?12:15;break;case 7:return this.state.friendlyName!==n.value&&(r.push("friendlyName"),this.state.friendlyName=n.value),e.abrupt("break",16);case 9:return i=te(n.value,"Retrieved malformed attributes from the server for user: ".concat(this.state.identity),oe),j.default(this.state.attributes,i)||(this.state.attributes=i,r.push("attributes")),e.abrupt("break",16);case 12:return this.state.online!==n.online&&(this.state.online=n.online,r.push("reachabilityOnline")),this.state.notifiable!==n.notifiable&&(this.state.notifiable=n.notifiable,r.push("reachabilityNotifiable")),e.abrupt("break",16);case 15:return e.abrupt("return");case 16:r.length>0&&this.emit("updated",{user:this,updateReasons:r});case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_updateReachabilityInfo",value:function(){var e=A.default(D.default.mark((function e(t,n){var r=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if(this.configuration.reachabilityEnabled){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return e.abrupt("return",t.get("reachability").then(n).catch((function(e){oe.warn("Failed to get reachability info for ",r.state.identity,e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_fetch",value:function(){var e=A.default(D.default.mark((function e(){var t=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if(this.state.entityName){e.next=4;break}return e.abrupt("return",this);case 4:return this.promiseToFetch=this.services.syncClient.map({id:this.state.entityName,mode:"open_existing",includeItems:!0}).then((function(e){return t.entity=e,e.on("itemUpdated",(function(e){return oe.debug(t.state.entityName+" ("+t.state.identity+") itemUpdated: "+e.item.key),t._update(e.item.key,e.item.data)})),Promise.all([e.get("friendlyName").then((function(e){return t._update(e.key,e.data)})),e.get("attributes").then((function(e){return t._update(e.key,e.data)})),t._updateReachabilityInfo(e,(function(e){return t._update(e.key,e.data)}))])})).then((function(){return oe.debug("Fetched for",t.identity),t.subscribed="subscribed",t.emit("userSubscribed",t),t})).catch((function(e){throw t.promiseToFetch=null,e})),e.abrupt("return",this.promiseToFetch);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_ensureFetched",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:return e.abrupt("return",this.promiseToFetch||this._fetch());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateAttributes",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if("unsubscribed"!=this.subscribed){e.next=4;break}throw new Error("Can't modify unsubscribed object");case 4:return e.next=6,this.services.commandExecutor.mutateResource("post",this.links.self,{attributes:JSON.stringify(t)});case 6:return e.abrupt("return",this);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateFriendlyName",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if("unsubscribed"!=this.subscribed){e.next=4;break}throw new Error("Can't modify unsubscribed object");case 4:return e.next=6,this.services.commandExecutor.mutateResource("post",this.links.self,{friendly_name:t});case 6:return e.abrupt("return",this);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if(!this.promiseToFetch){e.next=9;break}return e.next=5,this.promiseToFetch;case 5:this.entity.close(),this.promiseToFetch=null,this.subscribed="unsubscribed",this.emit("userUnsubscribed",this);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_resolveInitialization",value:function(e,t,n,r){this.configuration=e,this.identity=t,this.entityName=n,this.links={self:"".concat(this.configuration.links.users,"/").concat(this.identity)},this._resolveInitializationPromise(),r&&this.emit("updated",{user:this,updateReasons:["friendlyName","attributes","reachabilityOnline","reachabilityNotifiable"]})}}]),n}(v.ReplayEventEmitter);function ue(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}U([m.validateTypesAsync(re),W("design:type",Function),W("design:paramtypes",[Object]),W("design:returntype",Promise)],se.prototype,"updateAttributes",null),U([m.validateTypesAsync(["string"]),W("design:type",Function),W("design:paramtypes",[String]),W("design:returntype",Promise)],se.prototype,"updateFriendlyName",null);var le=function(){function e(t,n){L.default(this,e),this.configuration=t,this.services=n,this.cache=new Map,this.cacheLifetime=100*this.configuration.httpCacheInterval,this.cleanupCache()}return O.default(e,[{key:"isExpired",value:function(e){return!this.cacheLifetime||Date.now()-e>this.cacheLifetime}},{key:"cleanupCache",value:function(){var e,t=ue(this.cache);try{for(t.s();!(e=t.n()).done;){var n=Z.default(e.value,2),r=n[0],i=n[1];this.isExpired(i.timestamp)&&this.cache.delete(r)}}catch(a){t.e(a)}finally{t.f()}0===this.cache.size&&clearInterval(this.timer)}},{key:"pokeTimer",value:function(){var e=this;this.timer=this.timer||setInterval((function(){return e.cleanupCache()}),2*this.cacheLifetime)}},{key:"executeWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(r,i){var a=[502,503,504];n&&a.push(429);var o=new b.Retrier(t.configuration.backoffConfiguration);o.on("attempt",(function(){e().then((function(e){return o.succeeded(e)})).catch((function(e){a.indexOf(e.status)>-1||"Twilsock disconnected"===e.message?o.failed(e):(o.removeAllListeners(),o.cancel(),i(e))}))})),o.on("succeeded",(function(e){r(e)})),o.on("cancelled",(function(e){return i(e)})),o.on("failed",(function(e){return i(e)})),o.start()}))}},{key:"get",value:function(){var e=A.default(D.default.mark((function e(t){var n,r,i,a=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.cache.get(t))||this.isExpired(n.timestamp)){e.next=3;break}return e.abrupt("return",n.response);case 3:return r={},e.next=6,this.executeWithRetry((function(){return a.services.transport.get(t,r,a.configuration.productId)}),this.configuration.retryWhenThrottled);case 6:return i=e.sent,this.cache.set(t,{response:i,timestamp:Date.now()}),this.pokeTimer(),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),de=function e(){L.default(this,e)};function fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}M.default(de,"TYPING_INDICATOR","twilio.ipmsg.typing_indicator"),M.default(de,"NEW_MESSAGE","twilio.conversations.new_message"),M.default(de,"ADDED_TO_CONVERSATION","twilio.conversations.added_to_conversation"),M.default(de,"REMOVED_FROM_CONVERSATION","twilio.conversations.removed_from_conversation"),M.default(de,"CONSUMPTION_UPDATE","twilio.channel.consumption_update");var pe=G.scope("Participant"),he=function(e){I.default(n,e);var t=fe(n);function n(e,r,i,a,o){var s,u,c;if(L.default(this,n),(c=t.call(this)).conversation=i,c.links=a,c.services=o,c.state={attributes:te(e.attributes,"Retrieved malformed attributes from the server for participant: "+r,pe),dateCreated:e.dateCreated?ee(e.dateCreated):null,dateUpdated:e.dateCreated?ee(e.dateUpdated):null,sid:r,typingTimeout:null,isTyping:!1,identity:e.identity,roleSid:null!==(s=e.roleSid)&&void 0!==s?s:"",lastReadMessageIndex:Number.isInteger(e.lastConsumedMessageIndex)?e.lastConsumedMessageIndex:null,lastReadTimestamp:e.lastConsumptionTimestamp?ee(e.lastConsumptionTimestamp):null,type:e.type||"chat",userInfo:e.userInfo,bindings:null!==(u=e.bindings)&&void 0!==u?u:{}},!e.identity&&!e.type)throw new Error("Received invalid Participant object from server: Missing identity or type of Participant.");return c}return O.default(n,[{key:"sid",get:function(){return this.state.sid}},{key:"attributes",get:function(){return this.state.attributes}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"identity",get:function(){return this.state.identity}},{key:"isTyping",get:function(){return this.state.isTyping}},{key:"lastReadMessageIndex",get:function(){return this.state.lastReadMessageIndex}},{key:"lastReadTimestamp",get:function(){return this.state.lastReadTimestamp}},{key:"roleSid",get:function(){return this.state.roleSid}},{key:"type",get:function(){return this.state.type}},{key:"bindings",get:function(){var e;return null!==(e=this.state.bindings)&&void 0!==e?e:{}}},{key:"_startTyping",value:function(e){var t=this;return this.state.typingTimeout&&clearTimeout(this.state.typingTimeout),this.state.isTyping=!0,this.emit("typingStarted",this),this.conversation.emit("typingStarted",this),this.state.typingTimeout=Number(setTimeout((function(){return t._endTyping()}),e)),this}},{key:"_endTyping",value:function(){this.state.typingTimeout&&(this.state.isTyping=!1,this.emit("typingEnded",this),this.conversation.emit("typingEnded",this),clearInterval(this.state.typingTimeout),this.state.typingTimeout=null)}},{key:"_update",value:function(e){var t=[],n=te(e.attributes,"Retrieved malformed attributes from the server for participant: "+this.state.sid,pe);e.attributes&&!j.default(this.state.attributes,n)&&(this.state.attributes=n,t.push("attributes"));var r=ee(e.dateUpdated);e.dateUpdated&&(null===r||void 0===r?void 0:r.getTime())!==(this.state.dateUpdated&&this.state.dateUpdated.getTime())&&(this.state.dateUpdated=r,t.push("dateUpdated"));var i=ee(e.dateCreated);if(e.dateCreated&&(null===i||void 0===i?void 0:i.getTime())!==(this.state.dateCreated&&this.state.dateCreated.getTime())&&(this.state.dateCreated=i,t.push("dateCreated")),e.roleSid&&this.state.roleSid!==e.roleSid&&(this.state.roleSid=e.roleSid,t.push("roleSid")),!Number.isInteger(e.lastConsumedMessageIndex)&&null!==e.lastConsumedMessageIndex||this.state.lastReadMessageIndex===e.lastConsumedMessageIndex||(this.state.lastReadMessageIndex=e.lastConsumedMessageIndex,t.push("lastReadMessageIndex")),e.lastConsumptionTimestamp){var a=new Date(e.lastConsumptionTimestamp);this.state.lastReadTimestamp&&this.state.lastReadTimestamp.getTime()===a.getTime()||(this.state.lastReadTimestamp=a,t.push("lastReadTimestamp"))}return e.bindings&&!j.default(this.state.bindings,e.bindings)&&(this.state.bindings=e.bindings,t.push("bindings")),t.length>0&&this.emit("updated",{participant:this,updateReasons:t}),this}},{key:"getUser",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("chat"==this.type){e.next=2;break}throw new Error("Getting User is not supported for this Participant type: "+this.type);case 2:return e.abrupt("return",this.services.users.getUser(this.state.identity,this.state.userInfo));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.conversation.removeParticipant(this));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateAttributes",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.self,{attributes:JSON.stringify(t)});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(v.ReplayEventEmitter);function me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}M.default(he,"typingStarted","typingStarted"),M.default(he,"typingEnded","typingEnded"),M.default(he,"updated","updated"),U([m.validateTypesAsync(re),W("design:type",Function),W("design:paramtypes",[Object]),W("design:returntype",Promise)],he.prototype,"updateAttributes",null);var ve=G.scope("Participants"),ge=function(e){I.default(n,e);var t=me(n);function n(e,r,i,a,o){var s;return L.default(this,n),s=t.call(this),M.default(R.default(s),"rosterEntityPromise",null),s.conversation=e,s.participants=r,s.links=i,s.configuration=a,s.services=o,s}return O.default(n,[{key:"unsubscribe",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rosterEntityPromise){e.next=6;break}return e.next=3,this.rosterEntityPromise;case 3:e.sent.close(),this.rosterEntityPromise=null;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(e){var t=this;return this.rosterEntityPromise=this.rosterEntityPromise||this.services.syncClient.map({id:e,mode:"open_existing"}).then((function(e){e.on("itemAdded",(function(e){ve.debug(t.conversation.sid+" itemAdded: "+e.item.key),t.upsertParticipant(e.item.key,e.item.data).then((function(e){t.emit("participantJoined",e)}))})),e.on("itemRemoved",(function(e){ve.debug(t.conversation.sid+" itemRemoved: "+e.key);var n=e.key;if(t.participants.has(n)){var r=t.participants.get(n);t.participants.delete(n),r&&t.emit("participantLeft",r)}})),e.on("itemUpdated",(function(e){ve.debug(t.conversation.sid+" itemUpdated: "+e.item.key),t.upsertParticipant(e.item.key,e.item.data)}));var n=[];return e.getItems().then((function e(r){return r.items.forEach((function(e){n.push(t.upsertParticipant(e.key,e.data))})),r.hasNextPage?r.nextPage().then(e):null})).then((function(){return Promise.all(n)})).then((function(){return e}))})).catch((function(e){throw t.rosterEntityPromise=null,"disconnected"!=t.services.syncClient.connectionState&&ve.error("Failed to get roster object for conversation",t.conversation.sid,e),ve.debug("ERROR: Failed to get roster object for conversation",t.conversation.sid,e),e}))}},{key:"upsertParticipant",value:function(){var e=A.default(D.default.mark((function e(t,n){var r,i,a=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.participants.get(t))){e.next=3;break}return e.abrupt("return",r._update(n));case 3:return i={self:"".concat(this.links.participants,"/").concat(t)},r=new he(n,t,this.conversation,i,this.services),this.participants.set(t,r),r.on("updated",(function(e){return a.emit("participantUpdated",e)})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getParticipants",value:function(){var e=A.default(D.default.mark((function e(){var t=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.rosterEntityPromise?this.rosterEntityPromise.then((function(){var e=[];return t.participants.forEach((function(t){return e.push(t)})),e})):[]);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getParticipantBySid",value:function(){var e=A.default(D.default.mark((function e(t){var n=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.rosterEntityPromise?this.rosterEntityPromise.then((function(){var e=n.participants.get(t);if(!e)throw new Error("Participant with SID "+t+" was not found");return e})):null);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getParticipantByIdentity",value:function(){var e=A.default(D.default.mark((function e(t){var n,r=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.abrupt("return",this.rosterEntityPromise?this.rosterEntityPromise.then((function(){if(r.participants.forEach((function(e){e.identity===t&&(n=e)})),!n)throw new Error("Participant with identity "+t+" was not found");return n})):null);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=A.default(D.default.mark((function e(t,n){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.participants,{identity:t,attributes:"undefined"!==typeof n?JSON.stringify(n):void 0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addNonChatParticipant",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.services.commandExecutor.mutateResource("post",this.links.participants,{attributes:"undefined"!==typeof i?JSON.stringify(i):void 0,messaging_binding:{address:t,proxy_address:e,name:null===a||void 0===a||null===(n=a.email)||void 0===n?void 0:n.name,level:null===a||void 0===a||null===(r=a.email)||void 0===r?void 0:r.level}})}},{key:"remove",value:function(e){return this.services.commandExecutor.mutateResource("delete","".concat(this.links.participants,"/").concat(e))}}]),n}(v.ReplayEventEmitter),ye=function(){function e(t,n){L.default(this,e),M.default(this,"mcsMedia",null),this.services=n,t instanceof _.McsMedia&&(this.mcsMedia=t),this.state={sid:t.sid,category:t.category,filename:t.filename,contentType:t.contentType,size:t.size}}return O.default(e,[{key:"sid",get:function(){return this.state.sid}},{key:"filename",get:function(){return this.state.filename}},{key:"contentType",get:function(){return this.state.contentType}},{key:"size",get:function(){return this.state.size}},{key:"category",get:function(){return this.state.category}},{key:"getContentTemporaryUrl",value:function(){var e=A.default(D.default.mark((function e(){var t,n;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchMcsMedia();case 2:return e.abrupt("return",null!==(t=null===(n=this.mcsMedia)||void 0===n?void 0:n.getContentUrl())&&void 0!==t?t:null);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCachedTemporaryUrl",value:function(){var e=A.default(D.default.mark((function e(){var t,n;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchMcsMedia();case 2:return e.abrupt("return",null!==(t=null===(n=this.mcsMedia)||void 0===n?void 0:n.getCachedContentUrl())&&void 0!==t?t:null);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_fetchMcsMedia",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mcsMedia){e.next=8;break}if(!this.services.mcsClient){e.next=7;break}return e.next=4,this.services.mcsClient.get(this.state.sid);case 4:this.mcsMedia=e.sent,e.next=8;break;case 7:throw new Error("Media Content Service is unavailable");case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),be=function(){function e(t){L.default(this,e),this.state=t}return O.default(e,[{key:"total",get:function(){return this.state.total}},{key:"sent",get:function(){return this.state.sent}},{key:"delivered",get:function(){return this.state.delivered}},{key:"read",get:function(){return this.state.read}},{key:"undelivered",get:function(){return this.state.undelivered}},{key:"failed",get:function(){return this.state.failed}},{key:"_update",value:function(e){this.state=e}},{key:"_isEquals",value:function(e){var t=this.total===e.total,n=this.sent===e.sent,r=this.delivered===e.delivered,i=this.read===e.read,a=this.undelivered===e.undelivered,o=this.failed===e.failed;return t&&n&&r&&i&&a&&o}}]),e}(),we=function(){function e(t,n,r,i){L.default(this,e),this.state={prevToken:r,nextToken:i,source:n,items:t}}return O.default(e,[{key:"hasNextPage",get:function(){return!!this.state.nextToken}},{key:"hasPrevPage",get:function(){return!!this.state.prevToken}},{key:"items",get:function(){return this.state.items}},{key:"nextPage",value:function(){return this.hasNextPage?this.state.source(this.state.nextToken):Promise.reject(new Error("No next page"))}},{key:"prevPage",value:function(){return this.hasPrevPage?this.state.source(this.state.prevToken):Promise.reject(new Error("No previous page"))}}]),e}(),ke=function e(t){L.default(this,e),this.sid=t.sid,this.messageSid=t.message_sid,this.conversationSid=t.conversation_sid,this.channelMessageSid=t.channel_message_sid,this.participantSid=t.participant_sid,this.status=t.status||"queued",this.errorCode=t.error_code||0,this.dateCreated=t.date_created,this.dateUpdated=t.date_updated};function xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}var _e=G.scope("Message"),Se=function(e){I.default(n,e);var t=xe(n);function n(e,r,i,a,o,s){var u,c,l,d,f;return L.default(this,n),(f=t.call(this)).conversation=i,f.links=a,f.configuration=o,f.services=s,f.state={sid:r.sid,index:e,author:r.author,subject:r.subject,body:null!==(u=r.text)&&void 0!==u?u:null,timestamp:r.timestamp?new Date(r.timestamp):null,dateUpdated:r.dateUpdated?new Date(r.dateUpdated):null,lastUpdatedBy:null!==(c=r.lastUpdatedBy)&&void 0!==c?c:null,attributes:te(r.attributes,"Got malformed attributes for the message ".concat(r.sid),_e),type:null!==(l=r.type)&&void 0!==l?l:"text",media:r.type&&"media"===r.type&&r.media?new ye(r.media,f.services):null,medias:r.type&&"media"===r.type&&r.medias?r.medias.map((function(e){return new ye(e,f.services)})):null,participantSid:null!==(d=r.memberSid)&&void 0!==d?d:null,aggregatedDeliveryReceipt:r.delivery?new be(r.delivery):null},f}return O.default(n,[{key:"sid",get:function(){return this.state.sid}},{key:"author",get:function(){return this.state.author}},{key:"subject",get:function(){return this.state.subject}},{key:"body",get:function(){return this.state.body}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"index",get:function(){return this.state.index}},{key:"lastUpdatedBy",get:function(){return this.state.lastUpdatedBy}},{key:"dateCreated",get:function(){return this.state.timestamp}},{key:"attributes",get:function(){return this.state.attributes}},{key:"type",get:function(){return this.state.type}},{key:"media",get:function(){return this.state.media}},{key:"attachedMedia",get:function(){return this.getMediaByCategory(["media"])}},{key:"participantSid",get:function(){return this.state.participantSid}},{key:"aggregatedDeliveryReceipt",get:function(){return this.state.aggregatedDeliveryReceipt}},{key:"getMediaByCategory",value:function(e){var t;return(null!==(t=this.state.medias)&&void 0!==t?t:[]).filter((function(t){return e.includes(t.category)}))}},{key:"getEmailBody",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text/plain";return null!==(e=null===(t=this.getMediaByCategory(["body"]))||void 0===t?void 0:t.filter((function(e){return e.contentType==n})).shift())&&void 0!==e?e:null}},{key:"getEmailHistory",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text/plain";return null!==(e=null===(t=this.getMediaByCategory(["history"]))||void 0===t?void 0:t.filter((function(e){return e.contentType==n})).shift())&&void 0!==e?e:null}},{key:"_update",value:function(e){var t=[];!e.text&&"string"!==typeof e.text||e.text===this.state.body||(this.state.body=e.text,t.push("body")),e.subject&&e.subject!==this.state.subject&&(this.state.subject=e.subject,t.push("subject")),e.lastUpdatedBy&&e.lastUpdatedBy!==this.state.lastUpdatedBy&&(this.state.lastUpdatedBy=e.lastUpdatedBy,t.push("lastUpdatedBy")),e.author&&e.author!==this.state.author&&(this.state.author=e.author,t.push("author")),e.dateUpdated&&new Date(e.dateUpdated).getTime()!==(this.state.dateUpdated&&this.state.dateUpdated.getTime())&&(this.state.dateUpdated=new Date(e.dateUpdated),t.push("dateUpdated")),e.timestamp&&new Date(e.timestamp).getTime()!==(this.state.timestamp&&this.state.timestamp.getTime())&&(this.state.timestamp=new Date(e.timestamp),t.push("dateCreated"));var n=te(e.attributes,"Got malformed attributes for the message ".concat(this.sid),_e);j.default(this.state.attributes,n)||(this.state.attributes=n,t.push("attributes"));var r=e.delivery,i=this.state.aggregatedDeliveryReceipt;!!r&&!!r.total&&!!r.delivered&&!!r.failed&&!!r.read&&!!r.sent&&!!r.undelivered&&(i?i._isEquals(r)||(i._update(r),t.push("deliveryReceipt")):(this.state.aggregatedDeliveryReceipt=new be(r),t.push("deliveryReceipt"))),t.length>0&&this.emit("updated",{message:this,updateReasons:t})}},{key:"getParticipant",value:function(){var e=A.default(D.default.mark((function e(){var t,n,r=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!this.state.participantSid){e.next=5;break}return e.next=4,this.conversation.getParticipantBySid(this.state.participantSid).catch((function(){return _e.debug('Participant with sid "'.concat(r.participantSid,'" not found for message ').concat(r.sid)),null}));case 4:t=e.sent;case 5:if(t||!this.state.author){e.next=9;break}return e.next=8,this.conversation.getParticipantByIdentity(this.state.author).catch((function(){return _e.debug('Participant with identity "'.concat(r.author,'" not found for message ').concat(r.sid)),null}));case 8:t=e.sent;case 9:if(!t){e.next=11;break}return e.abrupt("return",t);case 11:throw n="Participant with ",this.state.participantSid&&(n+="SID '"+this.state.participantSid+"' "),this.state.author&&(this.state.participantSid&&(n+="or "),n+="identity '"+this.state.author+"' "),"Participant with "===n&&(n="Participant "),n+="was not found",new Error(n);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDetailedDeliveryReceipts",value:function(){var e=A.default(D.default.mark((function e(){var t,n;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getDetailedDeliveryReceiptsPaginator();case 2:t=e.sent,n=[];case 4:if(n=[].concat(V.default(n),V.default(t.items)),t.hasNextPage){e.next=8;break}return e.abrupt("break",13);case 8:return e.next=10,t.nextPage();case 10:t=e.sent,e.next=4;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("delete",this.links.self);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateBody",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.self,{body:t});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAttributes",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.self,{attributes:"undefined"!==typeof t?JSON.stringify(t):void 0});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"attachTemporaryUrlsFor",value:function(){var e=A.default(D.default.mark((function e(t){var n,r=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===t||void 0===t?void 0:t.map((function(e){return e.sid})),!this.services.mcsClient||!n){e.next=7;break}return e.next=4,this.services.mcsClient.mediaSetGet(n);case 4:return e.abrupt("return",e.sent.map((function(e){return new ye(e,r.services)})));case 7:throw new Error("Media Content Service is unavailable");case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getDetailedDeliveryReceiptsPaginator",value:function(){var e=A.default(D.default.mark((function e(t){var n,r,i,a=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.configuration.links.messagesReceipts.replace("%s",this.conversation.sid).replace("%s",this.sid),r=new ne(n).arg("PageToken",null===t||void 0===t?void 0:t.pageToken).arg("PageSize",null===t||void 0===t?void 0:t.pageSize).build(),e.next=4,this.services.network.get(r);case 4:return i=e.sent,e.abrupt("return",new we(i.body.delivery_receipts.map((function(e){return new ke(e)})),(function(e,t){return a._getDetailedDeliveryReceiptsPaginator({pageToken:e,pageSize:t})}),i.body.meta.previous_token,i.body.meta.next_token));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(v.ReplayEventEmitter);function Ee(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}M.default(Se,"updated","updated"),U([m.validateTypes([m.nonEmptyString,"undefined"]),W("design:type",Function),W("design:paramtypes",[Object]),W("design:returntype",ye)],Se.prototype,"getEmailBody",null),U([m.validateTypes([m.nonEmptyString,"undefined"]),W("design:type",Function),W("design:paramtypes",[Object]),W("design:returntype",ye)],Se.prototype,"getEmailHistory",null),U([m.validateTypesAsync("string"),W("design:type",Function),W("design:paramtypes",[String]),W("design:returntype",Promise)],Se.prototype,"updateBody",null),U([m.validateTypesAsync(re),W("design:type",Function),W("design:paramtypes",[Object]),W("design:returntype",Promise)],Se.prototype,"updateAttributes",null),U([m.validateTypesAsync(m.custom((function(e){return[e instanceof Array&&e.length>0&&e.reduce((function(e,t){return e&&t instanceof ye}),!0),"a non-empty array of Media"]}))),W("design:type",Function),W("design:paramtypes",[Array]),W("design:returntype",Promise)],Se.prototype,"attachTemporaryUrlsFor",null);var Ae=G.scope("Messages"),Oe=function(e){I.default(n,e);var t=Te(n);function n(e,r,i){var a;return L.default(this,n),(a=t.call(this)).conversation=e,a.configuration=r,a.services=i,a.messagesByIndex=new Map,a.messagesListPromise=null,a}return O.default(n,[{key:"subscribe",value:function(){var e=A.default(D.default.mark((function e(t){var n,r=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.messagesListPromise){e.next=2;break}return e.abrupt("return",this.messagesListPromise);case 2:return this.messagesListPromise=this.services.syncClient.list({id:t,mode:"open_existing"}),e.prev=3,e.next=6,this.messagesListPromise;case 6:return(n=e.sent).on("itemAdded",(function(e){Ae.debug("".concat(r.conversation.sid," itemAdded: ").concat(e.item.index));var t={self:"".concat(r.conversation.links.messages,"/").concat(e.item.data.sid),conversation:r.conversation.links.self,messages_receipts:"".concat(r.conversation.links.messages,"/").concat(e.item.data.sid,"/Receipts")},n=new Se(e.item.index,e.item.data,r.conversation,t,r.configuration,r.services);r.messagesByIndex.has(n.index)?Ae.debug("Message arrived, but is already known and ignored",r.conversation.sid,n.index):(r.messagesByIndex.set(n.index,n),n.on("updated",(function(e){return r.emit("messageUpdated",e)})),r.emit("messageAdded",n))})),n.on("itemRemoved",(function(e){Ae.debug("#{this.conversation.sid} itemRemoved: ".concat(e.index));var t=e.index;if(r.messagesByIndex.has(t)){var n=r.messagesByIndex.get(t);if(!n)return;r.messagesByIndex.delete(n.index),n.removeAllListeners("updated"),r.emit("messageRemoved",n)}})),n.on("itemUpdated",(function(e){Ae.debug("".concat(r.conversation.sid," itemUpdated: ").concat(e.item.index));var t=r.messagesByIndex.get(e.item.index);t&&t._update(e.item.data)})),e.abrupt("return",n);case 13:throw e.prev=13,e.t0=e.catch(3),this.messagesListPromise=null,"disconnected"!==this.services.syncClient.connectionState&&Ae.error("Failed to get messages object for conversation",this.conversation.sid,e.t0),Ae.debug("ERROR: Failed to get messages object for conversation",this.conversation.sid,e.t0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messagesListPromise){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.messagesListPromise;case 4:e.sent.close(),this.messagesListPromise=null;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendV2",value:function(){var e=A.default(D.default.mark((function e(t){var n,r,i,a,o,s,u,c,l;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ae.debug("Sending message V2",t.mediaContent,t.attributes,t.emailOptions),r=[],i=Ee(t.mediaContent),e.prev=3,i.s();case 5:if((a=i.n()).done){e.next=22;break}if(u=Z.default(a.value,2),c=u[0],l=u[1],Ae.debug("Adding media to a message as ".concat(l instanceof FormData?"FormData":"SendMediaOptions"),l),e.t0=r,!(l instanceof FormData)){e.next=15;break}return e.next=12,this.services.mcsClient.postFormData(l,c);case 12:e.t1=e.sent,e.next=18;break;case 15:return e.next=17,this.services.mcsClient.post(null!==(o=l.contentType)&&void 0!==o?o:"",null!==(s=l.media)&&void 0!==s?s:"",c,l.filename);case 17:e.t1=e.sent;case 18:e.t2=e.t1,e.t0.push.call(e.t0,e.t2);case 20:e.next=5;break;case 22:e.next=27;break;case 24:e.prev=24,e.t3=e.catch(3),i.e(e.t3);case 27:return e.prev=27,i.f(),e.finish(27);case 30:return e.next=32,this.services.commandExecutor.mutateResource("post",this.conversation.links.messages,{body:t.text,subject:null===(n=t.emailOptions)||void 0===n?void 0:n.subject,media_sids:r.map((function(e){return e.sid})),attributes:"undefined"!==typeof t.attributes?JSON.stringify(t.attributes):void 0});case 32:return e.abrupt("return",e.sent);case 33:case"end":return e.stop()}}),e,this,[[3,24,27,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=A.default(D.default.mark((function e(t){var n,r,i=arguments;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2?i[2]:void 0,Ae.debug("Sending text message",t,n,r),e.next=5,this.services.commandExecutor.mutateResource("post",this.conversation.links.messages,{body:null!==t&&void 0!==t?t:"",attributes:"undefined"!==typeof n?JSON.stringify(n):void 0,subject:null===r||void 0===r?void 0:r.subject});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMedia",value:function(){var e=A.default(D.default.mark((function e(t){var n,r,i,a,o,s=arguments;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=s.length>1&&void 0!==s[1]?s[1]:{},a=s.length>2?s[2]:void 0,Ae.debug("Sending media message",t,i,a),Ae.debug("Sending media message as ".concat(t instanceof FormData?"FormData":"SendMediaOptions"),t,i),!(t instanceof FormData)){e.next=10;break}return e.next=7,this.services.mcsClient.postFormData(t);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,this.services.mcsClient.post(null!==(n=t.contentType)&&void 0!==n?n:"",null!==(r=t.media)&&void 0!==r?r:"","media",t.filename);case 12:e.t0=e.sent;case 13:return o=e.t0,e.next=16,this.services.commandExecutor.mutateResource("post",this.conversation.links.messages,{media_sids:[o.sid],attributes:"undefined"!==typeof i?JSON.stringify(i):void 0});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMessages",value:function(){var e=A.default(D.default.mark((function e(t,n){var r,i=arguments;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:"backwards",e.abrupt("return",this._getMessages(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_wrapPaginator",value:function(e,t,n){var r=this,i="desc"===e,a=function(){return t.nextPage().then((function(t){return r._wrapPaginator(e,t,n)}))},o=function(){return t.prevPage().then((function(t){return r._wrapPaginator(e,t,n)}))};return n(t.items).then((function(e){return{items:e.sort((function(e,t){return e.index-t.index})),hasPrevPage:i?t.hasNextPage:t.hasPrevPage,hasNextPage:i?t.hasPrevPage:t.hasNextPage,prevPage:i?a:o,nextPage:i?o:a}}))}},{key:"_upsertMessage",value:function(e,t){var n=this,r=this.messagesByIndex.get(e);if(r)return r;var i={self:"".concat(this.conversation.links.messages,"/").concat(t.sid),conversation:this.conversation.links.self,messages_receipts:"".concat(this.conversation.links.messages,"/").concat(t.sid,"/Receipts")},a=new Se(e,t,this.conversation,i,this.configuration,this.services);return this.messagesByIndex.set(a.index,a),a.on("updated",(function(e){return n.emit("messageUpdated",e)})),a}},{key:"_getMessages",value:function(){var e=A.default(D.default.mark((function e(){var t,n,r,i,a,o,s=this,u=arguments;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:30,n=u.length>1&&void 0!==u[1]?u[1]:"end",r=u.length>2&&void 0!==u[2]?u[2]:"forward",i="backwards"===r?"desc":"asc",e.next=6,this.messagesListPromise;case 6:return a=e.sent,e.next=9,null===a||void 0===a?void 0:a.getItems({from:"end"!==n?n:void 0,pageSize:t,order:i,limit:t});case 9:return o=e.sent,e.next=12,this._wrapPaginator(i,o,(function(e){return Promise.all(e.map((function(e){return s._upsertMessage(e.index,e.data)})))}));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(v.ReplayEventEmitter),Re=function(){function e(t){L.default(this,e),M.default(this,"attributes",{}),M.default(this,"mediaContent",[]),M.default(this,"emailOptions",{}),this.messagesEntity=t}return O.default(e,[{key:"send",value:function(){var e=A.default(D.default.mark((function e(){var t;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.messagesEntity.sendV2(this);case 2:return t=e.sent,e.abrupt("return",$(t.index));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ie=function(){function e(t,n){L.default(this,e),this.limits=t,this.message=new Re(n),this.emailBodies=new Map,this.emailHistories=new Map}return O.default(e,[{key:"setBody",value:function(e){return this.message.text=e,this}},{key:"setSubject",value:function(e){return this.message.emailOptions.subject=e,this}},{key:"setAttributes",value:function(e){return this.message.attributes=e,this}},{key:"setEmailBody",value:function(e,t){return this.emailBodies.set(e,t),this}},{key:"setEmailHistory",value:function(e,t){return this.emailHistories.set(e,t),this}},{key:"addMedia",value:function(e){if("undefined"===typeof FormData&&e instanceof FormData)throw new Error("Could not add FormData content whilst not in a browser");if(!(e instanceof FormData)){var t=e;if(!t.contentType||!t.media)throw new Error("Media content in SendMediaOptions must contain non-empty contentType and media")}return this.message.mediaContent.push(["media",e]),this}},{key:"build",value:function(){var e=this;if(this.emailBodies.forEach((function(t,n){if(!e.limits.emailBodiesAllowedMimeTypes.includes(n))throw new Error("Unsupported email body MIME type ".concat(n))})),this.emailHistories.forEach((function(t,n){if(!e.limits.emailHistoriesAllowedMimeTypes.includes(n))throw new Error("Unsupported email history MIME type ".concat(n))})),this.emailBodies.size>this.limits.emailBodiesAllowedMimeTypes.length)throw new Error("Too many email bodies attached to the message (".concat(this.emailBodies.size," > ").concat(this.limits.emailBodiesAllowedMimeTypes.length,")"));if(this.emailHistories.size>this.limits.emailHistoriesAllowedMimeTypes.length)throw new Error("Too many email histories attached to the message (".concat(this.emailHistories.size," > ").concat(this.limits.emailHistoriesAllowedMimeTypes.length,")"));if(this.message.mediaContent.length>this.limits.mediaAttachmentsCountLimit)throw new Error("Too many media attachments in the message (".concat(this.message.mediaContent.length," > ").concat(this.limits.mediaAttachmentsCountLimit,")"));return this.emailBodies.forEach((function(t){e.message.mediaContent.push(["body",t])})),this.emailHistories.forEach((function(t){e.message.mediaContent.push(["history",t])})),this.message}},{key:"getPayloadContentType",value:function(e){return"undefined"!==typeof FormData&&e instanceof FormData?e.get("Content-Type"):e.contentType}}]),e}();function Ne(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}var Le=G.scope("Conversation"),De={lastMessage:"lastMessage",attributes:"attributes",createdBy:"createdBy",dateCreated:"dateCreated",dateUpdated:"dateUpdated",friendlyName:"friendlyName",lastConsumedMessageIndex:"lastConsumedMessageIndex",notificationLevel:"notificationLevel",sid:"sid",status:"status",uniqueName:"uniqueName",state:"state",bindings:"bindings"};function Fe(e){try{return new Date(e)}catch(t){return null}}var Be=function(e){I.default(n,e);var t=Me(n);function n(e,r,i,a,o){var s,u;L.default(this,n),(u=t.call(this)).sid=r,u.links=i,u.configuration=a,u.services=o;var c=e.attributes||{},l=e.createdBy,d=Fe(e.dateCreated),f=Fe(e.dateUpdated),p=e.friendlyName||null,h=Number.isInteger(e.lastConsumedMessageIndex)?e.lastConsumedMessageIndex:null,m=e.uniqueName||null;try{JSON.stringify(c)}catch(g){throw new Error("Attributes must be a valid JSON object.")}u.entityName=e.channel,u.channelState={uniqueName:m,status:"notParticipating",attributes:c,createdBy:l,dateCreated:d,dateUpdated:f,friendlyName:p,lastReadMessageIndex:h,bindings:null!==(s=e.bindings)&&void 0!==s?s:{}},e.notificationLevel&&(u.channelState.notificationLevel=e.notificationLevel);var v={participants:u.links.participants};return u.participants=new Map,u.participantsEntity=new ge(R.default(u),u.participants,v,u.configuration,u.services),u.participantsEntity.on("participantJoined",(function(e){return u.emit("participantJoined",e)})),u.participantsEntity.on("participantLeft",(function(e){return u.emit("participantLeft",e)})),u.participantsEntity.on("participantUpdated",(function(e){return u.emit("participantUpdated",e)})),u.messagesEntity=new Oe(R.default(u),a,o),u.messagesEntity.on("messageAdded",(function(e){return u._onMessageAdded(e)})),u.messagesEntity.on("messageUpdated",(function(e){return u.emit("messageUpdated",e)})),u.messagesEntity.on("messageRemoved",(function(e){return u.emit("messageRemoved",e)})),u}return O.default(n,[{key:"uniqueName",get:function(){return this.channelState.uniqueName}},{key:"status",get:function(){return this.channelState.status}},{key:"friendlyName",get:function(){return this.channelState.friendlyName}},{key:"dateUpdated",get:function(){return this.channelState.dateUpdated}},{key:"dateCreated",get:function(){return this.channelState.dateCreated}},{key:"createdBy",get:function(){var e;return null!==(e=this.channelState.createdBy)&&void 0!==e?e:""}},{key:"attributes",get:function(){return this.channelState.attributes}},{key:"lastReadMessageIndex",get:function(){return this.channelState.lastReadMessageIndex}},{key:"lastMessage",get:function(){var e;return null!==(e=this.channelState.lastMessage)&&void 0!==e?e:void 0}},{key:"notificationLevel",get:function(){var e;return null!==(e=this.channelState.notificationLevel)&&void 0!==e?e:"default"}},{key:"bindings",get:function(){return this.channelState.bindings}},{key:"limits",get:function(){return this.configuration.limits}},{key:"state",get:function(){return this.channelState.state}},{key:"_subscribe",value:function(){var e,t=this;return this.entityPromise=null!==(e=this.entityPromise)&&void 0!==e?e:this.services.syncClient.document({id:this.entityName,mode:"open_existing"}).then((function(e){return t.entity=e,t.entity.on("updated",(function(e){t._update(e.data)})),t.entity.on("removed",(function(){return t.emit("removed",t)})),t._update(t.entity.data),e})).catch((function(e){throw t.entity=null,t.entityPromise=null,"disconnected"!=t.services.syncClient.connectionState&&Le.error("Failed to get conversation object",e),Le.debug("ERROR: Failed to get conversation object",e),e}))}},{key:"_subscribeStreams",value:function(){var e=A.default(D.default.mark((function e(){var t,n,r,i,a;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._subscribe();case 3:return Le.trace("_subscribeStreams, this.entity.data=",null===(t=this.entity)||void 0===t?void 0:t.data),i=null===(n=this.entity)||void 0===n?void 0:n.data.messages,a=null===(r=this.entity)||void 0===r?void 0:r.data.roster,e.next=8,Promise.all([this.messagesEntity.subscribe(i),this.participantsEntity.subscribe(a)]);case 8:e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(0),"disconnected"!==this.services.syncClient.connectionState&&Le.error("Failed to subscribe on conversation objects",this.sid,e.t0),Le.debug("ERROR: Failed to subscribe on conversation objects",this.sid,e.t0),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"_unsubscribe",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.entity){e.next=5;break}return e.next=3,this.entity.close();case 3:this.entity=null,this.entityPromise=null;case 5:return e.abrupt("return",Promise.all([this.participantsEntity.unsubscribe(),this.messagesEntity.unsubscribe()]));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_setStatus",value:function(e,t){var n=this;this.statusSource=t,this.channelState.status!==e&&(this.channelState.status=e,"joined"===e?this._subscribeStreams().catch((function(t){if(Le.debug("ERROR while setting conversation status "+e,t),"disconnected"!==n.services.syncClient.connectionState)throw t})):this.entityPromise&&this._unsubscribe().catch((function(t){if(Le.debug("ERROR while setting conversation status "+e,t),"disconnected"!==n.services.syncClient.connectionState)throw t})))}},{key:"_statusSource",value:function(){return this.statusSource}},{key:"_update",value:function(e){var t,r,i,a,o;Le.trace("_update",e),n.preprocessUpdate(e,this.sid);for(var s=new Set,u=0,c=Object.keys(e);u<c.length;u++){var l=c[u],d=De[l];if(d)switch(d){case De.status:if(!e.status||"unknown"===e.status||this.channelState.status===e.status)break;this.channelState.status=e.status,s.add(d);break;case De.attributes:if(j.default(this.channelState.attributes,e.attributes))break;this.channelState.attributes=e.attributes,s.add(d);break;case De.lastConsumedMessageIndex:if(void 0===e.lastConsumedMessageIndex||e.lastConsumedMessageIndex===this.channelState.lastReadMessageIndex)break;this.channelState.lastReadMessageIndex=e.lastConsumedMessageIndex,s.add("lastReadMessageIndex");break;case De.lastMessage:if(this.channelState.lastMessage&&!e.lastMessage){delete this.channelState.lastMessage,s.add(d);break}this.channelState.lastMessage=this.channelState.lastMessage||{},void 0!==(null===(t=e.lastMessage)||void 0===t?void 0:t.index)&&e.lastMessage.index!==this.channelState.lastMessage.index&&(this.channelState.lastMessage.index=e.lastMessage.index,s.add(d)),void 0!==(null===(r=e.lastMessage)||void 0===r?void 0:r.timestamp)&&(null===(i=this.channelState.lastMessage)||void 0===i||null===(a=i.dateCreated)||void 0===a?void 0:a.getTime())!==e.lastMessage.timestamp.getTime()&&(this.channelState.lastMessage.dateCreated=e.lastMessage.timestamp,s.add(d)),j.default(this.channelState.lastMessage,{})&&delete this.channelState.lastMessage;break;case De.state:var f=e.state||void 0;if(void 0!==f&&(f.dateUpdated=new Date(f.dateUpdated)),j.default(this.channelState.state,f))break;this.channelState.state=f,s.add(d);break;case De.bindings:if(j.default(this.channelState.bindings,e.bindings))break;this.channelState.bindings=e.bindings,s.add(d);break;default:var p=e[l]instanceof Date,h=p&&(null===(o=this.channelState[d])||void 0===o?void 0:o.getTime())===e[l].getTime(),m=!p&&this[d]===e[l];if(h||m)break;this.channelState[d]=e[l],s.add(d)}}s.size>0&&this.emit("updated",{conversation:this,updateReasons:V.default(s)})}},{key:"_onMessageAdded",value:function(e){var t,n=Ne(this.participants.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.identity===e.author){r._endTyping();break}}}catch(i){n.e(i)}finally{n.f()}this.emit("messageAdded",e)}},{key:"_setLastReadMessageIndex",value:function(){var e=A.default(D.default.mark((function e(t){var n;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post","".concat(this.configuration.links.myConversations,"/").concat(this.sid),{last_read_message_index:t});case 2:return n=e.sent,e.abrupt("return",n.unread_messages_count);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=A.default(D.default.mark((function e(t,n){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.participantsEntity.add(t,null!==n&&void 0!==n?n:{}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addNonChatParticipant",value:function(){var e=A.default(D.default.mark((function e(t,n){var r,i,a=arguments;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},i=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.participantsEntity.addNonChatParticipant(t,n,null!==r&&void 0!==r?r:{},null!==i&&void 0!==i?i:{}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"advanceLastReadMessageIndex",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:if(!(t<(this.lastReadMessageIndex||0))){e.next=6;break}return e.next=5,this._setLastReadMessageIndex(this.lastReadMessageIndex);case 5:case 8:return e.abrupt("return",e.sent);case 6:return e.next=8,this._setLastReadMessageIndex(t);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("delete",this.links.self);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAttributes",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribe();case 2:return e.abrupt("return",this.attributes);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMessages",value:function(){var e=A.default(D.default.mark((function e(t,n,r){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this.messagesEntity.getMessages(t,n,r));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getParticipants",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this.participantsEntity.getParticipants());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getParticipantsCount",value:function(){var e=A.default(D.default.mark((function e(){var t,n,r;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ne(this.configuration.links.conversations).path(this.sid).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,e.abrupt("return",null!==(t=r.body.participants_count)&&void 0!==t?t:0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getParticipantBySid",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.participantsEntity.getParticipantBySid(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getParticipantByIdentity",value:function(){var e=A.default(D.default.mark((function e(){var t,n=arguments;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.abrupt("return",this.participantsEntity.getParticipantByIdentity(null!==t&&void 0!==t?t:""));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMessagesCount",value:function(){var e=A.default(D.default.mark((function e(){var t,n,r;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ne(this.configuration.links.conversations).path(this.sid).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,e.abrupt("return",null!==(t=r.body.messages_count)&&void 0!==t?t:0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUnreadMessagesCount",value:function(){var e=A.default(D.default.mark((function e(){var t,n,r;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new ne(this.configuration.links.myConversations).path(this.sid).build(),e.next=3,this.services.network.get(t);case 3:if((n=e.sent).body.conversation_sid===this.sid){e.next=6;break}throw new Error("Conversation was not found in the user conversations list");case 6:if("number"!==typeof(r=n.body.unread_messages_count)){e.next=9;break}return e.abrupt("return",r);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"join",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.participants,{identity:this.configuration.userIdentity});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"leave",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("joined"!==this.channelState.status){e.next=3;break}return e.next=3,this.services.commandExecutor.mutateResource("delete","".concat(this.links.participants,"/").concat(this.configuration.userIdentity));case 3:return e.abrupt("return",this);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeParticipant",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.participantsEntity.remove("string"===typeof t?t:t.sid);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=A.default(D.default.mark((function e(t,n,r){var i,a,o,s;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t&&null!==t){e.next=5;break}return e.next=3,this.messagesEntity.send(t,n,r);case 3:return o=e.sent,e.abrupt("return",null!==(a=$(o.index))&&void 0!==a?a:0);case 5:return e.next=7,this.messagesEntity.sendMedia(t,n,r);case 7:return s=e.sent,e.abrupt("return",null!==(i=$(s.index))&&void 0!==i?i:0);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"prepareMessage",value:function(){return new Ie(this.limits,this.messagesEntity)}},{key:"setAllMessagesRead",value:function(){var e=A.default(D.default.mark((function e(){var t;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.next=4,this.getMessages(1);case 4:if(!((t=e.sent).items.length>0)){e.next=7;break}return e.abrupt("return",this.advanceLastReadMessageIndex(t.items[0].index));case 7:return e.abrupt("return",Promise.resolve(0));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setAllMessagesUnread",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.next=4,this._setLastReadMessageIndex(null);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setUserNotificationLevel",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post","".concat(this.configuration.links.myConversations,"/").concat(this.sid),{notification_level:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"typing",value:function(){return this.services.typingIndicator.send(this.sid)}},{key:"updateAttributes",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.self,{attributes:void 0!==t?JSON.stringify(t):void 0});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateFriendlyName",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.channelState.friendlyName===t){e.next=3;break}return e.next=3,this.services.commandExecutor.mutateResource("post",this.links.self,{friendly_name:t});case 3:return e.abrupt("return",this);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateLastReadMessageIndex",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this._setLastReadMessageIndex(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUniqueName",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.channelState.uniqueName===t){e.next=4;break}return t||(t=""),e.next=4,this.services.commandExecutor.mutateResource("post",this.links.self,{unique_name:t});case 4:return e.abrupt("return",this);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"preprocessUpdate",value:function(e,t){try{"string"===typeof e.attributes?e.attributes=JSON.parse(e.attributes):e.attributes&&JSON.stringify(e.attributes)}catch(n){Le.warn("Retrieved malformed attributes from the server for conversation: "+t),e.attributes={}}try{e.dateCreated&&(e.dateCreated=new Date(e.dateCreated))}catch(n){Le.warn("Retrieved malformed dateCreated from the server for conversation: "+t),delete e.dateCreated}try{e.dateUpdated&&(e.dateUpdated=new Date(e.dateUpdated))}catch(n){Le.warn("Retrieved malformed dateUpdated from the server for conversation: "+t),delete e.dateUpdated}try{e.lastMessage&&e.lastMessage.timestamp&&(e.lastMessage.timestamp=new Date(e.lastMessage.timestamp))}catch(n){Le.warn("Retrieved malformed lastMessage.timestamp from the server for conversation: "+t),delete e.lastMessage.timestamp}}}]),n}(v.ReplayEventEmitter);M.default(Be,"participantJoined","participantJoined"),M.default(Be,"participantLeft","participantLeft"),M.default(Be,"participantUpdated","participantUpdated"),M.default(Be,"messageAdded","messageAdded"),M.default(Be,"messageRemoved","messageRemoved"),M.default(Be,"messageUpdated","messageUpdated"),M.default(Be,"typingEnded","typingEnded"),M.default(Be,"typingStarted","typingStarted"),M.default(Be,"updated","updated"),M.default(Be,"removed","removed"),U([m.validateTypesAsync(m.nonEmptyString,ie),W("design:type",Function),W("design:paramtypes",[String,Object]),W("design:returntype",Promise)],Be.prototype,"add",null),U([m.validateTypesAsync(m.nonEmptyString,m.nonEmptyString,ie),W("design:type",Function),W("design:paramtypes",[String,String,Object,Object]),W("design:returntype",Promise)],Be.prototype,"addNonChatParticipant",null),U([m.validateTypesAsync(m.nonNegativeInteger),W("design:type",Function),W("design:paramtypes",[Number]),W("design:returntype",Promise)],Be.prototype,"advanceLastReadMessageIndex",null),U([m.validateTypesAsync(["undefined",m.nonNegativeInteger],["undefined",m.nonNegativeInteger],["undefined",m.literal("backwards","forward")]),W("design:type",Function),W("design:paramtypes",[Number,Number,String]),W("design:returntype",Promise)],Be.prototype,"getMessages",null),U([m.validateTypesAsync(m.nonEmptyString),W("design:type",Function),W("design:paramtypes",[String]),W("design:returntype",Promise)],Be.prototype,"getParticipantBySid",null),U([m.validateTypesAsync(m.nonEmptyString),W("design:type",Function),W("design:paramtypes",[String]),W("design:returntype",Promise)],Be.prototype,"getParticipantByIdentity",null),U([m.validateTypesAsync([m.nonEmptyString,he]),W("design:type",Function),W("design:paramtypes",[Object]),W("design:returntype",Promise)],Be.prototype,"removeParticipant",null),U([m.validateTypesAsync(["string",m.literal(null),m.custom((function(e){return[e instanceof FormData,"an instance of FormData"]})),m.objectSchema("media options",{contentType:m.nonEmptyString,media:m.custom((function(e){var t="string"===typeof e&&e.length>0||e instanceof Uint8Array||e instanceof ArrayBuffer;return"function"===typeof Blob&&(t=t||e instanceof Blob),[t,"a non-empty string, an instance of Buffer or an instance of Blob"]}))})],ie,["undefined",m.literal(null),m.objectSchema("email attributes",{subject:[m.nonEmptyString,"undefined"]})]),W("design:type",Function),W("design:paramtypes",[Object,Object,Object]),W("design:returntype",Promise)],Be.prototype,"sendMessage",null),U([m.validateTypesAsync(m.literal("default","muted")),W("design:type",Function),W("design:paramtypes",[String]),W("design:returntype",Promise)],Be.prototype,"setUserNotificationLevel",null),U([m.validateTypesAsync(re),W("design:type",Function),W("design:paramtypes",[Object]),W("design:returntype",Promise)],Be.prototype,"updateAttributes",null),U([m.validateTypesAsync(["string"]),W("design:type",Function),W("design:paramtypes",[String]),W("design:returntype",Promise)],Be.prototype,"updateFriendlyName",null),U([m.validateTypesAsync([m.literal(null),m.nonNegativeInteger]),W("design:type",Function),W("design:paramtypes",[Number]),W("design:returntype",Promise)],Be.prototype,"updateLastReadMessageIndex",null),U([m.validateTypesAsync(["string",m.literal(null)]),W("design:type",Function),W("design:paramtypes",[String]),W("design:returntype",Promise)],Be.prototype,"updateUniqueName",null);var je=function(){function e(){var t=this;L.default(this,e),this._promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))}return O.default(e,[{key:"promise",get:function(){return this._promise}},{key:"update",value:function(e){this._resolve(e)}},{key:"set",value:function(e){this.current=e,this._resolve(e)}},{key:"fail",value:function(e){this._reject(e)}}]),e}();function Ze(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){M.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}var ze=G.scope("Conversations"),Ge=function(e){I.default(n,e);var t=He(n);function n(e,r){var i;return L.default(this,n),i=t.call(this),M.default(R.default(i),"conversations",new Map),M.default(R.default(i),"myConversationsRead",new je),M.default(R.default(i),"tombstones",new Set),M.default(R.default(i),"myConversationsFetched",!1),i.configuration=e,i.services=r,i}return O.default(n,[{key:"addConversation",value:function(){var e=A.default(D.default.mark((function e(t){var n,r,i,a,o,s,u,c,l,d;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="undefined"!==typeof(null===t||void 0===t?void 0:t.attributes)?t.attributes:{},e.next=3,this.services.commandExecutor.mutateResource("post",this.configuration.links.conversations,{friendly_name:t.friendlyName,unique_name:t.uniqueName,attributes:"undefined"!==typeof a?JSON.stringify(a):void 0});case 3:if(o=e.sent,s=null!==(n=o.sid)&&void 0!==n?n:null,u=null!==(r=null===(i=o.sync_objects)||void 0===i?void 0:i.conversation)&&void 0!==r?r:null,c=We({self:o.url},o.links),!(l=this.conversations.get(s))){e.next=12;break}return e.next=11,l._subscribe();case 11:return e.abrupt("return",l);case 12:return d=new Be({channel:u,entityName:"",uniqueName:"",attributes:null,createdBy:"",friendlyName:"",lastConsumedMessageIndex:0,dateCreated:null,dateUpdated:null},s,c,this.configuration,this.services),this.conversations.set(d.sid,d),this._registerForEvents(d),e.next=17,d._subscribe();case 17:return this.emit("conversationAdded",d),e.abrupt("return",d);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchConversations",value:function(){var e=A.default(D.default.mark((function e(){var t,n,r,i,a,o,s,u=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._getMap();case 3:return(t=e.sent).on("itemAdded",(function(e){ze.debug("itemAdded: ".concat(e.item.key)),u._upsertConversation("sync",e.item.key,e.item.data)})),t.on("itemRemoved",(function(e){ze.debug("itemRemoved: ".concat(e.key));var t=e.key;u.myConversationsFetched||u.tombstones.add(t);var n=u.conversations.get(t);n&&("joined"===n.status&&(n._setStatus("notParticipating","sync"),u.emit("conversationLeft",n)),u.conversations.delete(t),u.emit("conversationRemoved",n),n.emit("removed",n))})),t.on("itemUpdated",(function(e){ze.debug("itemUpdated: ".concat(e.item.key)),u._upsertConversation("sync",e.item.key,e.item.data)})),e.next=9,this._fetchMyConversations();case 9:n=e.sent,r=[],i=Ze(n);try{for(i.s();!(a=i.n()).done;)o=a.value,r.push(this._upsertConversation("rest",o.channel_sid,o))}catch(c){i.e(c)}finally{i.f()}return this.myConversationsRead.set(!0),e.next=16,Promise.all(r);case 16:return this.myConversationsFetched=!0,this.tombstones.clear(),ze.debug("The conversations list has been successfully fetched"),e.abrupt("return",this);case 22:throw e.prev=22,e.t0=e.catch(0),s="Failed to fetch the conversations list","disconnected"!==this.services.syncClient.connectionState&&ze.error(s,e.t0),ze.debug("ERROR: ".concat(s),e.t0),e.t0;case 28:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"getConversations",value:function(){var e=A.default(D.default.mark((function e(){var t,n,r=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getMap();case 2:return t=e.sent,e.next=5,t.getItems();case 5:return n=e.sent,e.abrupt("return",this._wrapPaginator(n,(function(e){return Promise.all(e.map((function(e){return r._upsertConversation("sync",e.key,e.data)})))})));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getConversation",value:function(){var e=A.default(D.default.mark((function e(t){var n,r,i,a=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getMap();case 2:return n=e.sent,e.next=5,n.getItems({key:t});case 5:return r=e.sent,i=r.items.map((function(e){return a._upsertConversation("sync",e.key,e.data)})),e.abrupt("return",i.length>0?i[0]:null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConversationByUniqueName",value:function(){var e=A.default(D.default.mark((function e(t){var n,r,i,a,o;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ne(this.configuration.links.myConversations).path(t).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,i=r.body,a=i.conversation_sid,o={entityName:null,lastConsumedMessageIndex:i.last_read_message_index,status:(null===i||void 0===i?void 0:i.status)||"unknown",friendlyName:i.friendly_name,dateUpdated:i.date_updated,dateCreated:i.date_created,uniqueName:i.unique_name,createdBy:i.created_by,attributes:i.attributes,channel:i.sync_objects.conversation,notificationLevel:null===i||void 0===i?void 0:i.notification_level,sid:a},e.abrupt("return",a?this._upsertConversation("sync",a,o):null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"peekConversation",value:function(){var e=A.default(D.default.mark((function e(t){var n,r,i,a;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ne(this.configuration.links.conversations).path(t).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,i=r.body,a={entityName:null,status:(null===i||void 0===i?void 0:i.status)||"unknown",friendlyName:i.friendly_name,dateUpdated:i.date_updated,dateCreated:i.date_created,uniqueName:i.unique_name,createdBy:i.created_by,attributes:i.attributes,channel:"".concat(t,".channel"),sid:t},e.abrupt("return",this._upsertConversation("sync",t,a));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getMap",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.syncClient.map({id:this.configuration.myConversations,mode:"open_existing"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_wrapPaginator",value:function(){var e=A.default(D.default.mark((function e(t,n){var r,i=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.items);case 2:return r=e.sent,e.abrupt("return",{items:r,hasNextPage:t.hasNextPage,hasPrevPage:t.hasPrevPage,nextPage:function(){return t.nextPage().then((function(e){return i._wrapPaginator(e,n)}))},prevPage:function(){return t.prevPage().then((function(e){return i._wrapPaginator(e,n)}))}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_updateConversation",value:function(){var e=A.default(D.default.mark((function e(t,n,r){var i,a,o,s=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=void 0!==n._statusSource()&&t!==n._statusSource(),a="rest"!==t||"sync"===n._statusSource(),!i||!a||"sync"===t){e.next=5;break}return ze.trace("upsertConversation: conversation is known from sync and came from chat, ignoring",{sid:n.sid,data:r.status,conversation:n.status}),e.abrupt("return");case 5:if("joined"!==r.status||"joined"===n.status){e.next=13;break}return n._setStatus("joined",t),o={},"undefined"!==typeof r.notificationLevel&&(o.notificationLevel=r.notificationLevel),"undefined"!==typeof r.lastConsumedMessageIndex&&(o.lastConsumedMessageIndex=r.lastConsumedMessageIndex),j.default(o,{})||n._update(o),n._subscribe().then((function(){s.emit("conversationJoined",n)})),e.abrupt("return");case 13:if("notParticipating"!==r.status||"joined"!==n.status){e.next=20;break}return n._setStatus("notParticipating",t),n._update(r),e.next=18,n._subscribe();case 18:return this.emit("conversationLeft",n),e.abrupt("return");case 20:if("notParticipating"!==r.status){e.next=24;break}return e.next=23,n._subscribe();case 23:return e.abrupt("return");case 24:n._update(r);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_upsertConversation",value:function(){var e=A.default(D.default.mark((function e(t,n,r){var i,a,o,s;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze.trace("upsertConversation called for ".concat(n),r),!(i=this.conversations.get(n))){e.next=9;break}return ze.trace("upsertConversation: the conversation ".concat(i.sid," is known;")+"its status is known from the source ".concat(i._statusSource()," ")+"and the update came from the source ".concat(t),i),e.next=6,this._updateConversation(t,i,r);case 6:return e.next=8,i._subscribe();case 8:return e.abrupt("return",i);case 9:if(!["chat","rest"].includes(t)||!this.tombstones.has(n)){e.next=12;break}return ze.trace("upsertChannel: the channel is deleted but reappeared again from chat, ignoring",n),e.abrupt("return",null);case 12:return ze.trace("upsertConversation: creating a local conversation object with sid "+n,r),a="".concat(this.configuration.links.conversations,"/").concat(n),o={self:a,messages:"".concat(a,"/Messages"),participants:"".concat(a,"/Participants")},s=new Be(r,n,o,this.configuration,this.services),this.conversations.set(n,s),e.next=19,s._subscribe();case 19:return this._registerForEvents(s),this.emit("conversationAdded",s),"joined"===r.status&&(s._setStatus("joined",t),this.emit("conversationJoined",s)),e.abrupt("return",s);case 23:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_fetchMyConversations",value:function(){var e=A.default(D.default.mark((function e(){var t,n,r,i,a,o;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=null;case 2:return i=new ne(this.configuration.links.myConversations),n&&i.arg("PageToken",n),e.next=6,this.services.network.get(i.build());case 6:a=e.sent,o=null===(r=a.body)||void 0===r?void 0:r.conversations.map((function(e){return{descriptor:e,channel_sid:e.conversation_sid,status:e.status,channel:e.sync_objects.conversation,messages:e.sync_objects.messages,roster:"".concat(e.conversation_sid,".roster"),lastConsumedMessageIndex:e.last_read_message_index,notificationLevel:e.notification_level}})),n=a.body.meta.next_token,t=[].concat(V.default(t),V.default(o));case 10:if(n){e.next=2;break}case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_onConversationRemoved",value:function(e){var t=this.conversations.get(e);t&&(this.conversations.delete(e),this.emit("conversationRemoved",t))}},{key:"_registerForEvents",value:function(e){var t=this;e.on("removed",(function(){return t._onConversationRemoved(e.sid)})),e.on("updated",(function(e){return t.emit("conversationUpdated",e)})),e.on("participantJoined",(function(e){return t.emit("participantJoined",e)})),e.on("participantLeft",(function(e){return t.emit("participantLeft",e)})),e.on("participantUpdated",(function(e){return t.emit("participantUpdated",e)})),e.on("messageAdded",(function(e){return t.emit("messageAdded",e)})),e.on("messageUpdated",(function(e){return t.emit("messageUpdated",e)})),e.on("messageRemoved",(function(e){return t.emit("messageRemoved",e)})),e.on("typingStarted",(function(e){return t.emit("typingStarted",e)})),e.on("typingEnded",(function(e){return t.emit("typingEnded",e)}))}}]),n}(v.ReplayEventEmitter);function qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}var Ke=function(e){I.default(n,e);var t=qe(n);function n(e,r,i){var a;return L.default(this,n),(a=t.call(this)).configuration=r,a.services=i,a.fifoStack=[],a.myself=e,a.myself.on("updated",(function(e){return a.emit("userUpdated",e)})),a.myself.on("userSubscribed",(function(){return a.emit("userSubscribed",a.myself)})),a.myself.on("userUnsubscribed",(function(){a.emit("userUnsubscribed",a.myself),a.myself._ensureFetched()})),a.subscribedUsers=new Map,a}return O.default(n,[{key:"handleUnsubscribeUser",value:function(e){this.subscribedUsers.has(e.identity)&&this.subscribedUsers.delete(e.identity);var t=0;this.fifoStack.find((function(n,r){return n==e.identity&&(t=r,!0)}))&&this.fifoStack.splice(t,1),this.emit("userUnsubscribed",e)}},{key:"handleSubscribeUser",value:function(e){if(!this.subscribedUsers.has(e.identity)){if(this.fifoStack.length>=this.configuration.userInfosToSubscribe){var t,n,r=this.fifoStack.shift();null===(t=this.subscribedUsers)||void 0===t||null===(n=t.get(r))||void 0===n||n.unsubscribe()}this.fifoStack.push(e.identity),this.subscribedUsers.set(e.identity,e),this.emit("userSubscribed",e)}}},{key:"getUser",value:function(){var e=A.default(D.default.mark((function e(){var t,n,r,i,a=this,o=arguments;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:"",e.next=4,this.myself._ensureFetched();case 4:if(t!=this.myself.identity){e.next=6;break}return e.abrupt("return",this.myself);case 6:if(!(r=this.subscribedUsers.get(t))){e.next=9;break}return e.abrupt("return",r);case 9:if(e.t0=n,e.t0){e.next=14;break}return e.next=13,this.getSyncUniqueName(t);case 13:e.t0=e.sent;case 14:return n=e.t0,(i=new se(t,n,this.configuration,this.services)).on("updated",(function(e){return a.emit("userUpdated",e)})),i.on("userSubscribed",(function(){return a.handleSubscribeUser(i)})),i.on("userUnsubscribed",(function(){return a.handleUnsubscribeUser(i)})),e.next=21,i._ensureFetched();case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSubscribedUsers",value:function(){var e=A.default(D.default.mark((function e(){var t;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.myself._ensureFetched();case 2:return t=[this.myself],this.subscribedUsers.forEach((function(e){return t.push(e)})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSyncUniqueName",value:function(){var e=A.default(D.default.mark((function e(t){var n,r,i,a;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new ne(this.configuration.links.users).path(t).build(),e.next=3,this.services.network.get(i);case 3:return a=e.sent,e.abrupt("return",null!==(n=null===(r=a.body)||void 0===r?void 0:r.sync_objects.user_info_map)&&void 0!==n?n:"");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(v.ReplayEventEmitter),Ye=G.scope("TypingIndicator"),Xe=function(){function e(t,n,r){L.default(this,e),this.configuration=n,this.services=r,this.getConversation=t,this.serviceTypingTimeout=null,this.sentUpdates=new Map}return O.default(e,[{key:"typingTimeout",get:function(){return this.configuration.typingIndicatorTimeoutOverride||this.serviceTypingTimeout||this.configuration.typingIndicatorTimeoutDefault}},{key:"initialize",value:function(){var e=this;this.services.notificationClient.on("message",function(){var t=A.default(D.default.mark((function t(n,r){return D.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==de.TYPING_INDICATOR){t.next=3;break}return t.next=3,e._handleRemoteTyping(r);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"_handleRemoteTyping",value:function(){var e=A.default(D.default.mark((function e(t){var n=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ye.trace("Got new typing indicator ",t),this.getConversation(t.channel_sid).then((function(e){e&&e.participants.forEach((function(e){if(e.identity===t.identity){var r=n.configuration.typingIndicatorTimeoutOverride?n.configuration.typingIndicatorTimeoutOverride+1e3:1e3*t.typing_timeout;e._startTyping(r)}}))})).catch((function(e){throw Ye.error(e),e}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(e){var t=this.sentUpdates.get(e);return t&&t>Date.now()-this.typingTimeout?Promise.resolve():(this.sentUpdates.set(e,Date.now()),this._send(e))}},{key:"_send",value:function(e){var t=this;Ye.trace("Sending typing indicator");var n=this.configuration.links.typing,r="ChannelSid=".concat(e);return this.services.twilsockClient.post(n,{"Content-Type":"application/x-www-form-urlencoded"},r,this.configuration.productId).then((function(e){e.body.hasOwnProperty("typing_timeout")&&(t.serviceTypingTimeout=1e3*e.body.typing_timeout)})).catch((function(e){throw Ye.error("Failed to send typing indicator:",e),e}))}}]),e}(),Qe=function e(t){L.default(this,e),this.title=t.title||null,this.body=t.body||null,this.sound=t.sound||null,this.badge=t.badge||null,this.action=t.action||null,this.type=t.type||null,this.data=t.data||{}};function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){M.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var et,tt,nt,rt=function(e){return e.replace(/(^\/+|\/+$)/g,"")},it=function(){function e(t,n,r){L.default(this,e),this._serviceUrl=t,this._services=n,this._productId=r}return O.default(e,[{key:"_preProcessUrl",value:function(e){var t=rt(e);return/^https?:\/\//.test(e)?t:"".concat(rt(this._serviceUrl),"/").concat(t)}},{key:"_makeRequest",value:function(){var e=A.default(D.default.mark((function e(t,n,r,i){var a,o,s,u;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this._preProcessUrl(n),o=$e({"Content-Type":"application/json; charset=utf-8"},i||{}),e.t0=t,e.next="get"===e.t0?5:"post"===e.t0?11:"delete"===e.t0?15:19;break;case 5:return u=a,r&&(u+="?"+Object.entries(r).map((function(e){return e.map(encodeURIComponent).join("=")})).join("&")),e.next=9,this._services.transport.get(u,o,this._productId);case 9:case 13:case 17:return s=e.sent,e.abrupt("break",19);case 11:return e.next=13,this._services.transport.post(a,o,JSON.stringify(r),this._productId);case 15:return e.next=17,this._services.transport.delete(a,o,{},this._productId);case 19:if(!(s.status.code<200||s.status.code>=300)){e.next=21;break}throw new Error("Request responded with a non-success code ".concat(s.status.code));case 21:return e.abrupt("return",s);case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"fetchResource",value:function(){var e=A.default(D.default.mark((function e(t,n){var r,i=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6,e.prev=1,e.next=4,new b.AsyncRetrier({min:50,max:1600,maxAttemptsCount:6}).run((function(){return i._makeRequest("get",t,n)}));case 4:return r=e.sent,e.abrupt("return",r.body);case 8:throw e.prev=8,e.t0=e.catch(1),new Error('Fetch resource from "'.concat(t,'" failed.'));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mutateResource",value:function(){var e=A.default(D.default.mark((function e(t,n,r){var i;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._makeRequest(t,n,r,{"X-Twilio-Mutation-Id":E.v4()});case 2:if(i=e.sent,202!==i.status.code){e.next=7;break}return e.next=6,this.fetchResource(i.body.resource_url);case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",i.body);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}();function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){M.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}var ut=G.scope("Client"),ct="2.1.0",lt=function e(){L.default(this,e)};t.KU=(tt=et=function(e){I.default(n,e);var t=st(n);function n(e){var r,i,a,o,s,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(L.default(this,n),u=t.call(this),M.default(R.default(u),"connectionState","unknown"),M.default(R.default(u),"version",ct),M.default(R.default(u),"parsePushNotification",nt.parsePushNotification),u.fpaToken=null!==e&&void 0!==e?e:"",u.options=null!==c&&void 0!==c?c:{},!u.options.disableDeepClone){var l=ot(ot({},u.options),{},{transport:void 0,twilsockClient:void 0});(l=J(l)).transport=u.options.transport,l.twilsockClient=u.options.twilsockClient,u.options=l}u.options.logLevel=null!==(r=u.options.logLevel)&&void 0!==r?r:"silent",ut.setLevel(u.options.logLevel);var d=u.options.productId="ip_messaging";if(u.options.clientMetadata=u.options.clientMetadata||{},u.options.clientMetadata.hasOwnProperty("type")||(u.options.clientMetadata.type="conversations"),u.options.clientMetadata.hasOwnProperty("sdk")||(u.options.clientMetadata.sdk="JS",u.options.clientMetadata.sdkv=ct),u.options.Sync=u.options.Sync||{},"undefined"===typeof u.options.Sync.enableSessionStorage&&(u.options.Sync.enableSessionStorage=!0),u.options.region&&(u.options.Sync.region=u.options.region),!e)throw new Error("A valid Twilio token should be provided");u.services=new lt,u._myself=new se("","",null,u.services);var f=!u.options.twilsockClient;if(!u.options.initRegistrations){var p=new w.InitRegistration(d);nt.populateInitRegistrations(p),u.options.initRegistrations=[p]}u.services.twilsockClient=u.options.twilsockClient=null!==(i=u.options.twilsockClient)&&void 0!==i?i:new w.TwilsockClient(e,d,u.options),u.services.twilsockClient.on("tokenAboutToExpire",(function(e){return u.emit("tokenAboutToExpire",e)})),u.services.twilsockClient.on("tokenExpired",(function(){return u.emit("tokenExpired")})),u.services.twilsockClient.on("connectionError",(function(e){return u.emit("connectionError",e)})),u.services.twilsockClient.on("stateChanged",(function(e){ut.debug("Handling stateChanged for ConversationsClient: new state ".concat(e)),e!==u.connectionState&&(u.connectionState=e,u.emit("connectionStateChanged",u.connectionState))})),u.services.transport=u.options.transport=null!==(a=u.options.transport)&&void 0!==a?a:u.options.twilsockClient,u.services.notificationClient=u.options.notificationsClient=null!==(o=u.options.notificationsClient)&&void 0!==o?o:new k.Notifications(e,u.options),u.services.syncClient=u.options.syncClient=null!==(s=u.options.syncClient)&&void 0!==s?s:new x.SyncClient(e,u.options);var h=(null===c||void 0===c?void 0:c.Chat)||(null===c||void 0===c?void 0:c.IPMessaging)||c||{},m=h.region||(null===c||void 0===c?void 0:c.region),v=h.apiUri||h.typingUri||"https://aim.".concat(m||"us1",".twilio.com");u.services.commandExecutor=new it(v,{transport:u.options.transport},d);var g=function(e){u._rejectEnsureReady(e),u.emit("stateChanged","failed")};return u.services.twilsockClient.once("connectionError",g),u.services.twilsockClient.once("disconnected",g),u.services.twilsockClient.once("connected",A.default(D.default.mark((function e(){var t;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ut.debug("ConversationsClient started INITIALIZING"),u.services.twilsockClient.off("connectionError",g),u.services.twilsockClient.off("disconnected",g),e.prev=3,t="conversations.client.startup",u.services.twilsockClient.addPartialTelemetryEvent(new w.TelemetryEventDescription(t,"Conversations client startup",new Date),t,w.TelemetryPoint.Start),e.next=8,u._initialize();case 8:u.services.twilsockClient.addPartialTelemetryEvent(new w.TelemetryEventDescription("","",new Date),t,w.TelemetryPoint.End),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),u._rejectEnsureReady(e.t0),u.emit("stateChanged","failed");case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))),u._ensureReady=new Promise((function(e,t){u._resolveEnsureReady=e,u._rejectEnsureReady=t})).catch((function(){})),f&&u.services.twilsockClient.connect(),u}return O.default(n,[{key:"user",get:function(){return this._myself}},{key:"reachabilityEnabled",get:function(){if(!this.configuration)throw new Error("Reachability information could not yet be accessed as the client has not yet been initialized. Subscribe to the 'stateChanged' event to properly react to the client initialization.");return this.configuration.reachabilityEnabled}},{key:"token",get:function(){return this.fpaToken}},{key:"_subscribeToPushNotifications",value:function(e){var t=this;[de.NEW_MESSAGE,de.ADDED_TO_CONVERSATION,de.REMOVED_FROM_CONVERSATION,de.TYPING_INDICATOR,de.CONSUMPTION_UPDATE].forEach((function(n){t.services.notificationClient.subscribe(e,n)}))}},{key:"_unsubscribeFromPushNotifications",value:function(e){var t=this;[de.NEW_MESSAGE,de.ADDED_TO_CONVERSATION,de.REMOVED_FROM_CONVERSATION,de.TYPING_INDICATOR,de.CONSUMPTION_UPDATE].forEach((function(n){t.services.notificationClient.unsubscribe(e,n)}))}},{key:"_initialize",value:function(){var e=A.default(D.default.mark((function e(){var t,n=this;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.fetchResource("Client/v2/Configuration");case 2:return t=e.sent,this.configuration=new Q(this.options,t,ut),this._myself._resolveInitialization(this.configuration,this.configuration.userIdentity,this.configuration.userInfo,!0),this.services.typingIndicator=new Xe(this.getConversationBySid.bind(this),this.configuration,this.services),this.services.network=new le(this.configuration,this.services),this.services.users=new Ke(this._myself,this.configuration,this.services),this.services.users.on("userSubscribed",(function(e){n.emit("userSubscribed",e)})),this.services.users.on("userUpdated",(function(e){return n.emit("userUpdated",e)})),this.services.users.on("userUnsubscribed",(function(e){n.emit("userUnsubscribed",e)})),this.conversations=new Ge(this.configuration,this.services),this.conversations.on("conversationAdded",(function(e){n.emit("conversationAdded",e)})),this.conversations.on("conversationRemoved",(function(e){n.emit("conversationRemoved",e)})),this.conversations.on("conversationJoined",(function(e){n.emit("conversationJoined",e)})),this.conversations.on("conversationLeft",(function(e){n.emit("conversationLeft",e)})),this.conversations.on("conversationUpdated",(function(e){return n.emit("conversationUpdated",e)})),this.conversations.on("participantJoined",(function(e){n.emit("participantJoined",e)})),this.conversations.on("participantLeft",(function(e){n.emit("participantLeft",e)})),this.conversations.on("participantUpdated",(function(e){return n.emit("participantUpdated",e)})),this.conversations.on("messageAdded",(function(e){return n.emit("messageAdded",e)})),this.conversations.on("messageUpdated",(function(e){return n.emit("messageUpdated",e)})),this.conversations.on("messageRemoved",(function(e){return n.emit("messageRemoved",e)})),this.conversations.on("typingStarted",(function(e){return n.emit("typingStarted",e)})),this.conversations.on("typingEnded",(function(e){return n.emit("typingEnded",e)})),this.conversationsPromise=this.conversations.fetchConversations().then((function(){return n.conversations})).catch((function(e){throw e})),e.next=28,this.services.users.myself._ensureFetched();case 28:nt.supportedPushChannels.forEach((function(e){return n._subscribeToPushNotifications(e)})),this.services.typingIndicator.initialize(),this.services.mcsClient=new _.McsClient(this.fpaToken,this.configuration.links.mediaService,this.configuration.links.mediaSetService,ot(ot({},this.options),{},{transport:void 0})),this._resolveEnsureReady(),this.emit("stateChanged","initialized");case 33:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shutdown",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.next=4,this.services.twilsockClient.disconnect();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateToken",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:if(ut.info("updateToken"),this.fpaToken!==t){e.next=5;break}return e.abrupt("return",this);case 5:return e.next=7,this.services.twilsockClient.updateToken(t);case 7:return e.next=9,this.services.notificationClient.updateToken(t);case 9:return e.next=11,this.services.mcsClient.updateToken(t);case 11:return this.fpaToken=t,e.abrupt("return",this);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConversationBySid",value:function(){var e=A.default(D.default.mark((function e(t){var n;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.next=4,this.conversations.myConversationsRead.promise;case 4:return e.next=6,this.conversations.getConversation(t);case 6:if(n=e.sent){e.next=11;break}return e.next=10,this.conversations.peekConversation(t);case 10:n=e.sent;case 11:if(n){e.next=13;break}throw new Error("Conversation with SID ".concat(t," is not found."));case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConversationByUniqueName",value:function(){var e=A.default(D.default.mark((function e(t){var n;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.next=4,this.conversations.myConversationsRead.promise;case 4:return e.next=6,this.conversations.getConversationByUniqueName(t);case 6:if(n=e.sent){e.next=9;break}throw new Error("Conversation with unique name ".concat(t," is not found."));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubscribedConversations",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.abrupt("return",this.conversationsPromise.then((function(e){return e.getConversations()})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createConversation",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return t=t||{},e.abrupt("return",this.conversationsPromise.then((function(e){return e.addConversation(t)})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPushRegistrationId",value:function(){var e=A.default(D.default.mark((function e(t,n){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return this._subscribeToPushNotifications(t),this.services.notificationClient.setPushRegistrationId(t,n),e.next=6,this.services.notificationClient.commitChanges();case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unsetPushRegistrationId",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return this._unsubscribeFromPushNotifications(t),e.next=5,this.services.notificationClient.commitChanges();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removePushRegistrations",value:function(){var e=A.default(D.default.mark((function e(t,n){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.notificationClient.removeRegistrations(t,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handlePushNotification",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:ut.debug("handlePushNotification, notificationPayload=",t),this.emit("pushNotification",nt.parsePushNotification(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=A.default(D.default.mark((function e(t){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.abrupt("return",this.services.users.getUser(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubscribedUsers",value:function(){var e=A.default(D.default.mark((function e(){return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.abrupt("return",this.services.users.getSubscribedUsers());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"populateInitRegistrations",value:function(e){e.populateInitRegistrations([de.TYPING_INDICATOR]),x.SyncClient.populateInitRegistrations(e)}},{key:"create",value:function(){var e=A.default(D.default.mark((function e(t,n){var r;return D.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.twilsockClient){e.next=2;break}throw new Error("Obsolete usage of ConversationsClient.create() factory method: if you pass twilsock from the outside then you must use ConversationsClient constructor and be prepared to work with uninitialized client.");case 2:return r=new nt(t,n),e.next=5,r._ensureReady;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parsePushNotificationChatData",value:function(e){var t={};for(var n in nt.supportedPushDataFields)"undefined"!==typeof e[n]&&null!==e[n]&&("message_index"===n?null!==$(e[n])&&(t[nt.supportedPushDataFields[n]]=Number(e[n])):t[nt.supportedPushDataFields[n]]=e[n]);return t}},{key:"parsePushNotification",value:function(e){if(ut.debug("parsePushNotification, notificationPayload=",e),"undefined"!==typeof e.aps){if(!e.twi_message_type)throw new Error("Provided push notification payload does not contain Programmable Chat push notification type");var t,n=nt.parsePushNotificationChatData(e),r=e.aps,i=null;return"string"===typeof r.alert?t=r.alert||null:(t=r.alert.body||null,i=r.alert.title||null),new Qe({title:i,body:t,sound:r.sound||null,badge:r.badge||null,action:r.category||null,type:e.twi_message_type,data:n})}if("undefined"!==typeof e.data){var a=e.data;if(!a.twi_message_type)throw new Error("Provided push notification payload does not contain Programmable Chat push notification type");var o=nt.parsePushNotificationChatData(e.data);return new Qe({title:a.twi_title||null,body:a.twi_body||null,sound:a.twi_sound||null,badge:null,action:a.twi_action||null,type:a.twi_message_type,data:o})}throw new Error("Provided push notification payload is not Programmable Chat notification")}}]),n}(v.ReplayEventEmitter),M.default(et,"version",ct),M.default(et,"supportedPushChannels",["fcm","apn"]),M.default(et,"supportedPushDataFields",{conversation_sid:"conversationSid",message_sid:"messageSid",message_index:"messageIndex"}),M.default(et,"conversationAdded","conversationAdded"),M.default(et,"conversationJoined","conversationJoined"),M.default(et,"conversationLeft","conversationLeft"),M.default(et,"conversationRemoved","conversationRemoved"),M.default(et,"conversationUpdated","conversationUpdated"),M.default(et,"participantJoined","participantJoined"),M.default(et,"participantLeft","participantLeft"),M.default(et,"participantUpdated","participantUpdated"),M.default(et,"messageAdded","messageAdded"),M.default(et,"messageRemoved","messageRemoved"),M.default(et,"messageUpdated","messageUpdated"),M.default(et,"tokenAboutToExpire","tokenAboutToExpire"),M.default(et,"tokenExpired","tokenExpired"),M.default(et,"typingEnded","typingEnded"),M.default(et,"typingStarted","typingStarted"),M.default(et,"pushNotification","pushNotification"),M.default(et,"userSubscribed","userSubscribed"),M.default(et,"userUnsubscribed","userUnsubscribed"),M.default(et,"userUpdated","userUpdated"),M.default(et,"stateChanged","stateChanged"),M.default(et,"connectionStateChanged","connectionStateChanged"),M.default(et,"connectionError","connectionError"),nt=tt),U([m.validateTypesAsync(m.nonEmptyString),W("design:type",Function),W("design:paramtypes",[String]),W("design:returntype",Promise)],t.KU.prototype,"updateToken",null),U([m.validateTypesAsync(m.nonEmptyString),W("design:type",Function),W("design:paramtypes",[String]),W("design:returntype",Promise)],t.KU.prototype,"getConversationBySid",null),U([m.validateTypesAsync(m.nonEmptyString),W("design:type",Function),W("design:paramtypes",[String]),W("design:returntype",Promise)],t.KU.prototype,"getConversationByUniqueName",null),U([m.validateTypesAsync(["undefined",m.objectSchema("conversation options",{friendlyName:["string","undefined"],isPrivate:["boolean","undefined"],uniqueName:["string","undefined"]})]),W("design:type",Function),W("design:paramtypes",[Object]),W("design:returntype",Promise)],t.KU.prototype,"createConversation",null),U([m.validateTypesAsync(m.literal("fcm","apn"),"string"),W("design:type",Function),W("design:paramtypes",[String,String]),W("design:returntype",Promise)],t.KU.prototype,"setPushRegistrationId",null),U([m.validateTypesAsync(m.literal("fcm","apn")),W("design:type",Function),W("design:paramtypes",[String]),W("design:returntype",Promise)],t.KU.prototype,"unsetPushRegistrationId",null),U([m.validateTypesAsync(m.literal("fcm","apn"),m.nonEmptyString),W("design:type",Function),W("design:paramtypes",[String,String]),W("design:returntype",Promise)],t.KU.prototype,"removePushRegistrations",null),U([m.validateTypesAsync(m.pureObject),W("design:type",Function),W("design:paramtypes",[Object]),W("design:returntype",Promise)],t.KU.prototype,"handlePushNotification",null),U([m.validateTypesAsync(m.nonEmptyString),W("design:type",Function),W("design:paramtypes",[String]),W("design:returntype",Promise)],t.KU.prototype,"getUser",null),U([m.validateTypesAsync("string",["undefined",m.pureObject]),W("design:type",Function),W("design:paramtypes",[String,Object]),W("design:returntype",Promise)],t.KU,"create",null),U([m.validateTypes(m.pureObject),W("design:type",Function),W("design:paramtypes",[Object]),W("design:returntype",Qe)],t.KU,"parsePushNotification",null),t.KU=nt=U([m.validateConstructorTypes(m.nonEmptyString,[m.pureObject,"undefined"]),W("design:paramtypes",[String,Object])],t.KU)},1263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(49258),n(65202),n(89104),n(59147),n(18116),n(4772),n(85625),n(18887),n(81740);var r=n(18698);n(44105),n(30974);var i=n(27424);n(99238),n(4778),n(44584);var a=n(861),o=n(56690),s=n(61655),u=n(94993),c=n(73808);function l(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}n(68225),n(67675);var d=l(r),f=l(i),p=l(a),h=l(o),m=l(s),v=l(u),g=l(c),y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{checks:t}};function b(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y((function(e){var n,r=!1,i=[],a=b(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;"string"!==typeof o?(r=r||e instanceof o,i.push("an instance of ".concat(o.name))):(r=r||d.default(e)===o,i.push("of type ".concat(o)))}}catch(s){a.e(s)}finally{a.f()}return[r,i]}))};function x(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=y((function(e){return["string"===typeof e&&e.length>0,"a non-empty string"]})),E=y((function(e){return["number"===typeof e&&Number.isInteger(e)&&e>=0,"a non-negative integer"]})),C=y((function(e){return["object"===d.default(e)&&null!==e&&!Array.isArray(e),"a pure object (non-null and non-array)"]}));function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g.default(e);if(t){var i=g.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v.default(this,n)}}function A(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e,t){if(t.length>e.length)throw new Error("Expected at most ".concat(e.length," argument(s), but got ").concat(t.length));for(;t.length<e.length;)t.push(void 0);var n,r=A(t.entries());try{for(r.s();!(n=r.n()).done;){var i=f.default(n.value,2),a=i[0],o=i[1],s=M(e[a],o),u=f.default(s,4),c=u[0],l=u[1],d=u[2],p=u[3];if(!c)throw new Error("Argument ".concat(a+1," is expected to be ").concat(d).concat(p," but got ").concat(l))}}catch(h){r.e(h)}finally{r.f()}},I=function(e){var t,n,r;(["undefined","boolean","number","bigint","string"].includes(d.default(e))&&(n="string"===typeof e?'"'.concat(e,'"'):"".concat(e)),"object"===d.default(e)&&"Object"!==(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name))&&(n=null===e?"null":"instance of ".concat(null===e||void 0===e||null===(r=e.constructor)||void 0===r?void 0:r.name));return n||(n=d.default(e)),n},N=function(e){var t,n=[],r=A(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(P(i))}}catch(a){r.e(a)}finally{r.f()}return n},P=function(e){var t,n=[],r=A(Array.isArray(e)?e:[e]);try{for(r.s();!(t=r.n()).done;){var i=t.value;"string"!==typeof i&&"function"!==typeof i?n.push(i):n.push(k(i))}}catch(a){r.e(a)}finally{r.f()}return n},M=function(e,t){var n,r,i=[],a=!1,o=A(e);try{for(o.s();!(r=o.n()).done;){var s,u=A(r.value.checks);try{for(u.s();!(s=u.n()).done;){var c=(0,s.value)(t),l=f.default(c,3),d=l[0],h=l[1],m=l[2];a=a||d,!n&&m&&(n=m),h&&(i=[].concat(p.default(i),"string"===typeof h?[h]:p.default(h)))}}catch(y){u.e(y)}finally{u.f()}}}catch(y){o.e(y)}finally{o.f()}if(a)return[!0];var v=n||I(t),g=i.length-1;return[!1,v,g>0?"".concat(i.slice(0,g).join(", ")," or ").concat(i[g]):i.join(", "),g>1?";":","]};function L(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.array=function(e,t){return y((function(n){if(!Array.isArray(n))return[!1,"an array of ".concat(e)];var r,i=L(n.entries());try{for(i.s();!(r=i.n()).done;){var a=f.default(r.value,2),o=a[0],s=a[1],u=M(P(t),s),c=f.default(u,3),l=c[0],d=c[1],p=c[2];if(!l)return[!1,"a valid array of ".concat(e," (index ").concat(o," should be ").concat(p,")"),"malformed array of ".concat(e," (index ").concat(o," is ").concat(d,")")]}}catch(h){i.e(h)}finally{i.f()}return[!0]}))},t.custom=y,t.literal=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y((function(e){var n,r=!1,i=[],a=x(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;r=r||e===o,i.push("string"===typeof o?'"'.concat(o,'"'):"".concat(o))}}catch(s){a.e(s)}finally{a.f()}return[r,i]}))},t.nonEmptyString=S,t.nonNegativeInteger=E,t.objectSchema=function(e,t){return y((function(n){if("object"!==d.default(n)||null===n||Array.isArray(n))return[!1,"valid ".concat(e," (should be a pure object)")];for(var r=0,i=Object.entries(t);r<i.length;r++){var a=f.default(i[r],2),o=a[0],s=a[1],u=M(P(s),n[o]),c=f.default(u,3),l=c[0],p=c[1],h=c[2];if(!l)return[!1,"valid ".concat(e,' (key "').concat(o,'" should be ').concat(h,")"),"malformed ".concat(e,' (key "').concat(o,'" is ').concat(p,")")]}return[!0]}))},t.pureObject=C,t.runtimeTypeValidation=R,t.stringifyReceivedType=I,t.type=k,t.validateConstructorTypes=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N(t);return function(e){return function(e){m.default(n,e);var t=T(n);function n(){h.default(this,n);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return R(r,i),t.call.apply(t,[this].concat(i))}return n}(e)}},t.validateTypes=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N(t);return function(e,t,n){if("function"!==typeof n.value)throw new Error("The validateTypes decorator can only be applied to methods");var i=n.value;n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return R(r,t),i.apply(this,t)}}},t.validateTypesAsync=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N(t);return function(e,t,n){if("function"!==typeof n.value)throw new Error("The validateTypesAsync decorator can only be applied to methods");var i=n.value;n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];try{R(r,t)}catch(a){return Promise.reject(a)}return i.apply(this,t)}}}},56491:function(e,t,n){"use strict";var r=n(61655).default,i=n(26389).default,a=n(33496).default,o=n(56690).default,s=n(89728).default,u="undefined"!==typeof u?u:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};Object.defineProperty(t,"__esModule",{value:!0});var c=n(17156),l=n(38416);n(67675);var d=n(64687);n(89104);var f=n(62895);n(50288),n(2603),n(20447),n(52872),n(83265),n(18887),n(81740),n(49798);var p=n(8645),h=n(1263);function m(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var g=m(c),y=m(l),b=m(d),w=v(f);function k(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function x(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function _(e,t){return["".concat((new Date).toISOString()," MCS Client ").concat(e,":")].concat(Array.from(t))}var S=function(){function e(t){o(this,e),y.default(this,"prefix",""),this.prefix=null!==t&&void 0!==t&&t.length>0?t+" ":""}return s(e,[{key:"setLevel",value:function(e){w.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];w.trace.apply(null,_(this.prefix+"T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];w.debug.apply(null,_(this.prefix+"D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];w.info.apply(null,_(this.prefix+"I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];w.warn.apply(null,_(this.prefix+"W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];w.error.apply(null,_(this.prefix+"E",t))}}],[{key:"scope",value:function(t){return new e(t)}},{key:"setLevel",value:function(e){w.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];w.trace.apply(null,_("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];w.debug.apply(null,_("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];w.info.apply(null,_("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];w.warn.apply(null,_("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];w.error.apply(null,_("E",t))}}]),e}(),E=function(e,t){return"".concat((n=e,n.startsWith("http")?"":function(e){return"https://mcs.".concat(null!==e&&void 0!==e?e:"us1",".twilio.com")}(t))).concat(e);var n},C=function(){function e(t,n,r,i){var a,s,u,c,l,d;o(this,e);var f=null!==(a=null!==(s=i.MCS)&&void 0!==s?s:i)&&void 0!==a?a:{};this.region=null!==(u=null!==(c=f.region)&&void 0!==c?c:i.region)&&void 0!==u?u:"us1",this.mediaUrl=E(n,this.region),this.mediaSetUrl=r?E(r):"".concat(this.mediaUrl,"Set"),this.token=t,this.retryWhenThrottledOverride=null===(l=f.retryWhenThrottledOverride)||void 0===l||l,this.backoffConfigOverride=null!==(d=f.backoffConfigOverride)&&void 0!==d?d:e.backoffConfigDefault}return s(e,[{key:"updateToken",value:function(e){this.token=e}}],[{key:"backoffConfigDefault",get:function(){return{min:1e3,max:4e3,maxAttemptsCount:3}}},{key:"retryWhenThrottledDefault",get:function(){return true}}]),e}(),T=function(){function e(t,n,r){o(this,e),this.config=t,this.network=n,this._update(r)}return s(e,[{key:"sid",get:function(){return this.state.sid}},{key:"serviceSid",get:function(){return this.state.serviceSid}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"contentType",get:function(){return this.state.contentType}},{key:"size",get:function(){return this.state.size}},{key:"fileName",get:function(){return this.state.filename}},{key:"filename",get:function(){return this.state.filename}},{key:"category",get:function(){return this.state.category}},{key:"getContentUrl",value:function(){var e=this;return g.default(b.default.mark((function t(){var n;return b.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.network.get("".concat(e.config.mediaUrl,"/").concat(e.sid));case 2:return n=t.sent,e._update(n.body),t.abrupt("return",Promise.resolve(e.state.contentDirectUrl));case 5:case"end":return t.stop()}}),t)})))()}},{key:"getCachedContentUrl",value:function(){var e=this;return g.default(b.default.mark((function t(){return b.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.contentDirectUrl){t.next=2;break}return t.abrupt("return",Promise.resolve(e.state.contentDirectUrl));case 2:return t.next=4,e.getContentUrl();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()}},{key:"_update",value:function(e){var t,n,r,i;this.state={sid:e.sid,serviceSid:e.service_sid,channelSid:e.channel_sid,messageSid:e.message_sid,dateCreated:e.date_created?new Date(e.date_created):null,dateUploadUpdated:e.date_upload_updated?new Date(e.date_upload_updated):null,dateUpdated:e.date_updated?new Date(e.date_updated):null,size:e.size,contentType:e.content_type,author:e.author,url:e.url,contentUrl:e.links.content,contentDirectUrl:null!==(t=e.links.content_direct_temporary)&&void 0!==t?t:null,filename:null!==(n=e.filename)&&void 0!==n?n:null,category:null!==(r=e.category)&&void 0!==r?r:"media",isMultipartUpstream:null!==(i=e.is_multipart_upstream)&&void 0!==i&&i}}}]),e}(),A=function(e){r(n,e);var t=i(n);function n(e,r,i,a,s){var u;return o(this,n),(u=t.call(this,e)).code=r,u.body=i,u.status=a,u.headers=s,u}return s(n)}(a(Error)),O=u.XMLHttpRequest||{};function R(e){var t=e.getResponseHeader("Content-Type");if(!t||0!==t.indexOf("application/json")||0===e.responseText.length)return e.responseText;try{return JSON.parse(e.responseText)}catch(n){return e.responseText}}var I,N,P=function(){function e(){o(this,e)}return s(e,[{key:"get",value:function(t,n){return g.default(b.default.mark((function r(){return b.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.request("GET",t,n));case 1:case"end":return r.stop()}}),r)})))()}},{key:"post",value:function(t,n,r){return g.default(b.default.mark((function i(){return b.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",e.request("POST",t,n,r));case 1:case"end":return i.stop()}}),i)})))()}}],[{key:"request",value:function(e,t,n,r){return g.default(b.default.mark((function i(){return b.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(i,a){var o=new O;for(var s in o.open(e,t,!0),o.onreadystatechange=function(){if(4===o.readyState){var e,t=(e=o.getAllResponseHeaders())?e.split("\r\n").map((function(e){return e.split(": ")})).filter((function(e){return 2===e.length&&e[1].length>0})).reduce((function(e,t){return e[t[0]]=t[1],e}),{}):{},n=R(o);if(200<=o.status&&o.status<300)i({status:o.status,headers:t,body:n});else{var r,s,u=null!==(r=o.statusText)&&void 0!==r?r:"NONE";s="string"===typeof n?n&&1===n.split("\n",2).length?n:"":JSON.stringify(n);var c="".concat(o.status,": [").concat(u,"] ").concat(s);a(new A(c,o.status,n,u,t))}}},n)o.setRequestHeader(s,n[s]),"Content-Type"===s&&"application/json"===n[s]&&(r=JSON.stringify(r));o.send(r)})));case 1:case"end":return i.stop()}}),i)})))()}}]),e}(),M=S.scope("Network"),L=function(){function e(t,n){o(this,e),this.config=t,this.transport=n}return s(e,[{key:"backoffConfig",value:function(){return Object.assign(C.backoffConfigDefault,this.config.backoffConfigOverride)}},{key:"retryWhenThrottled",value:function(){var e,t;return null!==(e=null!==(t=this.config.retryWhenThrottledOverride)&&void 0!==t?t:C.retryWhenThrottledDefault)&&void 0!==e&&e}},{key:"executeWithRetry",value:function(e,t){var n=this;return g.default(b.default.mark((function r(){return b.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,i){var a=[502,503,504];t&&a.push(429);var o=new p.Retrier(n.backoffConfig());o.on("attempt",g.default(b.default.mark((function t(){var n;return b.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:n=t.sent,o.succeeded(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a.indexOf(t.t0.status)>-1||"Twilsock disconnected"===t.t0.message?o.failed(t.t0):(o.removeAllListeners(),o.cancel(),i(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),o.on("succeeded",(function(e){r(e)})),o.on("cancelled",(function(e){return i(e)})),o.on("failed",(function(e){return i(e)})),o.start()})));case 1:case"end":return r.stop()}}),r)})))()}},{key:"get",value:function(e){var t=this;return g.default(b.default.mark((function n(){var r,i;return b.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={"X-Twilio-Token":t.config.token},M.trace("sending GET request to ",e," headers ",r),n.prev=2,n.next=5,t.executeWithRetry((function(){return t.transport.get(e,r)}),t.retryWhenThrottled());case 5:return i=n.sent,M.trace("response",i),n.abrupt("return",i);case 10:throw n.prev=10,n.t0=n.catch(2),M.debug("get() error ".concat(n.t0)),n.t0;case 14:case"end":return n.stop()}}),n,null,[[2,10]])})))()}},{key:"post",value:function(e,t,n,r,i){var a=this;return g.default(b.default.mark((function o(){var s,c,l;return b.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s={"X-Twilio-Token":a.config.token},"undefined"!==typeof FormData&&n instanceof FormData||!r||Object.assign(s,{"Content-Type":r}),c=new URL(e),t&&c.searchParams.append("Category",t),i&&c.searchParams.append("Filename",i),M.trace("sending POST request to ".concat(e," with headers ").concat(s)),o.prev=6,o.next=9,a.transport.post(c.href,s,n);case 9:l=o.sent,o.next=18;break;case 12:if(o.prev=12,o.t0=o.catch(6),!(void 0===u.XMLHttpRequest&&n instanceof FormData)){o.next=16;break}throw new TypeError("Posting FormData supported only with browser engine's FormData");case 16:throw M.debug("post() error ".concat(o.t0)),o.t0;case 18:return M.trace("response",l),o.abrupt("return",l);case 20:case"end":return o.stop()}}),o,null,[[6,12]])})))()}}]),e}(),D=S.scope("");t.default=(N=I=function(){function e(t,n,r){var i,a;o(this,e);var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.options=s,this.options.logLevel=null!==(i=this.options.logLevel)&&void 0!==i?i:"silent",this.config=new C(t,n,r,this.options),D.setLevel(this.options.logLevel),this.options.transport=null!==(a=this.options.transport)&&void 0!==a?a:new P,this.transport=this.options.transport,this.network=new L(this.config,this.transport)}return s(e,[{key:"updateToken",value:function(e){D.info("updateToken"),this.config.updateToken(e)}},{key:"get",value:function(e){var t=this;return g.default(b.default.mark((function n(){var r;return b.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.network.get("".concat(t.config.mediaUrl,"/").concat(e));case 2:return r=n.sent,n.abrupt("return",new T(t.config,t.network,r.body));case 4:case"end":return n.stop()}}),n)})))()}},{key:"post",value:function(e,t,n,r){var i=this;return g.default(b.default.mark((function a(){var o;return b.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.network.post(i.config.mediaUrl,null!==n&&void 0!==n?n:"media",t,e,r);case 2:return o=a.sent,a.abrupt("return",new T(i.config,i.network,o.body));case 4:case"end":return a.stop()}}),a)})))()}},{key:"postFormData",value:function(e,t){var n=this;return g.default(b.default.mark((function r(){var i;return b.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.network.post(n.config.mediaUrl,null!==t&&void 0!==t?t:"media",e);case 2:return i=r.sent,r.abrupt("return",new T(n.config,n.network,i.body));case 4:case"end":return r.stop()}}),r)})))()}},{key:"mediaSetGet",value:function(e){var t=this;return g.default(b.default.mark((function n(){var r,i;return b.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={command:"get",list:e.map((function(e){return{media_sid:e}}))},n.next=3,t.network.post("".concat(t.config.mediaSetUrl),null,r,"application/json");case 3:return i=n.sent,n.abrupt("return",i.body.map((function(e){if(200!==e.code)throw new Error("Failed to obtain detailed information about Media items (failed SID ".concat(e.media_record.sid,")"));return new T(t.config,t.network,e.media_record)})));case 5:case"end":return n.stop()}}),n)})))()}}]),e}(),y.default(I,"version","0.5.3"),N),k([h.validateTypes(h.nonEmptyString),x("design:type",Function),x("design:paramtypes",[String]),x("design:returntype",void 0)],t.default.prototype,"updateToken",null),k([h.validateTypesAsync(h.nonEmptyString),x("design:type",Function),x("design:paramtypes",[String]),x("design:returntype",Promise)],t.default.prototype,"get",null),t.default=k([h.validateConstructorTypes(h.nonEmptyString,h.nonEmptyString,[h.nonEmptyString,h.literal(null)],[h.pureObject,"undefined"]),x("design:paramtypes",[String,String,Object,Object])],t.default),t.Client=t.default,t.McsClient=t.default,t.McsMedia=T,t.Media=T,t.default=t.default},46390:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(44584);var r=n(17156),i=n(56690),a=n(89728),o=n(61655),s=n(94993),u=n(73808),c=n(64687);n(18887),n(45742),n(65202),n(59147),n(81740),n(4778),n(22583),n(67675);var l=n(18698),d=n(58868),f=n(66115),p=n(38416);n(84208),n(89104),n(83265);var h=n(8645),m=n(27424),v=n(861);n(36669),n(33858);var g=n(62895),y=n(24610),b=n(1263);function w(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var x=w(r),_=w(i),S=w(a),E=w(o),C=w(s),T=w(u),A=w(c),O=w(l),R=w(f),I=w(p),N=w(m),P=w(v),M=k(g),L=k(y);function D(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":O.default(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function F(e,t){if("object"===("undefined"===typeof Reflect?"undefined":O.default(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function B(){}function j(){j.init.call(this)}function Z(e){return void 0===e._maxListeners?j.defaultMaxListeners:e._maxListeners}function V(e,t,n){if(t)e.call(n);else for(var r=e.length,i=Y(e,r),a=0;a<r;++a)i[a].call(n)}function U(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=Y(e,i),o=0;o<i;++o)a[o].call(n,r)}function W(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=Y(e,a),s=0;s<a;++s)o[s].call(n,r,i)}function H(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=Y(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}function z(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=Y(e,i),o=0;o<i;++o)a[o].apply(n,r)}function G(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new B,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=Z(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function q(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function K(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function Y(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}B.prototype=Object.create(null),j.EventEmitter=j,j.usingDomains=!1,j.prototype.domain=void 0,j.prototype._events=void 0,j.prototype._maxListeners=void 0,j.defaultMaxListeners=10,j.init=function(){this.domain=null,j.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new B,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},j.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},j.prototype.getMaxListeners=function(){return Z(this)},j.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:V(n,l,this);break;case 2:U(n,l,this,arguments[1]);break;case 3:W(n,l,this,arguments[1],arguments[2]);break;case 4:H(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];z(n,l,this,i)}return!0},j.prototype.addListener=function(e,t){return G(this,e,t,!1)},j.prototype.on=j.prototype.addListener,j.prototype.prependListener=function(e,t){return G(this,e,t,!0)},j.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,q(this,e,t)),this},j.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,q(this,e,t)),this},j.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new B:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new B,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},j.prototype.off=function(e,t){return this.removeListener(e,t)},j.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new B,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new B:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new B,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},j.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},j.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):K.call(e,t)},j.prototype.listenerCount=K,j.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var X=M.getLogger("twilio-notificatiions");function Q(e,t){return["".concat((new Date).toISOString()," Twilio.Notifications ").concat(e,":")].concat(Array.from(t))}var J=function(){function e(){_.default(this,e)}return S.default(e,[{key:"setLevel",value:function(e){X.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];X.trace.apply(null,Q("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];X.debug.apply(null,Q("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];X.info.apply(null,Q("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];X.warn.apply(null,Q("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];X.error.apply(null,Q("E",t))}}]),e}(),$=new J;function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T.default(e);if(t){var i=T.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C.default(this,n)}}var te=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;_.default(this,e),this.token=t,this.notificationId=n,this.messageTypes=r};function ne(e,t){var n=new Set;return e.notificationId!==t.notificationId&&n.add("notificationId"),e.token!==t.token&&n.add("token"),function(e,t){return[].concat(P.default(P.default(e).filter((function(e){return!t.has(e)}))),P.default(P.default(t).filter((function(t){return!e.has(t)}))))}(e.messageTypes,t.messageTypes).length>0&&n.add("messageType"),[n.size>0,n]}var re=function(e){E.default(n,e);var t=ee(n);function n(e){var r;return _.default(this,n),r=t.call(this),I.default(R.default(r),"desiredState",new te),I.default(R.default(r),"currentState",new te),I.default(R.default(r),"_hasActiveAttempt",!1),r.channelType=e,r}return S.default(n,[{key:"setNotificationId",value:function(e){this.desiredState.notificationId=e}},{key:"isActive",value:function(){return""!==this.desiredState.notificationId}},{key:"subscribe",value:function(e){this.desiredState.messageTypes.has(e)?$.debug("message type '".concat(e,"' for channel ").concat(this.channelType," is already registered")):this.desiredState.messageTypes.add(e)}},{key:"unsubscribe",value:function(e){this.desiredState.messageTypes.has(e)&&this.desiredState.messageTypes.delete(e)}},{key:"updateToken",value:function(e){this.desiredState.token=e}},{key:"commitChanges",value:function(){var e=x.default(A.default.mark((function e(){var t,n,r,i,a,o;return A.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._hasActiveAttempt){e.next=3;break}throw $.error("One registration attempt is already in progress"),new Error("One registration attempt is already in progress");case 3:if(t=ne(this.desiredState,this.currentState),n=N.default(t,2),r=n[0],i=n[1],r){e.next=6;break}return e.abrupt("return");case 6:if(this.currentState.notificationId||i.delete("notificationId"),$.trace("Persisting ".concat(this.channelType," registration"),i,this.desiredState),e.prev=8,this._hasActiveAttempt=!0,(a=new te).token=this.desiredState.token,a.notificationId=this.desiredState.notificationId,a.messageTypes=new Set(this.desiredState.messageTypes),!(a.messageTypes.size>0)){e.next=24;break}return e.next=17,this.updateRegistration(a,i);case 17:o=e.sent,this.currentState.token=o.token,this.currentState.notificationId=o.notificationId,this.currentState.messageTypes=new Set(o.messageTypes),this.emit("stateChanged",this.channelType,"registered",this.currentState),e.next=30;break;case 24:return e.next=26,this.removeRegistration();case 26:this.currentState.token=a.token,this.currentState.notificationId=a.notificationId,this.currentState.messageTypes.clear(),this.emit("stateChanged",this.channelType,"unregistered",this.currentState);case 30:e.next=35;break;case 32:throw e.prev=32,e.t0=e.catch(8),e.t0;case 35:return e.prev=35,this._hasActiveAttempt=!1,e.finish(35);case 38:case"end":return e.stop()}}),e,this,[[8,32,35,38]])})));return function(){return e.apply(this,arguments)}}()}]),n}(j);function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T.default(e);if(t){var i=T.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C.default(this,n)}}var ae={min:2e3,max:12e4,randomness:.2},oe=function(e){E.default(n,e);var t=ie(n);function n(e,r,i,a){var o;return _.default(this,n),o=t.call(this,e),I.default(R.default(o),"registrationId",null),o.context=r,o.twilsock=i,o.registrarUrl=a,o}return S.default(n,[{key:"updateRegistration",value:function(){var e=x.default(A.default.mark((function e(t,n){var r,i,a,o,s,u=this;return A.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.has("notificationId")){e.next=3;break}return e.next=3,this.removeRegistration();case 3:if(t.notificationId&&t.notificationId.length){e.next=6;break}throw $.error("No push notification ID for registration"),new Error("No push notification ID for registration");case 6:return $.trace("Registering",this.channelType,t),r={endpoint_platform:this.context.platform,channel_type:this.channelType,version:this.context.protocolVersion.toString(),message_types:Array.from(t.messageTypes),data:{registration_id:t.notificationId}},i=this.context.productId,a="".concat(this.registrarUrl,"?productId=").concat(i),o={"Content-Type":"application/json"},$.trace("Creating registration for channel ".concat(this.channelType)),e.prev=12,e.next=15,new h.AsyncRetrier(ae).run((function(){return u.twilsock.post(a,o,r,i)}));case 15:s=e.sent,this.registrationId=s.body.id,$.debug("Registration created: ",s),e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(12),$.error("Registration failed: ",e.t0),e.t0;case 24:return e.abrupt("return",t);case 25:case"end":return e.stop()}}),e,this,[[12,20]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeRegistration",value:function(){var e=x.default(A.default.mark((function e(){var t,n,r,i=this;return A.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.registrationId){e.next=2;break}return e.abrupt("return");case 2:return t=this.context.productId,n="".concat(this.registrarUrl,"/").concat(this.registrationId,"?productId=").concat(t),r={"Content-Type":"application/json"},$.trace("Removing registration for ".concat(this.channelType)),e.prev=6,e.next=9,new h.AsyncRetrier(Object.assign(ae,{maxAttemptsCount:3})).run((function(){return i.twilsock.delete(n,r,{},t)}));case 9:this.registrationId=null,this.currentState.notificationId="",$.debug("Registration removed for ".concat(this.channelType)),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(6),$.error("Failed to remove registration ",this.channelType,e.t0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendDeviceRemoveRequest",value:function(){var e=x.default(A.default.mark((function e(t){var n,r,i,a,o=this;return A.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}throw new Error("Empty registration ID");case 2:return n=this.context.productId,r="".concat(this.registrarUrl,"?productId=").concat(n),i={"Content-Type":"application/json"},a={binding_type:this.channelType,address:t},e.prev=6,$.trace("Removing old registrations for ".concat(this.channelType)),e.next=10,new h.AsyncRetrier(Object.assign(ae,{maxAttemptsCount:3})).run((function(){return o.twilsock.delete(r,i,a,n)}));case 10:this.registrationId=null,this.currentState.notificationId="",$.debug("Registration removed for ".concat(this.channelType)),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(6),$.error("Failed to remove registration ",this.channelType,e.t0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[6,15]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(re);function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T.default(e);if(t){var i=T.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C.default(this,n)}}var ue,ce=function(e){E.default(n,e);var t=se(n);function n(e,r,i){var a;return _.default(this,n),a=t.call(this,"twilsock"),I.default(R.default(a),"contextId",L.v4()),a.productId=e,a.platform=r,a.twilsock=i,a}return S.default(n,[{key:"updateRegistration",value:function(){var e=x.default(A.default.mark((function e(t,n){var r,i;return A.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.has("messageType")){e.next=2;break}return e.abrupt("return",t);case 2:return r=Array.from(t.messageTypes),i={product_id:this.productId,notification_protocol_version:4,endpoint_platform:this.platform,message_types:r},e.prev=4,e.next=7,this.twilsock.setNotificationsContext(this.contextId,i);case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(4),$.error("Failed to update twilsock notification context: ".concat(e.t0)),e.t0;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeRegistration",value:function(){var e=x.default(A.default.mark((function e(){return A.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.twilsock.removeNotificationsContext(this.contextId);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),$.error("Failed to remove twilsock notification context: ".concat(e.t0)),e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendDeviceRemoveRequest",value:function(){var e=x.default(A.default.mark((function e(t){return A.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(re);function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T.default(e);if(t){var i=T.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C.default(this,n)}}var de=b.literal("apn","fcm","twilsock");t.Notifications=ue=function(e){E.default(n,e);var t=le(n);function n(e){var r,i,a,o,s,u,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_.default(this,n),c=t.call(this),l.logLevel=null!==(r=l.logLevel)&&void 0!==r?r:"error",$.setLevel(l.logLevel);var f=null!==(i=l.productId)&&void 0!==i?i:"notifications",p=!l.twilsockClient,h=l.twilsockClient=null!==(a=l.twilsockClient)&&void 0!==a?a:new d.TwilsockClient(e,f,l),m=null!==(o=l.notifications)&&void 0!==o?o:{},v=null!==(s=null!==(u=m.region)&&void 0!==u?u:l.region)&&void 0!==s?s:"us1",g="https://ers.".concat(v,".twilio.com/v1/registrations"),y=m.ersUrl||g;c.connectors=new Map;var b=ue._detectPlatform();return c.connectors.set("apn",new oe("apn",{protocolVersion:4,productId:f,platform:b},h,y)),c.connectors.set("fcm",new oe("fcm",{protocolVersion:3,productId:f,platform:b},h,y)),c.connectors.set("twilsock",new ce(f,b,h)),h.on("stateChanged",(function(e){return c.emit("transportState",e)})),c._connector("twilsock").on("stateChanged",(function(e,t,n){return c.emit("stateChanged",e,t,n)})),c._connector("apn").on("stateChanged",(function(e,t,n){return c.emit("stateChanged",e,t,n)})),c._connector("fcm").on("stateChanged",(function(e,t,n){return c.emit("stateChanged",e,t,n)})),h.on("message",(function(e,t){return c._routeMessage(e,t)})),c.updateToken(e),p&&(h.connect(),c.twilsock=h),c}return S.default(n,[{key:"shutdown",value:function(){var e=x.default(A.default.mark((function e(){return A.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectors.clear(),!this.twilsock){e.next=4;break}return e.next=4,this.twilsock.disconnect();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPushRegistrationId",value:function(e,t){$.debug("Set ".concat(e," push registration id '").concat(t,"'")),this._connector(e).setNotificationId(t)}},{key:"subscribe",value:function(e,t){$.debug("Add ".concat(e," subscriptions for message type ").concat(t)),this._connector(e).subscribe(t)}},{key:"unsubscribe",value:function(e,t){$.debug("Remove ".concat(e," subscriptions for message type ").concat(t)),this._connector(e).unsubscribe(t)}},{key:"updateToken",value:function(e){this.connectors.forEach((function(t){return t.updateToken(e)}))}},{key:"commitChanges",value:function(){var e=x.default(A.default.mark((function e(){var t;return A.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],this.connectors.forEach((function(e){e.isActive()&&t.push(e.commitChanges())})),e.next=4,Promise.all(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeRegistrations",value:function(){var e=x.default(A.default.mark((function e(t,n){return A.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connector(t).sendDeviceRemoveRequest(n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handlePushNotification",value:function(e){return{messageType:e.twi_message_type,payload:e.payload}}},{key:"_routeMessage",value:function(e,t){$.debug("Notification message arrived: ",e,t),this.emit("message",e,t)}},{key:"_connector",value:function(e){var t=this.connectors.get(e);if(!t)throw new Error("Unknown channel type: ".concat(e));return t}}],[{key:"_detectPlatform",value:function(){var e="";return"undefined"!==typeof navigator?(e="unknown","undefined"!==typeof navigator.product&&(e=navigator.product),"undefined"!==typeof navigator.userAgent&&(e=navigator.userAgent)):e="web",e.substring(0,128)}}]),n}(j),D([b.validateTypes(de,b.nonEmptyString),F("design:type",Function),F("design:paramtypes",[String,String]),F("design:returntype",void 0)],t.Notifications.prototype,"setPushRegistrationId",null),D([b.validateTypes(de,b.nonEmptyString),F("design:type",Function),F("design:paramtypes",[String,String]),F("design:returntype",void 0)],t.Notifications.prototype,"subscribe",null),D([b.validateTypes(de,b.nonEmptyString),F("design:type",Function),F("design:paramtypes",[String,String]),F("design:returntype",void 0)],t.Notifications.prototype,"unsubscribe",null),D([b.validateTypes(b.nonEmptyString),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",void 0)],t.Notifications.prototype,"updateToken",null),D([b.validateTypesAsync(de,b.nonEmptyString),F("design:type",Function),F("design:paramtypes",[String,String]),F("design:returntype",Promise)],t.Notifications.prototype,"removeRegistrations",null),t.Notifications=ue=D([b.validateConstructorTypes(b.nonEmptyString,[b.pureObject,"undefined",b.literal(null)]),F("design:paramtypes",[String,Object])],t.Notifications)},8645:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(44584);var r=n(56690),i=n(89728),a=n(66115),o=n(61655),s=n(94993),u=n(73808),c=n(38416);function l(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}n(65202),n(67675);var d=l(r),f=l(i),p=l(a),h=l(o),m=l(s),v=l(u),g=l(c);function y(){}function b(){b.init.call(this)}function w(e){return void 0===e._maxListeners?b.defaultMaxListeners:e._maxListeners}function k(e,t,n){if(t)e.call(n);else for(var r=e.length,i=O(e,r),a=0;a<r;++a)i[a].call(n)}function x(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=O(e,i),o=0;o<i;++o)a[o].call(n,r)}function _(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=O(e,a),s=0;s<a;++s)o[s].call(n,r,i)}function S(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=O(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}function E(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=O(e,i),o=0;o<i;++o)a[o].apply(n,r)}function C(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new y,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=w(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function T(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function A(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function O(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v.default(e);if(t){var i=v.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m.default(this,n)}}y.prototype=Object.create(null),b.EventEmitter=b,b.usingDomains=!1,b.prototype.domain=void 0,b.prototype._events=void 0,b.prototype._maxListeners=void 0,b.defaultMaxListeners=10,b.init=function(){this.domain=null,b.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new y,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},b.prototype.getMaxListeners=function(){return w(this)},b.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:k(n,l,this);break;case 2:x(n,l,this,arguments[1]);break;case 3:_(n,l,this,arguments[1],arguments[2]);break;case 4:S(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];E(n,l,this,i)}return!0},b.prototype.addListener=function(e,t){return C(this,e,t,!1)},b.prototype.on=b.prototype.addListener,b.prototype.prependListener=function(e,t){return C(this,e,t,!0)},b.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,T(this,e,t)),this},b.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,T(this,e,t)),this},b.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new y:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new y,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},b.prototype.off=function(e,t){return this.removeListener(e,t)},b.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new y,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new y:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new y,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},b.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},b.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):A.call(e,t)},b.prototype.listenerCount=A,b.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var I=function(e){h.default(n,e);var t=R(n);function n(e){var r;return d.default(this,n),r=t.call(this),g.default(p.default(r),"timeout",null),g.default(p.default(r),"startTimestamp",-1),r.minDelay=e.min,r.maxDelay=e.max,r.initialDelay=e.initial||0,r.maxAttemptsCount=e.maxAttemptsCount||0,r.maxAttemptsTime=e.maxAttemptsTime||0,r.randomness=e.randomness||0,r.inProgress=!1,r.attemptNum=0,r.prevDelay=0,r.currDelay=0,r}return f.default(n,[{key:"attempt",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.attemptNum++,this.emit("attempt",this)}},{key:"nextDelay",value:function(e){if("number"===typeof e)return this.prevDelay=0,this.currDelay=e,e;if(0==this.attemptNum)return this.initialDelay;if(1==this.attemptNum)return this.currDelay=this.minDelay,this.currDelay;this.prevDelay=this.currDelay;var t=this.currDelay+this.prevDelay;return this.maxDelay&&t>this.maxDelay&&(this.currDelay=this.maxDelay,t=this.maxDelay),this.currDelay=t,t}},{key:"randomize",value:function(e){var t=e*this.randomness,n=Math.round(Math.random()*t*2-t);return Math.max(0,e+n)}},{key:"scheduleAttempt",value:function(e){var t=this;if(this.maxAttemptsCount&&this.attemptNum>=this.maxAttemptsCount)return this.cleanup(),void this.emit("failed",new Error("Maximum attempt count limit reached"));var n=this.nextDelay(e);if(n=this.randomize(n),this.maxAttemptsTime&&this.startTimestamp+this.maxAttemptsTime<Date.now()+n)return this.cleanup(),void this.emit("failed",new Error("Maximum attempt time limit reached"));this.timeout=setTimeout((function(){return t.attempt()}),n)}},{key:"cleanup",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.inProgress=!1,this.attemptNum=0,this.prevDelay=0,this.currDelay=0}},{key:"start",value:function(){if(this.inProgress)throw new Error("Retrier is already in progress");this.inProgress=!0,this.startTimestamp=Date.now(),this.scheduleAttempt(this.initialDelay)}},{key:"cancel",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null,this.inProgress=!1,this.emit("cancelled"))}},{key:"succeeded",value:function(e){this.emit("succeeded",e)}},{key:"failed",value:function(e,t){if(this.timeout)throw new Error("Retrier attempt is already in progress");this.scheduleAttempt(t)}}]),n}(b),N=function(e){h.default(n,e);var t=R(n);function n(e){var r;return d.default(this,n),r=t.call(this),g.default(p.default(r),"resolve",(function(){})),g.default(p.default(r),"reject",(function(){})),r.retrier=new I(e),r}return f.default(n,[{key:"run",value:function(e){var t=this;return this.retrier.on("attempt",(function(){e().then((function(e){return t.retrier.succeeded(e)})).catch((function(e){return t.retrier.failed(e)}))})),this.retrier.on("succeeded",(function(e){return t.resolve(e)})),this.retrier.on("cancelled",(function(){return t.reject(new Error("Cancelled"))})),this.retrier.on("failed",(function(e){return t.reject(e)})),new Promise((function(e,n){t.resolve=e,t.reject=n,t.retrier.start()}))}},{key:"cancel",value:function(){this.retrier.cancel()}}]),n}(b);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v.default(e);if(t){var i=v.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m.default(this,n)}}function M(e){return void 0!==e&&null!==e}var L=function(e){h.default(n,e);var t=P(n);function n(e){var r;d.default(this,n),r=t.call(this),g.default(p.default(r),"backoffDelay",0),g.default(p.default(r),"nextBackoffDelay",0),g.default(p.default(r),"backoffNumber",0),g.default(p.default(r),"timeoutID",null),g.default(p.default(r),"maxNumberOfRetry",-1);var i=e=e||{},a=i.initialDelay,o=i.maxDelay,s=i.randomisationFactor,u=i.factor;if(M(a)&&a<1)throw new Error("The initial timeout must be equal to or greater than 1.");if(M(o)&&o<=1)throw new Error("The maximal timeout must be greater than 1.");if(M(s)&&(s<0||s>1))throw new Error("The randomisation factor must be between 0 and 1.");if(M(u)&&u<=1)throw new Error("Exponential factor should be greater than 1.");if(r.initialDelay=a||100,r.maxDelay=o||1e4,r.maxDelay<=r.initialDelay)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");return r.randomisationFactor=s||0,r.factor=u||2,r.reset(),r}return f.default(n,[{key:"backoff",value:function(e){null==this.timeoutID&&(this.backoffNumber===this.maxNumberOfRetry?(this.emit("fail",e),this.reset()):(this.backoffDelay=this.next(),this.timeoutID=setTimeout(this.onBackoff.bind(this),this.backoffDelay),this.emit("backoff",this.backoffNumber,this.backoffDelay,e)))}},{key:"reset",value:function(){this.backoffDelay=0,this.nextBackoffDelay=this.initialDelay,this.backoffNumber=0,this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=null}},{key:"failAfter",value:function(e){if(e<=0)throw new Error("Expected a maximum number of retry greater than 0 but got ".concat(e));this.maxNumberOfRetry=e}},{key:"next",value:function(){this.backoffDelay=Math.min(this.nextBackoffDelay,this.maxDelay),this.nextBackoffDelay=this.backoffDelay*this.factor;var e=1+Math.random()*this.randomisationFactor;return Math.min(this.maxDelay,Math.round(this.backoffDelay*e))}},{key:"onBackoff",value:function(){this.timeoutID=null,this.emit("ready",this.backoffNumber,this.backoffDelay),this.backoffNumber++}}],[{key:"exponential",value:function(e){return new n(e)}}]),n}(b);t.AsyncRetrier=N,t.Backoff=L,t.Retrier=I},62839:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(861),i=n(56690),a=n(89728),o=n(66115),s=n(41588),u=n(61655),c=n(94993),l=n(73808),d=n(38416);function f(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var p=f(r),h=f(i),m=f(a),v=f(o),g=f(s),y=f(u),b=f(c),w=f(l),k=f(d);function x(){}function _(){_.init.call(this)}function S(e){return void 0===e._maxListeners?_.defaultMaxListeners:e._maxListeners}function E(e,t,n){if(t)e.call(n);else for(var r=e.length,i=P(e,r),a=0;a<r;++a)i[a].call(n)}function C(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=P(e,i),o=0;o<i;++o)a[o].call(n,r)}function T(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=P(e,a),s=0;s<a;++s)o[s].call(n,r,i)}function A(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=P(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}function O(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=P(e,i),o=0;o<i;++o)a[o].apply(n,r)}function R(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new x,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=S(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function I(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function N(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function P(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w.default(e);if(t){var i=w.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b.default(this,n)}}x.prototype=Object.create(null),_.EventEmitter=_,_.usingDomains=!1,_.prototype.domain=void 0,_.prototype._events=void 0,_.prototype._maxListeners=void 0,_.defaultMaxListeners=10,_.init=function(){this.domain=null,_.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new x,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},_.prototype.getMaxListeners=function(){return S(this)},_.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:E(n,l,this);break;case 2:C(n,l,this,arguments[1]);break;case 3:T(n,l,this,arguments[1],arguments[2]);break;case 4:A(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];O(n,l,this,i)}return!0},_.prototype.addListener=function(e,t){return R(this,e,t,!1)},_.prototype.on=_.prototype.addListener,_.prototype.prependListener=function(e,t){return R(this,e,t,!0)},_.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,I(this,e,t)),this},_.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,I(this,e,t)),this},_.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new x:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new x,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},_.prototype.off=function(e,t){return this.removeListener(e,t)},_.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new x,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new x:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new x,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},_.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},_.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):N.call(e,t)},_.prototype.listenerCount=N,_.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var L=function(e){y.default(n,e);var t=M(n);function n(){var e;return h.default(this,n),e=t.call(this),k.default(v.default(e),"eventHistory",new Map),e}return m.default(n,[{key:"on",value:function(e,t){return g.default(w.default(n.prototype),"on",this).call(this,e,t)}},{key:"once",value:function(e,t){return g.default(w.default(n.prototype),"once",this).call(this,e,t)}},{key:"off",value:function(e,t){return g.default(w.default(n.prototype),"off",this).call(this,e,t)}},{key:"emit",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return this.eventHistory.set(e,i),(t=g.default(w.default(n.prototype),"emit",this)).call.apply(t,[this,e].concat(i))}},{key:"addListener",value:function(e,t){return g.default(w.default(n.prototype),"addListener",this).call(this,e,t)}},{key:"removeListener",value:function(e,t){return g.default(w.default(n.prototype),"removeListener",this).call(this,e,t)}},{key:"addListenerWithReplay",value:function(e,t){var n=this.eventHistory.get(e);return void 0!==n&&t.apply(void 0,p.default(n)),this.addListener(e,t)}},{key:"onWithReplay",value:function(e,t){return this.addListenerWithReplay(e,t)}}]),n}(_);t.ReplayEventEmitter=L},1410:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WASM_INFERENCE_DIMENSIONS=t.BODYPIX_INFERENCE_DIMENSIONS=t.INFERENCE_CONFIG=t.MODEL_CONFIG=t.TFLITE_SIMD_LOADER_NAME=t.TFLITE_LOADER_NAME=t.MODEL_NAME=t.PERSON_PROBABILITY_THRESHOLD=t.HISTORY_COUNT=t.MASK_BLUR_RADIUS=t.DEBOUNCE=t.BLUR_FILTER_RADIUS=void 0,t.BLUR_FILTER_RADIUS=15,t.DEBOUNCE=2,t.MASK_BLUR_RADIUS=5,t.HISTORY_COUNT=5,t.PERSON_PROBABILITY_THRESHOLD=.4,t.MODEL_NAME="selfie_segmentation_landscape.tflite",t.TFLITE_LOADER_NAME="tflite-1-0-0.js",t.TFLITE_SIMD_LOADER_NAME="tflite-simd-1-0-0.js",t.MODEL_CONFIG={architecture:"MobileNetV1",outputStride:16,multiplier:.75,quantBytes:4},t.INFERENCE_CONFIG={internalResolution:1,maxDetections:1,segmentationThreshold:.75},t.BODYPIX_INFERENCE_DIMENSIONS={width:224,height:224},t.WASM_INFERENCE_DIMENSIONS={width:256,height:144}},29660:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualBackgroundProcessor=t.version=t.isSupported=t.ImageFit=t.GaussianBlurBackgroundProcessor=void 0;var i=n(17075);Object.defineProperty(t,"GaussianBlurBackgroundProcessor",{enumerable:!0,get:function(){return i.GaussianBlurBackgroundProcessor}});var a=n(31592);Object.defineProperty(t,"VirtualBackgroundProcessor",{enumerable:!0,get:function(){return a.VirtualBackgroundProcessor}});var o=n(2391);Object.defineProperty(t,"ImageFit",{enumerable:!0,get:function(){return o.ImageFit}});var s=n(13821);Object.defineProperty(t,"isSupported",{enumerable:!0,get:function(){return s.isSupported}});var u=n(22510);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return u.version}}),"undefined"!==typeof window&&(window.Twilio=window.Twilio||{},window.Twilio.VideoProcessors=r(r({},window.Twilio.VideoProcessors),{GaussianBlurBackgroundProcessor:i.GaussianBlurBackgroundProcessor,ImageFit:o.ImageFit,isSupported:s.isSupported,version:u.version,VirtualBackgroundProcessor:a.VirtualBackgroundProcessor}))},75716:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Processor=void 0;var n=function(){};t.Processor=n},75277:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundProcessor=void 0,n(78832),n(58808);var o=n(71059),s=n(75716),u=n(69611),c=n(22510),l=n(1410),d=function(e){function t(t){var n=e.call(this)||this;if(n._currentMask=new Uint8ClampedArray,n._debounce=l.DEBOUNCE,n._dummyImageData=new ImageData(1,1),n._historyCount=l.HISTORY_COUNT,n._inferenceConfig=l.INFERENCE_CONFIG,n._inferenceDimensions=l.WASM_INFERENCE_DIMENSIONS,n._inputMemoryOffset=0,n._isSimdEnabled=null,n._maskBlurRadius=l.MASK_BLUR_RADIUS,n._maskUsageCounter=0,n._outputMemoryOffset=0,n._personProbabilityThreshold=l.PERSON_PROBABILITY_THRESHOLD,n._version=c.version,"string"!==typeof t.assetsPath)throw new Error("assetsPath parameter is missing");var r=t.assetsPath;return r&&"/"!==r[r.length-1]&&(r+="/"),n.maskBlurRadius=t.maskBlurRadius,n._assetsPath=r,n._debounce=t.debounce||l.DEBOUNCE,n._historyCount=t.historyCount||l.HISTORY_COUNT,n._inferenceConfig=t.inferenceConfig||l.INFERENCE_CONFIG,n._personProbabilityThreshold=t.personProbabilityThreshold||l.PERSON_PROBABILITY_THRESHOLD,n._useWasm="boolean"!==typeof t.useWasm||t.useWasm,n._inferenceDimensions=t.inferenceDimensions||(n._useWasm?l.WASM_INFERENCE_DIMENSIONS:l.BODYPIX_INFERENCE_DIMENSIONS),n._benchmark=new u.Benchmark,n._inputCanvas=document.createElement("canvas"),n._inputContext=n._inputCanvas.getContext("2d"),n._maskCanvas=new OffscreenCanvas(1,1),n._maskContext=n._maskCanvas.getContext("2d"),n._outputCanvas=document.createElement("canvas"),n._outputContext=n._outputCanvas.getContext("2d"),n._masks=[],n}return r(t,e),t._loadModel=function(e){return void 0===e&&(e=l.MODEL_CONFIG),i(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return n=t,[4,o.load(e).catch((function(e){return console.error("Unable to load model.",e)}))];case 1:return n._model=r.sent()||null,[2]}}))}))},Object.defineProperty(t.prototype,"maskBlurRadius",{get:function(){return this._maskBlurRadius},set:function(e){("number"!==typeof e||e<0)&&(console.warn("Valid mask blur radius not found. Using "+l.MASK_BLUR_RADIUS+" as default."),e=l.MASK_BLUR_RADIUS),this._maskBlurRadius=e},enumerable:!1,configurable:!0}),t.prototype.loadModel=function(){return i(this,void 0,void 0,(function(){var e,n,r,i;return a(this,(function(a){switch(a.label){case 0:return[4,Promise.all([t._loadModel(),this._loadTwilioTfLite(),fetch(this._assetsPath+l.MODEL_NAME)])];case 1:return e=a.sent(),n=e[1],[4,e[2].arrayBuffer()];case 2:return r=a.sent(),i=n._getModelBufferMemoryOffset(),n.HEAPU8.set(new Uint8Array(r),i),n._loadModel(r.byteLength),this._inputMemoryOffset=n._getInputMemoryOffset()/4,this._outputMemoryOffset=n._getOutputMemoryOffset()/4,this._tflite=n,[2]}}))}))},t.prototype.processFrame=function(e,n){return i(this,void 0,void 0,(function(){var r,i,o,s,u,c,l,d;return a(this,(function(a){switch(a.label){case 0:if(!t._model||!this._tflite)return[2];if(!e||!n)throw new Error("Missing input or output frame buffer");return this._benchmark.end("captureFrameDelay"),this._benchmark.start("processFrameDelay"),i=(r=e).width,o=r.height,s=this._inferenceDimensions,u=s.width,c=s.height,this._outputCanvas!==n&&(this._outputCanvas=n,this._outputContext=n.getContext("2d")),l=!1,this._inputCanvas.width!==u&&(this._inputCanvas.width=u,this._maskCanvas.width=u,l=!0),this._inputCanvas.height!==c&&(this._inputCanvas.height=c,this._maskCanvas.height=c,l=!0),l&&(this._dummyImageData=new ImageData(new Uint8ClampedArray(u*c*4),u,c)),[4,this._createPersonMask(r)];case 1:return d=a.sent(),this._benchmark.start("imageCompositionDelay"),this._maskContext.putImageData(d,0,0),this._outputContext.save(),this._outputContext.filter="blur("+this._maskBlurRadius+"px)",this._outputContext.globalCompositeOperation="copy",this._outputContext.drawImage(this._maskCanvas,0,0,i,o),this._outputContext.filter="none",this._outputContext.globalCompositeOperation="source-in",this._outputContext.drawImage(r,0,0,i,o),this._outputContext.globalCompositeOperation="destination-over",this._setBackground(r),this._outputContext.restore(),this._benchmark.end("imageCompositionDelay"),this._benchmark.end("processFrameDelay"),this._benchmark.end("totalProcessingDelay"),this._benchmark.start("totalProcessingDelay"),this._benchmark.start("captureFrameDelay"),[2]}}))}))},t.prototype._addMask=function(e){this._masks.length>=this._historyCount&&this._masks.splice(0,this._masks.length-this._historyCount+1),this._masks.push(e)},t.prototype._applyAlpha=function(e){for(var t=this._masks.reduce((function(e,t,n){return e+(n+1)*(n+1)}),0),n=e.height*e.width,r=function(n){var r=i._masks.reduce((function(e,t,r){return e+t[n]*(r+1)*(r+1)}),0)/t;e.data[4*n+3]=Math.round(255*r)},i=this,a=0;a<n;a++)r(a)},t.prototype._createPersonMask=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(a){switch(a.label){case 0:return t=this._dummyImageData,n=this._maskUsageCounter<1,this._benchmark.start("inputImageResizeDelay"),n&&(t=this._getResizedInputImageData(e)),this._benchmark.end("inputImageResizeDelay"),this._benchmark.start("segmentationDelay"),n?(r=this,this._useWasm?(i=this._runTwilioTfLiteInference(t),[3,3]):[3,1]):[3,4];case 1:return[4,this._runBodyPixInference(t)];case 2:i=a.sent(),a.label=3;case 3:r._currentMask=i,this._maskUsageCounter=this._debounce,a.label=4;case 4:return this._addMask(this._currentMask),this._applyAlpha(t),this._maskUsageCounter--,this._benchmark.end("segmentationDelay"),[2,t]}}))}))},t.prototype._getResizedInputImageData=function(e){var t=this._inputCanvas,n=t.width,r=t.height;return this._inputContext.drawImage(e,0,0,n,r),this._inputContext.getImageData(0,0,n,r)},t.prototype._loadJs=function(e){return new Promise((function(t,n){var r=document.createElement("script");r.onload=function(){return t()},r.onerror=n,document.head.append(r),r.src=e}))},t.prototype._loadTwilioTfLite=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,this._loadJs(this._assetsPath+l.TFLITE_SIMD_LOADER_NAME)];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,4,,7]),[4,window.createTwilioTFLiteSIMDModule()];case 3:return e=t.sent(),this._isSimdEnabled=!0,[3,7];case 4:return t.sent(),console.warn("SIMD not supported. You may experience poor quality of background replacement."),[4,this._loadJs(this._assetsPath+l.TFLITE_LOADER_NAME)];case 5:return t.sent(),[4,window.createTwilioTFLiteModule()];case 6:return e=t.sent(),this._isSimdEnabled=!1,[3,7];case 7:return[2,e]}}))}))},t.prototype._runBodyPixInference=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,t._model.segmentPerson(e,this._inferenceConfig)];case 1:return[2,n.sent().data]}}))}))},t.prototype._runTwilioTfLiteInference=function(e){for(var t=this,n=t._inferenceDimensions,r=n.width,i=n.height,a=t._inputMemoryOffset,o=t._tflite,s=r*i,u=0;u<s;u++)o.HEAPF32[a+3*u]=e.data[4*u]/255,o.HEAPF32[a+3*u+1]=e.data[4*u+1]/255,o.HEAPF32[a+3*u+2]=e.data[4*u+2]/255;o._runInference();var c=new Uint8ClampedArray(4*s);for(u=0;u<s;u++){var l=o.HEAPF32[this._outputMemoryOffset+u];c[u]=Number(l>=this._personProbabilityThreshold)*l}return c},t._model=null,t}(s.Processor);t.BackgroundProcessor=d},17075:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GaussianBlurBackgroundProcessor=void 0;var i=n(75277),a=n(1410),o=function(e){function t(t){var n=e.call(this,t)||this;return n._blurFilterRadius=a.BLUR_FILTER_RADIUS,n._name="GaussianBlurBackgroundProcessor",n.blurFilterRadius=t.blurFilterRadius,n}return r(t,e),Object.defineProperty(t.prototype,"blurFilterRadius",{get:function(){return this._blurFilterRadius},set:function(e){e||(console.warn("Valid blur filter radius not found. Using "+a.BLUR_FILTER_RADIUS+" as default."),e=a.BLUR_FILTER_RADIUS),this._blurFilterRadius=e},enumerable:!1,configurable:!0}),t.prototype._setBackground=function(e){this._outputContext.filter="blur("+this._blurFilterRadius+"px)",this._outputContext.drawImage(e,0,0)},t}(i.BackgroundProcessor);t.GaussianBlurBackgroundProcessor=o},31592:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualBackgroundProcessor=void 0;var i=n(75277),a=n(2391),o=function(e){function t(t){var n=e.call(this,t)||this;return n._name="VirtualBackgroundProcessor",n.backgroundImage=t.backgroundImage,n.fitType=t.fitType,n}return r(t,e),Object.defineProperty(t.prototype,"backgroundImage",{get:function(){return this._backgroundImage},set:function(e){if(!e||!e.complete||!e.naturalHeight)throw new Error("Invalid image. Make sure that the image is an HTMLImageElement and has been successfully loaded");this._backgroundImage=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fitType",{get:function(){return this._fitType},set:function(e){Object.keys(a.ImageFit).includes(e)||(console.warn("Valid fitType not found. Using '"+a.ImageFit.Fill+"' as default."),e=a.ImageFit.Fill),this._fitType=e},enumerable:!1,configurable:!0}),t.prototype._setBackground=function(){var e=this._backgroundImage,t=e.naturalWidth,n=e.naturalHeight,r=this._outputCanvas.width,i=this._outputCanvas.height;if(this._fitType===a.ImageFit.Fill)this._outputContext.drawImage(e,0,0,t,n,0,0,r,i);else if(this._fitType===a.ImageFit.None)this._outputContext.drawImage(e,0,0,t,n);else if(this._fitType===a.ImageFit.Contain){var o=this._getFitPosition(t,n,r,i,a.ImageFit.Contain),s=o.x,u=o.y,c=o.w,l=o.h;this._outputContext.drawImage(e,0,0,t,n,s,u,c,l)}else if(this._fitType===a.ImageFit.Cover){var d=this._getFitPosition(t,n,r,i,a.ImageFit.Cover);s=d.x,u=d.y,c=d.w,l=d.h;this._outputContext.drawImage(e,0,0,t,n,s,u,c,l)}},t.prototype._getFitPosition=function(e,t,n,r,i){var o=n/e,s=n,u=o*t;return(i===a.ImageFit.Contain&&u>r||i===a.ImageFit.Cover&&r>u)&&(s*=o=r/u,u=r),{x:(n-s)/2,y:(r-u)/2,w:s,h:u}},t}(i.BackgroundProcessor);t.VirtualBackgroundProcessor=o},2391:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageFit=void 0,function(e){e.Contain="Contain",e.Cover="Cover",e.Fill="Fill",e.None="None"}(t.ImageFit||(t.ImageFit={}))},69611:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Benchmark=void 0;var r=function(){function e(){this._timingCache=new Map,this._timings=new Map}return e.prototype.end=function(e){var t=this._timings.get(e);t&&(t.end=Date.now(),t.delay=t.end-t.start,this._save(e,n({},t)))},e.prototype.getAverageDelay=function(e){var t=this._timingCache.get(e);if(t&&t.length)return t.map((function(e){return e.delay})).reduce((function(e,t){return e+t}),0)/t.length},e.prototype.getNames=function(){return Array.from(this._timingCache.keys())},e.prototype.getRate=function(e){var t=this._timingCache.get(e);if(t&&!(t.length<2)){var n=t[t.length-1].end-t[0].start;return t.length/n*1e3}},e.prototype.start=function(e){var t=this._timings.get(e);t||(t={},this._timings.set(e,t)),t.start=Date.now(),delete t.end,delete t.delay},e.prototype._save=function(t,n){var r=this._timingCache.get(t);r||(r=[],this._timingCache.set(t,r)),r.push(n),r.length>e.cacheSize&&r.splice(0,r.length-e.cacheSize)},e.cacheSize=41,e}();t.Benchmark=r},13821:function(e,t){"use strict";function n(){return"undefined"!==typeof window&&(!!window.OffscreenCanvas&&!/Mobi/i.test(window.navigator.userAgent)&&!!window.chrome)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSupported=t.isBrowserSupported=void 0,t.isBrowserSupported=n,t.isSupported=n()},22510:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="1.0.2"},5937:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(94166)),o=r(n(29150)),s=r(n(27257)),u=r(n(88307)),c=r(n(37114)),l=r(n(98209)),d=r(n(64304));t.default=function(){return i.default.createElement(u.default,null,i.default.createElement(c.default,null,i.default.createElement(a.default,null,(function(e){return i.default.createElement(i.default.Fragment,null,"info"===e&&i.default.createElement(i.default.Fragment,null,i.default.createElement(s.default,null),i.default.createElement(o.default,null)),"stats"===e&&i.default.createElement(i.default.Fragment,null,i.default.createElement(l.default,null),i.default.createElement(d.default,null)))}))))}},94166:function(e,t,n){"use strict";var r,i=n(27424).default,a=n(59400).default,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(72791)),d=n(36031),f=c(n(91503)),p=c(n(48872)),h=c(n(60763)),m=n(6492),v=n(61386),g=n(68022),y=n(37875);(0,d.createGlobalStyle)(r||(r=a(["\n@import url('https://fonts.googleapis.com/css2?family=Inter&display=swap');\n"]))),t.default=function(e){var t=e.children,n=(0,f.default)(),r=n.draggableRef,a=n.dragContainerRef,o=(0,l.useState)("info"),s=i(o,2),u=s[0],c=s[1],d=(0,p.default)(),b=(0,h.default)(),w=b.width,k=b.height,x={};if(w<y.theme.monitorWidth){var _=w/y.theme.monitorWidth;x={transform:"scale(".concat(_,")"),height:k*(1/_)+"px"}}return l.default.createElement(v.Container,{ref:a,style:x},l.default.createElement(v.Bar,{ref:r},l.default.createElement("span",{style:{padding:"0.57em"}},"Twilio Video Room Monitor"),l.default.createElement(v.RightBarContainer,null,l.default.createElement(v.TabSelector,{isActive:"info"===u,onClick:function(){return c("info")}},"Info"),l.default.createElement(v.TabSelector,{isActive:"stats"===u,onClick:function(){return c("stats")}},"Stats"),l.default.createElement(m.CopyButton,null),l.default.createElement(v.CloseIconContainer,{onClick:function(){return g.VideoRoomMonitor.closeMonitor()}},l.default.createElement("svg",{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.768 1.768a.347.347 0 01.491 0l15.973 15.973a.347.347 0 01-.492.49L1.768 2.26a.347.347 0 010-.49z",fill:"#DDD"}),l.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.232 1.768a.347.347 0 010 .491L2.258 18.232a.347.347 0 11-.49-.491L17.74 1.768a.347.347 0 01.492",fill:"#DDD"}))))),l.default.createElement(v.OverflowContainer,null,l.default.createElement(v.ChildrenContainer,null,d?t(u):l.default.createElement("span",null,"No Twilio Room detected."))))}},6492:function(e,t,n){"use strict";var r,i,a=n(27424).default,o=n(59400).default,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return u(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CopyButton=t.Tooltip=t.CopyButtonContainer=void 0;var d=l(n(30093)),f=c(n(72791)),p=l(n(36031)),h=l(n(48872)),m=n(37875);t.CopyButtonContainer=p.default.div(r||(r=o(["\n  display: flex;\n  position: relative;\n  margin: 0 1em;\n  cursor: ",";\n\n  & svg {\n    stroke: ",";\n  }\n"])),(function(e){return e.hasRoom?"pointer":"initial"}),(function(e){return e.hasRoom?m.theme.borderColor:"#333"})),t.Tooltip=p.default.div(i||(i=o(["\n  position: absolute;\n  background: #4f4f4f;\n  font-size: 0.75rem;\n  white-space: nowrap;\n  padding: 0.2em 0.6em;\n  top: 2.7em;\n  left: 0%;\n  visibility: hidden;\n\n  &:before {\n    content: '';\n    width: 0;\n    height: 0;\n    left: 5px;\n    top: -5px;\n    position: absolute;\n    border: 5px solid #4f4f4f;\n    transform: rotate(135deg);\n  }\n\n  ",": hover & {\n    visibility: visible;\n  }\n\n  @media (max-width: ","px) {\n    left: auto;\n    right: 0;\n\n    &:before {\n      content: '';\n      right: 5px;\n      left: auto;\n    }\n  }\n"])),t.CopyButtonContainer,m.theme.monitorWidth);var v=function(e,t){if("processor"===t)return Boolean(e)};t.CopyButton=function(){var e=(0,h.default)(),n=(0,f.useState)(!1),r=a(n,2),i=r[0],o=r[1];return f.default.createElement(t.CopyButtonContainer,{onClick:function(){if(e){var t=(0,d.default)(e,v),n=(0,d.default)(e._options,v),r=JSON.stringify(Object.assign(Object.assign({},t),{connectionOptions:n}),null,2);navigator.clipboard.writeText(r).then((function(){o(!0)}))}},onMouseLeave:function(){return o(!1)},hasRoom:!!e},f.default.createElement(t.Tooltip,null,i?"Room information copied to clipboard":"Copy Room Information"),f.default.createElement("svg",{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.917.413c0-.274.223-.496.5-.496h6.666c.133 0 .26.052.354.145l5 4.959c.093.093.146.219.146.35v11.57a.498.498 0 01-.5.496H5.417a.498.498 0 01-.5-.495V.412zm1 .495v15.538h10.666V5.576L11.876.909h-5.96z",fill:"#DDD"}),f.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.083-.083c.276 0 .5.222.5.496v4.462h4.5c.276 0 .5.222.5.496a.498.498 0 01-.5.496h-5a.498.498 0 01-.5-.496V.413c0-.274.224-.496.5-.496zM2.417 2.892c0-.274.223-.496.5-.496h2.5c.276 0 .5.222.5.496a.498.498 0 01-.5.496h-2v15.537h10.666v-1.983c0-.274.224-.496.5-.496s.5.222.5.495v2.48a.498.498 0 01-.5.496H2.917a.498.498 0 01-.5-.496V2.89z",fill:"#DDD"})))}},61386:function(e,t,n){"use strict";var r,i,a,o,s,u,c,l=n(59400).default,d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TabSelector=t.RightBarContainer=t.CloseIconContainer=t.ChildrenContainer=t.OverflowContainer=t.Bar=t.BAR_HEIGHT=t.Container=void 0;var f=d(n(36031)),p=n(37875);t.Container=f.default.div(r||(r=l(["\n  width: ","px;\n  height: 85vh;\n  position: fixed;\n  top: 0;\n  transform-origin: 0 0;\n  z-index: 10000;\n  border: 1px solid ",";\n  color: ",";\n  & h1,\n  & h2,\n  & h3,\n  & h4,\n  & h5,\n  & h6,\n  & span,\n  & p,\n  & text {\n    font-family: 'Inter', sans-serif;\n  }\n\n  @media (max-width: ","px) {\n    /* !important is used here to override the style attributes used for dragging */\n    top: 0 !important;\n    left: 0 !important;\n  }\n"])),p.theme.monitorWidth,p.theme.borderColor,p.theme.borderColor,p.theme.monitorWidth),t.BAR_HEIGHT="2.8em",t.Bar=f.default.div(i||(i=l(["\n  height: ",";\n  cursor: move;\n  background: black;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  z-index: 20000;\n"])),t.BAR_HEIGHT,p.theme.borderColor),t.OverflowContainer=f.default.div(a||(a=l(["\n  overflow: hidden;\n  height: 100%;\n  padding-top: ",";\n"])),t.BAR_HEIGHT),t.ChildrenContainer=f.default.div(o||(o=l(["\n  height: 100%;\n  overflow-y: auto;\n  padding: 0.4em 0.8em 0.4em;\n  background: black;\n  opacity: 0.8;\n"]))),t.CloseIconContainer=f.default.div(s||(s=l(["\n  border-left: 1px solid ",";\n  height: 2.7em;\n  width: 2.7em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  & svg {\n    stroke: ",";\n  }\n\n  &:hover {\n    background: rgba(50, 50, 50, 0.9);\n  }\n"])),p.theme.borderColor,p.theme.borderColor),t.RightBarContainer=f.default.div(u||(u=l(["\n  display: flex;\n  align-items: center;\n"]))),t.TabSelector=f.default.span(c||(c=l(["\n  position: relative;\n  margin: 0px 6px;\n  color: ",";\n  cursor: pointer;\n  padding: 8px;\n  border-bottom: ",";\n  &:hover {\n    background: rgba(50, 50, 50, 0.9);\n  }\n"])),(function(e){return e.isActive?p.theme.textColor:"#555"}),(function(e){return e.isActive?"2px solid white":""}))},825:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioTrackPublicationInfo=t.AudioTrackInfo=void 0;var i=r(n(72791)),a=r(n(41280)),o=r(n(76816)),s=n(92002),u=r(n(333)),c=r(n(39458)),l=r(n(16629)),d=r(n(11159));t.AudioTrackInfo=function(e){var t=e.track,n=e.trackSid,r=(0,a.default)(t),u=(0,s.useTrackBandwidth)(n),d=(0,s.useTrackData)(n),f=(0,o.default)(t),p="";if(d){var h=d.packetsReceived,m=d.packetsSent,v=d.packetsLost,g=null!==h&&void 0!==h?h:m;p=g&&null!==v?"".concat((v/g*100).toLocaleString(),"%"):null}return i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{label:"isEnabled",value:r}),i.default.createElement(c.default,{label:"Bandwidth",value:(null===u||void 0===u?void 0:u.toLocaleString())+"kbps"}),d&&i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{label:"Codec",value:d.codec}),i.default.createElement(c.default,{label:"Jitter",value:d.jitter}),i.default.createElement(c.default,{label:"Packets Lost",value:d.packetsLost}),i.default.createElement(c.default,{label:"Packet Loss Percentage",value:p})),i.default.createElement(l.default,{track:f}))};t.AudioTrackPublicationInfo=function(e){var n=e.publication,r=(0,u.default)(n);return i.default.createElement(d.default,null,i.default.createElement(c.default,{label:"Name",value:n.trackName}),i.default.createElement(c.default,{label:"SID",value:n.trackSid}),i.default.createElement(c.default,{label:"isSubscribed",value:!!r}),r&&i.default.createElement(t.AudioTrackInfo,{track:r,trackSid:n.trackSid}))}},82978:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataTrackPublicationInfo=t.DataTrackInfo=void 0;var i=r(n(72791)),a=r(n(41280)),o=r(n(44003)),s=r(n(333)),u=r(n(64821)),c=r(n(39458)),l=r(n(11159));t.DataTrackInfo=function(e){var t=e.track,n=(0,a.default)(t),r=(0,o.default)(t);return void 0===t.isEnabled||void 0===t.isSwitchedOff?i.default.createElement(u.default,{track:t}):i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{label:"isEnabled",value:n}),i.default.createElement(c.default,{label:"isSwitchedOff",value:r}),i.default.createElement(c.default,{label:"Priority",value:t.priority}),i.default.createElement(u.default,{track:t}))};t.DataTrackPublicationInfo=function(e){var n=e.publication,r=(0,s.default)(n);return i.default.createElement(l.default,null,i.default.createElement(c.default,{label:"Kind",value:n.kind}),i.default.createElement(c.default,{label:"isSubscribed",value:!!r}),r&&i.default.createElement(t.DataTrackInfo,{track:r}))}},92992:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Participant=void 0;var i=r(n(72791)),a=n(44261),o=r(n(39458)),s=r(n(20535)),u=r(n(13784)),c=r(n(89973)),l=n(32690),d=n(825),f=n(82978);t.Participant=function(e){var t=e.participant,n=e.isLocal,r=(0,s.default)(t),p=(0,u.default)(t),h=(0,c.default)(t,n),m=h.filter((function(e){return"data"===e.kind})),v=h.filter((function(e){return"audio"===e.kind})),g=h.filter((function(e){return"video"===e.kind}));return i.default.createElement(a.Accordion,{label:t.identity},i.default.createElement(o.default,{label:"SID",value:t.sid}),i.default.createElement(o.default,{label:"isReconnecting",value:p}),i.default.createElement(o.default,{label:"networkQualityLevel",value:r}),i.default.createElement(a.Accordion,{label:"Data Tracks (".concat(m.length,")")},m.map((function(e){return i.default.createElement(f.DataTrackPublicationInfo,{key:e.trackSid,publication:e})}))),i.default.createElement(a.Accordion,{label:"Audio Tracks (".concat(v.length,")")},v.map((function(e){return i.default.createElement(d.AudioTrackPublicationInfo,{key:e.trackSid,publication:e})}))),i.default.createElement(a.Accordion,{label:"Video Tracks (".concat(g.length,")")},g.map((function(e){return i.default.createElement(l.VideoTrackPublicationInfo,{key:e.trackSid,publication:e})}))))}},29150:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(23853)),o=r(n(48872)),s=r(n(70907)),u=r(n(89699)),c=n(92992);t.default=function(){var e=(0,a.default)(),t=(0,o.default)(),n=(0,s.default)();return t&&"disconnected"!==n?i.default.createElement(i.default.Fragment,null,i.default.createElement(u.default,null,"Participant Information (",e.length+1,"):"),i.default.createElement(c.Participant,{participant:t.localParticipant,isLocal:!0}),e.map((function(e){return i.default.createElement(c.Participant,{key:e.sid,participant:e})}))):null}},32690:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoTrackPublicationInfo=t.VideoTrackInfo=void 0;var i=r(n(72791)),a=r(n(39458)),o=r(n(16629)),s=r(n(11159)),u=r(n(41280)),c=r(n(44003)),l=r(n(76816)),d=r(n(83749)),f=n(92002),p=r(n(333)),h=r(n(85877)),m=n(18681),v=function(e){return e?"".concat(e.width," x ").concat(e.height):"undefined"},g=(0,m.withIntervalUpdate)(a.default);t.VideoTrackInfo=function(e){var t=e.track,n=e.trackSid,r=(0,h.default)(t),s=(0,c.default)(t),d=(0,u.default)(t),p=(0,f.useTrackBandwidth)(n),m=(0,f.useTrackData)(n),y=(0,l.default)(t),b="";if(m){var w=m.packetsReceived,k=m.packetsSent,x=m.packetsLost,_=null!==w&&void 0!==w?w:k;b=_&&null!==x?"".concat((x/_*100).toLocaleString(),"%"):null}return i.default.createElement(i.default.Fragment,null,i.default.createElement(a.default,{label:"Dimensions",value:v(r)}),void 0!==s&&i.default.createElement(a.default,{label:"isSwitchedOff",value:s}),i.default.createElement(a.default,{label:"isEnabled",value:d}),i.default.createElement(a.default,{label:"Bandwidth",value:(null===p||void 0===p?void 0:p.toLocaleString())+"kbps"}),void 0!==t.priority&&i.default.createElement(g,{label:"subscribePriority",value:t.priority}),m&&i.default.createElement(i.default.Fragment,null,i.default.createElement(a.default,{label:"Codec",value:m.codec}),i.default.createElement(a.default,{label:"Framerate",value:null===m||void 0===m?void 0:m.frameRate}),i.default.createElement(a.default,{label:"Packets Lost",value:null===m||void 0===m?void 0:m.packetsLost}),i.default.createElement(a.default,{label:"Packet Loss Percentage",value:b})),i.default.createElement(o.default,{track:y}))};t.VideoTrackPublicationInfo=function(e){var n=e.publication,r=(0,d.default)(n),o=(0,p.default)(n);return i.default.createElement(s.default,null,i.default.createElement(a.default,{label:"Name",value:n.trackName}),i.default.createElement(a.default,{label:"SID",value:n.trackSid}),i.default.createElement(a.default,{label:"isSubscribed",value:!!o}),void 0!==r&&i.default.createElement(a.default,{label:"publishPriority",value:r}),o&&i.default.createElement(t.VideoTrackInfo,{track:o,trackSid:n.trackSid}))}},27257:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(39458)),o=r(n(89699)),s=r(n(71522)),u=r(n(13990)),c=r(n(48872)),l=r(n(70907)),d=r(n(71263)),f=n(44261),p=r(n(61776)),h=r(n(85674)),m=r(n(10365));t.default=function(){var e=(0,c.default)(),t=(0,s.default)(),n=(0,l.default)(),r=(0,u.default)(),v=(0,d.default)(),g=v.currentReceivedBitrate,y=v.currentSentBitrate;if(!e)return null;var b=e._options,w=b.audio,k=b.automaticSubscription,x=b.bandwidthProfile,_=b.dscpTagging,S=b.enableDscp,E=b.iceServers,C=b.iceTransportPolicy,T=b.insights,A=b.maxAudioBitrate,O=b.maxVideoBitrate,R=b.name,I=b.networkQuality,N=b.region,P=b.preferredAudioCodecs,M=b.preferredVideoCodecs,L=b.loggerName,D=b.tracks,F=b.video;return i.default.createElement("div",{style:{marginBottom:"1em"}},i.default.createElement(o.default,null,"Room information:"),"disconnected"===n?i.default.createElement("span",null,"Not connected to a Twilio Video room."):i.default.createElement(i.default.Fragment,null,i.default.createElement(a.default,{label:"Room Name",value:e.name}),i.default.createElement(a.default,{label:"SID",value:e.sid}),i.default.createElement(a.default,{label:"State",value:n}),i.default.createElement(a.default,{label:"Dominant Speaker",value:(null===t||void 0===t?void 0:t.identity)||null}),i.default.createElement(a.default,{label:"Media Region",value:e.mediaRegion}),i.default.createElement(a.default,{label:"Is Recording",value:r}),i.default.createElement(a.default,{label:"Total Sent Bandwidth",value:(null===y||void 0===y?void 0:y.toLocaleString())+"kbps"}),i.default.createElement(a.default,{label:"Total Received Bandwidth",value:(null===g||void 0===g?void 0:g.toLocaleString())+"kbps"}),i.default.createElement(f.Accordion,{label:"Connection Options"},i.default.createElement(p.default,{label:"Audio",obj:w}),i.default.createElement(a.default,{label:"Automatic Subscription",value:k}),i.default.createElement(p.default,{label:"Bandwidth Profile",obj:x}),i.default.createElement(a.default,{label:"Dominant Speaker",value:e._options.dominantSpeaker}),i.default.createElement(a.default,{label:"DSCP Tagging",value:_}),i.default.createElement(a.default,{label:"Enable DSCP",value:S}),i.default.createElement(h.default,{label:"Ice Servers",arr:E}),i.default.createElement(p.default,{label:"Ice Transport Policy",obj:C}),i.default.createElement(a.default,{label:"Insights",value:T}),i.default.createElement(a.default,{label:"Max Audio Bitrate",value:A}),i.default.createElement(a.default,{label:"Max Video Bitrate",value:O}),i.default.createElement(a.default,{label:"Name",value:R}),i.default.createElement(p.default,{label:"Network Quality",obj:I}),i.default.createElement(a.default,{label:"Region",value:N}),i.default.createElement(h.default,{label:"Preferred Audio Codecs",arr:P}),i.default.createElement(h.default,{label:"Preferred Video Codecs",arr:M}),i.default.createElement(a.default,{label:"Logger Name",value:L}),i.default.createElement(m.default,{tracks:D}),i.default.createElement(p.default,{label:"Video",obj:F}))))}},88307:function(e,t,n){"use strict";var r=n(27424).default,i=n(56690).default,a=n(89728).default,o=n(61655).default,s=n(26389).default,u=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&u(t,e,n);return c(t,e),t},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomContext=t.roomRegistry=void 0;var f=l(n(72791)),p=function(e){o(n,e);var t=s(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"registerVideoRoom",value:function(e){this.room=e,this.emit("roomRegistered",e)}}]),n}(d(n(97143)).default);t.roomRegistry=new p,t.RoomContext=f.default.createContext(void 0),t.default=function(e){var n=e.children,i=(0,f.useState)(),a=r(i,2),o=a[0],s=a[1];return(0,f.useEffect)((function(){t.roomRegistry.room&&s(t.roomRegistry.room);var e=function(e){return s(e)};return t.roomRegistry.on("roomRegistered",e),function(){t.roomRegistry.off("roomRegistered",e)}}),[]),f.default.createElement(t.RoomContext.Provider,{value:o},n)}},37114:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomStatsProvider=t.RoomStatsContext=t.truncateFront=void 0;var s=a(n(72791)),u=n(92002),c=n(31928),l=o(n(56365)),d=o(n(48872));t.truncateFront=function(e,t){return e.slice(Math.max(0,e.length-t),e.length)},t.RoomStatsContext=s.default.createContext(null);t.RoomStatsProvider=function(e){var n,r,i=e.children,a=(0,s.useRef)(),o=(0,s.useRef)([]),f=(0,s.useRef)([]),p=(0,d.default)(),h=(0,l.default)(p),m=a.current;a.current=h;var v=(0,u.getTotalBandwidth)("bytesReceived",h,m),g=o.current.concat({x:Date.now(),y:v});o.current=(0,t.truncateFront)(g,c.MAX_STAT_HISTORY_LENGTH);var y=(0,u.getTotalBandwidth)("bytesSent",h,m),b=f.current.concat({x:Date.now(),y:y});return f.current=(0,t.truncateFront)(b,c.MAX_STAT_HISTORY_LENGTH),s.default.createElement(t.RoomStatsContext.Provider,{value:{stats:h,previousStats:m,receivedBitrateHistory:o.current,sentBitrateHistory:f.current,currentReceivedBitrate:null===(n=o.current.slice(-1)[0])||void 0===n?void 0:n.y,currentSentBitrate:null===(r=f.current.slice(-1)[0])||void 0===r?void 0:r.y}},i)},t.default=t.RoomStatsProvider},99460:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBitrate=void 0;var i=r(n(72791)),a=n(49944),o=r(n(89699)),s=n(31928),u=n(80617),c=n(31253);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=["K","M","G"];return e<1e3?+e.toFixed(t)+" "+n[t]:l(e/1e3,t+1)}t.formatBitrate=l;var d=(0,c.buildChartTheme)({backgroundColor:"transparent",colors:["#E22525"],tickLength:2,gridColor:"#333",gridColorDark:"#333",svgLabelSmall:{strokeWidth:.2,stroke:"#ddd",fill:"#ddd"},svgLabelBig:{strokeWidth:0,fill:"#ddd"}});t.default=function(e){var t,n,r=e.data,f=e.title,p=e.yAxisLabel,h=Date.now()-s.UPDATE_INTERVAL*s.MAX_STAT_HISTORY_LENGTH+1e3,m=Math.min(null!==(t=(0,u.min)(r,(function(e){return e.x})))&&void 0!==t?t:0,h);return i.default.createElement(i.default.Fragment,null,i.default.createElement(o.default,null,f),i.default.createElement(c.XYChart,{height:275,width:465,xScale:{type:"time",domain:[m,null!==(n=(0,u.max)(r,(function(e){return e.x})))&&void 0!==n?n:0]},yScale:{type:"linear",domain:[0,Math.max(50,(0,u.max)(r,(function(e){return e.y})))]},margin:{top:10,left:65,right:0,bottom:50},theme:d},i.default.createElement(c.Grid,{columns:!1,numTicks:5,strokeDasharray:"2"}),i.default.createElement(c.Grid,{rows:!1,strokeDasharray:"2",numTicks:5}),i.default.createElement(c.Axis,{orientation:"bottom",label:"Time",numTicks:5}),i.default.createElement(c.Axis,{orientation:"left",label:p,numTicks:5,tickFormat:function(e){return l(e)},labelOffset:36}),i.default.createElement(c.LineSeries,{dataKey:"x",data:r,xAccessor:function(e){return e.x},yAccessor:function(e){return e.y},curve:a.curveMonotoneX})))}},98209:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(99460)),o=r(n(71263));t.default=function(){var e=(0,o.default)(),t=e.receivedBitrateHistory,n=e.currentReceivedBitrate;return i.default.createElement(a.default,{data:t,yAxisLabel:"Bits per second",title:"Total Bandwidth Received: ".concat(null===n||void 0===n?void 0:n.toLocaleString(),"kbps")})}},64304:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(99460)),o=r(n(71263));t.default=function(){var e=(0,o.default)(),t=e.sentBitrateHistory,n=e.currentSentBitrate;return i.default.createElement(a.default,{data:t,yAxisLabel:"Bits per second",title:"Total Bandwidth Sent: ".concat(null===n||void 0===n?void 0:n.toLocaleString(),"kbps")})}},37875:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.theme=void 0,t.theme={monitorWidth:500,textColor:"#ddd",borderColor:"#ddd",fontSizes:{small:"0.8rem"}}},44261:function(e,t,n){"use strict";var r,i,a,o=n(27424).default,s=n(59400).default,u=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&u(t,e,n);return c(t,e),t},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Accordion=t.LabelContainer=void 0;var f=l(n(72791)),p=d(n(36031)),h=n(37875),m=p.default.div(r||(r=s(["\n  width: 0;\n  height: 0;\n  border-top: 5px solid ",";\n  border-left: 5px solid transparent;\n  transform: ",";\n"])),(function(e){return e.isClickable?h.theme.textColor:"#555"}),(function(e){return e.isOpen?"rotate(135deg) translateX(-2px)":"rotate(45deg)"})),v=p.default.div(i||(i=s(["\n  padding-left: 17px;\n  margin-left: 4px;\n  border-left: 1px solid ",";\n"])),h.theme.borderColor);t.LabelContainer=p.default.div(a||(a=s(["\n  display: flex;\n  align-items: center;\n  ","\n\n  & > span {\n    margin-left: 10px;\n    font-size: ",";\n    padding: 8px 0;\n  }\n\n  &:hover {\n    background: rgba(50, 50, 50, 0.9);\n  }\n"])),(function(e){return e.isClickable&&"cursor: pointer;"}),h.theme.fontSizes.small);t.Accordion=function(e){var n=e.children,r=e.label,i=(0,f.useState)(!1),a=o(i,2),s=a[0],u=a[1],c=f.default.Children.count(n)>0;return f.default.createElement("div",null,f.default.createElement(t.LabelContainer,{onClick:function(){return c&&u((function(e){return!e}))},isClickable:c},f.default.createElement(m,{isOpen:s,isClickable:c}),f.default.createElement("span",null,r)),s&&f.default.createElement(v,null,n))}},85674:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(61776)),o=r(n(39458)),s=n(44261),u=r(n(11159));t.default=i.default.memo((function(e){var t=e.label,n=e.arr;return"undefined"===typeof n||null===n?i.default.createElement(o.default,{label:t,value:n}):0===n.length?i.default.createElement(o.default,{label:t,value:"undefined"}):i.default.createElement(s.Accordion,{label:t},n.map((function(e,t){return i.default.createElement(u.default,{key:t},i.default.createElement(a.default,{obj:e}))})))}))},39458:function(e,t,n){"use strict";var r,i=n(59400).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(72791)),s=a(n(36031)),u=n(37875),c=s.default.span(r||(r=i(["\n  font-size: ",";\n"])),u.theme.fontSizes.small);t.default=o.default.memo((function(e){var t=e.label,n=e.value;return o.default.createElement("div",null,o.default.createElement(c,null,t,": ",String(n)))}))},89699:function(e,t,n){"use strict";var r,i=n(59400).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(72791)),s=a(n(36031));t.default=o.default.memo(s.default.h3(r||(r=i(["\n  margin: 0.2em 0 0.5em;\n"]))))},61776:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(72791)),o=n(44261),s=i(n(39458)),u=i(n(11159));t.default=a.default.memo((function e(t){var n=t.label,i=t.obj;if("object"!==typeof i||"undefined"===typeof i||null===i)return a.default.createElement(s.default,{label:String(n),value:i});var c=n?o.Accordion:u.default;return a.default.createElement(c,{label:n},Object.entries(i).map((function(t,n){var i=r(t,2),o=i[0],u=i[1];return"object"!==typeof u||Array.isArray(u)?a.default.createElement(s.default,{key:n,label:o,value:u}):a.default.createElement(e,{key:n,label:o,obj:u})})))}))},11159:function(e,t,n){"use strict";var r,i=n(59400).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(72791)),s=a(n(36031)),u=n(37875);t.default=o.default.memo(s.default.div(r||(r=i(["\n  &:not(:last-child) {\n    border-bottom: 1px solid ",";\n    margin-bottom: 3px;\n  }\n  padding-bottom: 3px;\n\n  &:hover {\n    background: rgba(50, 50, 50, 0.9);\n  }\n"])),u.theme.borderColor))},10365:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=n(44261),o=r(n(39458)),s=r(n(16629)),u=r(n(11159)),c=r(n(64821));t.default=i.default.memo((function(e){var t=e.tracks;return"undefined"===typeof t||null===t?i.default.createElement(o.default,{label:"Tracks",value:t}):i.default.createElement(a.Accordion,{label:"Tracks"},t.map((function(e,t){if(e instanceof MediaStreamTrack)return i.default.createElement(u.default,{key:t},i.default.createElement(s.default,{track:e}));if("audio"===e.kind||"video"===e.kind){var n=e.kind,r=e.name,a=e.id,l=e.mediaStreamTrack;return i.default.createElement(u.default,{key:t},i.default.createElement(o.default,{label:"Kind",value:n}),i.default.createElement(o.default,{label:"Name",value:r}),i.default.createElement(o.default,{label:"ID",value:a}),i.default.createElement(s.default,{track:l}))}return i.default.createElement(u.default,{key:t},i.default.createElement(c.default,{track:e}))})))}))},64821:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(39458));t.default=i.default.memo((function(e){var t=e.track,n=t.kind,r=t.maxPacketLifeTime,o=t.maxRetransmits,s=t.ordered,u=t.reliable,c=void 0===t.isEnabled?{label:"ID",value:t.id}:{label:"SID",value:t.sid};return i.default.createElement(i.default.Fragment,null,i.default.createElement(a.default,{label:"Kind",value:n}),i.default.createElement(a.default,{label:c.label,value:c.value}),i.default.createElement(a.default,{label:"maxPacketLifeTime",value:r}),i.default.createElement(a.default,{label:"maxRetransmits",value:o}),i.default.createElement(a.default,{label:"Ordered",value:s}),i.default.createElement(a.default,{label:"Reliable",value:u}))}))},16629:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(60377)),o=r(n(61776));t.default=i.default.memo((function(e){var t=e.track,n=(0,a.default)(t);return i.default.createElement(o.default,{label:"Media Stream Track",obj:n})}))},31928:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_INTERVAL=t.MAX_STAT_HISTORY_LENGTH=void 0,t.MAX_STAT_HISTORY_LENGTH=240,t.UPDATE_INTERVAL=1e3},71522:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(72791),o=i(n(48872));t.default=function(){var e=(0,o.default)(),t=(0,a.useState)((null===e||void 0===e?void 0:e.dominantSpeaker)||null),n=r(t,2),i=n[0],s=n[1];return(0,a.useEffect)((function(){if(e){var t=function(e){return s(e)};return e.on("dominantSpeakerChanged",t),function(){e.off("dominantSpeakerChanged",t)}}s(null)}),[e]),i}},91503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(72791),i=n(37875);t.default=function(){var e=(0,r.useRef)(),t=(0,r.useRef)(),n=(0,r.useRef)({x:0,y:0});return(0,r.useEffect)((function(){var r=e.current,a=t.current;if(r&&a){var o=function(e){if(!(window.innerWidth<i.theme.monitorWidth)){var t=n.current,r=t.x,o=t.y;a.style.left="".concat(e.clientX-r,"px"),a.style.top="".concat(e.clientY-o,"px")}},s=function(e){n.current.x=e.clientX-a.offsetLeft,n.current.y=e.clientY-a.offsetTop,document.body.addEventListener("mousemove",o)},u=function(){document.body.removeEventListener("mousemove",o),n.current={x:0,y:0}};return r.addEventListener("mousedown",s),document.body.addEventListener("mouseup",u),function(){r.removeEventListener("mousedown",s),document.body.removeEventListener("mouseup",u)}}}),[]),{draggableRef:e,dragContainerRef:t}}},56365:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791),a=n(31928);t.default=function(e){var t=(0,i.useState)(),n=r(t,2),o=n[0],s=n[1];return(0,i.useEffect)((function(){var t;if(e){var n=function(){return e.getStats().then((function(e){return s(e)}))};return n(),t=window.setInterval(n,a.UPDATE_INTERVAL),function(){window.clearInterval(t)}}}),[e]),o}},18681:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.withIntervalUpdate=t.useIntervalUpdate=void 0;var s=o(n(72791)),u=n(31928);function c(){var e=(0,s.useState)(0),t=r(e,2)[1],n=(0,s.useRef)();(0,s.useEffect)((function(){return n.current=window.setInterval((function(){return t((function(e){return e+1}))}),u.UPDATE_INTERVAL),function(){window.clearInterval(n.current)}}),[])}t.useIntervalUpdate=c,t.withIntervalUpdate=function(e){return function(t){return c(),s.default.createElement(e,Object.assign({},t))}}},13990:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(72791),o=i(n(48872));t.default=function(){var e=(0,o.default)(),t=(0,a.useState)((null===e||void 0===e?void 0:e.isRecording)||!1),n=r(t,2),i=n[0],s=n[1];return(0,a.useEffect)((function(){if(e){s(e.isRecording);var t=function(){return s(!0)},n=function(){return s(!1)};return e.on("recordingStarted",t),e.on("recordingStopped",n),function(){e.off("recordingStarted",t),e.off("recordingStopped",n)}}s(!1)}),[e]),i}},41280:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(!!e&&e.isEnabled),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(!!e&&e.isEnabled),e){var t=function(){return o(!0)},n=function(){return o(!1)};return e.on("enabled",t),e.on("disabled",n),function(){e.off("enabled",t),e.off("disabled",n)}}}),[e]),a}},44003:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(e&&e.isSwitchedOff),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(e&&e.isSwitchedOff),e){var t=function(){return o(!0)},n=function(){return o(!1)};return e.on("switchedOff",t),e.on("switchedOn",n),function(){e.off("switchedOff",t),e.off("switchedOn",n)}}}),[e]),!!a}},76816:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(null===e||void 0===e?void 0:e.mediaStreamTrack),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(null===e||void 0===e?void 0:e.mediaStreamTrack),e){var t=function(){return o(e.mediaStreamTrack)};return e.on("started",t),function(){e.off("started",t)}}}),[e]),a}},60377:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(null===e||void 0===e?void 0:e.muted),n=r(t,2),a=n[0],o=n[1],s=(0,i.useState)(null===e||void 0===e?void 0:e.readyState),u=r(s,2),c=u[0],l=u[1];return(0,i.useEffect)((function(){if(o(null===e||void 0===e?void 0:e.muted),l(null===e||void 0===e?void 0:e.readyState),e){var t=function(){return o(null===e||void 0===e?void 0:e.muted)},n=function(){return l(null===e||void 0===e?void 0:e.readyState)};return e.addEventListener("mute",t),e.addEventListener("unmute",t),e.addEventListener("ended",n),function(){e.removeEventListener("mute",t),e.removeEventListener("unmute",t),e.removeEventListener("ended",n)}}}),[e]),{muted:a,readyState:c,id:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.label,kind:null===e||void 0===e?void 0:e.kind}}},13784:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(!1),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){var t=function(){return o(!0)},n=function(){return o(!1)};return n(),e.on("reconnecting",t),e.on("reconnected",n),function(){e.off("reconnecting",t),e.off("reconnected",n)}}),[e]),a}},20535:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(e.networkQualityLevel),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){var t=function(e){return o(e)};return o(e.networkQualityLevel),e.on("networkQualityLevelChanged",t),function(){e.off("networkQualityLevelChanged",t)}}),[e]),a}},23853:function(e,t,n){"use strict";var r=n(861).default,i=n(27424).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(72791),s=a(n(48872));t.default=function(){var e=(0,s.default)(),t=(0,o.useState)(e?Array.from(e.participants.values()):[]),n=i(t,2),a=n[0],u=n[1];return(0,o.useEffect)((function(){if(e){u(Array.from(e.participants.values()));var t=function(e){return u((function(t){return[].concat(r(t),[e])}))},n=function(e){return u((function(t){return t.filter((function(t){return t!==e}))}))};return e.on("participantConnected",t),e.on("participantDisconnected",n),function(){e.off("participantConnected",t),e.off("participantDisconnected",n)}}}),[e]),a}},89973:function(e,t,n){"use strict";var r=n(861).default,i=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(72791),o=n(31928);t.default=function(e,t){var n=(0,a.useState)([]),s=i(n,2),u=s[0],c=s[1],l=(0,a.useRef)();return(0,a.useEffect)((function(){if(t)return l.current=window.setInterval((function(){var t=Array.from(e.tracks.values());c((function(e){return n=t,e.map((function(e){return e.trackSid})).sort().join("")===n.map((function(e){return e.trackSid})).sort().join("")?e:t;var n}))}),o.UPDATE_INTERVAL),function(){window.clearInterval(l.current)}}),[e,t]),(0,a.useEffect)((function(){c(Array.from(e.tracks.values()));var t=function(e){return c((function(t){return[].concat(r(t),[e])}))},n=function(e){return c((function(t){return t.filter((function(t){return t!==e}))}))};return e.on("trackPublished",t),e.on("trackUnpublished",n),function(){e.off("trackPublished",t),e.off("trackUnpublished",n)}}),[e]),u}},83749:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(e.publishPriority),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){o(e.publishPriority);var t=function(e){return o(e)};return e.on("publishPriorityChanged",t),function(){e.off("publishPriorityChanged",t)}}),[e]),a}},48872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(72791),i=n(88307);t.default=function(){return(0,r.useContext)(i.RoomContext)}},70907:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(72791),o=i(n(48872));t.default=function(){var e=(0,o.default)(),t=(0,a.useState)("disconnected"),n=r(t,2),i=n[0],s=n[1];return(0,a.useEffect)((function(){if(e){var t=function(){return s(e.state||"disconnected")};return t(),e.on("disconnected",t).on("reconnected",t).on("reconnecting",t),function(){e.off("disconnected",t).off("reconnected",t).off("reconnecting",t)}}s("disconnected")}),[e]),i}},71263:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=n(37114);t.default=function(){return i.default.useContext(a.RoomStatsContext)}},92002:function(e,t,n){"use strict";var r=n(861).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useTrackData=t.getTotalBandwidth=t.useTrackBandwidth=t.round=t.getActiveTrackData=t.getTrackData=t.getAllTracks=t.getAllStats=void 0;var a=n(80617),o=i(n(71263));function s(e){return e.reduce((function(e,t){return{localAudioTrackStats:[].concat(r(e.localAudioTrackStats),r(t.localAudioTrackStats)),localVideoTrackStats:[].concat(r(e.localVideoTrackStats),r(t.localVideoTrackStats)),remoteAudioTrackStats:[].concat(r(e.remoteAudioTrackStats),r(t.remoteAudioTrackStats)),remoteVideoTrackStats:[].concat(r(e.remoteVideoTrackStats),r(t.remoteVideoTrackStats)),peerConnectionId:""}}),{localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[],peerConnectionId:""})}function u(e){var t=s(e),n=t.localAudioTrackStats,i=t.localVideoTrackStats,a=t.remoteAudioTrackStats,o=t.remoteVideoTrackStats;return[].concat(r(n),r(i),r(a),r(o))}function c(e,t){return u(t).filter((function(t){return t.trackSid===e}))}function l(e,t,n){var r=c(n,e);return c(n,t).filter((function(e){var t=r.find((function(t){return t.ssrc===e.ssrc}));return e.bytesSent!==(null===t||void 0===t?void 0:t.bytesSent)}))}t.getAllStats=s,t.getAllTracks=u,t.getTrackData=c,t.getActiveTrackData=l;t.round=function(e){return Math.round(10*(e+Number.EPSILON))/10},t.useTrackBandwidth=function(e){var n,r,i=(0,o.default)(),s=i.stats,u=i.previousStats;if(!s||!u)return null;var l=c(e,s),d=c(e,u);if(0===l.length||0===d.length)return null;var f=(0,a.sum)(l.map((function(e){var t,n;return null!==(n=null!==(t=e.bytesReceived)&&void 0!==t?t:e.bytesSent)&&void 0!==n?n:0}))),p=(0,a.sum)(d.map((function(e){var t,n;return null!==(n=null!==(t=e.bytesReceived)&&void 0!==t?t:e.bytesSent)&&void 0!==n?n:0}))),h=null===(n=l[0])||void 0===n?void 0:n.timestamp,m=null===(r=d[0])||void 0===r?void 0:r.timestamp;return 8*(0,t.round)((f-p)/(h-m))},t.getTotalBandwidth=function(e,n,r){if(!n||!r)return null;var i=u(n).filter((function(t){return"undefined"!==typeof t[e]})),o=u(r).filter((function(t){return"undefined"!==typeof t[e]})),s=i.map((function(t){var n,r,i=o.find((function(e){return e.ssrc===t.ssrc}));if(!i)return null;var a=null!==(n=t[e])&&void 0!==n?n:null,s=null!==(r=i[e])&&void 0!==r?r:null;return null!==a&&null!==s?(a-s)/(t.timestamp-i.timestamp)*8:null})).filter((function(e){return null!==e})).filter((function(e){return e>=0}));return(0,t.round)((0,a.sum)(s))},t.useTrackData=function(e){var t=(0,o.default)(),n=t.stats,r=t.previousStats;return n&&r?l(r,n,e)[0]:null}},333:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(e&&e.track),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(e&&e.track),e){var t=function(){return o(null)};return e.on("subscribed",o),e.on("unsubscribed",t),function(){e.off("subscribed",o),e.off("unsubscribed",t)}}}),[e]),a}},85877:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(null===e||void 0===e?void 0:e.dimensions),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(null===e||void 0===e?void 0:e.dimensions),e){var t=function(e){return o({width:e.dimensions.width,height:e.dimensions.height})};return e.on("dimensionsChanged",t),function(){e.off("dimensionsChanged",t)}}}),[e]),a}},60763:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(){var e,t,n=(0,i.useState)({height:window.innerHeight*((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1),width:window.innerWidth*((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1)}),a=r(n,2),o=a[0],s=a[1];return(0,i.useEffect)((function(){var e=function(){var e,t;s({height:window.innerHeight*((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1),width:window.innerWidth*((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1)})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),o}},68022:function(e,t,n){"use strict";var r=n(56690).default,i=n(89728).default,a=n(61655).default,o=n(26389).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoRoomMonitor=void 0;var u=s(n(72791)),c=s(n(54164)),l=s(n(5937)),d=s(n(97143)),f=n(88307),p=function(e){a(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"isOpen",get:function(){return Boolean(this.container)}},{key:"openMonitor",value:function(){if(!this.container){var e=document.createElement("div");document.body.appendChild(e),e.id="TwilioVideoRoomMonitorContainer",c.default.render(u.default.createElement(l.default,null),e),this.container=e,this.emit("opened")}}},{key:"closeMonitor",value:function(){this.container&&(c.default.unmountComponentAtNode(this.container),this.container.remove(),this.container=void 0,this.emit("closed"))}},{key:"toggleMonitor",value:function(){this.isOpen?this.closeMonitor():this.openMonitor()}},{key:"registerVideoRoom",value:function(e){f.roomRegistry.registerVideoRoom(e)}}]),n}(d.default);t.VideoRoomMonitor=new p,"browser"==={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.PARCEL_TARGET&&(window.Twilio=window.Twilio||{},window.Twilio.VideoRoomMonitor=t.VideoRoomMonitor)},36388:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(52007),i=n.n(r),a=n(72791),o=n(99648);function s(e){var t=e.x,n=e.y,r=e.dx,i=e.dy,s=e.children;return a.createElement(o.Z.Provider,{value:{x:t,y:n,dx:r,dy:i}},s)}s.propTypes={children:i().node.isRequired}},68974:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(52007),i=n.n(r),a=n(72791),o=n(1803),s=n(36388);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var c={r:10,fill:"transparent",stroke:"#777",strokeDasharray:"4,2",strokeWidth:2};function l(e){var t=e.canEditLabel,n=void 0===t||t,r=e.canEditSubject,i=void 0===r||r,l=e.children,d=e.dx,f=void 0===d?0:d,p=e.dy,h=void 0===p?0:p,m=e.height,v=e.labelDragHandleProps,g=e.onDragEnd,y=e.onDragMove,b=e.onDragStart,w=e.subjectDragHandleProps,k=e.width,x=e.x,_=void 0===x?0:x,S=e.y,E=void 0===S?0:S,C=(0,a.useRef)(),T=(0,a.useRef)(),A=(0,a.useCallback)((function(e){var t,n,r,i,a,o,s,u,c=e.event;b&&b({event:c,x:_+(null!=(t=null==(n=C.current)?void 0:n.dx)?t:0),y:E+(null!=(r=null==(i=C.current)?void 0:i.dy)?r:0),dx:f+(null!=(a=null==(o=T.current)?void 0:o.dx)?a:0),dy:h+(null!=(s=null==(u=T.current)?void 0:u.dy)?s:0)})}),[f,h,b,_,E]),O=(0,a.useCallback)((function(e){var t,n,r,i,a,o,s,u,c=e.event;y&&y({event:c,x:_+(null!=(t=null==(n=C.current)?void 0:n.dx)?t:0),y:E+(null!=(r=null==(i=C.current)?void 0:i.dy)?r:0),dx:f+(null!=(a=null==(o=T.current)?void 0:o.dx)?a:0),dy:h+(null!=(s=null==(u=T.current)?void 0:u.dy)?s:0)})}),[f,h,y,_,E]),R=(0,a.useCallback)((function(e){var t,n,r,i,a,o,s,u,c=e.event;g&&g({event:c,x:_+(null!=(t=null==(n=C.current)?void 0:n.dx)?t:0),y:E+(null!=(r=null==(i=C.current)?void 0:i.dy)?r:0),dx:f+(null!=(a=null==(o=T.current)?void 0:o.dx)?a:0),dy:h+(null!=(s=null==(u=T.current)?void 0:u.dy)?s:0)})}),[f,h,g,_,E]),I=(0,o.Z)({onDragStart:A,onDragMove:O,onDragEnd:R,x:_,y:E}),N=(0,o.Z)({onDragStart:A,onDragMove:O,onDragEnd:R,x:f,y:h});return C.current=I,T.current=N,a.createElement(a.Fragment,null,a.createElement(s.Z,{x:_+I.dx,y:E+I.dy,dx:f+N.dx,dy:h+N.dy},l),I.isDragging&&a.createElement("rect",{width:k,height:m,onMouseMove:I.dragMove,onMouseUp:I.dragEnd,fill:"transparent"}),i&&a.createElement("circle",u({cx:_,cy:E,transform:"translate("+I.dx+","+I.dy+")",onMouseMove:I.dragMove,onMouseUp:I.dragEnd,onMouseDown:I.dragStart,onTouchStart:I.dragStart,onTouchMove:I.dragMove,onTouchEnd:I.dragEnd,cursor:I.isDragging?"grabbing":"grab"},c,w)),N.isDragging&&a.createElement("rect",{width:k,height:m,onMouseMove:N.dragMove,onMouseUp:N.dragEnd,fill:"transparent"}),n&&a.createElement("circle",u({cx:_+I.dx+f,cy:E+I.dy+h,transform:"translate("+N.dx+","+N.dy+")",onMouseMove:N.dragMove,onMouseUp:N.dragEnd,onMouseDown:N.dragStart,onTouchStart:N.dragStart,onTouchMove:N.dragMove,onTouchEnd:N.dragEnd,cursor:N.isDragging?"grabbing":"grab"},c,v)))}l.propTypes={width:i().number.isRequired,height:i().number.isRequired,children:i().node.isRequired,canEditLabel:i().bool,canEditSubject:i().bool,onDragStart:i().func,onDragMove:i().func,onDragEnd:i().func}},99648:function(e,t,n){"use strict";var r=(0,n(72791).createContext)({});t.Z=r},99069:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.children,n=void 0===t?s.default:t,p=e.axisClassName,m=e.hideAxisLine,v=void 0!==m&&m,g=e.hideTicks,y=void 0!==g&&g,b=e.hideZero,w=void 0!==b&&b,k=e.left,x=void 0===k?0:k,_=e.numTicks,S=void 0===_?10:_,E=e.orientation,C=void 0===E?d.default.bottom:E,T=e.rangePadding,A=void 0===T?0:T,O=e.scale,R=e.tickFormat,I=e.tickLength,N=void 0===I?8:I,P=e.tickValues,M=e.top,L=void 0===M?0:M,D=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,f),F=null!=R?R:(0,c.default)(O),B=C===d.default.left,j=C===d.default.top,Z=j||C===d.default.bottom,V=(0,u.default)(O),U=B||j?-1:1,W=O.range(),H=(0,l.default)({x:Number(W[0])+.5-A,y:0},Z),z=(0,l.default)({x:Number(W[W.length-1])+.5+A,y:0},Z),G=(null!=P?P:(0,o.getTicks)(O,S)).filter((function(e){return!w||0!==e&&"0"!==e})).map((function(e,t){return{value:e,index:t}})),q=G.map((function(e){var t=e.value,n=e.index,r=(0,o.coerceNumber)(V(t));return{value:t,index:n,from:(0,l.default)({x:r,y:0},Z),to:(0,l.default)({x:r,y:N*U},Z),formattedValue:F(t,n,G)}}));return r.default.createElement(a.Group,{className:(0,i.default)("visx-axis",p),top:L,left:x},n(h({},D,{axisFromPoint:H,axisToPoint:z,hideAxisLine:v,hideTicks:y,hideZero:w,horizontal:Z,numTicks:S,orientation:C,rangePadding:A,scale:O,tickFormat:F,tickLength:N,tickPosition:V,tickSign:U,ticks:q})))};p(n(52007));var r=p(n(72791)),i=p(n(81694)),a=n(4791),o=n(10759),s=p(n(8337)),u=p(n(11622)),c=p(n(14765)),l=p(n(12823)),d=p(n(43054)),f=["children","axisClassName","hideAxisLine","hideTicks","hideZero","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function p(e){return e&&e.__esModule?e:{default:e}}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}},51035:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisClassName,n=e.labelOffset,u=void 0===n?8:n,d=e.tickLabelProps,f=void 0===d?l:d,p=e.tickLength,h=void 0===p?8:p,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s);return r.default.createElement(a.default,c({axisClassName:(0,i.default)("visx-axis-bottom",t),labelOffset:u,orientation:o.default.bottom,tickLabelProps:f,tickLength:h},m))},t.bottomTickLabelProps=void 0;var r=u(n(72791)),i=u(n(81694)),a=u(n(99069)),o=u(n(43054)),s=["axisClassName","labelOffset","tickLabelProps","tickLength"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(){return{dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"}};t.bottomTickLabelProps=l},48461:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisClassName,n=e.labelOffset,u=void 0===n?36:n,d=e.tickLabelProps,f=void 0===d?l:d,p=e.tickLength,h=void 0===p?8:p,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s);return r.default.createElement(a.default,c({axisClassName:(0,i.default)("visx-axis-left",t),labelOffset:u,orientation:o.default.left,tickLabelProps:f,tickLength:h},m))},t.leftTickLabelProps=void 0;var r=u(n(72791)),i=u(n(81694)),a=u(n(99069)),o=u(n(43054)),s=["axisClassName","labelOffset","tickLabelProps","tickLength"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(){return{dx:"-0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"end"}};t.leftTickLabelProps=l},8337:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisFromPoint,n=e.axisLineClassName,l=e.axisToPoint,p=e.hideAxisLine,h=e.hideTicks,m=e.horizontal,v=e.label,g=void 0===v?"":v,y=e.labelClassName,b=e.labelOffset,w=void 0===b?14:b,k=e.labelProps,x=void 0===k?f:k,_=e.orientation,S=void 0===_?c.Orientation.bottom:_,E=e.scale,C=e.stroke,T=void 0===C?"#222":C,A=e.strokeDasharray,O=e.strokeWidth,R=void 0===O?1:O,I=e.tickClassName,N=e.tickComponent,P=e.tickLineProps,M=e.tickLabelProps,L=void 0===M?function(){return f}:M,D=e.tickLength,F=void 0===D?8:D,B=e.tickStroke,j=void 0===B?"#222":B,Z=e.tickTransform,V=e.ticks,U=e.ticksComponent,W=void 0===U?u.default:U,H=V.map((function(e){var t=e.value,n=e.index;return L(t,n,V)})),z=Math.max.apply(Math,[10].concat(H.map((function(e){return"number"===typeof e.fontSize?e.fontSize:0}))));return r.default.createElement(r.default.Fragment,null,W({hideTicks:h,horizontal:m,orientation:S,scale:E,tickClassName:I,tickComponent:N,tickLabelProps:H,tickStroke:j,tickTransform:Z,ticks:V,strokeWidth:R,tickLineProps:P}),!p&&r.default.createElement(a.Line,{className:(0,i.default)("visx-axis-line",n),from:t,to:l,stroke:T,strokeWidth:R,strokeDasharray:A}),g&&r.default.createElement(o.Text,d({className:(0,i.default)("visx-axis-label",y)},(0,s.default)({labelOffset:w,labelProps:x,orientation:S,range:E.range(),tickLabelFontSize:z,tickLength:F}),x),g))};var r=l(n(72791)),i=l(n(81694)),a=n(54471),o=n(12755),s=l(n(14438)),u=l(n(68040)),c=n(6517);function l(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var f={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"}},10178:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisClassName,n=e.labelOffset,u=void 0===n?36:n,d=e.tickLabelProps,f=void 0===d?l:d,p=e.tickLength,h=void 0===p?8:p,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s);return r.default.createElement(a.default,c({axisClassName:(0,i.default)("visx-axis-right",t),labelOffset:u,orientation:o.default.right,tickLabelProps:f,tickLength:h},m))},t.rightTickLabelProps=void 0;var r=u(n(72791)),i=u(n(81694)),a=u(n(99069)),o=u(n(43054)),s=["axisClassName","labelOffset","tickLabelProps","tickLength"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(){return{dx:"0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"start"}};t.rightTickLabelProps=l},58184:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisClassName,n=e.labelOffset,u=void 0===n?8:n,d=e.tickLabelProps,f=void 0===d?l:d,p=e.tickLength,h=void 0===p?8:p,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s);return r.default.createElement(a.default,c({axisClassName:(0,i.default)("visx-axis-top",t),labelOffset:u,orientation:o.default.top,tickLabelProps:f,tickLength:h},m))},t.topTickLabelProps=void 0;var r=u(n(72791)),i=u(n(81694)),a=u(n(99069)),o=u(n(43054)),s=["axisClassName","labelOffset","tickLabelProps","tickLength"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(){return{dy:"-0.75em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"}};t.topTickLabelProps=l},68040:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.hideTicks,n=e.horizontal,c=e.orientation,d=e.tickClassName,f=e.tickComponent,p=e.tickLabelProps,h=e.tickStroke,m=void 0===h?"#222":h,v=e.tickTransform,g=e.ticks,y=e.strokeWidth,b=e.tickLineProps;return g.map((function(e){var h,g=e.value,w=e.index,k=e.from,x=e.to,_=e.formattedValue,S=null!=(h=p[w])?h:{},E=Math.max(10,"number"===typeof S.fontSize&&S.fontSize||0),C=x.y+(n&&c!==u.default.top?E:0);return r.default.createElement(o.Group,{key:"visx-tick-"+g+"-"+w,className:(0,i.default)("visx-axis-tick",d),transform:v},!t&&r.default.createElement(a.Line,l({from:k,to:x,stroke:m,strokeWidth:y,strokeLinecap:"square"},b)),f?f(l({},S,{x:x.x,y:C,formattedValue:_})):r.default.createElement(s.Text,l({x:x.x,y:C},S),_))}))};var r=c(n(72791)),i=c(n(81694)),a=n(54471),o=n(4791),s=n(12755),u=c(n(43054));function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}},43054:function(e,t){"use strict";t.__esModule=!0,t.default=void 0;var n={top:"top",left:"left",right:"right",bottom:"bottom"};t.default=n},6517:function(e,t,n){"use strict";t.__esModule=!0;var r={Axis:!0,AxisLeft:!0,AxisRight:!0,AxisTop:!0,AxisBottom:!0,Orientation:!0};t.Orientation=t.AxisBottom=t.AxisTop=t.AxisRight=t.AxisLeft=t.Axis=void 0;var i=d(n(99069));t.Axis=i.default;var a=d(n(48461));t.AxisLeft=a.default;var o=d(n(10178));t.AxisRight=o.default;var s=d(n(58184));t.AxisTop=s.default;var u=d(n(51035));t.AxisBottom=u.default;var c=d(n(43054));t.Orientation=c.default;var l=n(57653);function d(e){return e&&e.__esModule?e:{default:e}}Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===l[e]||(t[e]=l[e]))}))},57653:function(e,t){"use strict";t.__esModule=!0},12823:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=e.x,i=e.y;return new r.Point(t?{x:n,y:i}:{x:i,y:n})};var r=n(8274)},14438:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t,n,r,a=e.labelOffset,o=e.labelProps,s=e.orientation,u=e.range,c=e.tickLabelFontSize,l=e.tickLength,d=s===i.default.left||s===i.default.top?-1:1;if(s===i.default.top||s===i.default.bottom){var f=s===i.default.bottom&&"number"===typeof o.fontSize?o.fontSize:0;t=(Number(u[0])+Number(u[u.length-1]))/2,n=d*(l+a+c+f)}else t=d*((Number(u[0])+Number(u[u.length-1]))/2),n=-(l+a),r="rotate("+90*d+")";return{x:t,y:n,transform:r}};var r,i=(r=n(43054))&&r.__esModule?r:{default:r}},14765:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e;if("tickFormat"in t)return t.tickFormat();return r.toString};var r=n(10759)},11622:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){void 0===t&&(t="center");var n=e;if("start"!==t&&"bandwidth"in n){var r=n.bandwidth();return"center"===t&&(r/=2),n.round()&&(r=Math.round(r)),function(e){var t=n(e);return"number"===typeof t?t+r:t}}return e}},49944:function(e,t,n){"use strict";n.r(t),n.d(t,{curveBasis:function(){return r.ZP},curveBasisClosed:function(){return i.Z},curveBasisOpen:function(){return a.Z},curveBundle:function(){return s.Z},curveCardinal:function(){return l.ZP},curveCardinalClosed:function(){return d.Z},curveCardinalOpen:function(){return f.Z},curveCatmullRom:function(){return p.Z},curveCatmullRomClosed:function(){return h.Z},curveCatmullRomOpen:function(){return m.Z},curveLinear:function(){return u.Z},curveLinearClosed:function(){return c.Z},curveMonotoneX:function(){return v.Z},curveMonotoneY:function(){return v.s},curveNatural:function(){return g.Z},curveStep:function(){return o.ZP},curveStepAfter:function(){return o.cD},curveStepBefore:function(){return o.RN}});var r=n(76314),i=n(6066),a=n(54404),o=n(19943),s=n(4493),u=n(38146),c=n(19199),l=n(21804),d=n(43328),f=n(27273),p=n(8147),h=n(6449),m=n(92314),v=n(55856),g=n(41828)},1803:function(e,t,n){"use strict";t.Z=function(e){var t=void 0===e?{}:e,n=t.resetOnStart,c=void 0!==n&&n,d=t.snapToPointer,f=void 0===d||d,p=t.onDragEnd,h=t.onDragMove,m=t.onDragStart,v=t.x,g=t.y,y=t.dx,b=t.dy,w=t.isDragging,k=t.restrict,x=void 0===k?{}:k,_=t.restrictToPath,S=(0,r.useRef)({x:v,y:g,dx:y,dy:b}),E=(0,o.default)({x:v,y:g,dx:null!=y?y:0,dy:null!=b?b:0,isDragging:!1}),C=E[0],T=E[1],A=(0,r.useState)(new i.Point({x:0,y:0})),O=A[0],R=A[1];(0,r.useEffect)((function(){S.current.x===v&&S.current.y===g&&S.current.dx===y&&S.current.dy===b||(S.current={x:v,y:g,dx:y,dy:b},T((function(e){return l({},e,{x:v,y:g,dx:null!=y?y:0,dy:null!=b?b:0})})))})),(0,r.useEffect)((function(){void 0!==w&&C.isDragging!==w&&T((function(e){return l({},e,{isDragging:w})}))}),[C.isDragging,w,T]);var I=(0,u.default)(_),N=(0,r.useCallback)((function(e){e.persist(),T((function(t){var n=t.x,r=void 0===n?0:n,o=t.y,u=void 0===o?0:o,l=t.dx,d=t.dy,p=new i.Point({x:(r||0)+l,y:(u||0)+d}),h=(0,a.localPoint)(e)||new i.Point({x:0,y:0}),m=f?h:p,v=(0,s.default)(m,I,x);return R((0,i.subtractPoints)(p,h)),{isDragging:!0,dx:c?0:t.dx,dy:c?0:t.dy,x:c?v.x:v.x-t.dx,y:c?v.y:v.y-t.dy}}),m&&function(t){m(l({},t,{event:e}))})}),[m,c,x,I,T,f]),P=(0,r.useCallback)((function(e){e.persist(),T((function(t){if(!t.isDragging)return t;var n=t.x,r=void 0===n?0:n,o=t.y,u=void 0===o?0:o,c=(0,a.localPoint)(e)||new i.Point({x:0,y:0}),d=f?c:(0,i.sumPoints)(c,O),p=(0,s.default)(d,I,x);return l({},t,{dx:p.x-r,dy:p.y-u})}),h&&function(t){t.isDragging&&h(l({},t,{event:e}))})}),[T,h,f,O,I,x]),M=(0,r.useCallback)((function(e){e.persist(),T((function(e){return l({},e,{isDragging:!1})}),p&&function(t){p(l({},t,{event:e}))})}),[p,T]);return l({},C,{dragEnd:M,dragMove:P,dragStart:N})};var r=n(72791),i=n(8274),a=n(84042),o=c(n(71175)),s=c(n(49117)),u=c(n(88432));function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}},50314:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,n){return Math.min(Math.max(e,t),n)}},17589:function(e,t){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.__esModule=!0,t.default=function(e,t){for(var r,i=e,a=1/0,o=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(r=o()).done;){var s=r.value,u=Math.sqrt(Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2));u<a&&(a=u,i={x:s.x,y:s.y})}return i}},49117:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){var a,o,s,u;void 0===n&&(n={});if(t.length>0)return(0,i.default)(e,t);return{x:(0,r.default)(e.x,null!=(a=n.xMin)?a:-1/0,null!=(o=n.xMax)?o:1/0),y:(0,r.default)(e.y,null!=(s=n.yMin)?s:-1/0,null!=(u=n.yMax)?u:1/0)}};var r=a(n(50314)),i=a(n(17589));function a(e){return e&&e.__esModule?e:{default:e}}},88432:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,r.useMemo)((function(){if(!e)return[];var t=e.getCTM()||new DOMMatrix;return function(e,t,n){void 0===n&&(n=1);if(!e)return[];for(var r=[],i=e.getTotalLength(),a=0;a<=i;a+=n){var o=e.getPointAtLength(a).matrixTransform(t);r.push(o)}return r}(e,t)}),[null==e?void 0:e.getTotalLength()])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(72791));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}},71175:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,r.useState)(e),n=t[0],i=t[1],a=(0,r.useRef)(null),o=(0,r.useCallback)((function(e,t){a.current=t||null,i(e)}),[i]);return(0,r.useLayoutEffect)((function(){a.current&&(a.current(n),a.current=null)}),[n]),[n,o]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(72791));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}},84042:function(e,t,n){"use strict";n.r(t),n.d(t,{localPoint:function(){return r.Z},touchPoint:function(){return i.Z}});var r=n(21829),i=n(4414)},21829:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4414),i=n(10451);function a(e,t){if((0,i.kK)(e)&&t)return(0,r.Z)(e,t);if((0,i.cO)(e)){var n=e,a=n.target;if(a)return(0,r.Z)(a,n)}return null}},4414:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(59409),i=n(10451);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var o={x:0,y:0};function s(e,t){if(!e||!t)return null;var n=function(e){if(!e)return a({},o);if((0,i.z6)(e))return e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:a({},o);if((0,i.N5)(e))return{x:e.clientX,y:e.clientY};var t=null==e?void 0:e.target,n=t&&"getBoundingClientRect"in t?t.getBoundingClientRect():null;return n?{x:n.x+n.width/2,y:n.y+n.height/2}:a({},o)}(t),s=(0,i.vZ)(e)?e.ownerSVGElement:e,u=(0,i.DY)(s)?s.getScreenCTM():null;if((0,i.r4)(s)&&u){var c=s.createSVGPoint();return c.x=n.x,c.y=n.y,c=c.matrixTransform(u.inverse()),new r.Z({x:c.x,y:c.y})}var l=e.getBoundingClientRect();return new r.Z({x:n.x-l.left-e.clientLeft,y:n.y-l.top-e.clientTop})}},10451:function(e,t,n){"use strict";function r(e){return!!e&&e instanceof Element}function i(e){return!!e&&(e instanceof SVGElement||"ownerSVGElement"in e)}function a(e){return!!e&&"createSVGPoint"in e}function o(e){return!!e&&"getScreenCTM"in e}function s(e){return!!e&&"changedTouches"in e}function u(e){return!!e&&"clientX"in e}function c(e){return!!e&&(e instanceof Event||"nativeEvent"in e&&e.nativeEvent instanceof Event)}n.d(t,{DY:function(){return o},N5:function(){return u},cO:function(){return c},kK:function(){return r},r4:function(){return a},vZ:function(){return i},z6:function(){return s}})},71172:function(e,t,n){"use strict";t.__esModule=!0,t.default=h;var r=f(n(52007)),i=f(n(72791)),a=f(n(81694)),o=f(n(89770)),s=n(4791),u=n(8274),c=n(10759),l=f(n(50655)),d=["top","left","scale","height","stroke","strokeWidth","strokeDasharray","className","numTicks","lineStyle","offset","tickValues","children"];function f(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e){var t=e.top,n=void 0===t?0:t,r=e.left,f=void 0===r?0:r,h=e.scale,m=e.height,v=e.stroke,g=void 0===v?"#eaf0f6":v,y=e.strokeWidth,b=void 0===y?1:y,w=e.strokeDasharray,k=e.className,x=e.numTicks,_=void 0===x?10:x,S=e.lineStyle,E=e.offset,C=e.tickValues,T=e.children,A=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,d),O=null!=C?C:(0,c.getTicks)(h,_),R=(null!=E?E:0)+(0,l.default)(h)/2,I=O.map((function(e,t){var n,r=(null!=(n=(0,c.coerceNumber)(h(e)))?n:0)+R;return{index:t,from:new u.Point({x:r,y:0}),to:new u.Point({x:r,y:m})}}));return i.default.createElement(s.Group,{className:(0,a.default)("visx-columns",k),top:n,left:f},T?T({lines:I}):I.map((function(e){var t=e.from,n=e.to,r=e.index;return i.default.createElement(o.default,p({key:"column-line-"+r,from:t,to:n,stroke:g,strokeWidth:b,strokeDasharray:w,style:S},A))})))}h.propTypes={tickValues:r.default.array,height:r.default.number.isRequired}},87459:function(e,t,n){"use strict";t.__esModule=!0,t.default=h;var r=f(n(52007)),i=f(n(72791)),a=f(n(81694)),o=f(n(89770)),s=n(4791),u=n(8274),c=n(10759),l=f(n(50655)),d=["top","left","scale","width","stroke","strokeWidth","strokeDasharray","className","children","numTicks","lineStyle","offset","tickValues"];function f(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e){var t=e.top,n=void 0===t?0:t,r=e.left,f=void 0===r?0:r,h=e.scale,m=e.width,v=e.stroke,g=void 0===v?"#eaf0f6":v,y=e.strokeWidth,b=void 0===y?1:y,w=e.strokeDasharray,k=e.className,x=e.children,_=e.numTicks,S=void 0===_?10:_,E=e.lineStyle,C=e.offset,T=e.tickValues,A=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,d),O=null!=T?T:(0,c.getTicks)(h,S),R=(null!=C?C:0)+(0,l.default)(h)/2,I=O.map((function(e,t){var n,r=(null!=(n=(0,c.coerceNumber)(h(e)))?n:0)+R;return{index:t,from:new u.Point({x:0,y:r}),to:new u.Point({x:m,y:r})}}));return i.default.createElement(s.Group,{className:(0,a.default)("visx-rows",k),top:n,left:f},x?x({lines:I}):I.map((function(e){var t=e.from,n=e.to,r=e.index;return i.default.createElement(o.default,p({key:"row-line-"+r,from:t,to:n,stroke:g,strokeWidth:b,strokeDasharray:w,style:E},A))})))}h.propTypes={tickValues:r.default.array,width:r.default.number.isRequired}},50655:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return"bandwidth"in e?e.bandwidth():0}},67743:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(52007),i=n.n(r),a=n(72791),o=n(81694),s=n.n(o),u=["top","left","transform","className","children","innerRef"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){var t=e.top,n=void 0===t?0:t,r=e.left,i=void 0===r?0:r,o=e.transform,l=e.className,d=e.children,f=e.innerRef,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,u);return a.createElement("g",c({ref:f,className:s()("visx-group",l),transform:o||"translate("+i+", "+n+")"},p),d)}l.propTypes={top:i().number,left:i().number,transform:i().string,className:i().string,children:i().node,innerRef:i().oneOfType([i().string,i().func,i().object])}},4791:function(e,t,n){"use strict";n.r(t),n.d(t,{Group:function(){return r.Z}});var r=n(67743)},2086:function(e,t,n){"use strict";t.Z=c;var r=s(n(52007)),i=s(n(72791)),a=s(n(81694)),o=["top","left","transform","className","children","innerRef"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t=e.top,n=void 0===t?0:t,r=e.left,s=void 0===r?0:r,c=e.transform,l=e.className,d=e.children,f=e.innerRef,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o);return i.default.createElement("g",u({ref:f,className:(0,a.default)("visx-group",l),transform:c||"translate("+s+", "+n+")"},p),d)}c.propTypes={top:r.default.number,left:r.default.number,transform:r.default.string,className:r.default.string,children:r.default.node,innerRef:r.default.oneOfType([r.default.string,r.default.func,r.default.object])}},59409:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return i}});var i=function(){function e(e){var t=e.x,n=void 0===t?0:t,i=e.y,a=void 0===i?0:i;r(this,"x",0),r(this,"y",0),this.x=n,this.y=a}var t=e.prototype;return t.value=function(){return{x:this.x,y:this.y}},t.toArray=function(){return[this.x,this.y]},e}()},8274:function(e,t,n){"use strict";n.r(t),n.d(t,{Point:function(){return r.Z},subtractPoints:function(){return a},sumPoints:function(){return i}});var r=n(59409);function i(e,t){return new r.Z({x:e.x+t.x,y:e.y+t.y})}function a(e,t){return new r.Z({x:e.x-t.x,y:e.y-t.y})}},89448:function(e,t,n){"use strict";t.Z=function(e){var t=e.animationTrajectory,n=e.tickComponent,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),u=(0,r.useMemo)((function(){return function(e){return r.default.createElement(a.default,c({},e,{tickComponent:n,animationTrajectory:t}))}}),[t,n]);return r.default.createElement(i.default,c({},s,{ticksComponent:u}))};u(n(52007));var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(72791)),i=u(n(99069)),a=u(n(73973)),o=["animationTrajectory","tickComponent"];function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}},73973:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.hideTicks,n=e.horizontal,c=e.orientation,d=e.scale,f=e.tickClassName,p=e.tickComponent,h=e.tickLabelProps,m=e.tickStroke,v=void 0===m?"#222":m,g=e.tickTransform,y=e.ticks,b=e.tickLineProps,w=e.animationTrajectory,k=(0,i.useTransition)(y,l({},(0,u.default)({scale:d,animateXOrY:n?"x":"y",animationTrajectory:w}),{keys:function(e){return"tick-"+e.value+"-"+e.index}}));return r.default.createElement(r.default.Fragment,null,k((function(e,n,u,d){var m,y,w=e.fromX,k=e.toX,x=e.fromY,_=e.toY,S=e.opacity,E=u.key,C=null!=(m=null!=(y=h[d])?y:h[0])?m:{};return null==n||null==E?null:r.default.createElement(i.animated.g,{key:E,className:(0,a.default)("visx-axis-tick",f),transform:g},!t&&r.default.createElement(i.animated.line,l({x1:w,x2:k,y1:x,y2:_,stroke:v,strokeLinecap:"square",strokeOpacity:S},b)),r.default.createElement(i.animated.g,{key:d,transform:(0,i.to)([k,_],(function(e,t){var n;return"translate("+e+","+(t+(c===o.default.bottom&&"number"===typeof C.fontSize?null!=(n=C.fontSize)?n:10:0))+")"})),opacity:S},p?p(l({},C,{x:k,y:_,formattedValue:null==n?void 0:n.formattedValue})):r.default.createElement(s.Text,C,null==n?void 0:n.formattedValue)))})))};var r=c(n(72791)),i=n(54753),a=c(n(81694)),o=c(n(43054)),s=n(12755),u=c(n(86744));function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}},80489:function(e,t,n){"use strict";t.Z=function(e){var t=e.scale,n=e.height,s=e.numTicks,c=e.tickValues,l=(e.offset,e.className),d=e.animationTrajectory,f=e.top,p=e.left,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o);return r.default.createElement(i.default,{scale:t,height:n,numTicks:s,tickValues:c,className:l,top:f,left:p},(function(e){var n=e.lines;return r.default.createElement(a.default,u({scale:t,lines:n,animationTrajectory:d,animateXOrY:"x",lineKey:function(e){var t,n;return"column-"+(null!=(t=null==e||null==(n=e.from)?void 0:n.x)?t:"")+"-"+e.index}},h))}))};var r=s(n(72791)),i=s(n(71172)),a=s(n(18255)),o=["scale","height","numTicks","tickValues","offset","className","animationTrajectory","top","left"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}},18255:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;var r=u(n(52007)),i=u(n(72791)),a=n(54753),o=u(n(86744)),s=["scale","lines","animationTrajectory","animateXOrY","lineKey","lineStyle"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){var t=e.scale,n=e.lines,r=e.animationTrajectory,u=e.animateXOrY,l=e.lineKey,d=e.lineStyle,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),p=(0,a.useTransition)(n,c({},(0,o.default)({scale:t,animateXOrY:u,animationTrajectory:r}),{key:l}));return i.default.createElement(i.default.Fragment,null,p((function(e,t,n){var r=e.fromX,o=e.toX,s=e.fromY,u=e.toY,l=e.opacity,p=n.key;return i.default.createElement(a.animated.line,c({key:p,x1:r,x2:o,y1:s,y2:u,strokeOpacity:l,style:d},f))})))}l.propTypes={lineKey:r.default.func.isRequired}},23245:function(e,t,n){"use strict";t.Z=function(e){var t=e.scale,n=e.width,s=e.numTicks,c=e.tickValues,l=(e.offset,e.className),d=e.animationTrajectory,f=e.top,p=e.left,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o);return r.default.createElement(i.default,{scale:t,width:n,numTicks:s,tickValues:c,className:l,top:f,left:p},(function(e){var n=e.lines;return r.default.createElement(a.default,u({scale:t,lines:n,animationTrajectory:d,animateXOrY:"y",lineKey:function(e){var t,n;return"row-"+(null!=(t=null==e||null==(n=e.from)?void 0:n.y)?t:"")+"-"+e.index}},h))}))};var r=s(n(72791)),i=s(n(87459)),a=s(n(18255)),o=["scale","width","numTicks","tickValues","offset","className","animationTrajectory","top","left"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}},86744:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.scale,n=e.animateXOrY,a=e.animationTrajectory,u=void 0===a?"outside":a,c="x"===n;return(0,r.useMemo)((function(){var e=t.range().map(i.coerceNumber),n=e[0],r=e[1],a=null!=r&&null!=n&&r<n?[r,n]:[n,r],l=a[0],d=a[1],f=null!=r&&null!=n?Math.abs(r-n):0,p=(null!=l?l:0)+f/2,h=u;c||"min"!==u||(h="max"),c||"max"!==u||(h="min");var m=function(e){var t=e.from,n=e.to;return{fromX:c?o(h,t.x,l,d,p):t.x,toX:c?o(h,t.x,l,d,p):n.x,fromY:c?t.y:o(h,t.y,l,d,p),toY:c?n.y:o(h,t.y,l,d,p),opacity:0}};return{from:m,leave:m,enter:s,update:s}}),[t,c,u])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(72791)),i=n(10759);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t,n,r,i){var a;switch(e){case"center":return i;case"min":return null!=n?n:0;case"max":return null!=r?r:0;default:return null!=(a=(null!=t?t:0)<i?n:r)?a:0}}function s(e){var t=e.from,n=e.to;return{fromX:t.x,toX:n.x,fromY:t.y,toY:n.y,opacity:1}}},87700:function(e,t,n){"use strict";t.Z=f;var r=c(n(52007)),i=c(n(48573)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(72791)),o=n(53575),s=["className","children","debounceTime","ignoreDimensions","parentSizeStyles","enableDebounceLeadingCall"];function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var d=[];function f(e){var t=e.className,n=e.children,r=e.debounceTime,u=void 0===r?300:r,c=e.ignoreDimensions,f=void 0===c?d:c,p=e.parentSizeStyles,h=void 0===p?{width:"100%",height:"100%"}:p,m=e.enableDebounceLeadingCall,v=void 0===m||m,g=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),y=(0,a.useRef)(null),b=(0,a.useRef)(0),w=(0,a.useState)({width:0,height:0,top:0,left:0}),k=w[0],x=w[1],_=(0,a.useMemo)((function(){var e=Array.isArray(f)?f:[f];return(0,i.default)((function(t){x((function(n){return Object.keys(n).filter((function(e){return n[e]!==t[e]})).every((function(t){return e.includes(t)}))?n:t}))}),u,{leading:v})}),[u,v,f]);return(0,a.useEffect)((function(){var e=new o.ResizeObserver((function(e){void 0===e&&(e=[]),e.forEach((function(e){var t=e.contentRect,n=t.left,r=t.top,i=t.width,a=t.height;b.current=window.requestAnimationFrame((function(){_({width:i,height:a,top:r,left:n})}))}))}));return y.current&&e.observe(y.current),function(){window.cancelAnimationFrame(b.current),e.disconnect(),null!=_&&_.cancel&&_.cancel()}}),[_]),a.default.createElement("div",l({style:h,ref:y,className:t},g),n(l({},k,{ref:y.current,resize:_})))}f.propTypes={className:r.default.string,debounceTime:r.default.number,enableDebounceLeadingCall:r.default.bool,ignoreDimensions:r.default.oneOfType([r.default.any,r.default.arrayOf(r.default.any)]),children:r.default.func.isRequired}},31434:function(e,t,n){"use strict";var r=n(76620),i=n(24806),a=n(73728),o=n(41773),s=n(90190),u=n(86572),c=n(3247),l=n(68656),d=n(70517),f=n(68544),p=n(41755),h=n(85788),m=n(52800);t.Z=function(e){if("undefined"!==typeof e&&"type"in e)switch(e.type){case"linear":return(0,r.Z)(e);case"log":return(0,i.Z)(e);case"pow":return(0,a.Z)(e);case"sqrt":return(0,o.Z)(e);case"symlog":return(0,s.Z)(e);case"time":return(0,u.Z)(e);case"utc":return(0,c.Z)(e);case"quantile":return(0,l.Z)(e);case"quantize":return(0,d.Z)(e);case"threshold":return(0,f.Z)(e);case"ordinal":return(0,p.Z)(e);case"point":return(0,h.Z)(e);case"band":return(0,m.Z)(e)}return(0,r.Z)(e)}},10759:function(e,t,n){"use strict";n.r(t),n.d(t,{coerceNumber:function(){return E.Z},createScale:function(){return w.Z},getTicks:function(){return C.Z},inferScaleType:function(){return S},scaleBand:function(){return r.Z},scaleCanBeZeroed:function(){return A.Z},scaleLinear:function(){return a.Z},scaleLog:function(){return f.Z},scaleOrdinal:function(){return h.Z},scalePoint:function(){return i.Z},scalePower:function(){return p.Z},scaleQuantile:function(){return v.Z},scaleQuantize:function(){return m.Z},scaleRadial:function(){return c},scaleSqrt:function(){return b.Z},scaleSymlog:function(){return g.Z},scaleThreshold:function(){return y.Z},scaleTime:function(){return l.Z},scaleUtc:function(){return d.Z},toString:function(){return T.Z},updateScale:function(){return x}});var r=n(52800),i=n(85788),a=n(76620),o=n(78179),s=n(18989),u=(0,s.Z)("domain","range","clamp","nice","round","unknown");function c(e){return u((0,o.Z)(),e)}var l=n(86572),d=n(3247),f=n(24806),p=n(73728),h=n(41755),m=n(70517),v=n(68656),g=n(90190),y=n(68544),b=n(41773),w=n(31434),k=s.Z.apply(void 0,s.a);var x=function(e,t){return k(e.copy(),t)},_=n(59228);function S(e){return"paddingInner"in e?"band":"padding"in e?"point":"quantiles"in e?"quantile":"base"in e?"log":"exponent"in e?.5===e.exponent()?"sqrt":"pow":"constant"in e?"symlog":"clamp"in e?e.ticks()[0]instanceof Date?(0,_.Z)(e)?"utc":"time":"linear":"nice"in e?"quantize":"invertExtent"in e?"threshold":"ordinal"}var E=n(64644),C=n(32737),T=n(38066),A=n(59632)},18989:function(e,t,n){"use strict";n.d(t,{a:function(){return C},Z:function(){return A}});var r=n(26074),i=n(10035),a=n(12061),o=n(92716),s=n(86211),u={lab:r.Z,hcl:i.Z,"hcl-long":i.b,hsl:a.Z,"hsl-long":a.q,cubehelix:o.Z,"cubehelix-long":o.B,rgb:s.ZP};var c=n(24527),l=n(37568),d=n(40020),f=n(44870),p=n(4495),h=n(6817),m=n(36243),v=n(7171),g=n(63854),y=n(632),b=n(86570),w=n(80438),k=n(13608),x=n(59228),_={day:c.Z,hour:l.Z,minute:d.Z,month:f.Z,second:p.Z,week:h.OM,year:m.Z},S={day:v.Z,hour:g.Z,minute:y.Z,month:b.Z,second:p.Z,week:w.Ox,year:k.Z};var E=n(66058);var C=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],T={domain:function(e,t){t.domain&&e.domain(t.domain)},nice:function(e,t){if("nice"in t&&"undefined"!==typeof t.nice&&"nice"in e){var n=t.nice;if("boolean"===typeof n)n&&e.nice();else if("number"===typeof n)e.nice(n);else{var r=e,i=(0,x.Z)(r);if("string"===typeof n)r.nice(i?S[n]:_[n]);else{var a=n.interval,o=n.step,s=(i?S[a]:_[a]).every(o);null!=s&&r.nice(s)}}}},zero:function(e,t){if("zero"in t&&!0===t.zero){var n=e.domain(),r=n[0],i=n[1],a=i<r,o=a?[i,r]:[r,i],s=o[0],u=o[1],c=[Math.min(0,s),Math.max(0,u)];e.domain(a?c.reverse():c)}},interpolate:function(e,t){if("interpolate"in t&&"interpolate"in e&&"undefined"!==typeof t.interpolate){var n=function(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return u[e]}var t=e.type,n=e.gamma,r=u[t];return"undefined"===typeof n?r:r.gamma(n)}(t.interpolate);e.interpolate(n)}},round:function(e,t){"round"in t&&"undefined"!==typeof t.round&&(t.round&&"interpolate"in t&&"undefined"!==typeof t.interpolate?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(E.Z))},align:function(e,t){"align"in e&&"align"in t&&"undefined"!==typeof t.align&&e.align(t.align)},base:function(e,t){"base"in e&&"base"in t&&"undefined"!==typeof t.base&&e.base(t.base)},clamp:function(e,t){"clamp"in e&&"clamp"in t&&"undefined"!==typeof t.clamp&&e.clamp(t.clamp)},constant:function(e,t){"constant"in e&&"constant"in t&&"undefined"!==typeof t.constant&&e.constant(t.constant)},exponent:function(e,t){"exponent"in e&&"exponent"in t&&"undefined"!==typeof t.exponent&&e.exponent(t.exponent)},padding:function(e,t){"padding"in e&&"padding"in t&&"undefined"!==typeof t.padding&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&"undefined"!==typeof t.paddingInner&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&"undefined"!==typeof t.paddingOuter&&e.paddingOuter(t.paddingOuter)},range:function(e,t){t.range&&e.range(t.range)},reverse:function(e,t){if(t.reverse){var n=e.range().slice().reverse();e.range(n)}},unknown:function(e,t){"unknown"in e&&"unknown"in t&&"undefined"!==typeof t.unknown&&e.unknown(t.unknown)}};function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Set(t),i=C.filter((function(e){return r.has(e)}));return function(e,t){return"undefined"!==typeof t&&i.forEach((function(n){T[n](e,t)})),e}}},52800:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(87570),i=(0,n(18989).Z)("domain","range","reverse","align","padding","round");function a(e){return i((0,r.Z)(),e)}},76620:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(89737),i=(0,n(18989).Z)("domain","range","reverse","clamp","interpolate","nice","round","zero");function a(e){return i((0,r.Z)(),e)}},24806:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(47659),i=(0,n(18989).Z)("domain","range","reverse","base","clamp","interpolate","nice","round");function a(e){return i((0,r.Z)(),e)}},41755:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(51354),i=(0,n(18989).Z)("domain","range","reverse","unknown");function a(e){return i((0,r.Z)(),e)}},85788:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(87570),i=(0,n(18989).Z)("domain","range","reverse","align","padding","round");function a(e){return i((0,r.x)(),e)}},73728:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(23147),i=(0,n(18989).Z)("domain","range","reverse","clamp","exponent","interpolate","nice","round","zero");function a(e){return i((0,r.ZP)(),e)}},68656:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(63688),i=(0,n(18989).Z)("domain","range","reverse");function a(e){return i((0,r.Z)(),e)}},70517:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1267),i=(0,n(18989).Z)("domain","range","reverse","nice","zero");function a(e){return i((0,r.Z)(),e)}},41773:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(23147),i=(0,n(18989).Z)("domain","range","reverse","clamp","interpolate","nice","round","zero");function a(e){return i((0,r._b)(),e)}},90190:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4310),i=(0,n(18989).Z)("domain","range","reverse","clamp","constant","nice","zero","round");function a(e){return i((0,r.Z)(),e)}},68544:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(77419),i=(0,n(18989).Z)("domain","range","reverse");function a(e){return i((0,r.Z)(),e)}},86572:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(96722),i=(0,n(18989).Z)("domain","range","reverse","clamp","interpolate","nice","round");function a(e){return i((0,r.Z)(),e)}},3247:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(17322),i=(0,n(18989).Z)("domain","range","reverse","clamp","interpolate","nice","round");function a(e){return i((0,r.Z)(),e)}},64644:function(e,t,n){"use strict";function r(e){if(("function"===typeof e||"object"===typeof e&&e)&&"valueOf"in e){var t=e.valueOf();if("number"===typeof t)return t}return e}n.d(t,{Z:function(){return r}})},32737:function(e,t,n){"use strict";function r(e,t){var n=e;return"ticks"in n?n.ticks(t):n.domain().filter((function(e,n,r){return null==t||r.length<=t||n%Math.round((r.length-1)/t)===0}))}n.d(t,{Z:function(){return r}})},59228:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=new Date(Date.UTC(2020,1,2,3,4,5));function i(e){return"2020-02-02 03:04"===e.tickFormat(1,"%Y-%m-%d %H:%M")(r)}},59632:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=new Set(["linear","pow","quantize","sqrt","symlog"]);function i(e){return r.has(e.type)}},38066:function(e,t,n){"use strict";function r(e){return null==e?void 0:e.toString()}n.d(t,{Z:function(){return r}})},31267:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"align"in e&&"align"in t&&"undefined"!==typeof t.align&&e.align(t.align)}},28181:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"base"in e&&"base"in t&&"undefined"!==typeof t.base&&e.base(t.base)}},99616:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"clamp"in e&&"clamp"in t&&"undefined"!==typeof t.clamp&&e.clamp(t.clamp)}},28065:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"constant"in e&&"constant"in t&&"undefined"!==typeof t.constant&&e.constant(t.constant)}},69750:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){t.domain&&e.domain(t.domain)}},39168:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"exponent"in e&&"exponent"in t&&"undefined"!==typeof t.exponent&&e.exponent(t.exponent)}},35809:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if("interpolate"in t&&"interpolate"in e&&"undefined"!==typeof t.interpolate){var n=(0,i.default)(t.interpolate);e.interpolate(n)}};var r,i=(r=n(79914))&&r.__esModule?r:{default:r}},9941:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if("nice"in t&&"undefined"!==typeof t.nice&&"nice"in e){var n=t.nice;if("boolean"===typeof n)n&&e.nice();else if("number"===typeof n)e.nice(n);else{var r=e,i=(0,a.default)(r);if("string"===typeof n)r.nice(i?s[n]:o[n]);else{var u=n.interval,c=n.step,l=(i?s[u]:o[u]).every(c);null!=l&&r.nice(l)}}}};var r,i=n(14957),a=(r=n(96135))&&r.__esModule?r:{default:r};var o={day:i.timeDay,hour:i.timeHour,minute:i.timeMinute,month:i.timeMonth,second:i.timeSecond,week:i.timeWeek,year:i.timeYear},s={day:i.utcDay,hour:i.utcHour,minute:i.utcMinute,month:i.utcMonth,second:i.utcSecond,week:i.utcWeek,year:i.utcYear}},77558:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"padding"in e&&"padding"in t&&"undefined"!==typeof t.padding&&e.padding(t.padding);"paddingInner"in e&&"paddingInner"in t&&"undefined"!==typeof t.paddingInner&&e.paddingInner(t.paddingInner);"paddingOuter"in e&&"paddingOuter"in t&&"undefined"!==typeof t.paddingOuter&&e.paddingOuter(t.paddingOuter)}},69259:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){t.range&&e.range(t.range)}},99640:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(t.reverse){var n=e.range().slice().reverse();e.range(n)}}},87522:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){"round"in t&&"undefined"!==typeof t.round&&(t.round&&"interpolate"in t&&"undefined"!==typeof t.interpolate?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(r.interpolateRound))};var r=n(57670)},94890:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Set(t),i=y.filter((function(e){return r.has(e)}));return function(e,t){return"undefined"!==typeof t&&i.forEach((function(n){b[n](e,t)})),e}},t.ALL_OPERATORS=void 0;var r=g(n(69750)),i=g(n(69259)),a=g(n(31267)),o=g(n(28181)),s=g(n(99616)),u=g(n(28065)),c=g(n(39168)),l=g(n(35809)),d=g(n(9941)),f=g(n(77558)),p=g(n(99640)),h=g(n(87522)),m=g(n(26120)),v=g(n(54052));function g(e){return e&&e.__esModule?e:{default:e}}var y=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"];t.ALL_OPERATORS=y;var b={domain:r.default,nice:d.default,zero:v.default,interpolate:l.default,round:h.default,align:a.default,base:o.default,clamp:s.default,constant:u.default,exponent:c.default,padding:f.default,range:i.default,reverse:p.default,unknown:m.default}},26120:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"unknown"in e&&"unknown"in t&&"undefined"!==typeof t.unknown&&e.unknown(t.unknown)}},54052:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if("zero"in t&&!0===t.zero){var n=e.domain(),r=n[0],i=n[1],a=i<r,o=a?[i,r]:[r,i],s=o[0],u=o[1],c=[Math.min(0,s),Math.max(0,u)];e.domain(a?c.reverse():c)}}},39175:function(e,t,n){"use strict";t.ZP=function(e){return a((0,i.scaleOrdinal)(),e)};var r,i=n(44384);var a=(0,((r=n(94890))&&r.__esModule?r:{default:r}).default)("domain","range","reverse","unknown")},79914:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return i[e]}var t=e.type,n=e.gamma,r=i[t];return"undefined"===typeof n?r:r.gamma(n)};var r=n(57670),i={lab:r.interpolateLab,hcl:r.interpolateHcl,"hcl-long":r.interpolateHclLong,hsl:r.interpolateHsl,"hsl-long":r.interpolateHslLong,cubehelix:r.interpolateCubehelix,"cubehelix-long":r.interpolateCubehelixLong,rgb:r.interpolateRgb}},96135:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return"2020-02-02 03:04"===e.tickFormat(1,"%Y-%m-%d %H:%M")(n)};var n=new Date(Date.UTC(2020,1,2,3,4,5))},54471:function(e,t,n){"use strict";n.r(t),n.d(t,{Arc:function(){return c},Area:function(){return k},AreaClosed:function(){return E},AreaStack:function(){return I},Bar:function(){return M},BarGroup:function(){return j},BarGroupHorizontal:function(){return U},BarRounded:function(){return L.Z},BarStack:function(){return ee},BarStackHorizontal:function(){return re},Circle:function(){return ct},Line:function(){return h.Z},LinePath:function(){return m.Z},LineRadial:function(){return y},LinkHorizontal:function(){return ce},LinkHorizontalCurve:function(){return xe},LinkHorizontalLine:function(){return Me},LinkHorizontalStep:function(){return Ge},LinkRadial:function(){return ge},LinkRadialCurve:function(){return Re},LinkRadialLine:function(){return Ue},LinkRadialStep:function(){return et},LinkVertical:function(){return pe},LinkVerticalCurve:function(){return Ce},LinkVerticalLine:function(){return Be},LinkVerticalStep:function(){return Xe},Pie:function(){return p},Polygon:function(){return ot},STACK_OFFSETS:function(){return Q.nW},STACK_OFFSET_NAMES:function(){return Q.ed},STACK_ORDERS:function(){return X.un},STACK_ORDER_NAMES:function(){return X.s2},SplitLinePath:function(){return yt},Stack:function(){return A},arc:function(){return o.Nb},area:function(){return o.SO},degreesToRadians:function(){return ie},getPoint:function(){return it},getPoints:function(){return at},line:function(){return o.jv},pathHorizontalCurve:function(){return ke},pathHorizontalDiagonal:function(){return ue},pathHorizontalLine:function(){return Pe},pathHorizontalStep:function(){return ze},pathRadialCurve:function(){return Oe},pathRadialDiagonal:function(){return ve},pathRadialLine:function(){return Ve},pathRadialStep:function(){return $e},pathVerticalCurve:function(){return Ee},pathVerticalDiagonal:function(){return fe},pathVerticalLine:function(){return Fe},pathVerticalStep:function(){return Ye},pie:function(){return o.ve},radialLine:function(){return o.aJ},stack:function(){return o.kn},stackOffset:function(){return Q.ZP},stackOrder:function(){return X.ZP}});var r=n(72791),i=n(81694),a=n.n(i),o=n(67716),s=["className","data","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","children","innerRef"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t=e.className,n=e.data,i=e.innerRadius,c=e.outerRadius,l=e.cornerRadius,d=e.startAngle,f=e.endAngle,p=e.padAngle,h=e.padRadius,m=e.children,v=e.innerRef,g=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),y=(0,o.Nb)({innerRadius:i,outerRadius:c,cornerRadius:l,startAngle:d,endAngle:f,padAngle:p,padRadius:h});return m?r.createElement(r.Fragment,null,m({path:y})):n||null!=d&&null!=f&&null!=i&&null!=c?r.createElement("path",u({ref:v,className:a()("visx-arc",t),d:y(n)||""},g)):(console.warn("[@visx/shape/Arc]: expected data because one of startAngle, endAngle, innerRadius, outerRadius is undefined. Bailing."),null)}var l=n(67743),d=["className","top","left","data","centroid","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","pieSort","pieSortValues","pieValue","children","fill"];function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e){var t=e.className,n=e.top,i=e.left,s=e.data,u=void 0===s?[]:s,c=e.centroid,p=e.innerRadius,h=void 0===p?0:p,m=e.outerRadius,v=e.cornerRadius,g=e.startAngle,y=e.endAngle,b=e.padAngle,w=e.padRadius,k=e.pieSort,x=e.pieSortValues,_=e.pieValue,S=e.children,E=e.fill,C=void 0===E?"":E,T=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,d),A=(0,o.Nb)({innerRadius:h,outerRadius:m,cornerRadius:v,padRadius:w}),O=(0,o.ve)({startAngle:g,endAngle:y,padAngle:b,value:_,sort:k,sortValues:x}),R=O(u);return S?r.createElement(r.Fragment,null,S({arcs:R,path:A,pie:O})):r.createElement(l.Z,{className:"visx-pie-arcs-group",top:n,left:i},R.map((function(e,n){return r.createElement("g",{key:"pie-arc-"+n},r.createElement("path",f({className:a()("visx-pie-arc",t),d:A(e)||"",fill:null==C||"string"===typeof C?C:C(e)},T)),null==c?void 0:c(A.centroid(e),e))})))}var h=n(69776),m=n(86407),v=["className","angle","radius","defined","curve","data","innerRef","children","fill"];function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function y(e){var t=e.className,n=e.angle,i=e.radius,s=e.defined,u=e.curve,c=e.data,l=void 0===c?[]:c,d=e.innerRef,f=e.children,p=e.fill,h=void 0===p?"transparent":p,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,v),y=(0,o.aJ)({angle:n,radius:i,defined:s,curve:u});return f?r.createElement(r.Fragment,null,f({path:y})):r.createElement("path",g({ref:d,className:a()("visx-line-radial",t),d:y(l)||"",fill:h},m))}var b=["children","x","x0","x1","y","y0","y1","data","defined","className","curve","innerRef"];function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function k(e){var t=e.children,n=e.x,i=e.x0,s=e.x1,u=e.y,c=e.y0,l=e.y1,d=e.data,f=void 0===d?[]:d,p=e.defined,h=void 0===p?function(){return!0}:p,m=e.className,v=e.curve,g=e.innerRef,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,b),k=(0,o.SO)({x:n,x0:i,x1:s,y:u,y0:c,y1:l,defined:h,curve:v});return t?r.createElement(r.Fragment,null,t({path:k})):r.createElement("path",w({ref:g,className:a()("visx-area",m),d:k(f)||""},y))}var x=n(73819),_=["x","x0","x1","y","y1","y0","yScale","data","defined","className","curve","innerRef","children"];function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function E(e){var t=e.x,n=e.x0,i=e.x1,s=e.y,u=e.y1,c=e.y0,l=e.yScale,d=e.data,f=void 0===d?[]:d,p=e.defined,h=void 0===p?function(){return!0}:p,m=e.className,v=e.curve,g=e.innerRef,y=e.children,b=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_),w=(0,o.SO)({x:t,x0:n,x1:i,defined:h,curve:v});return null==c?w.y0(l.range()[0]):(0,x.Z)(w.y0,c),s&&!u&&(0,x.Z)(w.y1,s),u&&!s&&(0,x.Z)(w.y1,u),y?r.createElement(r.Fragment,null,y({path:w})):r.createElement("path",S({ref:g,className:a()("visx-area-closed",m),d:w(f)||""},b))}var C=["className","top","left","keys","data","curve","defined","x","x0","x1","y0","y1","value","order","offset","color","children"];function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}function A(e){var t=e.className,n=e.top,i=e.left,s=e.keys,u=e.data,c=e.curve,d=e.defined,f=e.x,p=e.x0,h=e.x1,m=e.y0,v=e.y1,g=e.value,y=e.order,b=e.offset,w=e.color,k=e.children,x=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,C),_=(0,o.kn)({keys:s,value:g,order:y,offset:b}),S=(0,o.SO)({x:f,x0:p,x1:h,y0:m,y1:v,curve:c,defined:d}),E=_(u);return k?r.createElement(r.Fragment,null,k({stacks:E,path:S,stack:_})):r.createElement(l.Z,{top:n,left:i},E.map((function(e,n){return r.createElement("path",T({className:a()("visx-stack",t),key:"stack-"+n+"-"+(e.key||""),d:S(e)||"",fill:null==w?void 0:w(e.key,n)},x))})))}var O=["className","top","left","keys","data","curve","defined","x","x0","x1","y0","y1","value","order","offset","color","children"];function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}function I(e){var t=e.className,n=e.top,i=e.left,o=e.keys,s=e.data,u=e.curve,c=e.defined,l=e.x,d=e.x0,f=e.x1,p=e.y0,h=e.y1,m=e.value,v=e.order,g=e.offset,y=e.color,b=e.children,w=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,O);return r.createElement(A,R({className:t,top:n,left:i,keys:o,data:s,curve:u,defined:c,x:l,x0:d,x1:f,y0:p,y1:h,value:m,order:v,offset:g,color:y},w),b||function(e){var n=e.stacks,i=e.path;return n.map((function(e,n){return r.createElement("path",R({className:a()("visx-area-stack",t),key:"area-stack-"+n+"-"+(e.key||""),d:i(e)||"",fill:null==y?void 0:y(e.key,n)},w))}))})}var N=["className","innerRef"];function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}function M(e){var t=e.className,n=e.innerRef,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,N);return r.createElement("rect",P({ref:n,className:a()("visx-bar",t)},i))}var L=n(80207);function D(e){if("bandwidth"in e)return e.bandwidth();var t=e.range(),n=e.domain();return Math.abs(t[t.length-1]-t[0])/n.length}var F=["data","className","top","left","x0","x0Scale","x1Scale","yScale","color","keys","height","children"];function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}function j(e){var t=e.data,n=e.className,i=e.top,o=e.left,s=e.x0,u=e.x0Scale,c=e.x1Scale,d=e.yScale,f=e.color,p=e.keys,h=e.height,m=e.children,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,F),g=D(c),y=t.map((function(e,t){return{index:t,x0:u(s(e)),bars:p.map((function(t,n){var r=e[t];return{index:n,key:t,value:r,width:g,x:c(t)||0,y:d(r)||0,color:f(t,n),height:h-(d(r)||0)}}))}}));return m?r.createElement(r.Fragment,null,m(y)):r.createElement(l.Z,{className:a()("visx-bar-group",n),top:i,left:o},y.map((function(e){return r.createElement(l.Z,{key:"bar-group-"+e.index+"-"+e.x0,left:e.x0},e.bars.map((function(t){return r.createElement(M,B({key:"bar-group-bar-"+e.index+"-"+t.index+"-"+t.value+"-"+t.key,x:t.x,y:t.y,width:t.width,height:t.height,fill:t.color},v))})))})))}var Z=["data","className","top","left","x","y0","y0Scale","y1Scale","xScale","color","keys","width","children"];function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}function U(e){var t=e.data,n=e.className,i=e.top,o=e.left,s=e.x,u=void 0===s?function(){return 0}:s,c=e.y0,d=e.y0Scale,f=e.y1Scale,p=e.xScale,h=e.color,m=e.keys,v=(e.width,e.children),g=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Z),y=D(f),b=t.map((function(e,t){return{index:t,y0:d(c(e))||0,bars:m.map((function(t,n){var r=e[t];return{index:n,key:t,value:r,height:y,x:u(r)||0,y:f(t)||0,color:h(t,n),width:p(r)||0}}))}}));return v?r.createElement(r.Fragment,null,v(b)):r.createElement(l.Z,{className:a()("visx-bar-group-horizontal",n),top:i,left:o},b.map((function(e){return r.createElement(l.Z,{key:"bar-group-"+e.index+"-"+e.y0,top:e.y0},e.bars.map((function(t){return r.createElement(M,V({key:"bar-group-bar-"+e.index+"-"+t.index+"-"+t.value+"-"+t.key,x:t.x,y:t.y,width:t.width,height:t.height,fill:t.color},g))})))})))}var W=n(3650);function H(e){return"number"===typeof(null==e?void 0:e.x)?null==e?void 0:e.x:0}function z(e){return"number"===typeof(null==e?void 0:e.y)?null==e?void 0:e.y:0}function G(e){return null==e?void 0:e.source}function q(e){return null==e?void 0:e.target}function K(e){return null==e?void 0:e[0]}function Y(e){return null==e?void 0:e[1]}var X=n(65205),Q=n(94626),J=["data","className","top","left","x","y0","y1","xScale","yScale","color","keys","value","order","offset","children"];function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function ee(e){var t=e.data,n=e.className,i=e.top,o=e.left,s=e.x,u=e.y0,c=void 0===u?K:u,d=e.y1,f=void 0===d?Y:d,p=e.xScale,h=e.yScale,m=e.color,v=e.keys,g=e.value,y=e.order,b=e.offset,w=e.children,k=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,J),_=(0,W.Z)();v&&_.keys(v),g&&(0,x.Z)(_.value,g),y&&_.order((0,X.ZP)(y)),b&&_.offset((0,Q.ZP)(b));var S=_(t),E=D(p),C=S.map((function(e,t){var n=e.key;return{index:t,key:n,bars:e.map((function(t,r){var i=(h(c(t))||0)-(h(f(t))||0),a=h(f(t)),o="bandwidth"in p?p(s(t.data)):Math.max((p(s(t.data))||0)-E/2);return{bar:t,key:n,index:r,height:i,width:E,x:o||0,y:a||0,color:m(e.key,r)}}))}}));return w?r.createElement(r.Fragment,null,w(C)):r.createElement(l.Z,{className:a()("visx-bar-stack",n),top:i,left:o},C.map((function(e){return e.bars.map((function(t){return r.createElement(M,$({key:"bar-stack-"+e.index+"-"+t.index,x:t.x,y:t.y,height:t.height,width:t.width,fill:t.color},k))}))})))}var te=["data","className","top","left","y","x0","x1","xScale","yScale","color","keys","value","order","offset","children"];function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function re(e){var t=e.data,n=e.className,i=e.top,o=e.left,s=e.y,u=e.x0,c=void 0===u?K:u,d=e.x1,f=void 0===d?Y:d,p=e.xScale,h=e.yScale,m=e.color,v=e.keys,g=e.value,y=e.order,b=e.offset,w=e.children,k=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,te),_=(0,W.Z)();v&&_.keys(v),g&&(0,x.Z)(_.value,g),y&&_.order((0,X.ZP)(y)),b&&_.offset((0,Q.ZP)(b));var S=_(t),E=D(h),C=S.map((function(e,t){var n=e.key;return{index:t,key:n,bars:e.map((function(t,r){var i=(p(f(t))||0)-(p(c(t))||0),a=p(c(t)),o="bandwidth"in h?h(s(t.data)):Math.max((h(s(t.data))||0)-i/2);return{bar:t,key:n,index:r,height:E,width:i,x:a||0,y:o||0,color:m(e.key,r)}}))}}));return w?r.createElement(r.Fragment,null,w(C)):r.createElement(l.Z,{className:a()("visx-bar-stack-horizontal",n),top:i,left:o},C.map((function(e){return e.bars.map((function(t){return r.createElement(M,ne({key:"bar-stack-"+e.index+"-"+t.index,x:t.x,y:t.y,height:t.height,width:t.width,fill:t.color},k))}))})))}var ie=function(e){return Math.PI/180*e},ae=n(6274),oe=["className","children","data","innerRef","path","x","y","source","target"];function se(){return se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}function ue(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=(0,ae.h5)();return a.x(r),a.y(i),a.source(t),a.target(n),a(e)}}function ce(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.x,c=void 0===u?z:u,l=e.y,d=void 0===l?H:l,f=e.source,p=void 0===f?G:f,h=e.target,m=void 0===h?q:h,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,oe),g=s||ue({source:p,target:m,x:c,y:d});return n?r.createElement(r.Fragment,null,n({path:g})):r.createElement("path",se({ref:o,className:a()("visx-link visx-link-horizontal-diagonal",t),d:g(i)||""},v))}var le=["className","children","data","innerRef","path","x","y","source","target"];function de(){return de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}function fe(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=(0,ae.rR)();return a.x(r),a.y(i),a.source(t),a.target(n),a(e)}}function pe(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.x,c=void 0===u?H:u,l=e.y,d=void 0===l?z:l,f=e.source,p=void 0===f?G:f,h=e.target,m=void 0===h?q:h,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,le),g=s||fe({source:p,target:m,x:c,y:d});return n?r.createElement(r.Fragment,null,n({path:g})):r.createElement("path",de({ref:o,className:a()("visx-link visx-link-vertical-diagonal",t),d:g(i)||""},v))}var he=["className","children","data","innerRef","path","angle","radius","source","target"];function me(){return me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}function ve(e){var t=e.source,n=e.target,r=e.angle,i=e.radius;return function(e){var a=(0,ae.M4)();return a.angle(r),a.radius(i),a.source(t),a.target(n),a(e)}}function ge(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.angle,c=void 0===u?H:u,l=e.radius,d=void 0===l?z:l,f=e.source,p=void 0===f?G:f,h=e.target,m=void 0===h?q:h,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,he),g=s||ve({source:p,target:m,angle:c,radius:d});return n?r.createElement(r.Fragment,null,n({path:g})):r.createElement("path",me({ref:o,className:a()("visx-link visx-link-radial-diagonal",t),d:g(i)||""},v))}var ye=n(73339),be=["className","children","data","innerRef","path","percent","x","y","source","target"];function we(){return we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function ke(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o),c=i(o),l=r(s),d=i(s),f=l-u,p=d-c,h=a*(f+p),m=a*(p-f),v=(0,ye.Z)();return v.moveTo(u,c),v.bezierCurveTo(u+h,c+m,l+m,d-h,l,d),v.toString()}}function xe(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.percent,c=void 0===u?.2:u,l=e.x,d=void 0===l?z:l,f=e.y,p=void 0===f?H:f,h=e.source,m=void 0===h?G:h,v=e.target,g=void 0===v?q:v,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,be),b=s||ke({source:m,target:g,x:d,y:p,percent:c});return n?r.createElement(r.Fragment,null,n({path:b})):r.createElement("path",we({ref:o,className:a()("visx-link visx-link-horizontal-curve",t),d:b(i)||""},y))}var _e=["className","children","data","innerRef","path","percent","x","y","source","target"];function Se(){return Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function Ee(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o),c=i(o),l=r(s),d=i(s),f=l-u,p=d-c,h=a*(f+p),m=a*(p-f),v=(0,ye.Z)();return v.moveTo(u,c),v.bezierCurveTo(u+h,c+m,l+m,d-h,l,d),v.toString()}}function Ce(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.percent,c=void 0===u?.2:u,l=e.x,d=void 0===l?H:l,f=e.y,p=void 0===f?z:f,h=e.source,m=void 0===h?G:h,v=e.target,g=void 0===v?q:v,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_e),b=s||Ee({source:m,target:g,x:d,y:p,percent:c});return n?r.createElement(r.Fragment,null,n({path:b})):r.createElement("path",Se({ref:o,className:a()("visx-link visx-link-vertical-curve",t),d:b(i)||""},y))}var Te=["className","children","data","innerRef","path","percent","x","y","source","target"];function Ae(){return Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function Oe(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o)-Math.PI/2,c=i(o),l=r(s)-Math.PI/2,d=i(s),f=c*Math.cos(u),p=c*Math.sin(u),h=d*Math.cos(l),m=d*Math.sin(l),v=h-f,g=m-p,y=a*(v+g),b=a*(g-v),w=(0,ye.Z)();return w.moveTo(f,p),w.bezierCurveTo(f+y,p+b,h+b,m-y,h,m),w.toString()}}function Re(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.percent,c=void 0===u?.2:u,l=e.x,d=void 0===l?H:l,f=e.y,p=void 0===f?z:f,h=e.source,m=void 0===h?G:h,v=e.target,g=void 0===v?q:v,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Te),b=s||Oe({source:m,target:g,x:d,y:p,percent:c});return n?r.createElement(r.Fragment,null,n({path:b})):r.createElement("path",Ae({ref:o,className:a()("visx-link visx-link-radial-curve",t),d:b(i)||""},y))}var Ie=["className","children","innerRef","data","path","x","y","source","target"];function Ne(){return Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function Pe(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=t(e),o=n(e),s=r(a),u=i(a),c=r(o),l=i(o),d=(0,ye.Z)();return d.moveTo(s,u),d.lineTo(c,l),d.toString()}}function Me(e){var t=e.className,n=e.children,i=e.innerRef,o=e.data,s=e.path,u=e.x,c=void 0===u?z:u,l=e.y,d=void 0===l?H:l,f=e.source,p=void 0===f?G:f,h=e.target,m=void 0===h?q:h,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ie),g=s||Pe({source:p,target:m,x:c,y:d});return n?r.createElement(r.Fragment,null,n({path:g})):r.createElement("path",Ne({ref:i,className:a()("visx-link visx-link-horizontal-line",t),d:g(o)||""},v))}var Le=["className","innerRef","data","path","x","y","source","target","children"];function De(){return De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(this,arguments)}function Fe(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=t(e),o=n(e),s=r(a),u=i(a),c=r(o),l=i(o),d=(0,ye.Z)();return d.moveTo(s,u),d.lineTo(c,l),d.toString()}}function Be(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.x,u=void 0===s?H:s,c=e.y,l=void 0===c?z:c,d=e.source,f=void 0===d?G:d,p=e.target,h=void 0===p?q:p,m=e.children,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Le),g=o||Fe({source:f,target:h,x:u,y:l});return m?r.createElement(r.Fragment,null,m({path:g})):r.createElement("path",De({ref:n,className:a()("visx-link visx-link-vertical-line",t),d:g(i)||""},v))}var je=["className","innerRef","data","path","x","y","source","target","children"];function Ze(){return Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ze.apply(this,arguments)}function Ve(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=t(e),o=n(e),s=r(a)-Math.PI/2,u=i(a),c=r(o)-Math.PI/2,l=i(o),d=Math.cos(s),f=Math.sin(s),p=Math.cos(c),h=Math.sin(c),m=(0,ye.Z)();return m.moveTo(u*d,u*f),m.lineTo(l*p,l*h),m.toString()}}function Ue(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.x,u=void 0===s?H:s,c=e.y,l=void 0===c?z:c,d=e.source,f=void 0===d?G:d,p=e.target,h=void 0===p?q:p,m=e.children,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,je),g=o||Ve({source:f,target:h,x:u,y:l});return m?r.createElement(r.Fragment,null,m({path:g})):r.createElement("path",Ze({ref:n,className:a()("visx-link visx-link-radial-line",t),d:g(i)||""},v))}var We=["className","innerRef","data","path","percent","x","y","source","target","children"];function He(){return He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He.apply(this,arguments)}function ze(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o),c=i(o),l=r(s),d=i(s),f=(0,ye.Z)();return f.moveTo(u,c),f.lineTo(u+(l-u)*a,c),f.lineTo(u+(l-u)*a,d),f.lineTo(l,d),f.toString()}}function Ge(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.percent,u=void 0===s?.5:s,c=e.x,l=void 0===c?z:c,d=e.y,f=void 0===d?H:d,p=e.source,h=void 0===p?G:p,m=e.target,v=void 0===m?q:m,g=e.children,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,We),b=o||ze({source:h,target:v,x:l,y:f,percent:u});return g?r.createElement(r.Fragment,null,g({path:b})):r.createElement("path",He({ref:n,className:a()("visx-link visx-link-horizontal-step",t),d:b(i)||""},y))}var qe=["className","innerRef","data","path","percent","x","y","source","target","children"];function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}function Ye(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o),c=i(o),l=r(s),d=i(s),f=(0,ye.Z)();return f.moveTo(u,c),f.lineTo(u,c+(d-c)*a),f.lineTo(l,c+(d-c)*a),f.lineTo(l,d),f.toString()}}function Xe(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.percent,u=void 0===s?.5:s,c=e.x,l=void 0===c?H:c,d=e.y,f=void 0===d?z:d,p=e.source,h=void 0===p?G:p,m=e.target,v=void 0===m?q:m,g=e.children,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,qe),b=o||Ye({source:h,target:v,x:l,y:f,percent:u});return g?r.createElement(r.Fragment,null,g({path:b})):r.createElement("path",Ke({ref:n,className:a()("visx-link visx-link-vertical-step",t),d:b(i)||""},y))}var Qe=["className","innerRef","data","path","x","y","source","target","children"];function Je(){return Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(this,arguments)}function $e(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=t(e),o=n(e),s=r(a),u=i(a),c=r(o),l=i(o),d=s-Math.PI/2,f=u,p=c-Math.PI/2,h=l,m=Math.cos(d),v=Math.sin(d),g=Math.cos(p),y=Math.sin(p);return"\n      M"+f*m+","+f*v+"\n      A"+f+","+f+",0,0,"+((Math.abs(p-d)>Math.PI?p<=d:p>d)?1:0)+","+f*g+","+f*y+"\n      L"+h*g+","+h*y+"\n    "}}function et(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.x,u=void 0===s?H:s,c=e.y,l=void 0===c?z:c,d=e.source,f=void 0===d?G:d,p=e.target,h=void 0===p?q:p,m=e.children,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Qe),g=o||$e({source:f,target:h,x:u,y:l});return m?r.createElement(r.Fragment,null,m({path:g})):r.createElement("path",Je({ref:n,className:a()("visx-link visx-link-radial-step",t),d:g(i)||""},v))}var tt=["sides","size","center","rotate","className","children","innerRef","points"];function nt(){return nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt.apply(this,arguments)}var rt={x:0,y:0},it=function(e){var t=e.sides,n=void 0===t?4:t,r=e.size,i=void 0===r?25:r,a=e.center,o=void 0===a?rt:a,s=e.rotate,u=void 0===s?0:s,c=e.side,l=ie(360/n*c-u);return{x:o.x+i*Math.cos(l),y:o.y+i*Math.sin(l)}},at=function(e){var t=e.sides,n=e.size,r=e.center,i=e.rotate;return new Array(t).fill(0).map((function(e,a){return it({sides:t,size:n,center:r,rotate:i,side:a})}))};function ot(e){var t=e.sides,n=void 0===t?4:t,i=e.size,o=void 0===i?25:i,s=e.center,u=void 0===s?rt:s,c=e.rotate,l=void 0===c?0:c,d=e.className,f=e.children,p=e.innerRef,h=e.points,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,tt),v=h||at({sides:n,size:o,center:u,rotate:l}).map((function(e){return[e.x,e.y]}));return f?r.createElement(r.Fragment,null,f({points:v})):r.createElement("polygon",nt({ref:p,className:a()("visx-polygon",d),points:v.join(" ")},m))}var st=["className","innerRef"];function ut(){return ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(this,arguments)}function ct(e){var t=e.className,n=e.innerRef,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,st);return r.createElement("circle",ut({ref:n,className:a()("visx-circle",t)},i))}var lt=n(52007),dt=n.n(lt),ft="http://www.w3.org/2000/svg";var pt=function(){return!0};function ht(e){var t=e.path,n=e.pointsInSegments,r=e.segmentation,i=void 0===r?"x":r,a=e.sampleRate,o=void 0===a?1:a;try{var s=function(e){var t=document.getElementById(e);if(!t){var n=document.createElementNS(ft,"svg");n.setAttribute("aria-hidden","true"),n.style.opacity="0",n.style.width="0",n.style.height="0",n.style.position="absolute",n.style.top="-100%",n.style.left="-100%",n.style.pointerEvents="none",(t=document.createElementNS(ft,"path")).setAttribute("id",e),n.appendChild(t),document.body.appendChild(n)}return t}("__visx_splitpath_svg_path_measurement_id");s.setAttribute("d",t);var u=s.getTotalLength(),c=n.length,l=n.map((function(){return[]}));if("x"===i||"y"===i)for(var d=n.map((function(e){var t;return null==(t=e.find((function(e){return"number"===typeof e[i]})))?void 0:t[i]})),f=s.getPointAtLength(0),p=s.getPointAtLength(u)[i]>f[i]?d.map((function(e){return"undefined"===typeof e?pt:function(t){return t>=e}})):d.map((function(e){return"undefined"===typeof e?pt:function(t){return t<=e}})),h=0,m=0;m<=u;m+=o){for(var v=s.getPointAtLength(m),g=v[i];h<c-1&&p[h+1](g);)h+=1;l[h].push(v)}else{var y=n.map((function(e){return e.length})),b=y.reduce((function(e,t){return e+t}),0),w=u/Math.max(1,b-1),k=y.slice(0,c-1);k.unshift(0);for(var x=2;x<c;x+=1)k[x]+=k[x-1];for(var _=0;_<c;_+=1)k[_]*=w;for(var S=0,E=0;E<=u;E+=o){for(var C=s.getPointAtLength(E);S<c-1&&E>=k[S+1];)S+=1;l[S].push(C)}}return l}catch(T){return[]}}function mt(){return mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}var vt=function(e){return e.x||0},gt=function(e){return e.y||0};function yt(e){var t=e.children,n=e.className,i=e.curve,a=e.defined,s=e.segmentation,u=e.sampleRate,c=e.segments,l=e.x,d=e.y,f=e.styles,p=(0,r.useMemo)((function(){var e="number"===typeof l||"undefined"===typeof l?function(){return l}:l,t="number"===typeof d||"undefined"===typeof d?function(){return d}:d;return c.map((function(n){return n.map((function(r,i){return{x:e(r,i,n),y:t(r,i,n)}}))}))}),[l,d,c]),h=(0,r.useMemo)((function(){return(0,o.jv)({x:l,y:d,defined:a,curve:i})(c.flat())||""}),[l,d,a,i,c]),v=(0,r.useMemo)((function(){return ht({path:h,segmentation:s,pointsInSegments:p,sampleRate:u})}),[h,s,p,u]);return r.createElement("g",null,v.map((function(e,i){return t?r.createElement(r.Fragment,{key:i},t({index:i,segment:e,styles:f[i]||f[i%f.length]})):r.createElement(m.Z,mt({key:i,className:n,data:e,x:vt,y:gt},f[i]||f[i%f.length]))})))}yt.propTypes={segments:dt().arrayOf(dt().array).isRequired,styles:dt().array.isRequired,children:dt().func,className:dt().string}},80207:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(81694),a=n.n(i),o=["children","className","innerRef","x","y","width","height","radius","all","top","bottom","left","right","topLeft","topRight","bottomLeft","bottomRight"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){var t=e.children,n=e.className,i=e.innerRef,u=e.x,c=e.y,l=e.width,d=e.height,f=e.radius,p=e.all,h=void 0!==p&&p,m=e.top,v=void 0!==m&&m,g=e.bottom,y=void 0!==g&&g,b=e.left,w=void 0!==b&&b,k=e.right,x=void 0!==k&&k,_=e.topLeft,S=void 0!==_&&_,E=e.topRight,C=void 0!==E&&E,T=e.bottomLeft,A=void 0!==T&&T,O=e.bottomRight,R=void 0!==O&&O,I=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),N=function(e){var t=e.all,n=e.bottom,r=e.bottomLeft,i=e.bottomRight,a=e.height,o=e.left,s=e.radius,u=e.right,c=e.top,l=e.topLeft,d=e.topRight,f=e.width,p=e.x,h=e.y;d=t||c||u||d,i=t||n||u||i,r=t||n||o||r,l=t||c||o||l;var m=2*(s=Math.max(1,Math.min(s,Math.min(f,a)/2)));return("M"+(p+s)+","+h+" h"+(f-m)+"\n "+(d?"a"+s+","+s+" 0 0 1 "+s+","+s:"h"+s+"v"+s)+"\n v"+(a-m)+"\n "+(i?"a"+s+","+s+" 0 0 1 "+-s+","+s:"v"+s+"h"+-s)+"\n h"+(m-f)+"\n "+(r?"a"+s+","+s+" 0 0 1 "+-s+","+-s:"h"+-s+"v"+-s)+"\n v"+(m-a)+"\n "+(l?"a"+s+","+s+" 0 0 1 "+s+","+-s:"v"+-s+"h"+s)+"\nz").split("\n").join("")}({x:u,y:c,width:l,height:d,radius:f,all:h,top:v,bottom:y,left:w,right:x,topLeft:S,topRight:C,bottomLeft:A,bottomRight:R});return t?r.createElement(r.Fragment,null,t({path:N})):r.createElement("path",s({ref:i,className:a()("visx-bar-rounded",n),d:N},I))}},69776:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(81694),a=n.n(i),o=["from","to","fill","className","innerRef"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){var t=e.from,n=void 0===t?{x:0,y:0}:t,i=e.to,u=void 0===i?{x:1,y:1}:i,c=e.fill,l=void 0===c?"transparent":c,d=e.className,f=e.innerRef,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),h=n.x===u.x||n.y===u.y;return r.createElement("line",s({ref:f,className:a()("visx-line",d),x1:n.x,y1:n.y,x2:u.x,y2:u.y,fill:l,shapeRendering:h?"crispEdges":"auto"},p))}},86407:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(72791),i=n(81694),a=n.n(i),o=n(67716),s=["children","data","x","y","fill","className","curve","innerRef","defined"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t=e.children,n=e.data,i=void 0===n?[]:n,c=e.x,l=e.y,d=e.fill,f=void 0===d?"transparent":d,p=e.className,h=e.curve,m=e.innerRef,v=e.defined,g=void 0===v?function(){return!0}:v,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),b=(0,o.jv)({x:c,y:l,defined:g,curve:h});return t?r.createElement(r.Fragment,null,t({path:b})):r.createElement("path",u({ref:m,className:a()("visx-linepath",p),d:b(i)||"",fill:f,strokeLinecap:"round"},y))}},67716:function(e,t,n){"use strict";n.d(t,{Nb:function(){return f},SO:function(){return p},aJ:function(){return v},jv:function(){return h},kn:function(){return g},ve:function(){return m}});var r=n(21561),i=n(85520),a=n(86344),o=n(54321),s=n(19509),u=n(3650),c=n(73819),l=n(65205),d=n(94626);function f(e){var t=void 0===e?{}:e,n=t.innerRadius,i=t.outerRadius,a=t.cornerRadius,o=t.startAngle,s=t.endAngle,u=t.padAngle,l=t.padRadius,d=(0,r.Z)();return null!=n&&(0,c.Z)(d.innerRadius,n),null!=i&&(0,c.Z)(d.outerRadius,i),null!=a&&(0,c.Z)(d.cornerRadius,a),null!=o&&(0,c.Z)(d.startAngle,o),null!=s&&(0,c.Z)(d.endAngle,s),null!=u&&(0,c.Z)(d.padAngle,u),null!=l&&(0,c.Z)(d.padRadius,l),d}function p(e){var t=void 0===e?{}:e,n=t.x,r=t.x0,a=t.x1,o=t.y,s=t.y0,u=t.y1,l=t.defined,d=t.curve,f=(0,i.Z)();return n&&(0,c.Z)(f.x,n),r&&(0,c.Z)(f.x0,r),a&&(0,c.Z)(f.x1,a),o&&(0,c.Z)(f.y,o),s&&(0,c.Z)(f.y0,s),u&&(0,c.Z)(f.y1,u),l&&f.defined(l),d&&f.curve(d),f}function h(e){var t=void 0===e?{}:e,n=t.x,r=t.y,i=t.defined,o=t.curve,s=(0,a.Z)();return n&&(0,c.Z)(s.x,n),r&&(0,c.Z)(s.y,r),i&&s.defined(i),o&&s.curve(o),s}function m(e){var t=void 0===e?{}:e,n=t.startAngle,r=t.endAngle,i=t.padAngle,a=t.value,s=t.sort,u=t.sortValues,l=(0,o.Z)();return(null===s||null!=s)&&l.sort(s),(null===u||null!=u)&&l.sortValues(u),null!=a&&l.value(a),null!=i&&(0,c.Z)(l.padAngle,i),null!=n&&(0,c.Z)(l.startAngle,n),null!=r&&(0,c.Z)(l.endAngle,r),l}function v(e){var t=void 0===e?{}:e,n=t.angle,r=t.radius,i=t.defined,a=t.curve,o=(0,s.Z)();return n&&(0,c.Z)(o.angle,n),r&&(0,c.Z)(o.radius,r),i&&o.defined(i),a&&o.curve(a),o}function g(e){var t=e.keys,n=e.value,r=e.order,i=e.offset,a=(0,u.Z)();return t&&a.keys(t),n&&(0,c.Z)(a.value,n),r&&a.order((0,l.ZP)(r)),i&&a.offset((0,d.ZP)(i)),a}},73819:function(e,t,n){"use strict";function r(e,t){e(t)}n.d(t,{Z:function(){return r}})},94626:function(e,t,n){"use strict";n.d(t,{ZP:function(){return l},ed:function(){return c},nW:function(){return u}});var r=n(96720),i=n(96557),a=n(50724),o=n(16126),s=n(63852),u={expand:r.Z,diverging:i.Z,none:a.Z,silhouette:o.Z,wiggle:s.Z},c=Object.keys(u);function l(e){return e&&u[e]||u.none}},65205:function(e,t,n){"use strict";n.d(t,{ZP:function(){return l},s2:function(){return c},un:function(){return u}});var r=n(39912),i=n(92889),a=n(24362),o=n(16542),s=n(20659),u={ascending:r.Z,descending:i.Z,insideout:a.Z,none:o.Z,reverse:s.Z},c=Object.keys(u);function l(e){return e&&u[e]||u.none}},61841:function(e,t,n){"use strict";t.Z=function(e){var t=e.children,n=e.x,s=e.x0,c=e.x1,l=e.y,d=e.y0,f=e.y1,p=e.data,h=void 0===p?[]:p,m=e.defined,v=void 0===m?function(){return!0}:m,g=e.className,y=e.curve,b=e.innerRef,w=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),k=(0,a.area)({x:n,x0:s,x1:c,y:l,y0:d,y1:f,defined:v,curve:y});return t?r.default.createElement(r.default.Fragment,null,t({path:k})):r.default.createElement("path",u({ref:b,className:(0,i.default)("visx-area",g),d:k(h)||""},w))};var r=s(n(72791)),i=s(n(81694)),a=n(40396),o=["children","x","x0","x1","y","y0","y1","data","defined","className","curve","innerRef"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}},89770:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.from,n=void 0===t?{x:0,y:0}:t,o=e.to,u=void 0===o?{x:1,y:1}:o,c=e.fill,l=void 0===c?"transparent":c,d=e.className,f=e.innerRef,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a),h=n.x===u.x||n.y===u.y;return r.default.createElement("line",s({ref:f,className:(0,i.default)("visx-line",d),x1:n.x,y1:n.y,x2:u.x,y2:u.y,fill:l,shapeRendering:h?"crispEdges":"auto"},p))};var r=o(n(72791)),i=o(n(81694)),a=["from","to","fill","className","innerRef"];function o(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}},6289:function(e,t,n){"use strict";t.Z=function(e){var t=e.children,n=e.data,s=void 0===n?[]:n,c=e.x,l=e.y,d=e.fill,f=void 0===d?"transparent":d,p=e.className,h=e.curve,m=e.innerRef,v=e.defined,g=void 0===v?function(){return!0}:v,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),b=(0,a.line)({x:c,y:l,defined:g,curve:h});return t?r.default.createElement(r.default.Fragment,null,t({path:b})):r.default.createElement("path",u({ref:m,className:(0,i.default)("visx-linepath",p),d:b(s)||"",fill:f,strokeLinecap:"round"},y))};var r=s(n(72791)),i=s(n(81694)),a=n(40396),o=["children","data","x","y","fill","className","curve","innerRef","defined"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}},40396:function(e,t,n){"use strict";t.__esModule=!0,t.arc=function(e){var t=void 0===e?{}:e,n=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.startAngle,u=t.endAngle,c=t.padAngle,l=t.padRadius,d=(0,r.arc)();null!=n&&(0,i.default)(d.innerRadius,n);null!=a&&(0,i.default)(d.outerRadius,a);null!=o&&(0,i.default)(d.cornerRadius,o);null!=s&&(0,i.default)(d.startAngle,s);null!=u&&(0,i.default)(d.endAngle,u);null!=c&&(0,i.default)(d.padAngle,c);null!=l&&(0,i.default)(d.padRadius,l);return d},t.area=function(e){var t=void 0===e?{}:e,n=t.x,a=t.x0,o=t.x1,s=t.y,u=t.y0,c=t.y1,l=t.defined,d=t.curve,f=(0,r.area)();n&&(0,i.default)(f.x,n);a&&(0,i.default)(f.x0,a);o&&(0,i.default)(f.x1,o);s&&(0,i.default)(f.y,s);u&&(0,i.default)(f.y0,u);c&&(0,i.default)(f.y1,c);l&&f.defined(l);d&&f.curve(d);return f},t.line=function(e){var t=void 0===e?{}:e,n=t.x,a=t.y,o=t.defined,s=t.curve,u=(0,r.line)();n&&(0,i.default)(u.x,n);a&&(0,i.default)(u.y,a);o&&u.defined(o);s&&u.curve(s);return u},t.pie=function(e){var t=void 0===e?{}:e,n=t.startAngle,a=t.endAngle,o=t.padAngle,s=t.value,u=t.sort,c=t.sortValues,l=(0,r.pie)();(null===u||null!=u)&&l.sort(u);(null===c||null!=c)&&l.sortValues(c);null!=s&&l.value(s);null!=o&&(0,i.default)(l.padAngle,o);null!=n&&(0,i.default)(l.startAngle,n);null!=a&&(0,i.default)(l.endAngle,a);return l},t.radialLine=function(e){var t=void 0===e?{}:e,n=t.angle,a=t.radius,o=t.defined,s=t.curve,u=(0,r.radialLine)();n&&(0,i.default)(u.angle,n);a&&(0,i.default)(u.radius,a);o&&u.defined(o);s&&u.curve(s);return u},t.stack=function(e){var t=e.keys,n=e.value,s=e.order,u=e.offset,c=(0,r.stack)();t&&c.keys(t);n&&(0,i.default)(c.value,n);s&&c.order((0,a.default)(s));u&&c.offset((0,o.default)(u));return c};var r=n(29100),i=s(n(92603)),a=s(n(26510)),o=s(n(87104));function s(e){return e&&e.__esModule?e:{default:e}}},34876:function(e,t){"use strict";t.l8=function(e){return null==e?void 0:e[0]},t.xf=function(e){return null==e?void 0:e[1]}},63357:function(e,t){"use strict";t.Z=function(e){if("bandwidth"in e)return e.bandwidth();var t=e.range(),n=e.domain();return Math.abs(t[t.length-1]-t[0])/n.length}},92603:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){e(t)}},87104:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&i[e]||i.none},t.STACK_OFFSET_NAMES=t.STACK_OFFSETS=void 0;var r=n(29100),i={expand:r.stackOffsetExpand,diverging:r.stackOffsetDiverging,none:r.stackOffsetNone,silhouette:r.stackOffsetSilhouette,wiggle:r.stackOffsetWiggle};t.STACK_OFFSETS=i;var a=Object.keys(i);t.STACK_OFFSET_NAMES=a},26510:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&i[e]||i.none},t.STACK_ORDER_NAMES=t.STACK_ORDERS=void 0;var r=n(29100),i={ascending:r.stackOrderAscending,descending:r.stackOrderDescending,insideout:r.stackOrderInsideOut,none:r.stackOrderNone,reverse:r.stackOrderReverse};t.STACK_ORDERS=i;var a=Object.keys(i);t.STACK_ORDER_NAMES=a},15581:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(25014),a=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var s={overflow:"visible"};function u(e){var t=e.dx,n=void 0===t?0:t,u=e.dy,c=void 0===u?0:u,l=e.textAnchor,d=void 0===l?"start":l,f=e.innerRef,p=e.innerTextRef,h=(e.verticalAnchor,e.angle,e.lineHeight),m=void 0===h?"1em":h,v=(e.scaleToFit,e.capHeight,e.width,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a)),g=v.x,y=void 0===g?0:g,b=v.fontSize,w=(0,i.Z)(e),k=w.wordsByLines,x=w.startDy,_=w.transform;return r.createElement("svg",{ref:f,x:n,y:c,fontSize:b,style:s},k.length>0?r.createElement("text",o({ref:p,transform:_},v,{textAnchor:d}),k.map((function(e,t){return r.createElement("tspan",{key:t,x:y,dy:0===t?x:m},e.words.join(" "))}))):null)}},25014:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(72791),i=n(72296),a=n.n(i),o=n(41026),s=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function u(e){return"number"===typeof e}function c(e){return"number"===typeof e&&Number.isFinite(e)||"string"===typeof e}function l(e){var t=e.verticalAnchor,n=void 0===t?"end":t,i=e.scaleToFit,l=void 0!==i&&i,d=e.angle,f=e.width,p=e.lineHeight,h=void 0===p?"1em":p,m=e.capHeight,v=void 0===m?"0.71em":m,g=e.children,y=e.style,b=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),w=b.x,k=void 0===w?0:w,x=b.y,_=void 0===x?0:x,S=!c(k)||!c(_),E=(0,r.useMemo)((function(){return{wordsWithWidth:(null==g?[]:g.toString().split(/(?:(?!\u00A0+)\s+)/)).map((function(e){return{word:e,wordWidth:(0,o.Z)(e,y)||0}})),spaceWidth:(0,o.Z)("\xa0",y)||0}}),[g,y]),C=E.wordsWithWidth,T=E.spaceWidth,A=(0,r.useMemo)((function(){return S?[]:f||l?C.reduce((function(e,t){var n=t.word,r=t.wordWidth,i=e[e.length-1];if(i&&(null==f||l||(i.width||0)+r+T<f))i.words.push(n),i.width=i.width||0,i.width+=r+T;else{var a={words:[n],width:r};e.push(a)}return e}),[]):[{words:null==g?[]:g.toString().split(/(?:(?!\u00A0+)\s+)/)}]}),[S,f,l,g,C,T]),O=(0,r.useMemo)((function(){return S?"":"start"===n?a()("calc("+v+")"):"middle"===n?a()("calc("+(A.length-1)/2+" * -"+h+" + ("+v+" / 2))"):a()("calc("+(A.length-1)+" * -"+h+")")}),[S,n,v,A.length,h]),R=(0,r.useMemo)((function(){var e=[];if(S)return"";if(u(k)&&u(_)&&u(f)&&l&&A.length>0){var t=A[0].width||1,n="shrink-only"===l?Math.min(f/t,1):f/t,r=n,i=k-n*k,a=_-r*_;e.push("matrix("+n+", 0, 0, "+r+", "+i+", "+a+")")}return d&&e.push("rotate("+d+", "+k+", "+_+")"),e.length>0?e.join(" "):""}),[S,k,_,f,l,A,d]);return{wordsByLines:A,startDy:O,transform:R}}},12755:function(e,t,n){"use strict";n.r(t),n.d(t,{Text:function(){return r.Z},getStringWidth:function(){return i.Z},useText:function(){return a.Z}});var r=n(15581),i=n(41026),a=n(25014)},41026:function(e,t,n){"use strict";var r=n(49151),i=n.n(r),a="__react_svg_text_measurement_id";t.Z=i()((function(e,t){try{var n=document.getElementById(a);if(!n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("aria-hidden","true"),r.style.width="0",r.style.height="0",r.style.position="absolute",r.style.top="-100%",r.style.left="-100%",(n=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",a),r.appendChild(n),document.body.appendChild(r)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch(i){return null}}),(function(e,t){return e+"_"+JSON.stringify(t)}))},61848:function(e,t,n){"use strict";t.Z=function(e){var t=e.dx,n=void 0===t?0:t,o=e.dy,c=void 0===o?0:o,l=e.textAnchor,d=void 0===l?"start":l,f=e.innerRef,p=e.innerTextRef,h=(e.verticalAnchor,e.angle,e.lineHeight),m=void 0===h?"1em":h,v=(e.scaleToFit,e.capHeight,e.width,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a)),g=v.x,y=void 0===g?0:g,b=v.fontSize,w=(0,i.default)(e),k=w.wordsByLines,x=w.startDy,_=w.transform;return r.default.createElement("svg",{ref:f,x:n,y:c,fontSize:b,style:u},k.length>0?r.default.createElement("text",s({ref:p,transform:_},v,{textAnchor:d}),k.map((function(e,t){return r.default.createElement("tspan",{key:t,x:y,dy:0===t?x:m},e.words.join(" "))}))):null)};var r=o(n(72791)),i=o(n(15637)),a=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function o(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var u={overflow:"visible"}},15637:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.verticalAnchor,n=void 0===t?"end":t,s=e.scaleToFit,u=void 0!==s&&s,d=e.angle,f=e.width,p=e.lineHeight,h=void 0===p?"1em":p,m=e.capHeight,v=void 0===m?"0.71em":m,g=e.children,y=e.style,b=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),w=b.x,k=void 0===w?0:w,x=b.y,_=void 0===x?0:x,S=!l(k)||!l(_),E=(0,r.useMemo)((function(){return{wordsWithWidth:(null==g?[]:g.toString().split(/(?:(?!\u00A0+)\s+)/)).map((function(e){return{word:e,wordWidth:(0,a.default)(e,y)||0}})),spaceWidth:(0,a.default)("\xa0",y)||0}}),[g,y]),C=E.wordsWithWidth,T=E.spaceWidth,A=(0,r.useMemo)((function(){return S?[]:f||u?C.reduce((function(e,t){var n=t.word,r=t.wordWidth,i=e[e.length-1];if(i&&(null==f||u||(i.width||0)+r+T<f))i.words.push(n),i.width=i.width||0,i.width+=r+T;else{var a={words:[n],width:r};e.push(a)}return e}),[]):[{words:null==g?[]:g.toString().split(/(?:(?!\u00A0+)\s+)/)}]}),[S,f,u,g,C,T]),O=(0,r.useMemo)((function(){return S?"":"start"===n?(0,i.default)("calc("+v+")"):"middle"===n?(0,i.default)("calc("+(A.length-1)/2+" * -"+h+" + ("+v+" / 2))"):(0,i.default)("calc("+(A.length-1)+" * -"+h+")")}),[S,n,v,A.length,h]),R=(0,r.useMemo)((function(){var e=[];if(S)return"";if(c(k)&&c(_)&&c(f)&&u&&A.length>0){var t=A[0].width||1,n="shrink-only"===u?Math.min(f/t,1):f/t,r=n,i=k-n*k,a=_-r*_;e.push("matrix("+n+", 0, 0, "+r+", "+i+", "+a+")")}return d&&e.push("rotate("+d+", "+k+", "+_+")"),e.length>0?e.join(" "):""}),[S,k,_,f,u,A,d]);return{wordsByLines:A,startDy:O,transform:R}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(72791)),i=s(n(72296)),a=s(n(49711)),o=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return"number"===typeof e}function l(e){return"number"===typeof e&&Number.isFinite(e)||"string"===typeof e}},49711:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(49151))&&r.__esModule?r:{default:r};var a="__react_svg_text_measurement_id";var o=(0,i.default)((function(e,t){try{var n=document.getElementById(a);if(!n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("aria-hidden","true"),r.style.width="0",r.style.height="0",r.style.position="absolute",r.style.top="-100%",r.style.left="-100%",(n=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",a),r.appendChild(n),document.body.appendChild(r)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch(i){return null}}),(function(e,t){return e+"_"+JSON.stringify(t)}));t.default=o},40884:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var r=n(52007),i=n.n(r),a=n(72791),o=n(47332),s=n(54164);function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return l(u(t=e.call.apply(e,[this].concat(r))||this),"node",void 0),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n);var i=r.prototype;return i.componentWillUnmount=function(){this.node&&document.body&&(document.body.removeChild(this.node),delete this.node)},i.render=function(){return this.node||"undefined"===typeof document||(this.node=document.createElement("div"),null!=this.props.zIndex&&(this.node.style.zIndex=""+this.props.zIndex),document.body.append(this.node)),this.node?s.createPortal(this.props.children,this.node):null},r}(a.PureComponent);l(d,"propTypes",{zIndex:i().oneOfType([i().number,i().string])});var f=n(81694),p=n.n(f),h=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var v={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"};function g(e){var t=e.className,n=e.top,r=e.left,i=e.offsetLeft,o=void 0===i?10:i,s=e.offsetTop,u=void 0===s?10:s,c=e.style,l=void 0===c?v:c,d=e.children,f=e.unstyled,g=void 0!==f&&f,y=e.applyPositionStyle,b=void 0!==y&&y,w=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,h);return a.createElement("div",m({className:p()("visx-tooltip",t),style:m({top:null==n||null==u?n:n+u,left:null==r||null==o?r:r+o},b&&{position:"absolute"},!g&&l)},w),d)}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}g.propTypes={children:i().node,className:i().string,left:i().number,offsetLeft:i().number,offsetTop:i().number,top:i().number,applyPositionStyle:i().bool,unstyled:i().bool};var x={top:0,right:0,bottom:0,left:0,width:0,height:0};var _=["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled"];function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}var E=function(e){var t,n;return n=t=function(t){var n,r;function i(e){var n;return k(b(n=t.call(this,e)||this),"node",void 0),n.state={rect:void 0,parentRect:void 0},n.getRects=n.getRects.bind(b(n)),n}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,w(n,r);var o=i.prototype;return o.componentDidMount=function(){var e=this;this.node=s.findDOMNode(this),this.setState((function(){return e.getRects()}))},o.getRects=function(){if(!this.node)return this.state;var e=this.node,t=e.parentNode;return{rect:e.getBoundingClientRect?e.getBoundingClientRect():x,parentRect:null!=t&&t.getBoundingClientRect?t.getBoundingClientRect():x}},o.render=function(){return a.createElement(e,y({getRects:this.getRects},this.state,this.props))},i}(a.PureComponent),k(t,"displayName","withBoundingRects("+(e.displayName||"")+")"),n}((function(e){var t,n=e.children,r=(e.getRects,e.left),i=void 0===r?0:r,o=e.offsetLeft,s=void 0===o?10:o,u=e.offsetTop,c=void 0===u?10:u,l=e.parentRect,d=e.rect,f=e.style,p=void 0===f?v:f,h=e.top,m=void 0===h?0:h,y=e.unstyled,b=void 0!==y&&y,w=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_);if(d&&l){var k=i,x=m,E=!1,C=!1;if(l.width){var T=k+s+d.width-l.width,A=d.width-k-s;E=T>0&&T>A}else{var O=k+s+d.width-window.innerWidth,R=d.width-k-s;E=O>0&&O>R}if(l.height){var I=x+c+d.height-l.height,N=d.height-x-c;C=I>0&&I>N}else C=x+c+d.height>window.innerHeight;k=E?k-d.width-s:k+s,x=C?x-d.height-c:x+c,t="translate("+(k=Math.round(k))+"px, "+(x=Math.round(x))+"px)"}return a.createElement(g,S({style:S({left:0,top:0,transform:t},!b&&p)},w),n)})),C=["detectBounds","zIndex"],T=["left","top","detectBounds","zIndex"];function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var R=n(27229),I=n(20801),N=n(50851),P=n(26116),M=["debounce","detectBounds","horizontalCrosshairStyle","glyphStyle","renderTooltip","renderGlyph","resizeObserverPolyfill","scroll","showDatumGlyph","showHorizontalCrosshair","showSeriesGlyphs","showVerticalCrosshair","snapTooltipToDatumX","snapTooltipToDatumY","verticalCrosshairStyle","zIndex"],L=["x","y"];function D(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}var B={position:"absolute",pointerEvents:"none",fontSize:0,lineHeight:0},j={position:"absolute",left:0,top:0,opacity:0,width:0,height:0,pointerEvents:"none"};function Z(e){var t=((0,a.useContext)(I.Z)||{}).theme;return a.createElement("circle",F({cx:e.x,cy:e.y,r:e.size,fill:e.color,stroke:null==t?void 0:t.backgroundColor,strokeWidth:1.5,paintOrder:"fill"},e.glyphStyle))}function V(e){return a.createElement(Z,e)}function U(e){var t=(0,a.useContext)(R.Z);return null!=t&&t.tooltipOpen?a.createElement(W,e):null}function W(e){var t,n,r,i,s,u,c,l,f,p,h,m,y,b=e.debounce,w=e.detectBounds,k=e.horizontalCrosshairStyle,x=e.glyphStyle,_=e.renderTooltip,S=e.renderGlyph,Z=void 0===S?V:S,U=e.resizeObserverPolyfill,W=e.scroll,H=void 0===W||W,z=e.showDatumGlyph,G=void 0!==z&&z,q=e.showHorizontalCrosshair,K=void 0!==q&&q,Y=e.showSeriesGlyphs,X=void 0!==Y&&Y,Q=e.showVerticalCrosshair,J=void 0!==Q&&Q,$=e.snapTooltipToDatumX,ee=void 0!==$&&$,te=e.snapTooltipToDatumY,ne=void 0!==te&&te,re=e.verticalCrosshairStyle,ie=e.zIndex,ae=D(e,M),oe=(0,a.useContext)(I.Z)||{},se=oe.colorScale,ue=oe.theme,ce=oe.innerHeight,le=oe.innerWidth,de=oe.margin,fe=oe.xScale,pe=oe.yScale,he=oe.dataRegistry,me=(0,a.useContext)(R.Z),ve=function(e){var t=void 0===e?{}:e,n=t.detectBounds,r=void 0===n||n,i=t.zIndex,s=O(t,C),u=(0,o.Z)(s),c=u[0],l=u[1],f=u[2],p=(0,a.useMemo)((function(){return function(e){var t=e.left,n=void 0===t?0:t,o=e.top,s=void 0===o?0:o,u=e.detectBounds,c=e.zIndex,f=O(e,T),p=null==c?i:c,h=(null==u?r:u)?E:g,m=n+(l.left||0)+window.scrollX,v=s+(l.top||0)+window.scrollY;return a.createElement(d,{zIndex:p},a.createElement(h,A({left:m,top:v},f)))}}),[r,i,l.left,l.top]);return{containerRef:c,containerBounds:l,forceRefreshBounds:f,TooltipInPortal:p}}({debounce:b,detectBounds:w,polyfill:U,scroll:H,zIndex:ie}),ge=ve.containerRef,ye=ve.TooltipInPortal,be=ve.forceRefreshBounds,we=(0,a.useCallback)((function(e){var t;ge(null!=(t=null==e?void 0:e.parentElement)?t:null)}),[ge]),ke=null!=me&&me.tooltipOpen?_(F({},me,{colorScale:se})):null,xe=(null==me?void 0:me.tooltipOpen)&&null!=ke,_e=(0,a.useRef)(!1);(0,a.useEffect)((function(){xe&&!_e.current&&be(),_e.current=xe}),[xe,be]);var Se=null==me?void 0:me.tooltipLeft,Ee=null==me?void 0:me.tooltipTop,Ce=fe?(0,N.Z)(fe):0,Te=pe?(0,N.Z)(pe):0,Ae=(0,a.useCallback)((function(e,t){var n,r,i=null==he?void 0:he.get(e),a=null==i?void 0:i.xAccessor,o=null==i?void 0:i.yAccessor;return{left:fe&&a?null!=(n=Number(fe(a(t)))+Ce/2)?n:0:void 0,top:pe&&o?null!=(r=Number(pe(o(t)))+Te/2)?r:0:void 0}}),[he,Ce,Te,fe,pe]),Oe=null==me||null==(t=me.tooltipData)?void 0:t.nearestDatum,Re=null!=(n=null==Oe?void 0:Oe.key)?n:"";if(xe&&Oe&&(ee||ne)){var Ie=Ae(Re,Oe.datum),Ne=Ie.left,Pe=Ie.top;Se=ee&&(0,P.Z)(Ne)?Ne:Se,Ee=ne&&(0,P.Z)(Pe)?Pe:Ee}var Me=[];if(xe&&(G||X)){var Le,De,Fe,Be=Number(null!=(Le=null==x?void 0:x.radius)?Le:4);if(X)Object.values(null!=(De=null==me||null==(Fe=me.tooltipData)?void 0:Fe.datumByKey)?De:{}).forEach((function(e){var t,n,r,i=e.key,a=e.datum,o=e.index,s=null!=(t=null!=(n=null==se?void 0:se(i))?n:null==ue||null==(r=ue.htmlLabel)?void 0:r.color)?t:"#222",u=Ae(i,a),c=u.left,l=u.top;(0,P.Z)(c)&&(0,P.Z)(l)&&Me.push({key:i,color:s,datum:a,index:o,size:Be,x:c,y:l,glyphStyle:x,isNearestDatum:!!Oe&&Oe.key===i})}));else if(Oe){var je=Ae(Re,Oe.datum),Ze=je.left,Ve=je.top;if((0,P.Z)(Ze)&&(0,P.Z)(Ve)){var Ue,We,He,ze,Ge,qe,Ke=null!=(Ue=null!=(We=null!=(He=null!=(ze=Re&&(null==se?void 0:se(Re)))?ze:null)?He:null==ue||null==(Ge=ue.gridStyles)?void 0:Ge.stroke)?We:null==ue||null==(qe=ue.htmlLabel)?void 0:qe.color)?Ue:"#222";Me.push({key:Re,color:Ke,datum:Oe.datum,index:Oe.index,size:Be,x:Ze,y:Ve,glyphStyle:x,isNearestDatum:!0})}}}return a.createElement(a.Fragment,null,a.createElement("svg",{ref:we,style:j}),xe&&a.createElement(a.Fragment,null,J&&a.createElement(ye,{className:"visx-crosshair visx-crosshair-vertical",left:Se,top:null==de?void 0:de.top,offsetLeft:0,offsetTop:0,detectBounds:!1,style:B},a.createElement("svg",{width:"1",height:ce,overflow:"visible"},a.createElement("line",F({x1:0,x2:0,y1:0,y2:ce,strokeWidth:1.5,stroke:null!=(r=null!=(i=null==ue||null==(s=ue.gridStyles)?void 0:s.stroke)?i:null==ue||null==(u=ue.htmlLabel)?void 0:u.color)?r:"#222"},re)))),K&&a.createElement(ye,{className:"visx-crosshair visx-crosshair-horizontal",left:null==de?void 0:de.left,top:Ee,offsetLeft:0,offsetTop:0,detectBounds:!1,style:B},a.createElement("svg",{width:le,height:"1",overflow:"visible"},a.createElement("line",F({x1:0,x2:le,y1:0,y2:0,strokeWidth:1.5,stroke:null!=(c=null!=(l=null==ue||null==(f=ue.gridStyles)?void 0:f.stroke)?l:null==ue||null==(p=ue.htmlLabel)?void 0:p.color)?c:"#222"},k)))),Me.map((function(e,t){var n=e.x,r=e.y,i=D(e,L);return a.createElement(ye,{key:t,className:"visx-tooltip-glyph",left:n,top:r,offsetLeft:0,offsetTop:0,detectBounds:!1,style:B},a.createElement("svg",{overflow:"visible"},Z(F({x:0,y:0},i))))})),a.createElement(ye,F({left:Se,top:Ee,style:F({},v,{background:null!=(h=null==ue?void 0:ue.backgroundColor)?h:"white",boxShadow:"0 1px 2px "+(null!=ue&&null!=(m=ue.htmlLabel)&&m.color?(null==ue||null==(y=ue.htmlLabel)?void 0:y.color)+"55":"#22222255")},null==ue?void 0:ue.htmlLabel)},ae),ke)))}Z.propTypes={isNearestDatum:i().bool.isRequired},U.propTypes={renderTooltip:i().func.isRequired,renderGlyph:i().func,snapTooltipToDatumX:i().bool,snapTooltipToDatumY:i().bool,showVerticalCrosshair:i().bool,showHorizontalCrosshair:i().bool,showDatumGlyph:i().bool,showSeriesGlyphs:i().bool},W.propTypes={renderTooltip:i().func.isRequired,renderGlyph:i().func,snapTooltipToDatumX:i().bool,snapTooltipToDatumY:i().bool,showVerticalCrosshair:i().bool,showHorizontalCrosshair:i().bool,showDatumGlyph:i().bool,showSeriesGlyphs:i().bool}},7554:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(52007),i=n.n(r),a=n(72791),o=n(87700),s=n(20801),u=n(47702),c=n(68699),l=n(27229),d=n(40207),f=n(50833),p=n(89629),h=n(41316),m=n(58951);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var g={top:50,right:50,bottom:50,left:50},y=[h.hD];function b(e){var t=e.accessibilityLabel,n=void 0===t?"XYChart":t,r=e.captureEvents,i=void 0===r||r,w=e.children,k=e.height,x=e.horizontal,_=e.margin,S=void 0===_?g:_,E=e.onPointerMove,C=e.onPointerOut,T=e.onPointerUp,A=e.onPointerDown,O=e.pointerEventsDataKey,R=void 0===O?"nearest":O,I=e.theme,N=e.width,P=e.xScale,M=e.yScale,L=(0,a.useContext)(s.Z).setDimensions,D=(0,a.useContext)(l.Z),F=(0,u.Z)();(0,a.useEffect)((function(){L&&null!=N&&null!=k&&N>0&&k>0&&L({width:N,height:k,margin:S})}),[L,N,k,S]);var B=(0,p.Z)({source:h.hD});return(0,m.ZP)({dataKey:"nearest"===R?m.tj:m.lN,onPointerMove:E,onPointerOut:C,onPointerUp:T,onPointerDown:A,allowedSources:y}),L?null==N||null==k?a.createElement(o.Z,null,(function(t){return a.createElement(b,v({},e,{width:null==e.width?t.width:e.width,height:null==e.height?t.height:e.height}))})):null==D?a.createElement(d.Z,null,a.createElement(b,e)):null==F?a.createElement(c.Z,null,a.createElement(b,e)):N>0&&k>0?a.createElement("svg",{width:N,height:k,"aria-label":n},w,i&&a.createElement("rect",v({x:S.left,y:S.top,width:N-S.left-S.right,height:k-S.top-S.bottom,fill:"transparent"},B))):null:P&&M?a.createElement(f.Z,{xScale:P,yScale:M,theme:I,initialDimensions:{width:N,height:k,margin:S},horizontal:x},a.createElement(b,e)):(console.warn("[@visx/xychart] XYChart: When no DataProvider is available in context, you must pass xScale & yScale config to XYChart."),null)}b.propTypes={accessibilityLabel:i().string,captureEvents:i().bool,width:i().number,height:i().number,children:i().node.isRequired,horizontal:i().oneOfType([i().bool,i().oneOf(["auto"])]),onPointerMove:i().func,onPointerOut:i().func,onPointerUp:i().func,onPointerDown:i().func,pointerEventsDataKey:i().oneOf(["all","nearest"])}},14367:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(52007),i=n.n(r),a=n(72791),o=n(54753),s=n(68974),u=n(36388),c=n(7925),l=["editable"],d=["x","y","AnnotationComponent"];function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function h(e){var t=e.editable,n=p(e,l),r=(0,a.useCallback)((function(e){return a.createElement(m,f({AnnotationComponent:t?s.Z:u.Z},e))}),[t]);return a.createElement(c.Z,f({AnnotationComponent:r},n))}function m(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,s=e.AnnotationComponent,u=p(e,d),c=(0,a.useRef)({x:n,y:i}),l=(0,o.useSpring)({from:{x:c.current.x-n,y:c.current.y-i},to:{x:0,y:0},reset:!0});return(0,a.useEffect)((function(){c.current={x:n,y:i}}),[n,i]),a.createElement(o.animated.g,{transform:(0,o.to)([l.x,l.y],(function(e,t){return"translate("+e+", "+t+")"}))},a.createElement(s,f({x:n,y:i},u)))}h.propTypes={editable:i().bool}},46867:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(52007),i=n.n(r),a=n(72791),o=n(68974),s=n(36388),u=n(7925),c=["editable"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function d(e){var t=e.editable,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,c);return a.createElement(u.Z,l({AnnotationComponent:t?o.Z:s.Z},n))}d.propTypes={editable:i().bool}},72317:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(72791),i=n(52007),a=n.n(i),o=n(81694),s=n.n(o),u=n(99648),c=["className","x","y","stroke","radius"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function d(e){var t=e.className,n=e.x,i=e.y,a=e.stroke,o=void 0===a?"#222":a,d=e.radius,f=void 0===d?16:d,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,c),h=(0,r.useContext)(u.Z);return r.createElement("circle",l({className:s()("visx-annotation-subject","visx-annotation-subject-circle",t),cx:n||h.x,cy:i||h.y,r:f,fill:"transparent",pointerEvents:"none",stroke:o},p))}d.propTypes={className:a().string,stroke:a().string,radius:a().number};var f=n(20801);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e){var t=(0,r.useContext)(f.Z).theme;return r.createElement(d,p({stroke:null==t?void 0:t.axisStyles.x.bottom.axisLine.stroke},e))}},91024:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(72791),i=n(52007),a=n.n(i),o=n(81694),s=n.n(o),u=n(99648);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){var t,n,i,a,o=e.className,l=e.x,d=e.y,f=e.dx,p=e.dy,h=e.type,m=void 0===h?"elbow":h,v=e.stroke,g=void 0===v?"#222":v,y=e.pathProps,b=(0,r.useContext)(u.Z),w=null==l?null!=(t=b.x)?t:0:l,k=null==d?null!=(n=b.y)?n:0:d,x=null==f?null!=(i=b.dx)?i:0:f,_=null==p?null!=(a=b.dy)?a:0:p,S=w,E=k,C=w+x,T=k+_;"elbow"===m&&(Math.abs(x)<=Math.abs(_)?(S=C,E=k+(_>0?1:-1)*Math.abs(S-w)):(E=T,S=w+(x>0?1:-1)*Math.abs(E-k)));return r.createElement("path",c({className:s()("visx-annotation-connector",o),strokeWidth:1,stroke:g,fill:"transparent",pointerEvents:"none",d:"M"+w+","+k+("elbow"===m?"L"+S+","+E:"")+"L"+C+","+T},y))}l.propTypes={className:a().string,type:a().oneOf(["line","elbow"]),stroke:a().string};var d=n(20801);function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e){var t=(0,r.useContext)(d.Z).theme;return r.createElement(l,f({stroke:null==t?void 0:t.axisStyles.x.bottom.axisLine.stroke},e))}},53943:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(72791),i=n(52007),a=n.n(i),o=n(81694),s=n.n(o),u=n(2086),c=n(61848),l=n(25014),d=n(47332),f=n(99648);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e){var t=e.anchorLineOrientation,n=e.anchorLineStroke,i=e.verticalAnchor,a=e.horizontalAnchor,o=e.width,s=e.height,u={stroke:n,strokeWidth:2};return r.createElement(r.Fragment,null,"horizontal"===t&&"start"===i&&r.createElement("line",p({},u,{x1:0,x2:o,y1:0,y2:0})),"horizontal"===t&&"end"===i&&r.createElement("line",p({},u,{x1:0,x2:o,y1:s,y2:s})),"vertical"===t&&"start"===a&&r.createElement("line",p({},u,{x1:0,x2:0,y1:0,y2:s})),"vertical"===t&&"end"===a&&r.createElement("line",p({},u,{x1:o,x2:o,y1:0,y2:s})))}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}h.propTypes={anchorLineOrientation:a().oneOf(["horizontal","vertical"]).isRequired,anchorLineStroke:a().string.isRequired,width:a().number.isRequired,height:a().number.isRequired};var v={top:12,right:12,bottom:12,left:12};function g(e){var t,n,i,a=e.anchorLineStroke,o=void 0===a?"#222":a,p=e.backgroundFill,g=void 0===p?"#eaeaea":p,y=e.backgroundPadding,b=e.backgroundProps,w=e.className,k=e.fontColor,x=void 0===k?"#222":k,_=e.horizontalAnchor,S=e.resizeObserverPolyfill,E=e.showAnchorLine,C=void 0===E||E,T=e.showBackground,A=void 0===T||T,O=e.subtitle,R=e.subtitleDy,I=void 0===R?4:R,N=e.subtitleFontSize,P=void 0===N?12:N,M=e.subtitleFontWeight,L=void 0===M?200:M,D=e.subtitleProps,F=e.title,B=e.titleFontSize,j=void 0===B?16:B,Z=e.titleFontWeight,V=void 0===Z?600:Z,U=e.titleProps,W=e.verticalAnchor,H=e.width,z=e.maxWidth,G=void 0===z?125:z,q=e.x,K=e.y,Y=(0,d.Z)({polyfill:S}),X=Y[0],Q=Y[1],J=(0,d.Z)({polyfill:S}),$=J[0],ee=J[1],te=(0,r.useMemo)((function(){return function(e){return"undefined"===typeof e?v:"number"===typeof e?{top:e,right:e,bottom:e,left:e}:m({},v,e)}(y)}),[y]),ne=(0,r.useContext)(f.Z),re=ne.x,ie=void 0===re?0:re,ae=ne.y,oe=void 0===ae?0:ae,se=ne.dx,ue=void 0===se?0:se,ce=ne.dy,le=void 0===ce?0:ce,de=Math.floor(te.top+te.bottom+(null!=(t=Q.height)?t:0)+(null!=(n=ee.height)?n:0)),fe=(0,l.Z)(m({children:F,verticalAnchor:"start",capHeight:j,fontSize:j,fontWeight:V,fontFamily:null==U?void 0:U.fontFamily,width:G},U)).wordsByLines,pe=(0,l.Z)(m({children:O,verticalAnchor:"start",capHeight:P,fontSize:P,fontWeight:L,fontFamily:null==D?void 0:D.fontFamily,width:G},D)).wordsByLines,he=fe.reduce((function(e,t){var n;return Math.max(e,null!=(n=t.width)?n:0)}),0),me=pe.reduce((function(e,t){var n;return Math.max(e,null!=(n=t.width)?n:0)}),0),ve=Math.ceil(Math.min(G,Math.max(he,me))),ge=te.right+te.left+ve,ye=null!=H?H:ge,be=ye-te.left-te.right,we=_||(Math.abs(ue)<Math.abs(le)?"middle":ue>0?"start":"end"),ke=W||(Math.abs(ue)>Math.abs(le)?"middle":le>0?"start":"end"),xe=(0,r.useMemo)((function(){var e=null==q?ie+ue:q,t=null==K?oe+le:K;return"middle"===we&&(e-=ye/2),"end"===we&&(e-=ye),"middle"===ke&&(t-=de/2),"end"===ke&&(t-=de),{x:e,y:t}}),[q,ie,ue,K,oe,le,we,ke,ye,de]),_e=null==U?void 0:U.fontFamily,Se=(0,r.useMemo)((function(){return{fontSize:j,fontWeight:V,fontFamily:_e}}),[j,V,_e]),Ee=null==D?void 0:D.fontFamily,Ce=(0,r.useMemo)((function(){return{fontSize:P,fontWeight:L,fontFamily:Ee}}),[P,L,Ee]);return F||O?r.createElement(u.Z,{top:xe.y,left:xe.x,pointerEvents:"none",className:s()("visx-annotationlabel",w),opacity:0===Q.height&&0===ee.height?0:1},A&&r.createElement("rect",m({className:"visx-annotationlabel-background",fill:g,x:0,y:0,width:ye,height:de},b)),C&&r.createElement(h,{anchorLineOrientation:Math.abs(ue)>Math.abs(le)?"vertical":"horizontal",anchorLineStroke:o,verticalAnchor:ke,horizontalAnchor:we,width:ye,height:de}),F&&r.createElement(c.Z,m({innerTextRef:X,fill:x,verticalAnchor:"start",x:te.left+("middle"===(null==U?void 0:U.textAnchor)?be/2:0),y:te.top,width:be,capHeight:j,style:Se},U),F),O&&r.createElement(c.Z,m({innerTextRef:$,fill:x,verticalAnchor:"start",x:te.left+("middle"===(null==D?void 0:D.textAnchor)?be/2:0),y:te.top+(null!=(i=Q.height)?i:0),dy:F?I:0,width:be,capHeight:P,style:Ce},D),O)):null}g.propTypes={anchorLineStroke:a().string,backgroundFill:a().string,backgroundPadding:a().oneOfType([a().number,a().shape({top:a().number,right:a().number,bottom:a().number,left:a().number})]),className:a().string,fontColor:a().string,showAnchorLine:a().bool,showBackground:a().bool,subtitle:a().string,subtitleDy:a().number,title:a().string,width:a().number,maxWidth:a().number,x:a().number,y:a().number};var y=n(20801);function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}var w={fillOpacity:.7};function k(e){var t=(0,r.useContext)(y.Z).theme,n=null==t?void 0:t.svgLabelBig,i=null==t?void 0:t.svgLabelSmall;return r.createElement(g,b({anchorLineStroke:null==t?void 0:t.axisStyles.x.bottom.axisLine.stroke,backgroundFill:null==t?void 0:t.backgroundColor,backgroundProps:w,showAnchorLine:!0,subtitleFontSize:null==i?void 0:i.fontSize,subtitleFontWeight:null==i?void 0:i.fontWeight,subtitleProps:i,titleFontSize:null==n?void 0:n.fontSize,titleFontWeight:null==n?void 0:n.fontWeight,titleProps:n},e))}},77756:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(52007),i=n.n(r),a=n(72791),o=n(81694),s=n.n(o),u=n(99648),c=["className","x","y","orientation","min","max","stroke"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function d(e){var t=e.className,n=e.x,r=e.y,i=e.orientation,o=void 0===i?"vertical":i,d=e.min,f=e.max,p=e.stroke,h=void 0===p?"#222":p,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,c),v=(0,a.useContext)(u.Z),g="vertical"===o;return a.createElement("line",l({className:s()("visx-annotation-subject","visx-annotation-subject-line",t),x1:g?n||v.x:d,x2:g?n||v.x:f,y1:g?d:r||v.y,y2:g?f:r||v.y,fill:"transparent",pointerEvents:"none",stroke:h},m))}d.propTypes={className:i().string,stroke:i().string,strokeWidth:i().number,orientation:i().oneOf(["vertical","horizontal"]),x:i().number,y:i().number,min:i().number.isRequired,max:i().number.isRequired};var f=n(20801),p=["min","max"];function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function m(e){var t,n,r,i=e.min,o=e.max,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,p),u=(0,a.useContext)(f.Z),c=u.theme,l=u.margin,m=u.innerHeight,v=void 0===m?0:m,g=u.innerWidth,y=void 0===g?0:g;return a.createElement(d,h({stroke:null==c?void 0:c.axisStyles.x.bottom.axisLine.stroke,min:null!=(t=null!=i?i:"horizontal"===s.orientation?null==l?void 0:l.left:null==l?void 0:l.top)?t:0,max:null!=o?o:"horizontal"===s.orientation?(null!=(n=null==l?void 0:l.left)?n:0)+y:(null!=(r=null==l?void 0:l.top)?r:0)+v},s))}m.propTypes={min:i().number,max:i().number}},7925:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(52007),i=n.n(r),a=n(72791),o=n(64644),s=n(20801),u=n(50851),c=n(26116),l=["AnnotationComponent","children","datum","dataKey","xAccessor","yAccessor","dx","dy"];function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e){var t,n,r=e.AnnotationComponent,i=e.children,f=e.datum,p=e.dataKey,h=e.xAccessor,m=e.yAccessor,v=e.dx,g=void 0===v?0:v,y=e.dy,b=void 0===y?0:y,w=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,l),k=(0,a.useContext)(s.Z)||{},x=k.innerHeight,_=k.innerWidth,S=k.margin,E=k.xScale,C=k.yScale,T=k.dataRegistry,A=(0,a.useMemo)((function(){return E?(0,u.Z)(E):0}),[E]),O=(0,a.useMemo)((function(){return C?(0,u.Z)(C):0}),[C]);if((!h||!m)&&!p)return console.warn("[@visx/xychart/BaseAnnotation]: dataKey or x/yAccessors must be specified."),null;var R=h&&m||null==p?null:null==T?void 0:T.get(p),I=h||(null==R?void 0:R.xAccessor),N=m||(null==R?void 0:R.yAccessor);if(!E||!C||!_||!x||!I||!N||!S)return null;var P=(null!=(t=(0,o.Z)(E(I(f))))?t:NaN)+A/2,M=(null!=(n=(0,o.Z)(C(N(f))))?n:NaN)+O/2,L=P+g+16>S.left+_?-g:g,D=M+b+16>S.top+x?-b:b;return(0,c.Z)(P)&&(0,c.Z)(M)?a.createElement(r,d({width:_,height:x},w,{x:P,y:M,dx:L,dy:D}),i):null}f.propTypes={dataKey:i().string,xAccessor:i().func,yAccessor:i().func}},50381:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(89448),a=n(36768);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(a.Z,o({AxisComponent:i.Z},e))}},78057:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(72791),i=n(81694),a=n.n(i),o=n(67743),s=n(32737),u=n(64644),c=n(69776),l=n(15581),d={top:"top",left:"left",right:"right",bottom:"bottom"};function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e){var t=e.hideTicks,n=e.horizontal,i=e.orientation,s=e.tickClassName,u=e.tickComponent,p=e.tickLabelProps,h=e.tickStroke,m=void 0===h?"#222":h,v=e.tickTransform,g=e.ticks,y=e.strokeWidth,b=e.tickLineProps;return g.map((function(e){var h,g=e.value,w=e.index,k=e.from,x=e.to,_=e.formattedValue,S=null!=(h=p[w])?h:{},E=Math.max(10,"number"===typeof S.fontSize&&S.fontSize||0),C=x.y+(n&&i!==d.top?E:0);return r.createElement(o.Z,{key:"visx-tick-"+g+"-"+w,className:a()("visx-axis-tick",s),transform:v},!t&&r.createElement(c.Z,f({from:k,to:x,stroke:m,strokeWidth:y,strokeLinecap:"square"},b)),u?u(f({},S,{x:x.x,y:C,formattedValue:_})):r.createElement(l.Z,f({x:x.x,y:C},S),_))}))}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var m={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function v(e){var t=e.axisFromPoint,n=e.axisLineClassName,i=e.axisToPoint,o=e.hideAxisLine,s=e.hideTicks,u=e.horizontal,f=e.label,v=void 0===f?"":f,g=e.labelClassName,y=e.labelOffset,b=void 0===y?14:y,w=e.labelProps,k=void 0===w?m:w,x=e.orientation,_=void 0===x?d.bottom:x,S=e.scale,E=e.stroke,C=void 0===E?"#222":E,T=e.strokeDasharray,A=e.strokeWidth,O=void 0===A?1:A,R=e.tickClassName,I=e.tickComponent,N=e.tickLineProps,P=e.tickLabelProps,M=void 0===P?function(){return m}:P,L=e.tickLength,D=void 0===L?8:L,F=e.tickStroke,B=void 0===F?"#222":F,j=e.tickTransform,Z=e.ticks,V=e.ticksComponent,U=void 0===V?p:V,W=Z.map((function(e){var t=e.value,n=e.index;return M(t,n,Z)})),H=Math.max.apply(Math,[10].concat(W.map((function(e){return"number"===typeof e.fontSize?e.fontSize:0}))));return r.createElement(r.Fragment,null,U({hideTicks:s,horizontal:u,orientation:_,scale:S,tickClassName:R,tickComponent:I,tickLabelProps:W,tickStroke:B,tickTransform:j,ticks:Z,strokeWidth:O,tickLineProps:N}),!o&&r.createElement(c.Z,{className:a()("visx-axis-line",n),from:t,to:i,stroke:C,strokeWidth:O,strokeDasharray:T}),v&&r.createElement(l.Z,h({className:a()("visx-axis-label",g)},function(e){var t,n,r,i=e.labelOffset,a=e.labelProps,o=e.orientation,s=e.range,u=e.tickLabelFontSize,c=e.tickLength,l=o===d.left||o===d.top?-1:1;if(o===d.top||o===d.bottom){var f=o===d.bottom&&"number"===typeof a.fontSize?a.fontSize:0;t=(Number(s[0])+Number(s[s.length-1]))/2,n=l*(c+i+u+f)}else t=l*((Number(s[0])+Number(s[s.length-1]))/2),n=-(c+i),r="rotate("+90*l+")";return{x:t,y:n,transform:r}}({labelOffset:b,labelProps:k,orientation:_,range:S.range(),tickLabelFontSize:H,tickLength:D}),k),v))}var g=n(38066);var y=n(59409);function b(e,t){var n=e.x,r=e.y;return new y.Z(t?{x:n,y:r}:{x:r,y:n})}var w=["children","axisClassName","hideAxisLine","hideTicks","hideZero","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function x(e){var t=e.children,n=void 0===t?v:t,i=e.axisClassName,c=e.hideAxisLine,l=void 0!==c&&c,f=e.hideTicks,p=void 0!==f&&f,h=e.hideZero,m=void 0!==h&&h,y=e.left,x=void 0===y?0:y,_=e.numTicks,S=void 0===_?10:_,E=e.orientation,C=void 0===E?d.bottom:E,T=e.rangePadding,A=void 0===T?0:T,O=e.scale,R=e.tickFormat,I=e.tickLength,N=void 0===I?8:I,P=e.tickValues,M=e.top,L=void 0===M?0:M,D=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,w),F=null!=R?R:function(e){return"tickFormat"in e?e.tickFormat():g.Z}(O),B=C===d.left,j=C===d.top,Z=j||C===d.bottom,V=function(e,t){void 0===t&&(t="center");var n=e;if("start"!==t&&"bandwidth"in n){var r=n.bandwidth();return"center"===t&&(r/=2),n.round()&&(r=Math.round(r)),function(e){var t=n(e);return"number"===typeof t?t+r:t}}return e}(O),U=B||j?-1:1,W=O.range(),H=b({x:Number(W[0])+.5-A,y:0},Z),z=b({x:Number(W[W.length-1])+.5+A,y:0},Z),G=(null!=P?P:(0,s.Z)(O,S)).filter((function(e){return!m||0!==e&&"0"!==e})).map((function(e,t){return{value:e,index:t}})),q=G.map((function(e){var t=e.value,n=e.index,r=(0,u.Z)(V(t));return{value:t,index:n,from:b({x:r,y:0},Z),to:b({x:r,y:N*U},Z),formattedValue:F(t,n,G)}}));return r.createElement(o.Z,{className:a()("visx-axis",i),top:L,left:x},n(k({},D,{axisFromPoint:H,axisToPoint:z,hideAxisLine:l,hideTicks:p,hideZero:m,horizontal:Z,numTicks:S,orientation:C,rangePadding:A,scale:O,tickFormat:F,tickLength:N,tickPosition:V,tickSign:U,ticks:q})))}var _=n(36768);function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function E(e){return r.createElement(_.Z,S({AxisComponent:x},e))}},36768:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(20801),a=["AxisComponent"];function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){var t,n,s,u,c,l,d,f=e.AxisComponent,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a),h=(0,r.useContext)(i.Z),m=h.theme,v=h.xScale,g=h.yScale,y=h.margin,b=h.width,w=h.height,k=p.orientation,x=(0,r.useMemo)((function(){var e,t,n,r;return"left"===k||"right"===k?null==m||null==(e=m.axisStyles)||null==(t=e.y)?void 0:t[k]:null==m||null==(n=m.axisStyles)||null==(r=n.x)?void 0:r[k]}),[m,k]),_=(0,r.useMemo)((function(){return p.tickLabelProps||x?function(e,t,n){return o({},null==x?void 0:x.tickLabel,{width:"left"===k||"right"===k?null==y?void 0:y[k]:void 0},null==p.tickLabelProps?void 0:p.tickLabelProps(e,t,n))}:void 0}),[p.tickLabelProps,x,k,y]),S="bottom"===k?(null!=w?w:0)-(null!=(t=null==y?void 0:y.bottom)?t:0):"top"===k&&null!=(n=null==y?void 0:y.top)?n:0,E="left"===k?null!=(s=null==y?void 0:y.left)?s:0:"right"===k?(null!=b?b:0)-(null!=(u=null==y?void 0:y.right)?u:0):0,C="left"===k||"right"===k?g:v;return C?r.createElement(f,o({top:S,left:E,labelProps:null==x?void 0:x.axisLabel,stroke:null==x||null==(c=x.axisLine)?void 0:c.stroke,strokeWidth:null==x||null==(l=x.axisLine)?void 0:l.strokeWidth,tickLength:null==x?void 0:x.tickLength,tickStroke:null==x||null==(d=x.tickLine)?void 0:d.stroke},p,{tickLabelProps:_,scale:C})):null}},7862:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(72791),i=n(23245),a=n(80489),o=n(61942),s=["animationTrajectory"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t=e.animationTrajectory,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),c=(0,r.useMemo)((function(){return function(e){return r.createElement(i.Z,u({},e,{animationTrajectory:t}))}}),[t]),l=(0,r.useMemo)((function(){return function(e){return r.createElement(a.Z,u({},e,{animationTrajectory:t}))}}),[t]);return r.createElement(o.Z,u({GridRowsComponent:c,GridColumnsComponent:l},n))}},61942:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(52007),i=n.n(r),a=n(72791),o=n(20801),s=["rows","columns","GridRowsComponent","GridColumnsComponent"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t=e.rows,n=void 0===t||t,r=e.columns,i=void 0===r||r,c=e.GridRowsComponent,l=e.GridColumnsComponent,d=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),f=(0,a.useContext)(o.Z),p=f.theme,h=f.xScale,m=f.yScale,v=f.margin,g=f.innerWidth,y=f.innerHeight,b=null==p?void 0:p.gridStyles;return a.createElement(a.Fragment,null,n&&m&&null!=g&&a.createElement(c,u({left:null==v?void 0:v.left,lineStyle:b,width:g,scale:m},d)),i&&h&&null!=y&&a.createElement(l,u({top:null==v?void 0:v.top,lineStyle:b,height:y,scale:h},d)))}c.propTypes={rows:i().bool,columns:i().bool}},74162:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(87459),a=n(71172),o=n(61942);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){return r.createElement(o.Z,s({GridRowsComponent:i.default,GridColumnsComponent:a.default},e))}},87852:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(45861),a=n(77690);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(a.Z,o({},e,{PathComponent:i.Z}))}},41900:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(8585),a=n(45861);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(i.Z,o({},e,{PathComponent:a.Z}))}},17846:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(69172),a=n(88160);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(i.Z,o({},e,{BarsComponent:a.Z}))}},59088:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(60033),a=n(88160),o=["colorAccessor"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){var t=e.colorAccessor,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o);return r.createElement(i.Z,s({},n,{colorAccessor:t,BarsComponent:a.Z}))}},98559:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(5589),a=n(88160);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(i.Z,o({},e,{BarsComponent:a.Z}))}},73781:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(72791),i=n(54753),a=n(99915),o=n(32131);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){var t=e.renderGlyph,n=e.glyphs,u=e.horizontal,c=e.xScale,l=e.yScale,d=e.onBlur,f=e.onFocus,p=e.onPointerMove,h=e.onPointerOut,m=e.onPointerUp,v=(0,i.useTransition)(n,s({},function(e){var t=e.xScale,n=e.yScale,i=e.horizontal,s=(0,a.Z)(t),u=(0,a.Z)(n);return(0,r.useMemo)((function(){return{unique:!0,from:function(e){var t=e.x,n=e.y,r=e.color;return{x:i?s:t,y:i?n:u,color:(0,o.B)(r),opacity:0}},leave:function(e){var t=e.x,n=e.y,r=e.color;return{x:i?s:t,y:i?n:u,color:(0,o.B)(r),opacity:0}},enter:function(e){var t=e.x,n=e.y,r=e.color;return{x:t,y:n,color:(0,o.B)(r),opacity:1}},update:function(e){var t=e.x,n=e.y,r=e.color;return{x:t,y:n,color:(0,o.B)(r),opacity:1}},keys:function(e){return e.key}}}),[s,u,i])}({xScale:c,yScale:l,horizontal:u})));return r.createElement(r.Fragment,null,v((function(e,n,a){var s=e.x,u=e.y,c=e.color,l=e.opacity,v=a.key;return r.createElement(i.animated.g,{key:v,transform:(0,i.to)([s,u],(function(e,t){return"translate("+e+", "+t+")"})),color:c,opacity:l},t({key:v,datum:n.datum,index:n.index,x:0,y:0,size:n.size,color:(0,o.W)(n.color)?n.color:"currentColor",onBlur:d,onFocus:f,onPointerMove:p,onPointerOut:h,onPointerUp:m}))})))}var c=n(65825),l=n(76772),d=["renderGlyph"];function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e){var t=e.renderGlyph,n=void 0===t?l.Z:t,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,d),a=(0,r.useCallback)((function(e){return r.createElement(u,f({},e,{renderGlyph:n}))}),[n]);return r.createElement(c.Z,f({},i,{renderGlyphs:a}))}},84624:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(40428),a=n(45861);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(i.Z,o({},e,{PathComponent:a.Z}))}},87704:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(77690);function a(e){return r.createElement(i.Z,e)}},34517:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(8585);function a(e){return r.createElement(i.Z,e)}},94958:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(69172),a=n(13864);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(i.Z,o({},e,{BarsComponent:a.Z}))}},51453:function(e,t,n){"use strict";var r=n(72791),i=n(60033),a=n(13864),o=["colorAccessor"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}t.Z=function(e){var t=e.colorAccessor,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o);return r.createElement(i.Z,s({},n,{colorAccessor:t,BarsComponent:a.Z}))}},5665:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(5589),a=n(13864);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(i.Z,o({},e,{BarsComponent:a.Z}))}},10044:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(65825),a=n(76772),o=["renderGlyph"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){var t=e.renderGlyph,n=void 0===t?a.Z:t,u=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),c=(0,r.useCallback)((function(e){var t=e.glyphs,i=e.onPointerMove,a=e.onPointerOut,o=e.onPointerUp,u=e.onFocus,c=e.onBlur;return t.map((function(e){return r.createElement(r.Fragment,{key:e.key},n(s({},e,{onPointerMove:i,onPointerOut:a,onPointerUp:o,onFocus:u,onBlur:c})))}))}),[n]);return r.createElement(i.Z,s({},u,{renderGlyphs:c}))}},8417:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(40428);function a(e){return r.createElement(i.Z,e)}},88160:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(80207),i=n(72791),a=n(54753),o=n(32131),s=n(99915),u=n(45861),c=["bars","xScale","yScale","horizontal","radius","radiusAll","radiusTop","radiusRight","radiusBottom","radiusLeft"],l=["bars","xScale","yScale","horizontal","radius","radiusAll","radiusTop","radiusRight","radiusBottom","radiusLeft"];function d(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=e.fill;return{x:t,y:n,width:r,height:i,fill:(0,o.B)(a),opacity:1}}function h(e){return null==e.radius?i.createElement(v,e):i.createElement(m,f({},e,{radius:e.radius}))}function m(e){var t=e.bars,n=(e.xScale,e.yScale,e.horizontal,e.radius),a=e.radiusAll,o=e.radiusTop,s=e.radiusRight,l=e.radiusBottom,p=e.radiusLeft,h=d(e,c);return i.createElement(i.Fragment,null,t.map((function(e){var t=e.key,c=e.fill,d=e.x,m=e.y,v=e.width,g=e.height;return i.createElement(r.Z,{key:t,x:d,y:m,width:v,height:g,radius:n,all:a,top:o,right:s,bottom:l,left:p},(function(e){var t=e.path;return i.createElement(u.Z,f({className:"visx-bar visx-bar-rounded",d:t,fill:c},h))}))})))}function v(e){var t=e.bars,n=e.xScale,r=e.yScale,u=e.horizontal,c=(e.radius,e.radiusAll,e.radiusTop,e.radiusRight,e.radiusBottom,e.radiusLeft,d(e,l)),h=(0,a.useTransition)(t,f({},function(e){var t=e.scale,n=!!e.horizontal;return(0,i.useMemo)((function(){var e=(0,s.Z)(t);function r(t){var r=t.x,i=t.y,a=t.width,s=t.height,u=t.fill;return{x:n?null!=e?e:0:r,y:n?i:null!=e?e:0,width:n?0:a,height:n?s:0,fill:(0,o.B)(u),opacity:0}}return{unique:!0,from:r,leave:r,enter:p,update:p,keys:function(e){return e.key}}}),[t,n])}({horizontal:u,scale:u?n:r}))),m=Boolean(c.onFocus||c.onBlur);return i.createElement(i.Fragment,null,h((function(e,t,n){var r=e.x,s=e.y,u=e.width,l=e.height,d=e.fill,p=e.opacity,h=n.key;return null==t||null==h?null:i.createElement(a.animated.rect,f({key:h,tabIndex:m?0:void 0,className:"visx-bar",x:r,y:s,width:u,height:l,fill:(0,o.W)(t.fill)?t.fill:d,opacity:p},c))})))}},45861:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(72791),i=n(54753),a=n(20654),o=n(48573),s=n.n(o),u=["d","stroke","fill"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){var t=e.d,n=e.stroke,o=void 0===n?"transparent":n,l=e.fill,d=void 0===l?"transparent":l,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,u),p=(0,r.useRef)(t),h=(0,r.useCallback)(s()((function(e){p.current=e}),50),[]),m=(0,a.interpolatePath)(p.current,t);h(t);var v=(0,i.useSpring)({from:{t:0},to:{t:1},reset:!0,delay:0}).t,g=(0,i.useSpring)({stroke:o,fill:d});return r.createElement(i.animated.path,c({className:"visx-path",d:v.to(m),stroke:g.stroke,fill:g.fill},f))}},13864:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(80207),i=n(72791),a=["bars","horizontal","xScale","yScale","radius","radiusAll","radiusTop","radiusRight","radiusBottom","radiusLeft"],o=["key"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function c(e){var t=e.bars,n=(e.horizontal,e.xScale,e.yScale,e.radius),c=e.radiusAll,l=e.radiusTop,d=e.radiusRight,f=e.radiusBottom,p=e.radiusLeft,h=u(e,a),m=Boolean(h.onFocus||h.onBlur);return i.createElement(i.Fragment,null,t.map((function(e){var t=e.key,a=u(e,o);return null==n?i.createElement("rect",s({key:t,className:"visx-bar",tabIndex:m?0:void 0},a,h)):i.createElement(r.Z,s({key:t,className:"visx-bar",tabIndex:m?0:void 0,radius:n,all:c,top:l,right:d,bottom:f,left:p},a,h))})))}},77690:function(e,t,n){"use strict";var r=n(52007),i=n.n(r),a=n(72791),o=n(61841),s=n(6289),u=n(20801),c=n(18547),l=n(50281),d=n(99915),f=n(26116),p=n(41316),h=n(65825),m=n(76772),v=n(31948),g=["PathComponent","curve","data","dataKey","lineProps","onBlur","onFocus","onPointerMove","onPointerOut","onPointerUp","onPointerDown","enableEvents","renderLine","xAccessor","x0Accessor","xScale","yAccessor","y0Accessor","yScale"];function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function b(e){var t,n,r,i=e.PathComponent,c=void 0===i?"path":i,b=e.curve,w=e.data,k=e.dataKey,x=e.lineProps,_=e.onBlur,S=e.onFocus,E=e.onPointerMove,C=e.onPointerOut,T=e.onPointerUp,A=e.onPointerDown,O=e.enableEvents,R=void 0===O||O,I=e.renderLine,N=void 0===I||I,P=e.xAccessor,M=e.x0Accessor,L=e.xScale,D=e.yAccessor,F=e.y0Accessor,B=e.yScale,j=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,g),Z=(0,a.useContext)(u.Z),V=Z.colorScale,U=Z.theme,W=Z.horizontal,H=(0,a.useMemo)((function(){return M?(0,l.Z)(L,M):void 0}),[L,M]),z=(0,a.useCallback)((0,l.Z)(L,P),[L,P]),G=(0,a.useMemo)((function(){return F?(0,l.Z)(B,F):void 0}),[B,F]),q=(0,a.useCallback)((0,l.Z)(B,D),[B,D]),K=(0,a.useCallback)((function(e){return(0,f.Z)(L(P(e)))&&(0,f.Z)(B(D(e)))}),[L,P,B,D]),Y=null!=(t=null!=(n=null==V?void 0:V(k))?n:null==U||null==(r=U.colors)?void 0:r[0])?t:"#222",X=p.Em+"-"+k,Q=(0,v.Z)({dataKey:k,enableEvents:R,onBlur:_,onFocus:S,onPointerMove:E,onPointerOut:C,onPointerUp:T,onPointerDown:A,source:X,allowedSources:[p.hD,X]}),J=(0,a.useMemo)((function(){var e=(0,d.Z)(W?L:B);return W?{x0:null!=H?H:e,x1:z,y:q}:{x:z,y0:null!=G?G:e,y1:q}}),[L,B,W,z,q,H,G]),$=Boolean(S||_),ee=(0,a.useCallback)((function(e){var t=e.glyphs;return $?t.map((function(e){return a.createElement(a.Fragment,{key:e.key},(0,m.Z)(y({},e,{color:"transparent",onFocus:Q.onFocus,onBlur:Q.onBlur})))})):null}),[$,Q.onFocus,Q.onBlur]);return a.createElement(a.Fragment,null,a.createElement(o.Z,y({},J,j,{curve:b,defined:K}),(function(e){var t=e.path;return a.createElement(c,y({className:"visx-area",stroke:"transparent",fill:Y,strokeLinecap:"round"},j,{d:t(w)||""},Q))})),N&&a.createElement(s.Z,y({x:z,y:q,defined:K,curve:b},x),(function(e){var t=e.path;return a.createElement(c,y({className:"visx-line",fill:"transparent",stroke:Y,strokeWidth:2,pointerEvents:"none",strokeLinecap:"round"},x,{d:t(w)||""}))})),$&&a.createElement(h.J,{dataKey:k,data:w,xAccessor:P,yAccessor:D,xScale:L,yScale:B,renderGlyphs:ee}))}b.propTypes={renderLine:i().bool},t.Z=(0,c.Z)(b)},8585:function(e,t,n){"use strict";var r=n(52007),i=n.n(r),a=n(72791),o=n(86407),s=n(61841),u=n(64644),c=n(34876),l=n(20801),d=n(65825),f=n(65473),p=n(19781),h=n(26116),m=n(88797),v=n(41316),g=n(31948),y=n(76772),b=n(50851),w=["data","dataKey","xAccessor","yAccessor","curve","PathComponent","lineProps","renderLine"];function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}var x=function(e){return e};function _(e){var t=e.PathComponent,n=void 0===t?"path":t,r=e.children,i=e.curve,_=e.enableEvents,S=void 0===_||_,E=e.offset,C=e.onBlur,T=e.onFocus,A=e.onPointerMove,O=e.onPointerOut,R=e.onPointerUp,I=e.onPointerDown,N=e.order,P=e.renderLine,M=void 0===P||P,L=(0,a.useContext)(l.Z),D=L.colorScale,F=L.dataRegistry,B=L.horizontal,j=L.xScale,Z=L.yScale,V=L.theme,U=(0,f.Z)({children:r,order:N,offset:E}),W=U.dataKeys,H=U.seriesChildren,z=U.stackedData,G=(0,a.useMemo)((function(){var e=(0,b.Z)(j)/2,t=(0,b.Z)(Z)/2;return B?{y:function(e){var n;return(null!=(n=(0,u.Z)(Z((0,p.N)(e.data))))?n:0)+t},x0:function(t){var n;return(null!=(n=(0,u.Z)(j((0,c.l8)(t))))?n:0)+e},x1:function(t){var n;return(null!=(n=(0,u.Z)(j((0,c.xf)(t))))?n:0)+e},defined:function(e){return(0,h.Z)(Z((0,p.N)(e.data)))&&(0,h.Z)(j((0,c.xf)(e)))}}:{x:function(t){var n;return(null!=(n=(0,u.Z)(j((0,p.N)(t.data))))?n:0)+e},y0:function(e){var n;return(null!=(n=(0,u.Z)(Z((0,c.l8)(e))))?n:0)+t},y1:function(e){var n;return(null!=(n=(0,u.Z)(Z((0,c.xf)(e))))?n:0)+t},defined:function(e){return(0,h.Z)(j((0,p.N)(e.data)))&&(0,h.Z)(Z((0,c.xf)(e)))}}}),[j,Z,B]),q=(0,a.useMemo)((function(){return z.map((function(e,t){var n,r,i,a=H.find((function(t){return t.props.dataKey===e.key})),o=(null==a?void 0:a.props)||{},s=(o.data,o.dataKey,o.xAccessor,o.yAccessor,o.curve,o.PathComponent,o.lineProps),u=(o.renderLine,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(o,w)),c=k({fill:null!=(n=null!=(r=null==D?void 0:D(e.key))?r:null==V||null==(i=V.colors)?void 0:i[0])?n:"#222"},u);return{key:t+"-"+e.key,accessors:G,data:e,areaProps:c,lineProps:s}}))}),[z,G,D,H,V]),K=(0,a.useCallback)((function(e){var t,n,r=null==(t=H.find((function(t){return t.props.dataKey===e.dataKey})))||null==(n=t.props)?void 0:n.data;return r?(0,m.Z)(e,r,B):null}),[H,B]),Y=v.YP+"-"+W.join("-"),X=(0,g.Z)({dataKey:W,enableEvents:S,findNearestDatum:K,onBlur:C,onFocus:T,onPointerMove:A,onPointerOut:O,onPointerUp:R,onPointerDown:I,source:Y,allowedSources:[v.hD,Y]}),Q=Boolean(T||C),J=(0,a.useCallback)((function(e){var t=e.glyphs;return Q?t.map((function(e){return a.createElement(a.Fragment,{key:e.key},(0,y.Z)(k({},e,{color:"transparent",onFocus:X.onFocus,onBlur:X.onBlur})))})):null}),[Q,X.onFocus,X.onBlur]);return!W.some((function(e){return null==F.get(e)}))&&j&&Z&&D?a.createElement("g",{className:"visx-area-stack"},q.map((function(e){return a.createElement(s.Z,k({key:e.key,curve:i},e.accessors),(function(t){var r=t.path;return a.createElement(n,k({className:"visx-area",stroke:"transparent",d:r(e.data)||""},e.areaProps,X))}))})),M&&q.map((function(e){return a.createElement(o.Z,k({key:"line-"+e.key,x:e.accessors.x||e.accessors.x1,y:e.accessors.y||e.accessors.y1,defined:e.accessors.defined,curve:i},e.lineProps),(function(t){var r=t.path;return a.createElement(n,k({className:"visx-line",fill:"transparent",stroke:e.areaProps.fill,strokeWidth:2,pointerEvents:"none"},e.lineProps,{d:r(e.data)||""}))}))})),Q&&q.map((function(e,t){var n=q[q.length-t-1];return a.createElement(d.J,{key:"glyphs-"+n.key,dataKey:n.key,data:n.data,xAccessor:n.accessors.x||n.accessors.x1,yAccessor:n.accessors.y||n.accessors.y1,xScale:x,yScale:x,renderGlyphs:J})}))):null}_.propTypes={children:i().oneOfType([i().element,i().arrayOf(i().element)]).isRequired,renderLine:i().bool},t.Z=_},69172:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(52007),i=n.n(r),a=n(72791),o=n(52800),s=n(20801),u=n(50851),c=n(99915),l=n(26116),d=n(41316),f=n(31948),p=n(47258),h=n(16267);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var v=n(52399);function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function y(e){var t=e.children,n=e.padding,r=void 0===n?.1:n,i=e.sortBars,y=e.BarsComponent,b=e.onBlur,w=e.onFocus,k=e.onPointerMove,x=e.onPointerOut,_=e.onPointerUp,S=e.onPointerDown,E=e.enableEvents,C=void 0===E||E,T=(0,a.useContext)(s.Z),A=T.colorScale,O=T.dataRegistry,R=T.horizontal,I=T.registerData,N=T.unregisterData,P=T.xScale,M=T.yScale,L=(0,a.useMemo)((function(){return(0,v.Z)(t)}),[t]),D=(0,a.useMemo)((function(){return L.map((function(e){var t;return null!=(t=e.props.dataKey)?t:""})).filter((function(e){return e}))}),[L]);(0,a.useEffect)((function(){var e=L.map((function(e){var t=e.props;return{key:t.dataKey,data:t.data,xAccessor:t.xAccessor,yAccessor:t.yAccessor}}));return I(e),function(){return N(D)}}),[I,N,L,D]);var F=(0,a.useMemo)((function(){return(0,o.Z)({domain:i?[].concat(D).sort(i):D,range:[0,(0,u.Z)(R?M:P)],padding:r})}),[i,D,P,M,R,r]),B=(0,a.useCallback)((function(e){return function(e,t,n){var r=e.dataKey,i=e.xAccessor,a=e.yAccessor,o=e.xScale,s=e.yScale,u=e.point,c=(n?h.Z:p.Z)(e);if(!c||!u)return null;var l=t(r),d=t.step();if(n){var f=s(a(c.datum)),v=(null!=f?f:1/0)+(null!=l?l:1/0),g=v+d,y=(v+g)/2;return m({},c,{distanceX:0,distanceY:u.y>=v&&u.y<=g?0:Math.abs(u.y-y)})}var b=o(i(c.datum)),w=(null!=b?b:1/0)+(null!=l?l:1/0),k=w+d,x=(w+k)/2;return m({},c,{distanceY:0,distanceX:u.x>=w&&u.x<=k?0:Math.abs(u.x-x)})}(e,F,R)}),[F,R]),j=d.rN+"-"+D.join("-")+"}",Z=(0,f.Z)({dataKey:D,enableEvents:C,findNearestDatum:B,onBlur:b,onFocus:w,onPointerMove:k,onPointerOut:x,onPointerUp:_,onPointerDown:S,source:j,allowedSources:[d.hD,j]}),V=(0,a.useMemo)((function(){return P?(0,c.Z)(P):0}),[P]),U=(0,a.useMemo)((function(){return M?(0,c.Z)(M):0}),[M]),W=D.map((function(e){return O.get(e)}));if(W.some((function(e){return null==e}))||!P||!M||!A)return null;var H=(0,u.Z)(F),z=W.map((function(e){var t,n=e.xAccessor,r=e.yAccessor,i=e.data,a=e.key,o=function(e){var t,i;return R?(null!=(t=P(n(e)))?t:NaN)-V:(null!=(i=M(r(e)))?i:NaN)-U},s=R?function(e){var t;return null!=(t=M(r(e)))?t:NaN}:function(e){var t;return null!=(t=P(n(e)))?t:NaN},u=null!=(t=F(a))?t:0,c=R?function(e){return V+Math.min(0,o(e))}:function(e){return s(e)+u},d=R?function(e){return s(e)+u}:function(e){return U+Math.min(0,o(e))},f=R?function(e){return Math.abs(o(e))}:function(){return H},p=R?function(){return H}:function(e){return Math.abs(o(e))},h=L.find((function(e){return e.props.dataKey===a})),m=(null==h?void 0:h.props)||{},v=m.colorAccessor,g=m.radius,y=m.radiusAll,b=m.radiusBottom,w=m.radiusLeft,k=m.radiusRight,x=m.radiusTop;return{key:a,radius:g,radiusAll:y,radiusBottom:b,radiusLeft:w,radiusRight:k,radiusTop:x,bars:i.map((function(e,t){var n,r=c(e);if(!(0,l.Z)(r))return null;var i=d(e);if(!(0,l.Z)(i))return null;var o=f(e);if(!(0,l.Z)(o))return null;var s=p(e);return(0,l.Z)(s)?{key:a+"-"+t,x:r,y:i,width:o,height:s,fill:null!=(n=null==v?void 0:v(e,t))?n:A(a)}:null})).filter((function(e){return e}))}}));return a.createElement("g",{className:"visx-bar-group"},z.map((function(e){return e&&a.createElement(y,g({horizontal:R,xScale:P,yScale:M},e,Z))})))}y.propTypes={children:i().oneOfType([i().element,i().arrayOf(i().element)]).isRequired,padding:i().number,sortBars:i().func}},60033:function(e,t,n){"use strict";var r=n(52007),i=n.n(r),a=n(72791),o=n(20801),s=n(18547),u=n(50281),c=n(50851),l=n(99915),d=n(26116),f=n(41316),p=n(31948),h=["BarsComponent","barPadding","colorAccessor","data","dataKey","onBlur","onFocus","onPointerMove","onPointerOut","onPointerUp","onPointerDown","enableEvents","xAccessor","xScale","yAccessor","yScale"];function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function v(e){var t,n,r,i=e.BarsComponent,s=e.barPadding,v=void 0===s?.1:s,g=e.colorAccessor,y=e.data,b=e.dataKey,w=e.onBlur,k=e.onFocus,x=e.onPointerMove,_=e.onPointerOut,S=e.onPointerUp,E=e.onPointerDown,C=e.enableEvents,T=void 0===C||C,A=e.xAccessor,O=e.xScale,R=e.yAccessor,I=e.yScale,N=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,h),P=(0,a.useContext)(o.Z),M=P.colorScale,L=P.horizontal,D=P.theme,F=P.innerWidth,B=void 0===F?0:F,j=P.innerHeight,Z=void 0===j?0:j,V=(0,a.useCallback)((0,u.Z)(O,A),[O,A]),U=(0,a.useCallback)((0,u.Z)(I,R),[I,R]),W=(0,c.Z)(L?I:O)||function(e,t){return e*(1-Math.min(1,Math.max(0,t)))}((L?Z:B)/y.length,v),H=(0,a.useMemo)((function(){return O?(0,l.Z)(O):0}),[O]),z=(0,a.useMemo)((function(){return I?(0,l.Z)(I):0}),[I]),G=null!=(t=null!=(n=null==M?void 0:M(b))?n:null==D||null==(r=D.colors)?void 0:r[0])?t:"#222",q=(0,a.useMemo)((function(){var e=L?0:-W/2,t=L?-W/2:0;return y.map((function(n,r){var i,a=V(n)+e;if(!(0,d.Z)(a))return null;var o=U(n)+t;if(!(0,d.Z)(o))return null;var s=L?a-H:o-z;return(0,d.Z)(s)?{key:""+r,x:L?H+Math.min(0,s):a,y:L?o:z+Math.min(0,s),width:L?Math.abs(s):W,height:L?W:Math.abs(s),fill:null!=(i=null==g?void 0:g(n,r))?i:G}:null})).filter((function(e){return e}))}),[W,G,g,y,V,U,L,H,z]),K=f.gU+"-"+b,Y=(0,p.Z)({dataKey:b,enableEvents:T,onBlur:w,onFocus:k,onPointerMove:x,onPointerOut:_,onPointerUp:S,onPointerDown:E,source:K,allowedSources:[f.hD,K]});return a.createElement("g",{className:"vx-bar-series"},a.createElement(i,m({bars:q,horizontal:L,xScale:O,yScale:I},Y,N)))}v.propTypes={barPadding:i().number,colorAccessor:i().func},t.Z=(0,s.Z)(v)},5589:function(e,t,n){"use strict";var r=n(52007),i=n.n(r),a=n(72791),o=n(34876),s=n(63357),u=n(20801),c=n(26116),l=n(19781),d=n(41316),f=n(31948),p=n(88797),h=n(65473);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function v(e){var t=e.children,n=e.order,r=e.offset,i=e.BarsComponent,v=e.onBlur,g=e.onFocus,y=e.onPointerMove,b=e.onPointerOut,w=e.onPointerUp,k=e.onPointerDown,x=e.enableEvents,_=void 0===x||x,S=(0,a.useContext)(u.Z),E=S.colorScale,C=S.dataRegistry,T=S.horizontal,A=S.xScale,O=S.yScale,R=(0,h.Z)({children:t,order:n,offset:r}),I=R.seriesChildren,N=R.dataKeys,P=R.stackedData,M=(0,a.useCallback)((function(e){var t,n,r=null==(t=I.find((function(t){return t.props.dataKey===e.dataKey})))||null==(n=t.props)?void 0:n.data;return r?(0,p.Z)(e,r,T):null}),[I,T]),L=d.qX+"-"+N.join("-"),D=(0,f.Z)({dataKey:N,enableEvents:_,findNearestDatum:M,onBlur:v,onFocus:g,onPointerMove:y,onPointerOut:b,onPointerUp:w,onPointerDown:k,source:L,allowedSources:[d.hD,L]});if(N.map((function(e){return C.get(e)})).some((function(e){return null==e}))||!A||!O||!E)return null;var F,B,j,Z,V=(0,s.Z)(T?O:A),U=V/2;T?(F=function(e){var t,n;return(null!=(t=A((0,o.xf)(e)))?t:NaN)-(null!=(n=A((0,o.l8)(e)))?n:NaN)},B=function(){return V},j=function(e){return A((0,o.l8)(e))},Z=function(e){var t;return"bandwidth"in O?O((0,l.N)(e.data)):Math.max((null!=(t=O((0,l.N)(e.data)))?t:NaN)-U)}):(F=function(){return V},B=function(e){var t,n;return(null!=(t=O((0,o.l8)(e)))?t:NaN)-(null!=(n=O((0,o.xf)(e)))?n:NaN)},j=function(e){var t;return"bandwidth"in A?A((0,l.N)(e.data)):Math.max((null!=(t=A((0,l.N)(e.data)))?t:NaN)-U)},Z=function(e){return O((0,o.xf)(e))});var W=P.map((function(e,t){if(!C.get(e.key))return null;var n=I.find((function(t){return t.props.dataKey===e.key})),r=(null==n?void 0:n.props)||{},i=r.colorAccessor,a=r.radius,o=r.radiusAll,s=r.radiusBottom,u=r.radiusLeft,l=r.radiusRight,d=r.radiusTop;return{key:e.key,radius:a,radiusAll:o,radiusBottom:s,radiusLeft:u,radiusRight:l,radiusTop:d,bars:e.map((function(r,a){var o,s=j(r);if(!(0,c.Z)(s))return null;var u=Z(r);if(!(0,c.Z)(u))return null;var l=F(r);if(!(0,c.Z)(l))return null;var d=B(r);if(!(0,c.Z)(d))return null;var f=i?null==n||null==(o=n.props)?void 0:o.data[a]:null;return{key:t+"-"+e.key+"-"+a,x:s,y:u,width:l,height:d,fill:f&&i?i(f,a):E(e.key)}})).filter((function(e){return e}))}})).filter((function(e){return e}));return a.createElement("g",{className:"visx-bar-stack"},W.map((function(e){return e&&a.createElement(i,m({horizontal:T,xScale:A,yScale:O},e,D))})))}v.propTypes={children:i().oneOfType([i().element,i().arrayOf(i().element)]).isRequired},t.Z=v},65825:function(e,t,n){"use strict";n.d(t,{J:function(){return p}});var r=n(52007),i=n.n(r),a=n(72791),o=n(20801),s=n(18547),u=n(50281),c=n(26116),l=n(41316),d=n(31948);function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e){var t,n,r,i=e.colorAccessor,s=e.data,p=e.dataKey,h=e.onBlur,m=e.onFocus,v=e.onPointerMove,g=e.onPointerOut,y=e.onPointerUp,b=e.onPointerDown,w=e.enableEvents,k=void 0===w||w,x=e.renderGlyphs,_=e.size,S=void 0===_?8:_,E=e.xAccessor,C=e.xScale,T=e.yAccessor,A=e.yScale,O=(0,a.useContext)(o.Z),R=O.colorScale,I=O.theme,N=O.horizontal,P=(0,a.useCallback)((0,u.Z)(C,E),[C,E]),M=(0,a.useCallback)((0,u.Z)(A,T),[A,T]),L=null!=(t=null!=(n=null==R?void 0:R(p))?n:null==I||null==(r=I.colors)?void 0:r[0])?t:"#222",D=l.rE+"-"+p,F=(0,d.Z)({dataKey:p,enableEvents:k,onBlur:h,onFocus:m,onPointerMove:v,onPointerOut:g,onPointerUp:y,onPointerDown:b,source:D,allowedSources:[l.hD,D]}),B=(0,a.useMemo)((function(){return s.map((function(e,t){var n,r=P(e);if(!(0,c.Z)(r))return null;var a=M(e);return(0,c.Z)(a)?{key:""+t,x:r,y:a,color:null!=(n=null==i?void 0:i(e,t))?n:L,size:"function"===typeof S?S(e):S,datum:e}:null})).filter((function(e){return e}))}),[L,i,s,P,M,S]);return a.createElement(a.Fragment,null,x(f({glyphs:B,xScale:C,yScale:A,horizontal:N},F)))}p.propTypes={colorAccessor:i().func,size:i().oneOfType([i().number,i().func]),renderGlyphs:i().func.isRequired},t.Z=(0,s.Z)(p)},40428:function(e,t,n){"use strict";var r=n(52007),i=n.n(r),a=n(72791),o=n(6289),s=n(20801),u=n(18547),c=n(50281),l=n(26116),d=n(41316),f=n(65825),p=n(76772),h=n(31948),m=["colorAccessor","curve","data","dataKey","onBlur","onFocus","onPointerMove","onPointerOut","onPointerUp","onPointerDown","enableEvents","xAccessor","xScale","yAccessor","yScale","PathComponent"];function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function g(e){var t,n,r,i=e.colorAccessor,u=e.curve,g=e.data,y=e.dataKey,b=e.onBlur,w=e.onFocus,k=e.onPointerMove,x=e.onPointerOut,_=e.onPointerUp,S=e.onPointerDown,E=e.enableEvents,C=void 0===E||E,T=e.xAccessor,A=e.xScale,O=e.yAccessor,R=e.yScale,I=e.PathComponent,N=void 0===I?"path":I,P=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,m),M=(0,a.useContext)(s.Z),L=M.colorScale,D=M.theme,F=(0,a.useCallback)((0,c.Z)(A,T),[A,T]),B=(0,a.useCallback)((0,c.Z)(R,O),[R,O]),j=(0,a.useCallback)((function(e){return(0,l.Z)(A(T(e)))&&(0,l.Z)(R(O(e)))}),[A,T,R,O]),Z=null!=(t=null!=(n=null==L?void 0:L(y))?n:null==D||null==(r=D.colors)?void 0:r[0])?t:"#222",V=d._c+"-"+y,U=(0,h.Z)({dataKey:y,enableEvents:C,onBlur:b,onFocus:w,onPointerMove:k,onPointerOut:x,onPointerUp:_,onPointerDown:S,source:V,allowedSources:[d.hD,V]}),W=Boolean(w||b),H=(0,a.useCallback)((function(e){var t=e.glyphs;return W?t.map((function(e){return a.createElement(a.Fragment,{key:e.key},(0,p.Z)(v({},e,{color:"transparent",onFocus:U.onFocus,onBlur:U.onBlur})))})):null}),[W,U.onFocus,U.onBlur]);return a.createElement(a.Fragment,null,a.createElement(o.Z,v({x:F,y:B,defined:j,curve:u},P),(function(e){var t,n=e.path;return a.createElement(N,v({stroke:null!=(t=null==i?void 0:i(y))?t:Z,strokeWidth:2,fill:"transparent",strokeLinecap:"round"},P,{d:n(g)||""},U))})),W&&a.createElement(f.J,{dataKey:y,data:g,xAccessor:T,yAccessor:O,xScale:A,yScale:R,renderGlyphs:H}))}g.propTypes={colorAccessor:i().func},t.Z=(0,u.Z)(g)},76772:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);function i(e){var t=e.key,n=e.color,i=e.x,a=e.y,o=e.size,s=e.onBlur,u=e.onFocus,c=e.onPointerMove,l=e.onPointerOut,d=e.onPointerUp;return r.createElement("circle",{className:"visx-circle-glyph",key:t,tabIndex:s||u?0:void 0,fill:n,r:o/2,cx:i,cy:a,onBlur:s,onFocus:u,onPointerMove:c,onPointerOut:l,onPointerUp:d})}},41316:function(e,t,n){"use strict";n.d(t,{Em:function(){return r},YP:function(){return i},_c:function(){return c},gU:function(){return o},hD:function(){return l},qX:function(){return s},rE:function(){return u},rN:function(){return a}});var r="AREASERIES_EVENT_SOURCE",i="AREASTACK_EVENT_SOURCE",a="BARGROUP_EVENT_SOURCE",o="BARSERIES_EVENT_SOURCE",s="BARSTACK_EVENT_SOURCE",u="GLYPHSERIES_EVENT_SOURCE",c="LINESERIES_EVENT_SOURCE",l="XYCHART_EVENT_SOURCE"},20801:function(e,t,n){"use strict";var r=n(72791).createContext({});t.Z=r},38010:function(e,t,n){"use strict";var r=(0,n(72791).createContext)(null);t.Z=r},13187:function(e,t,n){"use strict";var r=n(72791),i=n(75021),a=r.createContext(i.Z);t.Z=a},27229:function(e,t,n){"use strict";var r=(0,n(72791).createContext)(null);t.Z=r},18547:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(72791),i=n(20801);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function o(e){return function(t){var n=t.dataKey,o=t.data,s=t.xAccessor,u=t.yAccessor,c=(0,r.useContext)(i.Z),l=c.xScale,d=c.yScale,f=c.dataRegistry;(0,r.useEffect)((function(){return f&&f.registerData({key:n,data:o,xAccessor:s,yAccessor:u}),function(){return null==f?void 0:f.unregisterData(n)}}),[f,n,o,s,u]);var p=null==f?void 0:f.get(n);if(!l||!d||!p)return null;var h=e;return r.createElement(h,a({},t,{xScale:l,yScale:d,data:p.data,xAccessor:p.xAccessor,yAccessor:p.yAccessor}))}}},47702:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(72791),i=n(21829),a=n(38010);function o(e,t,n){var o=(0,r.useContext)(a.Z),s=(0,r.useRef)();s.current=n;var u=(0,r.useCallback)((function(e,t,n){o&&o.emit(e,{event:t,svgPoint:(0,i.Z)(t),source:n})}),[o]);return(0,r.useEffect)((function(){if(o&&e&&t){var n=function(e){var n;(!s.current||null!=e&&e.source&&null!=(n=s.current)&&n.includes(e.source))&&t(e)};return o.on(e,n),function(){return null==o?void 0:o.off(e,n)}}}),[o,e,t]),o?u:null}},89629:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(47702);function a(e){var t=e.source,n=e.onPointerOut,a=void 0===n||n,o=e.onPointerMove,s=void 0===o||o,u=e.onPointerUp,c=void 0===u||u,l=e.onPointerDown,d=void 0===l||l,f=e.onFocus,p=void 0!==f&&f,h=e.onBlur,m=void 0!==h&&h,v=(0,i.Z)(),g=(0,r.useCallback)((function(e){return null==v?void 0:v("pointermove",e,t)}),[v,t]),y=(0,r.useCallback)((function(e){return null==v?void 0:v("pointerout",e,t)}),[v,t]),b=(0,r.useCallback)((function(e){return null==v?void 0:v("pointerup",e,t)}),[v,t]),w=(0,r.useCallback)((function(e){return null==v?void 0:v("pointerdown",e,t)}),[v,t]),k=(0,r.useCallback)((function(e){return null==v?void 0:v("focus",e,t)}),[v,t]),x=(0,r.useCallback)((function(e){return null==v?void 0:v("blur",e,t)}),[v,t]);return{onPointerMove:s?g:void 0,onFocus:p?k:void 0,onBlur:m?x:void 0,onPointerOut:a?y:void 0,onPointerUp:c?b:void 0,onPointerDown:d?w:void 0}}},58951:function(e,t,n){"use strict";n.d(t,{lN:function(){return l},tj:function(){return d},ZP:function(){return f}});var r=n(72791),i=n(20801);function a(e){return!!e&&("clientX"in e||"changedTouches"in e)}var o=n(47258),s=n(16267),u=n(47702);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l="__POINTER_EVENTS_ALL",d="__POINTER_EVENTS_NEAREST";function f(e){var t=e.dataKey,n=e.findNearestDatum,f=e.onBlur,p=e.onFocus,h=e.onPointerMove,m=e.onPointerOut,v=e.onPointerUp,g=e.onPointerDown,y=e.allowedSources,b=(0,r.useContext)(i.Z),w=b.width,k=b.height,x=b.horizontal,_=b.dataRegistry,S=b.xScale,E=b.yScale,C=n||(x?s.Z:o.Z),T=(0,r.useCallback)((function(e){var n,r=e||{},i=r.svgPoint,a=r.event,o={},s=null,u=1/0;return e&&a&&i&&w&&k&&S&&E?((t===d||t===l?null!=(n=null==_?void 0:_.keys())?n:[]:Array.isArray(t)?t:[t]).forEach((function(e){var n=null==_?void 0:_.get(e);if(n){var r=C({dataKey:e,data:n.data,height:k,point:i,width:w,xAccessor:n.xAccessor,xScale:S,yAccessor:n.yAccessor,yScale:E});if(r&&(o[e]=c({key:e,svgPoint:i,event:a},r),t===d)){var l,f,p=Math.sqrt((null!=(l=r.distanceX)?l:Math.pow(1/0,2))+(null!=(f=r.distanceY)?f:Math.pow(1/0,2)));s=p<u?o[e]:s,u=Math.min(u,p)}}})),(t===d?[s]:t===l||Array.isArray(t)?Object.values(o):[o[t]]).filter((function(e){return e}))):[]}),[t,_,S,E,w,k,C]),A=(0,r.useCallback)((function(e){h&&T(e).forEach((function(e){return h(e)}))}),[T,h]),O=(0,r.useCallback)((function(e){v&&T(e).forEach((function(e){return v(e)}))}),[T,v]),R=(0,r.useCallback)((function(e){g&&T(e).forEach((function(e){return g(e)}))}),[T,g]),I=(0,r.useCallback)((function(e){p&&T(e).forEach((function(e){return p(e)}))}),[T,p]),N=(0,r.useCallback)((function(e){var t=null==e?void 0:e.event;t&&a(t)&&m&&m(t)}),[m]),P=(0,r.useCallback)((function(e){var t=null==e?void 0:e.event;t&&!a(t)&&f&&f(t)}),[f]);(0,u.Z)("pointermove",h?A:void 0,y),(0,u.Z)("pointerout",m?N:void 0,y),(0,u.Z)("pointerup",v?O:void 0,y),(0,u.Z)("pointerdown",g?R:void 0,y),(0,u.Z)("focus",p?I:void 0,y),(0,u.Z)("blur",f?P:void 0,y)}},31948:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(27229),a=n(89629),o=n(58951);function s(e){var t,n=e.dataKey,s=e.enableEvents,u=e.findNearestDatum,c=e.onBlur,l=e.onFocus,d=e.onPointerMove,f=e.onPointerOut,p=e.onPointerUp,h=e.onPointerDown,m=e.source,v=e.allowedSources,g=null!=(t=(0,r.useContext)(i.Z))?t:{},y=g.showTooltip,b=g.hideTooltip,w=(0,r.useCallback)((function(e){y(e),d&&d(e)}),[y,d]),k=(0,r.useCallback)((function(e){y(e),l&&l(e)}),[y,l]),x=(0,r.useCallback)((function(e){b(),e&&f&&f(e)}),[b,f]),_=(0,r.useCallback)((function(e){b(),e&&c&&c(e)}),[b,c]),S=(0,r.useCallback)((function(e){y(e),h&&h(e)}),[y,h]);return(0,o.ZP)({dataKey:n,findNearestDatum:u,onBlur:s?_:void 0,onFocus:s?k:void 0,onPointerMove:s?w:void 0,onPointerOut:s?x:void 0,onPointerUp:s?p:void 0,onPointerDown:s?S:void 0,allowedSources:v}),(0,a.Z)({source:m,onBlur:!!c&&s,onFocus:!!l&&s,onPointerMove:!!d&&s,onPointerOut:!!f&&s,onPointerUp:!!p&&s,onPointerDown:!!h&&s})}},65473:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(72791),i=n(37762);Array.prototype.slice;function a(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function o(e){return function(){return e}}function s(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function u(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function c(e,t){return e[t]}function l(e){var t=[];return t.key=e,t}var d=n(87104),f=n(26510),p=n(39562),h=n(20801),m=n(34876),v=function(e){var t;return null==e||null==(t=e.data)?void 0:t.stack},g=function(e){return((0,m.l8)(e)+(0,m.xf)(e))/2};var y=n(19781),b=n(52399);function w(e){var t=e.children,n=e.order,m=e.offset,w=(0,r.useContext)(h.Z),k=w.horizontal,x=w.registerData,_=w.unregisterData,S=(0,r.useMemo)((function(){return(0,b.Z)(t)}),[t]),E=(0,r.useMemo)((function(){return S.filter((function(e){return e.props.dataKey})).map((function(e){return e.props.dataKey}))}),[S]),C=(0,r.useMemo)((function(){return(0,y.Z)(S,k)}),[k,S]),T=(0,r.useMemo)((function(){var e=m?null:C.some((function(e){return e.negativeSum<0})),t=function(){var e=o([]),t=u,n=s,r=c;function d(o){var s,u,c,d=Array.from(e.apply(this,arguments),l),f=d.length,p=-1,h=(0,i.Z)(o);try{for(h.s();!(c=h.n()).done;){var m=c.value;for(s=0,++p;s<f;++s)(d[s][p]=[0,+r(m,d[s].key,p,o)]).data=m}}catch(v){h.e(v)}finally{h.f()}for(s=0,u=a(t(d));s<f;++s)d[u[s]].index=s;return n(d,u),d}return d.keys=function(t){return arguments.length?(e="function"===typeof t?t:o(Array.from(t)),d):e},d.value=function(e){return arguments.length?(r="function"===typeof e?e:o(+e),d):r},d.order=function(e){return arguments.length?(t=null==e?u:"function"===typeof e?e:o(Array.from(e)),d):t},d.offset=function(e){return arguments.length?(n=null==e?s:e,d):n},d}();return t.keys(E),n&&t.order((0,f.default)(n)),(m||e)&&t.offset((0,d.default)(m||"diverging")),t(C)}),[C,E,n,m]),A=(0,r.useMemo)((function(){return(0,p.Z)(T.reduce((function(e,t){return t.forEach((function(t){var n=t[0],r=t[1];e.push(n),e.push(r)})),e}),[]))}),[T]);return(0,r.useEffect)((function(){var e=function(e,t,n){var r=n?[g,v]:[v,g],i=r[0],a=r[1];return e.map((function(e,r){var o={key:e.key,data:e,xAccessor:i,yAccessor:a};return t.length>0&&0===r&&(n?o.xScale=function(e){return e.domain((0,p.Z)(e.domain().concat(t)))}:o.yScale=function(e){return e.domain((0,p.Z)(e.domain().concat(t)))}),o})).filter((function(e){return e}))}(T,A,k);return x(e),function(){return _(E)}}),[E,A,k,T,x,_,S]),{seriesChildren:S,dataKeys:E,stackedData:T}}},31253:function(e,t,n){"use strict";n.r(t),n.d(t,{AnimatedAnnotation:function(){return i.Z},AnimatedAreaSeries:function(){return x.Z},AnimatedAreaStack:function(){return _.Z},AnimatedAxis:function(){return c.Z},AnimatedBarGroup:function(){return C.Z},AnimatedBarSeries:function(){return S.Z},AnimatedBarStack:function(){return E.Z},AnimatedGlyphSeries:function(){return T.Z},AnimatedGrid:function(){return l.Z},AnimatedLineSeries:function(){return A.Z},Annotation:function(){return r.Z},AnnotationCircleSubject:function(){return s.Z},AnnotationConnector:function(){return o.Z},AnnotationLabel:function(){return a.Z},AnnotationLineSubject:function(){return u.Z},AreaSeries:function(){return m.Z},AreaStack:function(){return v.Z},Axis:function(){return d.Z},BarGroup:function(){return g.Z},BarSeries:function(){return y.Z},BarStack:function(){return b.Z},DataContext:function(){return O.Z},DataProvider:function(){return P.Z},EventEmitterContext:function(){return R.Z},EventEmitterProvider:function(){return M.Z},GlyphSeries:function(){return w.Z},Grid:function(){return f.Z},LineSeries:function(){return k.Z},ThemeContext:function(){return I.Z},ThemeProvider:function(){return L.Z},Tooltip:function(){return p.Z},TooltipContext:function(){return N.Z},TooltipProvider:function(){return D.Z},XYChart:function(){return h.Z},allColors:function(){return V.Qk},buildChartTheme:function(){return Z.Z},darkTheme:function(){return j.Z},defaultColors:function(){return V.B3},grayColors:function(){return V.ab},lightTheme:function(){return B.Z},useEventEmitter:function(){return F.Z}});var r=n(46867),i=n(14367),a=n(53943),o=n(91024),s=n(72317),u=n(77756),c=n(50381),l=n(7862),d=n(78057),f=n(74162),p=n(40884),h=n(7554),m=n(87704),v=n(34517),g=n(94958),y=n(51453),b=n(5665),w=n(10044),k=n(8417),x=n(87852),_=n(41900),S=n(59088),E=n(98559),C=n(17846),T=n(73781),A=n(84624),O=n(20801),R=n(38010),I=n(13187),N=n(27229),P=n(50833),M=n(68699),L=n(68028),D=n(40207),F=n(47702),B=n(75021),j=n(35300),Z=n(4506),V=n(76618),U=n(42478),W={};for(var H in U)["default","Annotation","AnimatedAnnotation","AnnotationLabel","AnnotationConnector","AnnotationCircleSubject","AnnotationLineSubject","AnimatedAxis","AnimatedGrid","Axis","Grid","Tooltip","XYChart","AreaSeries","AreaStack","BarGroup","BarSeries","BarStack","GlyphSeries","LineSeries","AnimatedAreaSeries","AnimatedAreaStack","AnimatedBarSeries","AnimatedBarStack","AnimatedBarGroup","AnimatedGlyphSeries","AnimatedLineSeries","DataContext","EventEmitterContext","ThemeContext","TooltipContext","DataProvider","EventEmitterProvider","ThemeProvider","TooltipProvider","useEventEmitter","lightTheme","darkTheme","buildChartTheme","allColors","grayColors","defaultColors"].indexOf(H)<0&&(W[H]=function(e){return U[e]}.bind(0,H));n.d(t,W)},50833:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(52007),i=n.n(r),a=n(72791),o=n(39175),s=n(13187),u=n(20801);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(){c(this,"registry",{}),c(this,"registryKeys",[])}var t=e.prototype;return t.registerData=function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){e.key in t.registry&&null!=t.registry[e.key]&&console.debug("Overriding data registry key",e.key),t.registry[e.key]=e,t.registryKeys=Object.keys(t.registry)}))},t.unregisterData=function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){delete t.registry[e],t.registryKeys=Object.keys(t.registry)}))},t.entries=function(){return Object.values(this.registry)},t.get=function(e){return this.registry[e]},t.keys=function(){return this.registryKeys},e}();var d={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}};var f=n(59632),p=n(31434),h=n(39562);function m(e){return"band"===(null==e?void 0:e.type)||"ordinal"===(null==e?void 0:e.type)||"point"===(null==e?void 0:e.type)}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function g(e){var t=e.initialDimensions,n=e.theme,r=e.xScale,i=e.yScale,c=e.children,g=e.horizontal,y=void 0===g?"auto":g,b=(0,a.useContext)(s.Z),w=n||b,k=function(e){var t=(0,a.useState)({width:null==(null==e?void 0:e.width)?d.width:e.width,height:null==(null==e?void 0:e.height)?d.height:e.height,margin:null==(null==e?void 0:e.margin)?d.margin:e.margin}),n=t[0],r=t[1],i=(0,a.useCallback)((function(e){e.width===n.width&&e.height===n.height&&e.margin.left===n.margin.left&&e.margin.right===n.margin.right&&e.margin.top===n.margin.top&&e.margin.bottom===n.margin.bottom||r(e)}),[n.width,n.height,n.margin.left,n.margin.right,n.margin.bottom,n.margin.top]);return[n,i]}(t),x=k[0],_=x.width,S=x.height,E=x.margin,C=k[1],T=Math.max(0,_-E.left-E.right),A=Math.max(0,S-E.top-E.bottom),O=function(){var e=(0,a.useState)(Math.random())[1],t=(0,a.useMemo)((function(){return new l}),[]);return(0,a.useMemo)((function(){return{registerData:function(){t.registerData.apply(t,arguments),e(Math.random())},unregisterData:function(){t.unregisterData.apply(t,arguments),e(Math.random())},entries:function(){return t.entries()},get:function(e){return t.get(e)},keys:function(){return t.keys()}}}),[t])}(),R=function(e){var t=e.dataRegistry,n=e.xRange,r=e.xScaleConfig,i=e.yRange,o=e.yScaleConfig,s=t.keys(),u=n[0],c=n[1],l=i[0],d=i[1];return{xScale:(0,a.useMemo)((function(){var e=s.map((function(e){return t.get(e)})),n=e.reduce((function(e,t){return t?e.concat(t.data.map((function(e){return t.xAccessor(e)}))):e}),[]);if(0!==n.length){var i=m(r)?n:(0,h.Z)(n),a=(0,f.Z)(r)?(0,p.Z)(v({range:[u,c],domain:i,zero:!0},r)):(0,p.Z)(v({range:[u,c],domain:i},r));return e.forEach((function(e){null!=e&&e.xScale&&(a=e.xScale(a))})),a}}),[t,r,s,u,c]),yScale:(0,a.useMemo)((function(){var e=s.map((function(e){return t.get(e)})),n=e.reduce((function(e,t){return t?e.concat(t.data.map((function(e){return t.yAccessor(e)}))):e}),[]);if(0!==n.length){var r=m(o)?n:(0,h.Z)(n),i=(0,f.Z)(o)?(0,p.Z)(v({range:[l,d],domain:r,zero:!0},o)):(0,p.Z)(v({range:[l,d],domain:r},o));return e.forEach((function(e){null!=e&&e.yScale&&(i=e.yScale(i))})),i}}),[t,o,s,l,d])}}({dataRegistry:O,xScaleConfig:r,yScaleConfig:i,xRange:[E.left,Math.max(0,_-E.right)],yRange:[Math.max(0,S-E.bottom),E.top]}),I=R.xScale,N=R.yScale,P=O.keys(),M=(0,a.useMemo)((function(){return(0,o.ZP)({domain:P,range:w.colors})}),[P,w.colors]),L="auto"===y?m(i)||"time"===i.type||"utc"===i.type:y;return a.createElement(u.Z.Provider,{value:{dataRegistry:O,registerData:O.registerData,unregisterData:O.unregisterData,xScale:I,yScale:N,colorScale:M,theme:w,width:_,height:S,margin:E,innerWidth:T,innerHeight:A,setDimensions:C,horizontal:L}},c)}g.propTypes={children:i().node.isRequired,horizontal:i().oneOfType([i().bool,i().oneOf(["auto"])])}},68699:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791);var i=n(38010);function a(e){var t=e.children,n=(0,r.useMemo)((function(){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r&&r.push(n)||e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(t,n){(e.get(t)||[]).slice().map((function(e){e(n)})),(e.get("*")||[]).slice().map((function(e){e(t,n)}))}};var e}),[]);return r.createElement(i.Z.Provider,{value:n},t)}},68028:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(72791),i=n(13187),a=n(75021);function o(e){var t=e.theme,n=void 0===t?a.Z:t,o=e.children;return r.createElement(i.Z.Provider,{value:n},o)}},40207:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(52007),i=n.n(r),a=n(72791),o=n(48573),s=n.n(o),u=["tooltipOpen"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){var t=(0,a.useState)(c({tooltipOpen:!1},e)),n=t[0],r=t[1],i=(0,a.useCallback)((function(e){return r("function"===typeof e?function(t){t.tooltipOpen;var n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,u);return c({},e(n),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:e.tooltipLeft,tooltipTop:e.tooltipTop,tooltipData:e.tooltipData})}),[r]),o=(0,a.useCallback)((function(){return r({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})}),[r]);return{tooltipOpen:n.tooltipOpen,tooltipLeft:n.tooltipLeft,tooltipTop:n.tooltipTop,tooltipData:n.tooltipData,updateTooltip:r,showTooltip:i,hideTooltip:o}}var d=n(27229),f=n(26116);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e){var t=e.hideTooltipDebounceMs,n=void 0===t?400:t,r=e.children,i=l(void 0),o=i.tooltipOpen,u=i.tooltipLeft,c=i.tooltipTop,h=i.tooltipData,m=i.updateTooltip,v=i.hideTooltip,g=(0,a.useRef)(null),y=(0,a.useRef)((function(e){var t=e.svgPoint,n=e.index,r=e.key,i=e.datum,a=e.distanceX,o=e.distanceY;g.current&&(g.current.cancel(),g.current=null);var s=(0,f.Z)(a)?a:1/0,u=(0,f.Z)(o)?o:1/0,c=Math.sqrt(Math.pow(s,2)+Math.pow(u,2));m((function(e){var a,o,s,u=e.tooltipData,l=null!=u&&u.nearestDatum&&(0,f.Z)(u.nearestDatum.distance)?u.nearestDatum.distance:1/0;return{tooltipOpen:!0,tooltipLeft:null==t?void 0:t.x,tooltipTop:null==t?void 0:t.y,tooltipData:{nearestDatum:(null!=(a=null==u||null==(o=u.nearestDatum)?void 0:o.key)?a:"")!==r&&l<c?null==u?void 0:u.nearestDatum:{key:r,index:n,datum:i,distance:c},datumByKey:p({},null==u?void 0:u.datumByKey,(s={},s[r]={datum:i,index:n,key:r},s))}}}))})),b=(0,a.useCallback)((function(){g.current=s()(v,n),g.current()}),[v,n]);return a.createElement(d.Z.Provider,{value:{tooltipOpen:o,tooltipLeft:u,tooltipTop:c,tooltipData:h,updateTooltip:m,showTooltip:y.current,hideTooltip:b}},r)}h.propTypes={hideTooltipDebounceMs:i().number,children:i().node.isRequired}},4506:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(72791);var r=n(76618);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var a={fontFamily:"-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif",fontWeight:700,fontSize:12,textAnchor:"middle",pointerEvents:"none",letterSpacing:.4};function o(e){var t,n,o,s,u,c,l=i({},a,{fill:r.zP,stroke:"none"},e.svgLabelBig),d=i({},a,{fontWeight:200,fontSize:11,fill:r.zP,stroke:"none"},e.svgLabelSmall),f=i({color:null!=(t=null!=(n=null!=(o=null==(s=e.htmlLabel)?void 0:s.color)?o:null==(u=e.svgLabelBig)?void 0:u.fill)?n:null==(c=e.svgLabelSmall)?void 0:c.fill)?t:r.zP},a,e.htmlLabel);return{backgroundColor:e.backgroundColor,colors:[].concat(e.colors),htmlLabel:i({},f),svgLabelSmall:i({},d),svgLabelBig:i({},l),gridStyles:i({stroke:e.gridColor,strokeWidth:1},e.gridStyles),axisStyles:{x:{top:{axisLabel:i({},l,{dy:"-0.25em"}),axisLine:i({stroke:e.gridColorDark,strokeWidth:2},e.xAxisLineStyles),tickLabel:i({},d,{dy:"-0.25em"}),tickLength:e.tickLength,tickLine:i({strokeWidth:1,stroke:e.gridColor},e.xTickLineStyles)},bottom:{axisLabel:i({},l,{dy:"-0.25em"}),axisLine:i({stroke:e.gridColorDark,strokeWidth:2},e.xAxisLineStyles),tickLabel:i({},d,{dy:"0.125em"}),tickLength:e.tickLength,tickLine:i({strokeWidth:1,stroke:e.gridColor},e.xTickLineStyles)}},y:{left:{axisLabel:i({},l,{dx:"-1.25em"}),axisLine:i({stroke:e.gridColor,strokeWidth:1},e.yAxisLineStyles),tickLabel:i({},d,{textAnchor:"end",dx:"-0.25em",dy:"0.25em"}),tickLength:e.tickLength,tickLine:i({strokeWidth:1,stroke:e.gridColor},e.yTickLineStyles)},right:{axisLabel:i({},l,{dx:"1.25em"}),axisLine:i({stroke:e.gridColor,strokeWidth:1},e.yAxisLineStyles),tickLabel:i({},d,{textAnchor:"start",dx:"0.25em",dy:"0.25em"}),tickLength:e.tickLength,tickLine:i({strokeWidth:1,stroke:e.gridColor},e.yTickLineStyles)}}}}}},76618:function(e,t,n){"use strict";n.d(t,{B3:function(){return o},Qk:function(){return r},ab:function(){return i},zP:function(){return a}});var r={red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e8f7ff","#ccedff","#a3daff","#72c3fc","#4dadf7","#329af0","#228ae6","#1c7cd6","#1b6ec2","#1862ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"]},i=r.gray,a=i[7],o=[r.cyan[9],r.cyan[3],r.yellow[5],r.red[4],r.grape[8],r.grape[5],r.pink[9]]},35300:function(e,t,n){"use strict";var r=n(76618),i=n(4506);t.Z=(0,i.Z)({backgroundColor:"#222",colors:[r.Qk.cyan[4],r.Qk.teal[1],r.Qk.yellow[2],r.Qk.red[4],r.Qk.grape[3],r.Qk.grape[6],r.Qk.pink[3]],tickLength:4,svgLabelSmall:{fill:r.ab[2]},svgLabelBig:{fill:r.ab[0]},gridColor:r.ab[4],gridColorDark:r.ab[1]})},75021:function(e,t,n){"use strict";var r=n(76618),i=n(4506);t.Z=(0,i.Z)({backgroundColor:"#fff",colors:r.B3,tickLength:4,svgLabelSmall:{fill:r.ab[7]},svgLabelBig:{fill:r.ab[9]},gridColor:r.ab[5],gridColorDark:r.ab[9]})},26116:function(e,t,n){"use strict";function r(e){return null!=e&&"number"===typeof e&&!Number.isNaN(e)&&Number.isFinite(e)}n.d(t,{Z:function(){return r}})},42478:function(e,t,n){"use strict";n.r(t);var r=n(57645),i={};for(var a in r)"default"!==a&&(i[a]=function(e){return r[e]}.bind(0,a));n.d(t,i)},57645:function(){},32131:function(e,t,n){"use strict";n.d(t,{B:function(){return i},W:function(){return r}});var r=function(e){return Boolean(null==e?void 0:e.includes("url("))},i=function(e){return r(e)?"rgba(0,0,0,0.1)":e}},19781:function(e,t,n){"use strict";n.d(t,{N:function(){return r},Z:function(){return i}});var r=function(e){return e.stack};function i(e,t){var n={};return e.forEach((function(e){var r=e.props,i=r.dataKey,a=r.data,o=r.xAccessor,s=r.yAccessor;if(o&&s){var u=t?[s,o]:[o,s],c=u[0],l=u[1];a.forEach((function(e){var t=c(e),r=l(e),a=String(t);n[a]||(n[a]={stack:t,positiveSum:0,negativeSum:0}),n[a][i]=r,n[a][r>=0?"positiveSum":"negativeSum"]+=r}))}})),Object.values(n)}},43678:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(92267),i=n(41539),a=n(84181);function o(e){var t,n,o=e.scale,s=e.accessor,u=e.scaledValue,c=e.data,l=o;if("invert"in l&&"function"===typeof l.invert){var d=(0,r.Z)(s).left,f=Number(l.invert(u)),p=d(c,f),h=c[p-1],m=c[p];n=(t=!h||Math.abs(f-s(h))>Math.abs(f-s(m))?m:h)===h?p-1:p}else{if(!("step"in l)||"undefined"===typeof l.step)return console.warn("[visx/xychart/findNearestDatum] encountered incompatible scale type, bailing"),null;var v=o.domain(),g=o.range().map(Number),y=[].concat(g).sort((function(e,t){return e-t})),b=(0,i.Z)(y[0],y[1],l.step()),w=(0,a.Nw)(b,u),k=(g[0]<g[1]?v:v.reverse())[w-1],x=c.findIndex((function(e){return String(s(e))===String(k)}));t=c[x],n=x}return null==t||null==n?null:{datum:t,index:n,distance:Math.abs(Number(l(s(t)))-u)}}},47258:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(43678);function i(e){var t=e.xScale,n=e.xAccessor,i=e.yScale,a=e.yAccessor,o=e.point,s=e.data;if(!o)return null;var u=(0,r.Z)({scale:t,accessor:n,scaledValue:o.x,data:s});return u?{datum:u.datum,index:u.index,distanceX:u.distance,distanceY:Math.abs(Number(i(a(u.datum)))-o.y)}:null}},16267:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(43678);function i(e){var t=e.yScale,n=e.yAccessor,i=e.xScale,a=e.xAccessor,o=e.point,s=e.data;if(!o)return null;var u=(0,r.Z)({scale:t,accessor:n,scaledValue:o.y,data:s});return u?{datum:u.datum,index:u.index,distanceY:u.distance,distanceX:Math.abs(Number(i(a(u.datum)))-o.x)}:null}},88797:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(34876),i=n(16267),a=n(47258);function o(e,t,n){var o,s,u,c,l=e.xScale,d=e.yScale,f=e.point,p=(n?i.Z:a.Z)(e),h=null==(null==p?void 0:p.index)?null:t[p.index];return p&&h&&f?{index:p.index,datum:h,distanceX:n&&f.x>=(null!=(o=l((0,r.l8)(p.datum)))?o:1/0)&&f.x<=(null!=(s=l((0,r.xf)(p.datum)))?s:-1/0)?0:p.distanceX,distanceY:n?p.distanceY:f.y<=(null!=(u=d((0,r.l8)(p.datum)))?u:-1/0)&&f.y>=(null!=(c=d((0,r.xf)(p.datum)))?c:1/0)?0:p.distanceY}:null}},52399:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);function i(e){return r.Children.toArray(e).flatMap((function(e){return"object"===typeof e&&"props"in e&&e.props.children?e.props.children:e})).filter((function(e){return function(e){return!!e&&"object"===typeof e&&"props"in e&&null!=e.props}(e)}))}},50851:function(e,t,n){"use strict";function r(e){var t;return e&&"bandwidth"in e&&null!=(t=null==e?void 0:e.bandwidth())?t:0}n.d(t,{Z:function(){return r}})},99915:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(64644),i=n(26116);function a(e){var t=e.range().map((function(e){var t;return null!=(t=(0,r.Z)(e))?t:0})),n=t[0],a=t[1],o=null!=n&&null!=a&&a<n,s=e(0),u=o?[a,n]:[n,a],c=u[0],l=u[1];return o?(0,i.Z)(s)?Math.min(Math.max(c,s),l):l:(0,i.Z)(s)?Math.max(s,c):c}},50281:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(26116),i=n(50851);function a(e,t,n){return void 0===n&&(n="center"),function(a){var o=e(t(a));return(0,r.Z)(o)?o+("start"===n?0:(0,i.Z)(e))/("center"===n?2:1):NaN}}},14249:function(e){"use strict";function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var a=r(e,t,i);return a&&{start:a[0],end:a[1],pre:i.slice(0,a[0]),body:i.slice(a[0]+e.length,a[1]),post:i.slice(a[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,a,o,s,u=n.indexOf(e),c=n.indexOf(t,u+1),l=u;if(u>=0&&c>0){if(e===t)return[u,c];for(r=[],a=n.length;l>=0&&!s;)l==u?(r.push(l),u=n.indexOf(e,l+1)):1==r.length?s=[r.pop(),c]:((i=r.pop())<a&&(a=i,o=c),c=n.indexOf(t,l+1)),l=u<c&&u>=0?u:c;r.length&&(s=[a,o])}return s}e.exports=t,t.range=r},34279:function(e){e.exports=function(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}},81694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},28182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},66724:function(e,t,n){var r=n(39218),i=n(81772),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not a function")}},10611:function(e,t,n){var r=n(51219),i=n(81772),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not a constructor")}},56299:function(e,t,n){var r=n(39218),i=String,a=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},35715:function(e,t,n){var r=n(95028),i=n(4385),a=n(91592).f,o=r("unscopables"),s=Array.prototype;void 0==s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},35466:function(e,t,n){"use strict";var r=n(18424).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},14817:function(e,t,n){var r=n(68946),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},45884:function(e,t,n){var r=n(43931),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not an object")}},16077:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},21531:function(e,t,n){var r=n(92837);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},93866:function(e,t,n){"use strict";var r,i,a,o=n(16077),s=n(31196),u=n(6840),c=n(39218),l=n(43931),d=n(73013),f=n(37205),p=n(81772),h=n(63873),m=n(17543),v=n(91592).f,g=n(68946),y=n(24305),b=n(4381),w=n(95028),k=n(24839),x=n(49671),_=x.enforce,S=x.get,E=u.Int8Array,C=E&&E.prototype,T=u.Uint8ClampedArray,A=T&&T.prototype,O=E&&y(E),R=C&&y(C),I=Object.prototype,N=u.TypeError,P=w("toStringTag"),M=k("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",D=o&&!!b&&"Opera"!==f(u.opera),F=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},j={BigInt64Array:8,BigUint64Array:8},Z=function(e){if(!l(e))return!1;var t=f(e);return d(B,t)||d(j,t)};for(r in B)(a=(i=u[r])&&i.prototype)?_(a).TypedArrayConstructor=i:D=!1;for(r in j)(a=(i=u[r])&&i.prototype)&&(_(a).TypedArrayConstructor=i);if((!D||!c(O)||O===Function.prototype)&&(O=function(){throw N("Incorrect invocation")},D))for(r in B)u[r]&&b(u[r],O);if((!D||!R||R===I)&&(R=O.prototype,D))for(r in B)u[r]&&b(u[r].prototype,R);if(D&&y(A)!==R&&b(A,R),s&&!d(R,P))for(r in F=!0,v(R,P,{get:function(){return l(this)?this[M]:void 0}}),B)u[r]&&h(u[r],M,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:F&&M,aTypedArray:function(e){if(Z(e))return e;throw N("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!b||g(O,e)))return e;throw N(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var i in B){var a=u[i];if(a&&d(a.prototype,e))try{delete a.prototype[e]}catch(o){try{a.prototype[e]=t}catch(c){}}}R[e]&&!n||m(R,e,n?t:D&&C[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(s){if(b){if(n)for(r in B)if((i=u[r])&&d(i,e))try{delete i[e]}catch(a){}if(O[e]&&!n)return;try{return m(O,e,n?t:D&&O[e]||t)}catch(a){}}for(r in B)!(i=u[r])||i[e]&&!n||m(i,e,t)}},getTypedArrayConstructor:function e(t){var n=y(t);if(l(n)){var r=S(n);return r&&d(r,L)?r.TypedArrayConstructor:e(n)}},isView:function(e){if(!l(e))return!1;var t=f(e);return"DataView"===t||d(B,t)||d(j,t)},isTypedArray:Z,TypedArray:O,TypedArrayPrototype:R}},40865:function(e,t,n){"use strict";var r=n(6840),i=n(74932),a=n(31196),o=n(16077),s=n(23211),u=n(63873),c=n(7544),l=n(92837),d=n(14817),f=n(92128),p=n(62347),h=n(31143),m=n(29580),v=n(24305),g=n(4381),y=n(3772).f,b=n(91592).f,w=n(56012),k=n(43278),x=n(53370),_=n(49671),S=s.PROPER,E=s.CONFIGURABLE,C=_.get,T=_.set,A="ArrayBuffer",O="DataView",R="Wrong index",I=r.ArrayBuffer,N=I,P=N&&N.prototype,M=r.DataView,L=M&&M.prototype,D=Object.prototype,F=r.Array,B=r.RangeError,j=i(w),Z=i([].reverse),V=m.pack,U=m.unpack,W=function(e){return[255&e]},H=function(e){return[255&e,e>>8&255]},z=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},G=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},q=function(e){return V(e,23,4)},K=function(e){return V(e,52,8)},Y=function(e,t){b(e.prototype,t,{get:function(){return C(this)[t]}})},X=function(e,t,n,r){var i=h(n),a=C(e);if(i+t>a.byteLength)throw B(R);var o=C(a.buffer).bytes,s=i+a.byteOffset,u=k(o,s,s+t);return r?u:Z(u)},Q=function(e,t,n,r,i,a){var o=h(n),s=C(e);if(o+t>s.byteLength)throw B(R);for(var u=C(s.buffer).bytes,c=o+s.byteOffset,l=r(+i),d=0;d<t;d++)u[c+d]=l[a?d:t-d-1]};if(o){var J=S&&I.name!==A;if(l((function(){I(1)}))&&l((function(){new I(-1)}))&&!l((function(){return new I,new I(1.5),new I(NaN),J&&!E})))J&&E&&u(I,"name",A);else{(N=function(e){return d(this,P),new I(h(e))}).prototype=P;for(var $,ee=y(I),te=0;ee.length>te;)($=ee[te++])in N||u(N,$,I[$]);P.constructor=N}g&&v(L)!==D&&g(L,D);var ne=new M(new N(2)),re=i(L.setInt8);ne.setInt8(0,2147483648),ne.setInt8(1,2147483649),!ne.getInt8(0)&&ne.getInt8(1)||c(L,{setInt8:function(e,t){re(this,e,t<<24>>24)},setUint8:function(e,t){re(this,e,t<<24>>24)}},{unsafe:!0})}else P=(N=function(e){d(this,P);var t=h(e);T(this,{bytes:j(F(t),0),byteLength:t}),a||(this.byteLength=t)}).prototype,L=(M=function(e,t,n){d(this,L),d(e,P);var r=C(e).byteLength,i=f(t);if(i<0||i>r)throw B("Wrong offset");if(i+(n=void 0===n?r-i:p(n))>r)throw B("Wrong length");T(this,{buffer:e,byteLength:n,byteOffset:i}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=i)}).prototype,a&&(Y(N,"byteLength"),Y(M,"buffer"),Y(M,"byteLength"),Y(M,"byteOffset")),c(L,{getInt8:function(e){return X(this,1,e)[0]<<24>>24},getUint8:function(e){return X(this,1,e)[0]},getInt16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return G(X(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return G(X(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return U(X(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return U(X(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Q(this,1,e,W,t)},setUint8:function(e,t){Q(this,1,e,W,t)},setInt16:function(e,t){Q(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Q(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Q(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Q(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Q(this,4,e,q,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Q(this,8,e,K,t,arguments.length>2?arguments[2]:void 0)}});x(N,A),x(M,O),e.exports={ArrayBuffer:N,DataView:M}},54739:function(e,t,n){"use strict";var r=n(28385),i=n(41823),a=n(23385),o=n(87820),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),u=a(n),c=i(e,u),l=i(t,u),d=arguments.length>2?arguments[2]:void 0,f=s((void 0===d?u:i(d,u))-l,u-c),p=1;for(l<c&&c<l+f&&(p=-1,l+=f-1,c+=f-1);f-- >0;)l in n?n[c]=n[l]:o(n,c),c+=p,l+=p;return n}},56012:function(e,t,n){"use strict";var r=n(28385),i=n(41823),a=n(23385);e.exports=function(e){for(var t=r(this),n=a(t),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},48129:function(e,t,n){"use strict";var r=n(5880).forEach,i=n(92241)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},11793:function(e,t,n){var r=n(23385);e.exports=function(e,t){for(var n=0,i=r(t),a=new e(i);i>n;)a[n]=t[n++];return a}},22422:function(e,t,n){"use strict";var r=n(5851),i=n(98513),a=n(28385),o=n(81940),s=n(38205),u=n(51219),c=n(23385),l=n(13055),d=n(78131),f=n(40443),p=Array;e.exports=function(e){var t=a(e),n=u(this),h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m;v&&(m=r(m,h>2?arguments[2]:void 0));var g,y,b,w,k,x,_=f(t),S=0;if(!_||this===p&&s(_))for(g=c(t),y=n?new this(g):p(g);g>S;S++)x=v?m(t[S],S):t[S],l(y,S,x);else for(k=(w=d(t,_)).next,y=n?new this:[];!(b=i(k,w)).done;S++)x=v?o(w,m,[b.value,S],!0):b.value,l(y,S,x);return y.length=S,y}},70488:function(e,t,n){var r=n(45770),i=n(41823),a=n(23385),o=function(e){return function(t,n,o){var s,u=r(t),c=a(u),l=i(o,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},5880:function(e,t,n){var r=n(5851),i=n(74932),a=n(71036),o=n(28385),s=n(23385),u=n(95491),c=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,d=6==e,f=7==e,p=5==e||d;return function(h,m,v,g){for(var y,b,w=o(h),k=a(w),x=r(m,v),_=s(k),S=0,E=g||u,C=t?E(h,_):n||f?E(h,0):void 0;_>S;S++)if((p||S in k)&&(b=x(y=k[S],S,w),e))if(t)C[S]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:c(C,y)}else switch(e){case 4:return!1;case 7:c(C,y)}return d?-1:i||l?l:C}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},2561:function(e,t,n){"use strict";var r=n(86339),i=n(45770),a=n(92128),o=n(23385),s=n(92241),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),f=l||!d;e.exports=f?function(e){if(l)return r(c,this,arguments)||0;var t=i(this),n=o(t),s=n-1;for(arguments.length>1&&(s=u(s,a(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:c},81379:function(e,t,n){var r=n(92837),i=n(95028),a=n(65372),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},92241:function(e,t,n){"use strict";var r=n(92837);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},94512:function(e,t,n){var r=n(66724),i=n(28385),a=n(71036),o=n(23385),s=TypeError,u=function(e){return function(t,n,u,c){r(n);var l=i(t),d=a(l),f=o(l),p=e?f-1:0,h=e?-1:1;if(u<2)for(;;){if(p in d){c=d[p],p+=h;break}if(p+=h,e?p<0:f<=p)throw s("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=h)p in d&&(c=n(c,d[p],p,l));return c}};e.exports={left:u(!1),right:u(!0)}},43278:function(e,t,n){var r=n(41823),i=n(23385),a=n(13055),o=Array,s=Math.max;e.exports=function(e,t,n){for(var u=i(e),c=r(t,u),l=r(void 0===n?u:n,u),d=o(s(l-c,0)),f=0;c<l;c++,f++)a(d,f,e[c]);return d.length=f,d}},15618:function(e,t,n){var r=n(74932);e.exports=r([].slice)},47732:function(e,t,n){var r=n(43278),i=Math.floor,a=function(e,t){for(var n,r,i=e.length,a=1;a<i;){for(r=a,n=e[a];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==a++&&(e[r]=n)}return e},o=function(e,t,n,r){for(var i=t.length,a=n.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?r(t[o],n[s])<=0?t[o++]:n[s++]:o<i?t[o++]:n[s++];return e};e.exports=function e(t,n){var s=t.length,u=i(s/2);return s<8?a(t,n):o(t,e(r(t,0,u),n),e(r(t,u),n),n)}},89026:function(e,t,n){var r=n(51941),i=n(51219),a=n(43931),o=n(95028)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?s:t}},95491:function(e,t,n){var r=n(89026);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},81940:function(e,t,n){var r=n(45884),i=n(9053);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(o){i(e,"throw",o)}}},6225:function(e,t,n){var r=n(95028)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(s){}return n}},82933:function(e,t,n){var r=n(74932),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},37205:function(e,t,n){var r=n(56042),i=n(39218),a=n(82933),o=n(95028)("toStringTag"),s=Object,u="Arguments"==a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=s(e),o))?n:u?a(t):"Object"==(r=a(t))&&i(t.callee)?"Arguments":r}},13425:function(e,t,n){"use strict";var r=n(91592).f,i=n(4385),a=n(7544),o=n(5851),s=n(14817),u=n(54439),c=n(32170),l=n(52267),d=n(31196),f=n(12499).fastKey,p=n(49671),h=p.set,m=p.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,p),h(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=r&&u(r,e[c],{that:e,AS_ENTRIES:n})})),p=l.prototype,v=m(t),g=function(e,t,n){var r,i,a=v(e),o=y(e,t);return o?o.value=n:(a.last=o={index:i=f(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),d?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},y=function(e,t){var n,r=v(e),i=f(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(p,{clear:function(){for(var e=v(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=this,n=v(t),r=y(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),d?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=v(this),r=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),a(p,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),d&&r(p,"size",{get:function(){return v(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=m(t),a=m(r);c(e,t,(function(e,t){h(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},93309:function(e,t,n){"use strict";var r=n(67768),i=n(6840),a=n(74932),o=n(96673),s=n(17543),u=n(12499),c=n(54439),l=n(14817),d=n(39218),f=n(43931),p=n(92837),h=n(6225),m=n(53370),v=n(21527);e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),b=g?"set":"add",w=i[e],k=w&&w.prototype,x=w,_={},S=function(e){var t=a(k[e]);s(k,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(o(e,!d(w)||!(y||k.forEach&&!p((function(){(new w).entries().next()})))))x=n.getConstructor(t,e,g,b),u.enable();else if(o(e,!0)){var E=new x,C=E[b](y?{}:-0,1)!=E,T=p((function(){E.has(1)})),A=h((function(e){new w(e)})),O=!y&&p((function(){for(var e=new w,t=5;t--;)e[b](t,t);return!e.has(-0)}));A||((x=t((function(e,t){l(e,k);var n=v(new w,e,x);return void 0!=t&&c(t,n[b],{that:n,AS_ENTRIES:g}),n}))).prototype=k,k.constructor=x),(T||O)&&(S("delete"),S("has"),g&&S("get")),(O||C)&&S(b),y&&k.clear&&delete k.clear}return _[e]=x,r({global:!0,constructor:!0,forced:x!=w},_),m(x,e),y||n.setStrong(x,e,g),x}},90189:function(e,t,n){var r=n(73013),i=n(17273),a=n(32573),o=n(91592);e.exports=function(e,t,n){for(var s=i(t),u=o.f,c=a.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||u(e,d,c(t,d))}}},2525:function(e,t,n){var r=n(95028)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},11586:function(e,t,n){var r=n(92837);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},41949:function(e,t,n){"use strict";var r=n(27022).IteratorPrototype,i=n(4385),a=n(72037),o=n(53370),s=n(29706),u=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:a(+!c,n)}),o(e,l,!1,!0),s[l]=u,e}},63873:function(e,t,n){var r=n(31196),i=n(91592),a=n(72037);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},72037:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},13055:function(e,t,n){"use strict";var r=n(54655),i=n(91592),a=n(72037);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},50695:function(e,t,n){var r=n(32557),i=n(91592);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},17543:function(e,t,n){var r=n(39218),i=n(91592),a=n(32557),o=n(19131);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&a(n,c,s),s.global)u?e[t]=n:o(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(l){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},7544:function(e,t,n){var r=n(17543);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},19131:function(e,t,n){var r=n(6840),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},32170:function(e,t,n){"use strict";var r=n(67768),i=n(98513),a=n(23608),o=n(23211),s=n(39218),u=n(41949),c=n(24305),l=n(4381),d=n(53370),f=n(63873),p=n(17543),h=n(95028),m=n(29706),v=n(27022),g=o.PROPER,y=o.CONFIGURABLE,b=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,k=h("iterator"),x="keys",_="values",S="entries",E=function(){return this};e.exports=function(e,t,n,o,h,v,C){u(n,t,o);var T,A,O,R=function(e){if(e===h&&L)return L;if(!w&&e in P)return P[e];switch(e){case x:case _:case S:return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",N=!1,P=e.prototype,M=P[k]||P["@@iterator"]||h&&P[h],L=!w&&M||R(h),D="Array"==t&&P.entries||M;if(D&&(T=c(D.call(new e)))!==Object.prototype&&T.next&&(a||c(T)===b||(l?l(T,b):s(T[k])||p(T,k,E)),d(T,I,!0,!0),a&&(m[I]=E)),g&&h==_&&M&&M.name!==_&&(!a&&y?f(P,"name",_):(N=!0,L=function(){return i(M,this)})),h)if(A={values:R(_),keys:v?L:R(x),entries:R(S)},C)for(O in A)(w||N||!(O in P))&&p(P,O,A[O]);else r({target:t,proto:!0,forced:w||N},A);return a&&!C||P[k]===L||p(P,k,L,{name:h}),m[t]=L,A}},84418:function(e,t,n){var r=n(34750),i=n(73013),a=n(21384),o=n(91592).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},87820:function(e,t,n){"use strict";var r=n(81772),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+r(t)+" of "+r(e))}},31196:function(e,t,n){var r=n(92837);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},90937:function(e,t,n){var r=n(6840),i=n(43931),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},96117:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},50650:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},22752:function(e,t,n){var r=n(90937)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},58336:function(e,t,n){var r=n(84839).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},64163:function(e,t,n){var r=n(46681),i=n(31653);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},46681:function(e){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},64891:function(e,t,n){var r=n(84839);e.exports=/MSIE|Trident/.test(r)},71070:function(e,t,n){var r=n(84839),i=n(6840);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},63929:function(e,t,n){var r=n(84839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},31653:function(e,t,n){var r=n(82933),i=n(6840);e.exports="process"==r(i.process)},81785:function(e,t,n){var r=n(84839);e.exports=/web0s(?!.*chrome)/i.test(r)},84839:function(e,t,n){var r=n(1240);e.exports=r("navigator","userAgent")||""},65372:function(e,t,n){var r,i,a=n(6840),o=n(84839),s=a.process,u=a.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},24469:function(e,t,n){var r=n(84839).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},12080:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},67768:function(e,t,n){var r=n(6840),i=n(32573).f,a=n(63873),o=n(17543),s=n(19131),u=n(90189),c=n(96673);e.exports=function(e,t){var n,l,d,f,p,h=e.target,m=e.global,v=e.stat;if(n=m?r:v?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(f=t[l],d=e.dontCallGetSet?(p=i(n,l))&&p.value:n[l],!c(m?l:h+(v?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&a(f,"sham",!0),o(n,l,f,e)}}},92837:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},58093:function(e,t,n){"use strict";n(20447);var r=n(74932),i=n(17543),a=n(94087),o=n(92837),s=n(95028),u=n(63873),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,d){var f=s(e),p=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),h=p&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!p||!h||n){var m=r(/./[f]),v=t(f,""[e],(function(e,t,n,i,o){var s=r(e),u=t.exec;return u===a||u===l.exec?p&&!o?{done:!0,value:m(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,v[0]),i(l,f,v[1])}d&&u(l[f],"sham",!0)}},7914:function(e,t,n){var r=n(92837);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},86339:function(e,t,n){var r=n(54138),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},5851:function(e,t,n){var r=n(74932),i=n(66724),a=n(54138),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},54138:function(e,t,n){var r=n(92837);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},66448:function(e,t,n){"use strict";var r=n(74932),i=n(66724),a=n(43931),o=n(73013),s=n(15618),u=n(54138),c=Function,l=r([].concat),d=r([].join),f={},p=function(e,t,n){if(!o(f,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";f[t]=c("C,a","return new C("+d(r,",")+")")}return f[t](e,n)};e.exports=u?c.bind:function(e){var t=i(this),n=t.prototype,r=s(arguments,1),o=function(){var n=l(r,s(arguments));return this instanceof o?p(t,n.length,n):t.apply(e,n)};return a(n)&&(o.prototype=n),o}},98513:function(e,t,n){var r=n(54138),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},23211:function(e,t,n){var r=n(31196),i=n(73013),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=i(a,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},74932:function(e,t,n){var r=n(54138),i=Function.prototype,a=i.bind,o=i.call,s=r&&a.bind(o,o);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},1240:function(e,t,n){var r=n(6840),i=n(39218),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},40443:function(e,t,n){var r=n(37205),i=n(23863),a=n(29706),o=n(95028)("iterator");e.exports=function(e){if(void 0!=e)return i(e,o)||i(e,"@@iterator")||a[r(e)]}},78131:function(e,t,n){var r=n(98513),i=n(66724),a=n(45884),o=n(81772),s=n(40443),u=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return a(r(n,e));throw u(o(e)+" is not iterable")}},23863:function(e,t,n){var r=n(66724);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},17794:function(e,t,n){var r=n(74932),i=n(28385),a=Math.floor,o=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,f){var p=n+e.length,h=r.length,m=l;return void 0!==d&&(d=i(d),m=c),s(f,m,(function(i,s){var c;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,p);case"<":c=d[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>h){var f=a(l/10);return 0===f?i:f<=h?void 0===r[f-1]?o(s,1):r[f-1]+o(s,1):i}c=r[l-1]}return void 0===c?"":c}))}},6840:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},73013:function(e,t,n){var r=n(74932),i=n(28385),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},56196:function(e){e.exports={}},65995:function(e,t,n){var r=n(6840);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},62012:function(e,t,n){var r=n(1240);e.exports=r("document","documentElement")},36707:function(e,t,n){var r=n(31196),i=n(92837),a=n(90937);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},29580:function(e){var t=Array,n=Math.abs,r=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,s,u){var c,l,d,f=t(u),p=8*u-s-1,h=(1<<p)-1,m=h>>1,v=23===s?r(2,-24)-r(2,-77):0,g=e<0||0===e&&1/e<0?1:0,y=0;for((e=n(e))!=e||e===1/0?(l=e!=e?1:0,c=h):(c=i(a(e)/o),e*(d=r(2,-c))<1&&(c--,d*=2),(e+=c+m>=1?v/d:v*r(2,1-m))*d>=2&&(c++,d/=2),c+m>=h?(l=0,c=h):c+m>=1?(l=(e*d-1)*r(2,s),c+=m):(l=e*r(2,m-1)*r(2,s),c=0));s>=8;)f[y++]=255&l,l/=256,s-=8;for(c=c<<s|l,p+=s;p>0;)f[y++]=255&c,c/=256,p-=8;return f[--y]|=128*g,f},unpack:function(e,t){var n,i=e.length,a=8*i-t-1,o=(1<<a)-1,s=o>>1,u=a-7,c=i-1,l=e[c--],d=127&l;for(l>>=7;u>0;)d=256*d+e[c--],u-=8;for(n=d&(1<<-u)-1,d>>=-u,u+=t;u>0;)n=256*n+e[c--],u-=8;if(0===d)d=1-s;else{if(d===o)return n?NaN:l?-1/0:1/0;n+=r(2,t),d-=s}return(l?-1:1)*n*r(2,d-t)}}},71036:function(e,t,n){var r=n(74932),i=n(92837),a=n(82933),o=Object,s=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):o(e)}:o},21527:function(e,t,n){var r=n(39218),i=n(43931),a=n(4381);e.exports=function(e,t,n){var o,s;return a&&r(o=t.constructor)&&o!==n&&i(s=o.prototype)&&s!==n.prototype&&a(e,s),e}},88589:function(e,t,n){var r=n(74932),i=n(39218),a=n(74460),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},12499:function(e,t,n){var r=n(67768),i=n(74932),a=n(56196),o=n(43931),s=n(73013),u=n(91592).f,c=n(3772),l=n(8910),d=n(86643),f=n(24839),p=n(7914),h=!1,m=f("meta"),v=0,g=function(e){u(e,m,{value:{objectID:"O"+v++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},h=!0;var e=c.f,t=i([].splice),n={};n[m]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,a=r.length;i<a;i++)if(r[i]===m){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,m)){if(!d(e))return"F";if(!t)return"E";g(e)}return e[m].objectID},getWeakData:function(e,t){if(!s(e,m)){if(!d(e))return!0;if(!t)return!1;g(e)}return e[m].weakData},onFreeze:function(e){return p&&h&&d(e)&&!s(e,m)&&g(e),e}};a[m]=!0},49671:function(e,t,n){var r,i,a,o=n(45242),s=n(6840),u=n(74932),c=n(43931),l=n(63873),d=n(73013),f=n(74460),p=n(89378),h=n(56196),m="Object already initialized",v=s.TypeError,g=s.WeakMap;if(o||f.state){var y=f.state||(f.state=new g),b=u(y.get),w=u(y.has),k=u(y.set);r=function(e,t){if(w(y,e))throw new v(m);return t.facade=e,k(y,e,t),t},i=function(e){return b(y,e)||{}},a=function(e){return w(y,e)}}else{var x=p("state");h[x]=!0,r=function(e,t){if(d(e,x))throw new v(m);return t.facade=e,l(e,x,t),t},i=function(e){return d(e,x)?e[x]:{}},a=function(e){return d(e,x)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}}}},38205:function(e,t,n){var r=n(95028),i=n(29706),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},51941:function(e,t,n){var r=n(82933);e.exports=Array.isArray||function(e){return"Array"==r(e)}},39218:function(e){e.exports=function(e){return"function"==typeof e}},51219:function(e,t,n){var r=n(74932),i=n(92837),a=n(39218),o=n(37205),s=n(1240),u=n(88589),c=function(){},l=[],d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=r(f.exec),h=!f.exec(c),m=function(e){if(!a(e))return!1;try{return d(c,l,e),!0}catch(t){return!1}},v=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(f,u(e))}catch(t){return!0}};v.sham=!0,e.exports=!d||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?v:m},96673:function(e,t,n){var r=n(92837),i=n(39218),a=/#|\.prototype\./,o=function(e,t){var n=u[s(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},57724:function(e,t,n){var r=n(43931),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},43931:function(e,t,n){var r=n(39218);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},23608:function(e){e.exports=!1},10670:function(e,t,n){var r=n(43931),i=n(82933),a=n(95028)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},28287:function(e,t,n){var r=n(1240),i=n(39218),a=n(68946),o=n(47611),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&a(t.prototype,s(e))}},54439:function(e,t,n){var r=n(5851),i=n(98513),a=n(45884),o=n(81772),s=n(38205),u=n(23385),c=n(68946),l=n(78131),d=n(40443),f=n(9053),p=TypeError,h=function(e,t){this.stopped=e,this.result=t},m=h.prototype;e.exports=function(e,t,n){var v,g,y,b,w,k,x,_=n&&n.that,S=!(!n||!n.AS_ENTRIES),E=!(!n||!n.IS_RECORD),C=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),A=r(t,_),O=function(e){return v&&f(v,"normal",e),new h(!0,e)},R=function(e){return S?(a(e),T?A(e[0],e[1],O):A(e[0],e[1])):T?A(e,O):A(e)};if(E)v=e.iterator;else if(C)v=e;else{if(!(g=d(e)))throw p(o(e)+" is not iterable");if(s(g)){for(y=0,b=u(e);b>y;y++)if((w=R(e[y]))&&c(m,w))return w;return new h(!1)}v=l(e,g)}for(k=E?e.next:v.next;!(x=i(k,v)).done;){try{w=R(x.value)}catch(I){f(v,"throw",I)}if("object"==typeof w&&w&&c(m,w))return w}return new h(!1)}},9053:function(e,t,n){var r=n(98513),i=n(45884),a=n(23863);e.exports=function(e,t,n){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw n;return n}o=r(o,e)}catch(u){s=!0,o=u}if("throw"===t)throw n;if(s)throw o;return i(o),n}},27022:function(e,t,n){"use strict";var r,i,a,o=n(92837),s=n(39218),u=n(4385),c=n(24305),l=n(17543),d=n(95028),f=n(23608),p=d("iterator"),h=!1;[].keys&&("next"in(a=[].keys())?(i=c(c(a)))!==Object.prototype&&(r=i):h=!0),void 0==r||o((function(){var e={};return r[p].call(e)!==e}))?r={}:f&&(r=u(r)),s(r[p])||l(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},29706:function(e){e.exports={}},23385:function(e,t,n){var r=n(62347);e.exports=function(e){return r(e.length)}},32557:function(e,t,n){var r=n(92837),i=n(39218),a=n(73013),o=n(31196),s=n(23211).CONFIGURABLE,u=n(88589),c=n(49671),l=c.enforce,d=c.get,f=Object.defineProperty,p=o&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),h=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||s&&e.name!==t)&&(o?f(e,"name",{value:t,configurable:!0}):e.name=t),p&&n&&a(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?o&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=l(e);return a(r,"source")||(r.source=h.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return i(this)&&d(this).source||u(this)}),"toString")},21246:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},24410:function(e,t,n){var r,i,a,o,s,u,c,l,d=n(6840),f=n(5851),p=n(32573).f,h=n(91625).set,m=n(63929),v=n(71070),g=n(81785),y=n(31653),b=d.MutationObserver||d.WebKitMutationObserver,w=d.document,k=d.process,x=d.Promise,_=p(d,"queueMicrotask"),S=_&&_.value;S||(r=function(){var e,t;for(y&&(e=k.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(n){throw i?o():a=void 0,n}}a=void 0,e&&e.enter()},m||y||g||!b||!w?!v&&x&&x.resolve?((c=x.resolve(void 0)).constructor=x,l=f(c.then,c),o=function(){l(r)}):y?o=function(){k.nextTick(r)}:(h=f(h,d),o=function(){h(r)}):(s=!0,u=w.createTextNode(""),new b(r).observe(u,{characterData:!0}),o=function(){u.data=s=!s})),e.exports=S||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},94390:function(e,t,n){var r=n(63991);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},63991:function(e,t,n){var r=n(65372),i=n(92837);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},81887:function(e,t,n){var r=n(92837),i=n(95028),a=n(23608),o=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},45242:function(e,t,n){var r=n(6840),i=n(39218),a=n(88589),o=r.WeakMap;e.exports=i(o)&&/native code/.test(a(o))},30246:function(e,t,n){"use strict";var r=n(66724),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},79693:function(e,t,n){var r=n(10670),i=TypeError;e.exports=function(e){if(r(e))throw i("The method doesn't accept regular expressions");return e}},52526:function(e,t,n){"use strict";var r=n(31196),i=n(74932),a=n(98513),o=n(92837),s=n(18084),u=n(60400),c=n(28306),l=n(28385),d=n(71036),f=Object.assign,p=Object.defineProperty,h=i([].concat);e.exports=!f||o((function(){if(r&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||s(f({},t)).join("")!=i}))?function(e,t){for(var n=l(e),i=arguments.length,o=1,f=u.f,p=c.f;i>o;)for(var m,v=d(arguments[o++]),g=f?h(s(v),f(v)):s(v),y=g.length,b=0;y>b;)m=g[b++],r&&!a(p,v,m)||(n[m]=v[m]);return n}:f},4385:function(e,t,n){var r,i=n(45884),a=n(61697),o=n(12080),s=n(56196),u=n(62012),c=n(90937),l=n(89378),d=l("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"</"+"script>"},h=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}m="undefined"!=typeof document?document.domain&&r?h(r):function(){var e,t=c("iframe");return t.style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F}():h(r);for(var e=o.length;e--;)delete m.prototype[o[e]];return m()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=i(e),n=new f,f.prototype=null,n[d]=e):n=m(),void 0===t?n:a.f(n,t)}},61697:function(e,t,n){var r=n(31196),i=n(26056),a=n(91592),o=n(45884),s=n(45770),u=n(18084);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),i=u(t),c=i.length,l=0;c>l;)a.f(e,n=i[l++],r[n]);return e}},91592:function(e,t,n){var r=n(31196),i=n(36707),a=n(26056),o=n(45884),s=n(54655),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=r?a?function(e,t,n){if(o(e),t=s(t),o(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n.writable){var r=l(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:f in n?n.configurable:r.configurable,enumerable:d in n?n.enumerable:r.enumerable,writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=s(t),o(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},32573:function(e,t,n){var r=n(31196),i=n(98513),a=n(28306),o=n(72037),s=n(45770),u=n(54655),c=n(73013),l=n(36707),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=u(t),l)try{return d(e,t)}catch(n){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},8910:function(e,t,n){var r=n(82933),i=n(45770),a=n(3772).f,o=n(43278),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return a(e)}catch(t){return o(s)}}(e):a(i(e))}},3772:function(e,t,n){var r=n(63080),i=n(12080).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},60400:function(e,t){t.f=Object.getOwnPropertySymbols},24305:function(e,t,n){var r=n(73013),i=n(39218),a=n(28385),o=n(89378),s=n(11586),u=o("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=a(e);if(r(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},86643:function(e,t,n){var r=n(92837),i=n(43931),a=n(82933),o=n(21531),s=Object.isExtensible,u=r((function(){s(1)}));e.exports=u||o?function(e){return!!i(e)&&((!o||"ArrayBuffer"!=a(e))&&(!s||s(e)))}:s},68946:function(e,t,n){var r=n(74932);e.exports=r({}.isPrototypeOf)},63080:function(e,t,n){var r=n(74932),i=n(73013),a=n(45770),o=n(70488).indexOf,s=n(56196),u=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~o(l,n)||u(l,n));return l}},18084:function(e,t,n){var r=n(63080),i=n(12080);e.exports=Object.keys||function(e){return r(e,i)}},28306:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},4381:function(e,t,n){var r=n(74932),i=n(45884),a=n(56299);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return i(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},19700:function(e,t,n){var r=n(31196),i=n(74932),a=n(18084),o=n(45770),s=i(n(28306).f),u=i([].push),c=function(e){return function(t){for(var n,i=o(t),c=a(i),l=c.length,d=0,f=[];l>d;)n=c[d++],r&&!s(i,n)||u(f,e?[n,i[n]]:i[n]);return f}};e.exports={entries:c(!0),values:c(!1)}},84289:function(e,t,n){"use strict";var r=n(56042),i=n(37205);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},67772:function(e,t,n){var r=n(98513),i=n(39218),a=n(43931),o=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!a(s=r(n,e)))return s;if(i(n=e.valueOf)&&!a(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!a(s=r(n,e)))return s;throw o("Can't convert object to primitive value")}},17273:function(e,t,n){var r=n(1240),i=n(74932),a=n(3772),o=n(60400),s=n(45884),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=o.f;return n?u(t,n(e)):t}},34750:function(e,t,n){var r=n(6840);e.exports=r},63752:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},77426:function(e,t,n){var r=n(6840),i=n(31),a=n(39218),o=n(96673),s=n(88589),u=n(95028),c=n(64163),l=n(46681),d=n(23608),f=n(65372),p=i&&i.prototype,h=u("species"),m=!1,v=a(r.PromiseRejectionEvent),g=o("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===f)return!0;if(d&&(!p.catch||!p.finally))return!0;if(!f||f<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[h]=r,!(m=n.then((function(){}))instanceof r))return!0}return!t&&(c||l)&&!v}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:m}},31:function(e,t,n){var r=n(6840);e.exports=r.Promise},86321:function(e,t,n){var r=n(45884),i=n(43931),a=n(30246);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},71321:function(e,t,n){var r=n(31),i=n(6225),a=n(77426).CONSTRUCTOR;e.exports=a||!i((function(e){r.all(e).then(void 0,(function(){}))}))},9033:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},22781:function(e,t,n){var r=n(98513),i=n(45884),a=n(39218),o=n(82933),s=n(94087),u=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var c=r(n,e,t);return null!==c&&i(c),c}if("RegExp"===o(e))return r(s,e,t);throw u("RegExp#exec called on incompatible receiver")}},94087:function(e,t,n){"use strict";var r=n(98513),i=n(74932),a=n(86124),o=n(67687),s=n(8596),u=n(91778),c=n(4385),l=n(49671).get,d=n(12047),f=n(32063),p=u("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,m=h,v=i("".charAt),g=i("".indexOf),y=i("".replace),b=i("".slice),w=function(){var e=/a/,t=/b*/g;return r(h,e,"a"),r(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),k=s.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(w||x||k||d||f)&&(m=function(e){var t,n,i,s,u,d,f,_=this,S=l(_),E=a(e),C=S.raw;if(C)return C.lastIndex=_.lastIndex,t=r(m,C,E),_.lastIndex=C.lastIndex,t;var T=S.groups,A=k&&_.sticky,O=r(o,_),R=_.source,I=0,N=E;if(A&&(O=y(O,"y",""),-1===g(O,"g")&&(O+="g"),N=b(E,_.lastIndex),_.lastIndex>0&&(!_.multiline||_.multiline&&"\n"!==v(E,_.lastIndex-1))&&(R="(?: "+R+")",N=" "+N,I++),n=new RegExp("^(?:"+R+")",O)),x&&(n=new RegExp("^"+R+"$(?!\\s)",O)),w&&(i=_.lastIndex),s=r(h,A?n:_,N),A?s?(s.input=b(s.input,I),s[0]=b(s[0],I),s.index=_.lastIndex,_.lastIndex+=s[0].length):_.lastIndex=0:w&&s&&(_.lastIndex=_.global?s.index+s[0].length:i),x&&s&&s.length>1&&r(p,s[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&T)for(s.groups=d=c(null),u=0;u<T.length;u++)d[(f=T[u])[0]]=s[f[1]];return s}),e.exports=m},67687:function(e,t,n){"use strict";var r=n(45884);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},97667:function(e,t,n){var r=n(98513),i=n(73013),a=n(68946),o=n(67687),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!a(s,e)?t:r(o,e)}},8596:function(e,t,n){var r=n(92837),i=n(6840).RegExp,a=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=a||r((function(){return!i("a","y").sticky})),s=a||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},12047:function(e,t,n){var r=n(92837),i=n(6840).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},32063:function(e,t,n){var r=n(92837),i=n(6840).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},2244:function(e){var t=TypeError;e.exports=function(e){if(void 0==e)throw t("Can't call method on "+e);return e}},58362:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},52267:function(e,t,n){"use strict";var r=n(1240),i=n(91592),a=n(95028),o=n(31196),s=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},53370:function(e,t,n){var r=n(91592).f,i=n(73013),a=n(95028)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,a)&&r(e,a,{configurable:!0,value:t})}},89378:function(e,t,n){var r=n(91778),i=n(24839),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},74460:function(e,t,n){var r=n(6840),i=n(19131),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},91778:function(e,t,n){var r=n(23608),i=n(74460);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.24.1",mode:r?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},917:function(e,t,n){var r=n(45884),i=n(10611),a=n(95028)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},18424:function(e,t,n){var r=n(74932),i=n(92128),a=n(86124),o=n(2244),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,d=a(o(t)),f=i(n),p=d.length;return f<0||f>=p?e?"":void 0:(r=u(d,f))<55296||r>56319||f+1===p||(l=u(d,f+1))<56320||l>57343?e?s(d,f):r:e?c(d,f,f+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},31649:function(e,t,n){"use strict";var r=n(74932),i=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",u=RangeError,c=r(o.exec),l=Math.floor,d=String.fromCharCode,f=r("".charCodeAt),p=r([].join),h=r([].push),m=r("".replace),v=r("".split),g=r("".toLowerCase),y=function(e){return e+22+75*(e<26)},b=function(e,t,n){var r=0;for(e=n?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),r+=36;return l(r+36*e/(e+38))},w=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=f(e,n++);if(i>=55296&&i<=56319&&n<r){var a=f(e,n++);56320==(64512&a)?h(t,((1023&i)<<10)+(1023&a)+65536):(h(t,i),n--)}else h(t,i)}return t}(e);var n,r,a=e.length,o=128,c=0,m=72;for(n=0;n<e.length;n++)(r=e[n])<128&&h(t,d(r));var v=t.length,g=v;for(v&&h(t,"-");g<a;){var w=i;for(n=0;n<e.length;n++)(r=e[n])>=o&&r<w&&(w=r);var k=g+1;if(w-o>l((i-c)/k))throw u(s);for(c+=(w-o)*k,o=w,n=0;n<e.length;n++){if((r=e[n])<o&&++c>i)throw u(s);if(r==o){for(var x=c,_=36;;){var S=_<=m?1:_>=m+26?26:_-m;if(x<S)break;var E=x-S,C=36-S;h(t,d(y(S+E%C))),x=l(E/C),_+=36}h(t,d(y(x))),m=b(c,k,g==v),c=0,g++}}c++,o++}return p(t,"")};e.exports=function(e){var t,n,r=[],i=v(m(g(e),o,"."),".");for(t=0;t<i.length;t++)n=i[t],h(r,c(a,n)?"xn--"+w(n):n);return p(r,".")}},56889:function(e,t,n){var r=n(74932),i=n(2244),a=n(86124),o=n(95450),s=r("".replace),u="["+o+"]",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),d=function(e){return function(t){var n=a(i(t));return 1&e&&(n=s(n,c,"")),2&e&&(n=s(n,l,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},32745:function(e,t,n){var r=n(98513),i=n(1240),a=n(95028),o=n(17543);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=a("toPrimitive");t&&!t[s]&&o(t,s,(function(e){return r(n,this)}),{arity:1})}},91625:function(e,t,n){var r,i,a,o,s=n(6840),u=n(86339),c=n(5851),l=n(39218),d=n(73013),f=n(92837),p=n(62012),h=n(15618),m=n(90937),v=n(34974),g=n(63929),y=n(31653),b=s.setImmediate,w=s.clearImmediate,k=s.process,x=s.Dispatch,_=s.Function,S=s.MessageChannel,E=s.String,C=0,T={},A="onreadystatechange";try{r=s.location}catch(P){}var O=function(e){if(d(T,e)){var t=T[e];delete T[e],t()}},R=function(e){return function(){O(e)}},I=function(e){O(e.data)},N=function(e){s.postMessage(E(e),r.protocol+"//"+r.host)};b&&w||(b=function(e){v(arguments.length,1);var t=l(e)?e:_(e),n=h(arguments,1);return T[++C]=function(){u(t,void 0,n)},i(C),C},w=function(e){delete T[e]},y?i=function(e){k.nextTick(R(e))}:x&&x.now?i=function(e){x.now(R(e))}:S&&!g?(o=(a=new S).port2,a.port1.onmessage=I,i=c(o.postMessage,o)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(N)?(i=N,s.addEventListener("message",I,!1)):i=A in m("script")?function(e){p.appendChild(m("script")).onreadystatechange=function(){p.removeChild(this),O(e)}}:function(e){setTimeout(R(e),0)}),e.exports={set:b,clear:w}},34748:function(e,t,n){var r=n(74932);e.exports=r(1..valueOf)},41823:function(e,t,n){var r=n(92128),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},69818:function(e,t,n){var r=n(66740),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},31143:function(e,t,n){var r=n(92128),i=n(62347),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw a("Wrong length or index");return n}},45770:function(e,t,n){var r=n(71036),i=n(2244);e.exports=function(e){return r(i(e))}},92128:function(e,t,n){var r=n(21246);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},62347:function(e,t,n){var r=n(92128),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},28385:function(e,t,n){var r=n(2244),i=Object;e.exports=function(e){return i(r(e))}},25303:function(e,t,n){var r=n(8718),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw i("Wrong offset");return n}},8718:function(e,t,n){var r=n(92128),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw i("The argument can't be less than 0");return t}},66740:function(e,t,n){var r=n(98513),i=n(43931),a=n(28287),o=n(23863),s=n(67772),u=n(95028),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,u=o(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},54655:function(e,t,n){var r=n(66740),i=n(28287);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},56042:function(e,t,n){var r={};r[n(95028)("toStringTag")]="z",e.exports="[object z]"===String(r)},86124:function(e,t,n){var r=n(37205),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},81772:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},2859:function(e,t,n){"use strict";var r=n(67768),i=n(6840),a=n(98513),o=n(31196),s=n(36255),u=n(93866),c=n(40865),l=n(14817),d=n(72037),f=n(63873),p=n(57724),h=n(62347),m=n(31143),v=n(25303),g=n(54655),y=n(73013),b=n(37205),w=n(43931),k=n(28287),x=n(4385),_=n(68946),S=n(4381),E=n(3772).f,C=n(44137),T=n(5880).forEach,A=n(52267),O=n(91592),R=n(32573),I=n(49671),N=n(21527),P=I.get,M=I.set,L=I.enforce,D=O.f,F=R.f,B=Math.round,j=i.RangeError,Z=c.ArrayBuffer,V=Z.prototype,U=c.DataView,W=u.NATIVE_ARRAY_BUFFER_VIEWS,H=u.TYPED_ARRAY_TAG,z=u.TypedArray,G=u.TypedArrayPrototype,q=u.aTypedArrayConstructor,K=u.isTypedArray,Y="BYTES_PER_ELEMENT",X="Wrong length",Q=function(e,t){q(e);for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},J=function(e,t){D(e,t,{get:function(){return P(this)[t]}})},$=function(e){var t;return _(V,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ee=function(e,t){return K(e)&&!k(t)&&t in e&&p(+t)&&t>=0},te=function(e,t){return t=g(t),ee(e,t)?d(2,e[t]):F(e,t)},ne=function(e,t,n){return t=g(t),!(ee(e,t)&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?D(e,t,n):(e[t]=n.value,e)};o?(W||(R.f=te,O.f=ne,J(G,"buffer"),J(G,"byteOffset"),J(G,"byteLength"),J(G,"length")),r({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,u=e+(n?"Clamped":"")+"Array",c="get"+e,d="set"+e,p=i[u],g=p,y=g&&g.prototype,b={},k=function(e,t){D(e,t,{get:function(){return function(e,t){var n=P(e);return n.view[c](t*o+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=P(e);n&&(r=(r=B(r))<0?0:r>255?255:255&r),i.view[d](t*o+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};W?s&&(g=t((function(e,t,n,r){return l(e,y),N(w(t)?$(t)?void 0!==r?new p(t,v(n,o),r):void 0!==n?new p(t,v(n,o)):new p(t):K(t)?Q(g,t):a(C,g,t):new p(m(t)),e,g)})),S&&S(g,z),T(E(p),(function(e){e in g||f(g,e,p[e])})),g.prototype=y):(g=t((function(e,t,n,r){l(e,y);var i,s,u,c=0,d=0;if(w(t)){if(!$(t))return K(t)?Q(g,t):a(C,g,t);i=t,d=v(n,o);var f=t.byteLength;if(void 0===r){if(f%o)throw j(X);if((s=f-d)<0)throw j(X)}else if((s=h(r)*o)+d>f)throw j(X);u=s/o}else u=m(t),i=new Z(s=u*o);for(M(e,{buffer:i,byteOffset:d,byteLength:s,length:u,view:new U(i)});c<u;)k(e,c++)})),S&&S(g,z),y=g.prototype=x(G)),y.constructor!==g&&f(y,"constructor",g),L(y).TypedArrayConstructor=g,H&&f(y,H,u);var _=g!=p;b[u]=g,r({global:!0,constructor:!0,forced:_,sham:!W},b),Y in g||f(g,Y,o),Y in y||f(y,Y,o),A(u)}):e.exports=function(){}},36255:function(e,t,n){var r=n(6840),i=n(92837),a=n(6225),o=n(93866).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},53702:function(e,t,n){var r=n(11793),i=n(87349);e.exports=function(e,t){return r(i(e),t)}},44137:function(e,t,n){var r=n(5851),i=n(98513),a=n(10611),o=n(28385),s=n(23385),u=n(78131),c=n(40443),l=n(38205),d=n(93866).aTypedArrayConstructor;e.exports=function(e){var t,n,f,p,h,m,v=a(this),g=o(e),y=arguments.length,b=y>1?arguments[1]:void 0,w=void 0!==b,k=c(g);if(k&&!l(k))for(m=(h=u(g,k)).next,g=[];!(p=i(m,h)).done;)g.push(p.value);for(w&&y>2&&(b=r(b,arguments[2])),n=s(g),f=new(d(v))(n),t=0;n>t;t++)f[t]=w?b(g[t],t):g[t];return f}},87349:function(e,t,n){var r=n(93866),i=n(917),a=r.aTypedArrayConstructor,o=r.getTypedArrayConstructor;e.exports=function(e){return a(i(e,o(e)))}},24839:function(e,t,n){var r=n(74932),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},47611:function(e,t,n){var r=n(63991);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},26056:function(e,t,n){var r=n(31196),i=n(92837);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},34974:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},21384:function(e,t,n){var r=n(95028);t.f=r},95028:function(e,t,n){var r=n(6840),i=n(91778),a=n(73013),o=n(24839),s=n(63991),u=n(47611),c=i("wks"),l=r.Symbol,d=l&&l.for,f=u?l:l&&l.withoutSetter||o;e.exports=function(e){if(!a(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&a(l,e)?c[e]=l[e]:c[e]=u&&d?d(t):f(t)}return c[e]}},95450:function(e){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},4778:function(e,t,n){"use strict";var r=n(67768),i=n(92837),a=n(51941),o=n(43931),s=n(28385),u=n(23385),c=n(96117),l=n(13055),d=n(95491),f=n(81379),p=n(95028),h=n(65372),m=p("isConcatSpreadable"),v=h>=51||!i((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=f("concat"),y=function(e){if(!o(e))return!1;var t=e[m];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,arity:1,forced:!v||!g},{concat:function(e){var t,n,r,i,a,o=s(this),f=d(o,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(y(a=-1===t?o:arguments[t]))for(i=u(a),c(p+i),n=0;n<i;n++,p++)n in a&&l(f,p,a[n]);else c(p+1),l(f,p++,a);return f.length=p,f}})},33858:function(e,t,n){"use strict";var r=n(67768),i=n(5880).filter;r({target:"Array",proto:!0,forced:!n(81379)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},55269:function(e,t,n){"use strict";var r=n(67768),i=n(5880).find,a=n(35715),o="find",s=!0;o in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},89104:function(e,t,n){var r=n(67768),i=n(22422);r({target:"Array",stat:!0,forced:!n(6225)((function(e){Array.from(e)}))},{from:i})},68225:function(e,t,n){"use strict";var r=n(67768),i=n(70488).includes,a=n(92837),o=n(35715);r({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},18887:function(e,t,n){"use strict";var r=n(45770),i=n(35715),a=n(29706),o=n(49671),s=n(91592).f,u=n(32170),c=n(23608),l=n(31196),d="Array Iterator",f=o.set,p=o.getterFor(d);e.exports=u(Array,"Array",(function(e,t){f(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var h=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!c&&l&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(m){}},32463:function(e,t,n){"use strict";var r=n(67768),i=n(5880).map;r({target:"Array",proto:!0,forced:!n(81379)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2603:function(e,t,n){"use strict";var r=n(67768),i=n(94512).left,a=n(92241),o=n(65372),s=n(31653);r({target:"Array",proto:!0,forced:!a("reduce")||!s&&o>79&&o<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},49258:function(e,t,n){"use strict";var r=n(67768),i=n(51941),a=n(51219),o=n(43931),s=n(41823),u=n(23385),c=n(45770),l=n(13055),d=n(95028),f=n(81379),p=n(15618),h=f("slice"),m=d("species"),v=Array,g=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,d,f=c(this),h=u(f),y=s(e,h),b=s(void 0===t?h:t,h);if(i(f)&&(n=f.constructor,(a(n)&&(n===v||i(n.prototype))||o(n)&&null===(n=n[m]))&&(n=void 0),n===v||void 0===n))return p(f,y,b);for(r=new(void 0===n?v:n)(g(b-y,0)),d=0;y<b;y++,d++)y in f&&l(r,d,f[y]);return r.length=d,r}})},78493:function(e,t,n){"use strict";var r=n(67768),i=n(74932),a=n(66724),o=n(28385),s=n(23385),u=n(87820),c=n(86124),l=n(92837),d=n(47732),f=n(92241),p=n(58336),h=n(64891),m=n(65372),v=n(24469),g=[],y=i(g.sort),b=i(g.push),w=l((function(){g.sort(void 0)})),k=l((function(){g.sort(null)})),x=f("sort"),_=!l((function(){if(m)return m<70;if(!(p&&p>3)){if(h)return!0;if(v)return v<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:w||!k||!x||!_},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(_)return void 0===e?y(t):y(t,e);var n,r,i=[],l=s(t);for(r=0;r<l;r++)r in t&&b(i,t[r]);for(d(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=i.length,r=0;r<n;)t[r]=i[r++];for(;r<l;)u(t,r++);return t}})},45327:function(e,t,n){"use strict";var r=n(67768),i=n(28385),a=n(41823),o=n(92128),s=n(23385),u=n(96117),c=n(95491),l=n(13055),d=n(87820),f=n(81379)("splice"),p=Math.max,h=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,f,m,v,g,y=i(this),b=s(y),w=a(e,b),k=arguments.length;for(0===k?n=r=0:1===k?(n=0,r=b-w):(n=k-2,r=h(p(o(t),0),b-w)),u(b+n-r),f=c(y,r),m=0;m<r;m++)(v=w+m)in y&&l(f,m,y[v]);if(f.length=r,n<r){for(m=w;m<b-r;m++)g=m+n,(v=m+r)in y?y[g]=y[v]:d(y,g);for(m=b;m>b-r+n;m--)d(y,m-1)}else if(n>r)for(m=b-r;m>w;m--)g=m+n-1,(v=m+r-1)in y?y[g]=y[v]:d(y,g);for(m=0;m<n;m++)y[m+w]=arguments[m+2];return y.length=b-r+n,f}})},8344:function(e,t,n){var r=n(67768),i=n(1240),a=n(86339),o=n(98513),s=n(74932),u=n(92837),c=n(51941),l=n(39218),d=n(43931),f=n(28287),p=n(15618),h=n(63991),m=i("JSON","stringify"),v=s(/./.exec),g=s("".charAt),y=s("".charCodeAt),b=s("".replace),w=s(1..toString),k=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,S=!h||u((function(){var e=i("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),E=u((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),C=function(e,t){var n=p(arguments),r=t;if((d(t)||void 0!==e)&&!f(e))return c(t)||(t=function(e,t){if(l(r)&&(t=o(r,this,e,t)),!f(t))return t}),n[1]=t,a(m,null,n)},T=function(e,t,n){var r=g(n,t-1),i=g(n,t+1);return v(x,e)&&!v(_,i)||v(_,e)&&!v(x,r)?"\\u"+w(y(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:S||E},{stringify:function(e,t,n){var r=p(arguments),i=a(S?C:m,null,r);return E&&"string"==typeof i?b(i,k,T):i}})},41132:function(e,t,n){"use strict";n(93309)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(13425))},45742:function(e,t,n){n(41132)},30974:function(e,t,n){"use strict";var r=n(31196),i=n(6840),a=n(74932),o=n(96673),s=n(17543),u=n(73013),c=n(21527),l=n(68946),d=n(28287),f=n(66740),p=n(92837),h=n(3772).f,m=n(32573).f,v=n(91592).f,g=n(34748),y=n(56889).trim,b="Number",w=i.Number,k=w.prototype,x=i.TypeError,_=a("".slice),S=a("".charCodeAt),E=function(e){var t=f(e,"number");return"bigint"==typeof t?t:C(t)},C=function(e){var t,n,r,i,a,o,s,u,c=f(e,"number");if(d(c))throw x("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=y(c),43===(t=S(c,0))||45===t){if(88===(n=S(c,2))||120===n)return NaN}else if(48===t){switch(S(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(a=_(c,2)).length,s=0;s<o;s++)if((u=S(a,s))<48||u>i)return NaN;return parseInt(a,r)}return+c};if(o(b,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var T,A=function(e){var t=arguments.length<1?0:w(E(e)),n=this;return l(k,n)&&p((function(){g(n)}))?c(Object(t),n,A):t},O=r?h(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),R=0;O.length>R;R++)u(w,T=O[R])&&!u(A,T)&&v(A,T,m(w,T));A.prototype=k,k.constructor=A,s(i,b,A,{constructor:!0})}},44105:function(e,t,n){n(67768)({target:"Number",stat:!0},{isInteger:n(57724)})},83265:function(e,t,n){var r=n(67768),i=n(52526);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},99238:function(e,t,n){var r=n(67768),i=n(19700).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},87264:function(e,t,n){var r=n(67768),i=n(92837),a=n(45770),o=n(32573).f,s=n(31196),u=i((function(){o(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},58894:function(e,t,n){var r=n(67768),i=n(31196),a=n(17273),o=n(45770),s=n(32573),u=n(13055);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),i=s.f,c=a(r),l={},d=0;c.length>d;)void 0!==(n=i(r,t=c[d++]))&&u(l,t,n);return l}})},91565:function(e,t,n){var r=n(67768),i=n(63991),a=n(92837),o=n(60400),s=n(28385);r({target:"Object",stat:!0,forced:!i||a((function(){o.f(1)}))},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(s(e)):[]}})},65084:function(e,t,n){var r=n(67768),i=n(28385),a=n(18084);r({target:"Object",stat:!0,forced:n(92837)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},65202:function(e,t,n){var r=n(56042),i=n(17543),a=n(84289);r||i(Object.prototype,"toString",a,{unsafe:!0})},57506:function(e,t,n){"use strict";var r=n(67768),i=n(98513),a=n(66724),o=n(30246),s=n(63752),u=n(54439);r({target:"Promise",stat:!0,forced:n(71321)},{all:function(e){var t=this,n=o.f(t),r=n.resolve,c=n.reject,l=s((function(){var n=a(t.resolve),o=[],s=0,l=1;u(e,(function(e){var a=s++,u=!1;l++,i(n,t,e).then((function(e){u||(u=!0,o[a]=e,--l||r(o))}),c)})),--l||r(o)}));return l.error&&c(l.value),n.promise}})},90223:function(e,t,n){"use strict";var r=n(67768),i=n(23608),a=n(77426).CONSTRUCTOR,o=n(31),s=n(1240),u=n(39218),c=n(17543),l=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&u(o)){var d=s("Promise").prototype.catch;l.catch!==d&&c(l,"catch",d,{unsafe:!0})}},95072:function(e,t,n){"use strict";var r,i,a,o=n(67768),s=n(23608),u=n(31653),c=n(6840),l=n(98513),d=n(17543),f=n(4381),p=n(53370),h=n(52267),m=n(66724),v=n(39218),g=n(43931),y=n(14817),b=n(917),w=n(91625).set,k=n(24410),x=n(65995),_=n(63752),S=n(9033),E=n(49671),C=n(31),T=n(77426),A=n(30246),O="Promise",R=T.CONSTRUCTOR,I=T.REJECTION_EVENT,N=T.SUBCLASSING,P=E.getterFor(O),M=E.set,L=C&&C.prototype,D=C,F=L,B=c.TypeError,j=c.document,Z=c.process,V=A.f,U=V,W=!!(j&&j.createEvent&&c.dispatchEvent),H="unhandledrejection",z=function(e){var t;return!(!g(e)||!v(t=e.then))&&t},G=function(e,t){var n,r,i,a=t.value,o=1==t.state,s=o?e.ok:e.fail,u=e.resolve,c=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&Q(t),t.rejection=1),!0===s?n=a:(d&&d.enter(),n=s(a),d&&(d.exit(),i=!0)),n===e.promise?c(B("Promise-chain cycle")):(r=z(n))?l(r,n,u,c):u(n)):c(a)}catch(f){d&&!i&&d.exit(),c(f)}},q=function(e,t){e.notified||(e.notified=!0,k((function(){for(var n,r=e.reactions;n=r.get();)G(n,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},K=function(e,t,n){var r,i;W?((r=j.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!I&&(i=c["on"+e])?i(r):e===H&&x("Unhandled promise rejection",n)},Y=function(e){l(w,c,(function(){var t,n=e.facade,r=e.value;if(X(e)&&(t=_((function(){u?Z.emit("unhandledRejection",r,n):K(H,n,r)})),e.rejection=u||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){l(w,c,(function(){var t=e.facade;u?Z.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},J=function(e,t,n){return function(r){e(t,r,n)}},$=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,q(e,!0))},ee=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw B("Promise can't be resolved itself");var i=z(n);i?k((function(){var r={done:!1};try{l(i,n,J(e,r,t),J($,r,t))}catch(a){$(r,a,t)}})):(t.value=n,t.state=1,q(t,!1))}catch(a){$({done:!1},a,t)}}};if(R&&(F=(D=function(e){y(this,F),m(e),l(r,this);var t=P(this);try{e(J(ee,t),J($,t))}catch(n){$(t,n)}}).prototype,(r=function(e){M(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:void 0})}).prototype=d(F,"then",(function(e,t){var n=P(this),r=V(b(this,D));return n.parent=!0,r.ok=!v(e)||e,r.fail=v(t)&&t,r.domain=u?Z.domain:void 0,0==n.state?n.reactions.add(r):k((function(){G(r,n)})),r.promise})),i=function(){var e=new r,t=P(e);this.promise=e,this.resolve=J(ee,t),this.reject=J($,t)},A.f=V=function(e){return e===D||undefined===e?new i(e):U(e)},!s&&v(C)&&L!==Object.prototype)){a=L.then,N||d(L,"then",(function(e,t){var n=this;return new D((function(e,t){l(a,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(te){}f&&f(L,F)}o({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:D}),p(D,O,!1,!0),h(O)},67675:function(e,t,n){n(95072),n(57506),n(90223),n(46522),n(38001),n(7510)},46522:function(e,t,n){"use strict";var r=n(67768),i=n(98513),a=n(66724),o=n(30246),s=n(63752),u=n(54439);r({target:"Promise",stat:!0,forced:n(71321)},{race:function(e){var t=this,n=o.f(t),r=n.reject,c=s((function(){var o=a(t.resolve);u(e,(function(e){i(o,t,e).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},38001:function(e,t,n){"use strict";var r=n(67768),i=n(98513),a=n(30246);r({target:"Promise",stat:!0,forced:n(77426).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return i(t.reject,void 0,e),t.promise}})},7510:function(e,t,n){"use strict";var r=n(67768),i=n(1240),a=n(23608),o=n(31),s=n(77426).CONSTRUCTOR,u=n(86321),c=i("Promise"),l=a&&!s;r({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return u(l&&this===c?o:this,e)}})},44584:function(e,t,n){var r=n(67768),i=n(1240),a=n(86339),o=n(66448),s=n(10611),u=n(45884),c=n(43931),l=n(4385),d=n(92837),f=i("Reflect","construct"),p=Object.prototype,h=[].push,m=d((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),v=!d((function(){f((function(){}))})),g=m||v;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){s(e),u(t);var n=arguments.length<3?e:s(arguments[2]);if(v&&!m)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return a(h,r,t),new(a(o,e,r))}var i=n.prototype,d=l(c(i)?i:p),g=a(e,d,t);return c(g)?g:d}})},20447:function(e,t,n){"use strict";var r=n(67768),i=n(94087);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},84208:function(e,t,n){"use strict";var r=n(23211).PROPER,i=n(17543),a=n(45884),o=n(86124),s=n(92837),u=n(97667),c="toString",l=RegExp.prototype.toString,d=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=r&&l.name!=c;(d||f)&&i(RegExp.prototype,c,(function(){var e=a(this);return"/"+o(e.source)+"/"+o(u(e))}),{unsafe:!0})},95012:function(e,t,n){"use strict";n(93309)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(13425))},36669:function(e,t,n){n(95012)},54121:function(e,t,n){"use strict";var r=n(67768),i=n(74932),a=n(79693),o=n(2244),s=n(86124),u=n(2525),c=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(s(o(this)),s(a(e)),arguments.length>1?arguments[1]:void 0)}})},59147:function(e,t,n){"use strict";var r=n(18424).charAt,i=n(86124),a=n(49671),o=n(32170),s="String Iterator",u=a.set,c=a.getterFor(s);o(String,"String",(function(e){u(this,{type:s,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},86245:function(e,t,n){"use strict";var r=n(98513),i=n(58093),a=n(45884),o=n(62347),s=n(86124),u=n(2244),c=n(23863),l=n(35466),d=n(22781);i("match",(function(e,t,n){return[function(t){var n=u(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](s(n))},function(e){var r=a(this),i=s(e),u=n(t,r,i);if(u.done)return u.value;if(!r.global)return d(r,i);var c=r.unicode;r.lastIndex=0;for(var f,p=[],h=0;null!==(f=d(r,i));){var m=s(f[0]);p[h]=m,""===m&&(r.lastIndex=l(i,o(r.lastIndex),c)),h++}return 0===h?null:p}]}))},54178:function(e,t,n){"use strict";var r=n(86339),i=n(98513),a=n(74932),o=n(58093),s=n(92837),u=n(45884),c=n(39218),l=n(92128),d=n(62347),f=n(86124),p=n(2244),h=n(35466),m=n(23863),v=n(17794),g=n(22781),y=n(95028)("replace"),b=Math.max,w=Math.min,k=a([].concat),x=a([].push),_=a("".indexOf),S=a("".slice),E="$0"==="a".replace(/./,"$0"),C=!!/./[y]&&""===/./[y]("a","$0");o("replace",(function(e,t,n){var a=C?"$":"$0";return[function(e,n){var r=p(this),a=void 0==e?void 0:m(e,y);return a?i(a,e,r,n):i(t,f(r),e,n)},function(e,i){var o=u(this),s=f(e);if("string"==typeof i&&-1===_(i,a)&&-1===_(i,"$<")){var p=n(t,o,s,i);if(p.done)return p.value}var m=c(i);m||(i=f(i));var y=o.global;if(y){var E=o.unicode;o.lastIndex=0}for(var C=[];;){var T=g(o,s);if(null===T)break;if(x(C,T),!y)break;""===f(T[0])&&(o.lastIndex=h(s,d(o.lastIndex),E))}for(var A,O="",R=0,I=0;I<C.length;I++){for(var N=f((T=C[I])[0]),P=b(w(l(T.index),s.length),0),M=[],L=1;L<T.length;L++)x(M,void 0===(A=T[L])?A:String(A));var D=T.groups;if(m){var F=k([N],M,P,s);void 0!==D&&x(F,D);var B=f(r(i,void 0,F))}else B=v(N,s,P,M,D,i);P>=R&&(O+=S(s,R,P)+B,R=P+N.length)}return O+S(s,R)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!E||C)},9994:function(e,t,n){"use strict";var r=n(98513),i=n(58093),a=n(45884),o=n(2244),s=n(58362),u=n(86124),c=n(23863),l=n(22781);i("search",(function(e,t,n){return[function(t){var n=o(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](u(n))},function(e){var r=a(this),i=u(e),o=n(t,r,i);if(o.done)return o.value;var c=r.lastIndex;s(c,0)||(r.lastIndex=0);var d=l(r,i);return s(r.lastIndex,c)||(r.lastIndex=c),null===d?-1:d.index}]}))},52872:function(e,t,n){"use strict";var r=n(86339),i=n(98513),a=n(74932),o=n(58093),s=n(10670),u=n(45884),c=n(2244),l=n(917),d=n(35466),f=n(62347),p=n(86124),h=n(23863),m=n(43278),v=n(22781),g=n(94087),y=n(8596),b=n(92837),w=y.UNSUPPORTED_Y,k=4294967295,x=Math.min,_=[].push,S=a(/./.exec),E=a(_),C=a("".slice),T=!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));o("split",(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=p(c(this)),o=void 0===n?k:n>>>0;if(0===o)return[];if(void 0===e)return[a];if(!s(e))return i(t,a,e,o);for(var u,l,d,f=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,y=new RegExp(e.source,h+"g");(u=i(g,y,a))&&!((l=y.lastIndex)>v&&(E(f,C(a,v,u.index)),u.length>1&&u.index<a.length&&r(_,f,m(u,1)),d=u[0].length,v=l,f.length>=o));)y.lastIndex===u.index&&y.lastIndex++;return v===a.length?!d&&S(y,"")||E(f,""):E(f,C(a,v)),f.length>o?m(f,0,o):f}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=c(this),o=void 0==t?void 0:h(t,e);return o?i(o,t,r,n):i(a,p(r),t,n)},function(e,r){var i=u(this),o=p(e),s=n(a,i,o,r,a!==t);if(s.done)return s.value;var c=l(i,RegExp),h=i.unicode,m=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(w?"g":"y"),g=new c(w?"^(?:"+i.source+")":i,m),y=void 0===r?k:r>>>0;if(0===y)return[];if(0===o.length)return null===v(g,o)?[o]:[];for(var b=0,_=0,S=[];_<o.length;){g.lastIndex=w?0:_;var T,A=v(g,w?C(o,_):o);if(null===A||(T=x(f(g.lastIndex+(w?_:0)),o.length))===b)_=d(o,_,h);else{if(E(S,C(o,b,_)),S.length===y)return S;for(var O=1;O<=A.length-1;O++)if(E(S,A[O]),S.length===y)return S;_=b=T}}return E(S,C(o,b)),S}]}),!T,w)},50288:function(e,t,n){"use strict";var r=n(67768),i=n(74932),a=n(32573).f,o=n(62347),s=n(86124),u=n(79693),c=n(2244),l=n(2525),d=n(23608),f=i("".startsWith),p=i("".slice),h=Math.min,m=l("startsWith");r({target:"String",proto:!0,forced:!(!d&&!m&&!!function(){var e=a(String.prototype,"startsWith");return e&&!e.writable}())&&!m},{startsWith:function(e){var t=s(c(this));u(e);var n=o(h(arguments.length>1?arguments[1]:void 0,t.length)),r=s(e);return f?f(t,r,n):p(t,n,n+r.length)===r}})},7550:function(e,t,n){"use strict";var r=n(67768),i=n(6840),a=n(98513),o=n(74932),s=n(23608),u=n(31196),c=n(63991),l=n(92837),d=n(73013),f=n(68946),p=n(45884),h=n(45770),m=n(54655),v=n(86124),g=n(72037),y=n(4385),b=n(18084),w=n(3772),k=n(8910),x=n(60400),_=n(32573),S=n(91592),E=n(61697),C=n(28306),T=n(17543),A=n(91778),O=n(89378),R=n(56196),I=n(24839),N=n(95028),P=n(21384),M=n(84418),L=n(32745),D=n(53370),F=n(49671),B=n(5880).forEach,j=O("hidden"),Z="Symbol",V=F.set,U=F.getterFor(Z),W=Object.prototype,H=i.Symbol,z=H&&H.prototype,G=i.TypeError,q=i.QObject,K=_.f,Y=S.f,X=k.f,Q=C.f,J=o([].push),$=A("symbols"),ee=A("op-symbols"),te=A("wks"),ne=!q||!q.prototype||!q.prototype.findChild,re=u&&l((function(){return 7!=y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=K(W,t);r&&delete W[t],Y(e,t,n),r&&e!==W&&Y(W,t,r)}:Y,ie=function(e,t){var n=$[e]=y(z);return V(n,{type:Z,tag:e,description:t}),u||(n.description=t),n},ae=function(e,t,n){e===W&&ae(ee,t,n),p(e);var r=m(t);return p(n),d($,r)?(n.enumerable?(d(e,j)&&e[j][r]&&(e[j][r]=!1),n=y(n,{enumerable:g(0,!1)})):(d(e,j)||Y(e,j,g(1,{})),e[j][r]=!0),re(e,r,n)):Y(e,r,n)},oe=function(e,t){p(e);var n=h(t),r=b(n).concat(le(n));return B(r,(function(t){u&&!a(se,n,t)||ae(e,t,n[t])})),e},se=function(e){var t=m(e),n=a(Q,this,t);return!(this===W&&d($,t)&&!d(ee,t))&&(!(n||!d(this,t)||!d($,t)||d(this,j)&&this[j][t])||n)},ue=function(e,t){var n=h(e),r=m(t);if(n!==W||!d($,r)||d(ee,r)){var i=K(n,r);return!i||!d($,r)||d(n,j)&&n[j][r]||(i.enumerable=!0),i}},ce=function(e){var t=X(h(e)),n=[];return B(t,(function(e){d($,e)||d(R,e)||J(n,e)})),n},le=function(e){var t=e===W,n=X(t?ee:h(e)),r=[];return B(n,(function(e){!d($,e)||t&&!d(W,e)||J(r,$[e])})),r};c||(H=function(){if(f(z,this))throw G("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=I(e),n=function e(n){this===W&&a(e,ee,n),d(this,j)&&d(this[j],t)&&(this[j][t]=!1),re(this,t,g(1,n))};return u&&ne&&re(W,t,{configurable:!0,set:n}),ie(t,e)},T(z=H.prototype,"toString",(function(){return U(this).tag})),T(H,"withoutSetter",(function(e){return ie(I(e),e)})),C.f=se,S.f=ae,E.f=oe,_.f=ue,w.f=k.f=ce,x.f=le,P.f=function(e){return ie(N(e),e)},u&&(Y(z,"description",{configurable:!0,get:function(){return U(this).description}}),s||T(W,"propertyIsEnumerable",se,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),B(b(te),(function(e){M(e)})),r({target:Z,stat:!0,forced:!c},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(e,t){return void 0===t?y(e):oe(y(e),t)},defineProperty:ae,defineProperties:oe,getOwnPropertyDescriptor:ue}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ce}),L(),D(H,Z),R[j]=!0},4772:function(e,t,n){"use strict";var r=n(67768),i=n(31196),a=n(6840),o=n(74932),s=n(73013),u=n(39218),c=n(68946),l=n(86124),d=n(91592).f,f=n(90189),p=a.Symbol,h=p&&p.prototype;if(i&&u(p)&&(!("description"in h)||void 0!==p().description)){var m={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(h,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};f(v,p),v.prototype=h,h.constructor=v;var g="Symbol(test)"==String(p("test")),y=o(h.toString),b=o(h.valueOf),w=/^Symbol\((.*)\)[^)]+$/,k=o("".replace),x=o("".slice);d(h,"description",{configurable:!0,get:function(){var e=b(this),t=y(e);if(s(m,e))return"";var n=g?x(t,7,-1):k(t,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:v})}},50104:function(e,t,n){var r=n(67768),i=n(1240),a=n(73013),o=n(86124),s=n(91778),u=n(94390),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=o(e);if(a(c,t))return c[t];var n=i("Symbol")(t);return c[t]=n,l[n]=t,n}})},85625:function(e,t,n){n(84418)("iterator")},18116:function(e,t,n){n(7550),n(50104),n(57649),n(8344),n(91565)},57649:function(e,t,n){var r=n(67768),i=n(73013),a=n(28287),o=n(81772),s=n(91778),u=n(94390),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(e){if(!a(e))throw TypeError(o(e)+" is not a symbol");if(i(c,e))return c[e]}})},55790:function(e,t,n){"use strict";var r=n(74932),i=n(93866),a=r(n(54739)),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return a(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},56678:function(e,t,n){"use strict";var r=n(93866),i=n(5880).every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},74847:function(e,t,n){"use strict";var r=n(93866),i=n(56012),a=n(69818),o=n(37205),s=n(98513),u=n(74932),c=n(92837),l=r.aTypedArray,d=r.exportTypedArrayMethod,f=u("".slice);d("fill",(function(e){var t=arguments.length;l(this);var n="Big"===f(o(this),0,3)?a(e):+e;return s(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},48884:function(e,t,n){"use strict";var r=n(93866),i=n(5880).filter,a=n(53702),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},15669:function(e,t,n){"use strict";var r=n(93866),i=n(5880).findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},67582:function(e,t,n){"use strict";var r=n(93866),i=n(5880).find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},40014:function(e,t,n){"use strict";var r=n(93866),i=n(5880).forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},45927:function(e,t,n){"use strict";var r=n(93866),i=n(70488).includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},78850:function(e,t,n){"use strict";var r=n(93866),i=n(70488).indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},697:function(e,t,n){"use strict";var r=n(6840),i=n(92837),a=n(74932),o=n(93866),s=n(18887),u=n(95028)("iterator"),c=r.Uint8Array,l=a(s.values),d=a(s.keys),f=a(s.entries),p=o.aTypedArray,h=o.exportTypedArrayMethod,m=c&&c.prototype,v=!i((function(){m[u].call([1])})),g=!!m&&m.values&&m[u]===m.values&&"values"===m.values.name,y=function(){return l(p(this))};h("entries",(function(){return f(p(this))}),v),h("keys",(function(){return d(p(this))}),v),h("values",y,v||!g,{name:"values"}),h(u,y,v||!g,{name:"values"})},53517:function(e,t,n){"use strict";var r=n(93866),i=n(74932),a=r.aTypedArray,o=r.exportTypedArrayMethod,s=i([].join);o("join",(function(e){return s(a(this),e)}))},68591:function(e,t,n){"use strict";var r=n(93866),i=n(86339),a=n(2561),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(a,o(this),t>1?[e,arguments[1]]:[e])}))},44516:function(e,t,n){"use strict";var r=n(93866),i=n(5880).map,a=n(87349),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},5977:function(e,t,n){"use strict";var r=n(93866),i=n(94512).right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},51937:function(e,t,n){"use strict";var r=n(93866),i=n(94512).left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},71283:function(e,t,n){"use strict";var r=n(93866),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var e,t=this,n=i(t).length,r=o(n/2),a=0;a<r;)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},86332:function(e,t,n){"use strict";var r=n(6840),i=n(98513),a=n(93866),o=n(23385),s=n(25303),u=n(28385),c=n(92837),l=r.RangeError,d=r.Int8Array,f=d&&d.prototype,p=f&&f.set,h=a.aTypedArray,m=a.exportTypedArrayMethod,v=!c((function(){var e=new Uint8ClampedArray(2);return i(p,e,{length:1,0:3},1),3!==e[1]})),g=v&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){h(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=u(e);if(v)return i(p,this,n,t);var r=this.length,a=o(n),c=0;if(a+t>r)throw l("Wrong length");for(;c<a;)this[t+c]=n[c++]}),!v||g)},32040:function(e,t,n){"use strict";var r=n(93866),i=n(87349),a=n(92837),o=n(15618),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var n=o(s(this),e,t),r=i(this),a=0,u=n.length,c=new r(u);u>a;)c[a]=n[a++];return c}),a((function(){new Int8Array(1).slice()})))},20718:function(e,t,n){"use strict";var r=n(93866),i=n(5880).some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},54777:function(e,t,n){"use strict";var r=n(6840),i=n(74932),a=n(92837),o=n(66724),s=n(47732),u=n(93866),c=n(58336),l=n(64891),d=n(65372),f=n(24469),p=u.aTypedArray,h=u.exportTypedArrayMethod,m=r.Uint16Array,v=m&&i(m.prototype.sort),g=!!v&&!(a((function(){v(new m(2),null)}))&&a((function(){v(new m(2),{})}))),y=!!v&&!a((function(){if(d)return d<74;if(c)return c<67;if(l)return!0;if(f)return f<602;var e,t,n=new m(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(v(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));h("sort",(function(e){return void 0!==e&&o(e),y?v(this,e):s(p(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!y||g)},31447:function(e,t,n){"use strict";var r=n(6840),i=n(86339),a=n(93866),o=n(92837),s=n(15618),u=r.Int8Array,c=a.aTypedArray,l=a.exportTypedArrayMethod,d=[].toLocaleString,f=!!u&&o((function(){d.call(new u(1))}));l("toLocaleString",(function(){return i(d,f?s(c(this)):c(this),s(arguments))}),o((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!o((function(){u.prototype.toLocaleString.call([1,2])})))},44319:function(e,t,n){"use strict";var r=n(93866).exportTypedArrayMethod,i=n(92837),a=n(6840),o=n(74932),s=a.Uint8Array,u=s&&s.prototype||{},c=[].toString,l=o([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var d=u.toString!=c;r("toString",c,d)},73966:function(e,t,n){n(2859)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},22583:function(e,t,n){var r=n(6840),i=n(50650),a=n(22752),o=n(48129),s=n(63873),u=function(e){if(e&&e.forEach!==o)try{s(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in i)i[c]&&u(r[c]&&r[c].prototype);u(a)},81740:function(e,t,n){var r=n(6840),i=n(50650),a=n(22752),o=n(18887),s=n(63873),u=n(95028),c=u("iterator"),l=u("toStringTag"),d=o.values,f=function(e,t){if(e){if(e[c]!==d)try{s(e,c,d)}catch(r){e[c]=d}if(e[l]||s(e,l,t),i[t])for(var n in o)if(e[n]!==o[n])try{s(e,n,o[n])}catch(r){e[n]=o[n]}}};for(var p in i)f(r[p]&&r[p].prototype,p);f(a,"DOMTokenList")},21477:function(e,t,n){"use strict";n(18887);var r=n(67768),i=n(6840),a=n(98513),o=n(74932),s=n(31196),u=n(81887),c=n(17543),l=n(7544),d=n(53370),f=n(41949),p=n(49671),h=n(14817),m=n(39218),v=n(73013),g=n(5851),y=n(37205),b=n(45884),w=n(43931),k=n(86124),x=n(4385),_=n(72037),S=n(78131),E=n(40443),C=n(34974),T=n(95028),A=n(47732),O=T("iterator"),R="URLSearchParams",I="URLSearchParamsIterator",N=p.set,P=p.getterFor(R),M=p.getterFor(I),L=Object.getOwnPropertyDescriptor,D=function(e){if(!s)return i[e];var t=L(i,e);return t&&t.value},F=D("fetch"),B=D("Request"),j=D("Headers"),Z=B&&B.prototype,V=j&&j.prototype,U=i.RegExp,W=i.TypeError,H=i.decodeURIComponent,z=i.encodeURIComponent,G=o("".charAt),q=o([].join),K=o([].push),Y=o("".replace),X=o([].shift),Q=o([].splice),J=o("".split),$=o("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=U("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return H(e)}catch(t){return e}},ie=function(e){var t=Y(e,ee," "),n=4;try{return H(t)}catch(r){for(;n;)t=Y(t,ne(n--),re);return t}},ae=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return oe[e]},ue=function(e){return Y(z(e),ae,se)},ce=f((function(e,t){N(this,{type:I,iterator:S(P(e).entries),kind:t})}),"Iterator",(function(){var e=M(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===G(e,0)?$(e,1):e:k(e)))};le.prototype={type:R,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,s,u,c=E(e);if(c)for(n=(t=S(e,c)).next;!(r=a(n,t)).done;){if(o=(i=S(b(r.value))).next,(s=a(o,i)).done||(u=a(o,i)).done||!a(o,i).done)throw W("Expected sequence with length 2");K(this.entries,{key:k(s.value),value:k(u.value)})}else for(var l in e)v(e,l)&&K(this.entries,{key:l,value:k(e[l])})},parseQuery:function(e){if(e)for(var t,n,r=J(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=J(t,"="),K(this.entries,{key:ie(X(n)),value:ie(q(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],K(n,ue(e.key)+"="+ue(e.value));return q(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var de=function(){h(this,fe);var e=arguments.length>0?arguments[0]:void 0;N(this,new le(e))},fe=de.prototype;if(l(fe,{append:function(e,t){C(arguments.length,2);var n=P(this);K(n.entries,{key:k(e),value:k(t)}),n.updateURL()},delete:function(e){C(arguments.length,1);for(var t=P(this),n=t.entries,r=k(e),i=0;i<n.length;)n[i].key===r?Q(n,i,1):i++;t.updateURL()},get:function(e){C(arguments.length,1);for(var t=P(this).entries,n=k(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){C(arguments.length,1);for(var t=P(this).entries,n=k(e),r=[],i=0;i<t.length;i++)t[i].key===n&&K(r,t[i].value);return r},has:function(e){C(arguments.length,1);for(var t=P(this).entries,n=k(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){C(arguments.length,1);for(var n,r=P(this),i=r.entries,a=!1,o=k(e),s=k(t),u=0;u<i.length;u++)(n=i[u]).key===o&&(a?Q(i,u--,1):(a=!0,n.value=s));a||K(i,{key:o,value:s}),r.updateURL()},sort:function(){var e=P(this);A(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=P(this).entries,r=g(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(fe,O,fe.entries,{name:"entries"}),c(fe,"toString",(function(){return P(this).serialize()}),{enumerable:!0}),d(de,R),r({global:!0,constructor:!0,forced:!u},{URLSearchParams:de}),!u&&m(j)){var pe=o(V.has),he=o(V.set),me=function(e){if(w(e)){var t,n=e.body;if(y(n)===R)return t=e.headers?new j(e.headers):new j,pe(t,"content-type")||he(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(e,{body:_(0,k(n)),headers:_(0,t)})}return e};if(m(F)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return F(e,arguments.length>1?me(arguments[1]):{})}}),m(B)){var ve=function(e){return h(this,Z),new B(e,arguments.length>1?me(arguments[1]):{})};Z.constructor=ve,ve.prototype=Z,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ve})}}e.exports={URLSearchParams:de,getState:P}},588:function(e,t,n){"use strict";n(59147);var r,i=n(67768),a=n(31196),o=n(81887),s=n(6840),u=n(5851),c=n(74932),l=n(17543),d=n(50695),f=n(14817),p=n(73013),h=n(52526),m=n(22422),v=n(43278),g=n(18424).codeAt,y=n(31649),b=n(86124),w=n(53370),k=n(34974),x=n(21477),_=n(49671),S=_.set,E=_.getterFor("URL"),C=x.URLSearchParams,T=x.getState,A=s.URL,O=s.TypeError,R=s.parseInt,I=Math.floor,N=Math.pow,P=c("".charAt),M=c(/./.exec),L=c([].join),D=c(1..toString),F=c([].pop),B=c([].push),j=c("".replace),Z=c([].shift),V=c("".split),U=c("".slice),W=c("".toLowerCase),H=c([].unshift),z="Invalid scheme",G="Invalid host",q="Invalid port",K=/[a-z]/i,Y=/[\d+-.a-z]/i,X=/\d/,Q=/^0x/i,J=/^[0-7]+$/,$=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ie=/[\t\n\r]/g,ae=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)H(t,e%256),e=I(e/256);return L(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=D(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},oe={},se=h({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),ue=h({},se,{"#":1,"?":1,"{":1,"}":1}),ce=h({},ue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),le=function(e,t){var n=g(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},de={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e,t){var n;return 2==e.length&&M(K,P(e,0))&&(":"==(n=P(e,1))||!t&&"|"==n)},pe=function(e){var t;return e.length>1&&fe(U(e,0,2))&&(2==e.length||"/"===(t=P(e,2))||"\\"===t||"?"===t||"#"===t)},he=function(e){return"."===e||"%2e"===W(e)},me={},ve={},ge={},ye={},be={},we={},ke={},xe={},_e={},Se={},Ee={},Ce={},Te={},Ae={},Oe={},Re={},Ie={},Ne={},Pe={},Me={},Le={},De=function e(t,n,r){var i,a,o,s=b(t);if(n){if(a=this.parse(s))throw O(a);this.searchParams=null}else{if(void 0!==r&&(i=new e(r,!0)),a=this.parse(s,null,i))throw O(a);(o=T(new C)).bindURL(this),this.searchParams=o}};De.prototype={type:"URL",parse:function(e,t,n){var i,a,o,s,u,c=this,l=t||me,d=0,f="",h=!1,g=!1,y=!1;for(e=b(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=j(e,re,"")),e=j(e,ie,""),i=m(e);d<=i.length;){switch(a=i[d],l){case me:if(!a||!M(K,a)){if(t)return z;l=ge;continue}f+=W(a),l=ve;break;case ve:if(a&&(M(Y,a)||"+"==a||"-"==a||"."==a))f+=W(a);else{if(":"!=a){if(t)return z;f="",l=ge,d=0;continue}if(t&&(c.isSpecial()!=p(de,f)||"file"==f&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=f,t)return void(c.isSpecial()&&de[c.scheme]==c.port&&(c.port=null));f="","file"==c.scheme?l=Ae:c.isSpecial()&&n&&n.scheme==c.scheme?l=ye:c.isSpecial()?l=xe:"/"==i[d+1]?(l=be,d++):(c.cannotBeABaseURL=!0,B(c.path,""),l=Pe)}break;case ge:if(!n||n.cannotBeABaseURL&&"#"!=a)return z;if(n.cannotBeABaseURL&&"#"==a){c.scheme=n.scheme,c.path=v(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=Le;break}l="file"==n.scheme?Ae:we;continue;case ye:if("/"!=a||"/"!=i[d+1]){l=we;continue}l=_e,d++;break;case be:if("/"==a){l=Se;break}l=Ne;continue;case we:if(c.scheme=n.scheme,a==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query;else if("/"==a||"\\"==a&&c.isSpecial())l=ke;else if("?"==a)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query="",l=Me;else{if("#"!=a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.path.length--,l=Ne;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query,c.fragment="",l=Le}break;case ke:if(!c.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=Ne;continue}l=Se}else l=_e;break;case xe:if(l=_e,"/"!=a||"/"!=P(f,d+1))continue;d++;break;case _e:if("/"!=a&&"\\"!=a){l=Se;continue}break;case Se:if("@"==a){h&&(f="%40"+f),h=!0,o=m(f);for(var w=0;w<o.length;w++){var k=o[w];if(":"!=k||y){var x=le(k,ce);y?c.password+=x:c.username+=x}else y=!0}f=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(h&&""==f)return"Invalid authority";d-=m(f).length+1,f="",l=Ee}else f+=a;break;case Ee:case Ce:if(t&&"file"==c.scheme){l=Re;continue}if(":"!=a||g){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(c.isSpecial()&&""==f)return G;if(t&&""==f&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(f))return s;if(f="",l=Ie,t)return;continue}"["==a?g=!0:"]"==a&&(g=!1),f+=a}else{if(""==f)return G;if(s=c.parseHost(f))return s;if(f="",l=Te,t==Ce)return}break;case Te:if(!M(X,a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()||t){if(""!=f){var _=R(f,10);if(_>65535)return q;c.port=c.isSpecial()&&_===de[c.scheme]?null:_,f=""}if(t)return;l=Ie;continue}return q}f+=a;break;case Ae:if(c.scheme="file","/"==a||"\\"==a)l=Oe;else{if(!n||"file"!=n.scheme){l=Ne;continue}if(a==r)c.host=n.host,c.path=v(n.path),c.query=n.query;else if("?"==a)c.host=n.host,c.path=v(n.path),c.query="",l=Me;else{if("#"!=a){pe(L(v(i,d),""))||(c.host=n.host,c.path=v(n.path),c.shortenPath()),l=Ne;continue}c.host=n.host,c.path=v(n.path),c.query=n.query,c.fragment="",l=Le}}break;case Oe:if("/"==a||"\\"==a){l=Re;break}n&&"file"==n.scheme&&!pe(L(v(i,d),""))&&(fe(n.path[0],!0)?B(c.path,n.path[0]):c.host=n.host),l=Ne;continue;case Re:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&fe(f))l=Ne;else if(""==f){if(c.host="",t)return;l=Ie}else{if(s=c.parseHost(f))return s;if("localhost"==c.host&&(c.host=""),t)return;f="",l=Ie}continue}f+=a;break;case Ie:if(c.isSpecial()){if(l=Ne,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=r&&(l=Ne,"/"!=a))continue}else c.fragment="",l=Le;else c.query="",l=Me;break;case Ne:if(a==r||"/"==a||"\\"==a&&c.isSpecial()||!t&&("?"==a||"#"==a)){if(".."===(u=W(u=f))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==a||"\\"==a&&c.isSpecial()||B(c.path,"")):he(f)?"/"==a||"\\"==a&&c.isSpecial()||B(c.path,""):("file"==c.scheme&&!c.path.length&&fe(f)&&(c.host&&(c.host=""),f=P(f,0)+":"),B(c.path,f)),f="","file"==c.scheme&&(a==r||"?"==a||"#"==a))for(;c.path.length>1&&""===c.path[0];)Z(c.path);"?"==a?(c.query="",l=Me):"#"==a&&(c.fragment="",l=Le)}else f+=le(a,ue);break;case Pe:"?"==a?(c.query="",l=Me):"#"==a?(c.fragment="",l=Le):a!=r&&(c.path[0]+=le(a,oe));break;case Me:t||"#"!=a?a!=r&&("'"==a&&c.isSpecial()?c.query+="%27":c.query+="#"==a?"%23":le(a,oe)):(c.fragment="",l=Le);break;case Le:a!=r&&(c.fragment+=le(a,se))}d++}},parseHost:function(e){var t,n,r;if("["==P(e,0)){if("]"!=P(e,e.length-1))return G;if(t=function(e){var t,n,r,i,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,d=0,f=function(){return P(e,d)};if(":"==f()){if(":"!=P(e,1))return;d+=2,l=++c}for(;f();){if(8==c)return;if(":"!=f()){for(t=n=0;n<4&&M(ee,f());)t=16*t+R(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,c>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;d++}if(!M(X,f()))return;for(;M(X,f());){if(a=R(f(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;d++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;u[c++]=t}else{if(null!==l)return;d++,l=++c}}if(null!==l)for(o=c-l,c=7;0!=c&&o>0;)s=u[c],u[c--]=u[l+o-1],u[l+--o]=s;else if(8!=c)return;return u}(U(e,1,-1)),!t)return G;this.host=t}else if(this.isSpecial()){if(e=y(e),M(te,e))return G;if(t=function(e){var t,n,r,i,a,o,s,u=V(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(a=10,i.length>1&&"0"==P(i,0)&&(a=M(Q,i)?16:8,i=U(i,8==a?1:2)),""===i)o=0;else{if(!M(10==a?$:8==a?J:ee,i))return e;o=R(i,a)}B(n,o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=N(256,5-t))return null}else if(o>255)return null;for(s=F(n),r=0;r<n.length;r++)s+=n[r]*N(256,3-r);return s}(e),null===t)return G;this.host=t}else{if(M(ne,e))return G;for(t="",n=m(e),r=0;r<n.length;r++)t+=le(n[r],oe);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(de,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&fe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=ae(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+L(o,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw O(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Fe(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ae(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",me)},getUsername:function(){return this.username},setUsername:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=le(t[n],ce)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=le(t[n],ce)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ae(e):ae(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ee)},getHostname:function(){var e=this.host;return null===e?"":ae(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ce)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Te))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+L(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ie))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==P(e,0)&&(e=U(e,1)),this.query="",this.parse(e,Me)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==P(e,0)&&(e=U(e,1)),this.fragment="",this.parse(e,Le)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Fe=function(e){var t=f(this,Be),n=k(arguments.length,1)>1?arguments[1]:void 0,r=S(t,new De(e,!1,n));a||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Be=Fe.prototype,je=function(e,t){return{get:function(){return E(this)[e]()},set:t&&function(e){return E(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(d(Be,"href",je("serialize","setHref")),d(Be,"origin",je("getOrigin")),d(Be,"protocol",je("getProtocol","setProtocol")),d(Be,"username",je("getUsername","setUsername")),d(Be,"password",je("getPassword","setPassword")),d(Be,"host",je("getHost","setHost")),d(Be,"hostname",je("getHostname","setHostname")),d(Be,"port",je("getPort","setPort")),d(Be,"pathname",je("getPathname","setPathname")),d(Be,"search",je("getSearch","setSearch")),d(Be,"searchParams",je("getSearchParams")),d(Be,"hash",je("getHash","setHash"))),l(Be,"toJSON",(function(){return E(this).serialize()}),{enumerable:!0}),l(Be,"toString",(function(){return E(this).serialize()}),{enumerable:!0}),A){var Ze=A.createObjectURL,Ve=A.revokeObjectURL;Ze&&l(Fe,"createObjectURL",u(Ze,A)),Ve&&l(Fe,"revokeObjectURL",u(Ve,A))}w(Fe,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:Fe})},49798:function(e,t,n){n(588)},74150:function(e,t,n){"use strict";var r=n(31725),i={};function a(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}var o="mixins";e.exports=function(e,t,n){var s=[],u={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},c={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},l={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)f(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(a(!(n in l),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return a("DEFINE_MANY_MERGED"===(c.hasOwnProperty(n)?c[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=h(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function d(e,t){var n=u.hasOwnProperty(t)?u[t]:null;b.hasOwnProperty(t)&&a("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&a("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function f(e,n){if(n){a("function"!==typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),a(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(o)&&l.mixins(e,n.mixins),n)if(n.hasOwnProperty(s)&&s!==o){var c=n[s],f=r.hasOwnProperty(s);if(d(f,s),l.hasOwnProperty(s))l[s](e,c);else{var p=u.hasOwnProperty(s);if("function"===typeof c&&!p&&!f&&!1!==n.autobind)i.push(s,c),r[s]=c;else if(f){var v=u[s];a(p&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,s),"DEFINE_MANY_MERGED"===v?r[s]=h(r[s],c):"DEFINE_MANY"===v&&(r[s]=m(r[s],c))}else r[s]=c}}}else;}function p(e,t){for(var n in a(e&&t&&"object"===typeof e&&"object"===typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(a(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return p(i,n),p(i,r),i}}function m(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function v(e,t){return t.bind(e)}var g={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},w=function(){};return r(w.prototype,e.prototype,b),function(e){var t=function(e,r,o){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=v(e,i)}}(this),this.props=e,this.context=r,this.refs=i,this.updater=o||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;a("object"===typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new w,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(f.bind(null,t)),f(t,g),f(t,e),f(t,y),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),a(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),u)t.prototype[r]||(t.prototype[r]=null);return t}}},72157:function(e,t,n){"use strict";var r=n(72791),i=n(74150);if("undefined"===typeof r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var a=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,a)},58546:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e)};var r,i=n(57630),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},45216:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/;e.exports=t.default},65403:function(e,t,n){"use strict";function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{Z:function(){return r}})},84181:function(e,t,n){"use strict";n.d(t,{Nw:function(){return u},ZR:function(){return c},ml:function(){return s}});var r=n(65403),i=n(92267),a=n(43996),o=(0,i.Z)(r.Z),s=o.right,u=o.left,c=(0,i.Z)(a.Z).center;t.ZP=s},92267:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(65403);function i(e){var t=e,n=e;function i(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)<0?r=a+1:i=a}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return(0,r.Z)(e(t),n)}}(e)),{left:i,center:function(e,n,r,a){null==r&&(r=0),null==a&&(a=e.length);var o=i(e,n,r,a-1);return o>r&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)>0?i=a:r=a+1}return r}}}},39562:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(37762);function i(e,t){var n,i;if(void 0===t){var a,o=(0,r.Z)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;null!=s&&(void 0===n?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)))}}catch(f){o.e(f)}finally{o.f()}}else{var u,c=-1,l=(0,r.Z)(e);try{for(l.s();!(u=l.n()).done;){var d=u.value;null!=(d=t(d,++c,e))&&(void 0===n?d>=d&&(n=i=d):(n>d&&(n=d),i<d&&(i=d)))}}catch(f){l.e(f)}finally{l.f()}}return[n,i]}},80617:function(e,t,n){"use strict";n.r(t),n.d(t,{Adder:function(){return k},InternMap:function(){return I},InternSet:function(){return N},ascending:function(){return i.Z},bin:function(){return te},bisect:function(){return r.ZP},bisectCenter:function(){return r.ZR},bisectLeft:function(){return r.Nw},bisectRight:function(){return r.ml},bisector:function(){return a.Z},count:function(){return s},cross:function(){return p},cumsum:function(){return h},descending:function(){return m},deviation:function(){return g},difference:function(){return De},disjoint:function(){return Fe},every:function(){return Re},extent:function(){return y.Z},fcumsum:function(){return _},filter:function(){return Ne},fsum:function(){return x},greatest:function(){return ke},greatestIndex:function(){return xe},group:function(){return B},groupSort:function(){return K},groups:function(){return j},histogram:function(){return te},index:function(){return U},indexes:function(){return W},intersection:function(){return je},least:function(){return be},leastIndex:function(){return we},map:function(){return Pe},max:function(){return ae.Z},maxIndex:function(){return oe},mean:function(){return se},median:function(){return ue},merge:function(){return fe},min:function(){return pe.Z},minIndex:function(){return he},nice:function(){return $},pairs:function(){return me},permute:function(){return G},quantile:function(){return ne.Z},quantileSorted:function(){return ne.s},quickselect:function(){return ge.Z},range:function(){return ye.Z},reduce:function(){return Me},reverse:function(){return Le},rollup:function(){return Z},rollups:function(){return V},scan:function(){return _e},shuffle:function(){return Se},shuffler:function(){return Ee},some:function(){return Ie},sort:function(){return q},subset:function(){return Ve},sum:function(){return Ce},superset:function(){return Ze},thresholdFreedmanDiaconis:function(){return re},thresholdScott:function(){return ie},thresholdSturges:function(){return ee},tickIncrement:function(){return J.G9},tickStep:function(){return J.ly},ticks:function(){return J.ZP},transpose:function(){return Te},union:function(){return Ue},variance:function(){return v},zip:function(){return Oe}});var r=n(84181),i=n(65403),a=n(92267),o=n(37762);function s(e,t){var n=0;if(void 0===t){var r,i=(0,o.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(a=+a)>=a&&++n}}catch(d){i.e(d)}finally{i.f()}}else{var s,u=-1,c=(0,o.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;null!=(l=t(l,++u,e))&&(l=+l)>=l&&++n}}catch(d){c.e(d)}finally{c.f()}}return n}var u=n(93433);function c(e){return 0|e.length}function l(e){return!(e>0)}function d(e){return"object"!==typeof e||"length"in e?e:Array.from(e)}function f(e){return function(t){return e.apply(void 0,(0,u.Z)(t))}}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"===typeof t[t.length-1]&&f(t.pop()),i=(t=t.map(d)).map(c),a=t.length-1,o=new Array(a+1).fill(0),s=[];if(a<0||i.some(l))return s;for(;;){s.push(o.map((function(e,n){return t[n][e]})));for(var u=a;++o[u]===i[u];){if(0===u)return r?s.map(r):s;o[u--]=0}}}function h(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?function(e){return n+=+e||0}:function(i){return n+=+t(i,r++,e)||0})}function m(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function v(e,t){var n,r=0,i=0,a=0;if(void 0===t){var s,u=(0,o.Z)(e);try{for(u.s();!(s=u.n()).done;){var c=s.value;null!=c&&(c=+c)>=c&&(a+=(n=c-i)*(c-(i+=n/++r)))}}catch(h){u.e(h)}finally{u.f()}}else{var l,d=-1,f=(0,o.Z)(e);try{for(f.s();!(l=f.n()).done;){var p=l.value;null!=(p=t(p,++d,e))&&(p=+p)>=p&&(a+=(n=p-i)*(p-(i+=n/++r)))}}catch(h){f.e(h)}finally{f.f()}}if(r>1)return a/(r-1)}function g(e,t){var n=v(e,t);return n?Math.sqrt(n):n}var y=n(39562),b=n(15671),w=n(43144),k=function(){function e(){(0,b.Z)(this,e),this._partials=new Float64Array(32),this._n=0}return(0,w.Z)(e,[{key:"add",value:function(e){for(var t=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=t[r],a=e+i,o=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);o&&(t[n++]=o),e=a}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){var e,t,n,r=this._partials,i=this._n,a=0;if(i>0){for(a=r[--i];i>0&&(e=a,!(n=(t=r[--i])-((a=e+t)-e))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(t=2*n)==(e=a+t)-a&&(a=e)}return a}}]),e}();function x(e,t){var n=new k;if(void 0===t){var r,i=(0,o.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&n.add(a)}}catch(d){i.e(d)}finally{i.f()}}else{var s,u=-1,c=(0,o.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;(l=+t(l,++u,e))&&n.add(l)}}catch(d){c.e(d)}finally{c.f()}}return+n}function _(e,t){var n=new k,r=-1;return Float64Array.from(e,void 0===t?function(e){return n.add(+e||0)}:function(i){return n.add(+t(i,++r,e)||0)})}var S=n(29439),E=n(97326),C=n(11752),T=n(61120),A=n(60136),O=n(29388),R=n(98737),I=function(e){(0,A.Z)(n,e);var t=(0,O.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D;if((0,b.Z)(this,n),r=t.call(this),Object.defineProperties((0,E.Z)(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var a,s=(0,o.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=(0,S.Z)(a.value,2),c=u[0],l=u[1];r.set(c,l)}}catch(d){s.e(d)}finally{s.f()}}return r}return(0,w.Z)(n,[{key:"get",value:function(e){return(0,C.Z)((0,T.Z)(n.prototype),"get",this).call(this,P(this,e))}},{key:"has",value:function(e){return(0,C.Z)((0,T.Z)(n.prototype),"has",this).call(this,P(this,e))}},{key:"set",value:function(e,t){return(0,C.Z)((0,T.Z)(n.prototype),"set",this).call(this,M(this,e),t)}},{key:"delete",value:function(e){return(0,C.Z)((0,T.Z)(n.prototype),"delete",this).call(this,L(this,e))}}]),n}((0,R.Z)(Map)),N=function(e){(0,A.Z)(n,e);var t=(0,O.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D;if((0,b.Z)(this,n),r=t.call(this),Object.defineProperties((0,E.Z)(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var a,s=(0,o.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;r.add(u)}}catch(c){s.e(c)}finally{s.f()}}return r}return(0,w.Z)(n,[{key:"has",value:function(e){return(0,C.Z)((0,T.Z)(n.prototype),"has",this).call(this,P(this,e))}},{key:"add",value:function(e){return(0,C.Z)((0,T.Z)(n.prototype),"add",this).call(this,M(this,e))}},{key:"delete",value:function(e){return(0,C.Z)((0,T.Z)(n.prototype),"delete",this).call(this,L(this,e))}}]),n}((0,R.Z)(Set));function P(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):t}function M(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function L(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)&&(t=n.get(t),n.delete(r)),t}function D(e){return null!==e&&"object"===typeof e?e.valueOf():e}function F(e){return e}function B(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return z(e,F,F,n)}function j(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return z(e,Array.from,F,n)}function Z(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return z(e,F,t,r)}function V(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return z(e,Array.from,t,r)}function U(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return z(e,F,H,n)}function W(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return z(e,Array.from,H,n)}function H(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function z(e,t,n,r){return function e(i,a){if(a>=r.length)return n(i);var s,u=new I,c=r[a++],l=-1,d=(0,o.Z)(i);try{for(d.s();!(s=d.n()).done;){var f=s.value,p=c(f,++l,i),h=u.get(p);h?h.push(f):u.set(p,[f])}}catch(w){d.e(w)}finally{d.f()}var m,v=(0,o.Z)(u);try{for(v.s();!(m=v.n()).done;){var g=(0,S.Z)(m.value,2),y=g[0],b=g[1];u.set(y,e(b,a))}}catch(w){v.e(w)}finally{v.f()}return t(u)}(e,0)}function G(e,t){return Array.from(t,(function(t){return e[t]}))}function q(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);var a=n,s=(0,S.Z)(a,1),u=s[0],c=void 0===u?i.Z:u;if(1===c.length||n.length>1){var l=Uint32Array.from(e,(function(e,t){return t}));return n.length>1?(n=n.map((function(t){return e.map(t)})),l.sort((function(e,t){var r,a=(0,o.Z)(n);try{for(a.s();!(r=a.n()).done;){var s=r.value,u=(0,i.Z)(s[e],s[t]);if(u)return u}}catch(c){a.e(c)}finally{a.f()}}))):(c=e.map(c),l.sort((function(e,t){return(0,i.Z)(c[e],c[t])}))),G(e,l)}return e.sort(c)}function K(e,t,n){return(1===t.length?q(Z(e,t,n),(function(e,t){var n=(0,S.Z)(e,2),r=n[0],a=n[1],o=(0,S.Z)(t,2),s=o[0],u=o[1];return(0,i.Z)(a,u)||(0,i.Z)(r,s)})):q(B(e,n),(function(e,n){var r=(0,S.Z)(e,2),a=r[0],o=r[1],s=(0,S.Z)(n,2),u=s[0],c=s[1];return t(o,c)||(0,i.Z)(a,u)}))).map((function(e){return(0,S.Z)(e,1)[0]}))}var Y=Array.prototype,X=Y.slice;Y.map;function Q(e){return function(){return e}}var J=n(99571);function $(e,t,n){for(var r;;){var i=(0,J.G9)(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function ee(e){return Math.ceil(Math.log(s(e))/Math.LN2)+1}function te(){var e=F,t=y.Z,n=ee;function i(i){Array.isArray(i)||(i=Array.from(i));var a,o,s=i.length,u=new Array(s);for(a=0;a<s;++a)u[a]=e(i[a],a,i);var c=t(u),l=c[0],d=c[1],f=n(u,l,d);if(!Array.isArray(f)){var p=d,h=+f;if(t===y.Z){var m=$(l,d,h),v=(0,S.Z)(m,2);l=v[0],d=v[1]}if((f=(0,J.ZP)(l,d,h))[f.length-1]>=d)if(p>=d&&t===y.Z){var g=(0,J.G9)(l,d,h);isFinite(g)&&(g>0?d=(Math.floor(d/g)+1)*g:g<0&&(d=(Math.ceil(d*-g)+1)/-g))}else f.pop()}for(var b=f.length;f[0]<=l;)f.shift(),--b;for(;f[b-1]>d;)f.pop(),--b;var w,k=new Array(b+1);for(a=0;a<=b;++a)(w=k[a]=[]).x0=a>0?f[a-1]:l,w.x1=a<b?f[a]:d;for(a=0;a<s;++a)l<=(o=u[a])&&o<=d&&k[(0,r.ZP)(f,o,0,b)].push(i[a]);return k}return i.value=function(t){return arguments.length?(e="function"===typeof t?t:Q(t),i):e},i.domain=function(e){return arguments.length?(t="function"===typeof e?e:Q([e[0],e[1]]),i):t},i.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?Q(X.call(e)):Q(e),i):n},i}var ne=n(1732);function re(e,t,n){return Math.ceil((n-t)/(2*((0,ne.Z)(e,.75)-(0,ne.Z)(e,.25))*Math.pow(s(e),-1/3)))}function ie(e,t,n){return Math.ceil((n-t)/(3.5*g(e)*Math.pow(s(e),-1/3)))}var ae=n(42382);function oe(e,t){var n,r=-1,i=-1;if(void 0===t){var a,s=(0,o.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;++i,null!=u&&(n<u||void 0===n&&u>=u)&&(n=u,r=i)}}catch(f){s.e(f)}finally{s.f()}}else{var c,l=(0,o.Z)(e);try{for(l.s();!(c=l.n()).done;){var d=c.value;null!=(d=t(d,++i,e))&&(n<d||void 0===n&&d>=d)&&(n=d,r=i)}}catch(f){l.e(f)}finally{l.f()}}return r}function se(e,t){var n=0,r=0;if(void 0===t){var i,a=(0,o.Z)(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;null!=s&&(s=+s)>=s&&(++n,r+=s)}}catch(f){a.e(f)}finally{a.f()}}else{var u,c=-1,l=(0,o.Z)(e);try{for(l.s();!(u=l.n()).done;){var d=u.value;null!=(d=t(d,++c,e))&&(d=+d)>=d&&(++n,r+=d)}}catch(f){l.e(f)}finally{l.f()}}if(n)return r/n}function ue(e,t){return(0,ne.Z)(e,.5,t)}var ce=n(74165),le=(0,ce.Z)().mark(de);function de(e){var t,n,r;return(0,ce.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=(0,o.Z)(e),i.prev=1,t.s();case 3:if((n=t.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),t.e(i.t1);case 13:return i.prev=13,t.f(),i.finish(13);case 16:case"end":return i.stop()}}),le,null,[[1,10,13,16]])}function fe(e){return Array.from(de(e))}var pe=n(75055);function he(e,t){var n,r=-1,i=-1;if(void 0===t){var a,s=(0,o.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;++i,null!=u&&(n>u||void 0===n&&u>=u)&&(n=u,r=i)}}catch(f){s.e(f)}finally{s.f()}}else{var c,l=(0,o.Z)(e);try{for(l.s();!(c=l.n()).done;){var d=c.value;null!=(d=t(d,++i,e))&&(n>d||void 0===n&&d>=d)&&(n=d,r=i)}}catch(f){l.e(f)}finally{l.f()}}return r}function me(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve,i=[],a=!1,s=(0,o.Z)(e);try{for(s.s();!(n=s.n()).done;){var u=n.value;a&&i.push(r(t,u)),t=u,a=!0}}catch(c){s.e(c)}finally{s.f()}return i}function ve(e,t){return[e,t]}var ge=n(61914),ye=n(41539);function be(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z,r=!1;if(1===n.length){var a,s,u=(0,o.Z)(e);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=n(c);(r?(0,i.Z)(l,a)<0:0===(0,i.Z)(l,l))&&(t=c,a=l,r=!0)}}catch(h){u.e(h)}finally{u.f()}}else{var d,f=(0,o.Z)(e);try{for(f.s();!(d=f.n()).done;){var p=d.value;(r?n(p,t)<0:0===n(p,p))&&(t=p,r=!0)}}catch(h){f.e(h)}finally{f.f()}}return t}function we(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z;if(1===n.length)return he(e,n);var r,a=-1,s=-1,u=(0,o.Z)(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;++s,(a<0?0===n(c,c):n(c,t)<0)&&(t=c,a=s)}}catch(l){u.e(l)}finally{u.f()}return a}function ke(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z,r=!1;if(1===n.length){var a,s,u=(0,o.Z)(e);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=n(c);(r?(0,i.Z)(l,a)>0:0===(0,i.Z)(l,l))&&(t=c,a=l,r=!0)}}catch(h){u.e(h)}finally{u.f()}}else{var d,f=(0,o.Z)(e);try{for(f.s();!(d=f.n()).done;){var p=d.value;(r?n(p,t)>0:0===n(p,p))&&(t=p,r=!0)}}catch(h){f.e(h)}finally{f.f()}}return t}function xe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z;if(1===n.length)return oe(e,n);var r,a=-1,s=-1,u=(0,o.Z)(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;++s,(a<0?0===n(c,c):n(c,t)>0)&&(t=c,a=s)}}catch(l){u.e(l)}finally{u.f()}return a}function _e(e,t){var n=we(e,t);return n<0?void 0:n}var Se=Ee(Math.random);function Ee(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=r-(n=+n);i;){var a=e()*i--|0,o=t[i+n];t[i+n]=t[a+n],t[a+n]=o}return t}}function Ce(e,t){var n=0;if(void 0===t){var r,i=(0,o.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&(n+=a)}}catch(d){i.e(d)}finally{i.f()}}else{var s,u=-1,c=(0,o.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;(l=+t(l,++u,e))&&(n+=l)}}catch(d){c.e(d)}finally{c.f()}}return n}function Te(e){if(!(i=e.length))return[];for(var t=-1,n=(0,pe.Z)(e,Ae),r=new Array(n);++t<n;)for(var i,a=-1,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r}function Ae(e){return e.length}function Oe(){return Te(arguments)}function Re(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=-1,i=(0,o.Z)(e);try{for(i.s();!(n=i.n()).done;){if(!t(n.value,++r,e))return!1}}catch(a){i.e(a)}finally{i.f()}return!0}function Ie(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=-1,i=(0,o.Z)(e);try{for(i.s();!(n=i.n()).done;){if(t(n.value,++r,e))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}function Ne(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=[],i=-1,a=(0,o.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;t(s,++i,e)&&r.push(s)}}catch(u){a.e(u)}finally{a.f()}return r}function Pe(e,t){if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof t)throw new TypeError("mapper is not a function");return Array.from(e,(function(n,r){return t(n,r,e)}))}function Me(e,t,n){if("function"!==typeof t)throw new TypeError("reducer is not a function");var r,i,a=e[Symbol.iterator](),o=-1;if(arguments.length<3){var s=a.next();if(r=s.done,n=s.value,r)return;++o}for(;r=(u=a.next()).done,i=u.value,!r;){var u;n=t(n,i,++o,e)}return n}function Le(e){if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}function De(e){e=new Set(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var s,u=a[i],c=(0,o.Z)(u);try{for(c.s();!(s=c.n()).done;){var l=s.value;e.delete(l)}}catch(d){c.e(d)}finally{c.f()}}return e}function Fe(e,t){var n,r=t[Symbol.iterator](),i=new Set,a=(0,o.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(i.has(s))return!1;for(var u=void 0,c=void 0;u=(l=r.next()).value,c=l.done,l;){var l;if(c)break;if(Object.is(s,u))return!1;i.add(u)}}}catch(d){a.e(d)}finally{a.f()}return!0}function Be(e){return e instanceof Set?e:new Set(e)}function je(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=new Set(e),n=n.map(Be);var i,a=(0,o.Z)(e);try{e:for(a.s();!(i=a.n()).done;){var s,u=i.value,c=(0,o.Z)(n);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(!l.has(u)){e.delete(u);continue e}}}catch(d){c.e(d)}finally{c.f()}}}catch(d){a.e(d)}finally{a.f()}return e}function Ze(e,t){var n,r=e[Symbol.iterator](),i=new Set,a=(0,o.Z)(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(!i.has(s))for(var u=void 0,c=void 0;u=(l=r.next()).value,c=l.done,l;){var l;if(c)return!1;if(i.add(u),Object.is(s,u))break}}}catch(d){a.e(d)}finally{a.f()}return!0}function Ve(e,t){return Ze(t,e)}function Ue(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var s,u=a[i],c=(0,o.Z)(u);try{for(c.s();!(s=c.n()).done;){var l=s.value;e.add(l)}}catch(d){c.e(d)}finally{c.f()}}return e}},42382:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(37762);function i(e,t){var n;if(void 0===t){var i,a=(0,r.Z)(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(d){a.e(d)}finally{a.f()}}else{var s,u=-1,c=(0,r.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;null!=(l=t(l,++u,e))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(d){c.e(d)}finally{c.f()}}return n}},75055:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(37762);function i(e,t){var n;if(void 0===t){var i,a=(0,r.Z)(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(d){a.e(d)}finally{a.f()}}else{var s,u=-1,c=(0,r.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;null!=(l=t(l,++u,e))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(d){c.e(d)}finally{c.f()}}return n}},43996:function(e,t,n){"use strict";n.d(t,{K:function(){return s},Z:function(){return o}});var r=n(74165),i=n(37762),a=(0,r.Z)().mark(s);function o(e){return null===e?NaN:+e}function s(e,t){var n,o,s,u,c,l,d;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=21;break}n=(0,i.Z)(e),r.prev=2,n.s();case 4:if((o=n.n()).done){r.next=11;break}if(!(null!=(s=o.value)&&(s=+s)>=s)){r.next=9;break}return r.next=9,s;case 9:r.next=4;break;case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(2),n.e(r.t0);case 16:return r.prev=16,n.f(),r.finish(16);case 19:r.next=40;break;case 21:u=-1,c=(0,i.Z)(e),r.prev=23,c.s();case 25:if((l=c.n()).done){r.next=32;break}if(d=l.value,!(null!=(d=t(d,++u,e))&&(d=+d)>=d)){r.next=30;break}return r.next=30,d;case 30:r.next=25;break;case 32:r.next=37;break;case 34:r.prev=34,r.t1=r.catch(23),c.e(r.t1);case 37:return r.prev=37,c.f(),r.finish(37);case 40:case"end":return r.stop()}}),a,null,[[2,13,16,19],[23,34,37,40]])}},1732:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},s:function(){return u}});var r=n(42382),i=n(75055),a=n(61914),o=n(43996);function s(e,t,n){if(s=(e=Float64Array.from((0,o.K)(e,n))).length){if((t=+t)<=0||s<2)return(0,i.Z)(e);if(t>=1)return(0,r.Z)(e);var s,u=(s-1)*t,c=Math.floor(u),l=(0,r.Z)((0,a.Z)(e,c).subarray(0,c+1));return l+((0,i.Z)(e.subarray(c+1))-l)*(u-c)}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Z;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return s+(u-s)*(i-a)}}},61914:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(65403);function i(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.Z;o>n;){if(o-n>600){var u=o-n+1,c=t-n+1,l=Math.log(u),d=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*d*(u-d)/u)*(c-u/2<0?-1:1),p=Math.max(n,Math.floor(t-c*d/u+f)),h=Math.min(o,Math.floor(t+(u-c)*d/u+f));i(e,t,p,h,s)}var m=e[t],v=n,g=o;for(a(e,n,t),s(e[o],m)>0&&a(e,n,o);v<g;){for(a(e,v,g),++v,--g;s(e[v],m)<0;)++v;for(;s(e[g],m)>0;)--g}0===s(e[n],m)?a(e,n,g):a(e,++g,o),g<=t&&(n=g+1),t<=g&&(o=g-1)}return e}function a(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}},41539:function(e,t,n){"use strict";function r(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}n.d(t,{Z:function(){return r}})},99571:function(e,t,n){"use strict";n.d(t,{G9:function(){return s},ZP:function(){return o},ly:function(){return u}});var r=Math.sqrt(50),i=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,n){var r,i,a,o,u=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=s(e,t,n))||!isFinite(o))return[];if(o>0){var c=Math.round(e/o),l=Math.round(t/o);for(c*o<e&&++c,l*o>t&&--l,a=new Array(i=l-c+1);++u<i;)a[u]=(c+u)*o}else{o=-o;var d=Math.round(e*o),f=Math.round(t*o);for(d/o<e&&++d,f/o>t&&--f,a=new Array(i=f-d+1);++u<i;)a[u]=(d+u)/o}return r&&a.reverse(),a}function s(e,t,n){var o=(t-e)/Math.max(0,n),s=Math.floor(Math.log(o)/Math.LN10),u=o/Math.pow(10,s);return s>=0?(u>=r?10:u>=i?5:u>=a?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=r?10:u>=i?5:u>=a?2:1)}function u(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),u=o/s;return u>=r?s*=10:u>=i?s*=5:u>=a&&(s*=2),t<e?-s:s}},80419:function(e,t,n){"use strict";n.d(t,{B8:function(){return S},Il:function(){return i},J5:function(){return o},SU:function(){return _},Ss:function(){return E},Ym:function(){return I},ZP:function(){return w},xV:function(){return a}});var r=n(38814);function i(){}var a=.7,o=1/a,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,d=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),f=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),h=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),m=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),v=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function w(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=l.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?k(t):3===n?new E(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?x(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?x(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=d.exec(e))?new E(t[1],t[2],t[3],1):(t=f.exec(e))?new E(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?x(t[1],t[2],t[3],t[4]):(t=h.exec(e))?x(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=m.exec(e))?O(t[1],t[2]/100,t[3]/100,1):(t=v.exec(e))?O(t[1],t[2]/100,t[3]/100,t[4]):g.hasOwnProperty(e)?k(g[e]):"transparent"===e?new E(NaN,NaN,NaN,0):null}function k(e){return new E(e>>16&255,e>>8&255,255&e,1)}function x(e,t,n,r){return r<=0&&(e=t=n=NaN),new E(e,t,n,r)}function _(e){return e instanceof i||(e=w(e)),e?new E((e=e.rgb()).r,e.g,e.b,e.opacity):new E}function S(e,t,n,r){return 1===arguments.length?_(e):new E(e,t,n,null==r?1:r)}function E(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function C(){return"#"+A(this.r)+A(this.g)+A(this.b)}function T(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function A(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function O(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new N(e,t,n,r)}function R(e){if(e instanceof N)return new N(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=w(e)),!e)return new N;if(e instanceof N)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,u=o-a,c=(o+a)/2;return u?(s=t===o?(n-r)/u+6*(n<r):n===o?(r-t)/u+2:(t-n)/u+4,u/=c<.5?o+a:2-o-a,s*=60):u=c>0&&c<1?0:s,new N(s,u,c,e.opacity)}function I(e,t,n,r){return 1===arguments.length?R(e):new N(e,t,n,null==r?1:r)}function N(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function P(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}(0,r.Z)(i,w,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return R(this).formatHsl()},formatRgb:b,toString:b}),(0,r.Z)(E,S,(0,r.l)(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C,formatHex:C,formatRgb:T,toString:T})),(0,r.Z)(N,I,(0,r.l)(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new N(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new N(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new E(P(e>=240?e-240:e+120,i,r),P(e,i,r),P(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},38814:function(e,t,n){"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}n.d(t,{Z:function(){return r},l:function(){return i}})},73352:function(e,t,n){"use strict";n.d(t,{Uc:function(){return b},ZP:function(){return f}});var r=n(38814),i=n(80419),a=n(31233),o=.96422,s=.82521,u=4/29,c=6/29,l=3*c*c;function d(e){if(e instanceof p)return new p(e.l,e.a,e.b,e.opacity);if(e instanceof w)return k(e);e instanceof i.Ss||(e=(0,i.SU)(e));var t,n,r=g(e.r),a=g(e.g),u=g(e.b),c=h((.2225045*r+.7168786*a+.0606169*u)/1);return r===a&&a===u?t=n=c:(t=h((.4360747*r+.3850649*a+.1430804*u)/o),n=h((.0139322*r+.0971045*a+.7141733*u)/s)),new p(116*c-16,500*(t-c),200*(c-n),e.opacity)}function f(e,t,n,r){return 1===arguments.length?d(e):new p(e,t,n,null==r?1:r)}function p(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function h(e){return e>.008856451679035631?Math.pow(e,1/3):e/l+u}function m(e){return e>c?e*e*e:l*(e-u)}function v(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function g(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function y(e){if(e instanceof w)return new w(e.h,e.c,e.l,e.opacity);if(e instanceof p||(e=d(e)),0===e.a&&0===e.b)return new w(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*a.B;return new w(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function b(e,t,n,r){return 1===arguments.length?y(e):new w(e,t,n,null==r?1:r)}function w(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function k(e){if(isNaN(e.h))return new p(e.l,0,0,e.opacity);var t=e.h*a.V;return new p(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}(0,r.Z)(p,f,(0,r.l)(i.Il,{brighter:function(e){return new p(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new p(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=o*m(t),e=1*m(e),n=s*m(n),new i.Ss(v(3.1338561*t-1.6168667*e-.4906146*n),v(-.9787684*t+1.9161415*e+.033454*n),v(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),(0,r.Z)(w,b,(0,r.l)(i.Il,{brighter:function(e){return new w(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new w(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return k(this).rgb()}}))},31233:function(e,t,n){"use strict";n.d(t,{B:function(){return i},V:function(){return r}});var r=Math.PI/180,i=180/Math.PI},57027:function(e,t,n){"use strict";n.d(t,{WU:function(){return d},jH:function(){return f}});var r=n(54751);var i=n(74111);var a,o=n(3469);function s(e,t){var n=(0,o.V)(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var u={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:o.Z,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return s(100*e,t)},r:s,s:function(e,t){var n=(0,o.V)(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(a=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+(0,o.V)(e,Math.max(0,t+s-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function c(e){return e}var l,d,f,p=Array.prototype.map,h=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function m(e){var t,n,o=void 0===e.grouping||void 0===e.thousands?c:(t=p.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),s=void 0===e.currency?"":e.currency[0]+"",l=void 0===e.currency?"":e.currency[1]+"",d=void 0===e.decimal?".":e.decimal+"",f=void 0===e.numerals?c:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(p.call(e.numerals,String)),m=void 0===e.percent?"%":e.percent+"",v=void 0===e.minus?"\u2212":e.minus+"",g=void 0===e.nan?"NaN":e.nan+"";function y(e){var t=(e=(0,i.Z)(e)).fill,n=e.align,r=e.sign,c=e.symbol,p=e.zero,y=e.width,b=e.comma,w=e.precision,k=e.trim,x=e.type;"n"===x?(b=!0,x="g"):u[x]||(void 0===w&&(w=12),k=!0,x="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var _="$"===c?s:"#"===c&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",S="$"===c?l:/[%p]/.test(x)?m:"",E=u[x],C=/[defgprs%]/.test(x);function T(e){var i,s,u,c=_,l=S;if("c"===x)l=E(e)+l,e="";else{var m=(e=+e)<0||1/e<0;if(e=isNaN(e)?g:E(Math.abs(e),w),k&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),m&&0===+e&&"+"!==r&&(m=!1),c=(m?"("===r?r:v:"-"===r||"("===r?"":r)+c,l=("s"===x?h[8+a/3]:"")+l+(m&&"("===r?")":""),C)for(i=-1,s=e.length;++i<s;)if(48>(u=e.charCodeAt(i))||u>57){l=(46===u?d+e.slice(i+1):e.slice(i))+l,e=e.slice(0,i);break}}b&&!p&&(e=o(e,1/0));var T=c.length+e.length+l.length,A=T<y?new Array(y-T+1).join(t):"";switch(b&&p&&(e=o(A+e,A.length?y-l.length:1/0),A=""),n){case"<":e=c+e+l+A;break;case"=":e=c+A+e+l;break;case"^":e=A.slice(0,T=A.length>>1)+c+e+l+A.slice(T);break;default:e=A+c+e+l}return f(e)}return w=void 0===w?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),T.toString=function(){return e+""},T}return{format:y,formatPrefix:function(e,t){var n=y(((e=(0,i.Z)(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor((0,r.Z)(t)/3))),o=Math.pow(10,-a),s=h[8+a/3];return function(e){return n(o*e)+s}}}}l=m({thousands:",",grouping:[3],currency:["$",""]}),d=l.format,f=l.formatPrefix},54751:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3469);function i(e){return(e=(0,r.V)(Math.abs(e)))?e[1]:NaN}},3469:function(e,t,n){"use strict";function r(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function i(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}n.d(t,{V:function(){return i},Z:function(){return r}})},74111:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function a(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},20654:function(e,t){!function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function u(e,t){var n=[],r=[];function i(e,t){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var a=Array(e.length-1),o=0;o<a.length;o++)0===o&&n.push(e[0]),o===a.length-1&&r.push(e[o+1]),a[o]=[(1-t)*e[o][0]+t*e[o+1][0],(1-t)*e[o][1]+t*e[o+1][1]];i(a,t)}}return e.length&&i(e,t),{left:n,right:r.reverse()}}function c(e){var t={};return 4===e.length&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],4===e.length?t.type="C":3===e.length?t.type="Q":t.type="L",t}function l(e,t){for(var n=[],r=e,i=1/(t=t||2),a=0;a<t-1;a++){var o=u(r,i/(1-i*a));n.push(o.left),r=o.right}return n.push(r),n}function d(e,t,n){var r=[[e.x,e.y]];return null!=t.x1&&r.push([t.x1,t.y1]),null!=t.x2&&r.push([t.x2,t.y2]),r.push([t.x,t.y]),l(r,n).map(c)}var f=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,p={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};function h(e,t){for(var n=Array(e),r=0;r<e;r++)n[r]=t;return n}function m(e){return"".concat(e.type).concat(p[e.type].map((function(t){return e[t]})).join(","))}function v(e,t){var n={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&"M"!==t.type.toUpperCase()){var i={};Object.keys(t).forEach((function(a){var o=t[a],s=e[a];void 0===s&&(r.includes(a)?s=o:(void 0===s&&n[a]&&(s=e[n[a]]),void 0===s&&(s=0))),i[a]=s})),i.type=t.type,e=i}return e}function g(e,t,r){var i=[];if("L"===t.type||"Q"===t.type||"C"===t.type)i=i.concat(d(e,t,r));else{var a=n({},e);"M"===a.type&&(a.type="L"),(i=i.concat(h(r-1).map((function(){return a})))).push(t)}return i}function y(e,t,r){var i=e.length-1,a=t.length-1,o=i/a,s=h(a).reduce((function(t,n,i){var a=Math.floor(o*i);if(r&&a<e.length-1&&r(e[a],e[a+1])){var s=o*i%1<.5;t[a]&&(s?a>0?a-=1:a<e.length-1&&(a+=1):a<e.length-1?a+=1:a>0&&(a-=1))}return t[a]=(t[a]||0)+1,t}),[]).reduce((function(t,r,i){if(i===e.length-1){var a=h(r,n({},e[e.length-1]));return"M"===a[0].type&&a.forEach((function(e){e.type="L"})),t.concat(a)}return t.concat(g(e[i],e[i+1],r))}),[]);return s.unshift(e[0]),s}function b(e){for(var t,n,r=(e||"").match(f)||[],i=[],a=0;a<r.length;++a)if(t=p[r[a]]){n={type:r[a]};for(var o=0;o<t.length;++o)n[t[o]]=+r[a+o+1];a+=t.length,i.push(n)}return i}function w(e,t,n){var r=null==e?[]:e.slice(),a=null==t?[]:t.slice();if(!r.length&&!a.length)return function(){return[]};var o=(0===r.length||"Z"===r[r.length-1].type)&&(0===a.length||"Z"===a[a.length-1].type);r.length>0&&"Z"===r[r.length-1].type&&r.pop(),a.length>0&&"Z"===a[a.length-1].type&&a.pop(),r.length?a.length||a.push(r[0]):r.push(a[0]),0!==Math.abs(a.length-r.length)&&(a.length>r.length?r=y(r,a,n):a.length<r.length&&(a=y(a,r,n)));var u=(r=r.map((function(e,t){return v(e,a[t])}))).map((function(e){return i({},e)}));return o&&u.push({type:"Z"}),function(e){if(1===e)return null==t?[]:t;if(e>0)for(var n=0;n<u.length;++n){var i,o=r[n],c=a[n],l=u[n],d=s(p[l.type]);try{for(d.s();!(i=d.n()).done;){var f=i.value;l[f]=(1-e)*o[f]+e*c[f],"largeArcFlag"!==f&&"sweepFlag"!==f||(l[f]=Math.round(l[f]))}}catch(h){d.e(h)}finally{d.f()}}return u}}function k(e,t,n){var r=b(e),i=b(t);if(!r.length&&!i.length)return function(){return""};var a=w(r,i,n);return function(e){if(1===e)return null==t?"":t;var n,r="",i=s(a(e));try{for(i.s();!(n=i.n()).done;)r+=m(n.value)}catch(o){i.e(o)}finally{i.f()}return r}}Object.keys(p).forEach((function(e){p[e.toLowerCase()]=p[e]})),e.interpolatePath=k,e.interpolatePathCommands=w,e.pathCommandsFromString=b,Object.defineProperty(e,"__esModule",{value:!0})}(t)},99164:function(e,t,n){"use strict";n.d(t,{M:function(){return o},Z:function(){return a}});var r=n(27436),i=n(63722);function a(e,t){return((0,i.v)(t)?i.Z:o)(e,t)}function o(e,t){var n,i=t?t.length:0,a=e?Math.min(i,e.length):0,o=new Array(a),s=new Array(i);for(n=0;n<a;++n)o[n]=(0,r.Z)(e[n],t[n]);for(;n<i;++n)s[n]=t[n];return function(e){for(n=0;n<a;++n)s[n]=o[n](e);return s}}},99986:function(e,t,n){"use strict";function r(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function i(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[i],o=e[i+1],s=i>0?e[i-1]:2*a-o,u=i<t-1?e[i+2]:2*o-a;return r((n-i/t)*t,s,a,o,u)}}n.d(t,{Z:function(){return i},t:function(){return r}})},32313:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(99986);function i(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),a=e[(i+t-1)%t],o=e[i%t],s=e[(i+1)%t],u=e[(i+2)%t];return(0,r.t)((n-i/t)*t,a,o,s,u)}}},29412:function(e,t,n){"use strict";n.d(t,{ZP:function(){return s},wx:function(){return a},yi:function(){return o}});var r=n(1453);function i(e,t){return function(n){return e+n*t}}function a(e,t){var n=t-e;return n?i(e,n>180||n<-180?n-360*Math.round(n/360):n):(0,r.Z)(isNaN(e)?t:e)}function o(e){return 1===(e=+e)?s:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):(0,r.Z)(isNaN(t)?n:t)}}function s(e,t){var n=t-e;return n?i(e,n):(0,r.Z)(isNaN(e)?t:e)}},1453:function(e,t,n){"use strict";function r(e){return function(){return e}}n.d(t,{Z:function(){return r}})},92716:function(e,t,n){"use strict";n.d(t,{B:function(){return w},Z:function(){return b}});var r=n(38814),i=n(80419),a=n(31233),o=-.14861,s=1.78277,u=-.29227,c=-.90649,l=1.97294,d=l*c,f=l*s,p=s*u-c*o;function h(e){if(e instanceof v)return new v(e.h,e.s,e.l,e.opacity);e instanceof i.Ss||(e=(0,i.SU)(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(p*r+d*t-f*n)/(p+d-f),s=r-o,h=(l*(n-o)-u*s)/c,m=Math.sqrt(h*h+s*s)/(l*o*(1-o)),g=m?Math.atan2(h,s)*a.B-120:NaN;return new v(g<0?g+360:g,m,o,e.opacity)}function m(e,t,n,r){return 1===arguments.length?h(e):new v(e,t,n,null==r?1:r)}function v(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}(0,r.Z)(v,m,(0,r.l)(i.Il,{brighter:function(e){return e=null==e?i.J5:Math.pow(i.J5,e),new v(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?i.xV:Math.pow(i.xV,e),new v(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*a.V,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),d=Math.sin(e);return new i.Ss(255*(t+n*(o*r+s*d)),255*(t+n*(u*r+c*d)),255*(t+n*(l*r)),this.opacity)}}));var g=n(29412);function y(e){return function t(n){function r(t,r){var i=e((t=m(t)).h,(r=m(r)).h),a=(0,g.ZP)(t.s,r.s),o=(0,g.ZP)(t.l,r.l),s=(0,g.ZP)(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}var b=y(g.wx),w=y(g.ZP)},50108:function(e,t,n){"use strict";function r(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}n.d(t,{Z:function(){return r}})},10035:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(73352),i=n(29412);function a(e){return function(t,n){var a=e((t=(0,r.Uc)(t)).h,(n=(0,r.Uc)(n)).h),o=(0,i.ZP)(t.c,n.c),s=(0,i.ZP)(t.l,n.l),u=(0,i.ZP)(t.opacity,n.opacity);return function(e){return t.h=a(e),t.c=o(e),t.l=s(e),t.opacity=u(e),t+""}}}t.Z=a(i.wx);var o=a(i.ZP)},12061:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r=n(80419),i=n(29412);function a(e){return function(t,n){var a=e((t=(0,r.Ym)(t)).h,(n=(0,r.Ym)(n)).h),o=(0,i.ZP)(t.s,n.s),s=(0,i.ZP)(t.l,n.l),u=(0,i.ZP)(t.opacity,n.opacity);return function(e){return t.h=a(e),t.s=o(e),t.l=s(e),t.opacity=u(e),t+""}}}t.Z=a(i.wx);var o=a(i.ZP)},57670:function(e,t,n){"use strict";n.r(t),n.d(t,{interpolate:function(){return r.Z},interpolateArray:function(){return i.Z},interpolateBasis:function(){return a.Z},interpolateBasisClosed:function(){return o.Z},interpolateCubehelix:function(){return P.Z},interpolateCubehelixLong:function(){return P.B},interpolateDate:function(){return s.Z},interpolateDiscrete:function(){return u},interpolateHcl:function(){return N.Z},interpolateHclLong:function(){return N.b},interpolateHsl:function(){return R.Z},interpolateHslLong:function(){return R.q},interpolateHue:function(){return l},interpolateLab:function(){return I.Z},interpolateNumber:function(){return m.Z},interpolateNumberArray:function(){return v.Z},interpolateObject:function(){return g.Z},interpolateRgb:function(){return O.ZP},interpolateRgbBasis:function(){return O.hD},interpolateRgbBasisClosed:function(){return O.YD},interpolateRound:function(){return y.Z},interpolateString:function(){return b.Z},interpolateTransformCss:function(){return S},interpolateTransformSvg:function(){return E},interpolateZoom:function(){return A},piecewise:function(){return M.Z},quantize:function(){return L}});var r=n(27436),i=n(99164),a=n(99986),o=n(32313),s=n(50108);function u(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var c=n(29412);function l(e,t){var n=(0,c.wx)(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}var d,f,p,h,m=n(58765),v=n(63722),g=n(36261),y=n(66058),b=n(30514),w=180/Math.PI,k={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function x(e,t,n,r,i,a){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*w,skewX:Math.atan(u)*w,scaleX:o,scaleY:s}}function _(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],u=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var u=o.push("translate(",null,t,null,n);s.push({i:u-4,x:(0,m.Z)(e,i)},{i:u-2,x:(0,m.Z)(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:(0,m.Z)(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,u),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:(0,m.Z)(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,u),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:(0,m.Z)(e,n)},{i:s-2,x:(0,m.Z)(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var S=_((function(e){return"none"===e?k:(d||(d=document.createElement("DIV"),f=document.documentElement,p=document.defaultView),d.style.transform=e,e=p.getComputedStyle(f.appendChild(d),null).getPropertyValue("transform"),f.removeChild(d),x(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),E=_((function(e){return null==e?k:(h||(h=document.createElementNS("http://www.w3.org/2000/svg","g")),h.setAttribute("transform",e),(e=h.transform.baseVal.consolidate())?x((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):k)}),", ",")",")"),C=Math.SQRT2;function T(e){return((e=Math.exp(e))+1/e)/2}function A(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],u=t[1],c=t[2],l=s-i,d=u-a,f=l*l+d*d;if(f<1e-12)r=Math.log(c/o)/C,n=function(e){return[i+e*l,a+e*d,o*Math.exp(C*e*r)]};else{var p=Math.sqrt(f),h=(c*c-o*o+4*f)/(2*o*2*p),m=(c*c-o*o-4*f)/(2*c*2*p),v=Math.log(Math.sqrt(h*h+1)-h),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/C,n=function(e){var t,n=e*r,s=T(v),u=o/(2*p)*(s*(t=C*n+v,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[i+u*l,a+u*d,o*s/T(C*n+v)]}}return n.duration=1e3*r,n}var O=n(86211),R=n(12061),I=n(26074),N=n(10035),P=n(92716),M=n(59364);function L(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}},26074:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(73352),i=n(29412);function a(e,t){var n=(0,i.ZP)((e=(0,r.ZP)(e)).l,(t=(0,r.ZP)(t)).l),a=(0,i.ZP)(e.a,t.a),o=(0,i.ZP)(e.b,t.b),s=(0,i.ZP)(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=a(t),e.b=o(t),e.opacity=s(t),e+""}}},58765:function(e,t,n){"use strict";function r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.d(t,{Z:function(){return r}})},63722:function(e,t,n){"use strict";function r(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function i(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}n.d(t,{Z:function(){return r},v:function(){return i}})},36261:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(27436);function i(e,t){var n,i={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?i[n]=(0,r.Z)(e[n],t[n]):a[n]=t[n];return function(e){for(n in i)a[n]=i[n](e);return a}}},59364:function(e,t,n){"use strict";function r(e,t){for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}n.d(t,{Z:function(){return r}})},86211:function(e,t,n){"use strict";n.d(t,{YD:function(){return c},hD:function(){return u}});var r=n(80419),i=n(99986),a=n(32313),o=n(29412);function s(e){return function(t){var n,i,a=t.length,o=new Array(a),s=new Array(a),u=new Array(a);for(n=0;n<a;++n)i=(0,r.B8)(t[n]),o[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return o=e(o),s=e(s),u=e(u),i.opacity=1,function(e){return i.r=o(e),i.g=s(e),i.b=u(e),i+""}}}t.ZP=function e(t){var n=(0,o.yi)(t);function i(e,t){var i=n((e=(0,r.B8)(e)).r,(t=(0,r.B8)(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),u=(0,o.ZP)(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=a(t),e.b=s(t),e.opacity=u(t),e+""}}return i.gamma=e,i}(1);var u=s(i.Z),c=s(a.Z)},66058:function(e,t,n){"use strict";function r(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}n.d(t,{Z:function(){return r}})},30514:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(58765),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(i.source,"g");function o(e,t){var n,o,s,u=i.lastIndex=a.lastIndex=0,c=-1,l=[],d=[];for(e+="",t+="";(n=i.exec(e))&&(o=a.exec(t));)(s=o.index)>u&&(s=t.slice(u,s),l[c]?l[c]+=s:l[++c]=s),(n=n[0])===(o=o[0])?l[c]?l[c]+=o:l[++c]=o:(l[++c]=null,d.push({i:c,x:(0,r.Z)(n,o)})),u=a.lastIndex;return u<t.length&&(s=t.slice(u),l[c]?l[c]+=s:l[++c]=s),l.length<2?d[0]?function(e){return function(t){return e(t)+""}}(d[0].x):function(e){return function(){return e}}(t):(t=d.length,function(e){for(var n,r=0;r<t;++r)l[(n=d[r]).i]=n.x(e);return l.join("")})}},27436:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(80419),i=n(86211),a=n(99164),o=n(50108),s=n(58765),u=n(36261),c=n(30514),l=n(1453),d=n(63722);function f(e,t){var n,f=typeof t;return null==t||"boolean"===f?(0,l.Z)(t):("number"===f?s.Z:"string"===f?(n=(0,r.ZP)(t))?(t=n,i.ZP):c.Z:t instanceof r.ZP?i.ZP:t instanceof Date?o.Z:(0,d.v)(t)?d.Z:Array.isArray(t)?a.M:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?u.Z:s.Z)(e,t)}},73339:function(e,t){"use strict";var n=Math.PI,r=2*n,i=1e-6,a=r-i;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new o}o.prototype=s.prototype={constructor:o,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,r,a,o){e=+e,t=+t,r=+r,a=+a,o=+o;var s=this._x1,u=this._y1,c=r-e,l=a-t,d=s-e,f=u-t,p=d*d+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>i)if(Math.abs(f*c-l*d)>i&&o){var h=r-s,m=a-u,v=c*c+l*l,g=h*h+m*m,y=Math.sqrt(v),b=Math.sqrt(p),w=o*Math.tan((n-Math.acos((v+p-g)/(2*y*b)))/2),k=w/b,x=w/y;Math.abs(k-1)>i&&(this._+="L"+(e+k*d)+","+(t+k*f)),this._+="A"+o+","+o+",0,0,"+ +(f*h>d*m)+","+(this._x1=e+x*c)+","+(this._y1=t+x*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,o,s,u,c){e=+e,t=+t,c=!!c;var l=(o=+o)*Math.cos(s),d=o*Math.sin(s),f=e+l,p=t+d,h=1^c,m=c?s-u:u-s;if(o<0)throw new Error("negative radius: "+o);null===this._x1?this._+="M"+f+","+p:(Math.abs(this._x1-f)>i||Math.abs(this._y1-p)>i)&&(this._+="L"+f+","+p),o&&(m<0&&(m=m%r+r),m>a?this._+="A"+o+","+o+",0,1,"+h+","+(e-l)+","+(t-d)+"A"+o+","+o+",0,1,"+h+","+(this._x1=f)+","+(this._y1=p):m>i&&(this._+="A"+o+","+o+",0,"+ +(m>=n)+","+h+","+(this._x1=e+o*Math.cos(u))+","+(this._y1=t+o*Math.sin(u))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.Z=s},87570:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},x:function(){return c}});var r=n(29439),i=n(41539),a=n(37924),o=n(51354);function s(){var e,t,n=(0,o.Z)().unknown(void 0),u=n.domain,c=n.range,l=0,d=1,f=!1,p=0,h=0,m=.5;function v(){var n=u().length,r=d<l,a=r?d:l,o=r?l:d;e=(o-a)/Math.max(1,n-p+2*h),f&&(e=Math.floor(e)),a+=(o-a-e*(n-p))*m,t=e*(1-p),f&&(a=Math.round(a),t=Math.round(t));var s=(0,i.Z)(n).map((function(t){return a+e*t}));return c(r?s.reverse():s)}return delete n.unknown,n.domain=function(e){return arguments.length?(u(e),v()):u()},n.range=function(e){var t;return arguments.length?(t=(0,r.Z)(e,2),l=t[0],d=t[1],l=+l,d=+d,v()):[l,d]},n.rangeRound=function(e){var t;return t=(0,r.Z)(e,2),l=t[0],d=t[1],l=+l,d=+d,f=!0,v()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(f=!!e,v()):f},n.padding=function(e){return arguments.length?(p=Math.min(1,h=+e),v()):p},n.paddingInner=function(e){return arguments.length?(p=Math.min(1,e),v()):p},n.paddingOuter=function(e){return arguments.length?(h=+e,v()):h},n.align=function(e){return arguments.length?(m=Math.max(0,Math.min(1,e)),v()):m},n.copy=function(){return s(u(),[l,d]).round(f).paddingInner(p).paddingOuter(h).align(m)},a.o.apply(v(),arguments)}function u(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return u(t())},e}function c(){return u(s.apply(null,arguments).paddingInner(1))}},76423:function(e,t,n){"use strict";n.d(t,{JG:function(){return p},ZP:function(){return m},yR:function(){return c},l4:function(){return h}});var r=n(84181),i=n(27436),a=n(58765),o=n(66058);var s=n(94696),u=[0,1];function c(e){return e}function l(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function d(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=l(i,r),a=n(o,a)):(r=l(r,i),a=n(a,o)),function(e){return a(r(e))}}function f(e,t,n){var i=Math.min(e.length,t.length)-1,a=new Array(i),o=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)a[s]=l(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=(0,r.ZP)(e,t,1,i)-1;return o[n](a[n](t))}}function p(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function h(){var e,t,n,r,l,p,h=u,m=u,v=i.Z,g=c;function y(){var e=Math.min(h.length,m.length);return g!==c&&(g=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(h[0],h[e-1])),r=e>2?f:d,l=p=null,b}function b(t){return null==t||isNaN(t=+t)?n:(l||(l=r(h.map(e),m,v)))(e(g(t)))}return b.invert=function(n){return g(t((p||(p=r(m,h.map(e),a.Z)))(n)))},b.domain=function(e){return arguments.length?(h=Array.from(e,s.Z),y()):h.slice()},b.range=function(e){return arguments.length?(m=Array.from(e),y()):m.slice()},b.rangeRound=function(e){return m=Array.from(e),v=o.Z,y()},b.clamp=function(e){return arguments.length?(g=!!e||c,y()):g!==c},b.interpolate=function(e){return arguments.length?(v=e,y()):v},b.unknown=function(e){return arguments.length?(n=e,b):n},function(n,r){return e=n,t=r,y()}}function m(){return h()(c,c)}},44384:function(e,t,n){"use strict";n.r(t),n.d(t,{scaleBand:function(){return r.Z},scaleDiverging:function(){return D},scaleDivergingLog:function(){return F},scaleDivergingPow:function(){return j},scaleDivergingSqrt:function(){return Z},scaleDivergingSymlog:function(){return B},scaleIdentity:function(){return o},scaleImplicit:function(){return c.O},scaleLinear:function(){return i.Z},scaleLog:function(){return s.Z},scaleOrdinal:function(){return c.Z},scalePoint:function(){return r.x},scalePow:function(){return l.ZP},scaleQuantile:function(){return f.Z},scaleQuantize:function(){return p.Z},scaleRadial:function(){return d.Z},scaleSequential:function(){return S},scaleSequentialLog:function(){return E},scaleSequentialPow:function(){return T},scaleSequentialQuantile:function(){return P},scaleSequentialSqrt:function(){return A},scaleSequentialSymlog:function(){return C},scaleSqrt:function(){return l._b},scaleSymlog:function(){return u.Z},scaleThreshold:function(){return h.Z},scaleTime:function(){return m.Z},scaleUtc:function(){return v.Z},tickFormat:function(){return V.Z}});var r=n(87570),i=n(89737),a=n(94696);function o(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,a.Z),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return o(e).unknown(t)},e=arguments.length?Array.from(e,a.Z):[0,1],(0,i.Q)(n)}var s=n(47659),u=n(4310),c=n(51354),l=n(23147),d=n(78179),f=n(63688),p=n(1267),h=n(77419),m=n(96722),v=n(17322),g=n(29439),y=n(27436),b=n(66058),w=n(76423),k=n(37924);function x(){var e,t,n,r,i,a=0,o=1,s=w.yR,u=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r,i;return arguments.length?(r=(n=(0,g.Z)(t,2))[0],i=n[1],s=e(r,i),c):[s(0),s(1)]}}return c.domain=function(i){var s;return arguments.length?(s=(0,g.Z)(i,2),a=s[0],o=s[1],e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(u=!!e,c):u},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=l(y.Z),c.rangeRound=l(b.Z),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function _(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function S(){var e=(0,i.Q)(x()(w.yR));return e.copy=function(){return _(e,S())},k.O.apply(e,arguments)}function E(){var e=(0,s.Q)(x()).domain([1,10]);return e.copy=function(){return _(e,E()).base(e.base())},k.O.apply(e,arguments)}function C(){var e=(0,u.P)(x());return e.copy=function(){return _(e,C()).constant(e.constant())},k.O.apply(e,arguments)}function T(){var e=(0,l.Hh)(x());return e.copy=function(){return _(e,T()).exponent(e.exponent())},k.O.apply(e,arguments)}function A(){return T.apply(null,arguments).exponent(.5)}var O=n(37762),R=n(84181),I=n(65403),N=n(1732);function P(){var e=[],t=w.yR;function n(n){if(null!=n&&!isNaN(n=+n))return t(((0,R.ZP)(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];var r,i=(0,O.Z)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;null==a||isNaN(a=+a)||e.push(a)}}catch(o){i.e(o)}finally{i.f()}return e.sort(I.Z),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((function(n,r){return t(r/(e.length-1))}))},n.quantiles=function(t){return Array.from({length:t+1},(function(n,r){return(0,N.Z)(e,r/t)}))},n.copy=function(){return P(t).domain(e)},k.O.apply(n,arguments)}var M=n(59364);function L(){var e,t,n,r,i,a,o,s=0,u=.5,c=1,l=1,d=w.yR,f=!1;function p(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(l*e<l*t?r:i),d(f?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var n,r,i,a;return arguments.length?(r=(n=(0,g.Z)(t,3))[0],i=n[1],a=n[2],d=(0,M.Z)(e,[r,i,a]),p):[d(0),d(.5),d(1)]}}return p.domain=function(o){var d;return arguments.length?(d=(0,g.Z)(o,3),s=d[0],u=d[1],c=d[2],e=a(s=+s),t=a(u=+u),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,p):[s,u,c]},p.clamp=function(e){return arguments.length?(f=!!e,p):f},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=h(y.Z),p.rangeRound=h(b.Z),p.unknown=function(e){return arguments.length?(o=e,p):o},function(o){return a=o,e=o(s),t=o(u),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,p}}function D(){var e=(0,i.Q)(L()(w.yR));return e.copy=function(){return _(e,D())},k.O.apply(e,arguments)}function F(){var e=(0,s.Q)(L()).domain([.1,1,10]);return e.copy=function(){return _(e,F()).base(e.base())},k.O.apply(e,arguments)}function B(){var e=(0,u.P)(L());return e.copy=function(){return _(e,B()).constant(e.constant())},k.O.apply(e,arguments)}function j(){var e=(0,l.Hh)(L());return e.copy=function(){return _(e,j()).exponent(e.exponent())},k.O.apply(e,arguments)}function Z(){return j.apply(null,arguments).exponent(.5)}var V=n(92172)},37924:function(e,t,n){"use strict";function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function i(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}n.d(t,{O:function(){return i},o:function(){return r}})},89737:function(e,t,n){"use strict";n.d(t,{Q:function(){return s},Z:function(){return u}});var r=n(99571),i=n(76423),a=n(37924),o=n(92172);function s(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,r.ZP)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return(0,o.Z)(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,a,o=t(),s=0,u=o.length-1,c=o[s],l=o[u],d=10;for(l<c&&(a=c,c=l,l=a,a=s,s=u,u=a);d-- >0;){if((a=(0,r.G9)(c,l,n))===i)return o[s]=c,o[u]=l,t(o);if(a>0)c=Math.floor(c/a)*a,l=Math.ceil(l/a)*a;else{if(!(a<0))break;c=Math.ceil(c*a)/a,l=Math.floor(l*a)/a}i=a}return e},e}function u(){var e=(0,i.ZP)();return e.copy=function(){return(0,i.JG)(e,u())},a.o.apply(e,arguments),s(e)}},47659:function(e,t,n){"use strict";n.d(t,{Q:function(){return h},Z:function(){return m}});var r=n(99571),i=n(57027),a=n(85897),o=n(76423),s=n(37924);function u(e){return Math.log(e)}function c(e){return Math.exp(e)}function l(e){return-Math.log(-e)}function d(e){return-Math.exp(-e)}function f(e){return isFinite(e)?+("1e"+e):e<0?0:e}function p(e){return function(t){return-e(-t)}}function h(e){var t,n,o=e(u,c),s=o.domain,h=10;function m(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(h),n=function(e){return 10===e?f:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(h),s()[0]<0?(t=p(t),n=p(n),e(l,d)):e(u,c),o}return o.base=function(e){return arguments.length?(h=+e,m()):h},o.domain=function(e){return arguments.length?(s(e),m()):s()},o.ticks=function(e){var i,a=s(),o=a[0],u=a[a.length-1];(i=u<o)&&(f=o,o=u,u=f);var c,l,d,f=t(o),p=t(u),m=null==e?10:+e,v=[];if(!(h%1)&&p-f<m){if(f=Math.floor(f),p=Math.ceil(p),o>0){for(;f<=p;++f)for(l=1,c=n(f);l<h;++l)if(!((d=c*l)<o)){if(d>u)break;v.push(d)}}else for(;f<=p;++f)for(l=h-1,c=n(f);l>=1;--l)if(!((d=c*l)<o)){if(d>u)break;v.push(d)}2*v.length<m&&(v=(0,r.ZP)(o,u,m))}else v=(0,r.ZP)(f,p,Math.min(p-f,m)).map(n);return i?v.reverse():v},o.tickFormat=function(e,r){if(null==r&&(r=10===h?".0e":","),"function"!==typeof r&&(r=(0,i.WU)(r)),e===1/0)return r;null==e&&(e=10);var a=Math.max(1,h*e/o.ticks().length);return function(e){var i=e/n(Math.round(t(e)));return i*h<h-.5&&(i*=h),i<=a?r(e):""}},o.nice=function(){return s((0,a.Z)(s(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},o}function m(){var e=h((0,o.l4)()).domain([1,10]);return e.copy=function(){return(0,o.JG)(e,m()).base(e.base())},s.o.apply(e,arguments),e}},85897:function(e,t,n){"use strict";function r(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}n.d(t,{Z:function(){return r}})},94696:function(e,t,n){"use strict";function r(e){return+e}n.d(t,{Z:function(){return r}})},51354:function(e,t,n){"use strict";n.d(t,{O:function(){return a},Z:function(){return o}});var r=n(37762),i=n(37924),a=Symbol("implicit");function o(){var e=new Map,t=[],n=[],s=a;function u(r){var i=r+"",o=e.get(i);if(!o){if(s!==a)return s;e.set(i,o=t.push(r))}return n[(o-1)%n.length]}return u.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var i,a=(0,r.Z)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o+"";e.has(s)||e.set(s,t.push(o))}}catch(c){a.e(c)}finally{a.f()}return u},u.range=function(e){return arguments.length?(n=Array.from(e),u):n.slice()},u.unknown=function(e){return arguments.length?(s=e,u):s},u.copy=function(){return o(t,n).unknown(s)},i.o.apply(u,arguments),u}},23147:function(e,t,n){"use strict";n.d(t,{Hh:function(){return c},ZP:function(){return l},_b:function(){return d}});var r=n(89737),i=n(76423),a=n(37924);function o(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function s(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function u(e){return e<0?-e*e:e*e}function c(e){var t=e(i.yR,i.yR),n=1;function a(){return 1===n?e(i.yR,i.yR):.5===n?e(s,u):e(o(n),o(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,a()):n},(0,r.Q)(t)}function l(){var e=c((0,i.l4)());return e.copy=function(){return(0,i.JG)(e,l()).exponent(e.exponent())},a.o.apply(e,arguments),e}function d(){return l.apply(null,arguments).exponent(.5)}},63688:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(37762),i=n(1732),a=n(84181),o=n(65403),s=n(37924);function u(){var e,t=[],n=[],c=[];function l(){var e=0,r=Math.max(1,n.length);for(c=new Array(r-1);++e<r;)c[e-1]=(0,i.s)(t,e/r);return d}function d(t){return null==t||isNaN(t=+t)?e:n[(0,a.ZP)(c,t)]}return d.invertExtent=function(e){var r=n.indexOf(e);return r<0?[NaN,NaN]:[r>0?c[r-1]:t[0],r<c.length?c[r]:t[t.length-1]]},d.domain=function(e){if(!arguments.length)return t.slice();t=[];var n,i=(0,r.Z)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;null==a||isNaN(a=+a)||t.push(a)}}catch(s){i.e(s)}finally{i.f()}return t.sort(o.Z),l()},d.range=function(e){return arguments.length?(n=Array.from(e),l()):n.slice()},d.unknown=function(t){return arguments.length?(e=t,d):e},d.quantiles=function(){return c.slice()},d.copy=function(){return u().domain(t).range(n).unknown(e)},s.o.apply(d,arguments)}},1267:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29439),i=n(84181),a=n(89737),o=n(37924);function s(){var e,t=0,n=1,u=1,c=[.5],l=[0,1];function d(t){return null!=t&&t<=t?l[(0,i.ZP)(c,t,0,u)]:e}function f(){var e=-1;for(c=new Array(u);++e<u;)c[e]=((e+1)*n-(e-u)*t)/(u+1);return d}return d.domain=function(e){var i;return arguments.length?(i=(0,r.Z)(e,2),t=i[0],n=i[1],t=+t,n=+n,f()):[t,n]},d.range=function(e){return arguments.length?(u=(l=Array.from(e)).length-1,f()):l.slice()},d.invertExtent=function(e){var r=l.indexOf(e);return r<0?[NaN,NaN]:r<1?[t,c[0]]:r>=u?[c[u-1],n]:[c[r-1],c[r]]},d.unknown=function(t){return arguments.length?(e=t,d):d},d.thresholds=function(){return c.slice()},d.copy=function(){return s().domain([t,n]).range(l).unknown(e)},o.o.apply((0,a.Q)(d),arguments)}},78179:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(76423),i=n(37924),a=n(89737),o=n(94696);function s(e){return Math.sign(e)*e*e}function u(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function c(){var e,t=(0,r.ZP)(),n=[0,1],l=!1;function d(n){var r=u(t(n));return isNaN(r)?e:l?Math.round(r):r}return d.invert=function(e){return t.invert(s(e))},d.domain=function(e){return arguments.length?(t.domain(e),d):t.domain()},d.range=function(e){return arguments.length?(t.range((n=Array.from(e,o.Z)).map(s)),d):n.slice()},d.rangeRound=function(e){return d.range(e).round(!0)},d.round=function(e){return arguments.length?(l=!!e,d):l},d.clamp=function(e){return arguments.length?(t.clamp(e),d):t.clamp()},d.unknown=function(t){return arguments.length?(e=t,d):e},d.copy=function(){return c(t.domain(),n).round(l).clamp(t.clamp()).unknown(e)},i.o.apply(d,arguments),(0,a.Q)(d)}},4310:function(e,t,n){"use strict";n.d(t,{P:function(){return u},Z:function(){return c}});var r=n(89737),i=n(76423),a=n(37924);function o(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function s(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function u(e){var t=1,n=e(o(t),s(t));return n.constant=function(n){return arguments.length?e(o(t=+n),s(t)):t},(0,r.Q)(n)}function c(){var e=u((0,i.l4)());return e.copy=function(){return(0,i.JG)(e,c()).constant(e.constant())},a.o.apply(e,arguments)}},77419:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(84181),i=n(37924);function a(){var e,t=[.5],n=[0,1],o=1;function s(i){return null!=i&&i<=i?n[(0,r.ZP)(t,i,0,o)]:e}return s.domain=function(e){return arguments.length?(t=Array.from(e),o=Math.min(t.length,n.length-1),s):t.slice()},s.range=function(e){return arguments.length?(n=Array.from(e),o=Math.min(t.length,n.length-1),s):n.slice()},s.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},s.unknown=function(t){return arguments.length?(e=t,s):e},s.copy=function(){return a().domain(t).range(n).unknown(e)},i.o.apply(s,arguments)}},92172:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(99571),i=n(74111),a=n(54751);var o=n(57027);function s(e,t,n,s){var u,c=(0,r.ly)(e,t,n);switch((s=(0,i.Z)(null==s?",f":s)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=s.precision||isNaN(u=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,a.Z)(t)/3)))-(0,a.Z)(Math.abs(e)))}(c,l))||(s.precision=u),(0,o.jH)(s,l);case"":case"e":case"g":case"p":case"r":null!=s.precision||isNaN(u=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,a.Z)(t)-(0,a.Z)(e))+1}(c,Math.max(Math.abs(e),Math.abs(t))))||(s.precision=u-("e"===s.type));break;case"f":case"%":null!=s.precision||isNaN(u=function(e){return Math.max(0,-(0,a.Z)(Math.abs(e)))}(c))||(s.precision=u-2*("%"===s.type))}return(0,o.WU)(s)}},96722:function(e,t,n){"use strict";n.d(t,{Y:function(){return g},Z:function(){return y}});var r=n(80783),i=n(36243),a=n(44870),o=n(6817),s=n(24527),u=n(37568),c=n(40020),l=n(4495),d=n(70985),f=n(76423),p=n(37924),h=n(85897);function m(e){return new Date(e)}function v(e){return e instanceof Date?+e:+new Date(+e)}function g(e,t,n,r,i,a,o,s,u,c){var l=(0,f.ZP)(),d=l.invert,p=l.domain,y=c(".%L"),b=c(":%S"),w=c("%I:%M"),k=c("%I %p"),x=c("%a %d"),_=c("%b %d"),S=c("%B"),E=c("%Y");function C(e){return(u(e)<e?y:s(e)<e?b:o(e)<e?w:a(e)<e?k:r(e)<e?i(e)<e?x:_:n(e)<e?S:E)(e)}return l.invert=function(e){return new Date(d(e))},l.domain=function(e){return arguments.length?p(Array.from(e,v)):p().map(m)},l.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},l.tickFormat=function(e,t){return null==t?C:c(t)},l.nice=function(e){var n=p();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?p((0,h.Z)(n,e)):l},l.copy=function(){return(0,f.JG)(l,g(e,t,n,r,i,a,o,s,u,c))},l}function y(){return p.o.apply(g(r.jK,r._g,i.Z,a.Z,o.OM,s.Z,u.Z,c.Z,l.Z,d.i$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},17322:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(80783),i=n(13608),a=n(86570),o=n(80438),s=n(7171),u=n(63854),c=n(632),l=n(4495),d=n(70985),f=n(96722),p=n(37924);function h(){return p.o.apply((0,f.Y)(r.WG,r.jo,i.Z,a.Z,o.Ox,s.Z,u.Z,c.Z,l.Z,d.g0).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}},21561:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(73339),i=n(76817),a=n(47226);function o(e){return e.innerRadius}function s(e){return e.outerRadius}function u(e){return e.startAngle}function c(e){return e.endAngle}function l(e){return e&&e.padAngle}function d(e,t,n,r,i,o,s,u){var c=n-e,l=r-t,d=s-i,f=u-o,p=f*c-d*l;if(!(p*p<a.Ho))return[e+(p=(d*(t-o)-f*(e-i))/p)*c,t+p*l]}function f(e,t,n,r,i,o,s){var u=e-n,c=t-r,l=(s?o:-o)/(0,a._b)(u*u+c*c),d=l*c,f=-l*u,p=e+d,h=t+f,m=n+d,v=r+f,g=(p+m)/2,y=(h+v)/2,b=m-p,w=v-h,k=b*b+w*w,x=i-o,_=p*v-m*h,S=(w<0?-1:1)*(0,a._b)((0,a.Fp)(0,x*x*k-_*_)),E=(_*w-b*S)/k,C=(-_*b-w*S)/k,T=(_*w+b*S)/k,A=(-_*b+w*S)/k,O=E-g,R=C-y,I=T-g,N=A-y;return O*O+R*R>I*I+N*N&&(E=T,C=A),{cx:E,cy:C,x01:-d,y01:-f,x11:E*(i/x-1),y11:C*(i/x-1)}}function p(){var e=o,t=s,n=(0,i.Z)(0),p=null,h=u,m=c,v=l,g=null;function y(){var i,o,s=+e.apply(this,arguments),u=+t.apply(this,arguments),c=h.apply(this,arguments)-a.ou,l=m.apply(this,arguments)-a.ou,y=(0,a.Wn)(l-c),b=l>c;if(g||(g=i=(0,r.Z)()),u<s&&(o=u,u=s,s=o),u>a.Ho)if(y>a.BZ-a.Ho)g.moveTo(u*(0,a.mC)(c),u*(0,a.O$)(c)),g.arc(0,0,u,c,l,!b),s>a.Ho&&(g.moveTo(s*(0,a.mC)(l),s*(0,a.O$)(l)),g.arc(0,0,s,l,c,b));else{var w,k,x=c,_=l,S=c,E=l,C=y,T=y,A=v.apply(this,arguments)/2,O=A>a.Ho&&(p?+p.apply(this,arguments):(0,a._b)(s*s+u*u)),R=(0,a.VV)((0,a.Wn)(u-s)/2,+n.apply(this,arguments)),I=R,N=R;if(O>a.Ho){var P=(0,a.ZR)(O/s*(0,a.O$)(A)),M=(0,a.ZR)(O/u*(0,a.O$)(A));(C-=2*P)>a.Ho?(S+=P*=b?1:-1,E-=P):(C=0,S=E=(c+l)/2),(T-=2*M)>a.Ho?(x+=M*=b?1:-1,_-=M):(T=0,x=_=(c+l)/2)}var L=u*(0,a.mC)(x),D=u*(0,a.O$)(x),F=s*(0,a.mC)(E),B=s*(0,a.O$)(E);if(R>a.Ho){var j,Z=u*(0,a.mC)(_),V=u*(0,a.O$)(_),U=s*(0,a.mC)(S),W=s*(0,a.O$)(S);if(y<a.pi&&(j=d(L,D,U,W,Z,V,F,B))){var H=L-j[0],z=D-j[1],G=Z-j[0],q=V-j[1],K=1/(0,a.O$)((0,a.Kh)((H*G+z*q)/((0,a._b)(H*H+z*z)*(0,a._b)(G*G+q*q)))/2),Y=(0,a._b)(j[0]*j[0]+j[1]*j[1]);I=(0,a.VV)(R,(s-Y)/(K-1)),N=(0,a.VV)(R,(u-Y)/(K+1))}}T>a.Ho?N>a.Ho?(w=f(U,W,L,D,u,N,b),k=f(Z,V,F,B,u,N,b),g.moveTo(w.cx+w.x01,w.cy+w.y01),N<R?g.arc(w.cx,w.cy,N,(0,a.fv)(w.y01,w.x01),(0,a.fv)(k.y01,k.x01),!b):(g.arc(w.cx,w.cy,N,(0,a.fv)(w.y01,w.x01),(0,a.fv)(w.y11,w.x11),!b),g.arc(0,0,u,(0,a.fv)(w.cy+w.y11,w.cx+w.x11),(0,a.fv)(k.cy+k.y11,k.cx+k.x11),!b),g.arc(k.cx,k.cy,N,(0,a.fv)(k.y11,k.x11),(0,a.fv)(k.y01,k.x01),!b))):(g.moveTo(L,D),g.arc(0,0,u,x,_,!b)):g.moveTo(L,D),s>a.Ho&&C>a.Ho?I>a.Ho?(w=f(F,B,Z,V,s,-I,b),k=f(L,D,U,W,s,-I,b),g.lineTo(w.cx+w.x01,w.cy+w.y01),I<R?g.arc(w.cx,w.cy,I,(0,a.fv)(w.y01,w.x01),(0,a.fv)(k.y01,k.x01),!b):(g.arc(w.cx,w.cy,I,(0,a.fv)(w.y01,w.x01),(0,a.fv)(w.y11,w.x11),!b),g.arc(0,0,s,(0,a.fv)(w.cy+w.y11,w.cx+w.x11),(0,a.fv)(k.cy+k.y11,k.cx+k.x11),b),g.arc(k.cx,k.cy,I,(0,a.fv)(k.y11,k.x11),(0,a.fv)(k.y01,k.x01),!b))):g.arc(0,0,s,E,S,b):g.lineTo(F,B)}else g.moveTo(0,0);if(g.closePath(),i)return g=null,i+""||null}return y.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+h.apply(this,arguments)+ +m.apply(this,arguments))/2-a.pi/2;return[(0,a.mC)(r)*n,(0,a.O$)(r)*n]},y.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.Z)(+t),y):e},y.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:(0,i.Z)(+e),y):t},y.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.Z)(+e),y):n},y.padRadius=function(e){return arguments.length?(p=null==e?null:"function"===typeof e?e:(0,i.Z)(+e),y):p},y.startAngle=function(e){return arguments.length?(h="function"===typeof e?e:(0,i.Z)(+e),y):h},y.endAngle=function(e){return arguments.length?(m="function"===typeof e?e:(0,i.Z)(+e),y):m},y.padAngle=function(e){return arguments.length?(v="function"===typeof e?e:(0,i.Z)(+e),y):v},y.context=function(e){return arguments.length?(g=null==e?null:e,y):g},y}},85520:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(73339),i=n(76817),a=n(38146),o=n(86344),s=n(15402);function u(){var e=s.x,t=null,n=(0,i.Z)(0),u=s.y,c=(0,i.Z)(!0),l=null,d=a.Z,f=null;function p(i){var a,o,s,p,h,m=i.length,v=!1,g=new Array(m),y=new Array(m);for(null==l&&(f=d(h=(0,r.Z)())),a=0;a<=m;++a){if(!(a<m&&c(p=i[a],a,i))===v)if(v=!v)o=a,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),s=a-1;s>=o;--s)f.point(g[s],y[s]);f.lineEnd(),f.areaEnd()}v&&(g[a]=+e(p,a,i),y[a]=+n(p,a,i),f.point(t?+t(p,a,i):g[a],u?+u(p,a,i):y[a]))}if(h)return f=null,h+""||null}function h(){return(0,o.Z)().defined(c).curve(d).context(l)}return p.x=function(n){return arguments.length?(e="function"===typeof n?n:(0,i.Z)(+n),t=null,p):e},p.x0=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.Z)(+t),p):e},p.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:(0,i.Z)(+e),p):t},p.y=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.Z)(+e),u=null,p):n},p.y0=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.Z)(+e),p):n},p.y1=function(e){return arguments.length?(u=null==e?null:"function"===typeof e?e:(0,i.Z)(+e),p):u},p.lineX0=p.lineY0=function(){return h().x(e).y(n)},p.lineY1=function(){return h().x(e).y(u)},p.lineX1=function(){return h().x(t).y(n)},p.defined=function(e){return arguments.length?(c="function"===typeof e?e:(0,i.Z)(!!e),p):c},p.curve=function(e){return arguments.length?(d=e,null!=l&&(f=d(l)),p):d},p.context=function(e){return arguments.length?(null==e?l=f=null:f=d(l=e),p):l},p}},5803:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});var r=Array.prototype.slice},76817:function(e,t,n){"use strict";function r(e){return function(){return e}}n.d(t,{Z:function(){return r}})},76314:function(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function i(e){this._context=e}function a(e){return new i(e)}n.d(t,{ZP:function(){return a},fE:function(){return i},xm:function(){return r}}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},6066:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(42447),i=n(76314);function a(e){this._context=e}function o(e){return new a(e)}a.prototype={areaStart:r.Z,areaEnd:r.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:(0,i.xm)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},54404:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(76314);function i(e){this._context=e}function a(e){return new i(e)}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:(0,r.xm)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},4493:function(e,t,n){"use strict";var r=n(76314);function i(e,t){this._basis=new r.fE(e),this._beta=t}i.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,s=t[n]-a,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*o),this._beta*t[u]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}},t.Z=function e(t){function n(e){return 1===t?new r.fE(e):new i(e,t)}return n.beta=function(t){return e(+t)},n}(.85)},21804:function(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function i(e,t){this._context=e,this._k=(1-t)/6}n.d(t,{pC:function(){return i},xm:function(){return r}}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:r(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.ZP=function e(t){function n(e){return new i(e,t)}return n.tension=function(t){return e(+t)},n}(0)},43328:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(42447),i=n(21804);function a(e,t){this._context=e,this._k=(1-t)/6}a.prototype={areaStart:r.Z,areaEnd:r.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:(0,i.xm)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return new a(e,t)}return n.tension=function(t){return e(+t)},n}(0)},27273:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var r=n(21804);function i(e,t){this._context=e,this._k=(1-t)/6}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,r.xm)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return new i(e,t)}return n.tension=function(t){return e(+t)},n}(0)},8147:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var r=n(47226),i=n(21804);function a(e,t,n){var i=e._x1,a=e._y1,o=e._x2,s=e._y2;if(e._l01_a>r.Ho){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,a=(a*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>r.Ho){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/d,s=(s*l+e._y1*e._l23_2a-n*e._l12_2a)/d}e._context.bezierCurveTo(i,a,o,s,e._x2,e._y2)}function o(e,t){this._context=e,this._alpha=t}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:a(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return t?new o(e,t):new i.pC(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},6449:function(e,t,n){"use strict";var r=n(43328),i=n(42447),a=n(8147);function o(e,t){this._context=e,this._alpha=t}o.prototype={areaStart:i.Z,areaEnd:i.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:(0,a.x)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return t?new o(e,t):new r.U(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},92314:function(e,t,n){"use strict";var r=n(27273),i=n(8147);function a(e,t){this._context=e,this._alpha=t}a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,i.x)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return t?new a(e,t):new r.T(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},38146:function(e,t,n){"use strict";function r(e){this._context=e}function i(e){return new r(e)}n.d(t,{Z:function(){return i}}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}},19199:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(42447);function i(e){this._context=e}function a(e){return new i(e)}i.prototype={areaStart:r.Z,areaEnd:r.Z,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}},55856:function(e,t,n){"use strict";function r(e){return e<0?-1:1}function i(e,t,n){var i=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(i||a<0&&-0),s=(n-e._y1)/(a||i<0&&-0),u=(o*a+s*i)/(i+a);return(r(o)+r(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function a(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function s(e){this._context=e}function u(e){this._context=new c(e)}function c(e){this._context=e}function l(e){return new s(e)}function d(e){return new u(e)}n.d(t,{Z:function(){return l},s:function(){return d}}),s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o(this,this._t0,a(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o(this,a(this,n=i(this,e,t)),n);break;default:o(this,this._t0,n=i(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(u.prototype=Object.create(s.prototype)).point=function(e,t){s.prototype.point.call(this,t,e)},c.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}}},41828:function(e,t,n){"use strict";function r(e){this._context=e}function i(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function a(e){return new r(e)}n.d(t,{Z:function(){return a}}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=i(e),a=i(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}},89875:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},j:function(){return r}});var r=a(n(38146).Z);function i(e){this._curve=e}function a(e){function t(t){return new i(e(t))}return t._curve=e,t}i.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}},19943:function(e,t,n){"use strict";function r(e,t){this._context=e,this._t=t}function i(e){return new r(e,.5)}function a(e){return new r(e,0)}function o(e){return new r(e,1)}n.d(t,{RN:function(){return a},ZP:function(){return i},cD:function(){return o}}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}}},29100:function(e,t,n){"use strict";n.r(t),n.d(t,{arc:function(){return r.Z},area:function(){return i.Z},areaRadial:function(){return c},curveBasis:function(){return D.ZP},curveBasisClosed:function(){return M.Z},curveBasisOpen:function(){return L.Z},curveBundle:function(){return F.Z},curveCardinal:function(){return Z.ZP},curveCardinalClosed:function(){return B.Z},curveCardinalOpen:function(){return j.Z},curveCatmullRom:function(){return W.Z},curveCatmullRomClosed:function(){return V.Z},curveCatmullRomOpen:function(){return U.Z},curveLinear:function(){return z.Z},curveLinearClosed:function(){return H.Z},curveMonotoneX:function(){return G.Z},curveMonotoneY:function(){return G.s},curveNatural:function(){return q.Z},curveStep:function(){return K.ZP},curveStepAfter:function(){return K.cD},curveStepBefore:function(){return K.RN},line:function(){return a.Z},lineRadial:function(){return u.Z},linkHorizontal:function(){return d.h5},linkRadial:function(){return d.M4},linkVertical:function(){return d.rR},pie:function(){return o.Z},pointRadial:function(){return l.Z},radialArea:function(){return c},radialLine:function(){return u.Z},stack:function(){return Y.Z},stackOffsetDiverging:function(){return Q.Z},stackOffsetExpand:function(){return X.Z},stackOffsetNone:function(){return J.Z},stackOffsetSilhouette:function(){return $.Z},stackOffsetWiggle:function(){return ee.Z},stackOrderAppearance:function(){return te.Z},stackOrderAscending:function(){return ne.Z},stackOrderDescending:function(){return re.Z},stackOrderInsideOut:function(){return ie.Z},stackOrderNone:function(){return ae.Z},stackOrderReverse:function(){return oe.Z},symbol:function(){return P},symbolCircle:function(){return h},symbolCross:function(){return m},symbolDiamond:function(){return y},symbolSquare:function(){return _},symbolStar:function(){return x},symbolTriangle:function(){return E},symbolWye:function(){return R},symbols:function(){return N}});var r=n(21561),i=n(85520),a=n(86344),o=n(54321),s=n(89875),u=n(19509);function c(){var e=(0,i.Z)().curve(s.j),t=e.curve,n=e.lineX0,r=e.lineX1,a=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return(0,u.X)(n())},delete e.lineX0,e.lineEndAngle=function(){return(0,u.X)(r())},delete e.lineX1,e.lineInnerRadius=function(){return(0,u.X)(a())},delete e.lineY0,e.lineOuterRadius=function(){return(0,u.X)(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t((0,s.Z)(e)):t()._curve},e}var l=n(84687),d=n(6274),f=n(73339),p=n(47226),h={draw:function(e,t){var n=Math.sqrt(t/p.pi);e.moveTo(n,0),e.arc(0,0,n,0,p.BZ)}},m={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},v=Math.sqrt(1/3),g=2*v,y={draw:function(e,t){var n=Math.sqrt(t/g),r=n*v;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},b=Math.sin(p.pi/10)/Math.sin(7*p.pi/10),w=Math.sin(p.BZ/10)*b,k=-Math.cos(p.BZ/10)*b,x={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=w*n,i=k*n;e.moveTo(0,-n),e.lineTo(r,i);for(var a=1;a<5;++a){var o=p.BZ*a/5,s=Math.cos(o),u=Math.sin(o);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*i,u*r+s*i)}e.closePath()}},_={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},S=Math.sqrt(3),E={draw:function(e,t){var n=-Math.sqrt(t/(3*S));e.moveTo(0,2*n),e.lineTo(-S*n,-n),e.lineTo(S*n,-n),e.closePath()}},C=-.5,T=Math.sqrt(3)/2,A=1/Math.sqrt(12),O=3*(A/2+1),R={draw:function(e,t){var n=Math.sqrt(t/O),r=n/2,i=n*A,a=r,o=n*A+n,s=-a,u=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,u),e.lineTo(C*r-T*i,T*r+C*i),e.lineTo(C*a-T*o,T*a+C*o),e.lineTo(C*s-T*u,T*s+C*u),e.lineTo(C*r+T*i,C*i-T*r),e.lineTo(C*a+T*o,C*o-T*a),e.lineTo(C*s+T*u,C*u-T*s),e.closePath()}},I=n(76817),N=[h,m,y,_,x,E,R];function P(){var e=(0,I.Z)(h),t=(0,I.Z)(64),n=null;function r(){var r;if(n||(n=r=(0,f.Z)()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"===typeof t?t:(0,I.Z)(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:(0,I.Z)(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}var M=n(6066),L=n(54404),D=n(76314),F=n(4493),B=n(43328),j=n(27273),Z=n(21804),V=n(6449),U=n(92314),W=n(8147),H=n(19199),z=n(38146),G=n(55856),q=n(41828),K=n(19943),Y=n(3650),X=n(96720),Q=n(96557),J=n(50724),$=n(16126),ee=n(63852),te=n(97298),ne=n(39912),re=n(92889),ie=n(24362),ae=n(16542),oe=n(20659)},86344:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(73339),i=n(76817),a=n(38146),o=n(15402);function s(){var e=o.x,t=o.y,n=(0,i.Z)(!0),s=null,u=a.Z,c=null;function l(i){var a,o,l,d=i.length,f=!1;for(null==s&&(c=u(l=(0,r.Z)())),a=0;a<=d;++a)!(a<d&&n(o=i[a],a,i))===f&&((f=!f)?c.lineStart():c.lineEnd()),f&&c.point(+e(o,a,i),+t(o,a,i));if(l)return c=null,l+""||null}return l.x=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.Z)(+t),l):e},l.y=function(e){return arguments.length?(t="function"===typeof e?e:(0,i.Z)(+e),l):t},l.defined=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.Z)(!!e),l):n},l.curve=function(e){return arguments.length?(u=e,null!=s&&(c=u(s)),l):u},l.context=function(e){return arguments.length?(null==e?s=c=null:c=u(s=e),l):s},l}},19509:function(e,t,n){"use strict";n.d(t,{X:function(){return a},Z:function(){return o}});var r=n(89875),i=n(86344);function a(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t((0,r.Z)(e)):t()._curve},e}function o(){return a((0,i.Z)().curve(r.j))}},6274:function(e,t,n){"use strict";n.d(t,{M4:function(){return v},h5:function(){return h},rR:function(){return m}});var r=n(73339),i=n(5803),a=n(76817),o=n(15402),s=n(84687);function u(e){return e.source}function c(e){return e.target}function l(e){var t=u,n=c,s=o.x,l=o.y,d=null;function f(){var a,o=i.t.call(arguments),u=t.apply(this,o),c=n.apply(this,o);if(d||(d=a=(0,r.Z)()),e(d,+s.apply(this,(o[0]=u,o)),+l.apply(this,o),+s.apply(this,(o[0]=c,o)),+l.apply(this,o)),a)return d=null,a+""||null}return f.source=function(e){return arguments.length?(t=e,f):t},f.target=function(e){return arguments.length?(n=e,f):n},f.x=function(e){return arguments.length?(s="function"===typeof e?e:(0,a.Z)(+e),f):s},f.y=function(e){return arguments.length?(l="function"===typeof e?e:(0,a.Z)(+e),f):l},f.context=function(e){return arguments.length?(d=null==e?null:e,f):d},f}function d(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function f(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function p(e,t,n,r,i){var a=(0,s.Z)(t,n),o=(0,s.Z)(t,n=(n+i)/2),u=(0,s.Z)(r,n),c=(0,s.Z)(r,i);e.moveTo(a[0],a[1]),e.bezierCurveTo(o[0],o[1],u[0],u[1],c[0],c[1])}function h(){return l(d)}function m(){return l(f)}function v(){var e=l(p);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}},47226:function(e,t,n){"use strict";n.d(t,{BZ:function(){return p},Fp:function(){return o},Ho:function(){return l},Kh:function(){return h},O$:function(){return u},VV:function(){return s},Wn:function(){return r},ZR:function(){return m},_b:function(){return c},fv:function(){return i},mC:function(){return a},ou:function(){return f},pi:function(){return d}});var r=Math.abs,i=Math.atan2,a=Math.cos,o=Math.max,s=Math.min,u=Math.sin,c=Math.sqrt,l=1e-12,d=Math.PI,f=d/2,p=2*d;function h(e){return e>1?0:e<-1?d:Math.acos(e)}function m(e){return e>=1?f:e<=-1?-f:Math.asin(e)}},42447:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},96557:function(e,t,n){"use strict";function r(e,t){if((s=e.length)>0)for(var n,r,i,a,o,s,u=0,c=e[t[0]].length;u<c;++u)for(a=o=0,n=0;n<s;++n)(i=(r=e[t[n]][u])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):(r[0]=0,r[1]=i)}n.d(t,{Z:function(){return r}})},96720:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(50724);function i(e,t){if((i=e.length)>0){for(var n,i,a,o=0,s=e[0].length;o<s;++o){for(a=n=0;n<i;++n)a+=e[n][o][1]||0;if(a)for(n=0;n<i;++n)e[n][o][1]/=a}(0,r.Z)(e,t)}}},50724:function(e,t,n){"use strict";function r(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}n.d(t,{Z:function(){return r}})},16126:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(50724);function i(e,t){if((n=e.length)>0){for(var n,i=0,a=e[t[0]],o=a.length;i<o;++i){for(var s=0,u=0;s<n;++s)u+=e[s][i][1]||0;a[i][1]+=a[i][0]=-u/2}(0,r.Z)(e,t)}}},63852:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(50724);function i(e,t){if((a=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,a,o=0,s=1;s<i;++s){for(var u=0,c=0,l=0;u<a;++u){for(var d=e[t[u]],f=d[s][1]||0,p=(f-(d[s-1][1]||0))/2,h=0;h<u;++h){var m=e[t[h]];p+=(m[s][1]||0)-(m[s-1][1]||0)}c+=f,l+=p*f}n[s-1][1]+=n[s-1][0]=o,c&&(o-=l/c)}n[s-1][1]+=n[s-1][0]=o,(0,r.Z)(e,t)}}},97298:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(16542);function i(e){var t=e.map(a);return(0,r.Z)(e).sort((function(e,n){return t[e]-t[n]}))}function a(e){for(var t,n=-1,r=0,i=e.length,a=-1/0;++n<i;)(t=+e[n][1])>a&&(a=t,r=n);return r}},39912:function(e,t,n){"use strict";n.d(t,{S:function(){return a},Z:function(){return i}});var r=n(16542);function i(e){var t=e.map(a);return(0,r.Z)(e).sort((function(e,n){return t[e]-t[n]}))}function a(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}},92889:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(39912);function i(e){return(0,r.Z)(e).reverse()}},24362:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(97298),i=n(39912);function a(e){var t,n,a=e.length,o=e.map(i.S),s=(0,r.Z)(e),u=0,c=0,l=[],d=[];for(t=0;t<a;++t)n=s[t],u<c?(u+=o[n],l.push(n)):(c+=o[n],d.push(n));return d.reverse().concat(l)}},16542:function(e,t,n){"use strict";function r(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}n.d(t,{Z:function(){return r}})},20659:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(16542);function i(e){return(0,r.Z)(e).reverse()}},54321:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(76817);function i(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function a(e){return e}var o=n(47226);function s(){var e=a,t=i,n=null,s=(0,r.Z)(0),u=(0,r.Z)(o.BZ),c=(0,r.Z)(0);function l(r){var i,a,l,d,f,p=r.length,h=0,m=new Array(p),v=new Array(p),g=+s.apply(this,arguments),y=Math.min(o.BZ,Math.max(-o.BZ,u.apply(this,arguments)-g)),b=Math.min(Math.abs(y)/p,c.apply(this,arguments)),w=b*(y<0?-1:1);for(i=0;i<p;++i)(f=v[m[i]=i]=+e(r[i],i,r))>0&&(h+=f);for(null!=t?m.sort((function(e,n){return t(v[e],v[n])})):null!=n&&m.sort((function(e,t){return n(r[e],r[t])})),i=0,l=h?(y-p*w)/h:0;i<p;++i,g=d)a=m[i],d=g+((f=v[a])>0?f*l:0)+w,v[a]={data:r[a],index:i,value:f,startAngle:g,endAngle:d,padAngle:b};return v}return l.value=function(t){return arguments.length?(e="function"===typeof t?t:(0,r.Z)(+t),l):e},l.sortValues=function(e){return arguments.length?(t=e,n=null,l):t},l.sort=function(e){return arguments.length?(n=e,t=null,l):n},l.startAngle=function(e){return arguments.length?(s="function"===typeof e?e:(0,r.Z)(+e),l):s},l.endAngle=function(e){return arguments.length?(u="function"===typeof e?e:(0,r.Z)(+e),l):u},l.padAngle=function(e){return arguments.length?(c="function"===typeof e?e:(0,r.Z)(+e),l):c},l}},15402:function(e,t,n){"use strict";function r(e){return e[0]}function i(e){return e[1]}n.d(t,{x:function(){return r},y:function(){return i}})},84687:function(e,t,n){"use strict";function r(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}n.d(t,{Z:function(){return r}})},3650:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5803),i=n(76817),a=n(50724),o=n(16542);function s(e,t){return e[t]}function u(){var e=(0,i.Z)([]),t=o.Z,n=a.Z,u=s;function c(r){var i,a,o=e.apply(this,arguments),s=r.length,c=o.length,l=new Array(c);for(i=0;i<c;++i){for(var d,f=o[i],p=l[i]=new Array(s),h=0;h<s;++h)p[h]=d=[0,+u(r[h],f,h,r)],d.data=r[h];p.key=f}for(i=0,a=t(l);i<c;++i)l[a[i]].index=i;return n(l,a),l}return c.keys=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.Z)(r.t.call(t)),c):e},c.value=function(e){return arguments.length?(u="function"===typeof e?e:(0,i.Z)(+e),c):u},c.order=function(e){return arguments.length?(t=null==e?o.Z:"function"===typeof e?e:(0,i.Z)(r.t.call(e)),c):t},c.offset=function(e){return arguments.length?(n=null==e?a.Z:e,c):n},c}},70985:function(e,t,n){"use strict";n.d(t,{i$:function(){return p},g0:function(){return h}});var r=n(80438),i=n(7171),a=n(6817),o=n(24527),s=n(36243),u=n(13608);function c(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function l(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function d(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var f,p,h,m={"-":"",_:" ",0:"0"},v=/^\s*\d+/,g=/^%/,y=/[\\^$*+?|[\]().{}]/g;function b(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function w(e){return e.replace(y,"\\$&")}function k(e){return new RegExp("^(?:"+e.map(w).join("|")+")","i")}function x(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function _(e,t,n){var r=v.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function S(e,t,n){var r=v.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function E(e,t,n){var r=v.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function C(e,t,n){var r=v.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function T(e,t,n){var r=v.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function A(e,t,n){var r=v.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function O(e,t,n){var r=v.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function R(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function I(e,t,n){var r=v.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function N(e,t,n){var r=v.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function P(e,t,n){var r=v.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function M(e,t,n){var r=v.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function L(e,t,n){var r=v.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function D(e,t,n){var r=v.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function F(e,t,n){var r=v.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function B(e,t,n){var r=v.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function j(e,t,n){var r=v.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Z(e,t,n){var r=g.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function V(e,t,n){var r=v.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function U(e,t,n){var r=v.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function W(e,t){return b(e.getDate(),t,2)}function H(e,t){return b(e.getHours(),t,2)}function z(e,t){return b(e.getHours()%12||12,t,2)}function G(e,t){return b(1+o.Z.count((0,s.Z)(e),e),t,3)}function q(e,t){return b(e.getMilliseconds(),t,3)}function K(e,t){return q(e,t)+"000"}function Y(e,t){return b(e.getMonth()+1,t,2)}function X(e,t){return b(e.getMinutes(),t,2)}function Q(e,t){return b(e.getSeconds(),t,2)}function J(e){var t=e.getDay();return 0===t?7:t}function $(e,t){return b(a.OM.count((0,s.Z)(e)-1,e),t,2)}function ee(e){var t=e.getDay();return t>=4||0===t?(0,a.bL)(e):a.bL.ceil(e)}function te(e,t){return e=ee(e),b(a.bL.count((0,s.Z)(e),e)+(4===(0,s.Z)(e).getDay()),t,2)}function ne(e){return e.getDay()}function re(e,t){return b(a.wA.count((0,s.Z)(e)-1,e),t,2)}function ie(e,t){return b(e.getFullYear()%100,t,2)}function ae(e,t){return b((e=ee(e)).getFullYear()%100,t,2)}function oe(e,t){return b(e.getFullYear()%1e4,t,4)}function se(e,t){var n=e.getDay();return b((e=n>=4||0===n?(0,a.bL)(e):a.bL.ceil(e)).getFullYear()%1e4,t,4)}function ue(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+b(t/60|0,"0",2)+b(t%60,"0",2)}function ce(e,t){return b(e.getUTCDate(),t,2)}function le(e,t){return b(e.getUTCHours(),t,2)}function de(e,t){return b(e.getUTCHours()%12||12,t,2)}function fe(e,t){return b(1+i.Z.count((0,u.Z)(e),e),t,3)}function pe(e,t){return b(e.getUTCMilliseconds(),t,3)}function he(e,t){return pe(e,t)+"000"}function me(e,t){return b(e.getUTCMonth()+1,t,2)}function ve(e,t){return b(e.getUTCMinutes(),t,2)}function ge(e,t){return b(e.getUTCSeconds(),t,2)}function ye(e){var t=e.getUTCDay();return 0===t?7:t}function be(e,t){return b(r.Ox.count((0,u.Z)(e)-1,e),t,2)}function we(e){var t=e.getUTCDay();return t>=4||0===t?(0,r.hB)(e):r.hB.ceil(e)}function ke(e,t){return e=we(e),b(r.hB.count((0,u.Z)(e),e)+(4===(0,u.Z)(e).getUTCDay()),t,2)}function xe(e){return e.getUTCDay()}function _e(e,t){return b(r.l6.count((0,u.Z)(e)-1,e),t,2)}function Se(e,t){return b(e.getUTCFullYear()%100,t,2)}function Ee(e,t){return b((e=we(e)).getUTCFullYear()%100,t,2)}function Ce(e,t){return b(e.getUTCFullYear()%1e4,t,4)}function Te(e,t){var n=e.getUTCDay();return b((e=n>=4||0===n?(0,r.hB)(e):r.hB.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ae(){return"+0000"}function Oe(){return"%"}function Re(e){return+e}function Ie(e){return Math.floor(+e/1e3)}f=function(e){var t=e.dateTime,n=e.date,s=e.time,u=e.periods,f=e.days,p=e.shortDays,h=e.months,v=e.shortMonths,g=k(u),y=x(u),b=k(f),w=x(f),ee=k(p),we=x(p),Ne=k(h),Pe=x(h),Me=k(v),Le=x(v),De={a:function(e){return p[e.getDay()]},A:function(e){return f[e.getDay()]},b:function(e){return v[e.getMonth()]},B:function(e){return h[e.getMonth()]},c:null,d:W,e:W,f:K,g:ae,G:se,H:H,I:z,j:G,L:q,m:Y,M:X,p:function(e){return u[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Re,s:Ie,S:Q,u:J,U:$,V:te,w:ne,W:re,x:null,X:null,y:ie,Y:oe,Z:ue,"%":Oe},Fe={a:function(e){return p[e.getUTCDay()]},A:function(e){return f[e.getUTCDay()]},b:function(e){return v[e.getUTCMonth()]},B:function(e){return h[e.getUTCMonth()]},c:null,d:ce,e:ce,f:he,g:Ee,G:Te,H:le,I:de,j:fe,L:pe,m:me,M:ve,p:function(e){return u[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Re,s:Ie,S:ge,u:ye,U:be,V:ke,w:xe,W:_e,x:null,X:null,y:Se,Y:Ce,Z:Ae,"%":Oe},Be={a:function(e,t,n){var r=ee.exec(t.slice(n));return r?(e.w=we.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=b.exec(t.slice(n));return r?(e.w=w.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=Me.exec(t.slice(n));return r?(e.m=Le.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=Ne.exec(t.slice(n));return r?(e.m=Pe.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return Ve(e,t,n,r)},d:P,e:P,f:j,g:O,G:A,H:L,I:L,j:M,L:B,m:N,M:D,p:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.p=y.get(r[0].toLowerCase()),n+r[0].length):-1},q:I,Q:V,s:U,S:F,u:S,U:E,V:C,w:_,W:T,x:function(e,t,r){return Ve(e,n,t,r)},X:function(e,t,n){return Ve(e,s,t,n)},y:O,Y:A,Z:R,"%":Z};function je(e,t){return function(n){var r,i,a,o=[],s=-1,u=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(u,s)),null!=(i=m[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),u=s+1);return o.push(e.slice(u,s)),o.join("")}}function Ze(e,t){return function(n){var s,u,f=d(1900,void 0,1);if(Ve(f,e,n+="",0)!=n.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(1e3*f.s+("L"in f?f.L:0));if(t&&!("Z"in f)&&(f.Z=0),"p"in f&&(f.H=f.H%12+12*f.p),void 0===f.m&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(u=(s=l(d(f.y,0,1))).getUTCDay(),s=u>4||0===u?r.l6.ceil(s):(0,r.l6)(s),s=i.Z.offset(s,7*(f.V-1)),f.y=s.getUTCFullYear(),f.m=s.getUTCMonth(),f.d=s.getUTCDate()+(f.w+6)%7):(u=(s=c(d(f.y,0,1))).getDay(),s=u>4||0===u?a.wA.ceil(s):(0,a.wA)(s),s=o.Z.offset(s,7*(f.V-1)),f.y=s.getFullYear(),f.m=s.getMonth(),f.d=s.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:"W"in f?1:0),u="Z"in f?l(d(f.y,0,1)).getUTCDay():c(d(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+7*f.W-(u+5)%7:f.w+7*f.U-(u+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,l(f)):c(f)}}function Ve(e,t,n,r){for(var i,a,o=0,s=t.length,u=n.length;o<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=Be[i in m?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return De.x=je(n,De),De.X=je(s,De),De.c=je(t,De),Fe.x=je(n,Fe),Fe.X=je(s,Fe),Fe.c=je(t,Fe),{format:function(e){var t=je(e+="",De);return t.toString=function(){return e},t},parse:function(e){var t=Ze(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=je(e+="",Fe);return t.toString=function(){return e},t},utcParse:function(e){var t=Ze(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),p=f.format,f.parse,h=f.utcFormat,f.utcParse},24527:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.yB)/i.UD}),(function(e){return e.getDate()-1}));t.Z=a;var o=a.range},20601:function(e,t,n){"use strict";n.d(t,{UD:function(){return o},Y2:function(){return a},Ym:function(){return r},iM:function(){return s},jz:function(){return u},qz:function(){return c},yB:function(){return i}});var r=1e3,i=60*r,a=60*i,o=24*a,s=7*o,u=30*o,c=365*o},37568:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.Ym-e.getMinutes()*i.yB)}),(function(e,t){e.setTime(+e+t*i.Y2)}),(function(e,t){return(t-e)/i.Y2}),(function(e){return e.getHours()}));t.Z=a;var o=a.range},14957:function(e,t,n){"use strict";n.r(t),n.d(t,{timeDay:function(){return u.Z},timeDays:function(){return u.a},timeFriday:function(){return c.mC},timeFridays:function(){return c.b$},timeHour:function(){return s.Z},timeHours:function(){return s.i},timeInterval:function(){return r.Z},timeMillisecond:function(){return i.Z},timeMilliseconds:function(){return i.m},timeMinute:function(){return o.Z},timeMinutes:function(){return o.L},timeMonday:function(){return c.wA},timeMondays:function(){return c.bJ},timeMonth:function(){return l.Z},timeMonths:function(){return l.e},timeSaturday:function(){return c.EY},timeSaturdays:function(){return c.Ff},timeSecond:function(){return a.Z},timeSeconds:function(){return a.m},timeSunday:function(){return c.OM},timeSundays:function(){return c.vm},timeThursday:function(){return c.bL},timeThursdays:function(){return c.$t},timeTickInterval:function(){return y._g},timeTicks:function(){return y.jK},timeTuesday:function(){return c.sy},timeTuesdays:function(){return c.aU},timeWednesday:function(){return c.zg},timeWednesdays:function(){return c.Ld},timeWeek:function(){return c.OM},timeWeeks:function(){return c.vm},timeYear:function(){return d.Z},timeYears:function(){return d.g},utcDay:function(){return h.Z},utcDays:function(){return h.y},utcFriday:function(){return m.QQ},utcFridays:function(){return m.fz},utcHour:function(){return p.Z},utcHours:function(){return p.X},utcMillisecond:function(){return i.Z},utcMilliseconds:function(){return i.m},utcMinute:function(){return f.Z},utcMinutes:function(){return f.N},utcMonday:function(){return m.l6},utcMondays:function(){return m.$3},utcMonth:function(){return v.Z},utcMonths:function(){return v.K},utcSaturday:function(){return m.g4},utcSaturdays:function(){return m.Q_},utcSecond:function(){return a.Z},utcSeconds:function(){return a.m},utcSunday:function(){return m.Ox},utcSundays:function(){return m.SU},utcThursday:function(){return m.hB},utcThursdays:function(){return m.xj},utcTickInterval:function(){return y.jo},utcTicks:function(){return y.WG},utcTuesday:function(){return m.J1},utcTuesdays:function(){return m.DK},utcWednesday:function(){return m.b3},utcWednesdays:function(){return m.uy},utcWeek:function(){return m.Ox},utcWeeks:function(){return m.SU},utcYear:function(){return g.Z},utcYears:function(){return g.D}});var r=n(97914),i=n(40165),a=n(4495),o=n(40020),s=n(37568),u=n(24527),c=n(6817),l=n(44870),d=n(36243),f=n(632),p=n(63854),h=n(7171),m=n(80438),v=n(86570),g=n(13608),y=n(80783)},97914:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=new Date,i=new Date;function a(e,t,n,o){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},s.range=function(n,r,i){var a,o=[];if(n=s.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return o;do{o.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return o},s.filter=function(n){return a((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(s.count=function(t,a){return r.setTime(+t),i.setTime(+a),e(r),e(i),Math.floor(n(r,i))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(o?function(t){return o(t)%e===0}:function(t){return s.count(0,t)%e===0}):s:null}),s}},40165:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(97914),i=(0,r.Z)((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?(0,r.Z)((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):i:null},t.Z=i;var a=i.range},40020:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.Ym)}),(function(e,t){e.setTime(+e+t*i.yB)}),(function(e,t){return(t-e)/i.yB}),(function(e){return e.getMinutes()}));t.Z=a;var o=a.range},44870:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=(0,n(97914).Z)((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));t.Z=r;var i=r.range},4495:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*i.Ym)}),(function(e,t){return(t-e)/i.Ym}),(function(e){return e.getUTCSeconds()}));t.Z=a;var o=a.range},80783:function(e,t,n){"use strict";n.d(t,{WG:function(){return _},_g:function(){return A},jK:function(){return T},jo:function(){return S}});var r=n(29439),i=n(92267),a=n(99571),o=n(20601),s=n(40165),u=n(4495),c=n(40020),l=n(37568),d=n(24527),f=n(6817),p=n(44870),h=n(36243),m=n(632),v=n(63854),g=n(7171),y=n(80438),b=n(86570);function w(e,t,n,c,l,d){var f=[[u.Z,1,o.Ym],[u.Z,5,5*o.Ym],[u.Z,15,15*o.Ym],[u.Z,30,30*o.Ym],[d,1,o.yB],[d,5,5*o.yB],[d,15,15*o.yB],[d,30,30*o.yB],[l,1,o.Y2],[l,3,3*o.Y2],[l,6,6*o.Y2],[l,12,12*o.Y2],[c,1,o.UD],[c,2,2*o.UD],[n,1,o.iM],[t,1,o.jz],[t,3,3*o.jz],[e,1,o.qz]];function p(t,n,u){var c=Math.abs(n-t)/u,l=(0,i.Z)((function(e){return(0,r.Z)(e,3)[2]})).right(f,c);if(l===f.length)return e.every((0,a.ly)(t/o.qz,n/o.qz,u));if(0===l)return s.Z.every(Math.max((0,a.ly)(t,n,u),1));var d=(0,r.Z)(f[c/f[l-1][2]<f[l][2]/c?l-1:l],2),p=d[0],h=d[1];return p.every(h)}return[function(e,t,n){var r=t<e;if(r){var i=[t,e];e=i[0],t=i[1]}var a=n&&"function"===typeof n.range?n:p(e,t,n),o=a?a.range(e,+t+1):[];return r?o.reverse():o},p]}var k=w(n(13608).Z,b.Z,y.Ox,g.Z,v.Z,m.Z),x=(0,r.Z)(k,2),_=x[0],S=x[1],E=w(h.Z,p.Z,f.OM,d.Z,l.Z,c.Z),C=(0,r.Z)(E,2),T=C[0],A=C[1]},7171:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/i.UD}),(function(e){return e.getUTCDate()-1}));t.Z=a;var o=a.range},63854:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*i.Y2)}),(function(e,t){return(t-e)/i.Y2}),(function(e){return e.getUTCHours()}));t.Z=a;var o=a.range},632:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*i.yB)}),(function(e,t){return(t-e)/i.yB}),(function(e){return e.getUTCMinutes()}));t.Z=a;var o=a.range},86570:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=(0,n(97914).Z)((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));t.Z=r;var i=r.range},80438:function(e,t,n){"use strict";n.d(t,{$3:function(){return h},DK:function(){return m},J1:function(){return u},Ox:function(){return o},QQ:function(){return d},Q_:function(){return b},SU:function(){return p},b3:function(){return c},fz:function(){return y},g4:function(){return f},hB:function(){return l},l6:function(){return s},uy:function(){return v},xj:function(){return g}});var r=n(97914),i=n(20601);function a(e){return(0,r.Z)((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/i.iM}))}var o=a(0),s=a(1),u=a(2),c=a(3),l=a(4),d=a(5),f=a(6),p=o.range,h=s.range,m=u.range,v=c.range,g=l.range,y=d.range,b=f.range},13608:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var r=n(97914),i=(0,r.Z)((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,r.Z)((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null},t.Z=i;var a=i.range},6817:function(e,t,n){"use strict";n.d(t,{$t:function(){return g},EY:function(){return f},Ff:function(){return b},Ld:function(){return v},OM:function(){return o},aU:function(){return m},b$:function(){return y},bJ:function(){return h},bL:function(){return l},mC:function(){return d},sy:function(){return u},vm:function(){return p},wA:function(){return s},zg:function(){return c}});var r=n(97914),i=n(20601);function a(e){return(0,r.Z)((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.yB)/i.iM}))}var o=a(0),s=a(1),u=a(2),c=a(3),l=a(4),d=a(5),f=a(6),p=o.range,h=s.range,m=u.range,v=c.range,g=l.range,y=d.range,b=f.range},36243:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var r=n(97914),i=(0,r.Z)((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,r.Z)((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null},t.Z=i;var a=i.range},27494:function(e){function t(e,t,n){var r,i,a,o,s;function u(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var c=function(){a=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(a,i),a=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},c}t.debounce=t,e.exports=t},93588:function(e,t,n){"use strict";var r=n(11214),i=function(e,t,n,i,a,o){var s=t[n];return null==s?e?new Error("Required "+a+" `"+(o||n)+"` was not specified in `"+i+"`."):void 0:"number"!==typeof s&&"string"===typeof s&&null===r(s)?new Error("Invalid "+a+" `"+(o||n)+"` supplied to `"+i+"`: "+s+"\nValid color formats are\n  - '#f0f' (#rgb)\n  - '#f0fc' (#rgba)\n  - '#ff00ff' (#rrggbb)\n  - '#ff00ff00' (#rrggbbaa)\n  - 'rgb(255, 255, 255)'\n  - 'rgba(255, 255, 255, 1.0)'\n  - 'hsl(360, 100%, 100%)'\n  - 'hsla(360, 100%, 100%, 1.0)'\n  - 'transparent'\n  - 'red'\n  - 0xff00ff00 (0xrrggbbaa)\n"):void 0},a=i.bind(null,!1);a.isRequired=i.bind(null,!0),e.exports=a},68205:function(e,t,n){"use strict";var r=n(52007),i=r.shape({top:r.number,left:r.number,bottom:r.number,right:r.number});e.exports=i},7349:function(e,t,n){"use strict";var r=n(68205),i=n(52380),a=n(75094),o=n(97777),s=n(52007);e.exports={style:o(a),source:i,defaultSource:s.oneOfType([s.shape({uri:s.string,width:s.number,height:s.number,scale:s.number}),s.number]),accessible:s.bool,accessibilityLabel:s.node,blurRadius:s.number,capInsets:r,resizeMethod:s.oneOf(["auto","resize","scale"]),resizeMode:s.oneOf(["cover","contain","stretch","repeat","center"]),testID:s.string,onLayout:s.func,onLoadStart:s.func,onProgress:s.func,onError:s.func,onPartialLoad:s.func,onLoad:s.func,onLoadEnd:s.func}},52380:function(e,t,n){"use strict";var r=n(52007),i=r.shape({uri:r.string,bundle:r.string,method:r.string,headers:r.objectOf(r.string),body:r.string,cache:r.oneOf(["default","reload","force-cache","only-if-cached"]),width:r.number,height:r.number,scale:r.number}),a=r.oneOfType([i,r.number,r.arrayOf(i)]);e.exports=a},75094:function(e,t,n){"use strict";var r=n(42122).default,i=n(93588),a=n(86710),o=n(41286),s=n(98250),u=n(52007),c=r(r(r(r({},a),o),s),{},{resizeMode:u.oneOf(["center","contain","cover","repeat","stretch"]),backfaceVisibility:u.oneOf(["visible","hidden"]),backgroundColor:i,borderColor:i,borderWidth:u.number,borderRadius:u.number,overflow:u.oneOf(["visible","hidden"]),tintColor:i,opacity:u.number,overlayColor:u.string,borderTopLeftRadius:u.number,borderTopRightRadius:u.number,borderBottomLeftRadius:u.number,borderBottomRightRadius:u.number});e.exports=c},86710:function(e,t,n){"use strict";var r=n(52007),i={display:r.oneOf(["none","flex"]),width:r.oneOfType([r.number,r.string]),height:r.oneOfType([r.number,r.string]),start:r.oneOfType([r.number,r.string]),end:r.oneOfType([r.number,r.string]),top:r.oneOfType([r.number,r.string]),left:r.oneOfType([r.number,r.string]),right:r.oneOfType([r.number,r.string]),bottom:r.oneOfType([r.number,r.string]),minWidth:r.oneOfType([r.number,r.string]),maxWidth:r.oneOfType([r.number,r.string]),minHeight:r.oneOfType([r.number,r.string]),maxHeight:r.oneOfType([r.number,r.string]),margin:r.oneOfType([r.number,r.string]),marginVertical:r.oneOfType([r.number,r.string]),marginHorizontal:r.oneOfType([r.number,r.string]),marginTop:r.oneOfType([r.number,r.string]),marginBottom:r.oneOfType([r.number,r.string]),marginLeft:r.oneOfType([r.number,r.string]),marginRight:r.oneOfType([r.number,r.string]),marginStart:r.oneOfType([r.number,r.string]),marginEnd:r.oneOfType([r.number,r.string]),padding:r.oneOfType([r.number,r.string]),paddingVertical:r.oneOfType([r.number,r.string]),paddingHorizontal:r.oneOfType([r.number,r.string]),paddingTop:r.oneOfType([r.number,r.string]),paddingBottom:r.oneOfType([r.number,r.string]),paddingLeft:r.oneOfType([r.number,r.string]),paddingRight:r.oneOfType([r.number,r.string]),paddingStart:r.oneOfType([r.number,r.string]),paddingEnd:r.oneOfType([r.number,r.string]),borderWidth:r.number,borderTopWidth:r.number,borderStartWidth:r.number,borderEndWidth:r.number,borderRightWidth:r.number,borderBottomWidth:r.number,borderLeftWidth:r.number,position:r.oneOf(["absolute","relative"]),flexDirection:r.oneOf(["row","row-reverse","column","column-reverse"]),flexWrap:r.oneOf(["wrap","nowrap","wrap-reverse"]),justifyContent:r.oneOf(["flex-start","flex-end","center","space-between","space-around","space-evenly"]),alignItems:r.oneOf(["flex-start","flex-end","center","stretch","baseline"]),alignSelf:r.oneOf(["auto","flex-start","flex-end","center","stretch","baseline"]),alignContent:r.oneOf(["flex-start","flex-end","center","stretch","space-between","space-around"]),overflow:r.oneOf(["visible","hidden","scroll"]),flex:r.number,flexGrow:r.number,flexShrink:r.number,flexBasis:r.oneOfType([r.number,r.string]),aspectRatio:r.number,zIndex:r.number,direction:r.oneOf(["inherit","ltr","rtl"])};e.exports=i},40090:function(e,t,n){"use strict";var r=n(52007),i=r.shape({x:r.number,y:r.number});e.exports=i},41286:function(e,t,n){"use strict";var r=n(93588),i=n(52007),a={shadowColor:r,shadowOffset:i.shape({width:i.number,height:i.number}),shadowOpacity:i.number,shadowRadius:i.number};e.exports=a},97777:function(e,t,n){"use strict";var r=n(36439);function i(e){if(null!==e&&"object"===typeof e){if(!Array.isArray(e))return e;for(var t={},n=0,r=e.length;n<r;++n){var a=i(e[n]);if(a)for(var o in a)t[o]=a[o]}return t}}e.exports=function(e){var t=r(e);return function(e,n,r,a){var o=e;e[n]&&((o={})[n]=i(e[n]));for(var s=arguments.length,u=new Array(s>4?s-4:0),c=4;c<s;c++)u[c-4]=arguments[c];return t.apply(void 0,[o,n,r,a].concat(u))}}},26587:function(e,t,n){"use strict";var r=n(42122).default,i=n(93588),a=n(51508),o=n(43104),s=n(52007),u=["phoneNumber","link","address","calendarEvent","none","all"];e.exports=r(r({},o),{},{autoCapitalize:s.oneOf(["none","sentences","words","characters"]),autoCompleteType:s.oneOf(["cc-csc","cc-exp","cc-exp-month","cc-exp-year","cc-number","email","name","password","postal-code","street-address","tel","username","off"]),autoCorrect:s.bool,spellCheck:s.bool,autoFocus:s.bool,allowFontScaling:s.bool,maxFontSizeMultiplier:s.number,editable:s.bool,keyboardType:s.oneOf(["default","email-address","numeric","phone-pad","number-pad","ascii-capable","numbers-and-punctuation","url","name-phone-pad","decimal-pad","twitter","web-search","ascii-capable-number-pad","visible-password"]),keyboardAppearance:s.oneOf(["default","light","dark"]),returnKeyType:s.oneOf(["done","go","next","search","send","none","previous","default","emergency-call","google","join","route","yahoo"]),returnKeyLabel:s.string,maxLength:s.number,numberOfLines:s.number,disableFullscreenUI:s.bool,enablesReturnKeyAutomatically:s.bool,multiline:s.bool,textBreakStrategy:s.oneOf(["simple","highQuality","balanced"]),onBlur:s.func,onFocus:s.func,onChange:s.func,onChangeText:s.func,onContentSizeChange:s.func,onTextInput:s.func,onEndEditing:s.func,onSelectionChange:s.func,onSubmitEditing:s.func,onKeyPress:s.func,onLayout:s.func,onScroll:s.func,placeholder:s.string,placeholderTextColor:i,scrollEnabled:s.bool,secureTextEntry:s.bool,selectionColor:i,selection:s.shape({start:s.number.isRequired,end:s.number}),value:s.string,defaultValue:s.string,clearButtonMode:s.oneOf(["never","while-editing","unless-editing","always"]),clearTextOnFocus:s.bool,selectTextOnFocus:s.bool,blurOnSubmit:s.bool,style:a.style,underlineColorAndroid:i,inlineImageLeft:s.string,inlineImagePadding:s.number,rejectResponderTermination:s.bool,dataDetectorTypes:s.oneOfType([s.oneOf(u),s.arrayOf(s.oneOf(u))]),caretHidden:s.bool,contextMenuHidden:s.bool,inputAccessoryViewID:s.string,textContentType:s.oneOf(["none","URL","addressCity","addressCityAndState","addressState","countryName","creditCardNumber","emailAddress","familyName","fullStreetAddress","givenName","jobTitle","location","middleName","name","namePrefix","nameSuffix","nickname","organizationName","postalCode","streetAddressLine1","streetAddressLine2","sublocality","telephoneNumber","username","password","newPassword","oneTimeCode"]),showSoftInputOnFocus:s.bool})},51508:function(e,t,n){"use strict";var r=n(93588),i=n(68205),a=n(97777),o=n(52007),s=a(n(41244));e.exports={ellipsizeMode:o.oneOf(["head","middle","tail","clip"]),numberOfLines:o.number,textBreakStrategy:o.oneOf(["simple","highQuality","balanced"]),onLayout:o.func,onPress:o.func,onLongPress:o.func,pressRetentionOffset:i,selectable:o.bool,selectionColor:r,suppressHighlighting:o.bool,style:s,testID:o.string,nativeID:o.string,allowFontScaling:o.bool,maxFontSizeMultiplier:o.number,accessible:o.bool,adjustsFontSizeToFit:o.bool,minimumFontScale:o.number,disabled:o.bool,dataDetectorType:o.oneOf(["phoneNumber","link","email","none","all"])}},41244:function(e,t,n){"use strict";var r=n(42122).default,i=n(93588),a=n(70247),o=n(52007),s=r(r({},a),{},{color:i,fontFamily:o.string,fontSize:o.number,fontStyle:o.oneOf(["normal","italic"]),fontWeight:o.oneOf(["normal","bold","100","200","300","400","500","600","700","800","900"]),fontVariant:o.arrayOf(o.oneOf(["small-caps","oldstyle-nums","lining-nums","tabular-nums","proportional-nums"])),textShadowOffset:o.shape({width:o.number,height:o.number}),textShadowRadius:o.number,textShadowColor:i,letterSpacing:o.number,lineHeight:o.number,textAlign:o.oneOf(["auto","left","right","center","justify"]),textAlignVertical:o.oneOf(["auto","top","bottom","center"]),includeFontPadding:o.bool,textDecorationLine:o.oneOf(["none","underline","line-through","underline line-through"]),textDecorationStyle:o.oneOf(["solid","double","dotted","dashed"]),textDecorationColor:i,textTransform:o.oneOf(["none","capitalize","uppercase","lowercase"]),writingDirection:o.oneOf(["auto","ltr","rtl"])});e.exports=s},98250:function(e,t,n){"use strict";var r=n(52007),i={transform:r.arrayOf(r.oneOfType([r.shape({perspective:r.number}),r.shape({rotate:r.string}),r.shape({rotateX:r.string}),r.shape({rotateY:r.string}),r.shape({rotateZ:r.string}),r.shape({scale:r.number}),r.shape({scaleX:r.number}),r.shape({scaleY:r.number}),r.shape({translateX:r.number}),r.shape({translateY:r.number}),r.shape({skewX:r.string}),r.shape({skewY:r.string})])),transformMatrix:function(e,t,n){if(e[t])return new Error("The transformMatrix style property is deprecated. Use `transform: [{ matrix: ... }]` instead.")},decomposedMatrix:function(e,t,n){if(e[t])return new Error("The decomposedMatrix style property is deprecated. Use `transform: [...]` instead.")},scaleX:a(r.number,"Use the transform prop instead."),scaleY:a(r.number,"Use the transform prop instead."),rotation:a(r.number,"Use the transform prop instead."),translateX:a(r.number,"Use the transform prop instead."),translateY:a(r.number,"Use the transform prop instead.")};function a(e,t){return function(n,r,i){void 0!==n[r]&&console.warn("`".concat(r,"` supplied to `").concat(i,"` has been deprecated. ").concat(t));for(var a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return e.apply(void 0,[n,r,i].concat(o))}}e.exports=i},71420:function(e){"use strict";e.exports={DeprecatedAccessibilityRoles:["none","button","togglebutton","link","search","image","keyboardkey","text","adjustable","imagebutton","header","summary","alert","checkbox","combobox","menu","menubar","menuitem","progressbar","radio","radiogroup","scrollbar","spinbutton","switch","tab","tablist","timer","toolbar"]}},43104:function(e,t,n){"use strict";var r=n(68205),i=n(97777),a=n(70247),o=n(52007),s=n(71420).DeprecatedAccessibilityRoles,u=i(a);e.exports={accessible:o.bool,accessibilityLabel:o.node,accessibilityHint:o.string,accessibilityActions:o.arrayOf(o.string),accessibilityIgnoresInvertColors:o.bool,accessibilityRole:o.oneOf(s),accessibilityState:o.object,accessibilityValue:o.object,accessibilityLiveRegion:o.oneOf(["none","polite","assertive"]),importantForAccessibility:o.oneOf(["auto","yes","no","no-hide-descendants"]),accessibilityViewIsModal:o.bool,accessibilityElementsHidden:o.bool,onAccessibilityAction:o.func,onAccessibilityTap:o.func,onMagicTap:o.func,testID:o.string,nativeID:o.string,onResponderGrant:o.func,onResponderMove:o.func,onResponderReject:o.func,onResponderRelease:o.func,onResponderTerminate:o.func,onResponderTerminationRequest:o.func,onStartShouldSetResponder:o.func,onStartShouldSetResponderCapture:o.func,onMoveShouldSetResponder:o.func,onMoveShouldSetResponderCapture:o.func,hitSlop:r,onLayout:o.func,pointerEvents:o.oneOf(["box-none","none","box-only","auto"]),style:u,removeClippedSubviews:o.bool,renderToHardwareTextureAndroid:o.bool,shouldRasterizeIOS:o.bool,collapsable:o.bool,needsOffscreenAlphaCompositing:o.bool}},70247:function(e,t,n){"use strict";var r=n(42122).default,i=n(93588),a=n(86710),o=n(41286),s=n(98250),u=n(52007),c=r(r(r(r({},a),o),s),{},{backfaceVisibility:u.oneOf(["visible","hidden"]),backgroundColor:i,borderColor:i,borderTopColor:i,borderRightColor:i,borderBottomColor:i,borderLeftColor:i,borderStartColor:i,borderEndColor:i,borderRadius:u.number,borderTopLeftRadius:u.number,borderTopRightRadius:u.number,borderTopStartRadius:u.number,borderTopEndRadius:u.number,borderBottomLeftRadius:u.number,borderBottomRightRadius:u.number,borderBottomStartRadius:u.number,borderBottomEndRadius:u.number,borderStyle:u.oneOf(["solid","dotted","dashed"]),borderWidth:u.number,borderTopWidth:u.number,borderRightWidth:u.number,borderBottomWidth:u.number,borderLeftWidth:u.number,opacity:u.number,elevation:u.number});e.exports=c},36439:function(e,t,n){"use strict";var r=n(42122).default,i=n(92176);e.exports=function(e){function t(t,n,a,o,s){if(n[a]){var u=n[a],c=typeof u,l=s||"(unknown)";"object"!==c&&i(!1,"Invalid ".concat(l," `").concat(a,"` of type `").concat(c,"` ")+"supplied to `".concat(o,"`, expected `object`."));for(var d=r(r({},n[a]),e),f=arguments.length,p=new Array(f>5?f-5:0),h=5;h<f;h++)p[h-5]=arguments[h];for(var m in d){var v=e[m];v||i(!1,"Invalid props.".concat(a," key `").concat(m,"` supplied to `").concat(o,"`.")+"\nBad object: "+JSON.stringify(n[a],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var g=v.apply(void 0,[u,m,o,s].concat(p));g&&i(!1,g.message+"\nBad object: "+JSON.stringify(n[a],null,"  "))}}else t&&i(!1,"Required object `".concat(a,"` was not specified in ")+"`".concat(o,"`."))}function n(e,n,r,i){for(var a=arguments.length,o=new Array(a>4?a-4:0),s=4;s<a;s++)o[s-4]=arguments[s];return t.apply(void 0,[!1,e,n,r,i].concat(o))}return n.isRequired=t.bind(null,!0),n}},11312:function(e,t,n){"use strict";e.exports={get ColorPropType(){return n(93588)},get EdgeInsetsPropType(){return n(68205)},get ImagePropTypes(){return n(7349)},get PointPropType(){return n(40090)},get TextInputPropTypes(){return n(26587)},get TextPropTypes(){return n(51508)},get ViewPropTypes(){return n(43104)}}},97143:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,a),!0;case 6:return l.fn.call(l.context,t,r,i,a,o),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!u)for(f=1,u=new Array(d-1);f<d;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},47465:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&m(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,a,o;if(s(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,function(e){console&&console.warn&&console.warn(e)}(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=a[e];if(void 0===u)return!1;if("function"===typeof u)r(u,this,t);else{var c=u.length,l=h(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,o;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},89394:function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},84035:function(e){"use strict";var t=function(e){};e.exports=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(t(n),!e){var o;if(void 0===n)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(o=new Error(n.replace(/%s/g,(function(){return String(i[s++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},63255:function(e,t,n){"use strict";var r=n(89394);e.exports=r},62110:function(e,t,n){"use strict";var r=n(48309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var o=l(n);d&&(o=o.concat(d(n)));for(var s=u(t),m=u(n),v=0;v<o.length;++v){var g=o[v];if(!a[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=f(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case v:case m:case u:return e;default:return t}}case i:return t}}}function x(e){return k(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||k(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===f},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===v},t.isMemo=function(e){return k(e)===m},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=k},48309:function(e,t,n){"use strict";e.exports=n(746)},57630:function(e,t,n){"use strict";n.r(t);var r=/[A-Z]/g,i=/^ms-/,a={};function o(e){return"-"+e.toLowerCase()}t.default=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(r,o);return a[e]=i.test(t)?"-"+t:t}},87134:function(e,t,n){"use strict";t.Z=function(e){var t=e.prefixMap,n=e.plugins;return function e(s){for(var u in s){var c=s[u];if((0,o.default)(c))s[u]=e(c);else if(Array.isArray(c)){for(var l=[],d=0,f=c.length;d<f;++d){var p=(0,i.default)(n,u,c[d],s,t);(0,a.default)(l,p||c[d])}l.length>0&&(s[u]=l)}else{var h=(0,i.default)(n,u,c,s,t);h&&(s[u]=h),s=(0,r.default)(t,u,s)}}return s}};var r=s(n(96809)),i=s(n(83429)),a=s(n(33956)),o=s(n(63594));function s(e){return e&&e.__esModule?e:{default:e}}},9867:function(e,t){"use strict";t.Z=function(e,t){if("string"===typeof t&&"text"===t)return["-webkit-text","text"]}},22042:function(e,t,n){"use strict";t.Z=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&t.indexOf("cross-fade(")>-1)return o.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r,i=n(45216),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""]},98784:function(e,t){"use strict";t.Z=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},94214:function(e,t,n){"use strict";t.Z=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&t.indexOf("filter(")>-1)return o.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r,i=n(45216),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""]},95976:function(e,t,n){"use strict";t.Z=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&t.indexOf("image-set(")>-1)return o.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,i=n(45216),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""]},96939:function(e,t){"use strict";t.Z=function(e,t,r){if(Object.prototype.hasOwnProperty.call(n,e))for(var i=n[e],a=0,o=i.length;a<o;++a)r[i[a]]=t};var n={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},73610:function(e,t){"use strict";t.Z=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},20576:function(e,t){"use strict";t.Z=function(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},84444:function(e,t,n){"use strict";t.Z=function(e,t,n,o){if("string"===typeof t&&s.hasOwnProperty(e)){var c=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),a=0,o=n.length;a<o;++a){var s=n[a],c=[s];for(var l in t){var d=(0,r.default)(l);if(s.indexOf(d)>-1&&"order"!==d)for(var f=t[l],p=0,h=f.length;p<h;++p)c.unshift(s.replace(d,u[f[p]]+d))}n[a]=c.join(",")}return n.join(",")}(t,o),l=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return l;var d=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?d:(n["Webkit"+(0,a.default)(e)]=l,n["Moz"+(0,a.default)(e)]=d,c)}};var r=o(n(58546)),i=o(n(45216)),a=o(n(26690));function o(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},u={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},33956:function(e,t){"use strict";function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)}},26690:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},63594:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},96809:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t)){for(var r={},i=e[t],o=(0,a.default)(t),s=Object.keys(n),u=0;u<s.length;u++){var c=s[u];if(c===t)for(var l=0;l<i.length;l++)r[i[l]+o]=n[t];r[c]=n[c]}return r}return n};var r,i=n(26690),a=(r=i)&&r.__esModule?r:{default:r}},83429:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var a=0,o=e.length;a<o;++a){var s=e[a](t,n,r,i);if(s)return s}}},92176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},82764:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["weeks","years","months","days","hours","minutes","seconds"],r=t.pattern=new RegExp("P(?:(\\d+(?:[\\.,]\\d+)?W)|(\\d+(?:[\\.,]\\d+)?Y)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?D)?(?:T(\\d+(?:[\\.,]\\d+)?H)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?S)?)?)"),i=t.parse=function(e){return e.match(r).slice(1).reduce((function(e,t,r){return e[n[r]]=parseFloat(t)||0,e}),{})},a=t.end=function(e,t){var n=t?t.getTime():Date.now(),r=new Date(n);return r.setFullYear(r.getFullYear()+e.years),r.setMonth(r.getMonth()+e.months),r.setDate(r.getDate()+e.days),r.setHours(r.getHours()+e.hours),r.setMinutes(r.getMinutes()+e.minutes),r.setMilliseconds(r.getMilliseconds()+1e3*e.seconds),r.setDate(r.getDate()+7*e.weeks),r},o=t.toSeconds=function(e,t){var n=t?t.getTime():Date.now(),r=new Date(n);return(a(e,r).getTime()-r.getTime())/1e3};t.default={end:a,toSeconds:o,pattern:r,parse:i}},1583:function(e){e.exports=window.FormData},78566:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i;for(n=1;n<arguments.length;n++)for(i in r=arguments[n])r.hasOwnProperty(i)&&(e[i]=r[i]);return e}},function(e,t,n){"use strict";var r=n(0);e.exports={build:function(e,t){var n,i,a,o=t.plugins;for(n=0,i=o.length;n<i;n++)(a=o[n]).methods&&r(e,a.methods),a.properties&&Object.defineProperties(e,a.properties)},hook:function(e,t,n){var r,i,a,o,s=e.config.plugins,u=[e.context];for(n&&(u=u.concat(n)),r=0,i=s.length;r<i;r++)o=s[r],(a=s[r][t])&&a.apply(o,u)}}},function(e,t,n){"use strict";function r(e){if(0===e.length)return e;var t,n,r=e.split(/[_-]/);if(1===r.length&&r[0][0].toLowerCase()===r[0][0])return e;for(n=r[0].toLowerCase(),t=1;t<r.length;t++)n=n+r[t].charAt(0).toUpperCase()+r[t].substring(1).toLowerCase();return n}r.prepended=function(e,t){return e+(t=r(t))[0].toUpperCase()+t.substring(1)},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(2);function a(e,t){e=e||{},this.options=e,this.defaults=t.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(e.init),this.data=this.configureData(e.data),this.methods=this.configureMethods(e.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(e.transitions||[]),this.plugins=this.configurePlugins(e.plugins,t.plugin)}r(a.prototype,{addState:function(e){this.map[e]||(this.states.push(e),this.addStateLifecycleNames(e),this.map[e]={})},addStateLifecycleNames:function(e){this.lifecycle.onEnter[e]=i.prepended("onEnter",e),this.lifecycle.onLeave[e]=i.prepended("onLeave",e),this.lifecycle.on[e]=i.prepended("on",e)},addTransition:function(e){this.transitions.indexOf(e)<0&&(this.transitions.push(e),this.addTransitionLifecycleNames(e))},addTransitionLifecycleNames:function(e){this.lifecycle.onBefore[e]=i.prepended("onBefore",e),this.lifecycle.onAfter[e]=i.prepended("onAfter",e),this.lifecycle.on[e]=i.prepended("on",e)},mapTransition:function(e){var t=e.name,n=e.from,r=e.to;return this.addState(n),"function"!==typeof r&&this.addState(r),this.addTransition(t),this.map[n][t]=e,e},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(e){return"string"===typeof e?this.mapTransition(r({},this.defaults.init,{to:e,active:!0})):"object"===typeof e?this.mapTransition(r({},this.defaults.init,e,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(e){return"function"===typeof e?e:"object"===typeof e?function(){return e}:function(){return{}}},configureMethods:function(e){return e||{}},configurePlugins:function(e,t){var n,r,i;for(n=0,r=(e=e||[]).length;n<r;n++)"function"===typeof(i=e[n])&&(e[n]=i=i()),i.configure&&i.configure(this);return e},configureTransitions:function(e){var t,n,r,i,a,o=this.defaults.wildcard;for(n=0;n<e.length;n++)for(r=e[n],i=Array.isArray(r.from)?r.from:[r.from||o],a=r.to||o,t=0;t<i.length;t++)this.mapTransition({name:r.name,from:i[t],to:a})},transitionFor:function(e,t){var n=this.defaults.wildcard;return this.map[e][t]||this.map[n][t]},transitionsFor:function(e){var t=this.defaults.wildcard;return Object.keys(this.map[e]).concat(Object.keys(this.map[t]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),e.exports=a},function(e,t,n){var r=n(0),i=n(6),a=n(1),o=[null,[]];function s(e,t){this.context=e,this.config=t,this.state=t.init.from,this.observers=[e]}r(s.prototype,{init:function(e){if(r(this.context,this.config.data.apply(this.context,e)),a.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(e){return Array.isArray(e)?e.indexOf(this.state)>=0:this.state===e},isPending:function(){return this.pending},can:function(e){return!this.isPending()&&!!this.seek(e)},cannot:function(e){return!this.can(e)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(e,t){var n=this.config.defaults.wildcard,r=this.config.transitionFor(this.state,e),i=r&&r.to;return"function"===typeof i?i.apply(this.context,t):i===n?this.state:i},fire:function(e,t){return this.transit(e,this.state,this.seek(e,t),t)},transit:function(e,t,n,r){var i=this.config.lifecycle,a=this.config.options.observeUnchangedState||t!==n;return n?this.isPending()?this.context.onPendingTransition(e,t,n):(this.config.addState(n),this.beginTransit(),r.unshift({transition:e,from:t,to:n,fsm:this.context}),this.observeEvents([this.observersForEvent(i.onBefore.transition),this.observersForEvent(i.onBefore[e]),a?this.observersForEvent(i.onLeave.state):o,a?this.observersForEvent(i.onLeave[t]):o,this.observersForEvent(i.on.transition),a?["doTransit",[this]]:o,a?this.observersForEvent(i.onEnter.state):o,a?this.observersForEvent(i.onEnter[n]):o,a?this.observersForEvent(i.on[n]):o,this.observersForEvent(i.onAfter.transition),this.observersForEvent(i.onAfter[e]),this.observersForEvent(i.on[e])],r)):this.context.onInvalidTransition(e,t,n)},beginTransit:function(){this.pending=!0},endTransit:function(e){return this.pending=!1,e},failTransit:function(e){throw this.pending=!1,e},doTransit:function(e){this.state=e.to},observe:function(e){if(2===e.length){var t={};t[e[0]]=e[1],this.observers.push(t)}else this.observers.push(e[0])},observersForEvent:function(e){for(var t,n=0,r=this.observers.length,i=[];n<r;n++)(t=this.observers[n])[e]&&i.push(t);return[e,i,!0]},observeEvents:function(e,t,n,r){if(0===e.length)return this.endTransit(void 0===r||r);var i=e[0][0],o=e[0][1],s=e[0][2];if(t[0].event=i,i&&s&&i!==n&&a.hook(this,"lifecycle",t),0===o.length)return e.shift(),this.observeEvents(e,t,i,r);var u=o.shift(),c=u[i].apply(u,t);return c&&"function"===typeof c.then?c.then(this.observeEvents.bind(this,e,t,i)).catch(this.failTransit.bind(this)):!1===c?this.endTransit(!1):this.observeEvents(e,t,i,c)},onInvalidTransition:function(e,t,n){throw new i("transition is invalid in current state",e,t,n,this.state)},onPendingTransition:function(e,t,n){throw new i("transition is invalid while previous transition is still in progress",e,t,n,this.state)}}),e.exports=s},function(e,t,n){"use strict";var r=n(0),i=n(2),a=n(1),o=n(3),s=n(4),u={is:function(e){return this._fsm.is(e)},can:function(e){return this._fsm.can(e)},cannot:function(e){return this._fsm.cannot(e)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(e,t,n){return this._fsm.onInvalidTransition(e,t,n)},onPendingTransition:function(e,t,n){return this._fsm.onPendingTransition(e,t,n)}},c={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(e){throw Error("use transitions to change state")}}};function l(e){return d(this||{},e)}function d(e,t){return f(e,new o(t,l)),e._fsm(),e}function f(e,t){if("object"!==typeof e||Array.isArray(e))throw Error("StateMachine can only be applied to objects");a.build(e,t),Object.defineProperties(e,c),r(e,u),r(e,t.methods),t.allTransitions().forEach((function(t){e[i(t)]=function(){return this._fsm.fire(t,[].slice.call(arguments))}})),e._fsm=function(){this._fsm=new s(this,t),this._fsm.init(arguments)}}l.version="3.0.1",l.factory=function(){var e,t;"function"===typeof arguments[0]?(e=arguments[0],t=arguments[1]||{}):(e=function(){this._fsm.apply(this,arguments)},t=arguments[0]||{});var n=new o(t,l);return f(e.prototype,n),e.prototype._fsm.config=n,e},l.apply=d,l.defaults={wildcard:"*",init:{name:"init",from:"none"}},e.exports=l},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){this.message=e,this.transition=t,this.from=n,this.to=r,this.current=i}}])},e.exports=t()},46927:function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function i(e){return Object.prototype.toString.call(e)}function a(e){return"[object Function]"===i(e)}function o(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var u={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function l(e){var t=e.re=n(81875)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var u=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===i(n))return!function(e){return"[object RegExp]"===i(e)}(n.validate)?a(n.validate)?r.validate=n.validate:c(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(a(n.normalize)?r.normalize=n.normalize:n.normalize?c(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(n)?c(t,n):u.push(t)}})),u.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var l=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(o).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function f(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function p(e,t){if(!(this instanceof p))return new p(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},u,e),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},l(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,l(this),this},p.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,i,a,o,s,u;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(i=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(a=n.index+n[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(a=r.index+r[1].length,o=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=o)),this.__index__>=0},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},p.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(f(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(f(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),l(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,l(this),this)},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},81875:function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(65510).source,t.src_Cc=n(70538).source,t.src_Z=n(92426).source,t.src_P=n(13741).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><\uff5c]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><\uff5c]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><\uff5c]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+").|;(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},32467:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",o="[object Array]",s="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",h="[object Promise]",m="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",k="[object DataView]",x=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[a]=S[o]=S[w]=S[s]=S[k]=S[u]=S[c]=S[l]=S[d]=S[f]=S[p]=S[m]=S[v]=S[g]=S[b]=!1;var E="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,C="object"==typeof self&&self&&self.Object===Object&&self,T=E||C||Function("return this")(),A=t&&!t.nodeType&&t,O=A&&e&&!e.nodeType&&e,R=O&&O.exports===A,I=R&&E.process,N=function(){try{return I&&I.binding&&I.binding("util")}catch(e){}}(),P=N&&N.isTypedArray;function M(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function L(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function D(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var F,B,j=Array.prototype,Z=Function.prototype,V=Object.prototype,U=T["__core-js_shared__"],W=Z.toString,H=V.hasOwnProperty,z=function(){var e=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),G=V.toString,q=RegExp("^"+W.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=R?T.Buffer:void 0,Y=T.Symbol,X=T.Uint8Array,Q=V.propertyIsEnumerable,J=j.splice,$=Y?Y.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=K?K.isBuffer:void 0,ne=(F=Object.keys,B=Object,function(e){return F(B(e))}),re=Ie(T,"DataView"),ie=Ie(T,"Map"),ae=Ie(T,"Promise"),oe=Ie(T,"Set"),se=Ie(T,"WeakMap"),ue=Ie(Object,"create"),ce=Le(re),le=Le(ie),de=Le(ae),fe=Le(oe),pe=Le(se),he=Y?Y.prototype:void 0,me=he?he.valueOf:void 0;function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ye;++t<n;)this.add(e[t])}function we(e){var t=this.__data__=new ge(e);this.size=t.size}function ke(e,t){var n=Be(e),r=!n&&Fe(e),i=!n&&!r&&je(e),a=!n&&!r&&!i&&He(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!H.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Me(c,u))||s.push(c);return s}function xe(e,t){for(var n=e.length;n--;)if(De(e[n][0],t))return n;return-1}function _e(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":$&&$ in Object(e)?function(e){var t=H.call(e,$),n=e[$];try{e[$]=void 0;var r=!0}catch(a){}var i=G.call(e);r&&(t?e[$]=n:delete e[$]);return i}(e):function(e){return G.call(e)}(e)}function Se(e){return We(e)&&_e(e)==a}function Ee(e,t,n,r,i){return e===t||(null==e||null==t||!We(e)&&!We(t)?e!==e&&t!==t:function(e,t,n,r,i,l){var h=Be(e),b=Be(t),x=h?o:Pe(e),_=b?o:Pe(t),S=(x=x==a?p:x)==p,E=(_=_==a?p:_)==p,C=x==_;if(C&&je(e)){if(!je(t))return!1;h=!0,S=!1}if(C&&!S)return l||(l=new we),h||He(e)?Ae(e,t,n,r,i,l):function(e,t,n,r,i,a,o){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!a(new X(e),new X(t)));case s:case u:case f:return De(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case g:return e==t+"";case d:var l=L;case v:var p=1&r;if(l||(l=D),e.size!=t.size&&!p)return!1;var h=o.get(e);if(h)return h==t;r|=2,o.set(e,t);var b=Ae(l(e),l(t),r,i,a,o);return o.delete(e),b;case y:if(me)return me.call(e)==me.call(t)}return!1}(e,t,x,n,r,i,l);if(!(1&n)){var T=S&&H.call(e,"__wrapped__"),A=E&&H.call(t,"__wrapped__");if(T||A){var O=T?e.value():e,R=A?t.value():t;return l||(l=new we),i(O,R,n,r,l)}}if(!C)return!1;return l||(l=new we),function(e,t,n,r,i,a){var o=1&n,s=Oe(e),u=s.length,c=Oe(t).length;if(u!=c&&!o)return!1;var l=u;for(;l--;){var d=s[l];if(!(o?d in t:H.call(t,d)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var p=!0;a.set(e,t),a.set(t,e);var h=o;for(;++l<u;){var m=e[d=s[l]],v=t[d];if(r)var g=o?r(v,m,d,t,e,a):r(m,v,d,e,t,a);if(!(void 0===g?m===v||i(m,v,n,r,a):g)){p=!1;break}h||(h="constructor"==d)}if(p&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,r,i,l)}(e,t,n,r,Ee,i))}function Ce(e){return!(!Ue(e)||function(e){return!!z&&z in e}(e))&&(Ze(e)?q:x).test(Le(e))}function Te(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||V;return e===n}(e))return ne(e);var t=[];for(var n in Object(e))H.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ae(e,t,n,r,i,a){var o=1&n,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var l=-1,d=!0,f=2&n?new be:void 0;for(a.set(e,t),a.set(t,e);++l<s;){var p=e[l],h=t[l];if(r)var m=o?r(h,p,l,t,e,a):r(p,h,l,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!M(t,(function(e,t){if(o=t,!f.has(o)&&(p===e||i(p,e,n,r,a)))return f.push(t);var o}))){d=!1;break}}else if(p!==h&&!i(p,h,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function Oe(e){return function(e,t,n){var r=t(e);return Be(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,ze,Ne)}function Re(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ie(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ce(n)?n:void 0}ve.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},ve.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ve.prototype.get=function(e){var t=this.__data__;if(ue){var n=t[e];return n===r?void 0:n}return H.call(t,e)?t[e]:void 0},ve.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:H.call(t,e)},ve.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ue&&void 0===t?r:t,this},ge.prototype.clear=function(){this.__data__=[],this.size=0},ge.prototype.delete=function(e){var t=this.__data__,n=xe(t,e);return!(n<0)&&(n==t.length-1?t.pop():J.call(t,n,1),--this.size,!0)},ge.prototype.get=function(e){var t=this.__data__,n=xe(t,e);return n<0?void 0:t[n][1]},ge.prototype.has=function(e){return xe(this.__data__,e)>-1},ge.prototype.set=function(e,t){var n=this.__data__,r=xe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new ve,map:new(ie||ge),string:new ve}},ye.prototype.delete=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return Re(this,e).get(e)},ye.prototype.has=function(e){return Re(this,e).has(e)},ye.prototype.set=function(e,t){var n=Re(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,r),this},be.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new ge,this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ge){var r=n.__data__;if(!ie||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ye(r)}return n.set(e,t),this.size=n.size,this};var Ne=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}(ee(e),(function(t){return Q.call(e,t)})))}:function(){return[]},Pe=_e;function Me(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||_.test(e))&&e>-1&&e%1==0&&e<t}function Le(e){if(null!=e){try{return W.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function De(e,t){return e===t||e!==e&&t!==t}(re&&Pe(new re(new ArrayBuffer(1)))!=k||ie&&Pe(new ie)!=d||ae&&Pe(ae.resolve())!=h||oe&&Pe(new oe)!=v||se&&Pe(new se)!=b)&&(Pe=function(e){var t=_e(e),n=t==p?e.constructor:void 0,r=n?Le(n):"";if(r)switch(r){case ce:return k;case le:return d;case de:return h;case fe:return v;case pe:return b}return t});var Fe=Se(function(){return arguments}())?Se:function(e){return We(e)&&H.call(e,"callee")&&!Q.call(e,"callee")},Be=Array.isArray;var je=te||function(){return!1};function Ze(e){if(!Ue(e))return!1;var t=_e(e);return t==l||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ue(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function We(e){return null!=e&&"object"==typeof e}var He=P?function(e){return function(t){return e(t)}}(P):function(e){return We(e)&&Ve(e.length)&&!!S[_e(e)]};function ze(e){return null!=(t=e)&&Ve(t.length)&&!Ze(t)?ke(e):Te(e);var t}e.exports=function(e,t){return Ee(e,t)}},33881:function(e,t,n){var r="Expected a function",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,d=c||l||Function("return this")(),f=Object.prototype.toString,p=Math.max,h=Math.min,m=function(){return d.Date.now()};function v(e,t,n){var i,a,o,s,u,c,l=0,d=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=i,r=a;return i=a=void 0,l=t,s=e.apply(r,n)}function w(e){return l=e,u=setTimeout(x,t),d?b(e):s}function k(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-l>=o}function x(){var e=m();if(k(e))return _(e);u=setTimeout(x,function(e){var n=t-(e-c);return f?h(n,o-(e-l)):n}(e))}function _(e){return u=void 0,v&&i?b(e):(i=a=void 0,s)}function S(){var e=m(),n=k(e);if(i=arguments,a=this,c=e,n){if(void 0===u)return w(c);if(f)return u=setTimeout(x,t),b(c)}return void 0===u&&(u=setTimeout(x,t)),s}return t=y(t)||0,g(n)&&(d=!!n.leading,o=(f="maxWait"in n)?p(y(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==u&&clearTimeout(u),l=0,i=c=a=u=void 0},S.flush=function(){return void 0===u?s:_(m())},S}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=o.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(r);return g(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),v(e,t,{leading:i,maxWait:t,trailing:a})}},50908:function(e,t,n){var r=n(68136)(n(97009),"DataView");e.exports=r},29676:function(e,t,n){var r=n(85403),i=n(62747),a=n(16037),o=n(94154),s=n(77728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},38384:function(e,t,n){var r=n(43894),i=n(8699),a=n(64957),o=n(87184),s=n(87109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},95797:function(e,t,n){var r=n(68136)(n(97009),"Map");e.exports=r},78059:function(e,t,n){var r=n(34086),i=n(9255),a=n(29186),o=n(13423),s=n(73739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},78319:function(e,t,n){var r=n(68136)(n(97009),"Promise");e.exports=r},23924:function(e,t,n){var r=n(68136)(n(97009),"Set");e.exports=r},22854:function(e,t,n){var r=n(38384),i=n(20511),a=n(50835),o=n(90707),s=n(18832),u=n(35077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,e.exports=c},87197:function(e,t,n){var r=n(97009).Symbol;e.exports=r},46219:function(e,t,n){var r=n(97009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(68136)(n(97009),"WeakMap");e.exports=r},4550:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},84903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},47538:function(e,t,n){var r=n(86478),i=n(34963),a=n(93629),o=n(5174),s=n(26800),u=n(19102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),d=!n&&!l&&o(e),f=!n&&!l&&!d&&u(e),p=n||l||d||f,h=p?r(e.length,String):[],m=h.length;for(var v in e)!t&&!c.call(e,v)||p&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||h.push(v);return h}},41705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},18463:function(e,t,n){var r=n(32526),i=n(29231),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},27112:function(e,t,n){var r=n(29231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},11855:function(e,t,n){var r=n(64503),i=n(12742);e.exports=function(e,t){return e&&r(t,i(t),e)}},95076:function(e,t,n){var r=n(64503),i=n(73961);e.exports=function(e,t){return e&&r(t,i(t),e)}},32526:function(e,t,n){var r=n(48528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},31905:function(e,t,n){var r=n(22854),i=n(4550),a=n(18463),o=n(11855),s=n(95076),u=n(94523),c=n(10291),l=n(52455),d=n(57636),f=n(38248),p=n(55341),h=n(88383),m=n(39243),v=n(39759),g=n(40548),y=n(93629),b=n(5174),w=n(60103),k=n(8092),x=n(36995),_=n(12742),S=n(73961),E="[object Arguments]",C="[object Function]",T="[object Object]",A={};A[E]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[T]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[C]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,O,R,I,N){var P,M=1&n,L=2&n,D=4&n;if(O&&(P=I?O(t,R,I,N):O(t)),void 0!==P)return P;if(!k(t))return t;var F=y(t);if(F){if(P=m(t),!M)return c(t,P)}else{var B=h(t),j=B==C||"[object GeneratorFunction]"==B;if(b(t))return u(t,M);if(B==T||B==E||j&&!I){if(P=L||j?{}:g(t),!M)return L?d(t,s(P,t)):l(t,o(P,t))}else{if(!A[B])return I?t:{};P=v(t,B,M)}}N||(N=new r);var Z=N.get(t);if(Z)return Z;N.set(t,P),x(t)?t.forEach((function(r){P.add(e(r,n,O,r,t,N))})):w(t)&&t.forEach((function(r,i){P.set(i,e(r,n,O,i,t,N))}));var V=F?void 0:(D?L?p:f:L?S:_)(t);return i(V||t,(function(r,i){V&&(r=t[i=r]),a(P,i,e(r,n,O,i,t,N))})),P}},65763:function(e,t,n){var r=n(8092),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},61986:function(e,t,n){var r=n(41705),i=n(93629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},39066:function(e,t,n){var r=n(87197),i=n(81587),a=n(43581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},4906:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},53085:function(e,t,n){var r=n(88383),i=n(43141);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},26703:function(e,t,n){var r=n(74786),i=n(257),a=n(8092),o=n(27907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?f:s).test(o(e))}},48680:function(e,t,n){var r=n(88383),i=n(43141);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},68150:function(e,t,n){var r=n(39066),i=n(24635),a=n(43141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},43654:function(e,t,n){var r=n(62936),i=n(75964),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},8664:function(e,t,n){var r=n(8092),i=n(62936),a=n(4221),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},86478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},20821:function(e,t,n){var r=n(26050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},16194:function(e){e.exports=function(e){return function(t){return e(t)}}},7010:function(e,t,n){var r=n(46219);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},94523:function(e,t,n){e=n.nmd(e);var r=n(97009),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},61022:function(e,t,n){var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},18503:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},64720:function(e,t,n){var r=n(87197),i=r?r.prototype:void 0,a=i?i.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},40613:function(e,t,n){var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},10291:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},64503:function(e,t,n){var r=n(18463),i=n(32526);e.exports=function(e,t,n,a){var o=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=a?a(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),o?i(n,c,l):r(n,c,l)}return n}},52455:function(e,t,n){var r=n(64503),i=n(65918);e.exports=function(e,t){return r(e,i(e),t)}},57636:function(e,t,n){var r=n(64503),i=n(38487);e.exports=function(e,t){return r(e,i(e),t)}},65525:function(e,t,n){var r=n(97009)["__core-js_shared__"];e.exports=r},48528:function(e,t,n){var r=n(68136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},31032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},38248:function(e,t,n){var r=n(61986),i=n(65918),a=n(12742);e.exports=function(e){return r(e,a,i)}},55341:function(e,t,n){var r=n(61986),i=n(38487),a=n(73961);e.exports=function(e){return r(e,a,i)}},32799:function(e,t,n){var r=n(55964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},68136:function(e,t,n){var r=n(26703),i=n(30040);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},31137:function(e,t,n){var r=n(12709)(Object.getPrototypeOf,Object);e.exports=r},81587:function(e,t,n){var r=n(87197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},65918:function(e,t,n){var r=n(84903),i=n(68174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},38487:function(e,t,n){var r=n(41705),i=n(31137),a=n(65918),o=n(68174),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=i(e);return t}:o;e.exports=s},88383:function(e,t,n){var r=n(50908),i=n(95797),a=n(78319),o=n(23924),s=n(7091),u=n(39066),c=n(27907),l="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",m=c(r),v=c(i),g=c(a),y=c(o),b=c(s),w=u;(r&&w(new r(new ArrayBuffer(1)))!=h||i&&w(new i)!=l||a&&w(a.resolve())!=d||o&&w(new o)!=f||s&&w(new s)!=p)&&(w=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return h;case v:return l;case g:return d;case y:return f;case b:return p}return t}),e.exports=w},30040:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},85403:function(e,t,n){var r=n(49620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},62747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},16037:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},94154:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},77728:function(e,t,n){var r=n(49620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},39243:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},39759:function(e,t,n){var r=n(7010),i=n(61022),a=n(18503),o=n(64720),s=n(40613);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return a(e);case"[object Symbol]":return o(e)}}},40548:function(e,t,n){var r=n(65763),i=n(31137),a=n(62936);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(i(e))}},26800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},55964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(65525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},62936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},43894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(27112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},64957:function(e,t,n){var r=n(27112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},87184:function(e,t,n){var r=n(27112);e.exports=function(e){return r(this.__data__,e)>-1}},87109:function(e,t,n){var r=n(27112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},34086:function(e,t,n){var r=n(29676),i=n(38384),a=n(95797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(32799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},29186:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).get(e)}},13423:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).has(e)}},73739:function(e,t,n){var r=n(32799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},49620:function(e,t,n){var r=n(68136)(Object,"create");e.exports=r},75964:function(e,t,n){var r=n(12709)(Object.keys,Object);e.exports=r},4221:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},49494:function(e,t,n){e=n.nmd(e);var r=n(31032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},43581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},12709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},97009:function(e,t,n){var r=n(31032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},20511:function(e,t,n){var r=n(38384);e.exports=function(){this.__data__=new r,this.size=0}},50835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},90707:function(e){e.exports=function(e){return this.__data__.get(e)}},18832:function(e){e.exports=function(e){return this.__data__.has(e)}},35077:function(e,t,n){var r=n(38384),i=n(95797),a=n(78059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},27907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},26050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},30093:function(e,t,n){var r=n(31905);e.exports=function(e,t){return r(e,5,t="function"==typeof t?t:void 0)}},48573:function(e,t,n){var r=n(8092),i=n(50072),a=n(42582),o=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,d,f,p,h=0,m=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,h=t,d=e.apply(r,n)}function b(e){return h=e,f=setTimeout(k,t),m?y(e):d}function w(e){var n=e-p;return void 0===p||n>=t||n<0||v&&e-h>=l}function k(){var e=i();if(w(e))return x(e);f=setTimeout(k,function(e){var n=t-(e-p);return v?s(n,l-(e-h)):n}(e))}function x(e){return f=void 0,g&&u?y(e):(u=c=void 0,d)}function _(){var e=i(),n=w(e);if(u=arguments,c=this,p=e,n){if(void 0===f)return b(p);if(v)return clearTimeout(f),f=setTimeout(k,t),y(p)}return void 0===f&&(f=setTimeout(k,t)),d}return t=a(t)||0,r(n)&&(m=!!n.leading,l=(v="maxWait"in n)?o(a(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),_.cancel=function(){void 0!==f&&clearTimeout(f),h=0,u=p=c=f=void 0},_.flush=function(){return void 0===f?d:x(i())},_}},29231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},34963:function(e,t,n){var r=n(4906),i=n(43141),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},93629:function(e){var t=Array.isArray;e.exports=t},21473:function(e,t,n){var r=n(74786),i=n(24635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(97009),i=n(49488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},74786:function(e,t,n){var r=n(39066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},24635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},60103:function(e,t,n){var r=n(53085),i=n(16194),a=n(49494),o=a&&a.isMap,s=o?i(o):r;e.exports=s},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},43141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},36995:function(e,t,n){var r=n(48680),i=n(16194),a=n(49494),o=a&&a.isSet,s=o?i(o):r;e.exports=s},70152:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},19102:function(e,t,n){var r=n(68150),i=n(16194),a=n(49494),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},12742:function(e,t,n){var r=n(47538),i=n(43654),a=n(21473);e.exports=function(e){return a(e)?r(e):i(e)}},73961:function(e,t,n){var r=n(47538),i=n(8664),a=n(21473);e.exports=function(e){return a(e)?r(e,!0):i(e)}},49151:function(e,t,n){var r=n(78059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},50072:function(e,t,n){var r=n(97009);e.exports=function(){return r.Date.now()}},68174:function(e){e.exports=function(){return[]}},49488:function(e){e.exports=function(){return!1}},42582:function(e,t,n){var r=n(20821),i=n(8092),a=n(70152),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},62895:function(e,t,n){var r,i;!function(a,o){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?a:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function s(t,n){for(var i=0;i<r.length;i++){var a=r[i];this[a]=i<t?e:this.methodFactory(a,t,n)}this.log=this.debug}function u(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function c(e,t,n){return o(e)||u.apply(this,arguments)}function l(e,n,i){var a,o=this;n=null==n?"WARN":n;var u="loglevel";function l(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&u){try{return void(window.localStorage[u]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(u)+"="+n+";"}catch(i){}}}function d(){var e;if(typeof window!==t&&u){try{e=window.localStorage[u]}catch(i){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(u)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(i){}return void 0===o.levels[e]&&(e=void 0),e}}function f(){if(typeof window!==t&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"===typeof e?u+=":"+e:"symbol"===typeof e&&(u=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=i||c,o.getLevel=function(){return a},o.setLevel=function(n,r){if("string"===typeof n&&void 0!==o.levels[n.toUpperCase()]&&(n=o.levels[n.toUpperCase()]),!("number"===typeof n&&n>=0&&n<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==r&&l(n),s.call(o,n,e),typeof console===t&&n<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){n=e,d()||o.setLevel(e,!1)},o.resetLevel=function(){o.setLevel(n,!1),f()},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var p=d();null==p&&(p=n),o.setLevel(p,!1)}var d=new l,f={};d.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new l(e,d.getLevel(),d.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=p),d},d.getLoggers=function(){return f},d.default=d,d},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)}()},18987:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(E){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},a={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=u(e,(0|e)<0?-1:0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=u(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function s(e,t){if(isNaN(e))return t?g:v;if(t){if(e<0)return g;if(e>=p)return x}else{if(e<=-h)return _;if(e+1>=h)return k}return e<0?s(-e,t).neg():u(e%f|0,e/f|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=s,n.fromBits=u;var c=Math.pow;function l(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(e.substring(1),t,n).neg();for(var i=s(c(n,8)),a=v,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),d=parseInt(e.substring(o,o+u),n);if(u<8){var f=s(c(n,u));a=a.mul(f).add(s(d))}else a=(a=a.mul(i)).add(s(d))}return a.unsigned=t,a}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?l(e,t):u(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=l,n.fromValue=d;var f=4294967296,p=f*f,h=p/2,m=o(1<<24),v=o(0);n.ZERO=v;var g=o(0,!0);n.UZERO=g;var y=o(1);n.ONE=y;var b=o(1,!0);n.UONE=b;var w=o(-1);n.NEG_ONE=w;var k=u(-1,2147483647,!1);n.MAX_VALUE=k;var x=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var _=u(0,-2147483648,!1);n.MIN_VALUE=_;var S=n.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(c(e,6),this.unsigned),a=this,o="";;){var u=a.div(i),l=(a.sub(u.mul(i)).toInt()>>>0).toString(e);if((a=u).isZero())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1===(1&this.low)},S.isEven=function(){return 0===(1&this.low)},S.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(y)},S.neg=S.negate,S.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,o=e.high>>>16,s=65535&e.high,c=e.low>>>16,l=0,f=0,p=0,h=0;return p+=(h+=a+(65535&e.low))>>>16,f+=(p+=i+c)>>>16,l+=(f+=n+s)>>>16,l+=t+o,u((p&=65535)<<16|(h&=65535),(l&=65535)<<16|(f&=65535),this.unsigned)},S.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return v;if(r(e)||(e=d(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(_))return e.isOdd()?_:v;if(e.eq(_))return this.isOdd()?_:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,a=this.low>>>16,o=65535&this.low,c=e.high>>>16,l=65535&e.high,f=e.low>>>16,p=65535&e.low,h=0,g=0,y=0,b=0;return y+=(b+=o*p)>>>16,g+=(y+=a*p)>>>16,y&=65535,g+=(y+=o*f)>>>16,h+=(g+=i*p)>>>16,g&=65535,h+=(g+=a*f)>>>16,g&=65535,h+=(g+=o*l)>>>16,h+=n*p+i*f+a*l+o*c,u((y&=65535)<<16|(b&=65535),(h&=65535)<<16|(g&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,i,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return b;a=g}else{if(this.eq(_))return e.eq(y)||e.eq(w)?_:e.eq(_)?y:(n=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?y:w:(i=this.sub(e.mul(n)),a=n.add(i.div(e)));if(e.eq(_))return this.unsigned?g:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=v}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),l=o<=48?1:c(2,o-48),f=s(n),p=f.mul(e);p.isNegative()||p.gt(i);)p=(f=s(n-=l,this.unsigned)).mul(e);f.isZero()&&(f=y),a=a.add(f),i=i.sub(p)}return a},S.div=S.divide,S.modulo=function(e){return r(e)||(e=d(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return u(~this.low,~this.high,this.unsigned)},S.and=function(e){return r(e)||(e=d(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return r(e)||(e=d(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return r(e)||(e=d(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},27711:function(e,t,n){var r=n(96616);r.prototype.formulaEval=function(){"use strict";for(var e,t,n,r=[],i=this.value,a=0;a<i.length;a++)1===i[a].type||3===i[a].type?r.push({value:3===i[a].type?i[a].show:i[a].value,type:1}):13===i[a].type?r.push({value:i[a].show,type:1}):0===i[a].type?r[r.length-1]={value:i[a].show+("-"!=i[a].show?"(":"")+r[r.length-1].value+("-"!=i[a].show?")":""),type:0}:7===i[a].type?r[r.length-1]={value:(1!=r[r.length-1].type?"(":"")+r[r.length-1].value+(1!=r[r.length-1].type?")":"")+i[a].show,type:7}:10===i[a].type?(e=r.pop(),t=r.pop(),"P"===i[a].show||"C"===i[a].show?r.push({value:"<sup>"+t.value+"</sup>"+i[a].show+"<sub>"+e.value+"</sub>",type:10}):r.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+"<sup>"+e.value+"</sup>",type:1})):2===i[a].type||9===i[a].type?(e=r.pop(),t=r.pop(),r.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+i[a].show+(1!=e.type?"(":"")+e.value+(1!=e.type?")":""),type:i[a].type})):12===i[a].type&&(e=r.pop(),t=r.pop(),n=r.pop(),r.push({value:i[a].show+"("+n.value+","+t.value+","+e.value+")",type:12}));return r[0].value},e.exports=r},50015:function(e,t,n){"use strict";var r=n(19585);function i(e,t){for(var n=0;n<e.length;n++)e[n]+=t;return e}for(var a=[{token:"sin",show:"sin",type:0,value:r.math.sin},{token:"cos",show:"cos",type:0,value:r.math.cos},{token:"tan",show:"tan",type:0,value:r.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:r.math.P},{token:"C",show:"C",type:10,value:r.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:r.math.asin},{token:"acos",show:"acos",type:0,value:r.math.acos},{token:"atan",show:"atan",type:0,value:r.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:r.math.cosh},{token:"acosh",show:"acosh",type:0,value:r.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:r.math.div},{token:"!",show:"!",type:7,value:r.math.fact},{token:"tanh",show:"tanh",type:0,value:r.math.tanh},{token:"atanh",show:"atanh",type:0,value:r.math.atanh},{token:"Mod",show:" Mod ",type:2,value:r.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:r.math.mul},{token:"sinh",show:"sinh",type:0,value:r.math.sinh},{token:"asinh",show:"asinh",type:0,value:r.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:r.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:r.math.add},{token:"-",show:"-",type:9,value:r.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:r.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:r.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:r.math.and}],o={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11},s=0;s<a.length;s++)a[s].precedence=o[a[s].type];var u={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},c={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},l={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},d={},f={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},p={1:!0},h=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function m(e,t,n,r){for(var i=0;i<r;i++)if(e[n+i]!==t[i])return!1;return!0}function v(e,t){for(var n=0;n<t.length;n++)if(t[n].token===e)return n;return-1}function g(e){for(var t,n,i,o=[],s=e.length,u=0;u<s;u++)if(!(u<s-1&&" "===e[u]&&" "===e[u+1])){for(t="",n=e.length-u>h.length-2?h.length-1:e.length-u;n>0;n--)if(void 0!==h[n])for(i=0;i<h[n].length;i++)m(e,h[n][i],u,n)&&(t=h[n][i],i=h[n].length,n=0);if(u+=t.length-1,""===t)throw new r.Exception("Can't understand after "+e.slice(u));o.push(a[v(t,a)])}return o}r.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14},r.addToken=function(e){for(var t=0;t<e.length;t++){var n=e[t].token.length,i=-1;e[t].type===r.tokenTypes.FUNCTION_WITH_N_ARGS&&void 0===e[t].numberOfArguments&&(e[t].numberOfArguments=2),h[n]=h[n]||[];for(var s=0;s<h[n].length;s++)if(e[t].token===h[n][s]){i=v(h[n][s],a);break}-1===i?(a.push(e[t]),e[t].precedence=o[e[t].type],h.length<=e[t].token.length&&(h[e[t].token.length]=[]),h[e[t].token.length].push(e[t].token)):(a[i]=e[t],e[t].precedence=o[e[t].type])}};var y={value:r.math.changeSign,type:0,pre:21,show:"-"},b={value:")",show:")",type:5,pre:0},w={value:"(",type:4,pre:0,show:"("};r.lex=function(e,t){var n,a=[w],o=[],s=e,h=u,m=0,v=d,k="";"undefined"!==typeof t&&r.addToken(t);var x={},_=g(s);for(n=0;n<_.length;n++){var S=_[n];if(14!==S.type){var E,C=S.token,T=S.type,A=S.value,O=S.precedence,R=S.show,I=a[a.length-1];for(E=o.length;E--&&0===o[E];)if(-1!==[0,2,3,4,5,9,11,12,13].indexOf(T)){if(!0!==h[T])throw new r.Exception(C+" is not allowed after "+k);a.push(b),h=c,v=f,o.pop()}if(!0!==h[T])throw new r.Exception(C+" is not allowed after "+k);if(!0===v[T]&&(T=2,A=r.math.mul,R="&times;",O=3,n-=1),x={value:A,type:T,pre:O,show:R,numberOfArguments:S.numberOfArguments},0===T)h=u,v=d,i(o,2),a.push(x),4!==_[n+1].type&&(a.push(w),o.push(2));else if(1===T)1===I.type?(I.value+=A,i(o,1)):a.push(x),h=c,v=l;else if(2===T)h=u,v=d,i(o,2),a.push(x);else if(3===T)a.push(x),h=c,v=f;else if(4===T)i(o,1),m++,h=u,v=d,a.push(x);else if(5===T){if(!m)throw new r.Exception("Closing parenthesis are more than opening one, wait What!!!");m--,h=c,v=f,a.push(x),i(o,1)}else if(6===T){if(I.hasDec)throw new r.Exception("Two decimals are not allowed in one number");1!==I.type&&(I={value:0,type:1,pre:0},a.push(I)),h=p,i(o,1),v=d,I.value+=A,I.hasDec=!0}else 7===T&&(h=c,v=f,i(o,1),a.push(x));8===T?(h=u,v=d,i(o,S.numberOfArguments+2),a.push(x),4!==_[n+1].type&&(a.push(w),o.push(S.numberOfArguments+2))):9===T?(9===I.type?I.value===r.math.add?(I.value=A,I.show=R,i(o,1)):I.value===r.math.sub&&"-"===R&&(I.value=r.math.add,I.show="+",i(o,1)):5!==I.type&&7!==I.type&&1!==I.type&&3!==I.type&&13!==I.type?"-"===C&&(h=u,v=d,i(o,2).push(2),a.push(y),a.push(w)):(a.push(x),i(o,2)),h=u,v=d):10===T?(h=u,v=d,i(o,2),a.push(x)):11===T?(h=u,v=d,a.push(x)):12===T?(h=u,v=d,i(o,6),a.push(x),4!==_[n+1].type&&(a.push(w),o.push(6))):13===T&&(h=c,v=f,a.push(x)),i(o,-1),k=C}else if(n>0&&n<_.length-1&&1===_[n+1].type&&(1===_[n-1].type||6===_[n-1].type))throw new r.Exception("Unexpected Space")}for(E=o.length;E--;)a.push(b);if(!0!==h[5])throw new r.Exception("complete the expression");for(;m--;)a.push(b);return a.push(b),new r(a)},e.exports=r},19585:function(e){"use strict";var t=function(e){this.value=e};t.math={isDegree:!0,acos:function(e){return t.math.isDegree?180/Math.PI*Math.acos(e):Math.acos(e)},add:function(e,t){return e+t},asin:function(e){return t.math.isDegree?180/Math.PI*Math.asin(e):Math.asin(e)},atan:function(e){return t.math.isDegree?180/Math.PI*Math.atan(e):Math.atan(e)},acosh:function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return Math.log((1+e)/(1-e))},C:function(e,n){var r=1,i=e-n,a=n;a<i&&(a=i,i=n);for(var o=a+1;o<=e;o++)r*=o;return r/t.math.fact(i)},changeSign:function(e){return-e},cos:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.cos(e)},cosh:function(e){return(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))/2},div:function(e,t){return e/t},fact:function(e){if(e%1!==0)return"NaN";for(var t=1,n=2;n<=e;n++)t*=n;return t},inverse:function(e){return 1/e},log:function(e){return Math.log(e)/Math.log(10)},mod:function(e,t){return e%t},mul:function(e,t){return e*t},P:function(e,t){for(var n=1,r=Math.floor(e)-Math.floor(t)+1;r<=Math.floor(e);r++)n*=r;return n},Pi:function(e,t,n){for(var r=1,i=e;i<=t;i++)r*=Number(n.postfixEval({n:i}));return r},pow10x:function(e){for(var t=1;e--;)t*=10;return t},sigma:function(e,t,n){for(var r=0,i=e;i<=t;i++)r+=Number(n.postfixEval({n:i}));return r},sin:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.sin(e)},sinh:function(e){return(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))/2},sub:function(e,t){return e-t},tan:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.tan(e)},tanh:function(e){return t.sinha(e)/t.cosha(e)},toRadian:function(e){return e*Math.PI/180},and:function(e,t){return e&t}},t.Exception=function(e){this.message=e},e.exports=t},16928:function(e,t,n){var r=n(50015);r.prototype.toPostfix=function(){"use strict";for(var e,t,n,i,a,o=[],s=[{value:"(",type:4,pre:0}],u=this.value,c=1;c<u.length;c++)if(1===u[c].type||3===u[c].type||13===u[c].type)1===u[c].type&&(u[c].value=Number(u[c].value)),o.push(u[c]);else if(4===u[c].type)s.push(u[c]);else if(5===u[c].type)for(;4!==(t=s.pop()).type;)o.push(t);else if(11===u[c].type){for(;4!==(t=s.pop()).type;)o.push(t);s.push(t)}else{i=(e=u[c]).pre,n=(a=s[s.length-1]).pre;var l="Math.pow"==a.value&&"Math.pow"==e.value;if(i>n)s.push(e);else{for(;n>=i&&!l||l&&i<n;)t=s.pop(),a=s[s.length-1],o.push(t),n=a.pre,l="Math.pow"==e.value&&"Math.pow"==a.value;s.push(e)}}return new r(o)},e.exports=r},96616:function(e,t,n){var r=n(16928);r.prototype.postfixEval=function(e){"use strict";(e=e||{}).PI=Math.PI,e.E=Math.E;for(var t,n,i,a=[],o=this.value,s="undefined"!==typeof e.n,u=0;u<o.length;u++)if(1===o[u].type)a.push({value:o[u].value,type:1});else if(3===o[u].type)a.push({value:e[o[u].value],type:1});else if(0===o[u].type)"undefined"===typeof a[a.length-1].type?a[a.length-1].value.push(o[u]):a[a.length-1].value=o[u].value(a[a.length-1].value);else if(7===o[u].type)"undefined"===typeof a[a.length-1].type?a[a.length-1].value.push(o[u]):a[a.length-1].value=o[u].value(a[a.length-1].value);else if(8===o[u].type){for(var c=[],l=0;l<o[u].numberOfArguments;l++)c.push(a.pop().value);a.push({type:1,value:o[u].value.apply(o[u],c.reverse())})}else 10===o[u].type?(t=a.pop(),"undefined"===typeof(n=a.pop()).type?(n.value=n.concat(t),n.value.push(o[u]),a.push(n)):"undefined"===typeof t.type?(t.unshift(n),t.push(o[u]),a.push(t)):a.push({type:1,value:o[u].value(n.value,t.value)})):2===o[u].type||9===o[u].type?(t=a.pop(),"undefined"===typeof(n=a.pop()).type?((n=n.concat(t)).push(o[u]),a.push(n)):"undefined"===typeof t.type?(t.unshift(n),t.push(o[u]),a.push(t)):a.push({type:1,value:o[u].value(n.value,t.value)})):12===o[u].type?("undefined"!==typeof(t=a.pop()).type&&(t=[t]),n=a.pop(),i=a.pop(),a.push({type:1,value:o[u].value(i.value,n.value,new r(t))})):13===o[u].type&&(s?a.push({value:e[o[u].value],type:3}):a.push([o[u]]));if(a.length>1)throw new r.Exception("Uncaught Syntax error");return a[0].value>1e15?"Infinity":parseFloat(a[0].value.toFixed(15))},r.eval=function(e,t,n){return"undefined"===typeof t?this.lex(e).toPostfix().postfixEval():"undefined"===typeof n?"undefined"!==typeof t.length?this.lex(e,t).toPostfix().postfixEval():this.lex(e).toPostfix().postfixEval(t):this.lex(e,t).toPostfix().postfixEval(n)},e.exports=r},72426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function u(e){return void 0===e}function c(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e,t){for(var n in t)f(t,n)&&(e[n]=t[n]);return f(t,"toString")&&(e.toString=t.toString),f(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return qn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=m()),e._pf}function g(e){if(null==e._isValid){var t=v(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function y(e){var t=h(NaN);return null!=e?p(v(t),e):v(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var b=r.momentProperties=[];function w(e,t){var n,r,i;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=v(t)),u(t._locale)||(e._locale=t._locale),b.length>0)for(n=0;n<b.length;n++)u(i=t[r=b[n]])||(e[r]=i);return e}var k=!1;function x(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===k&&(k=!0,r.updateOffset(this),k=!1)}function _(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function S(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function E(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=S(t)),n}function C(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&E(e[r])!==E(t[r]))&&o++;return o+a}function T(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function A(e,t){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var i,a=[],o=0;o<arguments.length;o++){if(i="","object"===typeof arguments[o]){for(var s in i+="\n["+o+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[o];a.push(i)}T(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var O,R={};function I(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),R[e]||(T(t),R[e]=!0)}function N(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e){var t,n;for(n in e)N(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function M(e,t){var n,r=p({},e);for(n in t)f(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)f(e,n)&&!f(t,n)&&o(e[n])&&(r[n]=p({},r[n]));return r}function L(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,O=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)f(e,t)&&n.push(t);return n};var D={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function F(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return N(r)?r.call(t,n):r}var B={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function j(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])}var Z="Invalid date";function V(){return this._invalidDate}var U="%d",W=/\d{1,2}/;function H(e){return this._ordinal.replace("%d",e)}var z={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function G(e,t,n,r){var i=this._relativeTime[n];return N(i)?i(e,t,n,r):i.replace(/%d/i,e)}function q(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var K={};function Y(e,t){var n=e.toLowerCase();K[n]=K[n+"s"]=K[t]=e}function X(e){return"string"===typeof e?K[e]||K[e.toLowerCase()]:void 0}function Q(e){var t,n,r={};for(n in e)f(e,n)&&(t=X(n))&&(r[t]=e[n]);return r}var J={};function $(e,t){J[e]=t}function ee(e){var t=[];for(var n in e)t.push({unit:n,priority:J[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}function te(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var ne=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,re=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ie={},ae={};function oe(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(ae[e]=i),t&&(ae[t[0]]=function(){return te(i.apply(this,arguments),t[1],t[2])}),n&&(ae[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function se(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function ue(e){var t,n,r=e.match(ne);for(t=0,n=r.length;t<n;t++)ae[r[t]]?r[t]=ae[r[t]]:r[t]=se(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=N(r[i])?r[i].call(t,e):r[i];return a}}function ce(e,t){return e.isValid()?(t=le(t,e.localeData()),ie[t]=ie[t]||ue(t),ie[t](e)):e.localeData().invalidDate()}function le(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(re.lastIndex=0;n>=0&&re.test(e);)e=e.replace(re,r),re.lastIndex=0,n-=1;return e}var de=/\d/,fe=/\d\d/,pe=/\d{3}/,he=/\d{4}/,me=/[+-]?\d{6}/,ve=/\d\d?/,ge=/\d\d\d\d?/,ye=/\d\d\d\d\d\d?/,be=/\d{1,3}/,we=/\d{1,4}/,ke=/[+-]?\d{1,6}/,xe=/\d+/,_e=/[+-]?\d+/,Se=/Z|[+-]\d\d:?\d\d/gi,Ee=/Z|[+-]\d\d(?::?\d\d)?/gi,Ce=/[+-]?\d+(\.\d{1,3})?/,Te=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ae={};function Oe(e,t,n){Ae[e]=N(t)?t:function(e,r){return e&&n?n:t}}function Re(e,t){return f(Ae,e)?Ae[e](t._strict,t._locale):new RegExp(Ie(e))}function Ie(e){return Ne(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Ne(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Pe={};function Me(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),c(t)&&(r=function(e,n){n[t]=E(e)}),n=0;n<e.length;n++)Pe[e[n]]=r}function Le(e,t){Me(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function De(e,t,n){null!=t&&f(Pe,e)&&Pe[e](t,n._a,n,e)}var Fe=0,Be=1,je=2,Ze=3,Ve=4,Ue=5,We=6,He=7,ze=8;function Ge(e){return qe(e)?366:365}function qe(e){return e%4===0&&e%100!==0||e%400===0}oe("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),oe(0,["YY",2],0,(function(){return this.year()%100})),oe(0,["YYYY",4],0,"year"),oe(0,["YYYYY",5],0,"year"),oe(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),$("year",1),Oe("Y",_e),Oe("YY",ve,fe),Oe("YYYY",we,he),Oe("YYYYY",ke,me),Oe("YYYYYY",ke,me),Me(["YYYYY","YYYYYY"],Fe),Me("YYYY",(function(e,t){t[Fe]=2===e.length?r.parseTwoDigitYear(e):E(e)})),Me("YY",(function(e,t){t[Fe]=r.parseTwoDigitYear(e)})),Me("Y",(function(e,t){t[Fe]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return E(e)+(E(e)>68?1900:2e3)};var Ke,Ye=Qe("FullYear",!0);function Xe(){return qe(this.year())}function Qe(e,t){return function(n){return null!=n?($e(this,e,n),r.updateOffset(this,t),this):Je(this,e)}}function Je(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function $e(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&qe(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),rt(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function et(e){return N(this[e=X(e)])?this[e]():this}function tt(e,t){if("object"===typeof e)for(var n=ee(e=Q(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(N(this[e=X(e)]))return this[e](t);return this}function nt(e,t){return(e%t+t)%t}function rt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=nt(t,12);return e+=(t-n)/12,1===n?qe(e)?29:28:31-n%7%2}Ke=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},oe("M",["MM",2],"Mo",(function(){return this.month()+1})),oe("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),oe("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Y("month","M"),$("month",8),Oe("M",ve),Oe("MM",ve,fe),Oe("MMM",(function(e,t){return t.monthsShortRegex(e)})),Oe("MMMM",(function(e,t){return t.monthsRegex(e)})),Me(["M","MM"],(function(e,t){t[Be]=E(e)-1})),Me(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Be]=i:v(n).invalidMonth=e}));var it=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,at="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function ot(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||it).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}var st="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function ut(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[it.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ct(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ke.call(this._shortMonthsParse,o))?i:null:-1!==(i=Ke.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Ke.call(this._shortMonthsParse,o))||-1!==(i=Ke.call(this._longMonthsParse,o))?i:null:-1!==(i=Ke.call(this._longMonthsParse,o))||-1!==(i=Ke.call(this._shortMonthsParse,o))?i:null}function lt(e,t,n){var r,i,a;if(this._monthsParseExact)return ct.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function dt(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=E(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),rt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ft(e){return null!=e?(dt(this,e),r.updateOffset(this,!0),this):Je(this,"Month")}function pt(){return rt(this.year(),this.month())}var ht=Te;function mt(e){return this._monthsParseExact?(f(this,"_monthsRegex")||yt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(f(this,"_monthsShortRegex")||(this._monthsShortRegex=ht),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}var vt=Te;function gt(e){return this._monthsParseExact?(f(this,"_monthsRegex")||yt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(f(this,"_monthsRegex")||(this._monthsRegex=vt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function yt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Ne(r[t]),i[t]=Ne(i[t]);for(t=0;t<24;t++)a[t]=Ne(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function bt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function wt(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function kt(e,t,n){var r=7+t-n;return-(7+wt(e,0,r).getUTCDay()-t)%7+r-1}function xt(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+kt(e,r,i);return s<=0?o=Ge(a=e-1)+s:s>Ge(e)?(a=e+1,o=s-Ge(e)):(a=e,o=s),{year:a,dayOfYear:o}}function _t(e,t,n){var r,i,a=kt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+St(i=e.year()-1,t,n):o>St(e.year(),t,n)?(r=o-St(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function St(e,t,n){var r=kt(e,t,n),i=kt(e+1,t,n);return(Ge(e)-r+i)/7}function Et(e){return _t(e,this._week.dow,this._week.doy).week}oe("w",["ww",2],"wo","week"),oe("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),$("week",5),$("isoWeek",5),Oe("w",ve),Oe("ww",ve,fe),Oe("W",ve),Oe("WW",ve,fe),Le(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=E(e)}));var Ct={dow:0,doy:6};function Tt(){return this._week.dow}function At(){return this._week.doy}function Ot(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Rt(e){var t=_t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function It(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Nt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pt(e,t){return e.slice(t,7).concat(e.slice(0,t))}oe("d",0,"do","day"),oe("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),oe("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),oe("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),oe("e",0,0,"weekday"),oe("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),$("day",11),$("weekday",11),$("isoWeekday",11),Oe("d",ve),Oe("e",ve),Oe("E",ve),Oe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Oe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Oe("dddd",(function(e,t){return t.weekdaysRegex(e)})),Le(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:v(n).invalidWeekday=e})),Le(["d","e","E"],(function(e,t,n,r){t[r]=E(e)}));var Mt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Lt(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Pt(n,this._week.dow):e?n[e.day()]:n}var Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Ft(e){return!0===e?Pt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}var Bt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function jt(e){return!0===e?Pt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Zt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ke.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ke.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Ke.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Ke.call(this._weekdaysParse,o))||-1!==(i=Ke.call(this._shortWeekdaysParse,o))||-1!==(i=Ke.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ke.call(this._shortWeekdaysParse,o))||-1!==(i=Ke.call(this._weekdaysParse,o))||-1!==(i=Ke.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Ke.call(this._minWeekdaysParse,o))||-1!==(i=Ke.call(this._weekdaysParse,o))||-1!==(i=Ke.call(this._shortWeekdaysParse,o))?i:null}function Vt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Zt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ut(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=It(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ht(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Nt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}var zt=Te;function Gt(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(f(this,"_weekdaysRegex")||(this._weekdaysRegex=zt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}var qt=Te;function Kt(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(f(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var Yt=Te;function Xt(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(f(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);for(o.sort(e),s.sort(e),u.sort(e),c.sort(e),t=0;t<7;t++)s[t]=Ne(s[t]),u[t]=Ne(u[t]),c[t]=Ne(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Jt(){return this.hours()%12||12}function $t(){return this.hours()||24}function en(e,t){oe(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function tn(e,t){return t._meridiemParse}function nn(e){return"p"===(e+"").toLowerCase().charAt(0)}oe("H",["HH",2],0,"hour"),oe("h",["hh",2],0,Jt),oe("k",["kk",2],0,$t),oe("hmm",0,0,(function(){return""+Jt.apply(this)+te(this.minutes(),2)})),oe("hmmss",0,0,(function(){return""+Jt.apply(this)+te(this.minutes(),2)+te(this.seconds(),2)})),oe("Hmm",0,0,(function(){return""+this.hours()+te(this.minutes(),2)})),oe("Hmmss",0,0,(function(){return""+this.hours()+te(this.minutes(),2)+te(this.seconds(),2)})),en("a",!0),en("A",!1),Y("hour","h"),$("hour",13),Oe("a",tn),Oe("A",tn),Oe("H",ve),Oe("h",ve),Oe("k",ve),Oe("HH",ve,fe),Oe("hh",ve,fe),Oe("kk",ve,fe),Oe("hmm",ge),Oe("hmmss",ye),Oe("Hmm",ge),Oe("Hmmss",ye),Me(["H","HH"],Ze),Me(["k","kk"],(function(e,t,n){var r=E(e);t[Ze]=24===r?0:r})),Me(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Me(["h","hh"],(function(e,t,n){t[Ze]=E(e),v(n).bigHour=!0})),Me("hmm",(function(e,t,n){var r=e.length-2;t[Ze]=E(e.substr(0,r)),t[Ve]=E(e.substr(r)),v(n).bigHour=!0})),Me("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ze]=E(e.substr(0,r)),t[Ve]=E(e.substr(r,2)),t[Ue]=E(e.substr(i)),v(n).bigHour=!0})),Me("Hmm",(function(e,t,n){var r=e.length-2;t[Ze]=E(e.substr(0,r)),t[Ve]=E(e.substr(r))})),Me("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ze]=E(e.substr(0,r)),t[Ve]=E(e.substr(r,2)),t[Ue]=E(e.substr(i))}));var rn=/[ap]\.?m?\.?/i;function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn=Qe("Hours",!0),un={calendar:D,longDateFormat:B,invalidDate:Z,ordinal:U,dayOfMonthOrdinalParse:W,relativeTime:z,months:at,monthsShort:st,week:Ct,weekdays:Mt,weekdaysMin:Bt,weekdaysShort:Dt,meridiemParse:rn},cn={},ln={};function dn(e){return e?e.toLowerCase().replace("_","-"):e}function fn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=dn(e[a]).split("-")).length,n=(n=dn(e[a+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&C(i,n,!0)>=t-1)break;t--}a++}return on}function pn(t){var n=null;if(!cn[t]&&e&&e.exports)try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),hn(n)}catch(r){}return cn[t]}function hn(e,t){var n;return e&&((n=u(t)?gn(e):mn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function mn(e,t){if(null!==t){var n,r=un;if(t.abbr=e,null!=cn[e])I("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=cn[e]._config;else if(null!=t.parentLocale)if(null!=cn[t.parentLocale])r=cn[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return ln[t.parentLocale]||(ln[t.parentLocale]=[]),ln[t.parentLocale].push({name:e,config:t}),null;r=n._config}return cn[e]=new L(M(r,t)),ln[e]&&ln[e].forEach((function(e){mn(e.name,e.config)})),hn(e),cn[e]}return delete cn[e],null}function vn(e,t){if(null!=t){var n,r,i=un;null!=(r=pn(e))&&(i=r._config),(n=new L(t=M(i,t))).parentLocale=cn[e],cn[e]=n,hn(e)}else null!=cn[e]&&(null!=cn[e].parentLocale?cn[e]=cn[e].parentLocale:null!=cn[e]&&delete cn[e]);return cn[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=pn(e))return t;e=[e]}return fn(e)}function yn(){return O(cn)}function bn(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[Be]<0||n[Be]>11?Be:n[je]<1||n[je]>rt(n[Fe],n[Be])?je:n[Ze]<0||n[Ze]>24||24===n[Ze]&&(0!==n[Ve]||0!==n[Ue]||0!==n[We])?Ze:n[Ve]<0||n[Ve]>59?Ve:n[Ue]<0||n[Ue]>59?Ue:n[We]<0||n[We]>999?We:-1,v(e)._overflowDayOfYear&&(t<Fe||t>je)&&(t=je),v(e)._overflowWeeks&&-1===t&&(t=He),v(e)._overflowWeekday&&-1===t&&(t=ze),v(e).overflow=t),e}function wn(e,t,n){return null!=e?e:null!=t?t:n}function kn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function xn(e){var t,n,r,i,a,o=[];if(!e._d){for(r=kn(e),e._w&&null==e._a[je]&&null==e._a[Be]&&_n(e),null!=e._dayOfYear&&(a=wn(e._a[Fe],r[Fe]),(e._dayOfYear>Ge(a)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=wt(a,0,e._dayOfYear),e._a[Be]=n.getUTCMonth(),e._a[je]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ze]&&0===e._a[Ve]&&0===e._a[Ue]&&0===e._a[We]&&(e._nextDay=!0,e._a[Ze]=0),e._d=(e._useUTC?wt:bt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ze]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(v(e).weekdayMismatch=!0)}}function _n(e){var t,n,r,i,a,o,s,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)a=1,o=4,n=wn(t.GG,e._a[Fe],_t(Kn(),1,4).year),r=wn(t.W,1),((i=wn(t.E,1))<1||i>7)&&(u=!0);else{a=e._locale._week.dow,o=e._locale._week.doy;var c=_t(Kn(),a,o);n=wn(t.gg,e._a[Fe],c.year),r=wn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a}r<1||r>St(n,a,o)?v(e)._overflowWeeks=!0:null!=u?v(e)._overflowWeekday=!0:(s=xt(n,r,i,a,o),e._a[Fe]=s.year,e._dayOfYear=s.dayOfYear)}var Sn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cn=/Z|[+-]\d\d(?::?\d\d)?/,Tn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],An=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],On=/^\/?Date\((\-?\d+)/i;function Rn(e){var t,n,r,i,a,o,s=e._i,u=Sn.exec(s)||En.exec(s);if(u){for(v(e).iso=!0,t=0,n=Tn.length;t<n;t++)if(Tn[t][1].exec(u[1])){i=Tn[t][0],r=!1!==Tn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=An.length;t<n;t++)if(An[t][1].exec(u[3])){a=(u[2]||" ")+An[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!Cn.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Zn(e)}else e._isValid=!1}var In=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Nn(e,t,n,r,i,a){var o=[Pn(e),st.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Pn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Mn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ln(e,t,n){return!e||Dt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}var Dn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Fn(e,t,n){if(e)return Dn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Bn(e){var t=In.exec(Mn(e._i));if(t){var n=Nn(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Ln(t[1],n,e))return;e._a=n,e._tzm=Fn(t[8],t[9],t[10]),e._d=wt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function jn(e){var t=On.exec(e._i);null===t?(Rn(e),!1===e._isValid&&(delete e._isValid,Bn(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Zn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],v(e).empty=!0;var t,n,i,a,o,s=""+e._i,u=s.length,c=0;for(i=le(e._f,e._locale).match(ne)||[],t=0;t<i.length;t++)a=i[t],(n=(s.match(Re(a,e))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&v(e).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),c+=n.length),ae[a]?(n?v(e).empty=!1:v(e).unusedTokens.push(a),De(a,n,e)):e._strict&&!n&&v(e).unusedTokens.push(a);v(e).charsLeftOver=u-c,s.length>0&&v(e).unusedInput.push(s),e._a[Ze]<=12&&!0===v(e).bigHour&&e._a[Ze]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[Ze]=Vn(e._locale,e._a[Ze],e._meridiem),xn(e),bn(e)}else Bn(e);else Rn(e)}function Vn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Un(e){var t,n,r,i,a;if(0===e._f.length)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Zn(t),g(t)&&(a+=v(t).charsLeftOver,a+=10*v(t).unusedTokens.length,v(t).score=a,(null==r||a<r)&&(r=a,n=t));p(e,n||t)}function Wn(e){if(!e._d){var t=Q(e._i);e._a=d([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),xn(e)}}function Hn(e){var t=new x(bn(zn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function zn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new x(bn(t)):(l(t)?e._d=t:a(n)?Un(e):n?Zn(e):Gn(e),g(e)||(e._d=null),e))}function Gn(e){var t=e._i;u(t)?e._d=new Date(r.now()):l(t)?e._d=new Date(t.valueOf()):"string"===typeof t?jn(e):a(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),xn(e)):o(t)?Wn(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function qn(e,t,n,r,i){var u={};return!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&s(e)||a(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=i,u._l=n,u._i=e,u._f=t,u._strict=r,Hn(u)}function Kn(e,t,n,r){return qn(e,t,n,r,!1)}r.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Yn=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Xn=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Qn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Jn(){return Qn("isBefore",[].slice.call(arguments,0))}function $n(){return Qn("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(e){for(var t in e)if(-1===Ke.call(tr,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<tr.length;++r)if(e[tr[r]]){if(n)return!1;parseFloat(e[tr[r]])!==E(e[tr[r]])&&(n=!0)}return!0}function rr(){return this._isValid}function ir(){return Cr(NaN)}function ar(e){var t=Q(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=nr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function or(e){return e instanceof ar}function sr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ur(e,t){oe(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+te(~~(e/60),2)+t+te(~~e%60,2)}))}ur("Z",":"),ur("ZZ",""),Oe("Z",Ee),Oe("ZZ",Ee),Me(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=lr(Ee,e)}));var cr=/([\+\-]|\d\d)/gi;function lr(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(cr)||["-",0,0],i=60*r[1]+E(r[2]);return 0===i?0:"+"===r[0]?i:-i}function dr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(_(e)||l(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Kn(e).local()}function fr(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function pr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=lr(Ee,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=fr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Ir(this,Cr(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:fr(this)}function hr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function mr(e){return this.utcOffset(0,e)}function vr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(fr(this),"m")),this}function gr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=lr(Se,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function yr(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function br(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wr(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e={};if(w(e,this),(e=zn(e))._a){var t=e._isUTC?h(e._a):Kn(e._a);this._isDSTShifted=this.isValid()&&C(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function kr(){return!!this.isValid()&&!this._isUTC}function xr(){return!!this.isValid()&&this._isUTC}function _r(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Sr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Er=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,a=e,o=null;return or(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:c(e)?(a={},t?a[t]=e:a.milliseconds=e):(o=Sr.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:E(o[je])*n,h:E(o[Ze])*n,m:E(o[Ve])*n,s:E(o[Ue])*n,ms:E(sr(1e3*o[We]))*n}):(o=Er.exec(e))?(n="-"===o[1]?-1:1,a={y:Tr(o[2],n),M:Tr(o[3],n),w:Tr(o[4],n),d:Tr(o[5],n),h:Tr(o[6],n),m:Tr(o[7],n),s:Tr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Or(Kn(a.from),Kn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new ar(a),or(e)&&f(e,"_locale")&&(r._locale=e._locale),r}function Tr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ar(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Or(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=Ar(e,t):((n=Ar(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Rr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(I(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Ir(this,Cr(n="string"===typeof n?+n:n,r),e),this}}function Ir(e,t,n,i){var a=t._milliseconds,o=sr(t._days),s=sr(t._months);e.isValid()&&(i=null==i||i,s&&dt(e,Je(e,"Month")+s*n),o&&$e(e,"Date",Je(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Cr.fn=ar.prototype,Cr.invalid=ir;var Nr=Rr(1,"add"),Pr=Rr(-1,"subtract");function Mr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Lr(e,t){var n=e||Kn(),i=dr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(N(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Kn(n)))}function Dr(){return new x(this)}function Fr(e,t){var n=_(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=X(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Br(e,t){var n=_(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=X(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function jr(e,t,n,r){var i=_(e)?e:Kn(e),a=_(t)?t:Kn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Zr(e,t){var n,r=_(e)?e:Kn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=X(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Vr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ur(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Wr(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=X(t)){case"year":a=Hr(this,r)/12;break;case"month":a=Hr(this,r);break;case"quarter":a=Hr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:S(a)}function Hr(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function zr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Gr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?ce(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",ce(n,"Z")):ce(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function qr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]';return this.format(n+r+i+a)}function Kr(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=ce(this,e);return this.localeData().postformat(t)}function Yr(e,t){return this.isValid()&&(_(e)&&e.isValid()||Kn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Xr(e){return this.from(Kn(),e)}function Qr(e,t){return this.isValid()&&(_(e)&&e.isValid()||Kn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Jr(e){return this.to(Kn(),e)}function $r(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ei=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ti(){return this._locale}var ni=1e3,ri=60*ni,ii=60*ri,ai=3506328*ii;function oi(e,t){return(e%t+t)%t}function si(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ai:new Date(e,t,n).valueOf()}function ui(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ai:Date.UTC(e,t,n)}function ci(e){var t;if(void 0===(e=X(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?ui:si;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=oi(t+(this._isUTC?0:this.utcOffset()*ri),ii);break;case"minute":t=this._d.valueOf(),t-=oi(t,ri);break;case"second":t=this._d.valueOf(),t-=oi(t,ni)}return this._d.setTime(t),r.updateOffset(this,!0),this}function li(e){var t;if(void 0===(e=X(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?ui:si;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ii-oi(t+(this._isUTC?0:this.utcOffset()*ri),ii)-1;break;case"minute":t=this._d.valueOf(),t+=ri-oi(t,ri)-1;break;case"second":t=this._d.valueOf(),t+=ni-oi(t,ni)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function di(){return this._d.valueOf()-6e4*(this._offset||0)}function fi(){return Math.floor(this.valueOf()/1e3)}function pi(){return new Date(this.valueOf())}function hi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function mi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function vi(){return this.isValid()?this.toISOString():null}function gi(){return g(this)}function yi(){return p({},v(this))}function bi(){return v(this).overflow}function wi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ki(e,t){oe(0,[e,e.length],0,t)}function xi(e){return Ci.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function _i(e){return Ci.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Si(){return St(this.year(),1,4)}function Ei(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Ci(e,t,n,r,i){var a;return null==e?_t(this,r,i).year:(t>(a=St(e,r,i))&&(t=a),Ti.call(this,e,t,n,r,i))}function Ti(e,t,n,r,i){var a=xt(e,t,n,r,i),o=wt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ai(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}oe(0,["gg",2],0,(function(){return this.weekYear()%100})),oe(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ki("gggg","weekYear"),ki("ggggg","weekYear"),ki("GGGG","isoWeekYear"),ki("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),$("weekYear",1),$("isoWeekYear",1),Oe("G",_e),Oe("g",_e),Oe("GG",ve,fe),Oe("gg",ve,fe),Oe("GGGG",we,he),Oe("gggg",we,he),Oe("GGGGG",ke,me),Oe("ggggg",ke,me),Le(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=E(e)})),Le(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),oe("Q",0,"Qo","quarter"),Y("quarter","Q"),$("quarter",7),Oe("Q",de),Me("Q",(function(e,t){t[Be]=3*(E(e)-1)})),oe("D",["DD",2],"Do","date"),Y("date","D"),$("date",9),Oe("D",ve),Oe("DD",ve,fe),Oe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Me(["D","DD"],je),Me("Do",(function(e,t){t[je]=E(e.match(ve)[0])}));var Oi=Qe("Date",!0);function Ri(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}oe("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),$("dayOfYear",4),Oe("DDD",be),Oe("DDDD",pe),Me(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=E(e)})),oe("m",["mm",2],0,"minute"),Y("minute","m"),$("minute",14),Oe("m",ve),Oe("mm",ve,fe),Me(["m","mm"],Ve);var Ii=Qe("Minutes",!1);oe("s",["ss",2],0,"second"),Y("second","s"),$("second",15),Oe("s",ve),Oe("ss",ve,fe),Me(["s","ss"],Ue);var Ni,Pi=Qe("Seconds",!1);for(oe("S",0,0,(function(){return~~(this.millisecond()/100)})),oe(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),oe(0,["SSS",3],0,"millisecond"),oe(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),oe(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),oe(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),oe(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),oe(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),oe(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Y("millisecond","ms"),$("millisecond",16),Oe("S",be,de),Oe("SS",be,fe),Oe("SSS",be,pe),Ni="SSSS";Ni.length<=9;Ni+="S")Oe(Ni,xe);function Mi(e,t){t[We]=E(1e3*("0."+e))}for(Ni="S";Ni.length<=9;Ni+="S")Me(Ni,Mi);var Li=Qe("Milliseconds",!1);function Di(){return this._isUTC?"UTC":""}function Fi(){return this._isUTC?"Coordinated Universal Time":""}oe("z",0,0,"zoneAbbr"),oe("zz",0,0,"zoneName");var Bi=x.prototype;function ji(e){return Kn(1e3*e)}function Zi(){return Kn.apply(null,arguments).parseZone()}function Vi(e){return e}Bi.add=Nr,Bi.calendar=Lr,Bi.clone=Dr,Bi.diff=Wr,Bi.endOf=li,Bi.format=Kr,Bi.from=Yr,Bi.fromNow=Xr,Bi.to=Qr,Bi.toNow=Jr,Bi.get=et,Bi.invalidAt=bi,Bi.isAfter=Fr,Bi.isBefore=Br,Bi.isBetween=jr,Bi.isSame=Zr,Bi.isSameOrAfter=Vr,Bi.isSameOrBefore=Ur,Bi.isValid=gi,Bi.lang=ei,Bi.locale=$r,Bi.localeData=ti,Bi.max=Xn,Bi.min=Yn,Bi.parsingFlags=yi,Bi.set=tt,Bi.startOf=ci,Bi.subtract=Pr,Bi.toArray=hi,Bi.toObject=mi,Bi.toDate=pi,Bi.toISOString=Gr,Bi.inspect=qr,Bi.toJSON=vi,Bi.toString=zr,Bi.unix=fi,Bi.valueOf=di,Bi.creationData=wi,Bi.year=Ye,Bi.isLeapYear=Xe,Bi.weekYear=xi,Bi.isoWeekYear=_i,Bi.quarter=Bi.quarters=Ai,Bi.month=ft,Bi.daysInMonth=pt,Bi.week=Bi.weeks=Ot,Bi.isoWeek=Bi.isoWeeks=Rt,Bi.weeksInYear=Ei,Bi.isoWeeksInYear=Si,Bi.date=Oi,Bi.day=Bi.days=Ut,Bi.weekday=Wt,Bi.isoWeekday=Ht,Bi.dayOfYear=Ri,Bi.hour=Bi.hours=sn,Bi.minute=Bi.minutes=Ii,Bi.second=Bi.seconds=Pi,Bi.millisecond=Bi.milliseconds=Li,Bi.utcOffset=pr,Bi.utc=mr,Bi.local=vr,Bi.parseZone=gr,Bi.hasAlignedHourOffset=yr,Bi.isDST=br,Bi.isLocal=kr,Bi.isUtcOffset=xr,Bi.isUtc=_r,Bi.isUTC=_r,Bi.zoneAbbr=Di,Bi.zoneName=Fi,Bi.dates=A("dates accessor is deprecated. Use date instead.",Oi),Bi.months=A("months accessor is deprecated. Use month instead",ft),Bi.years=A("years accessor is deprecated. Use year instead",Ye),Bi.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",hr),Bi.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wr);var Ui=L.prototype;function Wi(e,t,n,r){var i=gn(),a=h().set(r,t);return i[n](a,e)}function Hi(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return Wi(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Wi(e,r,n,"month");return i}function zi(e,t,n,r){"boolean"===typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,a=gn(),o=e?a._week.dow:0;if(null!=n)return Wi(t,(n+o)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=Wi(t,(i+o)%7,r,"day");return s}function Gi(e,t){return Hi(e,t,"months")}function qi(e,t){return Hi(e,t,"monthsShort")}function Ki(e,t,n){return zi(e,t,n,"weekdays")}function Yi(e,t,n){return zi(e,t,n,"weekdaysShort")}function Xi(e,t,n){return zi(e,t,n,"weekdaysMin")}Ui.calendar=F,Ui.longDateFormat=j,Ui.invalidDate=V,Ui.ordinal=H,Ui.preparse=Vi,Ui.postformat=Vi,Ui.relativeTime=G,Ui.pastFuture=q,Ui.set=P,Ui.months=ot,Ui.monthsShort=ut,Ui.monthsParse=lt,Ui.monthsRegex=gt,Ui.monthsShortRegex=mt,Ui.week=Et,Ui.firstDayOfYear=At,Ui.firstDayOfWeek=Tt,Ui.weekdays=Lt,Ui.weekdaysMin=jt,Ui.weekdaysShort=Ft,Ui.weekdaysParse=Vt,Ui.weekdaysRegex=Gt,Ui.weekdaysShortRegex=Kt,Ui.weekdaysMinRegex=Xt,Ui.isPM=nn,Ui.meridiem=an,hn("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===E(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=A("moment.lang is deprecated. Use moment.locale instead.",hn),r.langData=A("moment.langData is deprecated. Use moment.localeData instead.",gn);var Qi=Math.abs;function Ji(){var e=this._data;return this._milliseconds=Qi(this._milliseconds),this._days=Qi(this._days),this._months=Qi(this._months),e.milliseconds=Qi(e.milliseconds),e.seconds=Qi(e.seconds),e.minutes=Qi(e.minutes),e.hours=Qi(e.hours),e.months=Qi(e.months),e.years=Qi(e.years),this}function $i(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function ea(e,t){return $i(this,e,t,1)}function ta(e,t){return $i(this,e,t,-1)}function na(e){return e<0?Math.floor(e):Math.ceil(e)}function ra(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*na(aa(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=S(a/1e3),u.seconds=e%60,t=S(e/60),u.minutes=t%60,n=S(t/60),u.hours=n%24,o+=S(n/24),s+=i=S(ia(o)),o-=na(aa(i)),r=S(s/12),s%=12,u.days=o,u.months=s,u.years=r,this}function ia(e){return 4800*e/146097}function aa(e){return 146097*e/4800}function oa(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=X(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+ia(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(aa(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function sa(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12):NaN}function ua(e){return function(){return this.as(e)}}var ca=ua("ms"),la=ua("s"),da=ua("m"),fa=ua("h"),pa=ua("d"),ha=ua("w"),ma=ua("M"),va=ua("Q"),ga=ua("y");function ya(){return Cr(this)}function ba(e){return e=X(e),this.isValid()?this[e+"s"]():NaN}function wa(e){return function(){return this.isValid()?this._data[e]:NaN}}var ka=wa("milliseconds"),xa=wa("seconds"),_a=wa("minutes"),Sa=wa("hours"),Ea=wa("days"),Ca=wa("months"),Ta=wa("years");function Aa(){return S(this.days()/7)}var Oa=Math.round,Ra={ss:44,s:45,m:45,h:22,d:26,M:11};function Ia(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Na(e,t,n){var r=Cr(e).abs(),i=Oa(r.as("s")),a=Oa(r.as("m")),o=Oa(r.as("h")),s=Oa(r.as("d")),u=Oa(r.as("M")),c=Oa(r.as("y")),l=i<=Ra.ss&&["s",i]||i<Ra.s&&["ss",i]||a<=1&&["m"]||a<Ra.m&&["mm",a]||o<=1&&["h"]||o<Ra.h&&["hh",o]||s<=1&&["d"]||s<Ra.d&&["dd",s]||u<=1&&["M"]||u<Ra.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,Ia.apply(null,l)}function Pa(e){return void 0===e?Oa:"function"===typeof e&&(Oa=e,!0)}function Ma(e,t){return void 0!==Ra[e]&&(void 0===t?Ra[e]:(Ra[e]=t,"s"===e&&(Ra.ss=t-1),!0))}function La(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Na(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}var Da=Math.abs;function Fa(e){return(e>0)-(e<0)||+e}function Ba(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Da(this._milliseconds)/1e3,r=Da(this._days),i=Da(this._months);e=S(n/60),t=S(e/60),n%=60,e%=60;var a=S(i/12),o=i%=12,s=r,u=t,c=e,l=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",p=Fa(this._months)!==Fa(d)?"-":"",h=Fa(this._days)!==Fa(d)?"-":"",m=Fa(this._milliseconds)!==Fa(d)?"-":"";return f+"P"+(a?p+a+"Y":"")+(o?p+o+"M":"")+(s?h+s+"D":"")+(u||c||l?"T":"")+(u?m+u+"H":"")+(c?m+c+"M":"")+(l?m+l+"S":"")}var ja=ar.prototype;return ja.isValid=rr,ja.abs=Ji,ja.add=ea,ja.subtract=ta,ja.as=oa,ja.asMilliseconds=ca,ja.asSeconds=la,ja.asMinutes=da,ja.asHours=fa,ja.asDays=pa,ja.asWeeks=ha,ja.asMonths=ma,ja.asQuarters=va,ja.asYears=ga,ja.valueOf=sa,ja._bubble=ra,ja.clone=ya,ja.get=ba,ja.milliseconds=ka,ja.seconds=xa,ja.minutes=_a,ja.hours=Sa,ja.days=Ea,ja.weeks=Aa,ja.months=Ca,ja.years=Ta,ja.humanize=La,ja.toISOString=Ba,ja.toString=Ba,ja.toJSON=Ba,ja.locale=$r,ja.localeData=ti,ja.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ba),ja.lang=ei,oe("X",0,0,"unix"),oe("x",0,0,"valueOf"),Oe("x",_e),Oe("X",Ce),Me("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),Me("x",(function(e,t,n){n._d=new Date(E(e))})),r.version="2.24.0",i(Kn),r.fn=Bi,r.min=Jn,r.max=$n,r.now=er,r.utc=h,r.unix=ji,r.months=Gi,r.isDate=l,r.locale=hn,r.invalid=y,r.duration=Cr,r.isMoment=_,r.weekdays=Ki,r.parseZone=Zi,r.localeData=gn,r.isDuration=or,r.monthsShort=qi,r.weekdaysMin=Xi,r.defineLocale=mn,r.updateLocale=vn,r.locales=yn,r.weekdaysShort=Yi,r.normalizeUnits=X,r.relativeTimeRounding=Pa,r.relativeTimeThreshold=Ma,r.calendarFormat=Mr,r.prototype=Bi,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},24197:function(e){function t(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=u.hex6.exec(e))?parseInt(t[1]+"ff",16)>>>0:p.hasOwnProperty(e)?p[e]:(t=u.rgb.exec(e))?(c(t[1])<<24|c(t[2])<<16|c(t[3])<<8|255)>>>0:(t=u.rgba.exec(e))?(c(t[1])<<24|c(t[2])<<16|c(t[3])<<8|d(t[4]))>>>0:(t=u.hex3.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=u.hex8.exec(e))?parseInt(t[1],16)>>>0:(t=u.hex4.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=u.hsl.exec(e))?(255|r(l(t[1]),f(t[2]),f(t[3])))>>>0:(t=u.hsla.exec(e))?(r(l(t[1]),f(t[2]),f(t[3]))|d(t[4]))>>>0:null}function n(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function r(e,t,r){var i=r<.5?r*(1+t):r+t-r*t,a=2*r-i,o=n(a,i,e+1/3),s=n(a,i,e),u=n(a,i,e-1/3);return Math.round(255*o)<<24|Math.round(255*s)<<16|Math.round(255*u)<<8}var i="[-+]?\\d*\\.?\\d+",a=i+"%";function o(e){return Array.prototype.slice.call(e,0)}function s(){return"\\(\\s*("+o(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}var u={rgb:new RegExp("rgb"+s(i,i,i)),rgba:new RegExp("rgba"+s(i,i,i,i)),hsl:new RegExp("hsl"+s(i,a,a)),hsla:new RegExp("hsla"+s(i,a,a,i)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/};function c(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function l(e){return(parseFloat(e)%360+360)%360/360}function d(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function f(e){var t=parseFloat(e,10);return t<0?0:t>100?1:t/100}var p={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};t.rgba=function(e){return{r:Math.round((4278190080&e)>>>24),g:Math.round((16711680&e)>>>16),b:Math.round((65280&e)>>>8),a:((255&e)>>>0)/255}},e.exports=t},31725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var d=0;d<s.length;d++)r.call(o,s[d])&&(u[s[d]]=o[s[d]])}}return u}},53912:function(e,t,n){var r;e=n.nmd(e),function(){"use strict";var i={function:!0,object:!0},a=i[typeof window]&&window||this,o=i[typeof t]&&t,s=i.object&&e&&!e.nodeType&&e,u=o&&s&&"object"==typeof n.g&&n.g;!u||u.global!==u&&u.window!==u&&u.self!==u||(a=u);var c=Math.pow(2,53)-1,l=/\bOpera/,d=Object.prototype,f=d.hasOwnProperty,p=d.toString;function h(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function m(e){return e=w(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:h(e)}function v(e,t){for(var n in e)f.call(e,n)&&t(e[n],n,e)}function g(e){return null==e?h(e):p.call(e).slice(8,-1)}function y(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function b(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=c)for(;++n<r;)t(e[n],n,e);else v(e,t)}(e,(function(r,i){n=t(n,r,i,e)})),n}function w(e){return String(e).replace(/^ +| +$/g,"")}var k=function e(t){var n=a,r=t&&"object"==typeof t&&"String"!=g(t);r&&(n=t,t=null);var i=n.navigator||{},o=i.userAgent||"";t||(t=o);var s,u,c=r?!!i.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(p.toString()),d="Object",f=r?d:"ScriptBridgingProxyObject",h=r?d:"Environment",k=r&&n.java?"JavaPackage":g(n.java),x=r?d:"RuntimeObject",_=/\bJava/.test(k)&&n.java,S=_&&g(n.environment)==h,E=_?"a":"\u03b1",C=_?"b":"\u03b2",T=n.document||{},A=n.operamini||n.opera,O=l.test(O=r&&A?A["[[Class]]"]:g(A))?O:A=null,R=t,I=[],N=null,P=t==o,M=P&&A&&"function"==typeof A.version&&A.version(),L=b([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(t)&&(n.label||n)})),D=function(e){return b(e,(function(e,n){return e||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(t)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),F=Z([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),B=function(e){return b(e,(function(e,n,r){return e||(n[F]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(F)]||RegExp("\\b"+y(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),j=function(e){return b(e,(function(e,n){var r=n.pattern||y(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),m(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function Z(e){return b(e,(function(e,n){var r=n.pattern||y(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=m(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function V(e){return b(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(L&&(L=[L]),/\bAndroid\b/.test(j)&&!F&&(s=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(F=w(s[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),B&&!F?F=Z([B]):B&&F&&(F=F.replace(RegExp("^("+y(B)+")[-_.\\s]","i"),B+" ").replace(RegExp("^("+y(B)+")[-_.]?(\\w)","i"),B+" $2")),(s=/\bGoogle TV\b/.exec(F))&&(F=s[0]),/\bSimulator\b/i.test(t)&&(F=(F?F+" ":"")+"Simulator"),"Opera Mini"==D&&/\bOPiOS\b/.test(t)&&I.push("running in Turbo/Uncompressed mode"),"IE"==D&&/\blike iPhone OS\b/.test(t)?(B=(s=e(t.replace(/like iPhone OS/,""))).manufacturer,F=s.product):/^iP/.test(F)?(D||(D="Safari"),j="iOS"+((s=/ OS ([\d_]+)/i.exec(t))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"==D&&/^Linux\b/i.test(j)?j="Kubuntu":B&&"Google"!=B&&(/Chrome/.test(D)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(F))||/\bAndroid\b/.test(j)&&/^Chrome/.test(D)&&/\bVersion\//i.test(t)?(D="Android Browser",j=/\bAndroid\b/.test(j)?j:"Android"):"Silk"==D?(/\bMobi/i.test(t)||(j="Android",I.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&I.unshift("accelerated")):"UC Browser"==D&&/\bUCWEB\b/.test(t)?I.push("speed mode"):"PaleMoon"==D&&(s=/\bFirefox\/([\d.]+)\b/.exec(t))?I.push("identifying as Firefox "+s[1]):"Firefox"==D&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(j||(j="Firefox OS"),F||(F=s[1])):!D||(s=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(D))?(D&&!F&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(s+"/")+8))&&(D=null),(s=F||B||j)&&(F||B||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(j))&&(D=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(j)?j:s)+" Browser")):"Electron"==D&&(s=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&I.push("Chromium "+s),M||(M=V(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",y(D),"(?:Firefox|Minefield|NetFront)"])),(s=("iCab"==L&&parseFloat(M)>3?"WebKit":/\bOpera\b/.test(D)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(L)&&"WebKit"||!L&&/\bMSIE\b/i.test(t)&&("Mac OS"==j?"Tasman":"Trident")||"WebKit"==L&&/\bPlayStation\b(?! Vita\b)/i.test(D)&&"NetFront")&&(L=[s]),"IE"==D&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(D+=" Mobile",j="Windows Phone "+(/\+$/.test(s)?s:s+".x"),I.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(D="IE Mobile",j="Windows Phone 8.x",I.unshift("desktop mode"),M||(M=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=D&&"Trident"==L&&(s=/\brv:([\d.]+)/.exec(t))&&(D&&I.push("identifying as "+D+(M?" "+M:"")),D="IE",M=s[1]),P){if(function(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"!=n||!!e[t])}(n,"global"))if(_&&(R=(s=_.lang.System).getProperty("os.arch"),j=j||s.getProperty("os.name")+" "+s.getProperty("os.version")),S){try{M=n.require("ringo/engine").version.join("."),D="RingoJS"}catch(W){(s=n.system)&&s.global.system==n.system&&(D="Narwhal",j||(j=s[0].os||null))}D||(D="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(s=n.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(I.push("Node "+s.versions.node),D="Electron",M=s.versions.electron):"string"==typeof s.versions.nw&&(I.push("Chromium "+M,"Node "+s.versions.node),D="NW.js",M=s.versions.nw)),D||(D="Node.js",R=s.arch,j=s.platform,M=(M=/[\d.]+/.exec(s.version))?M[0]:null));else g(s=n.runtime)==f?(D="Adobe AIR",j=s.flash.system.Capabilities.os):g(s=n.phantom)==x?(D="PhantomJS",M=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof T.documentMode&&(s=/\bTrident\/(\d+)/i.exec(t))?(M=[M,T.documentMode],(s=+s[1]+4)!=M[1]&&(I.push("IE "+M[1]+" mode"),L&&(L[1]=""),M[1]=s),M="IE"==D?String(M[1].toFixed(1)):M[0]):"number"==typeof T.documentMode&&/^(?:Chrome|Firefox)\b/.test(D)&&(I.push("masking as "+D+" "+M),D="IE",M="11.0",L=["Trident"],j="Windows");j=j&&m(j)}if(M&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(M)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(P&&i.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(N=/b/i.test(s)?"beta":"alpha",M=M.replace(RegExp(s+"\\+?$"),"")+("beta"==N?C:E)+(/\d+\+?/.exec(s)||"")),"Fennec"==D||"Firefox"==D&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(j))D="Firefox Mobile";else if("Maxthon"==D&&M)M=M.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(F))"Xbox 360"==F&&(j=null),"Xbox 360"==F&&/\bIEMobile\b/.test(t)&&I.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(D)&&(!D||F||/Browser|Mobi/.test(D))||"Windows CE"!=j&&!/Mobi/i.test(t))if("IE"==D&&P)try{null===n.external&&I.unshift("platform preview")}catch(W){I.unshift("embedded")}else(/\bBlackBerry\b/.test(F)||/\bBB10\b/.test(t))&&(s=(RegExp(F.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||M)?(j=((s=[s,/BB10/.test(t)])[1]?(F=null,B="BlackBerry"):"Device Software")+" "+s[0],M=null):this!=v&&"Wii"!=F&&(P&&A||/Opera/.test(D)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==D&&/\bOS X (?:\d+\.){2,}/.test(j)||"IE"==D&&(j&&!/^Win/.test(j)&&M>5.5||/\bWindows XP\b/.test(j)&&M>8||8==M&&!/\bTrident\b/.test(t)))&&!l.test(s=e.call(v,t.replace(l,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),l.test(D)?(/\bIE\b/.test(s)&&"Mac OS"==j&&(j=null),s="identify"+s):(s="mask"+s,D=O?m(O.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(j=null),P||(M=null)),L=["Presto"],I.push(s));else D+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==D&&"+"==s[1].slice(-1)?(D="WebKit Nightly",N="alpha",M=s[1].slice(0,-1)):M!=s[1]&&M!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(M=null),s[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==L&&(L=["Blink"]),P&&(c||s[1])?(L&&(L[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=L?"27":"28")):(L&&(L[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:s<602?9:s<604?10:s<606?11:s<608?12:"12"),L&&(L[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==D&&(!M||parseInt(M)>45)?M=s:"Chrome"==D&&/\bHeadlessChrome/i.test(t)&&I.unshift("headless")),"Opera"==D&&(s=/\bzbov|zvav$/.exec(j))?(D+=" ",I.unshift("desktop mode"),"zvav"==s?(D+="Mini",M=null):D+="Mobile",j=j.replace(RegExp(" *"+s+"$"),"")):"Safari"==D&&/\bChrome\b/.exec(L&&L[1])?(I.unshift("desktop mode"),D="Chrome Mobile",M=null,/\bOS X\b/.test(j)?(B="Apple",j="iOS 4.3+"):j=null):/\bSRWare Iron\b/.test(D)&&!M&&(M=V("Chrome")),M&&0==M.indexOf(s=/[\d.]+$/.exec(j))&&t.indexOf("/"+s+"-")>-1&&(j=w(j.replace(s,""))),j&&-1!=j.indexOf(D)&&!RegExp(D+" OS").test(j)&&(j=j.replace(RegExp(" *"+y(D)+" *"),"")),L&&!/\b(?:Avant|Nook)\b/.test(D)&&(/Browser|Lunascape|Maxthon/.test(D)||"Safari"!=D&&/^iOS/.test(j)&&/\bSafari\b/.test(L[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(D)&&L[1])&&(s=L[L.length-1])&&I.push(s),I.length&&(I=["("+I.join("; ")+")"]),B&&F&&F.indexOf(B)<0&&I.push("on "+B),F&&I.push((/^on /.test(I[I.length-1])?"":"on ")+F),j&&(s=/ ([\d.+]+)$/.exec(j),u=s&&"/"==j.charAt(j.length-s[0].length-1),j={architecture:32,family:s&&!u?j.replace(s[0],""):j,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!u?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(R))&&!/\bi686\b/i.test(R)?(j&&(j.architecture=64,j.family=j.family.replace(RegExp(" *"+s),"")),D&&(/\bWOW64\b/i.test(t)||P&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(t))&&I.unshift("32-bit")):j&&/^OS X/.test(j.family)&&"Chrome"==D&&parseFloat(M)>=39&&(j.architecture=64),t||(t=null);var U={};return U.description=t,U.layout=L&&L[0],U.manufacturer=B,U.name=D,U.prerelease=N,U.product=F,U.ua=t,U.version=D&&M,U.os=j||{architecture:null,family:null,version:null,toString:function(){return"null"}},U.parse=e,U.toString=function(){return this.description||""},U.version&&I.unshift(M),U.name&&I.unshift(D),j&&D&&(j!=String(j).split(" ")[0]||j!=D.split(" ")[0]&&!F)&&I.push(F?"("+j+")":"on "+j),I.length&&(U.description=I.join(" ")),U}();a.platform=k,void 0===(r=function(){return k}.call(t,n,t,e))||(e.exports=r)}.call(this)},80888:function(e,t,n){"use strict";var r=n(79047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},52007:function(e,t,n){e.exports=n(80888)()},79047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},34463:function(e,t,n){"use strict";var r=n(72791),i=n(31725),a=n(45296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,d=null,f={onError:function(e){u=!0,c=e}};function p(e,t,n,r,i,a,o,l,d){u=!1,c=null,s.apply(f,arguments)}var h=null,m=null,v=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v(n),function(e,t,n,r,i,a,s,f,h){if(p.apply(this,arguments),u){if(!u)throw Error(o(198));var m=c;u=!1,c=null,l||(l=!0,d=m)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function w(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!x[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in x[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,u=r;if(_.hasOwnProperty(u))throw Error(o(99,u));_[u]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&k(c[i],s,u);i=!0}else a.registrationName?(k(a.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function k(e,t,n){if(S[e])throw Error(o(100,e));S[e]=t,E[e]=t.eventTypes[n].dependencies}var x=[],_={},S={},E={};function C(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(o(102,t));b[t]=r,n=!0}}n&&w()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=null,O=null,R=null;function I(e){if(e=m(e)){if("function"!==typeof A)throw Error(o(280));var t=e.stateNode;t&&(t=h(t),A(e.stateNode,e.type,t))}}function N(e){O?R?R.push(e):R=[e]:O=e}function P(){if(O){var e=O,t=R;if(R=O=null,I(e),t)for(e=0;e<t.length;e++)I(t[e])}}function M(e,t){return e(t)}function L(e,t,n,r,i){return e(t,n,r,i)}function D(){}var F=M,B=!1,j=!1;function Z(){null===O&&null===R||(D(),P())}function V(e,t,n){if(j)return e(t,n);j=!0;try{return F(e,t,n)}finally{j=!1,Z()}}var U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,H={},z={};function G(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){q[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];q[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){q[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){q[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){q[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){q[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){q[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){q[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){q[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(K,Y);q[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(K,Y);q[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(K,Y);q[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){q[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),q.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){q[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var i=q.hasOwnProperty(t)?q[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!W.call(z,e)||!W.call(H,e)&&(U.test(e)?z[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,$="function"===typeof Symbol&&Symbol.for,ee=$?Symbol.for("react.element"):60103,te=$?Symbol.for("react.portal"):60106,ne=$?Symbol.for("react.fragment"):60107,re=$?Symbol.for("react.strict_mode"):60108,ie=$?Symbol.for("react.profiler"):60114,ae=$?Symbol.for("react.provider"):60109,oe=$?Symbol.for("react.context"):60110,se=$?Symbol.for("react.concurrent_mode"):60111,ue=$?Symbol.for("react.forward_ref"):60112,ce=$?Symbol.for("react.suspense"):60113,le=$?Symbol.for("react.suspense_list"):60120,de=$?Symbol.for("react.memo"):60115,fe=$?Symbol.for("react.lazy"):60116,pe=$?Symbol.for("react.block"):60121,he="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=he&&e[he]||e["@@iterator"])?e:null}function ve(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ve(e.type);case pe:return ve(e.render);case fe:if(e=1===e._status?e._result:null)return ve(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=ve(e.type);n=null,r&&(n=ve(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function xe(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _e(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function Ee(e,t){Se(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Ne(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Me="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function De(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?De(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,je,Ze=(je=function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return je(e,t)}))}:je);function Ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var We={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},He={},ze={};function Ge(e){if(He[e])return He[e];if(!We[e])return e;var t,n=We[e];for(t in n)if(n.hasOwnProperty(t)&&t in ze)return He[e]=n[t];return e}T&&(ze=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var qe=Ge("animationend"),Ke=Ge("animationiteration"),Ye=Ge("animationstart"),Xe=Ge("transitionend"),Qe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function $e(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ut(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(at(e,st),ot)throw Error(o(95));if(l)throw e=d,l=!1,d=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var dt=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>dt.length&&dt.push(e)}function pt(e,t,n,r){if(dt.length){var i=dt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=In(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,u=0;u<x.length;u++){var c=x[u];c&&(c=c.extractEvents(r,t,a,i,o))&&(s=it(s,c))}ut(s)}}function mt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qe.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var vt,gt,yt,bt=!1,wt=[],kt=null,xt=null,_t=null,St=new Map,Et=new Map,Ct=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),At="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ot(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Rt(e,t){switch(e){case"focus":case"blur":kt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function It(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=Ot(t,n,r,i,a),null!==t&&(null!==(t=Nn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Nt(e){var t=In(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Nn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){Pt(e)&&n.delete(t)}function Lt(){for(bt=!1;0<wt.length;){var e=wt[0];if(null!==e.blockedOn){null!==(e=Nn(e.blockedOn))&&vt(e);break}var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:wt.shift()}null!==kt&&Pt(kt)&&(kt=null),null!==xt&&Pt(xt)&&(xt=null),null!==_t&&Pt(_t)&&(_t=null),St.forEach(Mt),Et.forEach(Mt)}function Dt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Lt)))}function Ft(e){function t(t){return Dt(t,e)}if(0<wt.length){Dt(wt[0],e);for(var n=1;n<wt.length;n++){var r=wt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Dt(kt,e),null!==xt&&Dt(xt,e),null!==_t&&Dt(_t,e),St.forEach(t),Et.forEach(t),n=0;n<Ct.length;n++)(r=Ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)Nt(n),null===n.blockedOn&&Ct.shift()}var Bt={},jt=new Map,Zt=new Map,Vt=["abort","abort",qe,"animationEnd",Ke,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Zt.set(r,t),jt.set(r,a),Bt[i]=a}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(Vt,2);for(var Wt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<Wt.length;Ht++)Zt.set(Wt[Ht],0);var zt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,qt=!0;function Kt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Zt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=Qt.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){B||D();var i=Jt,a=B;B=!0;try{L(i,e,t,n,r)}finally{(B=a)||Z()}}function Qt(e,t,n,r){Gt(zt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(qt)if(0<wt.length&&-1<Tt.indexOf(e))e=Ot(null,e,t,n,r),wt.push(e);else{var i=$t(e,t,n,r);if(null===i)Rt(e,r);else if(-1<Tt.indexOf(e))e=Ot(i,e,t,n,r),wt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return kt=It(kt,e,t,n,r,i),!0;case"dragenter":return xt=It(xt,e,t,n,r,i),!0;case"mouseover":return _t=It(_t,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return St.set(a,It(St.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Et.set(a,It(Et.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Rt(e,r),e=pt(e,r,null,t);try{V(ht,e)}finally{ft(e)}}}}function $t(e,t,n,r){if(null!==(n=In(n=ct(r)))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=pt(e,r,n,t);try{V(ht,e)}finally{ft(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=Me;function cn(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=E[t];for(var r=0;r<t.length;r++)mt(t[r],e,n)}function ln(){}function dn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=dn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=dn((e=t.contentWindow).document)}return t}function vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn="$?",yn="$!",bn=null,wn=null;function kn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function xn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _n="function"===typeof setTimeout?setTimeout:void 0,Sn="function"===typeof clearTimeout?clearTimeout:void 0;function En(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Cn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||n===yn||n===gn){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),An="__reactInternalInstance$"+Tn,On="__reactEventHandlers$"+Tn,Rn="__reactContainere$"+Tn;function In(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rn]||n[An]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Cn(e);null!==e;){if(n=e[An])return n;e=Cn(e)}return t}n=(e=n).parentNode}return null}function Nn(e){return!(e=e[An]||e[Rn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Mn(e){return e[On]||null}function Ln(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Dn(e,t){var n=e.stateNode;if(!n)return null;var r=h(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Fn(e,t,n){(t=Dn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Bn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Ln(t);for(t=n.length;0<t--;)Fn(n[t],"captured",e);for(t=0;t<n.length;t++)Fn(n[t],"bubbled",e)}}function jn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Dn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Zn(e){e&&e.dispatchConfig.registrationName&&jn(e._targetInst,null,e)}function Vn(e){at(e,Bn)}var Un=null,Wn=null,Hn=null;function zn(){if(Hn)return Hn;var e,t,n=Wn,r=n.length,i="value"in Un?Un.value:Un.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Hn=i.slice(e,1<t?1-t:void 0)}function Gn(){return!0}function qn(){return!1}function Kn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Gn:qn,this.isPropagationStopped=qn,this}function Yn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Xn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Qn(e){e.eventPool=[],e.getPooled=Yn,e.release=Xn}i(Kn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){this.isPersistent=Gn},isPersistent:qn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=qn,this._dispatchInstances=this._dispatchListeners=null}}),Kn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Kn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Qn(n),n},Qn(Kn);var Jn=Kn.extend({data:null}),$n=Kn.extend({data:null}),er=[9,13,27,32],tr=T&&"CompositionEvent"in window,nr=null;T&&"documentMode"in document&&(nr=document.documentMode);var rr=T&&"TextEvent"in window&&!nr,ir=T&&(!tr||nr&&8<nr&&11>=nr),ar=String.fromCharCode(32),or={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},sr=!1;function ur(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function cr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var lr=!1;var dr={eventTypes:or,extractEvents:function(e,t,n,r){var i;if(tr)e:{switch(e){case"compositionstart":var a=or.compositionStart;break e;case"compositionend":a=or.compositionEnd;break e;case"compositionupdate":a=or.compositionUpdate;break e}a=void 0}else lr?ur(e,n)&&(a=or.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=or.compositionStart);return a?(ir&&"ko"!==n.locale&&(lr||a!==or.compositionStart?a===or.compositionEnd&&lr&&(i=zn()):(Wn="value"in(Un=r)?Un.value:Un.textContent,lr=!0)),a=Jn.getPooled(a,t,n,r),i?a.data=i:null!==(i=cr(n))&&(a.data=i),Vn(a),i=a):i=null,(e=rr?function(e,t){switch(e){case"compositionend":return cr(t);case"keypress":return 32!==t.which?null:(sr=!0,ar);case"textInput":return(e=t.data)===ar&&sr?null:e;default:return null}}(e,n):function(e,t){if(lr)return"compositionend"===e||!tr&&ur(e,t)?(e=zn(),Hn=Wn=Un=null,lr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data}}(e,n))?((t=$n.getPooled(or.beforeInput,t,n,r)).data=e,Vn(t)):t=null,null===i?t:null===t?i:[i,t]}},fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!fr[e.type]:"textarea"===t}var hr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function mr(e,t,n){return(e=Kn.getPooled(hr.change,e,t,n)).type="change",N(n),Vn(e),e}var vr=null,gr=null;function yr(e){ut(e)}function br(e){if(ke(Pn(e)))return e}function wr(e,t){if("change"===e)return t}var kr=!1;function xr(){vr&&(vr.detachEvent("onpropertychange",_r),gr=vr=null)}function _r(e){if("value"===e.propertyName&&br(gr))if(e=mr(gr,e,ct(e)),B)ut(e);else{B=!0;try{M(yr,e)}finally{B=!1,Z()}}}function Sr(e,t,n){"focus"===e?(xr(),gr=n,(vr=t).attachEvent("onpropertychange",_r)):"blur"===e&&xr()}function Er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return br(gr)}function Cr(e,t){if("click"===e)return br(t)}function Tr(e,t){if("input"===e||"change"===e)return br(t)}T&&(kr=lt("input")&&(!document.documentMode||9<document.documentMode));var Ar={eventTypes:hr,_isInputEventSupported:kr,extractEvents:function(e,t,n,r){var i=t?Pn(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=wr;else if(pr(i))if(kr)o=Tr;else{o=Er;var s=Sr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Cr);if(o&&(o=o(e,t)))return mr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Te(i,"number",i.value)}},Or=Kn.extend({view:null,detail:null}),Rr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ir(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rr[e])&&!!t[e]}function Nr(){return Ir}var Pr=0,Mr=0,Lr=!1,Dr=!1,Fr=Or.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Nr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Pr;return Pr=e.screenX,Lr?"mousemove"===e.type?e.screenX-t:0:(Lr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Mr;return Mr=e.screenY,Dr?"mousemove"===e.type?e.screenY-t:0:(Dr=!0,0)}}),Br=Fr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zr={eventTypes:jr,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?In(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Fr,u=jr.mouseLeave,c=jr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Br,u=jr.pointerLeave,c=jr.pointerEnter,l="pointer");if(e=null==o?a:Pn(o),a=null==t?a:Pn(t),(u=s.getPooled(u,o,n,r)).type=l+"leave",u.target=e,u.relatedTarget=a,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,l=t,(r=o)&&l)e:{for(c=l,o=0,e=s=r;e;e=Ln(e))o++;for(e=0,t=c;t;t=Ln(t))e++;for(;0<o-e;)s=Ln(s),o--;for(;0<e-o;)c=Ln(c),e--;for(;o--;){if(s===c||s===c.alternate)break e;s=Ln(s),c=Ln(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)s.push(r),r=Ln(r);for(r=[];l&&l!==c&&(null===(o=l.alternate)||o!==c);)r.push(l),l=Ln(l);for(l=0;l<s.length;l++)jn(s[l],"bubbled",u);for(l=r.length;0<l--;)jn(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Vr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ur=Object.prototype.hasOwnProperty;function Wr(e,t){if(Vr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ur.call(t,n[r])||!Vr(e[n[r]],t[n[r]]))return!1;return!0}var Hr=T&&"documentMode"in document&&11>=document.documentMode,zr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gr=null,qr=null,Kr=null,Yr=!1;function Xr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Yr||null==Gr||Gr!==dn(n)?null:("selectionStart"in(n=Gr)&&vn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Kr&&Wr(Kr,n)?null:(Kr=n,(e=Kn.getPooled(zr.select,qr,e,t)).type="select",e.target=Gr,Vn(e),e))}var Qr={eventTypes:zr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=$e(i),a=E.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Pn(t):window,e){case"focus":(pr(i)||"true"===i.contentEditable)&&(Gr=i,qr=t,Kr=null);break;case"blur":Kr=qr=Gr=null;break;case"mousedown":Yr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yr=!1,Xr(n,r);case"selectionchange":if(Hr)break;case"keydown":case"keyup":return Xr(n,r)}return null}},Jr=Kn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$r=Kn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=Or.extend({relatedTarget:null});function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=Or.extend({key:function(e){if(e.key){var t=ni[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ri[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ai=Fr.extend({dataTransfer:null}),oi=Or.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Nr}),si=Kn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=Fr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ci={eventTypes:Bt,extractEvents:function(e,t,n,r){var i=jt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ti(n))return null;case"keydown":case"keyup":e=ii;break;case"blur":case"focus":e=ei;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=oi;break;case qe:case Ke:case Ye:e=Jr;break;case Xe:e=si;break;case"scroll":e=Or;break;case"wheel":e=ui;break;case"copy":case"cut":case"paste":e=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Br;break;default:e=Kn}return Vn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),h=Mn,m=Nn,v=Pn,C({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Zr,ChangeEventPlugin:Ar,SelectEventPlugin:Qr,BeforeInputEventPlugin:dr});var li=[],di=-1;function fi(e){0>di||(e.current=li[di],li[di]=null,di--)}function pi(e,t){di++,li[di]=e.current,e.current=t}var hi={},mi={current:hi},vi={current:!1},gi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function wi(){fi(vi),fi(mi)}function ki(e,t,n){if(mi.current!==hi)throw Error(o(168));pi(mi,t),pi(vi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,ve(t)||"Unknown",a));return i({},n,{},r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,gi=mi.current,pi(mi,e),pi(vi,vi.current),!0}function Si(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=xi(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,fi(vi),fi(mi),pi(mi,e)):fi(vi),pi(vi,n)}var Ei=a.unstable_runWithPriority,Ci=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ai=a.unstable_requestPaint,Oi=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Ii=a.unstable_ImmediatePriority,Ni=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Di={},Fi=a.unstable_shouldYield,Bi=void 0!==Ai?Ai:function(){},ji=null,Zi=null,Vi=!1,Ui=Oi(),Wi=1e4>Ui?Oi:function(){return Oi()-Ui};function Hi(){switch(Ri()){case Ii:return 99;case Ni:return 98;case Pi:return 97;case Mi:return 96;case Li:return 95;default:throw Error(o(332))}}function zi(e){switch(e){case 99:return Ii;case 98:return Ni;case 97:return Pi;case 96:return Mi;case 95:return Li;default:throw Error(o(332))}}function Gi(e,t){return e=zi(e),Ei(e,t)}function qi(e,t,n){return e=zi(e),Ci(e,t,n)}function Ki(e){return null===ji?(ji=[e],Zi=Ci(Ii,Xi)):ji.push(e),Di}function Yi(){if(null!==Zi){var e=Zi;Zi=null,Ti(e)}Xi()}function Xi(){if(!Vi&&null!==ji){Vi=!0;var e=0;try{var t=ji;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ci(Ii,Yi),n}finally{Vi=!1}}}function Qi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ji(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var $i={current:null},ea=null,ta=null,na=null;function ra(){na=ta=ea=null}function ia(e){var t=$i.current;fi($i),e.type._context._currentValue=t}function aa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function oa(e,t){ea=e,na=ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Mo=!0),e.firstContext=null)}function sa(e,t){if(na!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(na=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ta){if(null===ea)throw Error(o(308));ta=t,ea.dependencies={expirationTime:0,firstContext:t,responders:null}}else ta=ta.next=t;return e._currentValue}var ua=!1;function ca(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function da(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function pa(e,t){var n=e.alternate;null!==n&&la(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ha(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var u=o.next;o.next=s.next,s.next=u}o=s,a.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==o){u=o.next;var c=a.baseState,l=0,d=null,f=null,p=null;if(null!==u)for(var h=u;;){if((s=h.expirationTime)<r){var m={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(f=p=m,d=c):p=p.next=m,s>l&&(l=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),pu(s,h.suspenseConfig);e:{var v=e,g=h;switch(s=t,m=n,g.tag){case 1:if("function"===typeof(v=g.payload)){c=v.call(m,c,s);break e}c=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null===(s="function"===typeof(v=g.payload)?v.call(m,c,s):v)||void 0===s)break e;c=i({},c,s);break e;case 2:ua=!0}}null!==h.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[h]:s.push(h))}if(null===(h=h.next)||h===u){if(null===(s=a.shared.pending))break;h=o.next=s.next,s.next=u,a.baseQueue=o=s,a.shared.pending=null}}null===p?d=c:p.next=f,a.baseState=d,a.baseQueue=p,hu(l),e.expirationTime=l,e.memoizedState=c}}function ma(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var va=X.ReactCurrentBatchConfig,ga=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var ba={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=eu(),i=va.suspense;(i=da(r=tu(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),fa(e,i),nu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=eu(),i=va.suspense;(i=da(r=tu(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),fa(e,i),nu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=eu(),r=va.suspense;(r=da(n=tu(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),fa(e,r),nu(e,n)}};function wa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Wr(n,r)||!Wr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=sa(a):(i=bi(t)?gi:mi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function _a(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ga,ca(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=sa(a):(a=bi(t)?gi:mi.current,i.context=yi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ba.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Sa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ga&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ca(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ta(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Du(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case te:return(t=Bu(t,e.mode,n)).return=e,t}if(Sa(t)||me(t))return(t=Du(t,e.mode,n,null)).return=e,t;Ca(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(Sa(n)||me(n))return null!==i?null:d(e,t,n,r,null);Ca(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Sa(r)||me(r))return d(t,e=e.get(n)||null,r,i,null);Ca(t,r)}return null}function m(i,o,s,u){for(var c=null,l=null,d=o,m=o=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(i,d,s[m],u);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,m),null===l?c=g:l.sibling=g,l=g,d=v}if(m===s.length)return n(i,d),c;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],u))&&(o=a(d,o,m),null===l?c=d:l.sibling=d,l=d);return c}for(d=r(i,d);m<s.length;m++)null!==(v=h(d,i,m,s[m],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),o=a(v,o,m),null===l?c=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=me(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var d=l=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,v),null===d?l=b:d.sibling=b,d=b,m=g}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=f(i,y.value,c))&&(s=a(y,s,v),null===d?l=y:d.sibling=y,d=y);return l}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=h(m,i,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?l=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case ee:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===ne){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===ne?((r=Du(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Lu(a.type,a.key,a.props,null,e.mode,u)).ref=Ea(e,r,a),u.return=e,e=u)}return s(e);case te:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Bu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Fu(a,e.mode,u)).return=e,e=r),s(e);if(Sa(a))return m(e,r,a,u);if(me(a))return v(e,r,a,u);if(l&&Ca(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Aa=Ta(!0),Oa=Ta(!1),Ra={},Ia={current:Ra},Na={current:Ra},Pa={current:Ra};function Ma(e){if(e===Ra)throw Error(o(174));return e}function La(e,t){switch(pi(Pa,t),pi(Na,e),pi(Ia,Ra),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}fi(Ia),pi(Ia,t)}function Da(){fi(Ia),fi(Na),fi(Pa)}function Fa(e){Ma(Pa.current);var t=Ma(Ia.current),n=Fe(t,e.type);t!==n&&(pi(Na,e),pi(Ia,n))}function Ba(e){Na.current===e&&(fi(Ia),fi(Na))}var ja={current:0};function Za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===gn||n.data===yn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Va(e,t){return{responder:e,props:t}}var Ua=X.ReactCurrentDispatcher,Wa=X.ReactCurrentBatchConfig,Ha=0,za=null,Ga=null,qa=null,Ka=!1;function Ya(){throw Error(o(321))}function Xa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vr(e[n],t[n]))return!1;return!0}function Qa(e,t,n,r,i,a){if(Ha=a,za=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ua.current=null===e||null===e.memoizedState?ko:xo,e=n(r,i),t.expirationTime===Ha){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,qa=Ga=null,t.updateQueue=null,Ua.current=_o,e=n(r,i)}while(t.expirationTime===Ha)}if(Ua.current=wo,t=null!==Ga&&null!==Ga.next,Ha=0,qa=Ga=za=null,Ka=!1,t)throw Error(o(300));return e}function Ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qa?za.memoizedState=qa=e:qa=qa.next=e,qa}function $a(){if(null===Ga){var e=za.alternate;e=null!==e?e.memoizedState:null}else e=Ga.next;var t=null===qa?za.memoizedState:qa.next;if(null!==t)qa=t,Ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ga=e).memoizedState,baseState:Ga.baseState,baseQueue:Ga.baseQueue,queue:Ga.queue,next:null},null===qa?za.memoizedState=qa=e:qa=qa.next=e}return qa}function eo(e,t){return"function"===typeof t?t(e):t}function to(e){var t=$a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.expirationTime;if(l<Ha){var d={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=d,a=r):u=u.next=d,l>za.expirationTime&&(za.expirationTime=l,hu(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),pu(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,Vr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function no(e){var t=$a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Vr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ro(e){var t=Ja();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=bo.bind(null,za,e),[t.memoizedState,e]}function io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=za.updateQueue)?(t={lastEffect:null},za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ao(){return $a().memoizedState}function oo(e,t,n,r){var i=Ja();za.effectTag|=e,i.memoizedState=io(1|t,n,void 0,void 0===r?null:r)}function so(e,t,n,r){var i=$a();r=void 0===r?null:r;var a=void 0;if(null!==Ga){var o=Ga.memoizedState;if(a=o.destroy,null!==r&&Xa(r,o.deps))return void io(t,n,a,r)}za.effectTag|=e,i.memoizedState=io(1|t,n,a,r)}function uo(e,t){return oo(516,4,e,t)}function co(e,t){return so(516,4,e,t)}function lo(e,t){return so(4,2,e,t)}function fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function po(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,so(4,2,fo.bind(null,t,e),n)}function ho(){}function mo(e,t){return Ja().memoizedState=[e,void 0===t?null:t],e}function vo(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function go(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yo(e,t,n){var r=Hi();Gi(98>r?98:r,(function(){e(!0)})),Gi(97<r?97:r,(function(){var r=Wa.suspense;Wa.suspense=void 0===t?null:t;try{e(!1),n()}finally{Wa.suspense=r}}))}function bo(e,t,n){var r=eu(),i=va.suspense;i={expirationTime:r=tu(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===za||null!==a&&a===za)Ka=!0,i.expirationTime=Ha,za.expirationTime=Ha;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,Vr(s,o))return}catch(u){}nu(e,r)}}var wo={readContext:sa,useCallback:Ya,useContext:Ya,useEffect:Ya,useImperativeHandle:Ya,useLayoutEffect:Ya,useMemo:Ya,useReducer:Ya,useRef:Ya,useState:Ya,useDebugValue:Ya,useResponder:Ya,useDeferredValue:Ya,useTransition:Ya},ko={readContext:sa,useCallback:mo,useContext:sa,useEffect:uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,oo(4,2,fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var n=Ja();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ja();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=bo.bind(null,za,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ja().memoizedState=e},useState:ro,useDebugValue:ho,useResponder:Va,useDeferredValue:function(e,t){var n=ro(e),r=n[0],i=n[1];return uo((function(){var n=Wa.suspense;Wa.suspense=void 0===t?null:t;try{i(e)}finally{Wa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(!1),n=t[0];return t=t[1],[mo(yo.bind(null,t,e),[t,e]),n]}},xo={readContext:sa,useCallback:vo,useContext:sa,useEffect:co,useImperativeHandle:po,useLayoutEffect:lo,useMemo:go,useReducer:to,useRef:ao,useState:function(){return to(eo)},useDebugValue:ho,useResponder:Va,useDeferredValue:function(e,t){var n=to(eo),r=n[0],i=n[1];return co((function(){var n=Wa.suspense;Wa.suspense=void 0===t?null:t;try{i(e)}finally{Wa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=to(eo),n=t[0];return t=t[1],[vo(yo.bind(null,t,e),[t,e]),n]}},_o={readContext:sa,useCallback:vo,useContext:sa,useEffect:co,useImperativeHandle:po,useLayoutEffect:lo,useMemo:go,useReducer:no,useRef:ao,useState:function(){return no(eo)},useDebugValue:ho,useResponder:Va,useDeferredValue:function(e,t){var n=no(eo),r=n[0],i=n[1];return co((function(){var n=Wa.suspense;Wa.suspense=void 0===t?null:t;try{i(e)}finally{Wa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=no(eo),n=t[0];return t=t[1],[vo(yo.bind(null,t,e),[t,e]),n]}},So=null,Eo=null,Co=!1;function To(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Oo(e){if(Co){var t=Eo;if(t){var n=t;if(!Ao(e,t)){if(!(t=En(n.nextSibling))||!Ao(e,t))return e.effectTag=-1025&e.effectTag|2,Co=!1,void(So=e);To(So,n)}So=e,Eo=En(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Co=!1,So=e}}function Ro(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;So=e}function Io(e){if(e!==So)return!1;if(!Co)return Ro(e),Co=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!xn(t,e.memoizedProps))for(t=Eo;t;)To(e,t),t=En(t.nextSibling);if(Ro(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Eo=En(e.nextSibling);break e}t--}else"$"!==n&&n!==yn&&n!==gn||t++}e=e.nextSibling}Eo=null}}else Eo=So?En(e.stateNode.nextSibling):null;return!0}function No(){Eo=So=null,Co=!1}var Po=X.ReactCurrentOwner,Mo=!1;function Lo(e,t,n,r){t.child=null===e?Oa(t,null,n,r):Aa(t,e.child,n,r)}function Do(e,t,n,r,i){n=n.render;var a=t.ref;return oa(t,i),r=Qa(e,t,n,r,a,i),null===e||Mo?(t.effectTag|=1,Lo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function Fo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Pu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Wr)(i,r)&&e.ref===t.ref)?Jo(e,t,a):(t.effectTag|=1,(e=Mu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){return null!==e&&Wr(e.memoizedProps,r)&&e.ref===t.ref&&(Mo=!1,i<a)?(t.expirationTime=e.expirationTime,Jo(e,t,a)):Zo(e,t,n,r,a)}function jo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Zo(e,t,n,r,i){var a=bi(n)?gi:mi.current;return a=yi(t,a),oa(t,i),n=Qa(e,t,n,r,a,i),null===e||Mo?(t.effectTag|=1,Lo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function Vo(e,t,n,r,i){if(bi(n)){var a=!0;_i(t)}else a=!1;if(oa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ka(t,n,r),_a(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=sa(c):c=yi(t,c=bi(n)?gi:mi.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&xa(t,o,r,c),ua=!1;var f=t.memoizedState;o.state=f,ha(t,r,o,i),u=t.memoizedState,s!==r||f!==u||vi.current||ua?("function"===typeof l&&(ya(t,n,l,r),u=t.memoizedState),(s=ua||wa(t,n,s,r,f,u,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,la(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:Ji(t.type,s),u=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=sa(c):c=yi(t,c=bi(n)?gi:mi.current),(d="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&xa(t,o,r,c),ua=!1,u=t.memoizedState,o.state=u,ha(t,r,o,i),f=t.memoizedState,s!==r||u!==f||vi.current||ua?("function"===typeof l&&(ya(t,n,l,r),f=t.memoizedState),(l=ua||wa(t,n,s,r,u,f,c))?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Uo(e,t,n,r,a,i)}function Uo(e,t,n,r,i,a){jo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Si(t,n,!1),Jo(e,t,a);r=t.stateNode,Po.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Aa(t,e.child,null,a),t.child=Aa(t,null,s,a)):Lo(e,t,s,a),t.memoizedState=r.state,i&&Si(t,n,!0),t.child}function Wo(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),La(e,t.containerInfo)}var Ho,zo,Go,qo={dehydrated:null,retryTime:0};function Ko(e,t,n){var r,i=t.mode,a=t.pendingProps,o=ja.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),pi(ja,1&o),null===e){if(void 0!==a.fallback&&Oo(t),s){if(s=a.fallback,(a=Du(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Du(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=qo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Oa(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=Mu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Mu(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=qo,t.child=n,i}return n=Aa(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Du(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Du(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=qo,t.child=a,n}return t.memoizedState=null,t.child=Aa(t,e,a.children,n)}function Yo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),aa(e.return,t)}function Xo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Lo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,n);else if(19===e.tag)Yo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Za(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Za(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xo(t,!0,n,null,a,t.lastEffect);break;case"together":Xo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&hu(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function es(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return bi(t.type)&&wi(),null;case 3:return Da(),fi(vi),fi(mi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Io(t)||(t.effectTag|=4),null;case 5:Ba(t),n=Ma(Pa.current);var a=t.type;if(null!==e&&null!=t.stateNode)zo(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ma(Ia.current),Io(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[An]=t,r[On]=s,a){case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(e=0;e<Qe.length;e++)Kt(Qe[e],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"form":Kt("reset",r),Kt("submit",r);break;case"details":Kt("toggle",r);break;case"input":_e(r,s),Kt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",r),cn(n,"onChange");break;case"textarea":Ie(r,s),Kt("invalid",r),cn(n,"onChange")}for(var u in on(a,s),e=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):S.hasOwnProperty(u)&&null!=c&&cn(n,u)}switch(a){case"input":we(r),Ce(r,s,!0);break;case"textarea":we(r),Pe(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===un&&(e=De(a)),e===un?"script"===a?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(a,{is:r.is}):(e=u.createElement(a),"select"===a&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,a),e[An]=t,e[On]=r,Ho(e,t),t.stateNode=e,u=sn(a,r),a){case"iframe":case"object":case"embed":Kt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Qe.length;c++)Kt(Qe[c],e);c=r;break;case"source":Kt("error",e),c=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),c=r;break;case"form":Kt("reset",e),Kt("submit",e),c=r;break;case"details":Kt("toggle",e),c=r;break;case"input":_e(e,r),c=xe(e,r),Kt("invalid",e),cn(n,"onChange");break;case"option":c=Ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Kt("invalid",e),cn(n,"onChange");break;case"textarea":Ie(e,r),c=Re(e,r),Kt("invalid",e),cn(n,"onChange");break;default:c=r}on(a,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];"style"===s?rn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&Ze(e,d):"children"===s?"string"===typeof d?("textarea"!==a||""!==d)&&Ve(e,d):"number"===typeof d&&Ve(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=d&&cn(n,s):null!=d&&Q(e,s,d,u))}switch(a){case"input":we(e),Ce(e,r,!1);break;case"textarea":we(e),Pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Oe(e,!!r.multiple,n,!1):null!=r.defaultValue&&Oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=ln)}kn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Go(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ma(Pa.current),Ma(Ia.current),Io(t)?(n=t.stateNode,r=t.memoizedProps,n[An]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[An]=t,t.stateNode=n)}return null;case 13:return fi(ja),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Io(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?Ls===As&&(Ls=Os):(Ls!==As&&Ls!==Os||(Ls=Rs),0!==Zs&&null!==Ns&&(Vu(Ns,Ms),Uu(Ns,Zs)))),(n||r)&&(t.effectTag|=4),null);case 4:return Da(),null;case 10:return ia(t),null;case 19:if(fi(ja),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=r.rendering)){if(a)$o(r,!1);else if(Ls!==As||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Za(s))){for(t.effectTag|=64,$o(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return pi(ja,1&ja.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=Za(s))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),$o(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,$o(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Wi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,t=ja.current,pi(ja,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function ts(e){switch(e.tag){case 1:bi(e.type)&&wi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Da(),fi(vi),fi(mi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Ba(e),null;case 13:return fi(ja),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return fi(ja),null;case 4:return Da(),null;case 10:return ia(e),null;default:return null}}function ns(e,t){return{value:e,source:t,stack:ge(t)}}Ho=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zo=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,u,c=t.stateNode;switch(Ma(Ia.current),e=null,n){case"input":o=xe(c,o),r=xe(c,r),e=[];break;case"option":o=Ae(c,o),r=Ae(c,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Re(c,o),r=Re(c,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(c.onclick=ln)}for(s in on(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in c=o[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(S.hasOwnProperty(s)?(null!=l&&cn(a,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Go=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var rs="function"===typeof WeakSet?WeakSet:Set;function is(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&ve(n.type),t=t.value,null!==e&&1===e.tag&&ve(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function as(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Cu(e,n)}else t.current=null}function os(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function ss(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function us(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void us(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ma(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ma(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&kn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))))}throw Error(o(163))}function ls(e,t,n){switch("function"===typeof Ru&&Ru(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Gi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Cu(i,a)}}e=e.next}while(e!==r)}))}break;case 1:as(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Cu(e,n)}}(t,n);break;case 5:as(t);break;case 4:vs(e,t,n)}}function ds(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ds(t)}function fs(e){return 5===e.tag||3===e.tag||4===e.tag}function ps(e){e:{for(var t=e.return;null!==t;){if(fs(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Ve(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||fs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?hs(e,n,t):ms(e,n,t)}function hs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ln));else if(4!==r&&null!==(e=e.child))for(hs(e,t,n),e=e.sibling;null!==e;)hs(e,t,n),e=e.sibling}function ms(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ms(e,t,n),e=e.sibling;null!==e;)ms(e,t,n),e=e.sibling}function vs(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,c=a,l=n,d=c;;)if(ls(u,d,l),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(u=r,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ls(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function gs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ss(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[On]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Se(n,r),sn(e,i),t=sn(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?rn(n,u):"dangerouslySetInnerHTML"===s?Ze(n,u):"children"===s?Ve(n,u):Q(n,s,u,t)}switch(e){case"input":Ee(n,r);break;case"textarea":Ne(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Oe(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Oe(n,!!r.multiple,r.defaultValue,!0):Oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Us=Wi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ys(t);case 19:return void ys(t)}throw Error(o(163))}function ys(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new rs),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var bs="function"===typeof WeakMap?WeakMap:Map;function ws(e,t,n){(n=da(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,zs=r),is(e,t)},n}function ks(e,t,n){(n=da(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return is(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),is(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var xs,_s=Math.ceil,Ss=X.ReactCurrentDispatcher,Es=X.ReactCurrentOwner,Cs=16,Ts=32,As=0,Os=3,Rs=4,Is=0,Ns=null,Ps=null,Ms=0,Ls=As,Ds=null,Fs=1073741823,Bs=1073741823,js=null,Zs=0,Vs=!1,Us=0,Ws=null,Hs=!1,zs=null,Gs=null,qs=!1,Ks=null,Ys=90,Xs=null,Qs=0,Js=null,$s=0;function eu(){return 0!==(48&Is)?1073741821-(Wi()/10|0):0!==$s?$s:$s=1073741821-(Wi()/10|0)}function tu(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Hi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(Is&Cs))return Ms;if(null!==n)e=Qi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Qi(e,150,100);break;case 97:case 96:e=Qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Ns&&e===Ms&&--e,e}function nu(e,t){if(50<Qs)throw Qs=0,Js=null,Error(o(185));if(null!==(e=ru(e,t))){var n=Hi();1073741823===t?0!==(8&Is)&&0===(48&Is)?su(e):(au(e),0===Is&&Yi()):au(e),0===(4&Is)||98!==n&&99!==n||(null===Xs?Xs=new Map([[e,t]]):(void 0===(n=Xs.get(e))||n>t)&&Xs.set(e,t))}}function ru(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ns===i&&(hu(t),Ls===Rs&&Vu(i,Ms)),Uu(i,t)),i}function iu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Zu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function au(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ki(su.bind(null,e));else{var t=iu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=eu();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Di&&Ti(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ki(su.bind(null,e)):qi(r,ou.bind(null,e),{timeout:10*(1073741821-t)-Wi()}),e.callbackNode=t}}}function ou(e,t){if($s=0,t)return Wu(e,t=eu()),au(e),null;var n=iu(e);if(0!==n){if(t=e.callbackNode,0!==(48&Is))throw Error(o(327));if(_u(),e===Ns&&n===Ms||lu(e,n),null!==Ps){var r=Is;Is|=Cs;for(var i=fu();;)try{vu();break}catch(u){du(e,u)}if(ra(),Is=r,Ss.current=i,1===Ls)throw t=Ds,lu(e,n),Vu(e,n),au(e),t;if(null===Ps)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ls,Ns=null,r){case As:case 1:throw Error(o(345));case 2:Wu(e,2<n?2:n);break;case Os:if(Vu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bu(i)),1073741823===Fs&&10<(i=Us+500-Wi())){if(Vs){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,lu(e,n);break}}if(0!==(a=iu(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=_n(wu.bind(null,e),i);break}wu(e);break;case Rs:if(Vu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bu(i)),Vs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,lu(e,n);break}if(0!==(i=iu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Bs?r=10*(1073741821-Bs)-Wi():1073741823===Fs?r=0:(r=10*(1073741821-Fs)-5e3,0>(r=(i=Wi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=_n(wu.bind(null,e),r);break}wu(e);break;case 5:if(1073741823!==Fs&&null!==js){a=Fs;var s=js;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=Wi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Vu(e,n),e.timeoutHandle=_n(wu.bind(null,e),r);break}}wu(e);break;default:throw Error(o(329))}if(au(e),e.callbackNode===t)return ou.bind(null,e)}}return null}function su(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Is))throw Error(o(327));if(_u(),e===Ns&&t===Ms||lu(e,t),null!==Ps){var n=Is;Is|=Cs;for(var r=fu();;)try{mu();break}catch(i){du(e,i)}if(ra(),Is=n,Ss.current=r,1===Ls)throw n=Ds,lu(e,t),Vu(e,t),au(e),n;if(null!==Ps)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ns=null,wu(e),au(e)}return null}function uu(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&Yi()}}function cu(e,t){var n=Is;Is&=-2,Is|=8;try{return e(t)}finally{0===(Is=n)&&Yi()}}function lu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Sn(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&wi();break;case 3:Da(),fi(vi),fi(mi);break;case 5:Ba(r);break;case 4:Da();break;case 13:case 19:fi(ja);break;case 10:ia(r)}n=n.return}Ns=e,Ps=Mu(e.current,null),Ms=t,Ls=As,Ds=null,Bs=Fs=1073741823,js=null,Zs=0,Vs=!1}function du(e,t){for(;;){try{if(ra(),Ua.current=wo,Ka)for(var n=za.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ha=0,qa=Ga=za=null,Ka=!1,null===Ps||null===Ps.return)return Ls=1,Ds=t,Ps=null;e:{var i=e,a=Ps.return,o=Ps,s=t;if(t=Ms,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var l=0!==(1&ja.current),d=a;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var h=d.memoizedProps;f=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!l)}}if(f){var m=d.updateQueue;if(null===m){var v=new Set;v.add(u),d.updateQueue=v}else m.add(u);if(0===(2&d.mode)){if(d.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var g=da(1073741823,null);g.tag=2,fa(o,g)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new bs,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(o)){s.add(o);var b=Tu.bind(null,i,u,o);u.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((ve(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(o))}5!==Ls&&(Ls=2),s=ns(s,o),d=a;do{switch(d.tag){case 3:u=s,d.effectTag|=4096,d.expirationTime=t,pa(d,ws(d,u,t));break e;case 1:u=s;var w=d.type,k=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){d.effectTag|=4096,d.expirationTime=t,pa(d,ks(d,u,t));break e}}d=d.return}while(null!==d)}Ps=yu(Ps)}catch(x){t=x;continue}break}}function fu(){var e=Ss.current;return Ss.current=wo,null===e?wo:e}function pu(e,t){e<Fs&&2<e&&(Fs=e),null!==t&&e<Bs&&2<e&&(Bs=e,js=t)}function hu(e){e>Zs&&(Zs=e)}function mu(){for(;null!==Ps;)Ps=gu(Ps)}function vu(){for(;null!==Ps&&!Fi();)Ps=gu(Ps)}function gu(e){var t=xs(e.alternate,e,Ms);return e.memoizedProps=e.pendingProps,null===t&&(t=yu(e)),Es.current=null,t}function yu(e){Ps=e;do{var t=Ps.alternate;if(e=Ps.return,0===(2048&Ps.effectTag)){if(t=es(t,Ps,Ms),1===Ms||1!==Ps.childExpirationTime){for(var n=0,r=Ps.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Ps.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ps.firstEffect),null!==Ps.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ps.firstEffect),e.lastEffect=Ps.lastEffect),1<Ps.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ps:e.firstEffect=Ps,e.lastEffect=Ps))}else{if(null!==(t=ts(Ps)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ps.sibling))return t;Ps=e}while(null!==Ps);return Ls===As&&(Ls=5),null}function bu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function wu(e){var t=Hi();return Gi(99,ku.bind(null,e,t)),null}function ku(e,t){do{_u()}while(null!==Ks);if(0!==(48&Is))throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=bu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ns&&(Ps=Ns=null,Ms=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Is;Is|=Ts,Es.current=null,bn=qt;var s=mn();if(vn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{u.nodeType,d.nodeType}catch(C){u=null;break e}var f=0,p=-1,h=-1,m=0,v=0,g=s,y=null;t:for(;;){for(var b;g!==u||0!==l&&3!==g.nodeType||(p=f+l),g!==d||0!==c&&3!==g.nodeType||(h=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break t;if(y===u&&++m===l&&(p=f),y===d&&++v===c&&(h=f),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}u=-1===p||-1===h?null:{start:p,end:h}}else u=null}u=u||{start:0,end:0}}else u=null;wn={activeElementDetached:null,focusedElem:s,selectionRange:u},qt=!1,Ws=i;do{try{xu()}catch(C){if(null===Ws)throw Error(o(330));Cu(Ws,C),Ws=Ws.nextEffect}}while(null!==Ws);Ws=i;do{try{for(s=e,u=t;null!==Ws;){var w=Ws.effectTag;if(16&w&&Ve(Ws.stateNode,""),128&w){var k=Ws.alternate;if(null!==k){var x=k.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&w){case 2:ps(Ws),Ws.effectTag&=-3;break;case 6:ps(Ws),Ws.effectTag&=-3,gs(Ws.alternate,Ws);break;case 1024:Ws.effectTag&=-1025;break;case 1028:Ws.effectTag&=-1025,gs(Ws.alternate,Ws);break;case 4:gs(Ws.alternate,Ws);break;case 8:vs(s,l=Ws,u),ds(l)}Ws=Ws.nextEffect}}catch(C){if(null===Ws)throw Error(o(330));Cu(Ws,C),Ws=Ws.nextEffect}}while(null!==Ws);if(x=wn,k=mn(),w=x.focusedElem,u=x.selectionRange,k!==w&&w&&w.ownerDocument&&hn(w.ownerDocument.documentElement,w)){null!==u&&vn(w)&&(k=u.start,void 0===(x=u.end)&&(x=k),"selectionStart"in w?(w.selectionStart=k,w.selectionEnd=Math.min(x,w.value.length)):(x=(k=w.ownerDocument||document)&&k.defaultView||window).getSelection&&(x=x.getSelection(),l=w.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!x.extend&&s>u&&(l=u,u=s,s=l),l=pn(w,s),d=pn(w,u),l&&d&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==d.node||x.focusOffset!==d.offset)&&((k=k.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),s>u?(x.addRange(k),x.extend(d.node,d.offset)):(k.setEnd(d.node,d.offset),x.addRange(k))))),k=[];for(x=w;x=x.parentNode;)1===x.nodeType&&k.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<k.length;w++)(x=k[w]).element.scrollLeft=x.left,x.element.scrollTop=x.top}qt=!!bn,wn=bn=null,e.current=n,Ws=i;do{try{for(w=e;null!==Ws;){var _=Ws.effectTag;if(36&_&&cs(w,Ws.alternate,Ws),128&_){k=void 0;var S=Ws.ref;if(null!==S){var E=Ws.stateNode;Ws.tag,k=E,"function"===typeof S?S(k):S.current=k}}Ws=Ws.nextEffect}}catch(C){if(null===Ws)throw Error(o(330));Cu(Ws,C),Ws=Ws.nextEffect}}while(null!==Ws);Ws=null,Bi(),Is=a}else e.current=n;if(qs)qs=!1,Ks=e,Ys=t;else for(Ws=i;null!==Ws;)t=Ws.nextEffect,Ws.nextEffect=null,Ws=t;if(0===(t=e.firstPendingTime)&&(Gs=null),1073741823===t?e===Js?Qs++:(Qs=0,Js=e):Qs=0,"function"===typeof Ou&&Ou(n.stateNode,r),au(e),Hs)throw Hs=!1,e=zs,zs=null,e;return 0!==(8&Is)||Yi(),null}function xu(){for(;null!==Ws;){var e=Ws.effectTag;0!==(256&e)&&os(Ws.alternate,Ws),0===(512&e)||qs||(qs=!0,qi(97,(function(){return _u(),null}))),Ws=Ws.nextEffect}}function _u(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,Gi(e,Su)}}function Su(){if(null===Ks)return!1;var e=Ks;if(Ks=null,0!==(48&Is))throw Error(o(331));var t=Is;for(Is|=Ts,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ss(5,n),us(5,n)}}catch(r){if(null===e)throw Error(o(330));Cu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Is=t,Yi(),!0}function Eu(e,t,n){fa(e,t=ws(e,t=ns(n,t),1073741823)),null!==(e=ru(e,1073741823))&&au(e)}function Cu(e,t){if(3===e.tag)Eu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Eu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){fa(n,e=ks(n,e=ns(t,e),1073741823)),null!==(n=ru(n,1073741823))&&au(n);break}}n=n.return}}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ns===e&&Ms===n?Ls===Rs||Ls===Os&&1073741823===Fs&&Wi()-Us<500?lu(e,Ms):Vs=!0:Zu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,au(e)))}function Au(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=tu(t=eu(),e,null)),null!==(e=ru(e,t))&&au(e)}xs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||vi.current)Mo=!0;else{if(r<n){switch(Mo=!1,t.tag){case 3:Wo(t),No();break;case 5:if(Fa(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:bi(t.type)&&_i(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,pi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ko(e,t,n):(pi(ja,1&ja.current),null!==(t=Jo(e,t,n))?t.sibling:null);pi(ja,1&ja.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Qo(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),pi(ja,ja.current),!r)return null}return Jo(e,t,n)}Mo=!1}}else Mo=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=yi(t,mi.current),oa(t,n),i=Qa(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bi(r)){var a=!0;_i(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ca(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ya(t,r,s,e),i.updater=ba,t.stateNode=i,i._reactInternalFiber=t,_a(t,r,e,n),t=Uo(null,t,r,!0,a,n)}else t.tag=0,Lo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===de)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Zo(null,t,i,e,n);break e;case 1:t=Vo(null,t,i,e,n);break e;case 11:t=Do(null,t,i,e,n);break e;case 14:t=Fo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Zo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Wo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,la(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)No(),t=Jo(e,t,n);else{if((i=t.stateNode.hydrate)&&(Eo=En(t.stateNode.containerInfo.firstChild),So=t,i=Co=!0),i)for(n=Oa(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Lo(e,t,r,n),No();t=t.child}return t;case 5:return Fa(t),null===e&&Oo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,xn(r,i)?s=null:null!==a&&xn(r,a)&&(t.effectTag|=16),jo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Lo(e,t,s,n),t=t.child),t;case 6:return null===e&&Oo(t),null;case 13:return Ko(e,t,n);case 4:return La(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Aa(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Do(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(pi($i,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=Vr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!vi.current){t=Jo(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=da(n,null)).tag=2,fa(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),aa(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Lo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,oa(t,n),r=r(i=sa(i,a.unstable_observedBits)),t.effectTag|=1,Lo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Fo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,bi(r)?(e=!0,_i(t)):e=!1,oa(t,n),ka(t,r,i),_a(t,r,i,n),Uo(null,t,r,!0,e,n);case 19:return Qo(e,t,n)}throw Error(o(156,t.tag))};var Ou=null,Ru=null;function Iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Nu(e,t,n,r){return new Iu(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Du(n.children,i,a,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Nu(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ce:return(e=Nu(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=a,e;case le:return(e=Nu(19,n,t,i)).elementType=le,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case ue:s=11;break e;case de:s=14;break e;case fe:s=16,r=null;break e;case pe:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nu(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Du(e,t,n,r){return(e=Nu(7,e,r,t)).expirationTime=n,e}function Fu(e,t,n){return(e=Nu(6,e,null,t)).expirationTime=n,e}function Bu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Zu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Vu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Uu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Wu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Hu(e,t,n,r){var i=t.current,a=eu(),s=va.suspense;a=tu(a,i,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(bi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(bi(c)){n=xi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=da(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),nu(i,a),a}function zu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function qu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}function Ku(e,t,n){var r=new ju(e,t,n=null!=n&&!0===n.hydrate),i=Nu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ca(i),e[Rn]=r.current,n&&0!==t&&function(e,t){var n=$e(t);Tt.forEach((function(e){mt(e,t,n)})),At.forEach((function(e){mt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=zu(o);s.call(e)}}Hu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ku(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=zu(o);u.call(e)}}cu((function(){Hu(t,o,e,i)}))}return zu(o)}function Qu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ju(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(o(200));return Qu(e,t,null,n)}Ku.prototype.render=function(e){Hu(e,this._internalRoot,null,null)},Ku.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Hu(null,e,null,(function(){t[Rn]=null}))},vt=function(e){if(13===e.tag){var t=Qi(eu(),150,100);nu(e,t),qu(e,t)}},gt=function(e){13===e.tag&&(nu(e,3),qu(e,3))},yt=function(e){if(13===e.tag){var t=eu();nu(e,t=tu(t,e,null)),qu(e,t)}},A=function(e,t,n){switch(t){case"input":if(Ee(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mn(r);if(!i)throw Error(o(90));ke(r),Ee(r,i)}}}break;case"textarea":Ne(e,n);break;case"select":null!=(t=n.value)&&Oe(e,!!n.multiple,t,!1)}},M=uu,L=function(e,t,n,r,i){var a=Is;Is|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Is=a)&&Yi()}},D=function(){0===(49&Is)&&(function(){if(null!==Xs){var e=Xs;Xs=null,e.forEach((function(e,t){Wu(t,e),au(t)})),Yi()}}(),_u())},F=function(e,t){var n=Is;Is|=2;try{return e(t)}finally{0===(Is=n)&&Yi()}};var $u={Events:[Nn,Pn,Mn,C,_,Vn,function(e){at(e,Zn)},N,P,Jt,ut,_u,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ou=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Ru=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:In,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$u,t.createPortal=Ju,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Is))throw Error(o(187));var n=Is;Is|=1;try{return Gi(99,e.bind(null,t))}finally{Is=n,Yi()}},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(o(200));return Xu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Yu(t))throw Error(o(200));return Xu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){Xu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Rn]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_createPortal=function(e,t){return Ju(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Xu(e,t,n,!1,r)},t.version="16.14.0"},54164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(34463)},11372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,d=60120,f=60115,p=60116,h=60121,m=60122,v=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),d=b("react.suspense_list"),f=b("react.memo"),p=b("react.lazy"),h=b("react.block"),m=b("react.server.block"),v=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case d:return e;default:switch(e=e&&e.$$typeof){case u:case c:case p:case f:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===g||e===a||e===l||e===d||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===f||e.$$typeof===s||e.$$typeof===u||e.$$typeof===c||e.$$typeof===v||e.$$typeof===h||e[0]===m)},t.typeOf=w},57441:function(e,t,n){"use strict";e.exports=n(11372)},73381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},53813:function(e,t,n){var r=n(73381);e.exports=p,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],f=n[1],p=n.index;if(s+=e.slice(o,p),o=p+d.length,f)s+=f[1];else{var h=e[o],m=n[2],v=n[3],g=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var k=null!=m&&null!=h&&h!==m,x="+"===b||"*"===b,_="?"===b||"*"===b,S=n[2]||l,E=g||y;r.push({name:v||a++,prefix:m||"",delimiter:S,optional:_,repeat:x,partial:k,asterisk:!!w,pattern:E?c(E):w?".*":"[^"+u(S)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var d,f=s[l.name];if(null==f){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(d=u(f[p]),!n[c].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");a+=(0===p?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');a+=l.prefix+d}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var f=u(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+f+p+")*"),o+=p=c.optional?c.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var h=u(n.delimiter||"/"),m=o.slice(-h.length)===h;return i||(o=(m?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),o+=a?"$":i&&m?"":"(?="+h+"|$)",l(new RegExp("^"+o,d(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(a(e,n),t,n)}(e,t,n)}},29195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case v:case m:case u:return e;default:return t}}case i:return t}}}function x(e){return k(e)===d}},28228:function(e,t,n){"use strict";n(29195)},47332:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(93433),i=n(29439),a=n(43144),o=n(15671),s=n(72791),u=n(27494),c=n.n(u);function l(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,n=t.debounce,r=t.scroll,u=t.polyfill,l=t.offsetSize,f=u||("undefined"===typeof window?(0,a.Z)((function e(){(0,o.Z)(this,e)})):window.ResizeObserver);if(!f)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var h=(0,s.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),m=(0,i.Z)(h,2),v=m[0],g=m[1],y=(0,s.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:v}),b=n?"number"===typeof n?n:n.scroll:null,w=n?"number"===typeof n?n:n.resize:null,k=(0,s.useRef)(!1);(0,s.useEffect)((function(){return k.current=!0,function(){k.current=!1}}));var x=(0,s.useMemo)((function(){var e=function(){if(y.current.element){var e=y.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};y.current.element instanceof HTMLElement&&l&&(t.height=y.current.element.offsetHeight,t.width=y.current.element.offsetWidth),Object.freeze(t),k.current&&!p(y.current.lastBounds,t)&&g(y.current.lastBounds=t)}};return[e,w?c()(e,w):e,b?c()(e,b):e]}),[g,l,b,w]),_=(0,i.Z)(x,3),S=_[0],E=_[1],C=_[2];function T(){y.current.scrollContainers&&(y.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",C,!0)})),y.current.scrollContainers=null),y.current.resizeObserver&&(y.current.resizeObserver.disconnect(),y.current.resizeObserver=null)}function A(){y.current.element&&(y.current.resizeObserver=new f(C),y.current.resizeObserver.observe(y.current.element),r&&y.current.scrollContainers&&y.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",C,{capture:!0,passive:!0})})))}var O,R,I;return O=C,R=Boolean(r),(0,s.useEffect)((function(){if(R){var e=O;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[O,R]),I=E,(0,s.useEffect)((function(){var e=I;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[I]),(0,s.useEffect)((function(){T(),A()}),[r,C,E]),(0,s.useEffect)((function(){return T}),[]),[function(e){e&&e!==y.current.element&&(T(),y.current.element=e,y.current.scrollContainers=d(e),A())},v,S]}function d(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,(0,r.Z)(d(e.parentElement)))}var f=["x","y","top","bottom","left","right","width","height"],p=function(e,t){return f.every((function(n){return e[n]===t[n]}))}},59117:function(e,t,n){"use strict";var r=n(31725),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function k(){}function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=w.prototype;var _=x.prototype=new k;_.constructor=x,r(_,w.prototype),_.isPureReactComponent=!0;var S={current:null},E=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&!C.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:S.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var O=/\/+/g,R=[];function I(e,t,n,r){if(R.length){var i=R.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function P(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return n(r,e,""===t?"."+L(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=t+L(i=e[u],u);s+=P(i,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=v&&e[v]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)s+=P(i=i.value,c=t+L(i,u++),n,r);else if("object"===i)throw n=""+e,Error(g(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function M(e,t,n){return null==e?0:P(e,"",t,n)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,(function(e){return e})):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(O,"$&/")+"/"),M(e,F,t=I(t,a,r,i)),N(t)}var j={current:null};function Z(){var e=j.current;if(null===e)throw Error(g(321));return e}var V={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,D,t=I(null,null,t,n)),N(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!A(e))throw Error(g(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=c,t.PureComponent=x,t.StrictMode=u,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var i=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return Z().useCallback(e,t)},t.useContext=function(e,t){return Z().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return Z().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return Z().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return Z().useLayoutEffect(e,t)},t.useMemo=function(e,t){return Z().useMemo(e,t)},t.useReducer=function(e,t,n){return Z().useReducer(e,t,n)},t.useRef=function(e){return Z().useRef(e)},t.useState=function(e){return Z().useState(e)},t.version="16.14.0"},72791:function(e,t,n){"use strict";e.exports=n(59117)},72296:function(e,t,n){var r,i=n(20056),a=n(88688),o=n(27711),s=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g;e.exports=function(e,t){function n(e,a,u){if(r++>100)throw r=0,new Error("Call stack overflow for "+u);if(""===e)throw new Error(a+"(): '"+u+"' must contain a non-whitespace string");e=function(e,t){e=e.replace(/((?:\-[a-z]+\-)?calc)/g,"");var r,a="",o=e;for(;r=s.exec(o);){r[0].index>0&&(a+=o.substring(0,r[0].index));var u=i("(",")",o.substring([0].index));if(""===u.body)throw new Error("'"+e+"' must contain a non-whitespace string");var c=n(u.body,"",t);a+=u.pre+c,o=u.post}return a+o}(e,u);var c=function(e){var t=[],n=[],r=/[\.0-9]([%a-z]+)/gi,i=r.exec(e);for(;i;)i&&i[1]&&(-1===n.indexOf(i[1].toLowerCase())&&(t.push(i[1]),n.push(i[1].toLowerCase())),i=r.exec(e));return t}(e);if(c.length>1||e.indexOf("var(")>-1)return a+"("+e+")";var l=c[0]||"";"%"===l&&(e=e.replace(/\b[0-9\.]+%/g,(function(e){return.01*parseFloat(e.slice(0,-1))})));var d,f=e.replace(new RegExp(l,"gi"),"");try{d=o.eval(f)}catch(p){return a+"("+e+")"}return"%"===l&&(d*=100),(a.length||"%"===l)&&(d=Math.round(d*t)/t),d+=l}return r=0,t=Math.pow(10,void 0===t?5:t),e=e.replace(/\n+/g," "),a(e,/((?:\-[a-z]+\-)?calc)\(/,n)}},20056:function(e){function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var a=r(e,t,i);return a&&{start:a[0],end:a[1],pre:i.slice(0,a[0]),body:i.slice(a[0]+e.length,a[1]),post:i.slice(a[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,a,o,s,u=n.indexOf(e),c=n.indexOf(t,u+1),l=u;if(u>=0&&c>0){for(r=[],a=n.length;l>=0&&!s;)l==u?(r.push(l),u=n.indexOf(e,l+1)):1==r.length?s=[r.pop(),c]:((i=r.pop())<a&&(a=i,o=c),c=n.indexOf(t,l+1)),l=u<c&&u>=0?u:c;r.length&&(s=[a,o])}return s}e.exports=t,t.range=r},88688:function(e,t,n){var r=n(14249);function i(e,t,n){var a=e;return function(e,t){var n=[],i="string"===typeof t?new RegExp("\\b("+t+")\\("):t;do{var a=i.exec(e);if(!a)return n;if(void 0===a[1])throw new Error("Missing the first couple of parenthesis to get the function identifier in "+t);var o=a[1],s=a.index,u=r("(",")",e.substring(s));if(!u||u.start!==a[0].length-1)throw new SyntaxError(o+"(): missing closing ')' in the value '"+e+"'");n.push({matches:u,functionIdentifier:o}),e=u.post}while(i.test(e));return n}(e,t).reduce((function(e,r){return e.replace(r.functionIdentifier+"("+r.matches.body+")",function(e,t,n,r,a){return n(i(e,a,n),t,r)}(r.matches.body,r.functionIdentifier,n,a,t))}),e)}e.exports=i},19727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=function(e,t,n){var r=d;return function(i,a){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(O([])));k&&k!==n&&r.call(k,a)&&(b=k);var x=y.prototype=v.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=y,u(x,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),u(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},36813:function(e,t){"use strict";var n,r,i,a,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,u=null,c=function e(){if(null!==s)try{var n=t.unstable_now();s(!0,n),s=null}catch(r){throw setTimeout(e,0),r}},l=Date.now();t.unstable_now=function(){return Date.now()-l},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(c,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},a=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,p=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var v=f.now();t.unstable_now=function(){return f.now()-v}}var g=!1,y=null,b=-1,w=5,k=0;a=function(){return t.unstable_now()>=k},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,_=x.port2;x.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+w;try{y(!0,e)?_.postMessage(null):(g=!1,y=null)}catch(n){throw _.postMessage(null),n}}else g=!1},n=function(e){y=e,g||(g=!0,_.postMessage(null))},r=function(e,n){b=p((function(){e(t.unstable_now())}),n)},i=function(){h(b),b=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>T(o,n))void 0!==u&&0>T(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],O=[],R=1,I=null,N=3,P=!1,M=!1,L=!1;function D(e){for(var t=E(O);null!==t;){if(null===t.callback)C(O);else{if(!(t.startTime<=e))break;C(O),t.sortIndex=t.expirationTime,S(A,t)}t=E(O)}}function F(e){if(L=!1,D(e),!M)if(null!==E(A))M=!0,n(B);else{var t=E(O);null!==t&&r(F,t.startTime-e)}}function B(e,n){M=!1,L&&(L=!1,i()),P=!0;var o=N;try{for(D(n),I=E(A);null!==I&&(!(I.expirationTime>n)||e&&!a());){var s=I.callback;if(null!==s){I.callback=null,N=I.priorityLevel;var u=s(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?I.callback=u:I===E(A)&&C(A),D(n)}else C(A);I=E(A)}if(null!==I)var c=!0;else{var l=E(O);null!==l&&r(F,l.startTime-n),c=!1}return c}finally{I=null,N=o,P=!1}}function j(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var Z=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||P||(M=!0,n(B))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return E(A)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var u=o.delay;u="number"===typeof u&&0<u?s+u:s,o="number"===typeof o.timeout?o.timeout:j(e)}else o=j(e),u=s;return e={id:R++,callback:a,priorityLevel:e,startTime:u,expirationTime:o=u+o,sortIndex:-1},u>s?(e.sortIndex=u,S(O,e),null===E(A)&&e===E(O)&&(L?i():L=!0,r(F,u-s))):(e.sortIndex=o,S(A,e),M||P||(M=!0,n(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();D(e);var n=E(A);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<I.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},45296:function(e,t,n){"use strict";e.exports=n(36813)},96699:function(e,t,n){var r=n(22501),i=n(69112),a=n(92132),o=n(20890),s=n(94113),u=n(91725),c=n(63411);c.alea=r,c.xor128=i,c.xorwow=a,c.xorshift7=o,c.xor4096=s,c.tychei=u,e.exports=c},22501:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new o(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},91725:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},69112:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},94113:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},20890:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},92132:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},63411:function(e,t,n){var r;!function(i,a){var o,s=this,u=256,c=a.pow(u,6),l=a.pow(2,52),d=2*l,f=255;function p(e,t,n){var r=[],f=g(v((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(u):(e=new Uint8Array(u),(s.crypto||s.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,y(i)]}}():e,3),r),p=new h(r),b=function(){for(var e=p.g(6),t=c,n=0;e<l;)e=(e+n)*u,t*=u,n=p.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,g(y(p.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,p),e.state=function(){return m(p,{})}),n?(a.random=e,t):e})(b,f,"global"in t?t.global:this==a,t.state)}function h(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<u;)o[i]=i++;for(i=0;i<u;i++)o[i]=o[a=f&a+e[i%n]+(t=o[i])],o[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=f&i+1],n=n*u+o[f&(o[i]=o[a=f&a+t])+(o[a]=t)];return r.i=i,r.j=a,n})(u)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function v(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(v(e[n],t-1))}catch(a){}return r.length?r:"string"==i?e:e+"\0"}function g(e,t){for(var n,r=e+"",i=0;i<r.length;)t[f&i]=f&(n^=19*t[f&i])+r.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(a.seedrandom=p,g(a.random(),i),e.exports){e.exports=p;try{o=n(75042)}catch(b){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}([],Math)},79613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],d=t[c];if(!1===(i=n?n.call(r,l,d,c):void 0)||void 0===i&&l!==d)return!1}return!0}},36031:function(e,t,n){"use strict";n.r(t),n.d(t,{ServerStyleSheet:function(){return Ze},StyleSheetConsumer:function(){return ie},StyleSheetContext:function(){return re},StyleSheetManager:function(){return le},ThemeConsumer:function(){return Ne},ThemeContext:function(){return Ie},ThemeProvider:function(){return Pe},__PRIVATE__:function(){return We},createGlobalStyle:function(){return Be},css:function(){return we},default:function(){return He},isStyledComponent:function(){return w},keyframes:function(){return je},useTheme:function(){return Ue},version:function(){return x},withTheme:function(){return Ve}});var r=n(57441),i=n(72791),a=n(79613),o=n.n(a);var s=function(e){function t(e,r,u,c,f){for(var p,h,m,v,w,x=0,_=0,S=0,E=0,C=0,N=0,M=m=p=0,D=0,F=0,B=0,j=0,Z=u.length,V=Z-1,U="",W="",H="",z="";D<Z;){if(h=u.charCodeAt(D),D===V&&0!==_+E+S+x&&(0!==_&&(h=47===_?10:47),E=S=x=0,Z++,V++),0===_+E+S+x){if(D===V&&(0<F&&(U=U.replace(d,"")),0<U.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:U+=u.charAt(D)}h=59}switch(h){case 123:for(p=(U=U.trim()).charCodeAt(0),m=1,j=++D;D<Z;){switch(h=u.charCodeAt(D)){case 123:m++;break;case 125:m--;break;case 47:switch(h=u.charCodeAt(D+1)){case 42:case 47:e:{for(M=D+1;M<V;++M)switch(u.charCodeAt(M)){case 47:if(42===h&&42===u.charCodeAt(M-1)&&D+2!==M){D=M+1;break e}break;case 10:if(47===h){D=M+1;break e}}D=M}}break;case 91:h++;case 40:h++;case 34:case 39:for(;D++<V&&u.charCodeAt(D)!==h;);}if(0===m)break;D++}if(m=u.substring(j,D),0===p&&(p=(U=U.replace(l,"").trim()).charCodeAt(0)),64===p){switch(0<F&&(U=U.replace(d,"")),h=U.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=I}if(j=(m=t(r,F,m,h,f+1)).length,0<P&&(w=s(3,m,F=n(I,U,B),r,A,T,j,h,f,c),U=F.join(""),void 0!==w&&0===(j=(m=w.trim()).length)&&(h=0,m="")),0<j)switch(h){case 115:U=U.replace(k,o);case 100:case 109:case 45:m=U+"{"+m+"}";break;case 107:m=(U=U.replace(g,"$1 $2"))+"{"+m+"}",m=1===R||2===R&&a("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=U+m,112===c&&(W+=m,m="")}else m=""}else m=t(r,n(r,U,B),m,c,f+1);H+=m,m=B=F=M=p=0,U="",h=u.charCodeAt(++D);break;case 125:case 59:if(1<(j=(U=(0<F?U.replace(d,""):U).trim()).length))switch(0===M&&(p=U.charCodeAt(0),45===p||96<p&&123>p)&&(j=(U=U.replace(" ",":")).length),0<P&&void 0!==(w=s(1,U,r,e,A,T,W.length,c,f,c))&&0===(j=(U=w.trim()).length)&&(U="\0\0"),p=U.charCodeAt(0),h=U.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){z+=U+u.charAt(D);break}default:58!==U.charCodeAt(j-1)&&(W+=i(U,p,h,U.charCodeAt(2)))}B=F=M=p=0,U="",h=u.charCodeAt(++D)}}switch(h){case 13:case 10:47===_?_=0:0===1+p&&107!==c&&0<U.length&&(F=1,U+="\0"),0<P*L&&s(0,U,r,e,A,T,W.length,c,f,c),T=1,A++;break;case 59:case 125:if(0===_+E+S+x){T++;break}default:switch(T++,v=u.charAt(D),h){case 9:case 32:if(0===E+x+_)switch(C){case 44:case 58:case 9:case 32:v="";break;default:32!==h&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===E+_+x&&(F=B=1,v="\f"+v);break;case 108:if(0===E+_+x+O&&0<M)switch(D-M){case 2:112===C&&58===u.charCodeAt(D-3)&&(O=C);case 8:111===N&&(O=N)}break;case 58:0===E+_+x&&(M=D);break;case 44:0===_+S+E+x&&(F=1,v+="\r");break;case 34:case 39:0===_&&(E=E===h?0:0===E?h:E);break;case 91:0===E+_+S&&x++;break;case 93:0===E+_+S&&x--;break;case 41:0===E+_+x&&S--;break;case 40:if(0===E+_+x){if(0===p)if(2*C+3*N===533);else p=1;S++}break;case 64:0===_+S+E+x+M+m&&(m=1);break;case 42:case 47:if(!(0<E+x+S))switch(_){case 0:switch(2*h+3*u.charCodeAt(D+1)){case 235:_=47;break;case 220:j=D,_=42}break;case 42:47===h&&42===C&&j+2!==D&&(33===u.charCodeAt(j+2)&&(W+=u.substring(j,D+1)),v="",_=0)}}0===_&&(U+=v)}N=C,C=h,D++}if(0<(j=W.length)){if(F=r,0<P&&(void 0!==(w=s(2,W,F,e,A,T,j,c,f,c))&&0===(W=w).length))return z+W+H;if(W=F.join(",")+"{"+W+"}",0!==R*O){switch(2!==R||a(W,2)||(O=0),O){case 111:W=W.replace(b,":-moz-$1")+W;break;case 112:W=W.replace(y,"::-webkit-input-$1")+W.replace(y,"::-moz-$1")+W.replace(y,":-ms-input-$1")+W}O=0}}return z+W+H}function n(e,t,n){var i=t.trim().split(m);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===R||2===R&&a(u,1)?"-webkit-"+u+u:u}if(0===R||2===R&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(C,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return p.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(w,"tb");break;case 232:u=o.replace(w,"tb-rl");break;case 220:u=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),M(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var d,f=0,p=t;f<P;++f)switch(d=N[f].call(c,e,p,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:p=d}if(p!==t)return p}function u(e){return void 0!==(e=e.prefix)&&(M=null,e?"function"!==typeof e?R=1:(R=2,M=e):R=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=s(-1,n,r,r,A,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(I,r,n,0,0);return 0<P&&(void 0!==(i=s(-2,a,r,r,A,T,a.length,0,0,0))&&(a=i)),"",O=0,T=A=1,a}var l=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,p=/zoo|gra/,h=/([,: ])(transform)/g,m=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,T=1,A=1,O=0,R=1,I=[],N=[],P=0,M=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:P=N.length=0;break;default:if("function"===typeof t)N[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},u={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),d=n(62110),f=n.n(d);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},m=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,r.typeOf)(e)},v=Object.freeze([]),g=Object.freeze({});function y(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function w(e){return e&&"string"==typeof e.styledComponentId}var k="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",x="5.3.5",_="undefined"!=typeof window&&"HTMLElement"in window,S=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),E={};function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var T=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&C(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),A=new Map,O=new Map,R=1,I=function(e){if(A.has(e))return A.get(e);for(;O.has(R);)R++;var t=R++;return A.set(e,t),O.set(t,e),t},N=function(e){return O.get(e)},P=function(e,t){t>=R&&(R=t+1),A.set(e,t),O.set(t,e)},M="style["+k+'][data-styled-version="5.3.5"]',L=new RegExp("^"+k+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},F=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(L);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(P(c,u),D(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},B=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},j=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(k))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(k,"active"),r.setAttribute("data-styled-version","5.3.5");var o=B();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Z=function(){function e(e){var t=this.element=j(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}C(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),V=function(){function e(e){var t=this.element=j(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),U=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),W=_,H={isServer:!_,useCSSOMInjection:!S},z=function(){function e(e,t,n){void 0===e&&(e=g),void 0===t&&(t={}),this.options=p({},H,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&_&&W&&(W=!1,function(e){for(var t=document.querySelectorAll(M),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(k)&&(F(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return I(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(p({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new U(i):r?new Z(i):new V(i),new T(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(I(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(I(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(I(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=N(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=k+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),G=/(a)(d)/gi,q=function(e){return String.fromCharCode(e+(e>25?39:97))};function K(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=q(t%52)+n;return(q(t%52)+n).replace(G,"$1-$2")}var Y=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},X=function(e){return Y(5381,e)};function Q(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(y(n)&&!w(n))return!1}return!0}var J=X("5.3.5"),$=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Q(e),this.componentId=t,this.baseHash=Y(J,t),this.baseStyle=n,z.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=ye(this.rules,e,t,n).join(""),o=K(Y(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=Y(this.baseHash,n.hash),l="",d=0;d<u;d++){var f=this.rules[d];if("string"==typeof f)l+=f;else if(f){var p=ye(f,e,t,n),h=Array.isArray(p)?p.join(""):p;c=Y(c,h+d),l+=h}}if(l){var m=K(c>>>0);if(!t.hasNameForId(r,m)){var v=n(l,"."+m,void 0,r);t.insertRules(r,m,v)}i.push(m)}}return i.join(" ")},e}(),ee=/^\s*\/\/.*$/gm,te=[":","[",".","#"];function ne(e){var t,n,r,i,a=void 0===e?g:e,o=a.options,u=void 0===o?g:o,c=a.plugins,l=void 0===c?v:c,d=new s(u),f=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,d){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),h=function(e,r,a){return 0===r&&-1!==te.indexOf(a[n.length])||a.match(i)?e:"."+t};function m(e,a,o,s){void 0===s&&(s="&");var u=e.replace(ee,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),d(o||!a?"":a,c)}return d.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,h))},p,function(e){if(-2===e){var t=f;return f=[],t}}])),m.hash=l.length?l.reduce((function(e,t){return t.name||C(15),Y(e,t.name)}),5381).toString():"",m}var re=i.createContext(),ie=re.Consumer,ae=i.createContext(),oe=(ae.Consumer,new z),se=ne();function ue(){return(0,i.useContext)(re)||oe}function ce(){return(0,i.useContext)(ae)||se}function le(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=ue(),s=(0,i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,i.useMemo)((function(){return ne({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){o()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(re.Provider,{value:s},i.createElement(ae.Provider,{value:u},e.children))}var de=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=se);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return C(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=se),this.name+e.hash},e}(),fe=/([A-Z])/,pe=/([A-Z])/g,he=/^ms-/,me=function(e){return"-"+e.toLowerCase()};function ve(e){return fe.test(e)?e.replace(pe,me).replace(he,"-ms-"):e}var ge=function(e){return null==e||!1===e||""===e};function ye(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=ye(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return ge(e)?"":w(e)?"."+e.styledComponentId:y(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:ye(e(t),t,n,r):e instanceof de?n?(e.inject(n,r),e.getName(r)):e:m(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!ge(t[o])&&(Array.isArray(t[o])&&t[o].isCss||y(t[o])?a.push(ve(o)+":",t[o],";"):m(t[o])?a.push.apply(a,e(t[o],o)):a.push(ve(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in u?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var c}var be=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function we(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e)||m(e)?be(ye(h(v,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:be(ye(h(e,n)))}new Set;var ke=function(e,t,n){return void 0===n&&(n=g),e.theme!==n.theme&&e.theme||t||n.theme},xe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_e=/(^-|-$)/g;function Se(e){return e.replace(xe,"-").replace(_e,"")}var Ee=function(e){return K(X(e)>>>0)};function Ce(e){return"string"==typeof e&&!0}var Te=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ae=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Oe(e,t,n){var r=e[n];Te(t)&&Te(r)?Re(r,t):e[n]=t}function Re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Te(o))for(var s in o)Ae(s)&&Oe(e,o[s],s)}return e}var Ie=i.createContext(),Ne=Ie.Consumer;function Pe(e){var t=(0,i.useContext)(Ie),n=(0,i.useMemo)((function(){return function(e,t){return e?y(e)?e(t):Array.isArray(e)||"object"!=typeof e?C(8):t?p({},t,{},e):e:C(14)}(e.theme,t)}),[e.theme,t]);return e.children?i.createElement(Ie.Provider,{value:n},e.children):null}var Me={};function Le(e,t,n){var r=w(e),a=!Ce(e),o=t.attrs,s=void 0===o?v:o,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Se(e);Me[n]=(Me[n]||0)+1;var r=n+"-"+Ee("5.3.5"+n+Me[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,d=t.displayName,h=void 0===d?function(e){return Ce(e)?"styled."+e:"Styled("+b(e)+")"}(e):d,m=t.displayName&&t.componentId?Se(t.displayName)+"-"+t.componentId:t.componentId||c,k=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,x=t.shouldForwardProp;r&&e.shouldForwardProp&&(x=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var _,S=new $(n,m,r?e.componentStyle:void 0),E=S.isStatic&&0===s.length,C=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,d=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=g);var r=p({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in y(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(ke(t,(0,i.useContext)(Ie),s)||g,t,a),m=h[0],v=h[1],b=function(e,t,n,r){var i=ue(),a=ce();return t?e.generateAndInjectStyles(g,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,m),w=n,k=v.$as||t.$as||v.as||t.as||f,x=Ce(k),_=v!==t?p({},t,{},v):t,S={};for(var E in _)"$"!==E[0]&&"as"!==E&&("forwardedAs"===E?S.as=_[E]:(c?c(E,l,k):!x||l(E))&&(S[E]=_[E]));return t.style&&v.style!==t.style&&(S.style=p({},t.style,{},v.style)),S.className=Array.prototype.concat(u,d,b!==d?b:null,t.className,v.className).filter(Boolean).join(" "),S.ref=w,(0,i.createElement)(k,S)}(_,e,t,E)};return C.displayName=h,(_=i.forwardRef(C)).attrs=k,_.componentStyle=S,_.displayName=h,_.shouldForwardProp=x,_.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):v,_.styledComponentId=m,_.target=r?e.target:e,_.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Ce(e)?e:Se(b(e)));return Le(e,p({},i,{attrs:k,componentId:a}),n)},Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Re({},e.defaultProps,t):t}}),_.toString=function(){return"."+_.styledComponentId},a&&f()(_,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),_}var De=function(e){return function e(t,n,i){if(void 0===i&&(i=g),!(0,r.isValidElementType)(n))return C(1,String(n));var a=function(){return t(n,i,we.apply(void 0,arguments))};return a.withConfig=function(r){return e(t,n,p({},i,{},r))},a.attrs=function(r){return e(t,n,p({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},a}(Le,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){De[e]=De(e)}));var Fe=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Q(e),z.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(ye(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&z.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=we.apply(void 0,[e].concat(n)),o="sc-global-"+Ee(JSON.stringify(a)),s=new Fe(a,o);function u(e){var t=ue(),n=ce(),r=(0,i.useContext)(Ie),a=(0,i.useRef)(t.allocateGSInstance(o)).current;return t.server&&c(a,e,t,r,n),(0,i.useLayoutEffect)((function(){if(!t.server)return c(a,e,t,r,n),function(){return s.removeStyles(a,t)}}),[a,e,t,r,n]),null}function c(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,E,n,i);else{var a=p({},t,{theme:ke(t,r,u.defaultProps)});s.renderStyles(e,a,n,i)}}return i.memo(u)}function je(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=we.apply(void 0,[e].concat(n)).join(""),a=Ee(i);return new de(a,i)}var Ze=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=B();return"<style "+[n&&'nonce="'+n+'"',k+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?C(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return C(2);var n=((t={})[k]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=B();return r&&(n.nonce=r),[i.createElement("style",p({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new z({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?C(2):i.createElement(le,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return C(3)},e}(),Ve=function(e){var t=i.forwardRef((function(t,n){var r=(0,i.useContext)(Ie),a=e.defaultProps,o=ke(t,r,a);return i.createElement(e,p({},t,{theme:o,ref:n}))}));return f()(t,e),t.displayName="WithTheme("+b(e)+")",t},Ue=function(){return(0,i.useContext)(Ie)},We={StyleSheet:z,masterSheet:oe},He=De},59111:function(e,t){"use strict";t.D=void 0;var n=new WeakMap,r="$$css";function i(e){var t,i,a;return null!=e&&(t=!0===e.disableCache,i=!0===e.disableMix,a=e.transform),function(){for(var e=[],o="",s=null,u=t?null:n,c=new Array(arguments.length),l=0;l<arguments.length;l++)c[l]=arguments[l];for(;c.length>0;){var d=c.pop();if(null!=d&&!1!==d)if(Array.isArray(d))for(var f=0;f<d.length;f++)c.push(d[f]);else{var p=null!=a?a(d):d;if(p.$$css){var h="";if(null!=u&&u.has(p)){var m=u.get(p);null!=m&&(h=m[0],e.push.apply(e,m[1]),u=m[2])}else{var v=[];for(var g in p){var y=p[g];g!==r&&("string"===typeof y?e.includes(g)||(h+=h?" "+y:y,e.push(g),null!=u&&v.push(g)):console.error("styleq: ".concat(g," typeof ").concat(y,' is not "string".')))}if(null!=u){var b=new WeakMap;u.set(p,[h,v,b]),u=b}}h&&(o=o?h+" "+o:h)}else if(i)null==s&&(s={}),s=Object.assign({},p,s);else{var w=null;for(var k in p){var x=p[k];void 0!==x&&(e.includes(k)||(null!=x&&(null==s&&(s={}),null==w&&(w={}),w[k]=x),e.push(k),u=null))}null!=w&&(s=Object.assign(w,s))}}}var _=[o,s];return _}}var a=i();t.D=a,a.factory=i},87549:function(e,t){"use strict";t.j=function(e,t){if(null!=e[r]){var a=t?1:0;if(n.has(e)){var o=n.get(e),s=o[a];return null==s&&(s=i(e,t),o[a]=s,n.set(e,o)),s}var u=i(e,t),c=new Array(2);return c[a]=u,n.set(e,c),u}return e};var n=new WeakMap,r="$$css$localize";function i(e,t){var n={};for(var i in e)if(i!==r){var a=e[i];Array.isArray(a)?n[i]=t?a[1]:a[0]:n[i]=a}return n}},94774:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(65084),n(18116),n(33858),n(87264),n(22583),n(58894),n(44584);var r=n(17156),i=n(56690),a=n(89728),o=n(66115),s=n(61655),u=n(94993),c=n(73808),l=n(38416);n(32463),n(65202),n(67675);var d=n(64687),f=n(18698),p=n(1263),h=n(58868),m=n(33496);n(4778),n(68225),n(89104),n(59147);var v=n(62895);n(49258),n(4772),n(85625);var g=n(27424);n(18887),n(45742),n(81740),n(83265),n(20447),n(86245);var y=n(8645);n(54178);var b=n(24610),w=n(41588);n(30974);var k=n(53912);function x(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var S=x(r),E=x(i),C=x(a),T=x(o),A=x(s),O=x(u),R=x(c),I=x(l),N=x(d),P=x(f),M=x(m),L=_(v),D=x(g),F=_(b),B=x(w),j=_(k);function Z(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":P.default(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function V(e,t){if("object"===("undefined"===typeof Reflect?"undefined":P.default(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function U(){}function W(){W.init.call(this)}function H(e){return void 0===e._maxListeners?W.defaultMaxListeners:e._maxListeners}function z(e,t,n){if(t)e.call(n);else for(var r=e.length,i=$(e,r),a=0;a<r;++a)i[a].call(n)}function G(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=$(e,i),o=0;o<i;++o)a[o].call(n,r)}function q(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=$(e,a),s=0;s<a;++s)o[s].call(n,r,i)}function K(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=$(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}function Y(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=$(e,i),o=0;o<i;++o)a[o].apply(n,r)}function X(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new U,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=H(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function Q(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function J(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function $(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}U.prototype=Object.create(null),W.EventEmitter=W,W.usingDomains=!1,W.prototype.domain=void 0,W.prototype._events=void 0,W.prototype._maxListeners=void 0,W.defaultMaxListeners=10,W.init=function(){this.domain=null,W.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new U,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},W.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},W.prototype.getMaxListeners=function(){return H(this)},W.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:z(n,l,this);break;case 2:G(n,l,this,arguments[1]);break;case 3:q(n,l,this,arguments[1],arguments[2]);break;case 4:K(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];Y(n,l,this,i)}return!0},W.prototype.addListener=function(e,t){return X(this,e,t,!1)},W.prototype.on=W.prototype.addListener,W.prototype.prependListener=function(e,t){return X(this,e,t,!0)},W.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,Q(this,e,t)),this},W.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,Q(this,e,t)),this},W.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new U:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new U,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},W.prototype.off=function(e,t){return this.removeListener(e,t)},W.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new U,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new U:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new U,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},W.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},W.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):J.call(e,t)},W.prototype.listenerCount=J,W.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var ee=function(){function e(t){E.default(this,e),this.base=t,this.args=new Array,this.paths=new Array}return C.default(e,[{key:"pathSegment",value:function(e){return this.paths.push(encodeURIComponent(e)),this}},{key:"queryParam",value:function(e,t){return"undefined"!==typeof t&&this.args.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),this}},{key:"build",value:function(){var e=this.base;return this.paths.length&&(e+="/"+this.paths.join("/")),this.args.length&&(e+="?"+this.args.join("&")),e}}]),e}();function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var ne=function(e){A.default(n,e);var t=te(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return E.default(this,n),(r=t.call(this)).name=r.constructor.name,r.message="".concat(e," (status: ").concat(i,", code: ").concat(a,")"),r.status=i,r.code=a,r}return n}(M.default(Error)),re=function(e){A.default(n,e);var t=te(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0;return E.default(this,n),(r=t.call(this,e,i,a)).body=o,r}return n}(ne);function ie(e){return JSON.parse(JSON.stringify(e))}function ae(e){if(!(void 0===e||oe(e)))throw new ne("Invalid pageSize parameter. Expected a positive integer, was '".concat(e,"'."),400,20007)}function oe(e){return function(e){return!isNaN(parseInt(e))&&isFinite(e)}(e)&&e>0}var se=L.getLogger("twilio-sync");function ue(e,t){return["".concat((new Date).toISOString()," Sync ").concat(e,":")].concat(Array.from(t))}var ce=function(e){se.setLevel(e)},le=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];se.trace.apply(null,ue("T",t))},de=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];se.debug.apply(null,ue("D",t))},fe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];se.warn.apply(null,ue("W",t))},pe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];se.error.apply(null,ue("E",t))},he="/v4/Subscriptions",me="/v3/Maps",ve="/v3/Lists",ge="/v3/Documents",ye="/v3/Streams",be="/v3/Insights";function we(e,t,n){return e&&"undefined"!==typeof e[t]?e[t]:n}var ke=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E.default(this,e);var n=t.region||"us1",r="https://cds.".concat(n,".twilio.com"),i=t.cdsUri||r;this.settings={subscriptionsUri:i+he,documentsUri:i+ge,listsUri:i+ve,mapsUri:i+me,streamsUri:i+ye,insightsUri:i+be,sessionStorageEnabled:we(t.Sync,"enableSessionStorage",!0),productId:t.productId}}return C.default(e,[{key:"subscriptionsUri",get:function(){return this.settings.subscriptionsUri}},{key:"documentsUri",get:function(){return this.settings.documentsUri}},{key:"listsUri",get:function(){return this.settings.listsUri}},{key:"mapsUri",get:function(){return this.settings.mapsUri}},{key:"streamsUri",get:function(){return this.settings.streamsUri}},{key:"insightsUri",get:function(){return this.settings.insightsUri}},{key:"backoffConfig",get:function(){return this.settings.backoffConfig||{}}},{key:"sessionStorageEnabled",get:function(){return this.settings.sessionStorageEnabled}},{key:"productId",get:function(){return this.settings.productId}}]),e}();function xe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se=function(){function e(t){E.default(this,e),this.localObject=t,this.pendingCorrelationId=null,this.pendingAction=null,this.established=!1,this.retryCount=0}return C.default(e,[{key:"sid",get:function(){return this.localObject.sid}},{key:"type",get:function(){return this.localObject.type}},{key:"lastEventId",get:function(){return this.localObject.lastEventId}},{key:"indexName",get:function(){return this.localObject.indexName}},{key:"queryString",get:function(){return this.localObject.queryString}},{key:"isEstablished",get:function(){return this.established}},{key:"update",value:function(e,t){this.localObject._update(e,t)}},{key:"updatePending",value:function(e,t){this.pendingAction=e,this.pendingCorrelationId=t}},{key:"reset",value:function(){this.updatePending(null,null),this.retryCount=0,this.established=!1,this.setSubscriptionState("none")}},{key:"markAsFailed",value:function(e){this.rejectedWithError=e.error,this.updatePending(null,null),this.localObject.reportFailure(new ne("Failed to subscribe on service events: ".concat(e.error.message),e.error.status,e.error.code))}},{key:"complete",value:function(e){this.updatePending(null,null),this.established=!0,this.localObject._advanceLastEventId(e)}},{key:"setSubscriptionState",value:function(e){this.localObject._setSubscriptionState(e)}}]),e}(),Ee=function(){function e(t){var n=this;E.default(this,e),I.default(this,"isConnected",!1),I.default(this,"maxBatchSize",100),I.default(this,"subscriptionTtlTimer",null),I.default(this,"pendingPokeReason",null),this.services=t,this.subscriptions=new Map,this.persisted=new Map,this.latestPokeResponseArrivalTimestampByCorrelationId=new Map;this.backoff=y.Backoff.exponential(Object.assign({randomisationFactor:.2,initialDelay:100,maxDelay:12e4},this.services.config.backoffConfig)),this.backoff.on("ready",(function(){var e=n.getSubscriptionUpdateBatch(),t=e.action,r=e.subscriptions;t?n.applyNewSubscriptionUpdateBatch(t,r):(n.backoff.reset(),de("All subscriptions resolved."))}))}return C.default(e,[{key:"getSubscriptionUpdateBatch",value:function(){function e(e,t,n,r){var i,a=[],o=xe(e);try{for(o.s();!(i=o.n()).done;){var s=D.default(i.value,2),u=s[0],c=s[1];if(!t.get(u)&&n!==c.pendingAction&&!c.rejectedWithError&&(a.push(c),r&&a.length>=r))break}}catch(l){o.e(l)}finally{o.f()}return a}var t=e(this.subscriptions,this.persisted,"establish",this.maxBatchSize);if(t.length>0)return{action:"establish",subscriptions:t};var n=e(this.persisted,this.subscriptions,"cancel",this.maxBatchSize);return n.length>0?{action:"cancel",subscriptions:n}:{action:null,subscriptions:null}}},{key:"persist",value:function(){this.backoff.backoff()}},{key:"applyNewSubscriptionUpdateBatch",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a,o,s,u,c,l,d,f,p,m,v,g,y=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isConnected){e.next=4;break}return de("Twilsock connection (required for subscription) not ready; waiting\u2026"),this.backoff.reset(),e.abrupt("return");case 4:n=this.processLocalActions(t,n),r=(new Date).getTime(),i=xe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,this.recordActionAttemptOn(o,t,r)}catch(b){i.e(b)}finally{i.f()}return s=this.pendingPokeReason,this.pendingPokeReason=null,e.prev=10,e.next=13,this.request(t,r,s,n);case 13:u=e.sent,c=u.body.max_batch_size,!isNaN(parseInt(c))&&isFinite(c)&&c>0&&(this.maxBatchSize=c),this.subscriptionTtlTimer||(l=u.body.ttl_in_s,d=!isNaN(parseFloat(l))&&isFinite(l),d&&l>0&&(this.subscriptionTtlTimer=setTimeout((function(){return y.onSubscriptionTtlElapsed()}),1e3*l))),"establish"===t&&(f=u.body.estimated_delivery_in_ms,p=!isNaN(parseFloat(f))&&isFinite(f),p&&f>0?setTimeout((function(){return y.verifyPokeDelivery(r,f,n)}),f):pe("Invalid timeout: ".concat(f)),n.filter((function(e){return e.pendingCorrelationId===r})).forEach((function(e){return e.setSubscriptionState("response_in_flight")}))),this.backoff.reset(),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(10),m=xe(n);try{for(m.s();!(v=m.n()).done;)g=v.value,this.recordActionFailureOn(g,t)}catch(b){m.e(b)}finally{m.f()}e.t0 instanceof h.TransportUnavailableError?(de("Twilsock connection (required for subscription) not ready (c:".concat(r,"); waiting\u2026")),this.backoff.reset()):(de("Failed an attempt to ".concat(t," subscriptions (c:").concat(r,"); retrying"),e.t0),this.persist());case 26:case"end":return e.stop()}}),e,this,[[10,21]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"verifyPokeDelivery",value:function(e,t,n){var r=this,i=this.latestPokeResponseArrivalTimestampByCorrelationId.get(e),a=i?(new Date).getTime()-i:t;a>=t?(n.filter((function(t){return t.pendingCorrelationId===e})).forEach((function(e){e.updatePending(null,null),e.retryCount++,r.persisted.delete(e.sid)})),this.persist(),this.latestPokeResponseArrivalTimestampByCorrelationId.delete(e)):setTimeout((function(){return r.verifyPokeDelivery(e,t,n)}),t-a)}},{key:"processLocalActions",value:function(e,t){return"cancel"===e?t.filter((function(e){return!e.rejectedWithError})):t}},{key:"recordActionAttemptOn",value:function(e,t,n){if(e.setSubscriptionState("request_in_flight"),"establish"===t)this.persisted.set(e.sid,e),e.updatePending(t,n);else{var r=this.persisted.get(e.sid);r&&r.updatePending(t,n)}}},{key:"recordActionFailureOn",value:function(e,t){e.setSubscriptionState("none"),e.updatePending(null,null),"establish"===t&&this.persisted.delete(e.sid)}},{key:"request",value:function(e,t,n,r){var i=r.map((function(t){return{object_sid:t.sid,object_type:t.type,last_event_id:"establish"===e?t.lastEventId:void 0,index_name:"establish"===e?t.indexName:void 0,query_string:"establish"===e?t.queryString:void 0}})),a=r.filter((function(e){return e.retryCount>0})).length;de("Attempting '".concat(e,"' request (c:").concat(t,"):"),i);var o={event_protocol_version:4,action:e,correlation_id:t,retried_requests:a,ttl_in_s:-1,requests:i};return"ttl"===n&&(o.reason=n),this.services.network.post(this.services.config.subscriptionsUri,o)}},{key:"add",value:function(e,t){de("Establishing intent to subscribe to ".concat(e));var n=this.subscriptions.get(e);n&&t&&n.lastEventId===t.lastEventId||(this.persisted.delete(e),this.subscriptions.set(e,new Se(t)),this.persist())}},{key:"remove",value:function(e){de("Establishing intent to unsubscribe from ".concat(e)),this.subscriptions.delete(e)&&this.persist()}},{key:"acceptMessage",value:function(e,t){le("Subscriptions received",e);var n=e.event_type,r="undefined"!==typeof e.events?e.events:[e.event],i=e.correlation_id;i&&this.latestPokeResponseArrivalTimestampByCorrelationId.set(i,(new Date).getTime());var a,o=xe(r);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=void 0;switch(e.event_type){case"subscription_established":this.applySubscriptionEstablishedMessage(s,i);break;case"subscription_canceled":this.applySubscriptionCancelledMessage(s,i);break;case"subscription_failed":this.applySubscriptionFailedMessage(s,i);break;case(u=n.match(/^(?:map|list|document|stream|live_query)_/)||{}).input:var c=void 0;switch(u[0]){case"map_":c=s.map_sid;break;case"list_":c=s.list_sid;break;case"document_":c=s.document_sid;break;case"stream_":c=s.stream_sid;break;case"live_query_":c=s.query_id,t=!1,!0===e.strictly_ordered&&(t=!0);break;default:c=void 0}this.applyEventToSubscribedEntity(c,s,n,t);break;default:de("Dropping unknown message type ".concat(n))}}}catch(l){o.e(l)}finally{o.f()}}},{key:"applySubscriptionEstablishedMessage",value:function(e,t){var n=e.object_sid,r=this.persisted.get(e.object_sid);r&&r.pendingCorrelationId===t?"interrupted"===e.replay_status?(de("Event Replay for subscription to ".concat(n," (c:").concat(t,") interrupted; continuing eagerly.")),r.updatePending(null,null),this.persisted.delete(r.sid),this.backoff.reset()):"completed"===e.replay_status&&(de("Event Replay for subscription to ".concat(n," (c:").concat(t,") completed. Subscription is ready.")),r.complete(e.last_event_id),this.persisted.set(e.object_sid,r),r.setSubscriptionState("established"),this.backoff.reset()):de("Late message for ".concat(e.object_sid," (c:").concat(t,") dropped.")),this.persist()}},{key:"applySubscriptionCancelledMessage",value:function(e,t){var n=this.persisted.get(e.object_sid);n&&n.pendingCorrelationId===t?(n.updatePending(null,null),n.setSubscriptionState("none"),this.persisted.delete(e.object_sid)):de("Late message for ".concat(e.object_sid," (c:").concat(t,") dropped.")),this.persist()}},{key:"applySubscriptionFailedMessage",value:function(e,t){var n=e.object_sid,r=this.subscriptions.get(n),i=this.persisted.get(n);r&&i?i.pendingCorrelationId===t&&(pe("Failed to subscribe on ".concat(i.sid),e.error),i.markAsFailed(e),i.setSubscriptionState("none")):!r&&i&&(this.persisted.delete(n),i.setSubscriptionState("none")),this.persist()}},{key:"applyEventToSubscribedEntity",value:function(e,t,n,r){var i=this;if(e){r=r||function(){var t=i.persisted.get(e);return t&&t.isEstablished}();var a=this.subscriptions.get(e);a?(t.type=n,a.update(t,r)):de("Message dropped for SID '".concat(e,"', for which there is no subscription."))}}},{key:"onConnectionStateChanged",value:function(e){this.isConnected=e,e&&this.poke("reconnect")}},{key:"onSubscriptionTtlElapsed",value:function(){this.isConnected&&this.poke("ttl")}},{key:"poke",value:function(e){de("Triggering event replay for all subscriptions, reason=".concat(e)),this.pendingPokeReason=e,this.subscriptionTtlTimer&&(clearTimeout(this.subscriptionTtlTimer),this.subscriptionTtlTimer=null);var t,n=[],r=xe(this.persisted.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.reset(),i.rejectedWithError&&n.push(i)}}catch(u){r.e(u)}finally{r.f()}this.persisted.clear();for(var a=0,o=n;a<o.length;a++){var s=o[a];this.persisted.set(s.sid,s)}this.persist()}},{key:"shutdown",value:function(){this.backoff.reset(),this.subscriptions.clear()}}]),e}();function Ce(e){if(e.body&&e.body.message)return e.body.message;switch(e.status){case 429:return"Throttled by server";case 404:return"Not found from server";default:return"Error from server"}}function Te(e){return e.body?e.body.code:0}function Ae(e){return 409===e.status?new re(Ce(e),e.status,Te(e),e.body):e.status?new ne(Ce(e),e.status,Te(e)):e instanceof h.TransportUnavailableError?e:new ne(e.message,0,0)}var Oe=function(){function e(t,n,r){E.default(this,e),this.clientInfo=t,this.config=n,this.transport=r}return C.default(e,[{key:"createHeaders",value:function(){return{"Content-Type":"application/json","Twilio-Sync-Client-Info":JSON.stringify(this.clientInfo),"Twilio-Request-Id":"RQ"+F.v4().replace(/-/g,"")}}},{key:"backoffConfig",value:function(){return Object.assign({min:4e3,max:6e4,maxAttemptsTime:9e4,randomness:.2},this.config.backoffConfig)}},{key:"executeWithRetry",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(r,i){var a=[502,503,504];n&&a.push(429);var o=new y.Retrier(t.backoffConfig());o.on("attempt",(function(){e().then((function(e){return o.succeeded(e)})).catch((function(e){if(a.includes(e.status)){var t=parseInt(e.headers?e.headers["Retry-After"]:null);o.failed(Ae(e),isNaN(t)?null:1e3*t)}else"Twilsock disconnected"===e.message?o.failed(Ae(e)):(o.removeAllListeners(),o.cancel(),i(Ae(e)))}))})),o.on("succeeded",(function(e){r(e)})),o.on("cancelled",(function(e){return i(Ae(e))})),o.on("failed",(function(e){return i(Ae(e))})),o.start()}))}},{key:"get",value:function(e){var t=this,n=this.createHeaders();return de("GET",e,"ID:",n["Twilio-Request-Id"]),this.executeWithRetry((function(){return t.transport.get(e,n,t.config.productId)}),!0)}},{key:"post",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.createHeaders();return"undefined"!==typeof n&&null!==n&&(a["If-Match"]=n),de("POST",e,"ID:",a["Twilio-Request-Id"]),this.executeWithRetry((function(){return r.transport.post(e,a,t,r.config.productId)}),i)}},{key:"put",value:function(e,t,n){var r=this,i=this.createHeaders();return"undefined"!==typeof n&&null!==n&&(i["If-Match"]=n),de("PUT",e,"ID:",i["Twilio-Request-Id"]),this.executeWithRetry((function(){return r.transport.put(e,i,t,r.config.productId)}),!1)}},{key:"delete",value:function(e){var t=this,n=this.createHeaders();return de("DELETE",e,"ID:",n["Twilio-Request-Id"]),this.executeWithRetry((function(){return t.transport.delete(e,n,t.config.productId)}),!1)}}]),e}(),Re=function(){function e(t,n){E.default(this,e),this.config=t,this.storageId=null;try{this.storage=n||sessionStorage}catch(r){}}return C.default(e,[{key:"storageKey",value:function(e,t){return"".concat(this.storageId,"::").concat(e,"::").concat(t)}},{key:"isReady",get:function(){return this.config.sessionStorageEnabled&&!!this.storageId}},{key:"updateStorageId",value:function(e){this.storageId=e}},{key:"store",value:function(e,t,n){return this.isReady?this._store(this.storageKey(e,t),n):null}},{key:"read",value:function(e,t){return this.isReady?this._read(this.storageKey(e,t)):null}},{key:"remove",value:function(e,t,n){if(!this.isReady)return null;try{this.storage.removeItem(this.storageKey(e,t)),n&&this.storage.removeItem(this.storageKey(e,n))}catch(r){}}},{key:"update",value:function(e,t,n,r){if(!this.isReady)return null;this._apply(this.storageKey(e,t),r),n&&this._apply(this.storageKey(e,n),r)}},{key:"_store",value:function(e,t){try{this.storage.setItem(e,JSON.stringify(t))}catch(n){}}},{key:"_read",value:function(e){try{var t=this.storage.getItem(e);if(t)return JSON.parse(t)}catch(n){}return null}},{key:"_apply",value:function(e,t){var n=this._read(e);if(!n)return!1;this._store(e,Object.assign(n,t))}}]),e}();function Ie(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pe=function(){function e(t,n){E.default(this,e),this.services=t,this.removalHandler=n,this.subscriptionState="none",this._attachedListeners=new Map}return C.default(e,[{key:"_advanceLastEventId",value:function(e,t){}},{key:"reportFailure",value:function(e){404===e.status?this.onRemoved(!1):this.broadcastEventToListeners("failure",e)}},{key:"_subscribe",value:function(){this.services.router._subscribe(this.sid,this)}},{key:"_unsubscribe",value:function(){this.services.router._unsubscribe(this.sid)}},{key:"_setSubscriptionState",value:function(e){this.subscriptionState=e,this.broadcastEventToListeners("_subscriptionStateChanged",e)}},{key:"close",value:function(){this._unsubscribe(),null!=this.removalHandler&&this.removalHandler(this.type,this.sid,this.uniqueName)}},{key:"attach",value:function(e){var t=e.listenerUuid;this._attachedListeners.get(t)||(this._attachedListeners.size||this._subscribe(),this._attachedListeners.set(t,e))}},{key:"detach",value:function(e){this._attachedListeners.delete(e),this._attachedListeners.size||this.close()}},{key:"broadcastEventToListeners",value:function(e,t){var n,r=Ie(this._attachedListeners.values());try{for(r.s();!(n=r.n()).done;){n.value.emit(e,t)}}catch(i){r.e(i)}finally{r.f()}}}]),e}(),Me=function(){function e(t){E.default(this,e),I.default(this,"queuedRequests",[]),I.default(this,"isRequestInFlight",!1),this.inputMergingFunction=t}return C.default(e,[{key:"add",value:function(e,t){var n=this,r=new Promise((function(r,i){return n.queuedRequests.push({input:e,requestFunction:t,resolve:r,reject:i})}));return this.wakeupQueue(),r}},{key:"squashAndAdd",value:function(e,t){var n,r=this.queuedRequests;this.queuedRequests=[],r.length>0?(n=r.map((function(e){return e.input})).reduce(this.inputMergingFunction),n=this.inputMergingFunction(n,e)):n=e;var i=this.add(n,t);return r.forEach((function(e){return i.then(e.resolve,e.reject)})),i}},{key:"isEmpty",value:function(){return 0===this.queuedRequests.length&&!this.isRequestInFlight}},{key:"wakeupQueue",value:function(){var e=this;if(0!==this.queuedRequests.length&&!this.isRequestInFlight){var t=this.queuedRequests.shift();this.isRequestInFlight=!0,t.requestFunction(t.input).then(t.resolve,t.reject).then((function(t){e.isRequestInFlight=!1,e.wakeupQueue()}))}}}]),e}(),Le=function(){function e(t){E.default(this,e),I.default(this,"queueByNamespaceKey",new Map),this.inputReducer=t}return C.default(e,[{key:"add",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.invokeQueueMethod(t,(function(e){return e.add(n,r)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"squashAndAdd",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.invokeQueueMethod(t,(function(e){return e.squashAndAdd(n,r)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"invokeQueueMethod",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.queueByNamespaceKey.has(t)||this.queueByNamespaceKey.set(t,new Me(this.inputReducer)),r=this.queueByNamespaceKey.get(t),i=n(r),this.queueByNamespaceKey.get(t).isEmpty()&&this.queueByNamespaceKey.delete(t),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function De(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var Fe=function(e){A.default(n,e);var t=De(n);function n(){var e;return E.default(this,n),(e=t.call(this)).closed=!1,e.uuid=b.v4(),e}return C.default(n,[{key:"listenerUuid",get:function(){return this.uuid}},{key:"close",value:function(){this.removeAllListeners(),this.closed=!0}},{key:"ensureNotClosed",value:function(){if(this.closed)throw new Error("Invalid operation on closed object")}}]),n}(W);function Be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var je=function(e){A.default(n,e);var t=Be(n);function n(e,r,i){var a;E.default(this,n),a=t.call(this,e,i),I.default(T.default(a),"isDeleted",!1);return a.updateMergingQueue=new Me((function(e,t){return"number"===typeof t.ttl?{ttl:t.ttl}:e})),a.descriptor=r,a.descriptor.data=a.descriptor.data||{},a.descriptor.date_updated=new Date(a.descriptor.date_updated),a}return C.default(n,[{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"document"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"data",get:function(){return this.descriptor.data}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"_update",value:function(e){switch(e.date_created=new Date(e.date_created),e.type){case"document_updated":if(e.id<=this.lastEventId){le("Document update skipped, current:",this.lastEventId,", remote:",e.id);break}var t=void 0!==this.descriptor.data?ie(this.descriptor.data):null;this.descriptor.last_event_id=e.id,this.descriptor.revision=e.document_revision,this.descriptor.date_updated=e.date_created,this.descriptor.data=e.document_data,this.broadcastEventToListeners("updated",{data:e.document_data,isLocal:!1,previousData:t}),this.services.storage.update(this.type,this.sid,this.uniqueName,{last_event_id:e.id,revision:e.document_revision,date_updated:e.date_created,data:e.document_data});break;case"document_removed":this.onRemoved(!1)}}},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||{},e.abrupt("return",this.updateMergingQueue.squashAndAdd(r,(function(e){return i._setUnconditionally(t,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||{},e.abrupt("return",this.updateMergingQueue.add(r,(function(e){return i._setWithIfMatch(t,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate((function(e){return Object.assign(e,t)}),n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){var n;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._postUpdateToServer({ttl:t});case 2:n=e.sent,this.descriptor.date_expires=n.date_expires;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setUnconditionally",value:function(){var e=S.default(N.default.mark((function e(t,n){var r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._postUpdateToServer({data:t,revision:void 0,ttl:n});case 2:return r=e.sent,this._handleSuccessfulUpdateResult(r),e.abrupt("return",this.descriptor.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_setWithIfMatch",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t(ie(this.descriptor.data)))){e.next=22;break}return i=this.revision,e.prev=3,e.next=6,this._postUpdateToServer({data:r,revision:i,ttl:n});case 6:return a=e.sent,this._handleSuccessfulUpdateResult(a),e.abrupt("return",this.descriptor.data);case 11:if(e.prev=11,e.t0=e.catch(3),412!==e.t0.status){e.next=19;break}return e.next=16,this._softSync();case 16:return e.abrupt("return",this._setWithIfMatch(t));case 19:throw e.t0;case 20:e.next=23;break;case 22:return e.abrupt("return",this.descriptor.data);case 23:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_handleSuccessfulUpdateResult",value:function(e){if(!(e.last_event_id<=this.descriptor.last_event_id)){var t=void 0!==this.descriptor.data?ie(this.descriptor.data):null;this.descriptor.revision=e.revision,this.descriptor.data=e.data,this.descriptor.last_event_id=e.last_event_id,this.descriptor.date_expires=e.date_expires,this.descriptor.date_updated=new Date(e.date_updated),this.services.storage.update(this.type,this.sid,this.uniqueName,{last_event_id:e.last_event_id,revision:e.revision,date_updated:e.date_updated,data:e.data}),this.broadcastEventToListeners("updated",{data:this.descriptor.data,isLocal:!0,previousData:t})}}},{key:"_postUpdateToServer",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDeleted){e.next=17;break}return n={data:t.data},void 0!==t.ttl&&(n.ttl=t.ttl),r=t.revision,e.prev=4,e.next=7,this.services.network.post(this.uri,n,r);case 7:return i=e.sent,e.abrupt("return",{revision:i.body.revision,data:t.data,last_event_id:i.body.last_event_id,date_updated:i.body.date_updated,date_expires:i.body.date_expires});case 11:throw e.prev=11,e.t0=e.catch(4),404===e.t0.status&&this.onRemoved(!1),e.t0;case 15:e.next=18;break;case 17:return e.abrupt("return",Promise.reject(new ne("The Document has been removed",404,54100)));case 18:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_softSync",value:function(){var e=S.default(N.default.mark((function e(){var t=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.network.get(this.uri).then((function(e){var n={type:"document_updated",id:e.body.last_event_id,document_revision:e.body.revision,document_data:e.body.data,date_created:e.body.date_updated};return t._update(n),t})).catch((function(e){404===e.status?t.onRemoved(!1):pe("Can't get updates for ".concat(t.sid,":"),e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRemoved",value:function(e){if(!this.isDeleted){var t=void 0!==this.descriptor.data?ie(this.descriptor.data):null;this.isDeleted=!0,this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e,previousData:t})}}},{key:"removeDocument",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDeleted){e.next=6;break}return e.next=3,this.services.network.delete(this.uri);case 3:this.onRemoved(!0),e.next=7;break;case 6:return e.abrupt("return",Promise.reject(new ne("The Document has been removed",404,54100)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"type",get:function(){return"document"}}]),n}(Pe),Ze=function(e){A.default(n,e);var t=Be(n);function n(e){var r;return E.default(this,n),(r=t.call(this)).syncDocumentImpl=e,r.syncDocumentImpl.attach(T.default(r)),r}return C.default(n,[{key:"uri",get:function(){return this.syncDocumentImpl.uri}},{key:"revision",get:function(){return this.syncDocumentImpl.revision}},{key:"lastEventId",get:function(){return this.syncDocumentImpl.lastEventId}},{key:"dateExpires",get:function(){return this.syncDocumentImpl.dateExpires}},{key:"type",get:function(){return je.type}},{key:"sid",get:function(){return this.syncDocumentImpl.sid}},{key:"data",get:function(){return this.syncDocumentImpl.data}},{key:"dateUpdated",get:function(){return this.syncDocumentImpl.dateUpdated}},{key:"uniqueName",get:function(){return this.syncDocumentImpl.uniqueName}},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.set(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.mutate(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.update(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.setTtl(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeDocument",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.removeDocument());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){B.default(R.default(n.prototype),"close",this).call(this),this.syncDocumentImpl.detach(this.listenerUuid)}}],[{key:"type",get:function(){return je.type}}]),n}(Fe);I.default(Ze,"removed","removed"),I.default(Ze,"updated","updated"),Z([p.validateTypesAsync(p.pureObject,["undefined",p.objectSchema("document metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),V("design:type",Function),V("design:paramtypes",[Object,Object]),V("design:returntype",Promise)],Ze.prototype,"set",null),Z([p.validateTypesAsync("function",["undefined",p.objectSchema("document metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),V("design:type",Function),V("design:paramtypes",[Function,Object]),V("design:returntype",Promise)],Ze.prototype,"mutate",null),Z([p.validateTypesAsync(p.pureObject,["undefined",p.objectSchema("document metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),V("design:type",Function),V("design:paramtypes",[Object,Object]),V("design:returntype",Promise)],Ze.prototype,"update",null),Z([p.validateTypesAsync(p.nonNegativeInteger),V("design:type",Function),V("design:paramtypes",[Number]),V("design:returntype",Promise)],Ze.prototype,"setTtl",null);var Ve=function(){function e(t){E.default(this,e),this.descriptor=t}return C.default(e,[{key:"uri",get:function(){return this.descriptor.uri}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.lastEventId}},{key:"dateUpdated",get:function(){return this.descriptor.dateUpdated}},{key:"dateExpires",get:function(){return this.descriptor.dateExpires}},{key:"index",get:function(){return this.descriptor.index}},{key:"data",get:function(){return this.descriptor.data}},{key:"update",value:function(e,t,n,r){return this.descriptor.lastEventId=e,this.descriptor.revision=t,this.descriptor.data=n,this.descriptor.dateUpdated=r,this}},{key:"updateDateExpires",value:function(e){this.descriptor.dateExpires=e}}]),e}(),Ue=function(){function e(t,n,r,i){E.default(this,e),this.prevToken=r,this.nextToken=i,this.items=t,this.source=n}return C.default(e,[{key:"hasNextPage",get:function(){return!!this.nextToken}},{key:"hasPrevPage",get:function(){return!!this.prevToken}},{key:"nextPage",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasNextPage){e.next=2;break}throw new Error("No next page");case 2:return e.abrupt("return",this.source(this.nextToken));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"prevPage",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasPrevPage){e.next=2;break}throw new Error("No previous page");case 2:return e.abrupt("return",this.source(this.prevToken));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function We(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ze=function(){function e(t,n){E.default(this,e),this.balanceFactor=0,this.key=t,this.value=n,this.parent=null,this.left=null,this.right=null}return C.default(e,[{key:"isRoot",get:function(){return null===this.parent}},{key:"isLeaf",get:function(){return null===this.left&&null===this.right}},{key:"isLeftChild",get:function(){return this.parent.left===this}},{key:"update",value:function(e){this.value=e}},{key:"replace",value:function(e,t){e&&(this.left===t?this.left=t:this.right===t&&(this.right=t))}}]),e}(),Ge=function(){function e(t,n){E.default(this,e),this.isLessThan=t||function(e,t){return e<t},this.isEqual=n||function(e,t){return e===t},this.root=null,this.count=null}return C.default(e,[{key:"size",get:function(){return this.count}},{key:"clear",value:function(){this.root=null,this.count=0}},{key:"set",value:function(e,t){var n=this.getNode(e);n?n.update(t):this.insert(e,t)}},{key:"insert",value:function(e,t){var n=new ze(e,t);if(this.count++,this.root){for(var r=this.root;;)if(this.isLessThan(e,r.key)){if(!r.left){r.left=n;break}r=r.left}else{if(!r.right){r.right=n;break}r=r.right}for(n.parent=r,r=n;r.parent;){var i=r.parent,a=i.balanceFactor;if(r.isLeftChild?i.balanceFactor++:i.balanceFactor--,Math.abs(i.balanceFactor)<Math.abs(a))break;if(i.balanceFactor<-1||i.balanceFactor>1){this.rebalance(i);break}r=i}}else this.root=n}},{key:"get",value:function(e){for(var t=this.root;t;){if(this.isEqual(e,t.key))return t.value;t=this.isLessThan(e,t.key)?t.left:t.right}return null}},{key:"delete",value:function(e){var t=this.getNode(e);if(!t||t.key!==e)return null;var n=t.parent,r=t.left,i=t.right;if(!!r!==!!i){var a=r||i;n||a?n&&!a?this.root=a:(n.replace(t,null),this.rebalance(n)):this.root=null}else{for(var o=t.left;o.right;)o=o.right;if(t.left===o)t.isRoot?(this.root=o,o.parent=null):(t.isLeftChild?t.parent.left=o:t.parent.right=o,o.parent=t.parent),o.right=t.right,o.right.parent=o,o.balanceFactor=t.balanceFactor,t={parent:o,isLeftChild:!0};else{var s=o.parent,u=o.left;s.right=u,u&&(u.parent=s),t.isRoot?(this.root=o,o.parent=null):(t.isLeftChild?t.parent.left=o:t.parent.right=o,o.parent=t.parent),o.right=t.right,o.right.parent=o,o.left=t.left,o.left.parent=o,o.balanceFactor=t.balanceFactor,t={parent:s,isLeftChild:!1}}}for(this.count--;t.parent;){var c=t.parent,l=c.balanceFactor;if(t.isLeftChild?c.balanceFactor-=1:c.balanceFactor+=1,Math.abs(c.balanceFactor)>Math.abs(l)){if(!(c.balanceFactor<-1||c.balanceFactor>1))break;if(this.rebalance(c),0!==c.parent.balanceFactor)break;t=c.parent}else t=c}return null}},{key:"getNode",value:function(e){for(var t=this.root;t;){if(this.isEqual(e,t.key))return t;t=this.isLessThan(e,t.key)?t.left:t.right}return null}},{key:"rebalance",value:function(e){e.balanceFactor<0?e.right.balanceFactor>0?(this.rotateRight(e.right),this.rotateLeft(e)):this.rotateLeft(e):e.balanceFactor>0&&(e.left.balanceFactor<0?(this.rotateLeft(e.left),this.rotateRight(e)):this.rotateRight(e))}},{key:"rotateLeft",value:function(e){var t=e.right;e.right=t.left,null!==t.left&&(t.left.parent=e),t.parent=e.parent,null===t.parent?this.root=t:e.isLeftChild?t.parent.left=t:t.parent.right=t,t.left=e,e.parent=t,e.balanceFactor=e.balanceFactor+1-Math.min(t.balanceFactor,0),t.balanceFactor=t.balanceFactor+1-Math.max(e.balanceFactor,0)}},{key:"rotateRight",value:function(e){var t=e.left;e.left=t.right,null!==t.right&&(t.right.parent=e),t.parent=e.parent,null===t.parent?this.root=t:e.isLeftChild?t.parent.left=t:t.parent.right=t,t.right=e,e.parent=t,e.balanceFactor=e.balanceFactor-1-Math.min(t.balanceFactor,0),t.balanceFactor=t.balanceFactor-1-Math.max(e.balanceFactor,0)}},{key:Symbol.iterator,value:N.default.mark((function e(){var t,n,r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=We(this.getIterator()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"getIterator",value:N.default.mark((function e(){var t,n,r,i=arguments;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,n=this.root;case 2:if(!n){e.next=8;break}if(!this.isEqual(t,n.key)&&(null!==t||n.left)){e.next=5;break}return e.abrupt("break",8);case 5:n=this.isLessThan(t,n.key)||null===t?n.left:n.right,e.next=2;break;case 8:if(n){e.next=10;break}return e.abrupt("return",null);case 10:r=!0;case 11:if(!r){e.next=29;break}return e.next=14,[n.key,n.value];case 14:if(r=!1,!n.right){e.next=21;break}for(n=n.right;n.left;)n=n.left;r=!0,e.next=27;break;case 21:if(!n.parent){e.next=26;break}r=n.parent.left===n,n=n.parent,e.next=27;break;case 26:return e.abrupt("break",37);case 27:e.next=35;break;case 29:if(!n.parent){e.next=34;break}r=n.parent.left===n,n=n.parent,e.next=35;break;case 34:return e.abrupt("break",37);case 35:e.next=11;break;case 37:return e.abrupt("return",null);case 38:case"end":return e.stop()}}),e,this)}))},{key:"getReverseIterator",value:N.default.mark((function e(){var t,n,r,i=arguments;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,n=this.root;case 2:if(!n){e.next=8;break}if(!this.isEqual(t,n.key)&&(null!==t||n.right)){e.next=5;break}return e.abrupt("break",8);case 5:n=this.isLessThan(t,n.key)&&null!==t?n.left:n.right,e.next=2;break;case 8:if(n){e.next=10;break}return e.abrupt("return",null);case 10:r=!0;case 11:if(!r){e.next=29;break}return e.next=14,[n.key,n.value];case 14:if(r=!1,!n.left){e.next=21;break}for(n=n.left;n.right;)n=n.right;r=!0,e.next=27;break;case 21:if(!n.parent){e.next=26;break}r=n.parent.right===n,n=n.parent,e.next=27;break;case 26:return e.abrupt("break",37);case 27:e.next=35;break;case 29:if(!n.parent){e.next=34;break}r=n.parent.right===n,n=n.parent,e.next=35;break;case 34:return e.abrupt("break",37);case 35:e.next=11;break;case 37:return e.abrupt("return",null);case 38:case"end":return e.stop()}}),e,this)}))}]),e}();function qe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ye=function(){function e(t,n){E.default(this,e),this.value=t,this.revision=n||0}return C.default(e,[{key:"isValid",get:function(){return!0}}]),e}(),Xe=function(){function e(t){E.default(this,e),this.revision=t}return C.default(e,[{key:"isValid",get:function(){return!1}}]),e}(),Qe=function(){function e(){E.default(this,e),this.items=new Ge}return C.default(e,[{key:"store",value:function(e,t,n){var r=this.items.get(e);return r&&r.revision>n?r.isValid?r.value:null:(this.items.set(e,new Ye(t,n)),t)}},{key:"delete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.items.get(e);(!r||r.revision<t||r&&!0===n)&&this.items.set(e,new Xe(t))}},{key:"isKnown",value:function(e,t){var n=this.items.get(e);return n&&n.revision>=t}},{key:"get",value:function(e){var t=this.items.get(e);return t&&t.isValid?t.value:null}},{key:"has",value:function(e){var t=this.items.get(e);return t&&t.isValid}},{key:"forEach",value:function(e){if(this.items){var t,n=qe(this.items);try{for(n.s();!(t=n.n()).done;){var r=D.default(t.value,2),i=r[0],a=r[1];a.isValid&&e(i,a.value)}}catch(o){n.e(o)}finally{n.f()}}}}]),e}();function Je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var $e=function(e){A.default(n,e);var t=Je(n);function n(e,r,i){var a;E.default(this,n);return(a=t.call(this,e,i)).updateMergingQueue=new Le((function(e,t){return"number"===typeof t.ttl?{ttl:t.ttl}:e})),a.cache=new Qe,a.descriptor=r,a.descriptor.date_updated=new Date(a.descriptor.date_updated),a}return C.default(n,[{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"links",get:function(){return this.descriptor.links}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"list"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"_addOrUpdateItemOnServer",value:function(){var e=S.default(N.default.mark((function e(t,n,r,i){var a,o;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:n},void 0!==i&&(a.ttl=i),e.next=4,this.services.network.post(t,a,r);case 4:return(o=e.sent).body.data=n,o.body.date_updated=new Date(o.body.date_updated),e.abrupt("return",o.body);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"push",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n||{}).ttl,e.next=3,this._addOrUpdateItemOnServer(this.links.items,t,void 0,r);case 3:return i=e.sent,a=Number(i.index),this._handleItemMutated(a,i.url,i.last_event_id,i.revision,t,i.date_updated,i.date_expires,!0,!1),e.abrupt("return",this.cache.get(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},e.abrupt("return",this.updateMergingQueue.squashAndAdd(t,i,(function(e){return a._updateItemUnconditionally(t,n,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_updateItemUnconditionally",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return i=e.sent,e.next=5,this._addOrUpdateItemOnServer(i.uri,n,void 0,r);case 5:return a=e.sent,this._handleItemMutated(t,a.url,a.last_event_id,a.revision,a.data,a.date_updated,a.date_expires,!1,!1),e.abrupt("return",this.cache.get(t));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_updateItemWithIfMatch",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a,o,s;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:if(i=e.sent,!(a=n(ie(i.data)))){e.next=25;break}return o=i.revision,e.prev=6,e.next=9,this._addOrUpdateItemOnServer(i.uri,a,o,r);case 9:return s=e.sent,this._handleItemMutated(t,s.url,s.last_event_id,s.revision,s.data,s.date_updated,s.date_expires,!1,!1),e.abrupt("return",this.cache.get(t));case 14:if(e.prev=14,e.t0=e.catch(6),412!==e.t0.status){e.next=22;break}return e.next=19,this._getItemFromServer(t);case 19:return e.abrupt("return",this._updateItemWithIfMatch(t,n,r));case 22:throw e.t0;case 23:e.next=26;break;case 25:return e.abrupt("return",i);case 26:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},e.abrupt("return",this.updateMergingQueue.add(t,i,(function(e){return a._updateItemWithIfMatch(t,n,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate(t,(function(e){return Object.assign(e,n)}),r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return n=e.sent,r=ie(n.data),e.next=6,this.services.network.delete(n.uri);case 6:i=e.sent,this._handleItemRemoved(t,i.body.last_event_id,r,new Date(i.body.date_updated),!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(N.default.mark((function e(t){var n;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.cache.get(t))){e.next=5;break}return e.abrupt("return",n);case 5:return e.abrupt("return",this._getItemFromServer(t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getItemFromServer",value:function(){var e=S.default(N.default.mark((function e(t){var n;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryItems({index:t});case 2:if(!((n=e.sent).items.length<1)){e.next=7;break}throw new ne("No item with index ".concat(t," found"),404,54151);case 7:return e.abrupt("return",n.items[0]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryItems",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},n=new ee(this.links.items).queryParam("From",t.from).queryParam("PageSize",t.limit).queryParam("Index",t.index).queryParam("PageToken",t.pageToken).queryParam("Order",t.order).build(),e.next=4,this.services.network.get(n);case 4:return r=e.sent,i=r.body.items.map((function(e){return e.date_updated=new Date(e.date_updated),o.cache.get(e.index)?o._handleItemMutated(e.index,e.url,e.last_event_id,e.revision,e.data,e.date_updated,e.date_expires,!1,!0):o.cache.store(Number(e.index),new Ve({index:Number(e.index),uri:e.url,revision:e.revision,lastEventId:e.last_event_id,dateUpdated:e.date_updated,dateExpires:e.date_expires,data:e.data}),e.last_event_id),o.cache.get(e.index)})),a=r.body.meta,e.abrupt("return",new Ue(i,(function(e){return o.queryItems({pageToken:e})}),a.previous_token,a.next_token));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae((t=t||{}).pageSize),t.limit=t.pageSize||t.limit||50,t.order=t.order||"asc",e.abrupt("return",this.queryItems(t));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=S.default(N.default.mark((function e(){var t;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context){e.next=5;break}return e.next=3,this.services.network.get(this.links.context);case 3:t=e.sent,this._updateContextIfRequired(t.body.data,t.body.last_event_id);case 5:return e.abrupt("return",this.context);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){var n,r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={ttl:t},e.next=4,this.services.network.post(this.uri,n);case 4:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),404===e.t0.status&&this.onRemoved(!1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setItemTtl",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return r=e.sent,i={ttl:n},e.next=6,this.services.network.post(r.uri,i);case 6:a=e.sent,r.updateDateExpires(a.body.date_expires);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeList",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}},{key:"shouldIgnoreEvent",value:function(e,t){return this.cache.isKnown(e,t)}},{key:"_update",value:function(e,t){var n=Number(e.item_index);switch(e.date_created=new Date(e.date_created),e.type){case"list_item_added":case"list_item_updated":this._handleItemMutated(n,e.item_url,e.id,e.item_revision,e.item_data,e.date_created,void 0,"list_item_added"===e.type,!0);break;case"list_item_removed":this._handleItemRemoved(n,e.id,e.item_data,e.date_created,!0);break;case"list_context_updated":this._handleContextUpdate(e.context_data,e.id,e.date_created);break;case"list_removed":this.onRemoved(!1)}t&&this._advanceLastEventId(e.id,e.list_revision)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e,t&&(this.descriptor.revision=t))}},{key:"_updateRootDateUpdated",value:function(e){(!this.descriptor.date_updated||e.getTime()>this.descriptor.date_updated.getTime())&&(this.descriptor.date_updated=e,this.services.storage.update(this.type,this.sid,this.uniqueName,{date_updated:e}))}},{key:"_handleItemMutated",value:function(e,t,n,r,i,a,o,s,u){if(this.shouldIgnoreEvent(e,n))le("Item ".concat(e," update skipped, current: ").concat(this.lastEventId,", remote: ").concat(n));else{this._updateRootDateUpdated(a);var c=this.cache.get(e);if(!c){var l=new Ve({index:e,uri:t,lastEventId:n,revision:r,data:i,dateUpdated:a,dateExpires:o});return this.cache.store(e,l,n),void this.emitItemMutationEvent(l,u,s)}var d=ie(c.data);c.update(n,r,i,a),this.cache.store(e,c,n),void 0!==o&&c.updateDateExpires(o),this.emitItemMutationEvent(c,u,!1,d)}}},{key:"emitItemMutationEvent",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=n?"itemAdded":"itemUpdated",a={item:e,isLocal:!t};n||(a.previousItemData=r),this.broadcastEventToListeners(i,a)}},{key:"_handleItemRemoved",value:function(e,t,n,r,i){this._updateRootDateUpdated(r),this.cache.delete(e,t),this.broadcastEventToListeners("itemRemoved",{index:e,isLocal:!i,previousItemData:n})}},{key:"_handleContextUpdate",value:function(e,t,n){this._updateRootDateUpdated(n),this._updateContextIfRequired(e,t)&&this.broadcastEventToListeners("contextUpdated",{context:e,isLocal:!1})}},{key:"_updateContextIfRequired",value:function(e,t){return!this.contextEventId||t>this.contextEventId?(this.context=e,this.contextEventId=t,!0):(le("Context update skipped, current:",this.lastEventId,", remote:",t),!1)}}],[{key:"type",get:function(){return"list"}}]),n}(Pe),et=function(e){A.default(n,e);var t=Je(n);function n(e){var r;return E.default(this,n),(r=t.call(this)).syncListImpl=e,r.syncListImpl.attach(T.default(r)),r}return C.default(n,[{key:"uri",get:function(){return this.syncListImpl.uri}},{key:"revision",get:function(){return this.syncListImpl.revision}},{key:"lastEventId",get:function(){return this.syncListImpl.lastEventId}},{key:"links",get:function(){return this.syncListImpl.links}},{key:"dateExpires",get:function(){return this.syncListImpl.dateExpires}},{key:"type",get:function(){return $e.type}},{key:"sid",get:function(){return this.syncListImpl.sid}},{key:"uniqueName",get:function(){return this.syncListImpl.uniqueName}},{key:"dateUpdated",get:function(){return this.syncListImpl.dateUpdated}},{key:"push",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.push(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.set(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.mutate(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.update(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.remove(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.get(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.getContext());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.getItems(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.setTtl(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setItemTtl",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.setItemTtl(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeList",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.removeList());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){B.default(R.default(n.prototype),"close",this).call(this),this.syncListImpl.detach(this.listenerUuid)}}],[{key:"type",get:function(){return $e.type}}]),n}(Fe);I.default(et,"itemAdded","itemAdded"),I.default(et,"itemUpdated","itemUpdated"),I.default(et,"itemRemoved","itemRemoved"),I.default(et,"removed","removed"),Z([p.validateTypesAsync(p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),V("design:type",Function),V("design:paramtypes",[Object,Object]),V("design:returntype",Promise)],et.prototype,"push",null),Z([p.validateTypesAsync(p.nonNegativeInteger,p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),V("design:type",Function),V("design:paramtypes",[Number,Object,Object]),V("design:returntype",Promise)],et.prototype,"set",null),Z([p.validateTypesAsync(p.nonNegativeInteger,"function",["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),V("design:type",Function),V("design:paramtypes",[Number,Function,Object]),V("design:returntype",Promise)],et.prototype,"mutate",null),Z([p.validateTypesAsync(p.nonNegativeInteger,p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),V("design:type",Function),V("design:paramtypes",[Number,Object,Object]),V("design:returntype",Promise)],et.prototype,"update",null),Z([p.validateTypesAsync(p.nonNegativeInteger),V("design:type",Function),V("design:paramtypes",[Number]),V("design:returntype",Promise)],et.prototype,"remove",null),Z([p.validateTypesAsync(p.nonNegativeInteger),V("design:type",Function),V("design:paramtypes",[Number]),V("design:returntype",Promise)],et.prototype,"get",null),Z([p.validateTypesAsync(["undefined",p.objectSchema("query options",{from:[p.nonNegativeInteger,"undefined"],pageSize:[p.custom((function(e){return[oe(e),"a positive integer"]})),"undefined"]})]),V("design:type",Function),V("design:paramtypes",[Object]),V("design:returntype",Promise)],et.prototype,"getItems",null),Z([p.validateTypesAsync(p.nonNegativeInteger),V("design:type",Function),V("design:paramtypes",[Number]),V("design:returntype",Promise)],et.prototype,"setTtl",null),Z([p.validateTypesAsync(p.nonNegativeInteger,p.nonNegativeInteger),V("design:type",Function),V("design:paramtypes",[Number,Number]),V("design:returntype",Promise)],et.prototype,"setItemTtl",null);var tt=function(){function e(t){E.default(this,e),this.descriptor=t}return C.default(e,[{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"key",get:function(){return this.descriptor.key}},{key:"data",get:function(){return this.descriptor.data}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"update",value:function(e,t,n,r){return this.descriptor.last_event_id=e,this.descriptor.revision=t,this.descriptor.data=n,this.descriptor.date_updated=r,this}},{key:"updateDateExpires",value:function(e){this.descriptor.date_expires=e}}]),e}();function nt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var rt=function(e){A.default(n,e);var t=nt(n);function n(e,r,i){var a;E.default(this,n);return(a=t.call(this,e,i)).updateMergingQueue=new Le((function(e,t){return"number"===typeof t.ttl?{ttl:t.ttl}:e})),a.cache=new Qe,a.descriptor=r,a.descriptor.date_updated=new Date(a.descriptor.date_updated),r.items&&r.items.forEach((function(e){e.date_updated=new Date(e.date_updated),a.cache.store(e.key,new tt(e),e.last_event_id)})),a}return C.default(n,[{key:"uri",get:function(){return this.descriptor.url}},{key:"links",get:function(){return this.descriptor.links}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"map"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},e.abrupt("return",this.updateMergingQueue.squashAndAdd(t,i,(function(e){return a._putItemUnconditionally(t,n,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&void 0!==t){e.next=2;break}throw new ne("SyncMapItem key may not be empty",400,54209);case 2:if(!this.cache.has(t)){e.next=6;break}return e.abrupt("return",this.cache.get(t));case 6:return e.abrupt("return",this._getItemFromServer(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getItemFromServer",value:function(){var e=S.default(N.default.mark((function e(t){var n;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryItems({key:t});case 2:if(!((n=e.sent).items.length<1)){e.next=7;break}throw new ne("The specified Map Item does not exist",404,54201);case 7:return e.abrupt("return",n.items[0]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},e.abrupt("return",this.updateMergingQueue.add(t,i,(function(e){return a._putItemWithIfMatch(t,n,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate(t,(function(e){return Object.assign(e,n)}),r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_putItemUnconditionally",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._putItemToServer(t,n,void 0,r);case 2:return i=e.sent,a=i.item,this._handleItemMutated(a.key,a.url,a.last_event_id,a.revision,a.data,a.date_updated,a.date_expires,i.added,!1),e.abrupt("return",this.cache.get(a.key));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_putItemWithIfMatch",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a,o,s,u;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t).catch((function(e){if(404===e.status)return new tt({key:t,data:{},last_event_id:-1,revision:"-1",url:null,date_updated:null,date_expires:null});throw e}));case 2:if(i=e.sent,!(a=n(ie(i.data)))){e.next=26;break}return o=i.revision,e.prev=6,e.next=9,this._putItemToServer(t,a,o,r);case 9:return s=e.sent,u=s.item,this._handleItemMutated(u.key,u.url,u.last_event_id,u.revision,u.data,u.date_updated,u.date_expires,s.added,!1),e.abrupt("return",this.cache.get(u.key));case 15:if(e.prev=15,e.t0=e.catch(6),412!==e.t0.status){e.next=23;break}return e.next=20,this._getItemFromServer(t);case 20:return e.abrupt("return",this._putItemWithIfMatch(t,n,r));case 23:throw e.t0;case 24:e.next=27;break;case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}}),e,this,[[6,15]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_putItemToServer",value:function(){var e=S.default(N.default.mark((function e(t,n,r,i){var a,o,s,u,c;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new ee(this.links.items).pathSegment(t).build(),o={data:n},void 0!==i&&(o.ttl=i),e.prev=3,e.next=6,this.services.network.put(a,o,r);case 6:return s=e.sent,(u=s.body).data=n,u.date_updated=new Date(u.date_updated),c=201===s.status.code,e.abrupt("return",{added:c,item:u});case 14:throw e.prev=14,e.t0=e.catch(3),404===e.t0.status&&this.onRemoved(!1),e.t0;case 18:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return n=e.sent,r=ie(n.data),e.next=6,this.services.network.delete(n.uri);case 6:i=e.sent,this._handleItemRemoved(t,i.body.last_event_id,r,new Date(i.body.date_updated),!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryItems",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},n=new ee(this.links.items).queryParam("From",t.from).queryParam("PageSize",t.limit).queryParam("Key",t.key).queryParam("PageToken",t.pageToken).queryParam("Order",t.order).build(),e.next=4,this.services.network.get(n);case 4:return r=e.sent,i=r.body.items.map((function(e){return e.date_updated=new Date(e.date_updated),o.cache.get(e.key)?o._handleItemMutated(e.key,e.url,e.last_event_id,e.revision,e.data,e.date_updated,e.date_expires,!1,!0):o.cache.store(e.key,new tt(e),e.last_event_id),o.cache.get(e.key)})),a=r.body.meta,e.abrupt("return",new Ue(i,(function(e){return o.queryItems({pageToken:e})}),a.previous_token,a.next_token));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae((t=t||{}).pageSize),t.limit=t.pageSize||t.limit||50,t.order=t.order||"asc",e.abrupt("return",this.queryItems(t));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"shouldIgnoreEvent",value:function(e,t){return this.cache.isKnown(e,t)}},{key:"_update",value:function(e,t){switch(e.date_created=new Date(e.date_created),e.type){case"map_item_added":case"map_item_updated":this._handleItemMutated(e.item_key,e.item_url,e.id,e.item_revision,e.item_data,e.date_created,void 0,"map_item_added"===e.type,!0);break;case"map_item_removed":this._handleItemRemoved(e.item_key,e.id,e.item_data,e.date_created,!0);break;case"map_removed":this.onRemoved(!1)}t&&this._advanceLastEventId(e.id,e.map_revision)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e,t&&(this.descriptor.revision=t))}},{key:"_updateRootDateUpdated",value:function(e){(!this.descriptor.date_updated||e.getTime()>this.descriptor.date_updated.getTime())&&(this.descriptor.date_updated=e,this.services.storage.update(this.type,this.sid,this.uniqueName,{date_updated:e}))}},{key:"_handleItemMutated",value:function(e,t,n,r,i,a,o,s,u){if(this.shouldIgnoreEvent(e,n))le("SyncMapItem ",e," update skipped, current:",this.lastEventId,", remote:",n);else{this._updateRootDateUpdated(a);var c=this.cache.get(e);if(!c){var l=new tt({key:e,url:t,last_event_id:n,revision:r,data:i,date_updated:a,date_expires:o});return this.cache.store(e,l,n),void this.emitItemMutationEvent(l,u,s)}var d=ie(c.data);c.update(n,r,i,a),this.cache.store(e,c,n),void 0!==o&&c.updateDateExpires(o),this.emitItemMutationEvent(c,u,!1,d)}}},{key:"emitItemMutationEvent",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=n?"itemAdded":"itemUpdated",a={item:e,isLocal:!t};n||(a.previousItemData=r),this.broadcastEventToListeners(i,a)}},{key:"_handleItemRemoved",value:function(e,t,n,r,i){this._updateRootDateUpdated(r),this.cache.delete(e,t),this.broadcastEventToListeners("itemRemoved",{key:e,isLocal:!i,previousItemData:n})}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){var n,r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={ttl:t},e.next=4,this.services.network.post(this.uri,n);case 4:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),404===e.t0.status&&this.onRemoved(!1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setItemTtl",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return r=e.sent,i={ttl:n},e.next=6,this.services.network.post(r.uri,i);case 6:a=e.sent,r.updateDateExpires(a.body.date_expires);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeMap",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"type",get:function(){return"map"}}]),n}(Pe),it=function(e){A.default(n,e);var t=nt(n);function n(e){var r;return E.default(this,n),(r=t.call(this)).syncMapImpl=e,r.syncMapImpl.attach(T.default(r)),r}return C.default(n,[{key:"uri",get:function(){return this.syncMapImpl.uri}},{key:"links",get:function(){return this.syncMapImpl.links}},{key:"revision",get:function(){return this.syncMapImpl.revision}},{key:"lastEventId",get:function(){return this.syncMapImpl.lastEventId}},{key:"dateExpires",get:function(){return this.syncMapImpl.dateExpires}},{key:"type",get:function(){return rt.type}},{key:"sid",get:function(){return this.syncMapImpl.sid}},{key:"uniqueName",get:function(){return this.syncMapImpl.uniqueName}},{key:"dateUpdated",get:function(){return this.syncMapImpl.dateUpdated}},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.set(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.get(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.mutate(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.update(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.remove(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.getItems(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.setTtl(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setItemTtl",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.setItemTtl(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeMap",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.next=3,this.syncMapImpl.removeMap();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){B.default(R.default(n.prototype),"close",this).call(this),this.syncMapImpl.detach(this.listenerUuid)}}],[{key:"type",get:function(){return rt.type}}]),n}(Fe);function at(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}I.default(it,"itemAdded","itemAdded"),I.default(it,"itemUpdated","itemUpdated"),I.default(it,"itemRemoved","itemRemoved"),I.default(it,"removed","removed"),Z([p.validateTypesAsync("string",p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),V("design:type",Function),V("design:paramtypes",[String,Object,Object]),V("design:returntype",Promise)],it.prototype,"set",null),Z([p.validateTypesAsync("string"),V("design:type",Function),V("design:paramtypes",[String]),V("design:returntype",Promise)],it.prototype,"get",null),Z([p.validateTypesAsync("string","function",["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),V("design:type",Function),V("design:paramtypes",[String,Function,Object]),V("design:returntype",Promise)],it.prototype,"mutate",null),Z([p.validateTypesAsync("string",p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),V("design:type",Function),V("design:paramtypes",[String,Object,Object]),V("design:returntype",Promise)],it.prototype,"update",null),Z([p.validateTypesAsync("string"),V("design:type",Function),V("design:paramtypes",[String]),V("design:returntype",Promise)],it.prototype,"remove",null),Z([p.validateTypesAsync(["undefined",p.objectSchema("query options",{from:["string","undefined"],pageSize:[p.custom((function(e){return[oe(e),"a positive integer"]})),"undefined"]})]),V("design:type",Function),V("design:paramtypes",[Object]),V("design:returntype",Promise)],it.prototype,"getItems",null),Z([p.validateTypesAsync(p.nonNegativeInteger),V("design:type",Function),V("design:paramtypes",[Number]),V("design:returntype",Promise)],it.prototype,"setTtl",null),Z([p.validateTypesAsync("string",p.nonNegativeInteger),V("design:type",Function),V("design:paramtypes",[String,Number]),V("design:returntype",Promise)],it.prototype,"setItemTtl",null);var ot=function(e){A.default(n,e);var t=at(n);function n(e,r,i){var a;return E.default(this,n),(a=t.call(this,e,i)).descriptor=r,a}return C.default(n,[{key:"uri",get:function(){return this.descriptor.url}},{key:"links",get:function(){return this.descriptor.links}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"stream"}},{key:"lastEventId",get:function(){return null}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"publishMessage",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:t},e.next=3,this.services.network.post(this.links.messages,n);case 3:return r=e.sent,i=r.body,a=this._handleMessagePublished(i.sid,t,!1),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){var n,r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={ttl:t},e.next=4,this.services.network.post(this.uri,n);case 4:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),404===e.t0.status&&this.onRemoved(!1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeStream",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_update",value:function(e){switch(e.type){case"stream_message_published":this._handleMessagePublished(e.message_sid,e.message_data,!0);break;case"stream_removed":this.onRemoved(!1)}}},{key:"_handleMessagePublished",value:function(e,t,n){var r={sid:e,data:t};return this.broadcastEventToListeners("messagePublished",{message:r,isLocal:!n}),r}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}}],[{key:"type",get:function(){return"stream"}}]),n}(Pe);Z([p.validateTypesAsync(p.pureObject),V("design:type",Function),V("design:paramtypes",[Object]),V("design:returntype",Promise)],ot.prototype,"publishMessage",null),Z([p.validateTypesAsync(p.nonNegativeInteger),V("design:type",Function),V("design:paramtypes",[Number]),V("design:returntype",Promise)],ot.prototype,"setTtl",null);var st=function(e){A.default(n,e);var t=at(n);function n(e){var r;return E.default(this,n),(r=t.call(this)).syncStreamImpl=e,r.syncStreamImpl.attach(T.default(r)),r}return C.default(n,[{key:"uri",get:function(){return this.syncStreamImpl.uri}},{key:"links",get:function(){return this.syncStreamImpl.links}},{key:"dateExpires",get:function(){return this.syncStreamImpl.dateExpires}},{key:"type",get:function(){return ot.type}},{key:"lastEventId",get:function(){return null}},{key:"sid",get:function(){return this.syncStreamImpl.sid}},{key:"uniqueName",get:function(){return this.syncStreamImpl.uniqueName}},{key:"publishMessage",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.publishMessage(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.setTtl(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeStream",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.removeStream());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){B.default(R.default(n.prototype),"close",this).call(this),this.syncStreamImpl.detach(this.listenerUuid)}}],[{key:"type",get:function(){return ot.type}}]),n}(Fe);I.default(st,"messagePublished","messagePublished"),I.default(st,"removed","removed"),Z([p.validateTypesAsync(p.pureObject),V("design:type",Function),V("design:paramtypes",[Object]),V("design:returntype",Promise)],st.prototype,"publishMessage",null),Z([p.validateTypesAsync(p.nonNegativeInteger),V("design:type",Function),V("design:paramtypes",[Number]),V("design:returntype",Promise)],st.prototype,"setTtl",null);var ut=function e(t){E.default(this,e),this.sdk="js",this.sdkVer=t,this.os=j.os.family,this.osVer=j.os.version,this.pl=j.name,this.plVer=j.version},ct=function(){function e(){E.default(this,e),this.names=new Map,this.entities=new Map}return C.default(e,[{key:"store",value:function(e){var t=this.entities.get(e.sid);return t||(this.entities.set(e.sid,e),e.uniqueName&&this.names.set(e.type+"::"+e.uniqueName,e.sid),e)}},{key:"getResolved",value:function(e,t){var n=this.names.get(t+"::"+e);return n?this.entities.get(n):null}},{key:"get",value:function(e,t){return this.entities.get(e)||this.getResolved(e,t)||null}},{key:"remove",value:function(e){var t=this.entities.get(e);t&&(this.entities.delete(e),t.uniqueName&&this.names.delete(t.type+"::"+t.uniqueName))}}]),e}();function lt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var dt=function(e){A.default(n,e);var t=lt(n);function n(e,r,i,a){var o;return E.default(this,n),(o=t.call(this,r,i)).descriptor=e,o.cache=new Qe,a&&a.forEach((function(e){o.cache.store(e.key,{key:e.key,value:e.data},e.revision)})),o}return C.default(n,[{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return null}},{key:"type",get:function(){return n.type}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"indexName",get:function(){return this.descriptor.indexName}},{key:"queryString",get:function(){return this.descriptor.queryExpression}},{key:"queryUri",get:function(){return this.descriptor.queryUri}},{key:"liveQueryDescriptor",get:function(){return this.descriptor}},{key:"onRemoved",value:function(){}},{key:"getItems",value:function(){var e={};return this.cache.forEach((function(t,n){e[t]=n.value})),e}},{key:"_update",value:function(e,t){switch(e.type){case"live_query_item_updated":this.handleItemMutated(e.item_key,e.item_data,e.item_revision);break;case"live_query_item_removed":this.handleItemRemoved(e.item_key,e.item_revision);break;case"live_query_updated":this.handleBatchUpdate(e.items)}t&&this._advanceLastEventId(e.last_event_id)}},{key:"handleItemMutated",value:function(e,t,n){if(this.shouldIgnoreEvent(e,n))le("Item ".concat(e," update skipped, revision: ").concat(n));else{var r={key:e,value:t};this.cache.store(e,r,n),this.broadcastEventToListeners("itemUpdated",r)}}},{key:"handleItemRemoved",value:function(e,t){var n=null===t;this.shouldIgnoreEvent(e,t)?le("Item ".concat(e," delete skipped, revision: ").concat(t)):(this.cache.delete(e,t,n),this.broadcastEventToListeners("itemRemoved",{key:e}))}},{key:"handleBatchUpdate",value:function(e){var t=this,n={};for(var r in null!=e&&e.forEach((function(e){n[e.key]={data:e.data,revision:e.revision}})),this.cache.forEach((function(e,r){var i=n[e];null!=i?t.handleItemMutated(e,i.data,i.revision):t.handleItemRemoved(e,null),delete n[e]})),n)this.handleItemMutated(r,n[r].data,n[r].revision)}},{key:"shouldIgnoreEvent",value:function(e,t){return null!=e&&null!=t&&this.cache.isKnown(e,t)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e)}}],[{key:"type",get:function(){return"live_query"}}]),n}(Pe);function ft(e){return pt.apply(this,arguments)}function pt(){return(pt=S.default(N.default.mark((function e(t){var n,r,i,a,o,s;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.network,r=t.queryString,i=t.uri,a=t.type,null!=r){e.next=3;break}throw new ne("Invalid query",400,54507);case 3:return o={query_string:r},a===ht.type&&(o.type=a),e.next=7,n.post(i,o,void 0,!0);case 7:return s=e.sent,e.abrupt("return",s.body);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ht=function(e){A.default(n,e);var t=lt(n);function n(e){var r;return E.default(this,n),(r=t.call(this)).liveQueryImpl=e,r.liveQueryImpl.attach(T.default(r)),r}return C.default(n,[{key:"type",get:function(){return dt.type}},{key:"lastEventId",get:function(){return this.liveQueryImpl.lastEventId}},{key:"sid",get:function(){return this.liveQueryImpl.sid}},{key:"close",value:function(){B.default(R.default(n.prototype),"close",this).call(this),this.liveQueryImpl.detach(this.listenerUuid)}},{key:"getItems",value:function(){return this.ensureNotClosed(),this.liveQueryImpl.getItems()}}],[{key:"type",get:function(){return dt.type}}]),n}(Fe);I.default(ht,"itemUpdated","itemUpdated"),I.default(ht,"itemRemoved","itemRemoved");var mt=function(e){A.default(n,e);var t=lt(n);function n(e){var r;return E.default(this,n),r=t.call(this),I.default(T.default(r),"queryExpression",null),I.default(T.default(r),"items",{}),Object.assign(T.default(r),e),r.updateIndexName(e.indexName),r}return C.default(n,[{key:"type",get:function(){return n.type}},{key:"search",value:function(){var e=S.default(N.default.mark((function e(t){var n=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.items={},e.abrupt("return",ft({network:this.network,uri:this.queryUri,queryString:t}).then((function(e){n.queryExpression=t,e.items&&e.items.forEach((function(e){n.items[e.key]=e.data})),n.emit("searchResult",n.getItems())})).catch((function(e){throw pe("Error '".concat(e.message,"' while executing query '").concat(t,"'")),n.queryExpression=null,e})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.queryExpression){e.next=2;break}return e.abrupt("return",Promise.reject(new ne("Invalid query",400,54507)));case 2:return e.abrupt("return",this.liveQueryCreator(this.indexName,this.queryExpression));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){return this.items}},{key:"updateIndexName",value:function(e){this.indexName=e,this.queryUri=this.generateQueryUri(this.indexName)}},{key:"generateQueryUri",value:function(e){return new ee(this.insightsUri).pathSegment(e).pathSegment("Items").build()}}],[{key:"type",get:function(){return"instant_query"}}]),n}(W);I.default(mt,"searchResult","searchResult"),Z([p.validateTypesAsync("string"),V("design:type",Function),V("design:paramtypes",[String]),V("design:returntype",Promise)],mt.prototype,"search",null),Z([p.validateTypes(p.nonEmptyString),V("design:type",Function),V("design:paramtypes",[String]),V("design:returntype",void 0)],mt.prototype,"updateIndexName",null);function vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){I.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt="data_sync",wt="3.1.0";function kt(e){if(e){if("string"===typeof e)return{id:e,mode:"open_or_create"};var t=e.mode||(e.id?"open_or_create":"create_new");return yt(yt({},e),{},{mode:t})}return{mode:"create_new"}}var xt="com.twilio.rtd.cds.document",_t="com.twilio.rtd.cds.list",St="com.twilio.rtd.cds.map",Et="twilio.sync.event",Ct=function(e){A.default(n,e);var t=vt(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(E.default(this,n),r=t.call(this),!e)throw new Error("Sync library needs a valid Twilio token to be passed");i.hasOwnProperty("logLevel")?ce(i.logLevel):ce("silent");var a=i.productId=i.productId||bt;i.clientMetadata=i.clientMetadata||{},i.clientMetadata.hasOwnProperty("type")||(i.clientMetadata.type="sync"),i.clientMetadata.hasOwnProperty("sdk")||(i.clientMetadata.sdk="JS",i.clientMetadata.sdkv=wt);var o=!i.twilsockClient;if(!i.initRegistrations){var s=new h.InitRegistration(a);n.populateInitRegistrations(s),i.initRegistrations=[s]}var u=i.twilsockClient=i.twilsockClient||new h.Twilsock(e,a,i);u.on("tokenAboutToExpire",(function(e){return r.emit("tokenAboutToExpire",e)})),u.on("tokenExpired",(function(){return r.emit("tokenExpired")})),u.on("connectionError",(function(e){return r.emit("connectionError",e)})),u.on("stateChanged",(function(e){r.emit("connectionStateChanged",e),r.services.subscriptions.onConnectionStateChanged("connected"===e)})),u.on("message",(function(e,t){return r._routeMessage(e,t)}));var c=new ke(i),l=new Oe(new ut(wt),c,u),d=new Re(c);return r.services={config:c,twilsock:u,network:l,storage:d,router:T.default(r),subscriptions:null},r.services.subscriptions=new Ee(r.services),r.entities=new ct,o&&u.connect(),r}return C.default(n,[{key:"_routeMessage",value:function(e,t){switch(le("Notification type:",e,"content:",t),e){case xt:case _t:case St:this.services.subscriptions.acceptMessage(t,!1);break;case Et:this.services.subscriptions.acceptMessage(t,!0)}}},{key:"_subscribe",value:function(e,t){this.services.subscriptions.add(e,t)}},{key:"_unsubscribe",value:function(e){this.services.subscriptions.remove(e)}},{key:"connectionState",get:function(){return this.services.twilsock.state}},{key:"ensureReady",value:function(){var e=S.default(N.default.mark((function e(){var t;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.services.config.sessionStorageEnabled){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.services.twilsock.storageId();case 5:t=e.sent,this.services.storage.updateStorageId(t.id),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),fe("Failed to initialize storage",e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"storeRootInSessionCache",value:function(e,t,n){if(this.services.config.sessionStorageEnabled&&t){var r=ie(n);e!==et.type&&e!==it.type||(r.last_event_id=null,delete r.items),this.services.storage.store(e,t,r)}}},{key:"readRootFromSessionCache",value:function(e,t){return this.services.config.sessionStorageEnabled&&t?this.services.storage.read(e,t):null}},{key:"_get",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a,o=arguments;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>2&&void 0!==o[2]&&o[2],n){e.next=3;break}throw new ne("Cannot get entity without id",404);case 3:return i=new ee(t).pathSegment(n).queryParam("Include",r?"items":void 0).build(),e.next=6,this.services.network.get(i);case 6:return a=e.sent,e.abrupt("return",a.body);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_createDocument",value:function(e,t,n){var r={unique_name:e,data:t||{}};return void 0!==n&&(r.ttl=n),this.services.network.post(this.services.config.documentsUri,r).then((function(e){return e.body.data=r.data,e.body}))}},{key:"_getDocument",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(Ze.type,t)||this._get(this.services.config.documentsUri,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createList",value:function(e,t,n,r){var i={unique_name:e,purpose:t,context:n};return void 0!==r&&(i.ttl=r),this.services.network.post(this.services.config.listsUri,i).then((function(e){return e.body}))}},{key:"_getList",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(et.type,t)||this._get(this.services.config.listsUri,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createMap",value:function(e,t){var n={unique_name:e};return void 0!==t&&(n.ttl=t),this.services.network.post(this.services.config.mapsUri,n).then((function(e){return e.body}))}},{key:"_getMap",value:function(){var e=S.default(N.default.mark((function e(t){var n,r=arguments;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.abrupt("return",this.readRootFromSessionCache(it.type,t)||this._get(this.services.config.mapsUri,t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getStream",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(st.type,t)||this._get(this.services.config.streamsUri,t,!1));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createStream",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={unique_name:t},void 0!==n&&(r.ttl=n),e.next=4,this.services.network.post(this.services.config.streamsUri,r);case 4:return i=e.sent,e.abrupt("return",i.body);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getLiveQuery",value:function(e){return this.readRootFromSessionCache(ht.type,e)}},{key:"getCached",value:function(e,t){return e&&this.entities.get(e,t)||null}},{key:"removeFromCacheAndSession",value:function(e,t,n){this.entities.remove(t),this.services.config.sessionStorageEnabled&&this.services.storage.remove(e,t,n)}},{key:"document",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if("create_new"!==(n=kt(t)).mode){e.next=9;break}return e.next=6,this._createDocument(n.id,n.data,n.ttl);case 6:case 17:case 29:r=e.sent,e.next=39;break;case 9:if(!(i=this.getCached(n.id,Ze.type))){e.next=14;break}return e.abrupt("return",new Ze(i));case 14:return e.prev=14,e.next=17,this._getDocument(n.id);case 20:if(e.prev=20,e.t0=e.catch(14),404===e.t0.status&&"open_existing"!==n.mode){e.next=26;break}throw e.t0;case 26:return e.prev=26,e.next=29,this._createDocument(n.id,n.data,n.ttl);case 32:if(e.prev=32,e.t1=e.catch(26),409!==e.t1.status){e.next=38;break}return e.abrupt("return",this.document(t));case 38:throw e.t1;case 39:return this.storeRootInSessionCache(Ze.type,n.id,r),a=new je(this.services,r,(function(e,t,n){return o.removeFromCacheAndSession(e,t,n)})),a=this.entities.store(a),e.abrupt("return",new Ze(a));case 43:case"end":return e.stop()}}),e,this,[[14,20],[26,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if("create_new"!==(n=kt(t)).mode){e.next=9;break}return e.next=6,this._createMap(n.id,n.ttl);case 6:case 17:case 29:r=e.sent,e.next=39;break;case 9:if(!(i=this.getCached(n.id,it.type))){e.next=14;break}return e.abrupt("return",new it(i));case 14:return e.prev=14,e.next=17,this._getMap(n.id,n.includeItems);case 20:if(e.prev=20,e.t0=e.catch(14),404===e.t0.status&&"open_existing"!==n.mode){e.next=26;break}throw e.t0;case 26:return e.prev=26,e.next=29,this._createMap(n.id,n.ttl);case 32:if(e.prev=32,e.t1=e.catch(26),409!==e.t1.status){e.next=38;break}return e.abrupt("return",this.map(t));case 38:throw e.t1;case 39:return this.storeRootInSessionCache(it.type,n.id,r),a=new rt(this.services,r,(function(e,t,n){return o.removeFromCacheAndSession(e,t,n)})),a=this.entities.store(a),e.abrupt("return",new it(a));case 43:case"end":return e.stop()}}),e,this,[[14,20],[26,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if("create_new"!==(n=kt(t)).mode){e.next=9;break}return e.next=6,this._createList(n.id,n.purpose,n.context,n.ttl);case 6:case 17:case 29:r=e.sent,e.next=39;break;case 9:if(!(i=this.getCached(n.id,et.type))){e.next=14;break}return e.abrupt("return",new et(i));case 14:return e.prev=14,e.next=17,this._getList(n.id);case 20:if(e.prev=20,e.t0=e.catch(14),404===e.t0.status&&"open_existing"!==n.mode){e.next=26;break}throw e.t0;case 26:return e.prev=26,e.next=29,this._createList(n.id,n.purpose,n.context,n.ttl);case 32:if(e.prev=32,e.t1=e.catch(26),409!==e.t1.status){e.next=38;break}return e.abrupt("return",this.list(t));case 38:throw e.t1;case 39:return this.storeRootInSessionCache(et.type,n.id,r),a=new $e(this.services,r,(function(e,t,n){return o.removeFromCacheAndSession(e,t,n)})),a=this.entities.store(a),e.abrupt("return",new et(a));case 43:case"end":return e.stop()}}),e,this,[[14,20],[26,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stream",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o,s=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if("create_new"!==(n=kt(t)).mode){e.next=9;break}return e.next=6,this._createStream(n.id,n.ttl);case 6:case 17:case 29:r=e.sent,e.next=39;break;case 9:if(!(i=this.getCached(n.id,st.type))){e.next=14;break}return e.abrupt("return",new st(i));case 14:return e.prev=14,e.next=17,this._getStream(n.id);case 20:if(e.prev=20,e.t0=e.catch(14),404===e.t0.status&&"open_existing"!==n.mode){e.next=26;break}throw e.t0;case 26:return e.prev=26,e.next=29,this._createStream(n.id,n.ttl);case 32:if(e.prev=32,e.t1=e.catch(26),409!==e.t1.status){e.next=38;break}return e.abrupt("return",this.stream(t));case 38:throw e.t1;case 39:return this.storeRootInSessionCache(st.type,n.id,r),a=function(e,t,n){return s.removeFromCacheAndSession(e,t,n)},o=new ot(this.services,r,a),o=this.entities.store(o),e.abrupt("return",new st(o));case 44:case"end":return e.stop()}}),e,this,[[14,20],[26,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"shutdown",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.subscriptions.shutdown();case 2:return e.next=4,this.services.twilsock.disconnect();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateToken",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.twilsock.updateToken(t).catch((function(e){var t,n=null===e||void 0===e||null===(t=e.reply)||void 0===t?void 0:t.status;if(401===(null===n||void 0===n?void 0:n.code)&&"UNAUTHORIZED"===(null===n||void 0===n?void 0:n.status))throw new ne("Updated token was rejected by server",400,51130);throw e})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"liveQuery",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a,o,s,u=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:return r=new ee(this.services.config.insightsUri).pathSegment(t).pathSegment("Items").build(),e.next=5,ft({network:this.services.network,uri:r,queryString:n,type:ht.type});case 5:return i=e.sent,(a=this.getCached(i.query_id,ht.type))||((o=this._getLiveQuery(i.query_id))||(o={indexName:t,queryExpression:n,sid:i.query_id,queryUri:r,last_event_id:i.last_event_id}),s=function(e,t,n){return u.removeFromCacheAndSession(e,t,n)},a=new dt(o,this.services,s,i.items)),this.storeRootInSessionCache(ht.type,i.query_id,a.liveQueryDescriptor),a=this.entities.store(a),e.abrupt("return",new ht(a));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"instantQuery",value:function(){var e=S.default(N.default.mark((function e(t){var n,r=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:return n=function(e,t){return r.liveQuery(e,t)},e.abrupt("return",new mt({indexName:t,network:this.services.network,insightsUri:this.services.config.insightsUri,liveQueryCreator:n}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"populateInitRegistrations",value:function(e){e.populateInitRegistrations([Et,xt,_t,St])}},{key:"version",get:function(){return wt}}]),n}(W);I.default(Ct,"connectionStateChanged","connectionStateChanged"),I.default(Ct,"connectionError","connectionError"),I.default(Ct,"tokenAboutToExpire","tokenAboutToExpire"),I.default(Ct,"tokenExpired","tokenExpired"),Z([p.validateTypesAsync(["undefined","string",p.objectSchema("open document options",{id:["string","undefined"],mode:[p.literal("open_or_create","open_existing","create_new"),"undefined"],ttl:[p.nonNegativeInteger,"undefined"],data:[p.pureObject,"undefined",p.literal(null)]})]),V("design:type",Function),V("design:paramtypes",[Object]),V("design:returntype",Promise)],Ct.prototype,"document",null),Z([p.validateTypesAsync(["undefined","string",p.objectSchema("open map options",{id:["string","undefined"],mode:[p.literal("open_or_create","open_existing","create_new"),"undefined"],ttl:[p.nonNegativeInteger,"undefined"],data:[p.pureObject,"undefined",p.literal(null)],includeItems:["boolean","undefined"]})]),V("design:type",Function),V("design:paramtypes",[Object]),V("design:returntype",Promise)],Ct.prototype,"map",null),Z([p.validateTypesAsync(["undefined","string",p.objectSchema("open list options",{id:["string","undefined"],mode:[p.literal("open_or_create","open_existing","create_new"),"undefined"],ttl:[p.nonNegativeInteger,"undefined"],data:[p.pureObject,"undefined",p.literal(null)],purpose:["string","undefined"],context:[p.pureObject,"undefined"],includeItems:["boolean","undefined"]})]),V("design:type",Function),V("design:paramtypes",[Object]),V("design:returntype",Promise)],Ct.prototype,"list",null),Z([p.validateTypesAsync(["undefined","string",p.objectSchema("open stream options",{id:["string","undefined"],mode:[p.literal("open_or_create","open_existing","create_new"),"undefined"],ttl:[p.nonNegativeInteger,"undefined"],data:[p.pureObject,"undefined",p.literal(null)]})]),V("design:type",Function),V("design:paramtypes",[Object]),V("design:returntype",Promise)],Ct.prototype,"stream",null),Z([p.validateTypesAsync(p.nonEmptyString),V("design:type",Function),V("design:paramtypes",[String]),V("design:returntype",Promise)],Ct.prototype,"updateToken",null),Z([p.validateTypesAsync(p.nonEmptyString,"string"),V("design:type",Function),V("design:paramtypes",[String,String]),V("design:returntype",Promise)],Ct.prototype,"liveQuery",null),Z([p.validateTypesAsync(p.nonEmptyString),V("design:type",Function),V("design:paramtypes",[String]),V("design:returntype",Promise)],Ct.prototype,"instantQuery",null),t.Client=Ct,t.InsightsItem=function e(){E.default(this,e)},t.InstantQuery=mt,t.LiveQuery=ht,t.Paginator=Ue,t.SyncClient=Ct,t.SyncDocument=Ze,t.SyncList=et,t.SyncListItem=Ve,t.SyncMap=it,t.SyncMapItem=tt,t.SyncStream=st},57335:function(e,t,n){"use strict";var r=n(38156);e.exports=function(e,t,n,i){var a,o=new Error("Canceled");return new r((function(s,u,c){var l;e((function(e){return c()?r.reject(o):(l=t(e),n(l).then((function(e){if(c())throw o;return a=e()})))})).then((function(e){if(c())throw e.disconnect(),o;s(i(l,e))})).catch((function(e){u(e)}))}),(function(){a&&a.cancel()}))}},70146:function(e,t,n){"use strict";var r=n(25409).MediaStreamTrack,i=n(73348),a=i.guessBrowser,o=i.guessBrowserVersion,s=n(57335),u=n(74905),c=n(63675),l=n(33512),d=n(3137),f=n(66512),p=f.LocalAudioTrack,h=f.LocalDataTrack,m=f.LocalVideoTrack,v=n(42580),g=n(87981),y=n(68179),b=n(58242),w=b.asLocalTrack,k=b.buildLogLevels,x=b.filterObject,_=b.isNonArrayObject,S=n(24657),E=S.DEFAULT_ENVIRONMENT,C=S.DEFAULT_LOG_LEVEL,T=S.DEFAULT_LOGGER_NAME,A=S.DEFAULT_REALM,O=S.DEFAULT_REGION,R=S.WS_SERVER,I=S.SDK_NAME,N=S.SDK_VERSION,P=S.typeErrors,M=n(38156),L=n(16820),D=n(41547),F=n(96340).kG,B="safari"===a()&&o(),j=0,Z=!1,V=!1;if(B){var U=B.major,W=B.minor;V=U<12||12===U&&W<1}var H=new Set([{didWarn:!1,shouldDelete:!0,name:"abortOnIceServersTimeout"},{didWarn:!1,shouldDelete:!0,name:"dscpTagging",newName:"enableDscp"},{didWarn:!1,shouldDelete:!0,name:"iceServersTimeout"},{didWarn:!1,shouldDelete:!1,name:"eventListener",newName:"Video.Logger"},{didWarn:!1,shouldDelete:!1,name:"logLevel",newName:"Video.Logger"}]),z=new Set([{didWarn:!1,shouldDelete:!1,name:"maxTracks",newName:"bandwidthProfile.video.clientTrackSwitchOffControl"},{didWarn:!1,shouldDelete:!1,name:"renderDimensions",newName:"bandwidthProfile.video.contentPreferencesMode"}]);function G(e,t,n){n.forEach((function(n){var r=n.didWarn,i=n.name,a=n.newName,o=n.shouldDelete;i in e&&"undefined"!==typeof e[i]&&(a&&o&&(e[a]=e[i]),o&&delete e[i],r||["error","off"].includes(t.level)||(t.warn('The ConnectOptions "'+i+'" is '+(a?'deprecated and scheduled for removal. Please use "'+a+'" instead.':"no longer applicable and will be ignored.")),n.didWarn=!0))}))}function q(e,t,n,r,i,a){var o=e.createLocalParticipantSignaling(n,r);return t.debug("Creating a new LocalParticipant:",o),new i.LocalParticipant(o,a,i)}function K(e,t,n){var r=new g(t,n,e),i=e.log;return i.debug("Creating a new Room:",r),n.on("stateChanged",(function e(t){"disconnected"===t&&(i.info("Disconnected from Room:",r.toString()),n.removeListener("stateChanged",e))})),r}function Y(e,t,n,r,i,a){return t.log.debug("Creating a new RoomSignaling"),n.connect(a._signaling,e,r,i,t)}function X(e,t){var n=e.log;return e.shouldStopLocalTracks=!e.tracks,e.shouldStopLocalTracks?n.info("LocalTracks were not provided, so they will be acquired automatically before connecting to the Room. LocalTracks will be released if connecting to the Room fails or if the Room is disconnected"):(n.info("Getting LocalTracks"),n.debug("Options:",e)),e.createLocalTracks(e).then((function(r){var i=t(r);return i.catch((function(){e.shouldStopLocalTracks&&(n.info("The automatically acquired LocalTracks will now be stopped"),r.forEach((function(e){e.stop()})))})),i}))}function Q(e){var t="string"===typeof e?{codec:e}:e;switch(t.codec.toLowerCase()){case"opus":return Object.assign({dtx:!0},t);case"vp8":return Object.assign({simulcast:!1},t);default:return t}}e.exports=function(e,t){if("undefined"===typeof t&&(t={}),!_(t))return M.reject(P.INVALID_TYPE("options","object"));var n,i=t.Log||D,a=t.loggerName||T,o=t.logLevel||C,f=k(o),g="[connect #"+ ++j+"]";try{n=new i("default",g,f,a)}catch($){return M.reject($)}G(t,n,H);var b="auto"===t.preferredVideoCodecs;if(b&&(t.preferredVideoCodecs=[{codec:"VP8",simulcast:!0,adaptiveSimulcast:!0}]),t.maxVideoBitrate&&b)return n.error('ConnectOptions "maxVideoBitrate" is not compatible with "preferredVideoCodecs=auto"'),M.reject(P.ILLEGAL_INVOKE("connect",'ConnectOptions "maxVideoBitrate" is not compatible with "preferredVideoCodecs=auto"'));var S={};"string"===typeof(t=Object.assign({automaticSubscription:!0,dominantSpeaker:!1,enableDscp:!1,environment:E,eventListener:null,insights:!0,LocalAudioTrack:p,LocalDataTrack:h,LocalParticipant:c,LocalVideoTrack:m,Log:i,MediaStreamTrack:r,loggerName:a,logLevel:o,maxAudioBitrate:null,maxVideoBitrate:null,name:null,networkMonitor:!0,networkQuality:!1,preferredAudioCodecs:[],preferredVideoCodecs:[],realm:A,region:O,signaling:y},x(t))).wsServerInsights&&(S.gateway=t.wsServerInsights);var B=new(t.insights?l:d)(e,I,N,t.environment,t.realm,S),U=R(t.environment,t.region),W=new L(B,Date.now(),n,t.eventListener);if((t=Object.assign({eventObserver:W,wsServer:U},t)).log=n,V&&!Z&&"error"!==n.logLevel&&"off"!==n.logLevel&&(Z=!0,n.warn(["Support for Safari 12.0 and below is limited because it does not support VP8.","This means you may experience codec issues in Group Rooms. You may also","experience codec issues in Peer-to-Peer (P2P) Rooms containing Android- or","iOS-based Participants who do not support H.264. However, P2P Rooms","with browser-based Participants should work. For more information, please","refer to this guide: https://www.twilio.com/docs/video/javascript-v2-developing-safari-11"].join(" "))),"string"!==typeof e)return M.reject(P.INVALID_TYPE("token","string"));var J=Object.assign({},t);if(delete J.name,"tracks"in t){if(!Array.isArray(t.tracks))return M.reject(P.INVALID_TYPE("options.tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack"));try{t.tracks=t.tracks.map((function(e){return w(e,J)}))}catch($){return M.reject($)}}var $=F(t.bandwidthProfile);if($)return M.reject($);t.clientTrackSwitchOffControl="disabled",t.contentPreferencesMode="disabled",t.bandwidthProfile&&(t.clientTrackSwitchOffControl="auto",t.contentPreferencesMode="auto",t.bandwidthProfile.video&&(G(t.bandwidthProfile.video,n,z),"maxTracks"in t.bandwidthProfile.video?t.clientTrackSwitchOffControl="disabled":"manual"===t.bandwidthProfile.video.clientTrackSwitchOffControl?t.clientTrackSwitchOffControl="manual":t.clientTrackSwitchOffControl="auto","renderDimensions"in t.bandwidthProfile.video?t.contentPreferencesMode="disabled":"manual"===t.bandwidthProfile.video.contentPreferencesMode?t.contentPreferencesMode="manual":t.contentPreferencesMode="auto"));var ee=new(0,t.signaling)(t.wsServer,t);n.info("Connecting to a Room"),n.debug("Options:",t);var te=new u({maxAudioBitrate:t.maxAudioBitrate,maxVideoBitrate:t.maxVideoBitrate},b),ne={audio:t.preferredAudioCodecs.map(Q),video:t.preferredVideoCodecs.map(Q)},re=new v(_(t.networkQuality)?t.networkQuality:{}),ie=s(X.bind(null,t),q.bind(null,ee,n,te,re,t),Y.bind(null,e,t,ee,te,ne),K.bind(null,t));return ie.then((function(e){return B.connect(e.sid,e.localParticipant.sid),n.info("Connected to Room:",e.toString()),n.info("Room name:",e.name),n.debug("Room:",e),e.once("disconnected",(function(){return B.disconnect()})),e}),(function(e){B.disconnect(),ie._isCanceled?n.info("Attempt to connect to a Room was canceled"):n.info("Error while connecting to a Room:",e)})),ie}},12804:function(e,t,n){"use strict";var r=n(24657),i=r.DEFAULT_LOG_LEVEL,a=r.DEFAULT_LOGGER_NAME;function o(e,t){t=Object.assign({loggerName:a,logLevel:i},t);var n={};n.loggerName=t.loggerName,n.logLevel=t.logLevel,delete t.loggerName,delete t.logLevel;var r=t.createLocalTracks;return delete t.createLocalTracks,n[e]=!(Object.keys(t).length>0)||t,r(n).then((function(e){return e[0]}))}e.exports={audio:function(e){return o("audio",e)},video:function(e){return o("video",e)}}},35166:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},s=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.createLocalTracks=void 0;var u=n(6727),c=n(58242).buildLogLevels,l=n(25409),d=l.getUserMedia,f=l.MediaStreamTrack,p=n(66512),h=p.LocalAudioTrack,m=p.LocalDataTrack,v=p.LocalVideoTrack,g=n(41547),y=n(24657),b=y.DEFAULT_LOG_LEVEL,w=y.DEFAULT_LOGGER_NAME,k=n(21268),x=0;t.createLocalTracks=function(e){return i(this,void 0,void 0,(function(){var t,n,l,p,y,_,S,E,C,T,A,O,R,I=this;return a(this,(function(N){switch(N.label){case 0:if(n=r({audio:t=!(e&&("audio"in e||"video"in e)),getUserMedia:d,loggerName:w,logLevel:b,LocalAudioTrack:h,LocalDataTrack:m,LocalVideoTrack:v,MediaStreamTrack:f,Log:g,video:t},e),l="[createLocalTracks #"+ ++x+"]",p=c(n.logLevel),y=new n.Log("default",l,p,n.loggerName),delete(_=Object.assign({log:y},n)).name,!1===n.audio&&!1===n.video)return y.info("Neither audio nor video requested, so returning empty LocalTracks"),[2,[]];if(n.tracks)return y.info("Adding user-provided LocalTracks"),y.debug("LocalTracks:",n.tracks),[2,n.tracks];(S={audio:"object"===typeof n.audio&&n.audio.name?{name:n.audio.name}:{},video:"object"===typeof n.video&&n.video.name?{name:n.video.name}:{}}).audio.isCreatedByCreateLocalTracks=!0,S.video.isCreatedByCreateLocalTracks=!0,"object"===typeof n.audio&&"boolean"===typeof n.audio.workaroundWebKitBug1208516&&(S.audio.workaroundWebKitBug1208516=n.audio.workaroundWebKitBug1208516),"object"===typeof n.audio&&"noiseCancellationOptions"in n.audio&&(E=n.audio.noiseCancellationOptions,delete n.audio.noiseCancellationOptions),"object"===typeof n.video&&"boolean"===typeof n.video.workaroundWebKitBug1208516&&(S.video.workaroundWebKitBug1208516=n.video.workaroundWebKitBug1208516),"object"===typeof n.audio&&delete n.audio.name,"object"===typeof n.video&&delete n.video.name,C={audio:n.audio,video:n.video},T="object"===typeof n.audio&&n.audio.workaroundWebKitBug180748,N.label=1;case 1:return N.trys.push([1,4,,5]),[4,T?k(y,n.getUserMedia,C):n.getUserMedia(C)];case 2:return A=N.sent(),O=s(s([],o(A.getAudioTracks())),o(A.getVideoTracks())),y.info("Call to getUserMedia successful; got tracks:",O),[4,Promise.all(O.map((function(e){return i(I,void 0,void 0,(function(){var t,n,i;return a(this,(function(a){switch(a.label){case 0:return"audio"===e.kind&&E?[4,u.applyNoiseCancellation(e,E,y)]:[3,2];case 1:return t=a.sent(),n=t.cleanTrack,i=t.noiseCancellation,[2,new _.LocalAudioTrack(n,r(r(r({},S.audio),_),{noiseCancellation:i}))];case 2:if("audio"===e.kind)return[2,new _.LocalAudioTrack(e,r(r({},S.audio),_))];a.label=3;case 3:return[2,new _.LocalVideoTrack(e,r(r({},S.video),_))]}}))}))})))];case 3:return[2,N.sent()];case 4:throw R=N.sent(),y.warn("Call to getUserMedia failed:",R),R;case 5:return[2]}}))}))}},34103:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(95187),a=n(20465),o=function(e){function t(t){var n=e.call(this,t.label,t.maxPacketLifeTime,t.maxRetransmits,t.ordered)||this;return Object.defineProperties(n,{_dataChannel:{value:t}}),t.binaryType="arraybuffer",t.addEventListener("message",(function(e){n.emit("message",e.data)})),t.addEventListener("close",(function(){n.emit("close")})),n}return r(t,e),t.prototype.stop=function(){this._dataChannel.close(),e.prototype.stop.call(this)},t.prototype.toDataTransport=function(){return new a(this._dataChannel)},t}(i);e.exports=o},29701:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(95187),a=n(58242).makeUUID,o=function(e){function t(t,n,r){var i=e.call(this,a(),t,n,r)||this;return Object.defineProperties(i,{_clones:{value:new Set},_dataChannels:{value:new Set}}),i}return r(t,e),t.prototype._addClone=function(e){this._clones.add(e)},t.prototype.removeClone=function(e){this._clones.delete(e)},t.prototype.addDataChannel=function(e){return this._dataChannels.add(e),this},t.prototype.clone=function(){var e=this,n=new t(this.maxPacketLifeTime,this.maxRetransmits,this.ordered);return this._addClone(n),n.once("stopped",(function(){return e.removeClone(n)})),n},t.prototype.removeDataChannel=function(e){return this._dataChannels.delete(e),this},t.prototype.send=function(e){return this._dataChannels.forEach((function(t){try{t.send(e)}catch(n){}})),this._clones.forEach((function(t){try{t.send(e)}catch(n){}})),this},t.prototype.stop=function(){this._dataChannels.forEach((function(e){return e.close()})),this._clones.forEach((function(e){return e.stop()})),e.prototype.stop.call(this)},t}(i);e.exports=o},95187:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){var a=e.call(this,t,"data")||this;return Object.defineProperties(a,{maxPacketLifeTime:{enumerable:!0,value:n},maxRetransmits:{enumerable:!0,value:r},ordered:{enumerable:!0,value:i}}),a}return r(t,e),t}(n(97952));e.exports=i},20465:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){var n=e.call(this)||this;return Object.defineProperties(n,{_dataChannel:{value:t},_messageQueue:{value:[]}}),t.addEventListener("open",(function(){n._messageQueue.splice(0).forEach((function(e){return n._publish(e)}))})),t.addEventListener("message",(function(e){var t=e.data;try{var r=JSON.parse(t);n.emit("message",r)}catch(i){}})),n.publish({type:"ready"}),n}return r(t,e),t.prototype._publish=function(e){var t=JSON.stringify(e);try{this._dataChannel.send(t)}catch(n){}},t.prototype.publish=function(e){var t=this._dataChannel;return"closing"!==t.readyState&&"closed"!==t.readyState&&("connecting"===t.readyState?(this._messageQueue.push(e),!0):(this._publish(e),!0))},t}(n(47465).EventEmitter);e.exports=i},459:function(e){"use strict";e.exports=function(e){return import(e)}},74905:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this)||this;return t=Object.assign({maxAudioBitrate:null,maxVideoBitrate:null},t),Object.defineProperties(r,{maxAudioBitrate:{value:t.maxAudioBitrate,writable:!0},maxVideoBitrate:{value:t.maxVideoBitrate,writable:!0},adaptiveSimulcast:{value:n}}),r}return r(t,e),t.prototype.toJSON=function(){return{maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate}},t.prototype.update=function(e){var t=this;e=Object.assign({maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate},e),["maxAudioBitrate","maxVideoBitrate"].reduce((function(n,r){return t[r]!==e[r]&&(t[r]=e[r],n=!0),n}),!1)&&this.emit("changed")},t}(n(47465).EventEmitter);e.exports=i},5887:function(e,t,n){"use strict";var r=n(47465).EventEmitter,i=n(58242).hidePrivateAndCertainPublicPropertiesInClass;e.exports=i(r,["domain"])},22478:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(35166),a=n(49707),o={connect:n(70146),createLocalAudioTrack:n(12804).audio,createLocalVideoTrack:n(12804).video,isSupported:n(96415)(),version:n(1730).version,Logger:n(48489),LocalAudioTrack:n(66512).LocalAudioTrack,LocalDataTrack:n(66512).LocalDataTrack,LocalVideoTrack:n(66512).LocalVideoTrack};var s=o.isSupported,u=o.version,c=o.Logger,l=o.LocalAudioTrack,d=o.LocalVideoTrack,f=o.LocalDataTrack;e.exports={connect:function(e,t){var n=r({createLocalTracks:i.createLocalTracks},t);return o.connect(e,n)},createLocalAudioTrack:function(e){var t=r({createLocalTracks:i.createLocalTracks},e);return o.createLocalAudioTrack(t)},createLocalVideoTrack:function(e){var t=r({createLocalTracks:i.createLocalTracks},e);return o.createLocalVideoTrack(t)},createLocalTracks:i.createLocalTracks,runPreflight:a.runPreflight,isSupported:s,version:u,Logger:c,LocalAudioTrack:l,LocalVideoTrack:d,LocalDataTrack:f}},63675:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(25409).MediaStreamTrack,a=n(58242),o=a.asLocalTrack,s=a.asLocalTrackPublication,u=a.trackClass,c=n(24657),l=c.typeErrors,d=c.trackPriority,f=n(96340).Wv,p=n(66512),h=p.LocalAudioTrack,m=p.LocalDataTrack,v=p.LocalVideoTrack,g=n(79674),y=n(44977),b=n(53091),w=function(e){function t(t,n,r){var a=this,o=(r=Object.assign({LocalAudioTrack:h,LocalVideoTrack:v,LocalDataTrack:m,MediaStreamTrack:i,LocalAudioTrackPublication:g,LocalVideoTrackPublication:b,LocalDataTrackPublication:y,shouldStopLocalTracks:!1,tracks:n},r)).shouldStopLocalTracks?new Set(n.filter((function(e){return"data"!==e.kind}))):new Set;return a=e.call(this,t,r)||this,Object.defineProperties(a,{_eventObserver:{value:r.eventObserver},_LocalAudioTrack:{value:r.LocalAudioTrack},_LocalDataTrack:{value:r.LocalDataTrack},_LocalVideoTrack:{value:r.LocalVideoTrack},_MediaStreamTrack:{value:r.MediaStreamTrack},_LocalAudioTrackPublication:{value:r.LocalAudioTrackPublication},_LocalDataTrackPublication:{value:r.LocalDataTrackPublication},_LocalVideoTrackPublication:{value:r.LocalVideoTrackPublication},_tracksToStop:{value:o},signalingRegion:{enumerable:!0,get:function(){return t.signalingRegion}}}),a._handleTrackSignalingEvents(),a}return r(t,e),t.prototype._addTrack=function(t,n,r){var i=e.prototype._addTrack.call(this,t,n);return i&&"disconnected"!==this.state&&this._addLocalTrack(t,r),i},t.prototype._addLocalTrack=function(e,t){var n,r=null===(n=e.noiseCancellation)||void 0===n?void 0:n.vendor;this._signaling.addTrack(e._trackSender,e.name,t,r),this._log.info("Added a new "+u(e,!0)+":",e.id),this._log.debug(u(e,!0)+":",e)},t.prototype._removeTrack=function(t,n){var r=e.prototype._removeTrack.call(this,t,n);return r&&"disconnected"!==this.state&&(this._signaling.removeTrack(t._trackSender),this._log.info("Removed a "+u(t,!0)+":",t.id),this._log.debug(u(t,!0)+":",t)),r},t.prototype._getTrackEvents=function(){return e.prototype._getTrackEvents.call(this).concat([["disabled","trackDisabled"],["enabled","trackEnabled"],["stopped","trackStopped"]])},t.prototype.toString=function(){return"[LocalParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},t.prototype._handleTrackSignalingEvents=function(){var e=this,t=this._log;if("disconnected"!==this.state){var n=function(n){var r=e._signaling.getPublication(n._trackSender);r&&(r.disable(),t.debug("Disabled the "+u(n,!0)+":",n.id))},r=function(n){var r=e._signaling.getPublication(n._trackSender);r&&(r.enable(),t.debug("Enabled the "+u(n,!0)+":",n.id))},i=function(t){var n=e._signaling.getPublication(t._trackSender);return n&&n.stop(),n};this.on("trackDisabled",n),this.on("trackEnabled",r),this.on("trackStopped",i),this._signaling.on("stateChanged",(function a(o){t.debug("Transitioned to state:",o),"disconnected"===o?(t.debug("Removing LocalTrack event listeners"),e._signaling.removeListener("stateChanged",a),e.removeListener("trackDisabled",n),e.removeListener("trackEnabled",r),e.removeListener("trackStopped",i),e._tracks.forEach((function(e){var t=i(e);t&&e._trackSender.removeClone(t._trackTransceiver)})),t.info("LocalParticipant disconnected. Stopping "+e._tracksToStop.size+" automatically-acquired LocalTracks"),e._tracksToStop.forEach((function(e){e.stop()}))):"connected"===o&&(t.info("reconnected"),setTimeout((function(){return e.emit("reconnected")}),0))})),this._tracks.forEach((function(n){e._addLocalTrack(n,d.PRIORITY_STANDARD),e._getOrCreateLocalTrackPublication(n).catch((function(e){t.warn("Failed to get or create LocalTrackPublication for "+n+":",e)}))}))}},t.prototype._getOrCreateLocalTrackPublication=function(e){var t=k(this.tracks,e);if(t)return Promise.resolve(t);var n=this._log,r=this,i=this._signaling.getPublication(e._trackSender);return i?new Promise((function(a,o){i.on("updated",(function c(){var l=i.error;if(l)return i.removeListener("updated",c),n.warn("Failed to publish the "+u(e,!0)+": "+l.message),r._removeTrack(e,e.id),setTimeout((function(){r.emit("trackPublicationFailed",l,e)})),void o(l);if(!r._tracks.has(e.id))return i.removeListener("updated",c),void o(new Error("The "+e+" was unpublished"));if(i.sid){i.removeListener("updated",c);var d={log:n,LocalAudioTrackPublication:r._LocalAudioTrackPublication,LocalDataTrackPublication:r._LocalDataTrackPublication,LocalVideoTrackPublication:r._LocalVideoTrackPublication};t=k(r.tracks,e);var f=function(e){return r.emit("trackWarning",e,t)},p=function(){return r.emit("trackWarningsCleared",t)};t||(t=s(e,i,(function(e){t.removeListener("trackWarning",f),t.removeListener("trackWarningsCleared",p),r.unpublishTrack(e.track)}),d),r._addTrackPublication(t)),t.on("warning",f),t.on("warningsCleared",p);var h=r._signaling.state;"connected"!==h&&"connecting"!==h||(e._processorEventObserver&&e._processorEventObserver.on("event",(function(e){r._eventObserver.emit("event",{name:e.name,payload:e.data,group:"video-processor",level:"info"})})),e.processedTrack&&(e._captureFrames(),e._setSenderMediaStreamTrack(!0))),"connected"===h&&setTimeout((function(){r.emit("trackPublished",t)})),a(t)}}))})):Promise.reject(new Error("Unexpected error: The "+e+" cannot be published"))},t.prototype.publishTrack=function(e,t){var n,r=k(this.tracks,e);if(r)return Promise.resolve(r);t=Object.assign({log:this._log,priority:d.PRIORITY_STANDARD,LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack},t);try{n=o(e,t)}catch(c){return Promise.reject(c)}var i=n.noiseCancellation,a=this._signaling.audioProcessors;i&&!a.includes(i.vendor)&&(this._log.warn(i.vendor+" is not supported in this room. disabling it permanently"),i.disablePermanently());var s=Object.values(d);if(!s.includes(t.priority))return Promise.reject(l.INVALID_VALUE("LocalTrackPublishOptions.priority",s));var u=this._addTrack(n,n.id,t.priority)||this._tracks.get(n.id);return this._getOrCreateLocalTrackPublication(u)},t.prototype.publishTracks=function(e){if(!Array.isArray(e))throw l.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return Promise.all(e.map(this.publishTrack,this))},t.prototype.setBandwidthProfile=function(){this._log.warn("setBandwidthProfile is not implemented yet and may be available in future versions of twilio-video.js")},t.prototype.setNetworkQualityConfiguration=function(e){if("object"!==typeof e||null===e)throw l.INVALID_TYPE("networkQualityConfiguration","NetworkQualityConfiguration");return["local","remote"].forEach((function(t){if(t in e&&("number"!==typeof e[t]||isNaN(e[t])))throw l.INVALID_TYPE("networkQualityConfiguration."+t,"number")})),this._signaling.setNetworkQualityConfiguration(e),this},t.prototype.setParameters=function(e){if("undefined"!==typeof e&&"object"!==typeof e)throw l.INVALID_TYPE("encodingParameters","EncodingParameters, null or undefined");if(e){if(this._signaling.getParameters().adaptiveSimulcast&&e.maxVideoBitrate)throw l.INVALID_TYPE("encodingParameters",'encodingParameters.maxVideoBitrate is not compatible with "preferredVideoCodecs=auto"');["maxAudioBitrate","maxVideoBitrate"].forEach((function(t){if("undefined"!==typeof e[t]&&"number"!==typeof e[t]&&null!==e[t])throw l.INVALID_TYPE("encodingParameters."+t,"number, null or undefined")}))}else null===e&&(e={maxAudioBitrate:null,maxVideoBitrate:null});return this._signaling.setParameters(e),this},t.prototype.unpublishTrack=function(e){f(e,{LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack});var t=this._tracks.get(e.id);if(!t)return null;if(this._signaling.getPublication(t._trackSender).publishFailed(new Error("The "+t+" was unpublished")),!(t=this._removeTrack(t,t.id)))return null;var n=k(this.tracks,t);return n&&this._removeTrackPublication(n),n},t.prototype.unpublishTracks=function(e){var t=this;if(!Array.isArray(e))throw l.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return e.reduce((function(e,n){var r=t.unpublishTrack(n);return r?e.concat(r):e}),[])},t}(n(241));function k(e,t){return Array.from(e.values()).find((function(e){return e.track===t||e.track.mediaStreamTrack===t}))||null}e.exports=w},64591:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype._start=function(){e.prototype._start.call(this),this._dummyEl&&(this._dummyEl.srcObject=null,this._dummyEl=null)},t.prototype.attach=function(){return e.prototype.attach.apply(this,arguments)},t.prototype.detach=function(){return e.prototype.detach.apply(this,arguments)},t}(n(63592));e.exports=i},66512:function(e,t,n){"use strict";e.exports={LocalAudioTrack:n(47825),LocalVideoTrack:n(19826),LocalDataTrack:n(19571)}},47825:function(e,t,n){"use strict";var r=n(78812),i=n(69595);function a(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,a.prototype),n}r(a,i),e.exports=a},19571:function(e,t,n){"use strict";var r=n(78812),i=n(41378);function a(e){var t=new i(e);return Object.setPrototypeOf(t,a.prototype),t}r(a,i),e.exports=a},19826:function(e,t,n){"use strict";var r=n(78812),i=n(36950);function a(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,a.prototype),n}r(a,i),e.exports=a},16753:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(5887),a=n(58242),o=a.buildLogLevels,s=a.valueToJSON,u=n(24657).DEFAULT_LOG_LEVEL,c=n(41547),l=0,d=function(e){function t(t,n,r){var i;r=Object.assign({name:t,log:null,logLevel:u},r),i=e.call(this)||this;var a=String(r.name),s=o(r.logLevel),d=r.log?r.log.createLog("media",i):new c("media",i,s,r.loggerName);return Object.defineProperties(i,{_instanceId:{value:++l},_log:{value:d},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:a}}),i}return r(t,e),t.prototype.toJSON=function(){return s(this)},t}(i);e.exports=d},69595:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(64591),a=function(e){function t(t,n){var r,i=(null===n||void 0===n?void 0:n.noiseCancellation)||null;return r=e.call(this,t,n)||this,Object.defineProperties(r,{noiseCancellation:{enumerable:!0,value:i,writable:!1}}),r}return r(t,e),t.prototype.toString=function(){return"[LocalAudioTrack #"+this._instanceId+": "+this.id+"]"},t.prototype.attach=function(t){return(t=e.prototype.attach.call(this,t)).muted=!0,t},t.prototype._end=function(){return e.prototype._end.apply(this,arguments)},t.prototype._reacquireTrack=function(t){var n=this;return this._log.debug("_reacquireTrack: ",t),this.noiseCancellation?this.noiseCancellation.reacquireTrack((function(){return e.prototype._reacquireTrack.call(n,t)})):e.prototype._reacquireTrack.call(this,t)},t.prototype.disable=function(){return e.prototype.disable.apply(this,arguments)},t.prototype.enable=function(){return e.prototype.enable.apply(this,arguments)},t.prototype.restart=function(){return e.prototype.restart.apply(this,arguments)},t.prototype.stop=function(){return e.prototype.stop.apply(this,arguments)},t}(n(21760)(i));e.exports=a},79674:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return r(t,e),t.prototype.toString=function(){return"[LocalAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2918));e.exports=i},41378:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(16753),a=n(29701),o=function(e){function t(t){var n,r=new(0,(t=Object.assign({DataTrackSender:a,maxPacketLifeTime:null,maxRetransmits:null,ordered:!0},t)).DataTrackSender)(t.maxPacketLifeTime,t.maxRetransmits,t.ordered);return n=e.call(this,r.id,"data",t)||this,Object.defineProperties(n,{_trackSender:{value:r},id:{enumerable:!0,value:r.id},maxPacketLifeTime:{enumerable:!0,value:t.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:t.maxRetransmits},ordered:{enumerable:!0,value:t.ordered},reliable:{enumerable:!0,value:null===t.maxPacketLifeTime&&null===t.maxRetransmits}}),n}return r(t,e),t.prototype.send=function(e){this._trackSender.send(e)},t}(i);e.exports=o},44977:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return r(t,e),t.prototype.toString=function(){return"[LocalDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2918));e.exports=i},21760:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(25409).getUserMedia,a=n(73348),o=a.guessBrowser,s=a.isIOSChrome,u=n(58242),c=u.capitalize,l=u.defer,d=u.isUserMediaTrack,f=u.waitForSometime,p=u.waitForEvent,h=n(24657).typeErrors.ILLEGAL_INVOKE,m=n(11060),v=n(43377),g=n(72217),y=n(39271),b=n(21268),w=n(4742);function k(e){var t=e._log,n=e.kind,r={audio:m,video:v}[n],i=e._dummyEl,a=e.mediaStreamTrack,o=null;function s(){var n=e._workaroundWebKitBug1208516Cleanup,a=e.isStopped,s=e.mediaStreamTrack.muted,u=a&&!!n;return Promise.resolve().then((function(){return"visible"===document.visibilityState&&!o&&(s||u||i.play().then((function(){return r(i)})).then((function(e){return e?t.warn("Silence detected"):t.info("Non-silence detected"),e})).catch((function(e){t.warn("Failed to detect silence:",e)})).finally((function(){i.pause()})))}))}function u(){return Promise.race([p(a,"unmute"),f(50)]).then((function(){return s()})).then((function(r){return r&&!o&&(o=l(),e._restart().finally((function(){i=e._dummyEl,h(),a=e.mediaStreamTrack,d(),o.resolve(),o=null})).catch((function(e){t.error("failed to restart track: ",e)}))),(o&&o.promise||Promise.resolve()).finally((function(){return y.resolveDeferred(n)}))})).catch((function(e){t.error("error in maybeRestart: "+e.message)}))}function c(){var t=e._log,n=e.kind;t.info("Muted"),t.debug("LocalMediaTrack:",e),y.startDeferred(n)}function d(){a.addEventListener("ended",u),a.addEventListener("mute",c),a.addEventListener("unmute",u)}function h(){a.removeEventListener("ended",u),a.removeEventListener("mute",c),a.removeEventListener("unmute",u)}var b=function(e){return!!e&&u()};return g.onVisibilityChange(1,b),d(),function(){g.offVisibilityChange(1,b),h()}}e.exports=function(e){return function(e){function t(t,n){var r=this,a=("safari"===o()||s())&&d(t)&&"object"===typeof document&&"function"===typeof document.addEventListener&&"string"===typeof document.visibilityState;n=Object.assign({getUserMedia:i,isCreatedByCreateLocalTracks:!1,workaroundWebKitBug1208516:a,gUMSilentTrackWorkaround:b},n);var u=new w(t),c=u.kind;return r=e.call(this,u,n)||this,Object.defineProperties(r,{_constraints:{value:"object"===typeof n[c]?n[c]:{},writable:!0},_getUserMedia:{value:n.getUserMedia},_gUMSilentTrackWorkaround:{value:n.gUMSilentTrackWorkaround},_workaroundWebKitBug1208516:{value:n.workaroundWebKitBug1208516},_workaroundWebKitBug1208516Cleanup:{value:null,writable:!0},_didCallEnd:{value:!1,writable:!0},_isCreatedByCreateLocalTracks:{value:n.isCreatedByCreateLocalTracks},_trackSender:{value:u},id:{enumerable:!0,value:u.id},isEnabled:{enumerable:!0,get:function(){return u.enabled}},isStopped:{enumerable:!0,get:function(){return"ended"===u.readyState}}}),r._workaroundWebKitBug1208516&&(r._workaroundWebKitBug1208516Cleanup=k(r)),r}return r(t,e),t.prototype._end=function(){this._didCallEnd||(e.prototype._end.call(this),this._didCallEnd=!0,this.emit("stopped",this))},t.prototype._initialize=function(){this._didCallEnd&&(this._didCallEnd=!1),e.prototype._initialize.call(this)},t.prototype._reacquireTrack=function(e){var t,n=this,r=n._getUserMedia,i=n._gUMSilentTrackWorkaround,a=n._log,o=n.mediaStreamTrack.kind;a.info("Re-acquiring the MediaStreamTrack"),a.debug("Constraints:",e);var s=Object.assign({audio:!1,video:!1},((t={})[o]=e,t));return(this._workaroundWebKitBug1208516Cleanup?i(a,r,s):r(s)).then((function(e){return e.getTracks()[0]}))},t.prototype._restart=function(e){var t=this,n=this._log;return e=e||this._constraints,this._stop(),this._reacquireTrack(e).catch((function(t){throw n.error("Failed to re-acquire the MediaStreamTrack:",{error:t,constraints:e}),t})).then((function(r){return n.info("Re-acquired the MediaStreamTrack"),n.debug("MediaStreamTrack:",r),t._constraints=Object.assign({},e),t._setMediaStreamTrack(r)}))},t.prototype._setMediaStreamTrack=function(e){var t=this;return e.enabled=this.mediaStreamTrack.enabled,this._stop(),(this._unprocessedTrack?Promise.resolve().then((function(){t._unprocessedTrack=e})):this._trackSender.setMediaStreamTrack(e).catch((function(n){t._log.warn("setMediaStreamTrack failed:",{error:n,mediaStreamTrack:e})}))).then((function(){t._initialize(),t._getAllAttachedElements().forEach((function(e){return t._attach(e)}))}))},t.prototype._stop=function(){return this.mediaStreamTrack.stop(),this._end(),this},t.prototype.enable=function(e){return(e="boolean"!==typeof e||e)!==this.mediaStreamTrack.enabled&&(this._log.info((e?"En":"Dis")+"abling"),this.mediaStreamTrack.enabled=e,this.emit(e?"enabled":"disabled",this)),this},t.prototype.disable=function(){return this.enable(!1)},t.prototype.restart=function(e){var t=this,n=this.kind;if(!this._isCreatedByCreateLocalTracks)return Promise.reject(h("restart","can only be called on a Local"+c(n)+"Track that is created using createLocalTracks or createLocal"+c(n)+"Track."));this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null);var r=this._restart(e);return this._workaroundWebKitBug1208516&&(r=r.finally((function(){t._workaroundWebKitBug1208516Cleanup=k(t)}))),r},t.prototype.stop=function(){return this._log.info("Stopping"),this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null),this._stop()},t}(e)}},2918:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(54067),s=n(24657),u=s.typeErrors,c=s.trackPriority,l=function(e){function t(t,n,r,o){var s=e.call(this,n.name,t.sid,o)||this;return Object.defineProperties(s,{_reemitSignalingEvent:{value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.emit.apply(s,a([e&&e.length?"warning":"warningsCleared"],i(e)))}},_reemitTrackEvent:{value:function(){return s.emit(s.isTrackEnabled?"trackEnabled":"trackDisabled")}},_signaling:{value:t},_unpublish:{value:r},isTrackEnabled:{enumerable:!0,get:function(){return"data"===this.track.kind||this.track.isEnabled}},kind:{enumerable:!0,value:n.kind},priority:{enumerable:!0,get:function(){return t.updatedPriority}},track:{enumerable:!0,value:n}}),["disabled","enabled"].forEach((function(e){return n.on(e,s._reemitTrackEvent)})),["warning","warningsCleared"].forEach((function(e){return t.on(e,s._reemitSignalingEvent)})),s}return r(t,e),t.prototype.toString=function(){return"[LocalTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t.prototype.setPriority=function(e){var t=Object.values(c);if(!t.includes(e))throw u.INVALID_VALUE("priority",t);return this._signaling.setPriority(e),this},t.prototype.unpublish=function(){var e=this;return["disabled","enabled"].forEach((function(t){return e.track.removeListener(t,e._reemitTrackEvent)})),["warning","warningsCleared"].forEach((function(t){return e._signaling.removeListener(t,e._reemitSignalingEvent)})),this._unpublish(this),this},t}(o);e.exports=l},36950:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(73348),a=i.guessBrowser,o=i.isIOSChrome,s=n(43377),u=n(21760),c=n(79161),l=n(58242).isUserMediaTrack,d=function(e){function t(t,n){var r=this;return n=Object.assign({workaroundSilentLocalVideo:("safari"===a()||o())&&l(t)&&"undefined"!==typeof document&&"function"===typeof document.createElement},n),r=e.call(this,t,n)||this,Object.defineProperties(r,{_workaroundSilentLocalVideo:{value:n.workaroundSilentLocalVideo?f:null},_workaroundSilentLocalVideoCleanup:{value:null,writable:!0}}),r._workaroundSilentLocalVideo&&(r._workaroundSilentLocalVideoCleanup=r._workaroundSilentLocalVideo(r,document)),r}return r(t,e),t.prototype.toString=function(){return"[LocalVideoTrack #"+this._instanceId+": "+this.id+"]"},t.prototype._checkIfCanCaptureFrames=function(){return e.prototype._checkIfCanCaptureFrames.call(this,this._trackSender.isPublishing)},t.prototype._end=function(){return e.prototype._end.apply(this,arguments)},t.prototype._setSenderMediaStreamTrack=function(e){var t=this,n=this.mediaStreamTrack,r=e?this.processedTrack:n;return this._trackSender.setMediaStreamTrack(r).catch((function(e){return t._log.warn("setMediaStreamTrack failed on LocalVideoTrack RTCRtpSender",{error:e,mediaStreamTrack:r})})).then((function(){t._unprocessedTrack=e?n:null}))},t.prototype.addProcessor=function(){this._log.debug("Adding VideoProcessor to the LocalVideoTrack");var t=e.prototype.addProcessor.apply(this,arguments);return this.processedTrack?(this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the processed MediaStreamTrack",this.processedTrack),this._setSenderMediaStreamTrack(!0),t):this._log.warn("Unable to add a VideoProcessor to the LocalVideoTrack")},t.prototype.removeProcessor=function(){var t=this;this._log.debug("Removing VideoProcessor from the LocalVideoTrack");var n=e.prototype.removeProcessor.apply(this,arguments);return this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the original MediaStreamTrack"),this._setSenderMediaStreamTrack().then((function(){return t._updateElementsMediaStreamTrack()})),n},t.prototype.disable=function(){var t=e.prototype.disable.apply(this,arguments);return this.processedTrack&&(this.processedTrack.enabled=!1),t},t.prototype.enable=function(t){void 0===t&&(t=!0);var n=e.prototype.enable.apply(this,arguments);return this.processedTrack&&(this.processedTrack.enabled=t,t&&(this._captureFrames(),this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the processed MediaStreamTrack",this.processedTrack),this._setSenderMediaStreamTrack(!0))),n},t.prototype.restart=function(){var t=this;this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null);var n=e.prototype.restart.apply(this,arguments);return this.processor&&n.then((function(){t._restartProcessor()})),this._workaroundSilentLocalVideo&&n.finally((function(){t._workaroundSilentLocalVideoCleanup=t._workaroundSilentLocalVideo(t,document)})),n},t.prototype.stop=function(){return this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null),e.prototype.stop.apply(this,arguments)},t}(u(c));function f(e,t){var n=e._log,r=e._dummyEl,i=e.mediaStreamTrack;function a(){e.isEnabled&&(n.info("Unmuted, checking silence"),r.play().then((function(){return s(r,t)})).then((function(t){if(t)return n.warn("Silence detected, restarting"),e._stop(),e._restart();n.info("Non-silent frames detected, so no need to restart")})).catch((function(e){n.warn("Failed to detect silence and restart:",e)})).finally((function(){(r=e._dummyEl).paused||r.pause(),i.removeEventListener("unmute",a),(i=e.mediaStreamTrack).addEventListener("unmute",a)})))}return i.addEventListener("unmute",a),function(){i.removeEventListener("unmute",a)}}e.exports=d},53091:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return r(t,e),t.prototype.toString=function(){return"[LocalVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2918));e.exports=i},63592:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(73348),a=i.guessBrowser,o=i.isIOSChrome,s=n(25409).MediaStream,u=n(58242),c=u.waitForEvent,l=u.waitForSometime,d=n(39271),f=function(e){function t(t,n){var r=this;n=Object.assign({playPausedElementsIfNotBackgrounded:("safari"===a()||o())&&"object"===typeof document&&"function"===typeof document.addEventListener&&"string"===typeof document.visibilityState},n),r=e.call(this,t.id,t.kind,n)||this;var i=!1;return n=Object.assign({MediaStream:s},n),Object.defineProperties(r,{_attachments:{value:new Set},_dummyEl:{value:null,writable:!0},_elShims:{value:new WeakMap},_isStarted:{get:function(){return i},set:function(e){i=e}},_playPausedElementsIfNotBackgrounded:{value:n.playPausedElementsIfNotBackgrounded},_shouldShimAttachedElements:{value:n.workaroundWebKitBug212780||n.playPausedElementsIfNotBackgrounded},_unprocessedTrack:{value:null,writable:!0},_MediaStream:{value:n.MediaStream},isStarted:{enumerable:!0,get:function(){return i}},mediaStreamTrack:{enumerable:!0,get:function(){return this._unprocessedTrack||t.track}},processedTrack:{enumerable:!0,value:null,writable:!0}}),r._initialize(),r}return r(t,e),t.prototype._start=function(){this._log.debug("Started"),this._isStarted=!0,this._dummyEl&&(this._dummyEl.oncanplay=null),this.emit("started",this)},t.prototype._initialize=function(){var e=this;this._log.debug("Initializing"),this._dummyEl=this._createElement(),this.mediaStreamTrack.addEventListener("ended",(function t(){e._end(),e.mediaStreamTrack.removeEventListener("ended",t)})),this._dummyEl&&(this._dummyEl.muted=!0,this._dummyEl.oncanplay=this._start.bind(this,this._dummyEl),this._attach(this._dummyEl,this.mediaStreamTrack),this._attachments.delete(this._dummyEl))},t.prototype._end=function(){this._log.debug("Ended"),this._dummyEl&&(this._dummyEl.remove(),this._dummyEl.srcObject=null,this._dummyEl.oncanplay=null,this._dummyEl=null)},t.prototype.attach=function(e){var t=this;if("string"===typeof e?e=this._selectElement(e):e||(e=this._createElement()),this._log.debug("Attempting to attach to element:",e),e=this._attach(e),this._shouldShimAttachedElements&&!this._elShims.has(e)){var n=this._playPausedElementsIfNotBackgrounded?function(){return function(e,t){var n=e.tagName.toLowerCase();t.warn("Unintentionally paused:",e),Promise.race([c(document,"visibilitychange"),l(1e3)]).then((function(){"visible"===document.visibilityState&&d.whenResolved("audio").then((function(){return t.info("Playing unintentionally paused <"+n+"> element"),t.debug("Element:",e),e.play()})).then((function(){t.info("Successfully played unintentionally paused <"+n+"> element"),t.debug("Element:",e)})).catch((function(r){t.warn("Error while playing unintentionally paused <"+n+"> element:",{error:r,el:e})}))}))}(e,t._log)}:null;this._elShims.set(e,function(e,t){void 0===t&&(t=null);var n=e.pause,r=e.play,i=!1;e.pause=function(){return i=!0,n.call(e)},e.play=function(){return i=!1,r.call(e)};var a=t?function(){i||t()}:null;a&&e.addEventListener("pause",a);return{pausedIntentionally:function(){return i},unShim:function(){e.pause=n,e.play=r,a&&e.removeEventListener("pause",a)}}}(e,n))}return e},t.prototype._attach=function(e,t){void 0===t&&(t=this.processedTrack||this.mediaStreamTrack);var n=e.srcObject;n instanceof this._MediaStream||(n=new this._MediaStream);var r="audio"===t.kind?"getAudioTracks":"getVideoTracks";return n[r]().forEach((function(e){n.removeTrack(e)})),n.addTrack(t),e.srcObject=n,e.autoplay=!0,e.playsInline=!0,this._attachments.has(e)||this._attachments.add(e),e},t.prototype._selectElement=function(e){var t=document.querySelector(e);if(!t)throw new Error("Selector matched no element: "+e);return t},t.prototype._updateElementsMediaStreamTrack=function(){var e=this;this._log.debug("Reattaching all elements to update mediaStreamTrack"),this._getAllAttachedElements().forEach((function(t){return e._attach(t)}))},t.prototype._createElement=function(){return"undefined"!==typeof document?document.createElement(this.kind):null},t.prototype.detach=function(e){var t;return t="string"===typeof e?[this._selectElement(e)]:e?[e]:this._getAllAttachedElements(),this._log.debug("Attempting to detach from elements:",t),this._detachElements(t),e?t[0]:t},t.prototype._detachElements=function(e){return e.map(this._detachElement.bind(this))},t.prototype._detachElement=function(e){if(!this._attachments.has(e))return e;var t=e.srcObject;(t instanceof this._MediaStream&&t.removeTrack(this.processedTrack||this.mediaStreamTrack),this._attachments.delete(e),this._shouldShimAttachedElements&&this._elShims.has(e))&&(this._elShims.get(e).unShim(),this._elShims.delete(e));return e},t.prototype._getAllAttachedElements=function(){var e=[];return this._attachments.forEach((function(t){e.push(t)})),e},t}(n(16753));e.exports=f},6727:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.applyNoiseCancellation=t.NoiseCancellationImpl=void 0;var a=n(53143),o=(n(41547),function(){function e(e,t){this._processor=e,this._sourceTrack=t,this._disabledPermanent=!1}return Object.defineProperty(e.prototype,"vendor",{get:function(){return this._processor.vendor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sourceTrack",{get:function(){return this._sourceTrack},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._processor.isEnabled()},enumerable:!1,configurable:!0}),e.prototype.enable=function(){if(this._disabledPermanent)throw new Error(this.vendor+" noise cancellation is disabled permanently for this track");return this._processor.enable(),Promise.resolve()},e.prototype.disable=function(){return this._processor.disable(),Promise.resolve()},e.prototype.reacquireTrack=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return t=this._processor.isEnabled(),this._processor.disconnect(),[4,e()];case 1:return n=i.sent(),this._sourceTrack=n,[4,this._processor.connect(n)];case 2:return r=i.sent(),t?this._processor.enable():this._processor.disable(),[2,r]}}))}))},e.prototype.disablePermanently=function(){return this._disabledPermanent=!0,this.disable()},e}());t.NoiseCancellationImpl=o,t.applyNoiseCancellation=function(e,t,n){return r(this,void 0,void 0,(function(){var r,s,u,c;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a.createNoiseCancellationAudioProcessor(t,n)];case 1:return r=i.sent(),s=r.connect(e),u=new o(r,e),[2,{cleanTrack:s,noiseCancellation:u}];case 2:return c=i.sent(),n.warn("Failed to create noise cancellation. Returning normal audio track: "+c),[2,{cleanTrack:e}];case 3:return[2]}}))}))}},19811:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t}(n(33536));e.exports=i},76439:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(64591),a=function(e){function t(t,n,r,i,a,o,s){return e.call(this,t,n,r,i,a,o,s)||this}return r(t,e),t.prototype.toString=function(){return"[RemoteAudioTrack #"+this._instanceId+": "+this.sid+"]"},t.prototype.setPriority=function(t){return e.prototype.setPriority.call(this,t)},t}(n(9212)(i));e.exports=a},37505:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.toString=function(){return"[RemoteAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(63788));e.exports=i},2897:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(16753),s=n(24657),u=s.typeErrors,c=s.trackPriority,l=function(e){function t(t,n,r){var i=e.call(this,n.id,"data",r)||this;return Object.defineProperties(i,{_isSwitchedOff:{value:!1,writable:!0},_priority:{value:null,writable:!0},isEnabled:{enumerable:!0,value:!0},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},maxPacketLifeTime:{enumerable:!0,value:n.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:n.maxRetransmits},ordered:{enumerable:!0,value:n.ordered},priority:{enumerable:!0,get:function(){return this._priority}},reliable:{enumerable:!0,value:null===n.maxPacketLifeTime&&null===n.maxRetransmits},sid:{enumerable:!0,value:t}}),n.on("message",(function(e){i.emit("message",e,i)})),i}return r(t,e),t.prototype.setPriority=function(e){var t=a([null],i(Object.values(c)));if(!t.includes(e))throw u.INVALID_VALUE("priority",t);return this._priority=e,this},t.prototype._setEnabled=function(){},t.prototype._setSwitchedOff=function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))},t}(o);e.exports=l},73494:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.toString=function(){return"[RemoteDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(63788));e.exports=i},9212:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(24657),s=o.typeErrors,u=o.trackPriority,c=n(73348),l=c.guessBrowser,d=c.isIOSChrome,f=n(72217);e.exports=function(e){return function(e){function t(t,n,r,i,a,o,s){var u=this;return s=Object.assign({workaroundWebKitBug212780:("safari"===l()||d())&&"object"===typeof document&&"function"===typeof document.addEventListener&&"string"===typeof document.visibilityState},s),u=e.call(this,n,s)||this,Object.defineProperties(u,{_isEnabled:{value:r,writable:!0},_isSwitchedOff:{value:i,writable:!0},_priority:{value:null,writable:!0},_setPriority:{value:a},_setRenderHint:{value:function(e){u._log.debug("updating render hint:",e),o(e)}},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},priority:{enumerable:!0,get:function(){return this._priority}},sid:{enumerable:!0,value:t},_workaroundWebKitBug212780:{value:s.workaroundWebKitBug212780},_workaroundWebKitBug212780Cleanup:{value:null,writable:!0}}),u}return r(t,e),t.prototype.setPriority=function(e){var t=a([null],i(Object.values(u)));if(!t.includes(e))throw s.INVALID_VALUE("priority",t);return this._priority!==e&&(this._priority=e,this._setPriority(e)),this},t.prototype._setEnabled=function(e){this._isEnabled!==e&&(this._isEnabled=e,this.emit(this._isEnabled?"enabled":"disabled",this))},t.prototype._setSwitchedOff=function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))},t.prototype.attach=function(t){var n=e.prototype.attach.call(this,t);return!0!==this.mediaStreamTrack.enabled&&(this.mediaStreamTrack.enabled=!0,this.processedTrack&&(this.processedTrack.enabled=!0),this.processor&&this._captureFrames()),this._workaroundWebKitBug212780&&(this._workaroundWebKitBug212780Cleanup=this._workaroundWebKitBug212780Cleanup||function(e){var t=e._log,n=e.kind;function r(r){r&&e._attachments.forEach((function(r){var i=e._elShims.get(r);r.paused&&i&&!i.pausedIntentionally()&&(t.info("Playing inadvertently paused <"+n+"> element"),t.debug("Element:",r),t.debug("RemoteMediaTrack:",e),r.play().then((function(){t.info("Successfully played inadvertently paused <"+n+"> element"),t.debug("Element:",r),t.debug("RemoteMediaTrack:",e)})).catch((function(i){t.warn("Error while playing inadvertently paused <"+n+"> element:",{err:i,el:r,remoteMediaTrack:e})})))}))}return f.onVisibilityChange(2,r),function(){f.offVisibilityChange(2,r)}}(this)),n},t.prototype.detach=function(t){var n=e.prototype.detach.call(this,t);return 0===this._attachments.size&&(this.mediaStreamTrack.enabled=!1,this.processedTrack&&(this.processedTrack.enabled=!1),this._workaroundWebKitBug212780Cleanup&&(this._workaroundWebKitBug212780Cleanup(),this._workaroundWebKitBug212780Cleanup=null)),n},t}(e)}},63788:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t.name,t.sid,n)||this;Object.defineProperties(r,{_signaling:{value:t},_track:{value:null,writable:!0},isSubscribed:{enumerable:!0,get:function(){return!!this._track}},isTrackEnabled:{enumerable:!0,get:function(){return t.isEnabled}},kind:{enumerable:!0,value:t.kind},publishPriority:{enumerable:!0,get:function(){return t.priority}},track:{enumerable:!0,get:function(){return this._track}}});var i=t.error,a=t.isEnabled,o=t.isSwitchedOff,s=t.priority;return t.on("updated",(function(){if(i!==t.error)return i=t.error,void r.emit("subscriptionFailed",t.error);a!==t.isEnabled&&(a=t.isEnabled,r.track&&r.track._setEnabled(t.isEnabled),r.emit(t.isEnabled?"trackEnabled":"trackDisabled")),o!==t.isSwitchedOff&&(r._log.debug(r.trackSid+": "+(o?"OFF":"ON")+" => "+(t.isSwitchedOff?"OFF":"ON")),o=t.isSwitchedOff,r.track?(r.track._setSwitchedOff(t.isSwitchedOff),r.emit(o?"trackSwitchedOff":"trackSwitchedOn",r.track)):o&&r._log.warn("Track was not subscribed when switched Off.")),s!==t.priority&&(s=t.priority,r.emit("publishPriorityChanged",s))})),r}return r(t,e),t.prototype.toString=function(){return"[RemoteTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t.prototype._subscribed=function(e){!this._track&&e&&(this._track=e,this.emit("subscribed",e))},t.prototype._unsubscribe=function(){if(this._track){var e=this._track;this._track=null,this.emit("unsubscribed",e)}},t}(n(54067));e.exports=i},12512:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=n(9212),o=n(79161),s=n(72217),u=n(76770).NullObserver,c=n(91149),l=a(o),d=function(e){function t(t,n,r,i,a,o,s){var l=this;return s=Object.assign({clientTrackSwitchOffControl:"auto",contentPreferencesMode:"auto",enableDocumentVisibilityTurnOff:!0},s),s=Object.assign({IntersectionObserver:"undefined"===typeof IntersectionObserver||"auto"!==s.clientTrackSwitchOffControl?u:IntersectionObserver,ResizeObserver:"undefined"===typeof ResizeObserver||"auto"!==s.contentPreferencesMode?u:ResizeObserver},s),l=e.call(this,t,n,r,i,a,o,s)||this,Object.defineProperties(l,{_enableDocumentVisibilityTurnOff:{value:!0===s.enableDocumentVisibilityTurnOff&&"auto"===s.clientTrackSwitchOffControl},_documentVisibilityTurnOffCleanup:{value:null,writable:!0},_clientTrackSwitchOffControl:{value:s.clientTrackSwitchOffControl},_contentPreferencesMode:{value:s.contentPreferencesMode},_invisibleElements:{value:new WeakSet},_elToPipCallbacks:{value:new WeakMap},_elToPipWindows:{value:new WeakMap},_turnOffTimer:{value:new c((function(){l._setRenderHint({enabled:!1})}),50,!1)},_resizeObserver:{value:new s.ResizeObserver((function(e){e.find((function(e){return!l._invisibleElements.has(e.target)}))&&p(l)}))},_intersectionObserver:{value:new s.IntersectionObserver((function(e){var t=!1;e.forEach((function(e){!l._invisibleElements.has(e.target)!==e.isIntersecting&&(e.isIntersecting?(l._log.debug("intersectionObserver detected: Off => On"),l._invisibleElements.delete(e.target)):(l._log.debug("intersectionObserver detected: On => Off"),l._invisibleElements.add(e.target)),t=!0)})),t&&(f(l),p(l))}),{threshold:.25})}}),l}return r(t,e),t.prototype._start=function(t){var n=e.prototype._start.call(this,t);return f(this),n},t.prototype.switchOn=function(){if("manual"!==this._clientTrackSwitchOffControl)throw new Error('Invalid state. You can call switchOn only when bandwidthProfile.video.clientTrackSwitchOffControl is set to "manual"');return this._setRenderHint({enabled:!0}),this},t.prototype.switchOff=function(){if("manual"!==this._clientTrackSwitchOffControl)throw new Error('Invalid state. You can call switchOff only when bandwidthProfile.video.clientTrackSwitchOffControl is set to "manual"');return this._setRenderHint({enabled:!1}),this},t.prototype.setContentPreferences=function(e){if("manual"!==this._contentPreferencesMode)throw new Error('Invalid state. You can call switchOn only when bandwidthProfile.video.contentPreferencesMode is set to "manual"');return e.renderDimensions&&this._setRenderHint({renderDimensions:e.renderDimensions}),this},t.prototype._unObservePip=function(e){var t=this._elToPipCallbacks.get(e);t&&(e.removeEventListener("enterpictureinpicture",t.onEnterPip),e.removeEventListener("leavepictureinpicture",t.onLeavePip),this._elToPipCallbacks.delete(e))},t.prototype._observePip=function(e){var t=this;if(!this._elToPipCallbacks.get(e)){var n=function(n){return t._onEnterPip(n,e)},r=function(n){return t._onLeavePip(n,e)};e.addEventListener("enterpictureinpicture",n),e.addEventListener("leavepictureinpicture",r),this._elToPipCallbacks.set(e,{onEnterPip:n,onLeavePip:r,onResizePip:function(n){return t._onResizePip(n,e)}})}},t.prototype._onEnterPip=function(e,t){this._log.debug("onEnterPip");var n=e.pictureInPictureWindow;this._elToPipWindows.set(t,n);var r=this._elToPipCallbacks.get(t).onResizePip;n.addEventListener("resize",r),f(this)},t.prototype._onLeavePip=function(e,t){this._log.debug("onLeavePip"),this._elToPipWindows.delete(t);var n=this._elToPipCallbacks.get(t).onResizePip;e.pictureInPictureWindow.removeEventListener("resize",n),f(this)},t.prototype._onResizePip=function(){p(this)},t.prototype.attach=function(t){var n=e.prototype.attach.call(this,t);return"auto"===this._clientTrackSwitchOffControl&&this._invisibleElements.add(n),this._intersectionObserver.observe(n),this._resizeObserver.observe(n),this._enableDocumentVisibilityTurnOff&&(this._documentVisibilityTurnOffCleanup=this._documentVisibilityTurnOffCleanup||function(e){function t(){f(e)}return s.onVisibilityChange(1,t),function(){s.offVisibilityChange(1,t)}}(this)),this._observePip(n),n},t.prototype.detach=function(t){var n=this,r=e.prototype.detach.call(this,t);return(Array.isArray(r)?r:[r]).forEach((function(e){n._intersectionObserver.unobserve(e),n._resizeObserver.unobserve(e),n._invisibleElements.delete(e),n._unObservePip(e)})),0===this._attachments.size&&this._documentVisibilityTurnOffCleanup&&(this._documentVisibilityTurnOffCleanup(),this._documentVisibilityTurnOffCleanup=null),f(this),p(this),r},t.prototype.addProcessor=function(){return e.prototype.addProcessor.apply(this,arguments)},t.prototype.removeProcessor=function(){return e.prototype.removeProcessor.apply(this,arguments)},t.prototype.toString=function(){return"[RemoteVideoTrack #"+this._instanceId+": "+this.sid+"]"},t.prototype.setPriority=function(t){return e.prototype.setPriority.call(this,t)},t}(l);function f(e){if("auto"===e._clientTrackSwitchOffControl){var t=e._getAllAttachedElements().filter((function(t){return!e._invisibleElements.has(t)}));!0===(e._getAllAttachedElements().filter((function(t){return e._elToPipWindows.has(t)})).length>0||"visible"===document.visibilityState&&t.length>0)?(e._turnOffTimer.clear(),e._setRenderHint({enabled:!0})):e._turnOffTimer.isSet||e._turnOffTimer.start()}}function p(e){if("auto"===e._contentPreferencesMode){var t=e._getAllAttachedElements().filter((function(t){return!e._invisibleElements.has(t)})),n=e._getAllAttachedElements().map((function(t){var n=e._elToPipWindows.get(t);return n?{clientHeight:n.height,clientWidth:n.width}:{clientHeight:0,clientWidth:0}})),r=t.concat(n);if(r.length>0){var a=i(r.sort((function(e,t){return t.clientHeight+t.clientWidth-e.clientHeight-e.clientWidth-1})),1)[0],o={height:a.clientHeight,width:a.clientWidth};e._setRenderHint({renderDimensions:o})}}}e.exports=d},60667:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.toString=function(){return"[RemoteVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(63788));e.exports=i},4742:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=function(e){function t(t){var n=e.call(this,t.id,t)||this;return Object.defineProperties(n,{_clones:{value:new Set},_senders:{value:new Set},_senderToPublisherHintCallbacks:{value:new Map},isPublishing:{get:function(){return!!this._clones.size}}}),n}return r(t,e),t.prototype.clone=function(){var e=new t(this.track.clone());return this._clones.add(e),e},t.prototype.removeClone=function(e){this._clones.delete(e)},t.prototype.setMediaStreamTrack=function(e){var t=this,n=Array.from(this._clones),r=Array.from(this._senders);return Promise.all(n.map((function(t){return t.setMediaStreamTrack(e.clone())})).concat(r.map((function(n){return t._replaceTrack(n,e)})))).finally((function(){t._track=e}))},t.prototype.addSender=function(e,t){return this._senders.add(e),t&&this._senderToPublisherHintCallbacks.set(e,t),this},t.prototype.removeSender=function(e){return this._senders.delete(e),this._senderToPublisherHintCallbacks.delete(e),this},t.prototype.setPublisherHint=function(e){var t=i(Array.from(this._senderToPublisherHintCallbacks.values()),1)[0];return t?t(e):Promise.resolve("COULD_NOT_APPLY_HINT")},t.prototype._replaceTrack=function(e,t){var n=this;return e.replaceTrack(t).then((function(e){return n.setPublisherHint(null).catch((function(){})),n.emit("replaced"),e}))},t}(n(33536));e.exports=a},54067:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(5887),a=n(58242),o=a.buildLogLevels,s=a.valueToJSON,u=n(24657).DEFAULT_LOG_LEVEL,c=n(41547),l=0,d=function(e){function t(t,n,r){var i=e.call(this)||this;r=Object.assign({logLevel:u},r);var a=o(r.logLevel);return Object.defineProperties(i,{_instanceId:{value:l++},_log:{value:r.log?r.log.createLog("default",i):new c("default",i,a,r.loggerName)},trackName:{enumerable:!0,value:t},trackSid:{enumerable:!0,value:n}}),i}return r(t,e),t.prototype.toJSON=function(){return s(this)},t.prototype.toString=function(){return"[TrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(i);e.exports=d},33536:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,n.kind)||this;return Object.defineProperties(r,{_track:{value:n,writable:!0},enabled:{enumerable:!0,get:function(){return this._track.enabled}},readyState:{enumerable:!0,get:function(){return this._track.readyState}},track:{enumerable:!0,get:function(){return this._track}}}),r}return r(t,e),t.prototype.stop=function(){this.track.stop(),e.prototype.stop.call(this)},t}(n(97952));e.exports=i},74380:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(47465).EventEmitter,a=n(24657).DEFAULT_VIDEO_PROCESSOR_STATS_INTERVAL_MS,o=function(e){function t(t){var n=e.call(this)||this;return Object.defineProperties(n,{_lastStatsSaveTime:{value:null,writable:!0},_lastStatsPublishTime:{value:null,writable:!0},_log:{value:t},_processorInfo:{value:null,writable:!0},_stats:{value:null,writable:!0}}),n.on("add",(function(e){n._lastStatsSaveTime=Date.now(),n._lastStatsPublishTime=Date.now(),n._processorInfo=e,n._stats=[],n._reemitEvent("add",n._getEventData())})),n.on("remove",(function(){var e=n._getEventData();n._lastStatsSaveTime=null,n._lastStatsPublishTime=null,n._processorInfo=null,n._stats=null,n._reemitEvent("remove",e)})),n.on("start",(function(){n._reemitEvent("start",n._getEventData())})),n.on("stop",(function(e){n._reemitEvent("stop",Object.assign({message:e},n._getEventData()))})),n.on("stats",(function(){return n._maybeEmitStats()})),n}return r(t,e),t.prototype._getEventData=function(){if(!this._processorInfo)return{};var e=this._processorInfo,t=e.processor,n={captureHeight:e.captureHeight,captureWidth:e.captureWidth,inputFrameRate:e.inputFrameRate,isRemoteVideoTrack:e.isRemoteVideoTrack};return n.name=t._name||"VideoProcessor",["assetsPath","blurFilterRadius","fitType","isSimdEnabled","maskBlurRadius","version"].forEach((function(e){var r=t["_"+e];"undefined"!==typeof r&&(n[e]=r)})),Object.keys(n).forEach((function(e){var t=n[e];"boolean"===typeof t&&(n[e]=t?"true":"false")})),n},t.prototype._maybeEmitStats=function(){if(this._stats&&this._processorInfo){var e=this._processorInfo.processor._benchmark;if(e){var t=Date.now();if(!(t-this._lastStatsSaveTime<1e3)){var n={outputFrameRate:e.getRate("totalProcessingDelay")};if(["captureFrameDelay","imageCompositionDelay","inputImageResizeDelay","processFrameDelay","segmentationDelay"].forEach((function(t){n[t]=e.getAverageDelay(t)})),this._lastStatsSaveTime=t,this._stats.push(n),!(t-this._lastStatsPublishTime<a)){this._lastStatsPublishTime=t;var r=this._stats.splice(0).reduce((function(e,t,r){return Object.keys(n).forEach((function(n){e[n]||(e[n]=0),e[n]=(e[n]*r+t[n])/(r+1)})),e}),{});Object.keys(r).forEach((function(e){r[e]=parseFloat(r[e].toFixed(2))})),this._reemitEvent("stats",Object.assign({},r,this._getEventData()))}}}}},t.prototype._reemitEvent=function(e,t){this._log.debug("VideoProcessor:"+e,t),this.emit("event",{name:e,data:t})},t}(i);e.exports=o},79161:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(63592),a=n(74380),o=n(24657).DEFAULT_FRAME_RATE,s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Object.defineProperties(r,{_captureTimeoutId:{value:null,writable:!0},_isCapturing:{value:!1,writable:!0},_inputFrame:{value:null,writable:!0},_outputFrame:{value:null,writable:!0},_processorEventObserver:{value:null,writable:!0},_unmuteHandler:{value:null,writable:!0},dimensions:{enumerable:!0,value:{width:null,height:null}},processor:{enumerable:!0,value:null,writable:!0}}),r._processorEventObserver=new(n.VideoProcessorEventObserver||a)(r._log),r}return r(t,e),t.prototype._checkIfCanCaptureFrames=function(e){void 0===e&&(e=!1);var t=!0,n="",r=this.mediaStreamTrack;return r.enabled||(t=!1,n="MediaStreamTrack is disabled"),"ended"===r.readyState&&(t=!1,n="MediaStreamTrack is ended"),this.processor||(t=!1,n="VideoProcessor not detected."),this._attachments.size||e||(t=!1,n="VideoTrack is not publishing and there is no attached element."),n&&this._log.debug(n),{canCaptureFrames:t,message:n}},t.prototype._captureFrames=function(){var e=this;if(this._isCapturing)this._log.debug("Ignoring captureFrames call. Capture is already in progress");else{if(!this._checkIfCanCaptureFrames().canCaptureFrames)return this._isCapturing=!1,void this._log.debug("Cannot capture frames. Ignoring captureFrames call.");this._isCapturing=!0,this._processorEventObserver.emit("start"),this._log.debug("Start capturing frames");var t,n=Date.now();this._dummyEl.play().then((function(){var r=function(n){clearTimeout(e._captureTimeoutId);var r=e.mediaStreamTrack.getSettings().frameRate,i=void 0===r?o:r,a=Math.floor(1e3/i)-t;(a<0||"number"!==typeof t)&&(a=0),e._captureTimeoutId=setTimeout(n,a)};r((function i(){var a=e._checkIfCanCaptureFrames();if(!a.canCaptureFrames)return e._isCapturing=!1,e._processorEventObserver.emit("stop",a.message),void e._log.debug("Cannot capture frames. Stopping capturing frames.");n=Date.now();var o=e.mediaStreamTrack.getSettings(),s=o.width,u=void 0===s?0:s,c=o.height,l=void 0===c?0:c;e._inputFrame.width!==u&&(e._inputFrame.width=u,e._inputFrame.height=l,e._outputFrame&&(e._outputFrame.width=u,e._outputFrame.height=l)),e._inputFrame.getContext("2d").drawImage(e._dummyEl,0,0,u,l);var d=null;try{d=e.processor.processFrame(e._inputFrame,e._outputFrame)}catch(f){e._log.debug("Exception detected after calling processFrame.",f)}(d instanceof Promise?d:Promise.resolve(d)).then((function(){e._outputFrame&&(e.processedTrack.requestFrame(),e._processorEventObserver.emit("stats"))})).finally((function(){t=Date.now()-n,r(i)}))}))})).catch((function(t){return e._log.error("Video element cannot be played",{error:t,track:e})}))}},t.prototype._initialize=function(){var n=this;e.prototype._initialize.call(this),this._dummyEl&&(this._dummyEl.onloadedmetadata=function(){u(n,n._dummyEl)&&(n.dimensions.width=n._dummyEl.videoWidth,n.dimensions.height=n._dummyEl.videoHeight)},this._dummyEl.onresize=function(){u(n,n._dummyEl)&&(n.dimensions.width=n._dummyEl.videoWidth,n.dimensions.height=n._dummyEl.videoHeight,n.isStarted&&(n._log.debug("Dimensions changed:",n.dimensions),n.emit(t.DIMENSIONS_CHANGED,n)))})},t.prototype._restartProcessor=function(){var e=this.processor;e&&(this.removeProcessor(e),this.addProcessor(e))},t.prototype._start=function(n){return this.dimensions.width=n.videoWidth,this.dimensions.height=n.videoHeight,this._log.debug("Dimensions:",this.dimensions),this.emit(t.DIMENSIONS_CHANGED,this),e.prototype._start.call(this,n)},t.prototype.addProcessor=function(e){var t=this;if("function"!==typeof OffscreenCanvas)return this._log.warn("Adding a VideoProcessor is not supported in this browser.");if(!e||"function"!==typeof e.processFrame)throw new Error("Received an invalid VideoProcessor from addProcessor.");if(this.processor)throw new Error("A VideoProcessor has already been added.");if(!this._dummyEl)throw new Error("VideoTrack has not been initialized.");this._log.debug("Adding VideoProcessor to the VideoTrack",e),this._unmuteHandler||(this._unmuteHandler=function(){t._log.debug("mediaStreamTrack unmuted"),t.processedTrack.muted&&(t._log.debug("mediaStreamTrack is unmuted but processedTrack is muted. Restarting processor."),t._restartProcessor())},this.mediaStreamTrack.addEventListener("unmute",this._unmuteHandler));var n=this.mediaStreamTrack.getSettings(),r=n.width,i=void 0===r?0:r,a=n.height,s=void 0===a?0:a,u=n.frameRate,c=void 0===u?o:u;return this._inputFrame=new OffscreenCanvas(i,s),this._outputFrame=document.createElement("canvas"),this._outputFrame.width=i,this._outputFrame.height=s,this.processedTrack=this._outputFrame.captureStream(0).getTracks()[0],this.processedTrack.enabled=this.mediaStreamTrack.enabled,this.processor=e,this._processorEventObserver.emit("add",{processor:e,captureHeight:s,captureWidth:i,inputFrameRate:c,isRemoteVideoTrack:this.toString().includes("RemoteVideoTrack")}),this._updateElementsMediaStreamTrack(),this._captureFrames(),this},t.prototype.attach=function(){var t=e.prototype.attach.apply(this,arguments);return this.processor&&this._captureFrames(),t},t.prototype.detach=function(){return e.prototype.detach.apply(this,arguments)},t.prototype.removeProcessor=function(e){if(!e)throw new Error("Received an invalid VideoProcessor from removeProcessor.");if(!this.processor)throw new Error("No existing VideoProcessor detected.");if(e!==this.processor)throw new Error("The provided VideoProcessor is different than the existing one.");return this._processorEventObserver.emit("remove"),this._log.debug("Removing VideoProcessor from the VideoTrack",e),clearTimeout(this._captureTimeoutId),this.mediaStreamTrack.removeEventListener("unmute",this._unmuteHandler),this._unmuteHandler=null,this._isCapturing=!1,this.processor=null,this.processedTrack=null,this._inputFrame.getContext("2d").clearRect(0,0,this._inputFrame.width,this._inputFrame.height),this._outputFrame.getContext("2d").clearRect(0,0,this._outputFrame.width,this._outputFrame.height),this._inputFrame=null,this._outputFrame=null,this._updateElementsMediaStreamTrack(),this},t}(i);function u(e,t){return e.dimensions.width!==t.videoWidth||e.dimensions.height!==t.videoHeight}s.DIMENSIONS_CHANGED="dimensionsChanged",e.exports=s},42580:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=n(47465).EventEmitter,o=n(24657),s=o.DEFAULT_NQ_LEVEL_LOCAL,u=o.DEFAULT_NQ_LEVEL_REMOTE,c=o.MAX_NQ_LEVEL,l=n(58242).inRange,d=function(e){function t(t){var n=e.call(this)||this;return t=Object.assign({local:s,remote:u},t),Object.defineProperties(n,{local:{value:l(t.local,s,c)?t.local:s,writable:!0},remote:{value:l(t.remote,u,c)?t.remote:u,writable:!0}}),n}return r(t,e),t.prototype.update=function(e){var t=this;e=Object.assign({local:this.local,remote:this.remote},e),[["local",s,3],["remote",u,3]].forEach((function(n){var r=i(n,3),a=r[0],o=r[1],s=r[2];t[a]="number"===typeof e[a]&&l(e[a],o,s)?e[a]:o}))},t}(a);e.exports=d},53143:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createNoiseCancellationAudioProcessor=void 0;n(41547);var a=n(459),o=new Map;t.createNoiseCancellationAudioProcessor=function(e,t){return r(this,void 0,void 0,(function(){var n,r,s,u,c,l;return i(this,(function(i){switch(i.label){case 0:if(n=o.get(e.vendor))return[3,6];switch(r=void 0,s=e.sdkAssetsPath,e.vendor){case"krisp":r=s+"/krispsdk.mjs";break;case"rnnoise":r=s+"/rnnoise_sdk.mjs";break;default:throw new Error("Unsupported NoiseCancellationOptions.vendor: "+e.vendor)}i.label=1;case 1:return i.trys.push([1,5,,6]),t.debug("loading noise cancellation sdk: ",r),[4,a(r)];case 2:return u=i.sent(),t.debug("Loaded noise cancellation sdk:",u),(c=u.default).isInitialized()?[3,4]:(t.debug("initializing noise cancellation sdk: ",s),[4,c.init({rootDir:s})]);case 3:i.sent(),t.debug("noise cancellation sdk initialized!"),i.label=4;case 4:return n={vendor:e.vendor,isInitialized:function(){return c.isInitialized()},isConnected:function(){return c.isConnected()},isEnabled:function(){return c.isEnabled()},disconnect:function(){return c.disconnect()},enable:function(){return c.enable()},disable:function(){return c.disable()},destroy:function(){return c.destroy()},setLogging:function(e){return c.setLogging(e)},connect:function(e){t.debug("connect: ",e.id),c.isConnected()&&c.disconnect();var n=c.connect(new MediaStream([e]));if(!n)throw new Error("Error connecting with noise cancellation sdk");var r=n.getAudioTracks()[0];if(!r)throw new Error("Error getting clean track from noise cancellation sdk");return c.enable(),r}},o.set(e.vendor,n),[3,6];case 5:throw l=i.sent(),t.error("Error loading noise cancellation sdk:"+r,l),l;case 6:return[2,n]}}))}))}},241:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(5887),s=n(76439),u=n(37505),c=n(2897),l=n(73494),d=n(12512),f=n(60667),p=n(58242),h=0,m=function(e){function t(t,n){var r=e.call(this)||this,i=function(e){var t=e.map((function(e){return[e.id,e]})),n=t.filter((function(e){return"audio"===e[1].kind})),r=t.filter((function(e){return"video"===e[1].kind})),i=t.filter((function(e){return"data"===e[1].kind}));return{audioTracks:n,dataTracks:i,tracks:t,videoTracks:r}}((n=Object.assign({RemoteAudioTrack:s,RemoteAudioTrackPublication:u,RemoteDataTrack:c,RemoteDataTrackPublication:l,RemoteVideoTrack:d,RemoteVideoTrackPublication:f,tracks:[]},n)).tracks),a=n.log.createLog("default",r),o=new Map(i.audioTracks),p=new Map(i.dataTracks),m=new Map(i.tracks),g=new Map(i.videoTracks);return Object.defineProperties(r,{_RemoteAudioTrack:{value:n.RemoteAudioTrack},_RemoteAudioTrackPublication:{value:n.RemoteAudioTrackPublication},_RemoteDataTrack:{value:n.RemoteDataTrack},_RemoteDataTrackPublication:{value:n.RemoteDataTrackPublication},_RemoteVideoTrack:{value:n.RemoteVideoTrack},_RemoteVideoTrackPublication:{value:n.RemoteVideoTrackPublication},_audioTracks:{value:o},_dataTracks:{value:p},_instanceId:{value:++h},_clientTrackSwitchOffControl:{value:n.clientTrackSwitchOffControl},_contentPreferencesMode:{value:n.contentPreferencesMode},_log:{value:a},_signaling:{value:t},_tracks:{value:m},_trackEventReemitters:{value:new Map},_trackPublicationEventReemitters:{value:new Map},_trackSignalingUpdatedEventCallbacks:{value:new Map},_videoTracks:{value:g},audioTracks:{enumerable:!0,value:new Map},dataTracks:{enumerable:!0,value:new Map},identity:{enumerable:!0,get:function(){return t.identity}},networkQualityLevel:{enumerable:!0,get:function(){return t.networkQualityLevel}},networkQualityStats:{enumerable:!0,get:function(){return t.networkQualityStats}},sid:{enumerable:!0,get:function(){return t.sid}},state:{enumerable:!0,get:function(){return t.state}},tracks:{enumerable:!0,value:new Map},videoTracks:{enumerable:!0,value:new Map}}),r._tracks.forEach(v.bind(null,r)),t.on("networkQualityLevelChanged",(function(){return r.emit("networkQualityLevelChanged",r.networkQualityLevel,r.networkQualityStats&&(r.networkQualityStats.audio||r.networkQualityStats.video)?r.networkQualityStats:null)})),function(e,t){var n=e._log;if("disconnected"===e.state)return;t.on("stateChanged",(function r(i){n.debug("Transitioned to state:",i),e.emit(i,e),"disconnected"===i&&(n.debug("Removing Track event reemitters"),t.removeListener("stateChanged",r),e._tracks.forEach((function(t){var n=e._trackEventReemitters.get(t.id);t&&n&&n.forEach((function(e,n){t.removeListener(n,e)}))})),t.tracks.forEach((function(t){var n=e._tracks.get(t.id),r=e._trackEventReemitters.get(t.id);n&&r&&r.forEach((function(e,t){n.removeListener(t,e)}))})),e._trackEventReemitters.clear(),e.tracks.forEach((function(t){e._trackPublicationEventReemitters.get(t.trackSid).forEach((function(e,n){t.removeListener(n,e)}))})),e._trackPublicationEventReemitters.clear())}))}(r,t),a.info("Created a new Participant"+(r.identity?": "+r.identity:"")),r}return r(t,e),t.prototype._getTrackEvents=function(){return[["dimensionsChanged","trackDimensionsChanged"],["message","trackMessage"],["started","trackStarted"]]},t.prototype._getTrackPublicationEvents=function(){return[]},t.prototype.toString=function(){return"[Participant #"+this._instanceId+": "+this.sid+"]"},t.prototype._addTrack=function(e,t){var n=this._log;return this._tracks.has(t)?null:(this._tracks.set(t,e),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].set(t,e),v(this,e,t),n.info("Added a new "+p.trackClass(e)+":",t),n.debug(p.trackClass(e)+":",e),e)},t.prototype._addTrackPublication=function(e){var t=this._log;return this.tracks.has(e.trackSid)?null:(this.tracks.set(e.trackSid,e),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].set(e.trackSid,e),function(e,t){var n=new Map;if("disconnected"===e.state)return;e._getTrackPublicationEvents().forEach((function(r){var o=i(r,2),s=o[0],u=o[1];n.set(s,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.emit.apply(e,a(a([u],i(n)),[t]))})),t.on(s,n.get(s))})),e._trackPublicationEventReemitters.set(t.trackSid,n)}(this,e),t.info("Added a new "+p.trackPublicationClass(e)+":",e.trackSid),t.debug(p.trackPublicationClass(e)+":",e),e)},t.prototype._handleTrackSignalingEvents=function(){var e=this,t=e._log,n=e._clientTrackSwitchOffControl,r=e._contentPreferencesMode,a=this;if("disconnected"!==this.state){var o=this._RemoteAudioTrack,s=this._RemoteAudioTrackPublication,u=this._RemoteVideoTrack,c=this._RemoteVideoTrackPublication,l=this._RemoteDataTrack,d=this._RemoteDataTrackPublication,f=this._signaling;f.on("trackAdded",p),f.on("trackRemoved",h),f.tracks.forEach(p),f.on("stateChanged",(function e(n){"disconnected"===n?(t.debug("Removing event listeners"),f.removeListener("stateChanged",e),f.removeListener("trackAdded",p),f.removeListener("trackRemoved",h)):"connected"===n&&(t.info("reconnected"),setTimeout((function(){return a.emit("reconnected")}),0))}))}function p(e){var n=new(0,{audio:s,data:d,video:c}[e.kind])(e,{log:t});a._addTrackPublication(n);var r=e.isSubscribed;r&&m(e),a._trackSignalingUpdatedEventCallbacks.set(e.sid,(function(){if(r!==e.isSubscribed){if(r=e.isSubscribed)return void m(e);!function(e){var t=i(Array.from(a._tracks.entries()).find((function(t){return i(t,2)[1].sid===e.sid})),2),n=t[0],r=t[1],o=a.tracks.get(e.sid);r&&a._removeTrack(r,o,n)}(e)}})),e.on("updated",a._trackSignalingUpdatedEventCallbacks.get(e.sid))}function h(e){e.isSubscribed&&e.setTrackTransceiver(null);var t=a._trackSignalingUpdatedEventCallbacks.get(e.sid);t&&(e.removeListener("updated",t),a._trackSignalingUpdatedEventCallbacks.delete(e.sid));var n=a.tracks.get(e.sid);n&&a._removeTrackPublication(n)}function m(e){var i=e.isEnabled,s=e.name,c=e.kind,d=e.sid,p=e.trackTransceiver,h=e.isSwitchedOff,m={audio:o,video:u,data:l}[c],v=a.tracks.get(d);if(m&&c===p.kind){var g={log:t,name:s,clientTrackSwitchOffControl:n,contentPreferencesMode:r},y="data"===c?new m(d,p,g):new m(d,p,i,h,(function(e){return f.updateSubscriberTrackPriority(d,e)}),(function(t){e.isSubscribed&&f.updateTrackRenderHint(d,t)}),g);a._addTrack(y,v,p.id)}}},t.prototype._removeTrack=function(e,t){if(!this._tracks.has(t))return null;this._tracks.delete(t),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].delete(t),(this._trackEventReemitters.get(t)||new Map).forEach((function(t,n){e.removeListener(n,t)}));var n=this._log;return n.info("Removed a "+p.trackClass(e)+":",t),n.debug(p.trackClass(e)+":",e),e},t.prototype._removeTrackPublication=function(e){if(!(e=this.tracks.get(e.trackSid)))return null;this.tracks.delete(e.trackSid),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].delete(e.trackSid),(this._trackPublicationEventReemitters.get(e.trackSid)||new Map).forEach((function(t,n){e.removeListener(n,t)}));var t=this._log;return t.info("Removed a "+p.trackPublicationClass(e)+":",e.trackSid),t.debug(p.trackPublicationClass(e)+":",e),e},t.prototype.toJSON=function(){return p.valueToJSON(this)},t}(o);function v(e,t,n){var r=new Map;"disconnected"!==e.state&&(e._getTrackEvents().forEach((function(n){var o=n[0],s=n[1];r.set(o,(function(){var t=[s].concat([].slice.call(arguments));return e.emit.apply(e,a([],i(t)))})),t.on(o,r.get(o))})),e._trackEventReemitters.set(n,r))}e.exports=m},12364:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};function a(e,t,n,r){var i=[];return e.forEach((function(e){0!==r.length&&!r.includes(e.type)||0!==n.length&&!n.includes(e.kind)||"number"!==typeof e[t]||i.push(e[t])})),i}function o(e){return[{key:"transportId",type:"string"},{key:"candidateType",type:"string"},{key:"port",altKeys:["portNumber"],type:"number"},{key:"address",altKeys:["ip","ipAddress"],type:"string"},{key:"priority",type:"number"},{key:"protocol",altKeys:["transport"],type:"string"},{key:"url",type:"string"},{key:"relayProtocol",type:"string"}].reduce((function(t,n){var r=[n.key];n.altKeys&&(r=r.concat(n.altKeys));var i=r.find((function(t){return t in e}));return i&&typeof e[i]===n.type&&(t[n.key]=e[i]),t}),{})}Object.defineProperty(t,"__esModule",{value:!0}),t.getCombinedConnectionStats=void 0,t.getCombinedConnectionStats=function(e){var t=e.publisher,s=e.subscriber;return n(this,void 0,void 0,(function(){var e,n,u,c,l,d,f,p,h,m,v,g,y,b,w;return r(this,(function(r){switch(r.label){case 0:return[4,Promise.all([t,s].map((function(e){return e.getStats()})))];case 1:return e=i.apply(void 0,[r.sent(),2]),n=e[0],u=e[1],c=a(u,"timestamp",["audio"],["inbound-rtp"]),l=c.length>0?c[0]:0,d=a(u,"jitter",["audio"],["inbound-rtp"]).reduce((function(e,t){return Math.max(e,t)}),0),f=a(u,"packetsReceived",["audio","video"],["inbound-rtp"]).reduce((function(e,t){return e+t}),0),p=a(u,"packetsLost",["audio","video"],["inbound-rtp"]).reduce((function(e,t){return e+t}),0),h=a(n,"roundTripTime",["audio","video"],["remote-inbound-rtp"]).reduce((function(e,t){return Math.max(e,t)}),0),m=a(u,"currentRoundTripTime",[],["candidate-pair"]).reduce((function(e,t){return Math.max(e,t)}),0),v=1e3*(m||h),g=a(n,"bytesSent",[],["candidate-pair"]).reduce((function(e,t){return e+t}),0),y=a(u,"bytesReceived",[],["candidate-pair"]).reduce((function(e,t){return e+t}),0),b=function(e){var t=null,n=[];e.forEach((function(e){"transport"===e.type&&e.selectedCandidatePairId?t=e.selectedCandidatePairId:"candidate-pair"===e.type&&n.push(e)}));var r=n.find((function(e){return e.selected||t&&e.id===t}));if(!r)return null;var i=r,a=e.get(i.localCandidateId),s=e.get(i.remoteCandidateId);if(!a||!s)return null;return{localCandidate:o(a),remoteCandidate:o(s)}}(u),w=[],u.forEach((function(e){"local-candidate"!==e.type&&"remote-candidate"!==e.type||w.push(o(e))})),[2,{timestamp:l,jitter:d,packets:f,packetsLost:p,roundTripTime:v,bytesSent:g,bytesReceived:y,selectedIceCandidatePairStats:b,iceCandidateStats:w}]}}))}))}},29816:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTurnCredentials=void 0;var r=n(49536),i=n(24657).ICE_VERSION,a=n(89752),o=a.createTwilioError,s=a.SignalingConnectionError,u=n(47465);t.getTurnCredentials=function(e,t){return new Promise((function(n,a){var c=new u.EventEmitter,l=new r(t,{networkMonitor:null,eventObserver:c,helloBody:{edge:"roaming",preflight:!0,token:e,type:"ice",version:i}}),d=!1;l.once("close",(function(){d||(d=!0,a(new s))})),l.on("message",(function(e){var t=e.code,r=e.message,i=e.ice_servers,s=e.type;"iced"!==s&&"error"!==s||d||(d=!0,"iced"===s?n(i):a(o(t,r)),l.close())}))}))}},41358:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeStat=void 0,t.makeStat=function(e){return e&&e.length?{min:Math.min.apply(Math,r([],n(e))),max:Math.max.apply(Math,r([],n(e))),average:e.reduce((function(e,t){return e+t}),0)/e.length}:null}},22167:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mosToScore=t.calculateMOS=void 0;var n=94.768;t.calculateMOS=function(e,t,r){var i=e+2*t+10,a=0;switch(!0){case i<160:a=n-i/40;break;case i<1e3:a=n-(i-120)/10}if(!0===r<=a/2.5)a=Math.max(a-2.5*r,6.52);else a=0;return 1+.035*a+7e-6*a*(a-60)*(100-a)},t.mosToScore=function(e){return e?e>4.2?5:e>4?4:e>3.6?3:e>3?2:1:0}},49707:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.runPreflight=t.PreflightTest=void 0;var s=n(24657),u=n(38756),c=n(22167),l=n(12364),d=n(29816),f=n(41358),p=n(38678),h=n(47554),m=n(58242),v=n(24657).WS_SERVER,g=n(41547),y=n(5887),b=n(21288),w=n(16820),k=n(33512),x=n(22243),_=x.createSID,S=x.sessionSID,E=n(89752),C=E.SignalingConnectionTimeoutError,T=E.MediaConnectionError,A="mediaAcquired",O="connected",R="mediaSubscribed",I="mediaStarted",N="dtlsConnected",P="peerConnectionConnected",M="iceConnected";function L(e){return null!==e&&"undefined"!==typeof e}var D=0,F=function(e){function t(t,n){var r=e.call(this)||this;r._testTiming=new u.Timer,r._dtlsTiming=new u.Timer,r._iceTiming=new u.Timer,r._peerConnectionTiming=new u.Timer,r._mediaTiming=new u.Timer,r._connectTiming=new u.Timer,r._sentBytesMovingAverage=new b,r._packetLossMovingAverage=new b,r._progressEvents=[],r._receivedBytesMovingAverage=new b;var i=n,a=i.environment,o=void 0===a?"prod":a,c=i.region,l=void 0===c?"gll":c,d=i.duration,f=void 0===d?1e4:d,p=i.wsServer||v(o,l);return r._log=new g("default",r,s.DEFAULT_LOG_LEVEL,s.DEFAULT_LOGGER_NAME),r._testDuration=f,r._instanceId=D++,r._testTiming.start(),r._runPreflightTest(t,o,p),r}return r(t,e),t.prototype.toString=function(){return"[Preflight #"+this._instanceId+"]"},t.prototype.stop=function(){this._stopped=!0},t.prototype._generatePreflightReport=function(e){return this._testTiming.stop(),{testTiming:this._testTiming.getTimeMeasurement(),networkTiming:{dtls:this._dtlsTiming.getTimeMeasurement(),ice:this._iceTiming.getTimeMeasurement(),peerConnection:this._peerConnectionTiming.getTimeMeasurement(),connect:this._connectTiming.getTimeMeasurement(),media:this._mediaTiming.getTimeMeasurement()},stats:{jitter:f.makeStat(null===e||void 0===e?void 0:e.jitter),rtt:f.makeStat(null===e||void 0===e?void 0:e.rtt),packetLoss:f.makeStat(null===e||void 0===e?void 0:e.packetLoss)},selectedIceCandidatePairStats:e?e.selectedIceCandidatePairStats:null,iceCandidateStats:e?e.iceCandidateStats:[],progressEvents:this._progressEvents,mos:f.makeStat(null===e||void 0===e?void 0:e.mos)}},t.prototype._executePreflightStep=function(e,t,n){return a(this,void 0,void 0,(function(){var r,i,a,s;return o(this,(function(o){switch(o.label){case 0:if(this._log.debug("Executing step: ",e),r=this._testDuration+1e4,this._stopped)throw new Error("stopped");i=Promise.resolve().then(t),a=null,s=new Promise((function(t,i){a=setTimeout((function(){i(n||new Error(e+" timeout."))}),r)})),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,Promise.race([s,i])];case 2:return[2,o.sent()];case 3:return null!==a&&clearTimeout(a),[7];case 4:return[2]}}))}))},t.prototype._collectNetworkTimings=function(e){var t=this;return new Promise((function(n){var r;e.addEventListener("iceconnectionstatechange",(function(){"checking"===e.iceConnectionState&&t._iceTiming.start(),"connected"===e.iceConnectionState&&(t._iceTiming.stop(),t._updateProgress(M),(!r||r&&"connected"===r.state)&&n())})),e.addEventListener("connectionstatechange",(function(){"connecting"===e.connectionState&&t._peerConnectionTiming.start(),"connected"===e.connectionState&&(t._peerConnectionTiming.stop(),t._updateProgress(P))}));var i=e.getSenders().map((function(e){return e.transport})).find(L);"undefined"!==typeof i&&(r=i).addEventListener("statechange",(function(){"connecting"===r.state&&t._dtlsTiming.start(),"connected"===r.state&&(t._dtlsTiming.stop(),t._updateProgress(N),"connected"===e.iceConnectionState&&n())}))}))},t.prototype._setupInsights=function(e){var t=e.token,n=e.environment,r=void 0===n?s.DEFAULT_ENVIRONMENT:n,i=e.realm,a=void 0===i?s.DEFAULT_REALM:i,o=new k(t,s.SDK_NAME,s.SDK_VERSION,r,a,{});o.connect("PREFLIGHT_ROOM_SID","PREFLIGHT_PARTICIPANT");var u=new w(o,Date.now(),this._log),c=void 0;return{reportToInsights:function(e){var t,n,r=e.report,i=r.stats.jitter||c,a=r.stats.rtt||c,s=r.stats.packetLoss||c,l=r.mos||c,d=new Map;r.iceCandidateStats.forEach((function(e){if(e.candidateType&&e.protocol){var t=d.get(e.candidateType)||[];t.indexOf(e.protocol)<0&&t.push(e.protocol),d.set(e.candidateType,t)}}));var f=JSON.stringify(Object.fromEntries(d)),p={name:"report",group:"preflight",level:r.error?"error":"info",payload:{sessionSID:S,preflightSID:_("PF"),progressEvents:JSON.stringify(r.progressEvents),testTiming:r.testTiming,dtlsTiming:r.networkTiming.dtls,iceTiming:r.networkTiming.ice,peerConnectionTiming:r.networkTiming.peerConnection,connectTiming:r.networkTiming.connect,mediaTiming:r.networkTiming.media,selectedLocalCandidate:null===(t=r.selectedIceCandidatePairStats)||void 0===t?void 0:t.localCandidate,selectedRemoteCandidate:null===(n=r.selectedIceCandidatePairStats)||void 0===n?void 0:n.remoteCandidate,iceCandidateStats:f,jitterStats:i,rttStats:a,packetLossStats:s,mosStats:l,error:r.error}};u.emit("event",p),setTimeout((function(){return o.disconnect()}),2e3)}}},t.prototype._runPreflightTest=function(e,t,n){return a(this,void 0,void 0,(function(){var r,s,u,c,l,f,m,v,g,y,b,w,k=this;return o(this,(function(x){switch(x.label){case 0:r=[],s=[],u=this._setupInsights({token:e,environment:t}).reportToInsights,x.label=1;case 1:return x.trys.push([1,8,9,10]),c=[],[4,this._executePreflightStep("Acquire media",(function(){return[p.syntheticAudio(),h.syntheticVideo({width:640,height:480})]}))];case 2:return r=x.sent(),this._updateProgress(A),this.emit("debug",{localTracks:r}),this._connectTiming.start(),[4,this._executePreflightStep("Get turn credentials",(function(){return d.getTurnCredentials(e,n)}),new C)];case 3:return l=x.sent(),this._connectTiming.stop(),this._updateProgress(O),f=new RTCPeerConnection({iceServers:l,iceTransportPolicy:"relay",bundlePolicy:"max-bundle"}),m=new RTCPeerConnection({iceServers:l,bundlePolicy:"max-bundle"}),s.push(f),s.push(m),this._mediaTiming.start(),[4,this._executePreflightStep("Setup Peer Connections",(function(){return a(k,void 0,void 0,(function(){var e,t,n,i;return o(this,(function(a){switch(a.label){case 0:return f.addEventListener("icecandidate",(function(e){return e.candidate&&m.addIceCandidate(e.candidate)})),m.addEventListener("icecandidate",(function(e){return e.candidate&&f.addIceCandidate(e.candidate)})),r.forEach((function(e){return f.addTrack(e)})),e=new Promise((function(e){var t=[];m.addEventListener("track",(function(n){t.push(n.track),t.length===r.length&&e(t)}))})),[4,f.createOffer()];case 1:return t=a.sent(),n=t,[4,f.setLocalDescription(n)];case 2:return a.sent(),[4,m.setRemoteDescription(n)];case 3:return a.sent(),[4,m.createAnswer()];case 4:return i=a.sent(),[4,m.setLocalDescription(i)];case 5:return a.sent(),[4,f.setRemoteDescription(i)];case 6:return a.sent(),[4,this._collectNetworkTimings(f)];case 7:return a.sent(),[2,e]}}))}))}),new T)];case 4:return v=x.sent(),this.emit("debug",{remoteTracks:v}),v.forEach((function(e){e.addEventListener("ended",(function(){return k._log.warn(e.kind+":ended")})),e.addEventListener("mute",(function(){return k._log.warn(e.kind+":muted")})),e.addEventListener("unmute",(function(){return k._log.warn(e.kind+":unmuted")}))})),this._updateProgress(R),[4,this._executePreflightStep("Wait for tracks to start",(function(){return new Promise((function(e){var t=document.createElement("video");t.autoplay=!0,t.playsInline=!0,t.muted=!0,t.srcObject=new MediaStream(v),c.push(t),k.emit("debugElement",t),t.oncanplay=e}))}),new T)];case 5:return x.sent(),this._mediaTiming.stop(),this._updateProgress(I),[4,this._executePreflightStep("Collect stats for duration",(function(){return k._collectRTCStatsForDuration(k._testDuration,{mos:[],jitter:[],rtt:[],outgoingBitrate:[],incomingBitrate:[],packetLoss:[],selectedIceCandidatePairStats:null,iceCandidateStats:[]},f,m)}))];case 6:return g=x.sent(),[4,this._executePreflightStep("Generate report",(function(){return k._generatePreflightReport(g)}))];case 7:return y=x.sent(),u({report:y}),this.emit("completed",y),[3,10];case 8:return b=x.sent(),w=this._generatePreflightReport(),u({report:i(i({},w),{error:null===b||void 0===b?void 0:b.toString()})}),this.emit("failed",b,w),[3,10];case 9:return s.forEach((function(e){return e.close()})),r.forEach((function(e){return e.stop()})),[7];case 10:return[2]}}))}))},t.prototype._collectRTCStats=function(e,t,n){return a(this,void 0,void 0,(function(){var r,i,a,s,u,d,f,p,h,m,v,g,y,b;return o(this,(function(o){switch(o.label){case 0:return[4,l.getCombinedConnectionStats({publisher:t,subscriber:n})];case 1:return r=o.sent(),i=r.timestamp,a=r.bytesSent,s=r.bytesReceived,u=r.packets,d=r.packetsLost,f=r.roundTripTime,p=r.jitter,h=r.selectedIceCandidatePairStats,m=r.iceCandidateStats,v=e.jitter.length>0,e.jitter.push(p),e.rtt.push(f),this._sentBytesMovingAverage.putSample(a,i),this._receivedBytesMovingAverage.putSample(s,i),this._packetLossMovingAverage.putSample(d,u),v&&(e.outgoingBitrate.push(1e3*this._sentBytesMovingAverage.get()*8),e.incomingBitrate.push(1e3*this._receivedBytesMovingAverage.get()*8),g=this._packetLossMovingAverage.get(),y=Math.min(100,100*g),e.packetLoss.push(y),b=c.calculateMOS(f,p,g),e.mos.push(b)),e.selectedIceCandidatePairStats||(e.selectedIceCandidatePairStats=h),0===e.iceCandidateStats.length&&(e.iceCandidateStats=m),[2]}}))}))},t.prototype._collectRTCStatsForDuration=function(e,t,n,r){return a(this,void 0,void 0,(function(){var i,a,s;return o(this,(function(o){switch(o.label){case 0:return i=Date.now(),a=Math.min(1e3,e),[4,m.waitForSometime(a)];case 1:return o.sent(),[4,this._collectRTCStats(t,n,r)];case 2:return o.sent(),(s=e-(Date.now()-i))>0?[4,this._collectRTCStatsForDuration(s,t,n,r)]:[3,4];case 3:t=o.sent(),o.label=4;case 4:return[2,t]}}))}))},t.prototype._updateProgress=function(e){var t=Date.now()-this._testTiming.getTimeMeasurement().start;this._progressEvents.push({duration:t,name:e}),this.emit("progress",e)},t}(y);t.PreflightTest=F,t.runPreflight=function(e,t){return void 0===t&&(t={}),new F(e,t)}},38678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntheticAudio=void 0,t.syntheticAudio=function(){var e=n(63074),t={},r=e.getOrCreate(t),i=r.createOscillator(),a=i.connect(r.createMediaStreamDestination());i.start();var o=a.stream.getAudioTracks()[0],s=o.stop;return o.stop=function(){s.call(o),e.release(t)},o}},47554:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntheticVideo=void 0,t.syntheticVideo=function(e){var t=void 0===e?{}:e,n=t.width,r=void 0===n?640:n,i=t.height,a=void 0===i?480:i,o=Object.assign(document.createElement("canvas"),{width:r,height:a}),s=o.getContext("2d");s.fillStyle="green",s.fillRect(0,0,o.width,o.height);var u=!1;requestAnimationFrame((function e(){if(!u){var t=Math.round(255*Math.random()),n=Math.round(255*Math.random()),i=Math.round(255*Math.random()),o=Math.round(255*Math.random());s.fillStyle="rgba("+t+", "+n+", "+i+", "+o+")",s.fillRect(Math.random()*r,Math.random()*a,50,50),requestAnimationFrame(e)}}));var c=o.captureStream(30).getTracks()[0],l=c.stop;return c.stop=function(){u=!0,l.call(c)},c}},38756:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var n=function(){function e(){this._end=void 0,this.start()}return e.prototype.start=function(){return this._start=Date.now(),this},e.prototype.stop=function(){return this._end=Date.now(),this},e.prototype.getTimeMeasurement=function(){return{start:this._start,end:this._end,duration:void 0===this._end?void 0:this._end-this._start}},e}();t.Timer=n},16233:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_queuedEvents:{value:new Map}}),t}return r(t,e),t.prototype.dequeue=function(e){var t=this,n=!0;if(!e)return this._queuedEvents.forEach((function(e,t){n=this.dequeue(t)&&n}),this),n;var r=this._queuedEvents.get(e)||[];return this._queuedEvents.delete(e),r.reduce((function(n,r){return t.emit.apply(t,a([],i([e].concat(r))))&&n}),n)},t.prototype.queue=function(){var e=[].slice.call(arguments);if(this.emit.apply(this,a([],i(e))))return!0;var t=e[0];return this._queuedEvents.has(t)||this._queuedEvents.set(t,[]),this._queuedEvents.get(t).push(e.slice(1)),!1},t}(n(47465).EventEmitter);e.exports=o},75856:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._handleTrackSignalingEvents(),r.once("disconnected",r._unsubscribeTracks.bind(r)),r}return r(t,e),t.prototype.toString=function(){return"[RemoteParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},t.prototype._addTrack=function(t,n,r){return e.prototype._addTrack.call(this,t,r)?(n._subscribed(t),this.emit("trackSubscribed",t,n),t):null},t.prototype._addTrackPublication=function(t){var n=e.prototype._addTrackPublication.call(this,t);return n?(this.emit("trackPublished",n),n):null},t.prototype._getTrackPublicationEvents=function(){return a(a([],i(e.prototype._getTrackPublicationEvents.call(this))),[["subscriptionFailed","trackSubscriptionFailed"],["trackDisabled","trackDisabled"],["trackEnabled","trackEnabled"],["publishPriorityChanged","trackPublishPriorityChanged"],["trackSwitchedOff","trackSwitchedOff"],["trackSwitchedOn","trackSwitchedOn"]])},t.prototype._unsubscribeTracks=function(){var e=this;this.tracks.forEach((function(t){if(t.isSubscribed){var n=t.track;t._unsubscribe(),e.emit("trackUnsubscribed",n,t)}}))},t.prototype._removeTrack=function(t,n,r){var i=this._tracks.get(r);return i?(e.prototype._removeTrack.call(this,i,r),n._unsubscribe(),this.emit("trackUnsubscribed",i,n),i):null},t.prototype._removeTrackPublication=function(t){this._signaling.clearTrackHint(t.trackSid);var n=e.prototype._removeTrackPublication.call(this,t);return n?(this.emit("trackUnpublished",n),n):null},t}(n(241));e.exports=o},87981:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(5887),s=n(75856),u=n(68182),c=n(58242).valueToJSON,l=0,d=function(e){function t(t,n,r){var o,s,u=e.call(this)||this,c=r.log.createLog("default",u),d=new Map;return Object.defineProperties(u,{_log:{value:c},_clientTrackSwitchOffControl:{value:r.clientTrackSwitchOffControl||"disabled"},_contentPreferencesMode:{value:r.contentPreferencesMode||"disabled"},_instanceId:{value:++l},_options:{value:r},_participants:{value:d},_signaling:{value:n},dominantSpeaker:{enumerable:!0,get:function(){return this.participants.get(n.dominantSpeakerSid)||null}},isRecording:{enumerable:!0,get:function(){return n.recording.isEnabled||!1}},localParticipant:{enumerable:!0,value:t},name:{enumerable:!0,value:n.name},participants:{enumerable:!0,value:d},sid:{enumerable:!0,value:n.sid},state:{enumerable:!0,get:function(){return n.state}},mediaRegion:{enumerable:!0,value:n.mediaRegion}}),function(e,t){var n=["trackWarning","trackWarningsCleared"].map((function(n){return{eventName:n,handler:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e.emit.apply(e,a([n],i(a(a([],i(r)),[t]))))}}}));n.forEach((function(e){var n=e.eventName,r=e.handler;return t.on(n,r)})),e.once("disconnected",(function(){return n.forEach((function(e){var n=e.eventName,r=e.handler;return t.removeListener(n,r)}))}))}(u,t),o=u,(s=n.recording).on("updated",(function(){var e=s.isEnabled;o._log.info("Recording "+(e?"started":"stopped")),o.emit("recording"+(e?"Started":"Stopped"))})),function(e,t){var n=e._log;n.debug("Creating a new RemoteParticipant for each ParticipantSignaling in the RoomSignaling"),t.participants.forEach(p.bind(null,e)),n.debug("Setting up RemoteParticipant creation for all subsequent ParticipantSignalings that connect to the RoomSignaling"),t.on("participantConnected",p.bind(null,e)),t.on("dominantSpeakerChanged",(function(){return e.emit("dominantSpeakerChanged",e.dominantSpeaker)})),t.on("stateChanged",(function r(i,a){switch(n.info("Transitioned to state:",i),i){case"disconnected":e.participants.forEach((function(e){e._unsubscribeTracks()})),e.emit(i,e,a),e.localParticipant.tracks.forEach((function(e){e.unpublish()})),t.removeListener("stateChanged",r);break;case"reconnecting":setTimeout((function(){return e.emit("reconnecting",a)}),0);break;default:setTimeout((function(){return e.emit("reconnected")}),0)}}))}(u,n),function(e){var t=e.localParticipant._signaling.audioProcessors;e.localParticipant.audioTracks.forEach((function(n){var r=n.track.noiseCancellation;r&&!t.includes(r.vendor)&&(e._log.warn(r.vendor+" is not supported in this room. disabling it permanently"),r.disablePermanently())}))}(u),c.info("Created a new Room:",u.name),c.debug("Initial RemoteParticipants:",Array.from(u._participants.values())),u}return r(t,e),t.prototype.toString=function(){return"[Room #"+this._instanceId+": "+this.sid+"]"},t.prototype.disconnect=function(){return this._log.info("Disconnecting"),this._signaling.disconnect(),this},t.prototype.getStats=function(){var e=this;return this._signaling.getStats().then((function(t){return Array.from(t).map((function(t){var n=i(t,2),r=n[0],a=n[1];return new u(r,Object.assign({},a,{localAudioTrackStats:f(e,a.localAudioTrackStats),localVideoTrackStats:f(e,a.localVideoTrackStats)}))}))}))},t.prototype.toJSON=function(){return c(this)},t}(o);function f(e,t){var n=e.localParticipant._signaling;return t.reduce((function(e,t){var r=n.tracks.get(t.trackId),i=n.getSender(r);return i?[Object.assign({},t,{trackId:i.id})].concat(e):e}),[])}function p(e,t){var n=e._log,r=e._clientTrackSwitchOffControl,o=e._contentPreferencesMode,u=new s(t,{log:n,clientTrackSwitchOffControl:r,contentPreferencesMode:o});n.info("A new RemoteParticipant connected:",u),e._participants.set(u.sid,u),e.emit("participantConnected",u);var c=[["reconnected","participantReconnected"],["reconnecting","participantReconnecting"],"trackDimensionsChanged","trackDisabled","trackEnabled","trackMessage","trackPublished","trackPublishPriorityChanged","trackStarted","trackSubscribed","trackSubscriptionFailed","trackSwitchedOff","trackSwitchedOn","trackUnpublished","trackUnsubscribed"].map((function(t){var n=i(Array.isArray(t)?t:[t,t],2),r=n[0],o=n[1];function s(){var t=[].slice.call(arguments);t.unshift(o),t.push(u),e.emit.apply(e,a([],i(t)))}return u.on(r,s),[r,s]}));u.once("disconnected",(function(){var t=e.dominantSpeaker;n.info("RemoteParticipant disconnected:",u),e._participants.delete(u.sid),c.forEach((function(e){u.removeListener(e[0],e[1])})),e.emit("participantDisconnected",u),u===t&&e.emit("dominantSpeakerChanged",e.dominantSpeaker)}))}e.exports=d},32472:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(85166),a=n(7590),o=n(68021),s={closed:["opening"],opening:["closed","open"],open:["closed","closing"],closing:["closed","open"]},u=function(e){function t(){return e.call(this,"closed",s)||this}return r(t,e),t.prototype._close=function(e){return this.transition("closing",e),this.transition("closed",e),Promise.resolve(this)},t.prototype._connect=function(e,t,n,r,i){e.connect("PA00000000000000000000000000000000","test");var o=Promise.resolve(new a(e,"RM00000000000000000000000000000000",i));return o.cancel=function(){},o},t.prototype._open=function(e){return this.transition("opening",e),this.transition("open",e),Promise.resolve(this)},t.prototype.close=function(){var e=this;return this.bracket("close",(function(t){switch(e.state){case"closed":return e;case"open":return e._close(t);default:throw new Error('Unexpected Signaling state "'+e.state+'"')}}))},t.prototype.connect=function(e,t,n,r,i){var a=this;return this.bracket("connect",(function o(s){switch(a.state){case"closed":return a._open(s).then(o.bind(null,s));case"open":return a.releaseLockCompletely(s),a._connect(e,t,n,r,i);default:throw new Error('Unexpected Signaling state "'+a.state+'"')}}))},t.prototype.createLocalParticipantSignaling=function(){return new i},t.prototype.open=function(){var e=this;return this.bracket("open",(function(t){switch(e.state){case"closed":return e._open(t);case"open":return e;default:throw new Error('Unexpected Signaling state "'+e.state+'"')}}))},t}(o);e.exports=u},23544:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_publicationsToTrackSenders:{value:new Map},_trackSendersToPublications:{value:new Map}}),t}return r(t,e),t.prototype.addTrack=function(t,n,r,i){void 0===i&&(i=null);var a=this._createLocalTrackPublicationSignaling(t,n,r,i);return this._trackSendersToPublications.set(t,a),this._publicationsToTrackSenders.set(a,t),e.prototype.addTrack.call(this,a),this},t.prototype.getPublication=function(e){return this._trackSendersToPublications.get(e)||null},t.prototype.getSender=function(e){return this._publicationsToTrackSenders.get(e)||null},t.prototype.removeTrack=function(t){var n=this._trackSendersToPublications.get(t);return n?(this._trackSendersToPublications.delete(t),this._publicationsToTrackSenders.delete(n),e.prototype.removeTrack.call(this,n)&&n.stop(),n):null},t}(n(85166));e.exports=i},50402:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r){var i=this,a="data"===(t=t.clone()).kind||t.track.enabled;return(i=e.call(this,n,t.kind,a,r)||this).setTrackTransceiver(t),Object.defineProperties(i,{_updatedPriority:{value:r,writable:!0},id:{enumerable:!0,value:t.id}}),i}return r(t,e),Object.defineProperty(t.prototype,"updatedPriority",{get:function(){return this._updatedPriority},enumerable:!1,configurable:!0}),t.prototype.enable=function(t){return t="boolean"!==typeof t||t,this.trackTransceiver.track.enabled=t,e.prototype.enable.call(this,t)},t.prototype.publishFailed=function(e){return function(e,t){if(null!==e._sid||e._error)return!1;return e._error=t,!0}(this,e)&&this.emit("updated"),this},t.prototype.setPriority=function(e){return this._updatedPriority!==e&&(this._updatedPriority=e,this.emit("updated")),this},t.prototype.setSid=function(t){return this._error?this:e.prototype.setSid.call(this,t)},t.prototype.stop=function(){this.trackTransceiver.stop()},t}(n(68837));e.exports=i},85166:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(68021),a=n(7427),o={connecting:["connected"],connected:["disconnected","reconnecting"],reconnecting:["connected","disconnected"],disconnected:[]},s=function(e){function t(){var t=e.call(this,"connecting",o)||this;return Object.defineProperties(t,{_identity:{writable:!0,value:null},_networkQualityLevel:{value:null,writable:!0},_networkQualityStats:{value:null,writable:!0},_sid:{writable:!0,value:null},identity:{enumerable:!0,get:function(){return this._identity}},sid:{enumerable:!0,get:function(){return this._sid}},tracks:{enumerable:!0,value:new Map}}),t}return r(t,e),Object.defineProperty(t.prototype,"networkQualityLevel",{get:function(){return this._networkQualityLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"networkQualityStats",{get:function(){return this._networkQualityStats},enumerable:!1,configurable:!0}),t.prototype.addTrack=function(e){return this.tracks.set(e.id||e.sid,e),this.emit("trackAdded",e),this},t.prototype.disconnect=function(){return"disconnected"!==this.state&&(this.preempt("disconnected"),!0)},t.prototype.removeTrack=function(e){var t=this.tracks.get(e.id||e.sid);return this.tracks.delete(e.id||e.sid),t&&this.emit("trackRemoved",e),t||null},t.prototype.setNetworkQualityLevel=function(e,t){this._networkQualityLevel!==e&&(this._networkQualityLevel=e,this._networkQualityStats=t&&(t.audio||t.video)?new a(t):null,this.emit("networkQualityLevelChanged"))},t.prototype.connect=function(e,t){return("connecting"===this.state||"reconnecting"===this.state)&&(this._sid||(this._sid=e),this._identity||(this._identity=t),this.preempt("connected"),!0)},t.prototype.reconnecting=function(){return("connecting"===this.state||"connected"===this.state)&&(this.preempt("reconnecting"),!0)},t}(i);e.exports=s},9330:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_isEnabled:{value:null,writable:!0},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}}}),t}return r(t,e),t.prototype.disable=function(){return this.enable(!1)},t.prototype.enable=function(e){return e="boolean"!==typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this},t}(n(47465).EventEmitter);e.exports=i},72502:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this)||this;return r.connect(t,n),r}return r(t,e),t}(n(85166));e.exports=i},27534:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i,a,o){var s=e.call(this,n,r,i,a)||this;return Object.defineProperties(s,{_isSwitchedOff:{value:o,writable:!0}}),s.setSid(t),s}return r(t,e),Object.defineProperty(t.prototype,"isSubscribed",{get:function(){return!!this.trackTransceiver},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSwitchedOff",{get:function(){return this._isSwitchedOff},enumerable:!1,configurable:!0}),t.prototype.subscribeFailed=function(e){return this.error||(this._error=e,this.emit("updated")),this},t.prototype.setPriority=function(e){return this._priority!==e&&(this._priority=e,this.emit("updated")),this},t.prototype.setSwitchedOff=function(e){return this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit("updated")),this},t}(n(68837));e.exports=i},7590:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(9330),a=n(68021),o=n(91149),s=n(58242).buildLogLevels,u=n(24657).DEFAULT_LOG_LEVEL,c=n(41547),l=n(89752),d=l.MediaConnectionError,f=l.MediaDTLSTransportFailedError,p=l.SignalingConnectionDisconnectedError,h=0,m={connected:["reconnecting","disconnected"],reconnecting:["connected","disconnected"],disconnected:[]},v=function(e){function t(t,n,r,a){var l=this;a=Object.assign({logLevel:u,RecordingSignaling:i,Timeout:o},a);var d=s(a.logLevel);l=e.call(this,"connected",m)||this;var p=a.RecordingSignaling,v=new a.Timeout((function(){l._disconnect(l._reconnectingError)}),a.sessionTimeout,!1);return Object.defineProperties(l,{_instanceId:{value:h++},_log:{value:a.log?a.log.createLog("default",l):new c("default",l,d,a.loggerName)},_mediaConnectionIsReconnecting:{writable:!0,value:!1},_options:{value:a},_reconnectingError:{value:null,writable:!0},_sessionTimeout:{value:v},dominantSpeakerSid:{enumerable:!0,value:null,writable:!0},localParticipant:{enumerable:!0,value:t},name:{enumerable:!0,value:r},participants:{enumerable:!0,value:new Map},recording:{enumerable:!0,value:new p},sid:{enumerable:!0,value:n}}),l.on("connectionStateChanged",(function(){"failed"!==l.connectionState||["disconnected","failed"].includes(l.iceConnectionState)||l._disconnect(new f)})),l.on("iceConnectionStateChanged",(function(){return g(l)})),l.on("signalingConnectionStateChanged",(function(){return g(l)})),setTimeout((function(){return g(l)})),l}return r(t,e),t.prototype._disconnect=function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),!0)},t.prototype.toString=function(){return"[RoomSignaling #"+this._instanceId+": "+(this.localParticipant?this.localParticipant.sid:"null")+"]"},t.prototype.connectParticipant=function(e){var t=this;return"disconnected"!==e.state&&(!this.participants.has(e.sid)&&(this.participants.set(e.sid,e),e.on("stateChanged",(function n(r){"disconnected"===r&&(e.removeListener("stateChanged",n),t.participants.delete(e.sid),t.emit("participantDisconnected",e))})),this.emit("participantConnected",e),!0))},t.prototype.disconnect=function(){return this._disconnect()},t.prototype.setDominantSpeaker=function(e){this.dominantSpeakerSid=e,this.emit("dominantSpeakerChanged")},t}(a);function g(e){var t;"disconnected"!==e.state&&"disconnected"!==e.signalingConnectionState?("reconnecting"===e.signalingConnectionState?t=e.signalingConnectionState:"failed"===e.iceConnectionState?(e._mediaConnectionIsReconnecting=!0,t="reconnecting"):"new"===e.iceConnectionState||"checking"===e.iceConnectionState?t=e._mediaConnectionIsReconnecting?"reconnecting":"connected":(e._mediaConnectionIsReconnecting=!1,e._reconnectingError=null,e._sessionTimeout.clear(),t="connected"),t!==e.state&&("reconnecting"===t?(e._reconnectingError="reconnecting"===e.signalingConnectionState?new p:new d,e._sessionTimeout.start(),e.preempt(t,null,[e._reconnectingError])):e.preempt(t))):e._sessionTimeout.clear()}e.exports=v},68837:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){var a=e.call(this)||this,o=null;return Object.defineProperties(a,{_error:{value:null,writable:!0},_isEnabled:{value:r,writable:!0},_priority:{value:i,writable:!0},_trackTransceiver:{value:null,writable:!0},_sid:{get:function(){return o},set:function(e){null===o&&(o=e)}},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:t}}),a}return r(t,e),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this._isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sid",{get:function(){return this._sid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackTransceiver",{get:function(){return this._trackTransceiver},enumerable:!1,configurable:!0}),t.prototype.disable=function(){return this.enable(!1)},t.prototype.enable=function(e){return e="boolean"!==typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this},t.prototype.setTrackTransceiver=function(e){return e=e||null,this.trackTransceiver!==e&&(this._trackTransceiver=e,this.emit("updated")),this},t.prototype.setSid=function(e){return null===this.sid&&(this._sid=e,this.emit("updated")),this},t}(n(47465).EventEmitter);e.exports=i},49220:function(e,t,n){"use strict";var r=n(38156),i=n(52051),a=n(49609),o=n(1963),s=n(89752),u=s.SignalingConnectionDisconnectedError,c=s.SignalingIncomingMessageInvalidError,l=n(58242),d=l.flatMap,f=l.createRoomConnectEventPayload;e.exports=function(e,t,n,s,l,p){p=Object.assign({PeerConnectionManager:i,RoomV2:a,Transport:o},p);var h=l.video[0]&&!0===l.video[0].adaptiveSimulcast,m=p.PeerConnectionManager,v=p.RoomV2,g=p.Transport,y=p.iceServers,b=p.log,w=new m(s,l,p),k=d(n.tracks,(function(e){return[e.trackTransceiver]}));w.setTrackSenders(k);var x,_=new Error("Canceled"),S=new r((function(r,i,a){var o=p.automaticSubscription,s=p.bandwidthProfile,l=p.dominantSpeaker,d=p.environment,m=p.eventObserver,k=p.loggerName,S=p.logLevel,E=p.name,C=p.networkMonitor,T=p.networkQuality,A=p.notifyWarnings,O=p.realm,R=p.sdpSemantics,I=!!s,N=!!s,P=!!s&&("disabled"!==p.clientTrackSwitchOffControl||"disabled"!==p.contentPreferencesMode),M=Object.assign({adaptiveSimulcast:h,automaticSubscription:o,dominantSpeaker:l,environment:d,eventObserver:m,loggerName:k,logLevel:S,networkMonitor:C,networkQuality:T,notifyWarnings:A,iceServers:y,onIced:function(e){return a()?(i(_),Promise.reject(_)):(b.debug("Got ICE servers:",e),p.iceServers=e,w.setConfiguration(p),w.createAndOffer().then((function(){if(a())throw i(_),_;b.debug("createAndOffer() succeeded."),w.dequeue("description")})).catch((function(e){throw b.error("createAndOffer() failed:",e),i(e),e})))},realm:O,renderHints:P,sdpSemantics:R,trackPriority:I,trackSwitchOff:N},s?{bandwidthProfile:s}:{});x=new g(E,e,n,w,t,M);var L=f(p);m.emit("event",L),x.once("connected",(function(e){(b.debug("Transport connected:",e),a())?i(_):e.participant?r(new v(n,e,x,w,p)):i(new c)})),x.once("stateChanged",(function(e,t){"disconnected"===e?(x=null,i(t||new u)):b.debug("Transport state changed:",e)}))}),(function(){x&&(x.disconnect(),x=null)}));return S.catch((function(){x&&(x.disconnect(),x=null),w.close()})),S}},84253:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,"active_speaker",n)||this;return Object.defineProperties(r,{_loudestParticipantSid:{value:null,writable:!0}}),r.on("ready",(function(e){e.on("message",(function(e){if("active_speaker"===e.type)r._setLoudestParticipantSid(e.participant)}))})),r}return r(t,e),Object.defineProperty(t.prototype,"loudestParticipantSid",{get:function(){return this._loudestParticipantSid},enumerable:!1,configurable:!0}),t.prototype._setLoudestParticipantSid=function(e){this.loudestParticipantSid!==e&&(this._loudestParticipantSid=e,this.emit("updated"))},t}(n(85663));e.exports=i},82034:function(e,t,n){"use strict";var r=n(93307),i=function(){function e(){Object.defineProperties(this,{_filter:{value:new r({getKey:function(e){return e.ufrag},isLessThanOrEqualTo:function(e,t){return e.revision<=t.revision}})},_ufrag:{writable:!0,value:null},ufrag:{enumerable:!0,get:function(){return this._ufrag}}})}return e.prototype.setUfrag=function(e){this._ufrag=e;var t=this._filter.toMap().get(e);return t?t.candidates:[]},e.prototype.update=function(e){e.candidates=e.candidates||[];var t=this._filter.toMap().get(e.ufrag),n=t?t.candidates:[];return this._filter.update(e)&&this._ufrag===e.ufrag?e.candidates.slice(n.length):[]},e}();e.exports=i},50474:function(e,t,n){"use strict";var r=n(24657),i=r.ICE_ACTIVITY_CHECK_PERIOD_MS,a=r.ICE_INACTIVITY_THRESHOLD_MS,o=function(){function e(e,t){t=Object.assign({activityCheckPeriodMs:i,inactivityThresholdMs:a},t),Object.defineProperties(this,{_activityCheckPeriodMs:{value:t.activityCheckPeriodMs},_inactivityThresholdMs:{value:t.inactivityThresholdMs},_lastActivity:{value:null,writable:!0},_peerConnection:{value:e},_timer:{value:null,writable:!0},_onIceConnectionStateChanged:{value:null,writable:!0}})}return e.prototype._getActivePairStat=function(e){return Array.from(e.values()).find((function(e){return"candidate-pair"===e.type&&e.nominated}))||{bytesReceived:0,timestamp:Math.round((new Date).getTime())}},e.prototype._getIceConnectionStats=function(){var e=this;return this._peerConnection.getStats().then((function(t){return e._getActivePairStat(t)})).catch((function(){return null}))},e.prototype._scheduleInactivityCallback=function(e){var t=this;e&&null===this._onIceConnectionStateChanged?(this._onIceConnectionStateChanged=function(){"disconnected"===t._peerConnection.iceConnectionState&&e()},this._peerConnection.addEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged)):!e&&this._onIceConnectionStateChanged&&(this._peerConnection.removeEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged),this._onIceConnectionStateChanged=null)},e.prototype.start=function(e){var t=this;this.stop(),this._timer=setInterval((function(){t._getIceConnectionStats().then((function(n){n&&(t._lastActivity&&t._lastActivity.bytesReceived===n.bytesReceived||(t._lastActivity=n,t._scheduleInactivityCallback(null)),n.timestamp-t._lastActivity.timestamp>=t._inactivityThresholdMs&&("disconnected"===t._peerConnection.iceConnectionState?e():null===t._onIceConnectionStateChanged&&t._scheduleInactivityCallback(e)))}))}),this._activityCheckPeriodMs)},e.prototype.stop=function(){this._scheduleInactivityCallback(null),null!==this._timer&&(clearInterval(this._timer),this._timer=null,this._lastActivity=null)},e}();e.exports=o},68179:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(49220),a=n(57175),o=function(e){function t(t,n){var r;return n=Object.assign({createCancelableRoomSignalingPromise:i},n),r=e.call(this)||this,Object.defineProperties(r,{_createCancelableRoomSignalingPromise:{value:n.createCancelableRoomSignalingPromise},_options:{value:n},_wsServer:{value:t}}),r}return r(t,e),t.prototype._connect=function(e,t,n,r,i){return i=Object.assign({},this._options,i),this._createCancelableRoomSignalingPromise.bind(null,t,this._wsServer,e,n,r,i)},t.prototype.createLocalParticipantSignaling=function(e,t){return new a(e,t)},t}(n(32472));e.exports=o},57175:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(23544),a=n(98803),o=n(24657).DEFAULT_LOG_LEVEL,s=n(41547),u=n(58242),c=u.buildLogLevels,l=u.isDeepEqual,d=function(e){function t(t,n,r){var i;r=Object.assign({logLevel:o,LocalTrackPublicationV2:a},r),i=e.call(this)||this;var u=c(r.logLevel);return Object.defineProperties(i,{_bandwidthProfile:{value:null,writable:!0},_bandwidthProfileRevision:{value:0,writable:!0},_encodingParameters:{value:t},_removeListeners:{value:new Map},_LocalTrackPublicationV2:{value:r.LocalTrackPublicationV2},_log:{value:r.log?r.log.createLog("default",i):new s("default",i,u,r.loggerName)},_publishedRevision:{writable:!0,value:0},_revision:{writable:!0,value:1},_signalingRegion:{value:null,writable:!0},audioProcessors:{value:[],writable:!0},bandwidthProfile:{enumerable:!0,get:function(){return this._bandwidthProfile}},bandwidthProfileRevision:{enumerable:!0,get:function(){return this._bandwidthProfileRevision}},networkQualityConfiguration:{enumerable:!0,value:n},revision:{enumerable:!0,get:function(){return this._revision}},signalingRegion:{enumerable:!0,get:function(){return this._signalingRegion}}}),i}return r(t,e),t.prototype.toString=function(){return"[LocalParticipantSignaling: "+this.sid+"]"},t.prototype.setSignalingRegion=function(e){this._signalingRegion||(this._signalingRegion=e)},t.prototype.setBandwidthProfile=function(e){l(this._bandwidthProfile,e)||(this._bandwidthProfile=JSON.parse(JSON.stringify(e)),this._bandwidthProfileRevision++,this.didUpdate())},t.prototype.setAudioProcessors=function(e){this.audioProcessors=e},t.prototype.getParameters=function(){return this._encodingParameters},t.prototype.setParameters=function(e){return this._encodingParameters.update(e),this},t.prototype.update=function(e){return this._publishedRevision>=e.revision||(this._publishedRevision=e.revision,e.tracks.forEach((function(e){var t=this.tracks.get(e.id);t&&t.update(e)}),this)),this},t.prototype.updateMediaStates=function(e){return e&&e.tracks?(Array.from(this.tracks.values()).forEach((function(t){var n=e.tracks[t.sid];n&&t.updateMediaStates(n)})),this):this},t.prototype._createLocalTrackPublicationSignaling=function(e,t,n,r){return new this._LocalTrackPublicationV2(e,t,n,r,{log:this._log})},t.prototype.addTrack=function(t,n,r,i){var a=this;e.prototype.addTrack.call(this,t,n,r,i);var o=this.getPublication(t),s=o.isEnabled,u=o.updatedPriority,c=function(){s===o.isEnabled&&u===o.updatedPriority||(a.didUpdate(),s=o.isEnabled,u=o.updatedPriority)};return o.on("updated",c),this._removeListener(o),this._removeListeners.set(o,(function(){return o.removeListener("updated",c)})),this.didUpdate(),this},t.prototype._removeListener=function(e){var t=this._removeListeners.get(e);t&&t()},t.prototype.getState=function(){return{revision:this.revision,tracks:Array.from(this.tracks.values()).map((function(e){return e.getState()}))}},t.prototype.didUpdate=function(){this._revision++,this.emit("updated")},t.prototype.removeTrack=function(t){var n=e.prototype.removeTrack.call(this,t);return n&&(t.removeClone(n.trackTransceiver),this._removeListener(n),this.didUpdate()),n},t.prototype.setNetworkQualityConfiguration=function(e){this.networkQualityConfiguration.update(e)},t.prototype.setPublisherHint=function(e,t){var n=Array.from(this.tracks.values()).find((function(t){return t.sid===e}));return n?n.trackTransceiver.setPublisherHint(t):(this._log.warn("track:"+e+" not found"),Promise.resolve("UNKNOWN_TRACK"))},t}(i);e.exports=d},98803:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(50402),a=n(94438),o=n(89752).createTwilioError,s=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r)||this;return Object.defineProperties(o,{_log:{value:a.log.createLog("default",o)},_mediaStates:{value:{recordings:null},writable:!0},_noiseCancellationVendor:{value:i}}),o}return r(t,e),t.prototype.getState=function(){var e={enabled:this.isEnabled,id:this.id,kind:this.kind,name:this.name,priority:this.updatedPriority};return this._noiseCancellationVendor&&(e.audio_processor=this._noiseCancellationVendor),e},t.prototype.toString=function(){return"[LocalTrackPublicationV2: "+this.sid+"]"},t.prototype.update=function(e){switch(e.state){case"ready":this.setSid(e.sid);break;case"failed":var t=e.error;this.publishFailed(o(t.code,t.message))}return this},t.prototype.updateMediaStates=function(e){if(!e||!e.recordings||this._mediaStates.recordings===e.recordings)return this;switch(this._mediaStates.recordings=e.recordings,this._mediaStates.recordings){case"OK":this._log.info("Warnings have cleared."),this.emit("warningsCleared");break;case"NO_MEDIA":this._log.warn("Recording media lost."),this.emit("warning",a.recordingMediaLost);break;default:this._log.warn("Unknown media state detected: "+this._mediaStates.recordings)}return this},t}(i);e.exports=s},85663:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(47465),a=0,o=function(e){function t(t,n,r){var i=e.call(this)||this;return Object.defineProperties(i,{_instanceId:{value:a++},channel:{value:n},_log:{value:r.log.createLog("default",i)},_getReceiver:{value:t},_receiverPromise:{value:null,writable:!0},_transport:{value:null,writable:!0}}),i}return r(t,e),Object.defineProperty(t.prototype,"isSetup",{get:function(){return!!this._receiverPromise},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[MediaSignaling #"+this._instanceId+":"+this.channel+"]"},t.prototype.setup=function(e){var t=this;this._teardown(),this._log.info("setting up msp transport for id:",e);var n=this._getReceiver(e).then((function(e){if("data"!==e.kind&&t._log.error("Expected a DataTrackReceiver"),t._receiverPromise===n){try{t._transport=e.toDataTransport(),t.emit("ready",t._transport)}catch(r){t._log.error("Failed to toDataTransport: "+r.message)}e.once("close",(function(){return t._teardown()}))}}));this._receiverPromise=n},t.prototype._teardown=function(){this._transport&&(this._log.info("Tearing down"),this._transport=null,this._receiverPromise=null,this.emit("teardown"))},t}(i);e.exports=o},11330:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=n(47465),o=n(37809),s=function(e){function t(t,n){var r=e.call(this)||this;return Object.defineProperties(r,{_factories:{value:new WeakMap},_manager:{value:t},_signaling:{value:n}}),n.on("updated",(function(){return r.emit("updated")})),r}return r(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._signaling.level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return this._signaling.levels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteLevels",{get:function(){return this._signaling.remoteLevels},enumerable:!1,configurable:!0}),t.prototype.start=function(){var e=this;this.stop();var t=setTimeout((function(){e._timeout===t&&function(e){var t=(e._manager._peerConnections?Array.from(e._manager._peerConnections.values()):[]).map((function(e){return e._peerConnection})).filter((function(e){return"closed"!==e.signalingState})).map((function(t){if(e._factories.has(t))return e._factories.get(t);var n=new o(t);return e._factories.set(t,n),n})).map((function(e){return e.next().catch((function(){return null}))}));return Promise.all(t).then((function(e){return e.filter((function(e){return e})).map((function(e){return e.summarize()}))}))}(e).then((function(n){if(e._timeout===t){if(n.length){var r=i(n,1)[0];e._signaling.put(r)}e.start()}}))}),200);this._timeout=t},t.prototype.stop=function(){clearTimeout(this._timeout),this._timeout=null},t}(a);e.exports=s},4721:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(85663),a=n(14477),o=n(91149),s=function(e){function t(t,n,r){var i=e.call(this,t,"network_quality",r)||this;return Object.defineProperties(i,{_level:{value:null,writable:!0},_levels:{value:null,writable:!0},_remoteLevels:{value:new Map,writable:!0},_networkQualityInputs:{value:new a},_resendTimer:{value:new o((function(){i._resendTimer.setDelay(1.5*i._resendTimer.delay),i._sendNetworkQualityInputs()}),5e3,!1)},_networkQualityReportLevels:{get:function(){return{reportLevel:n.local,remoteReportLevel:n.remote}}}}),i.on("ready",(function(e){e.on("message",(function(e){if(i._log.debug("Incoming: ",e),"network_quality"===e.type)i._handleNetworkQualityMessage(e)}))})),i._sendNetworkQualityInputs(),i}return r(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return this._levels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteLevels",{get:function(){return this._remoteLevels},enumerable:!1,configurable:!0}),t.prototype._handleNetworkQualityMessage=function(e){var t=this,n=!1,r=null,i=e?e.local:null;"number"===typeof i?(r=i,this._levels=null):"object"===typeof i&&i&&(this._levels=i,r="number"===typeof i.level?i.level:Math.min(i.audio.send,i.audio.recv,i.video.send,i.video.recv)),null!==r&&this.level!==r&&(this._level=r,n=!0),this._remoteLevels=e&&e.remotes?e.remotes.reduce((function(e,r){return(t._remoteLevels.get(r.sid)||{}).level!==r.level&&(n=!0),e.set(r.sid,r)}),new Map):this._remoteLevels,n&&this.emit("updated"),this._resendTimer.setDelay(5e3),this._resendTimer.isSet&&setTimeout((function(){return t._sendNetworkQualityInputs()}),1e3)},t.prototype._sendNetworkQualityInputs=function(){var e=this;return this._resendTimer.clear(),this._networkQualityInputs.take().then((function(t){e._transport&&e._transport.publish(function(e,t){return Object.assign({type:"network_quality"},e,t)}(t,e._networkQualityReportLevels))})).finally((function(){e._resendTimer.start()}))},t.prototype.put=function(e){this._networkQualityInputs.put(e)},t}(i);e.exports=s},14014:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(26937),s=n(25409),u=s.RTCIceCandidate,c=s.RTCPeerConnection,l=s.RTCSessionDescription,d=s.getStats,f=n(73348),p=n(24657),h=p.DEFAULT_ICE_GATHERING_TIMEOUT_MS,m=p.DEFAULT_LOG_LEVEL,v=p.DEFAULT_SESSION_TIMEOUT_SEC,g=p.iceRestartBackoffConfig,y=n(2283),b=y.addOrRewriteNewTrackIds,w=y.addOrRewriteTrackIds,k=y.createCodecMapForMediaSection,x=y.disableRtx,_=y.enableDtxForOpus,S=y.filterLocalCodecs,E=y.getMediaSections,C=y.removeSSRCAttributes,T=y.revertSimulcast,A=y.setCodecPreferences,O=y.setSimulcast,R=n(91149),I=n(89752),N=I.MediaClientLocalDescFailedError,P=I.MediaClientRemoteDescFailedError,M=n(58242),L=M.buildLogLevels,D=M.getPlatform,F=M.isChromeScreenShareTrack,B=M.oncePerTick,j=M.defer,Z=n(82034),V=n(50474),U=n(34103),W=n(19811),H=n(68021),z=n(41547),G=n(51173),q=n(93202),K=f.guessBrowser(),Y=D(),X=/android/.test(Y),Q="chrome"===K,J="firefox"===K,$="safari"===K,ee=0,te={open:["closed","updating"],updating:["closed","open"],closed:[]},ne=function(e){function t(t,n,r,i){var a=e.call(this,"open",te)||this,s=oe(i=Object.assign({enableDscp:!1,dummyAudioMediaStreamTrack:null,isChromeScreenShareTrack:F,iceServers:[],logLevel:m,offerOptions:{},revertSimulcast:T,sessionTimeout:1e3*v,setCodecPreferences:A,setSimulcast:O,Backoff:o,IceConnectionMonitor:V,RTCIceCandidate:u,RTCPeerConnection:c,RTCSessionDescription:l,Timeout:R},i)),d=L(i.logLevel),f=i.RTCPeerConnection;!0===i.enableDscp&&(i.chromeSpecificConstraints=i.chromeSpecificConstraints||{},i.chromeSpecificConstraints.optional=i.chromeSpecificConstraints.optional||[],i.chromeSpecificConstraints.optional.push({googDscp:!0}));var p=i.log?i.log.createLog("webrtc",a):new z("webrtc",a,d,i.loggerName),y=new f(s,i.chromeSpecificConstraints);i.dummyAudioMediaStreamTrack&&y.addTrack(i.dummyAudioMediaStreamTrack),Object.defineProperties(a,{_appliedTrackIdsToAttributes:{value:new Map,writable:!0},_dataChannels:{value:new Map},_dataTrackReceivers:{value:new Set},_descriptionRevision:{writable:!0,value:0},_didGenerateLocalCandidates:{writable:!0,value:!1},_enableDscp:{value:i.enableDscp},_encodingParameters:{value:n},_isChromeScreenShareTrack:{value:i.isChromeScreenShareTrack},_iceGatheringFailed:{value:!1,writable:!0},_iceGatheringTimeout:{value:new i.Timeout((function(){return a._handleIceGatheringTimeout()}),h,!1)},_iceRestartBackoff:{value:new i.Backoff(g)},_instanceId:{value:++ee},_isIceConnectionInactive:{writable:!0,value:!1},_isIceLite:{writable:!0,value:!1},_isIceRestartBackoffInProgress:{writable:!0,value:!1},_isRestartingIce:{writable:!0,value:!1},_lastIceConnectionState:{writable:!0,value:null},_lastStableDescriptionRevision:{writable:!0,value:0},_localCandidates:{writable:!0,value:[]},_localCodecs:{value:new Set},_localCandidatesRevision:{writable:!0,value:1},_localDescriptionWithoutSimulcast:{writable:!0,value:null},_localDescription:{writable:!0,value:null},_localUfrag:{writable:!0,value:null},_log:{value:p},_eventObserver:{value:i.eventObserver},_remoteCodecMaps:{value:new Map},_rtpSenders:{value:new Map},_rtpNewSenders:{value:new Set},_iceConnectionMonitor:{value:new i.IceConnectionMonitor(y)},_mediaTrackReceivers:{value:new Set},_needsAnswer:{writable:!0,value:!1},_negotiationRole:{writable:!0,value:null},_offerOptions:{writable:!0,value:i.offerOptions},_onEncodingParametersChanged:{value:B((function(){a._needsAnswer||ce(a)}))},_peerConnection:{value:y},_preferredAudioCodecs:{value:r.audio},_preferredVideoCodecs:{value:r.video},_shouldApplyDtx:{value:r.audio.every((function(e){return"opus"!==e.codec}))||r.audio.some((function(e){var t=e.codec,n=e.dtx;return"opus"===t&&n}))},_queuedDescription:{writable:!0,value:null},_iceReconnectTimeout:{value:new i.Timeout((function(){p.debug("ICE reconnect timed out"),a.close()}),i.sessionTimeout,!1)},_recycledTransceivers:{value:{audio:[],video:[]}},_replaceTrackPromises:{value:new Map},_remoteCandidates:{writable:!0,value:new Z},_setCodecPreferences:{value:J&&X&&r.video[0]&&"h264"!==r.video[0].codec.toLowerCase()?function(e){return e}:i.setCodecPreferences},_setSimulcast:{value:i.setSimulcast},_revertSimulcast:{value:i.revertSimulcast},_RTCIceCandidate:{value:i.RTCIceCandidate},_RTCPeerConnection:{value:i.RTCPeerConnection},_RTCSessionDescription:{value:i.RTCSessionDescription},_shouldOffer:{writable:!0,value:!1},_shouldRestartIce:{writable:!0,value:!1},_trackIdsToAttributes:{value:new Map,writable:!0},_trackMatcher:{writable:!0,value:null},_mediaTrackSenderToPublisherHints:{value:new Map},id:{enumerable:!0,value:t}}),n.on("changed",a._onEncodingParametersChanged),y.addEventListener("connectionstatechange",a._handleConnectionStateChange.bind(a)),y.addEventListener("datachannel",a._handleDataChannelEvent.bind(a)),y.addEventListener("icecandidate",a._handleIceCandidateEvent.bind(a)),y.addEventListener("iceconnectionstatechange",a._handleIceConnectionStateChange.bind(a)),y.addEventListener("icegatheringstatechange",a._handleIceGatheringStateChange.bind(a)),y.addEventListener("signalingstatechange",a._handleSignalingStateChange.bind(a)),y.addEventListener("track",a._handleTrackEvent.bind(a));var b=a;return a.on("stateChanged",(function e(t){"closed"===t&&(b.removeListener("stateChanged",e),b._dataChannels.forEach((function(e,t){b.removeDataTrackSender(t)})))})),a}return r(t,e),t.prototype.toString=function(){return"[PeerConnectionV2 #"+this._instanceId+": "+this.id+"]"},t.prototype.setEffectiveAdaptiveSimulcast=function(e){this._log.debug("Setting setEffectiveAdaptiveSimulcast: ",e),this._preferredVideoCodecs.forEach((function(t){"adaptiveSimulcast"in t&&(t.adaptiveSimulcast=e)}))},Object.defineProperty(t.prototype,"_shouldApplySimulcast",{get:function(){return!(!Q&&!$)&&this._preferredVideoCodecs.some((function(e){return"vp8"===e.codec.toLowerCase()&&e.simulcast&&!1!==e.adaptiveSimulcast}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectionState",{get:function(){return"failed"===this.iceConnectionState?"failed":this._peerConnection.connectionState||this.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._isIceConnectionInactive&&"disconnected"===this._peerConnection.iceConnectionState||this._iceGatheringFailed?"failed":this._peerConnection.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isApplicationSectionNegotiated",{get:function(){return"closed"===this._peerConnection.signalingState||!!this._peerConnection.localDescription&&E(this._peerConnection.localDescription.sdp,"application").length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_isAdaptiveSimulcastEnabled",{get:function(){var e=this._preferredVideoCodecs.find((function(e){return"adaptiveSimulcast"in e}));return e&&!0===e.adaptiveSimulcast},enumerable:!1,configurable:!0}),t.prototype._maybeUpdateEncodings=function(e,t,n){if(void 0===n&&(n=!1),"video"!==e.kind||"ended"===e.readyState)return!1;var r=f.guessBrowser();return!!("safari"===r||"chrome"===r&&this._isAdaptiveSimulcastEnabled)&&(this._updateEncodings(e,t,n),!0)},t.prototype._updateEncodings=function(e,t,n){if(this._isChromeScreenShareTrack(e)){var r=[{scaleResolutionDownBy:1},{scaleResolutionDownBy:1}];t.forEach((function(e,t){var i=r[t];i?(e.scaleResolutionDownBy=i.scaleResolutionDownBy,n&&delete e.active):(e.active=!1,delete e.scaleResolutionDownBy)}))}else{var i=e.getSettings(),a=i.width*i.height,o=[{pixels:518400,maxActiveLayers:3},{pixels:129600,maxActiveLayers:2},{pixels:0,maxActiveLayers:1}].find((function(e){return a>=e.pixels})),s=Math.min(t.length,o.maxActiveLayers);t.forEach((function(e,t){t<s?(e.scaleResolutionDownBy=1<<s-t-1,n&&(e.active=!0)):(e.active=!1,delete e.scaleResolutionDownBy)}))}this._log.debug("_updateEncodings:",t.map((function(e,t){return"["+t+": "+e.active+", "+(e.scaleResolutionDownBy||0)+"]"})).join(", "))},t.prototype._addIceCandidate=function(e){var t=this;return Promise.resolve().then((function(){return e=new t._RTCIceCandidate(e),t._peerConnection.addIceCandidate(e)})).catch((function(n){t._log.warn("Failed to add RTCIceCandidate "+(e?'"'+e.candidate+'"':"null")+": "+n.message)}))},t.prototype._addIceCandidates=function(e){return Promise.all(e.map(this._addIceCandidate,this)).then((function(){}))},t.prototype._addOrUpdateTransceiver=function(e){var t=this,n=function(e,t){var n={audio:e._preferredAudioCodecs.map((function(e){return e.codec.toLowerCase()})),video:e._preferredVideoCodecs.map((function(e){return e.codec.toLowerCase()}))}[t],r=e._recycledTransceivers[t],i=n.find((function(t){return e._localCodecs.has(t)}));if(!i)return r.shift();var a=r.find((function(t){var n=e._remoteCodecMaps.get(t.mid);return n&&n.has(i)}));a&&r.splice(r.indexOf(a),1);return a}(this,e.kind);if(n&&n.sender){var r=n.sender.track?n.sender.track.id:null;return r&&this._log.warn("Reusing transceiver: "+n.mid+"] "+r+" => "+e.id),this._replaceTrackPromises.set(n,n.sender.replaceTrack(e).then((function(){n.direction="sendrecv"}),(function(){})).finally((function(){t._replaceTrackPromises.delete(n)}))),n}return this._peerConnection.addTransceiver(e)},t.prototype._checkIceBox=function(e){var t=ae(e);if(!t)return Promise.resolve();var n=this._remoteCandidates.setUfrag(t);return this._addIceCandidates(n)},t.prototype._answer=function(e){var t=this;return Promise.resolve().then((function(){return t._negotiationRole||(t._negotiationRole="answerer"),t._setRemoteDescription(e)})).catch((function(){throw new P})).then((function(){return t._peerConnection.createAnswer()})).then((function(n){n=J?new t._RTCSessionDescription({sdp:x(n.sdp),type:n.type}):q(n);var r=C(n.sdp,["mslabel","label"]);if(t._shouldApplySimulcast){var i=r;r=t._setSimulcast(i,t._trackIdsToAttributes),r=t._revertSimulcast(r,i,e.sdp)}return r=r.replace(/42e015/g,"42e01f"),t._setLocalDescription({type:n.type,sdp:r})})).then((function(){return t._checkIceBox(e)})).then((function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)})).then((function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription)})).catch((function(e){var n=e instanceof P?e:new N;throw t._publishMediaWarning({message:"Failed to _answer",code:n.code,error:e}),n}))},t.prototype._close=function(){return this._iceConnectionMonitor.stop(),"closed"!==this._peerConnection.signalingState&&(this._peerConnection.close(),this.preempt("closed"),this._encodingParameters.removeListener("changed",this._onEncodingParametersChanged),!0)},t.prototype._handleConnectionStateChange=function(){this.emit("connectionStateChanged")},t.prototype._handleDataChannelEvent=function(e){var t=this,n=e.channel,r=new U(n);this._dataTrackReceivers.add(r),n.addEventListener("close",(function(){t._dataTrackReceivers.delete(r)})),this.emit("trackAdded",r)},t.prototype._handleGlare=function(e){var t=this;return this._log.debug("Glare detected; rolling back"),this._isRestartingIce&&(this._log.debug("An ICE restart was in progress; we'll need to restart ICE again after rolling back"),this._isRestartingIce=!1,this._shouldRestartIce=!0),Promise.resolve().then((function(){return t._trackIdsToAttributes=new Map(t._appliedTrackIdsToAttributes),t._setLocalDescription({type:"rollback"})})).then((function(){return t._needsAnswer=!1,t._answer(e)})).then((function(e){return e?Promise.resolve():t._offer()}))},t.prototype._publishMediaWarning=function(e){var t=e.message,n=e.code,r=e.error,i=e.sdp;this._eventObserver.emit("event",{level:"warning",name:"error",group:"media",payload:{message:t,code:n,context:JSON.stringify({error:r.message,sdp:i})}})},t.prototype._handleIceCandidateEvent=function(e){e.candidate&&(this._log.debug("Clearing ICE gathering timeout"),this._didGenerateLocalCandidates=!0,this._iceGatheringTimeout.clear(),this._localCandidates.push(e.candidate));var t={ice:{candidates:this._isIceLite?[]:this._localCandidates.slice(),ufrag:this._localUfrag},id:this.id};e.candidate||(t.ice.complete=!0),this._isIceLite&&e.candidate||(t.ice.revision=this._localCandidatesRevision++,this.emit("candidates",t))},t.prototype._handleIceConnectionStateChange=function(){var e=this,t=this._peerConnection.iceConnectionState,n=["connected","completed"].includes(t),r=this._log;r.debug('ICE connection state is "'+t+'"'),n&&(this._iceReconnectTimeout.clear(),this._iceRestartBackoff.reset()),"failed"===this._lastIceConnectionState||"failed"!==t||this._shouldRestartIce||this._isRestartingIce?["disconnected","failed"].includes(this._lastIceConnectionState)&&n&&r.debug("ICE reconnected"):(r.warn("ICE failed"),this._initiateIceRestartBackoff()),"connected"===t?(this._isIceConnectionInactive=!1,this._iceConnectionMonitor.start((function(){e._iceConnectionMonitor.stop(),e._shouldRestartIce||e._isRestartingIce||(r.warn("ICE Connection Monitor detected inactivity"),e._isIceConnectionInactive=!0,e._initiateIceRestartBackoff(),e.emit("iceConnectionStateChanged"),e.emit("connectionStateChanged"))}))):["disconnected","completed"].includes(t)||(this._iceConnectionMonitor.stop(),this._isIceConnectionInactive=!1),this._lastIceConnectionState=t,this.emit("iceConnectionStateChanged")},t.prototype._handleIceGatheringTimeout=function(){this._log.warn("ICE failed to gather any local candidates"),this._iceGatheringFailed=!0,this._initiateIceRestartBackoff(),this.emit("iceConnectionStateChanged"),this.emit("connectionStateChanged")},t.prototype._handleIceGatheringStateChange=function(){var e=this._peerConnection.iceGatheringState,t=this._log;t.debug('ICE gathering state is "'+e+'"');var n=this._iceGatheringTimeout,r=n.delay,i=n.isSet;"gathering"!==e||this._didGenerateLocalCandidates||i||(t.debug("Starting ICE gathering timeout: "+r),this._iceGatheringFailed=!1,this._iceGatheringTimeout.start())},t.prototype._handleSignalingStateChange=function(){"stable"===this._peerConnection.signalingState&&(this._appliedTrackIdsToAttributes=new Map(this._trackIdsToAttributes))},t.prototype._handleTrackEvent=function(e){var t=this,n=this._peerConnection.remoteDescription?this._peerConnection.remoteDescription.sdp:null;this._trackMatcher=this._trackMatcher||new G,this._trackMatcher.update(n);var r=e.track,i=this._trackMatcher.match(e)||r.id,a=new W(i,r);this._mediaTrackReceivers.forEach((function(e){e.track.id===a.track.id&&t._mediaTrackReceivers.delete(e)})),this._mediaTrackReceivers.add(a),r.addEventListener("ended",(function(){return t._mediaTrackReceivers.delete(a)})),this.emit("trackAdded",a)},t.prototype._initiateIceRestart=function(){if("closed"!==this._peerConnection.signalingState){var e=this._log;e.warn("Attempting to restart ICE"),this._didGenerateLocalCandidates=!1,this._isIceRestartBackoffInProgress=!1,this._shouldRestartIce=!0;var t=this._iceReconnectTimeout,n=t.delay;t.isSet||(e.debug("Starting ICE reconnect timeout: "+n),this._iceReconnectTimeout.start()),this.offer().catch((function(t){e.error("offer failed in _initiateIceRestart with: "+t.message)}))}},t.prototype._initiateIceRestartBackoff=function(){var e=this;"closed"===this._peerConnection.signalingState||this._isIceRestartBackoffInProgress||(this._log.warn("An ICE restart has been scheduled"),this._isIceRestartBackoffInProgress=!0,this._iceRestartBackoff.backoff((function(){return e._initiateIceRestart()})))},t.prototype._maybeReoffer=function(e){var t=this._shouldOffer;if(e&&e.sdp){var n=this._peerConnection.getSenders().filter((function(e){return e.track}));t=["audio","video"].reduce((function(t,r){var i=E(e.sdp,r,"(sendrecv|sendonly)"),a=n.filter(se.bind(null,r));return t||i.length<a.length}),t);var r=this._dataChannels.size>0,i=E(e.sdp,"application").length>0;t=t||r&&!i}return(t?this._offer():Promise.resolve()).then((function(){return t}))},t.prototype._offer=function(){var e=this,t=Object.assign({},this._offerOptions);return this._needsAnswer=!0,this._shouldRestartIce&&(this._shouldRestartIce=!1,this._isRestartingIce=!0,t.iceRestart=!0),Promise.all(this._replaceTrackPromises.values()).then((function(){return e._peerConnection.createOffer(t)})).catch((function(t){var n=new N;throw e._publishMediaWarning({message:"Failed to create offer",code:n.code,error:t}),n})).then((function(t){t=J?new e._RTCSessionDescription({sdp:x(t.sdp),type:t.type}):q(t);var n=C(t.sdp,["mslabel","label"]);n=e._peerConnection.remoteDescription?S(n,e._peerConnection.remoteDescription.sdp):n;var r=e._setCodecPreferences(n,e._preferredAudioCodecs,e._preferredVideoCodecs);return e._shouldOffer=!1,e._negotiationRole||(e._negotiationRole="offerer"),e._shouldApplySimulcast&&(e._localDescriptionWithoutSimulcast={type:"offer",sdp:r},r=e._setSimulcast(r,e._trackIdsToAttributes)),e._setLocalDescription({type:"offer",sdp:r})}))},t.prototype._getMediaTrackSenderId=function(e){var t=Array.from(this._rtpSenders.keys()).find((function(t){return t.track.id===e}));return t?t.id:e},t.prototype._addOrRewriteLocalTrackIds=function(e){var t=this,n=this._peerConnection.getTransceivers().filter((function(e){var t=e.sender;return!e.stopped&&t&&t.track})),r=n.filter((function(e){return e.mid})),i=new Map(r.map((function(e){var n=e.mid,r=e.sender;return[n,t._getMediaTrackSenderId(r.track.id)]}))),a=w(e.sdp,i),o=n.filter((function(e){return!e.mid})),s=new Map(["audio","video"].map((function(e){return[e,o.filter((function(t){return t.sender.track.kind===e})).map((function(e){var n=e.sender;return t._getMediaTrackSenderId(n.track.id)}))]}))),u=b(a,i,s);return new this._RTCSessionDescription({sdp:u,type:e.type})},t.prototype._rollbackAndApplyOffer=function(e){var t=this;return this._setLocalDescription({type:"rollback"}).then((function(){return t._setLocalDescription(e)}))},t.prototype._setLocalDescription=function(e){var t=this;return"rollback"!==e.type&&this._shouldApplyDtx&&(e=new this._RTCSessionDescription({sdp:_(e.sdp),type:e.type})),this._peerConnection.setLocalDescription(e).catch((function(n){t._log.warn('Calling setLocalDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".',n);var r=new N,i={message:'Calling setLocalDescription with an RTCSessionDescription of type "'+e.type+'" failed',code:r.code,error:n};throw e.sdp&&(t._log.warn("The SDP was "+e.sdp),i.sdp=e.sdp),t._publishMediaWarning(i),r})).then((function(){"rollback"!==e.type&&(t._localDescription=t._addOrRewriteLocalTrackIds(e),t._shouldApplyDtx&&(t._localDescription=new t._RTCSessionDescription({sdp:_(t._localDescription.sdp,[]),type:t._localDescription.type})),t._localCandidates=[],"offer"===e.type?t._descriptionRevision++:"answer"===e.type&&(t._lastStableDescriptionRevision=t._descriptionRevision,ue(t)),t._localUfrag=ae(e),t.emit("description",t.getState()))}))},t.prototype._setRemoteDescription=function(e){var t=this;return e.sdp&&(e.sdp=this._setCodecPreferences(e.sdp,this._preferredAudioCodecs,this._preferredVideoCodecs),this._shouldApplyDtx?e.sdp=_(e.sdp):e.sdp=_(e.sdp,[]),J&&(e.sdp=e.sdp.replace(/a=msid:[^ ]+ /g,"a=msid:- ")),this._peerConnection.remoteDescription||(this._isIceLite=/a=ice-lite/.test(e.sdp))),e=new this._RTCSessionDescription(e),Promise.resolve().then((function(){if("answer"===e.type&&t._localDescriptionWithoutSimulcast){var n=t._preferredVideoCodecs.find((function(e){return"adaptiveSimulcast"in e})),r=!!n&&!1===n.adaptiveSimulcast,i=t._revertSimulcast(t._localDescription.sdp,t._localDescriptionWithoutSimulcast.sdp,e.sdp,r);if(t._localDescriptionWithoutSimulcast=null,i!==t._localDescription.sdp)return t._rollbackAndApplyOffer({type:t._localDescription.type,sdp:i})}})).then((function(){return t._peerConnection.setRemoteDescription(e)})).then((function(){"answer"===e.type&&(t._isRestartingIce&&(t._log.debug("An ICE restart was in-progress and is now completed"),t._isRestartingIce=!1),ue(t))}),(function(n){throw t._log.warn('Calling setRemoteDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".',n),e.sdp&&t._log.warn("The SDP was "+e.sdp),n}))},t.prototype._updateDescription=function(e){var t=this;switch(e.type){case"answer":case"pranswer":if(e.revision!==this._descriptionRevision||"have-local-offer"!==this._peerConnection.signalingState)return Promise.resolve();this._descriptionRevision=e.revision;break;case"close":return this._close();case"create-offer":return e.revision<=this._lastStableDescriptionRevision?Promise.resolve():this._needsAnswer?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._offer());case"offer":return e.revision<=this._lastStableDescriptionRevision||"closed"===this._peerConnection.signalingState?Promise.resolve():"have-local-offer"===this._peerConnection.signalingState?this._needsAnswer&&0===this._lastStableDescriptionRevision?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._handleGlare(e)):(this._descriptionRevision=e.revision,this._answer(e).then((function(){})))}var n=e.revision;return Promise.resolve().then((function(){return t._setRemoteDescription(e)})).catch((function(n){var r=new P;throw t._publishMediaWarning({message:'Calling setRemoteDescription with an RTCSessionDescription of type "'+e.type+'" failed',code:r.code,error:n,sdp:e.sdp}),r})).then((function(){return t._lastStableDescriptionRevision=n,t._needsAnswer=!1,t._checkIceBox(e)})).then((function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)})).then((function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription).then((function(){}))}))},t.prototype._updateIce=function(e){var t=this._remoteCandidates.update(e);return this._addIceCandidates(t)},t.prototype.addDataTrackSender=function(e){if(!this._dataChannels.has(e))try{var t={ordered:e.ordered};null!==e.maxPacketLifeTime&&(t.maxPacketLifeTime=e.maxPacketLifeTime),null!==e.maxRetransmits&&(t.maxRetransmits=e.maxRetransmits);var n=this._peerConnection.createDataChannel(e.id,t);e.addDataChannel(n),this._dataChannels.set(e,n)}catch(r){this._log.warn('Error creating an RTCDataChannel for DataTrack "'+e.id+'": '+r.message)}},t.prototype._handleQueuedPublisherHints=function(){var e=this;"stable"===this._peerConnection.signalingState&&this._mediaTrackSenderToPublisherHints.forEach((function(t,n){var r=t.deferred,i=t.encodings;e._mediaTrackSenderToPublisherHints.delete(n),e._setPublisherHint(n,i).then((function(e){return r.resolve(e)})).catch((function(e){return r.reject(e)}))}))},t.prototype._setPublisherHint=function(e,t){var n=this;if(J)return Promise.resolve("COULD_NOT_APPLY_HINT");this._mediaTrackSenderToPublisherHints.has(e)&&(this._mediaTrackSenderToPublisherHints.get(e).deferred.resolve("REQUEST_SKIPPED"),this._mediaTrackSenderToPublisherHints.delete(e));var r=this._rtpSenders.get(e);if(!r)return this._log.warn("Could not apply publisher hint because RTCRtpSender was not found"),Promise.resolve("UNKNOWN_TRACK");if("closed"===this._peerConnection.signalingState)return this._log.warn('Could not apply publisher hint because signalingState was "closed"'),Promise.resolve("COULD_NOT_APPLY_HINT");if("stable"!==this._peerConnection.signalingState){this._log.debug("Queuing up publisher hint because signalingState:",this._peerConnection.signalingState);var i=j();return this._mediaTrackSenderToPublisherHints.set(e,{deferred:i,encodings:t}),i.promise}var a=r.getParameters();return null!==t&&t.forEach((function(e){var t=e.enabled,r=e.layer_index;a.encodings.length>r?(n._log.debug("layer:"+r+", active:"+a.encodings[r].active+" => "+t),a.encodings[r].active=t):n._log.warn("invalid layer:"+r+", active:"+t)})),this._maybeUpdateEncodings(r.track,a.encodings,null===t),r.setParameters(a).then((function(){return"OK"})).catch((function(e){return n._log.error("Failed to apply publisher hints:",e),"COULD_NOT_APPLY_HINT"}))},t.prototype.addMediaTrackSender=function(e){var t=this;if("closed"!==this._peerConnection.signalingState&&!this._rtpSenders.has(e)){var n=this._addOrUpdateTransceiver(e.track).sender;e.addSender(n,(function(n){return t._setPublisherHint(e,n)})),this._rtpNewSenders.add(n),this._rtpSenders.set(e,n)}},t.prototype.close=function(){this._close()&&(this._descriptionRevision++,this._localDescription={type:"close"},this.emit("description",this.getState()))},t.prototype.getTrackReceivers=function(){return Array.from(this._dataTrackReceivers).concat(Array.from(this._mediaTrackReceivers))},t.prototype.getState=function(){if(!this._localDescription)return null;var e="answer"===this._localDescription.type?this._lastStableDescriptionRevision:this._descriptionRevision,t={type:this._localDescription.type,revision:e};return this._localDescription.sdp&&(t.sdp=this._localDescription.sdp),{description:t,id:this.id}},t.prototype.offer=function(){var e=this;return this._needsAnswer||this._isRestartingIce?(this._shouldOffer=!0,Promise.resolve()):this.bracket("offering",(function(t){return e.transition("updating",t),(e._needsAnswer||e._isRestartingIce?Promise.resolve():e._offer()).then((function(){e.tryTransition("open",t)}),(function(n){throw e.tryTransition("open",t),n}))}))},t.prototype.removeDataTrackSender=function(e){var t=this._dataChannels.get(e);t&&(e.removeDataChannel(t),this._dataChannels.delete(e),t.close())},t.prototype.removeMediaTrackSender=function(e){var t=this._rtpSenders.get(e);if(t){if("closed"!==this._peerConnection.signalingState&&this._peerConnection.removeTrack(t),e.removeSender(t),this._mediaTrackSenderToPublisherHints.has(e))this._mediaTrackSenderToPublisherHints.get(e).deferred.resolve("UNKNOWN_TRACK"),this._mediaTrackSenderToPublisherHints.delete(e);this._rtpNewSenders.delete(t),this._rtpSenders.delete(e)}},t.prototype.setConfiguration=function(e){"function"===typeof this._peerConnection.setConfiguration&&this._peerConnection.setConfiguration(oe(e))},t.prototype.setIceReconnectTimeout=function(e){return this._iceReconnectTimeout.setDelay(e),this._log.debug("Updated ICE reconnection timeout period:",this._iceReconnectTimeout.delay),this},t.prototype.update=function(e){var t=this;return this.bracket("updating",(function(n){if("closed"===t.state)return Promise.resolve();t.transition("updating",n);var r=[];return e.ice&&r.push(t._updateIce(e.ice)),e.description&&r.push(t._updateDescription(e.description)),Promise.all(r).then((function(){t.tryTransition("open",n)}),(function(e){throw t.tryTransition("open",n),e}))}))},t.prototype.getStats=function(){var e=this;return d(this._peerConnection).then((function(t){return function(e,t){return Object.assign(t,{remoteAudioTrackStats:t.remoteAudioTrackStats.map((function(t){return ie(e,t)})),remoteVideoTrackStats:t.remoteVideoTrackStats.map((function(t){return ie(e,t)})),localAudioTrackStats:t.localAudioTrackStats.map((function(t){return re(e,t)})),localVideoTrackStats:t.localVideoTrackStats.map((function(t){return re(e,t)}))})}(e,t)}))},t}(H);function re(e,t){var n=e._getMediaTrackSenderId(t.trackId);return Object.assign(t,{trackId:n})}function ie(e,t){var n=a([],i(e._mediaTrackReceivers)).find((function(e){return e.track.id===t.trackId})),r=n?n.id:null;return Object.assign(t,{trackId:r})}function ae(e){if(e.sdp){var t=e.sdp.match(/^a=ice-ufrag:([a-zA-Z0-9+/]+)/m);if(t)return t[1]}return null}function oe(e){return Object.assign({bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},e)}function se(e,t){var n=t.track;return n&&n.kind===e&&"ended"!==n.readyState}function ue(e){!function(e){e._recycledTransceivers.audio=[],e._recycledTransceivers.video=[],e._peerConnection.getTransceivers().forEach((function(t){if(function(e,t){return!e.stopped&&!t._replaceTrackPromises.has(e)&&["inactive","recvonly"].includes(e.direction)}(t,e)){var n=t.receiver.track;e._recycledTransceivers[n.kind].push(t)}}))}(e),function(e){var t=e._peerConnection.localDescription;t&&t.sdp&&E(t.sdp).forEach((function(t){k(t).forEach((function(t,n){return e._localCodecs.add(n)}))}))}(e),function(e){var t=e._peerConnection.remoteDescription;t&&t.sdp&&E(t.sdp).forEach((function(t){var n=t.match(/^a=mid:(.+)$/m);if(n&&n[1]){var r=n[1],i=k(t);e._remoteCodecMaps.set(r,i)}}))}(e),ce(e).then((function(){e._handleQueuedPublisherHints()}))}function ce(e){var t=e._encodingParameters,n=t.maxAudioBitrate,r=t.maxVideoBitrate,i=new Map([["audio",n],["video",r]]),a=[];return e._peerConnection.getSenders().filter((function(e){return e.track})).forEach((function(t){var n=i.get(t.track.kind),r=t.getParameters();null===n||0===n?function(e){Array.isArray(e.encodings)&&e.encodings.forEach((function(e){return delete e.maxBitrate}))}(r):e._isChromeScreenShareTrack(t.track)?e._log.warn("Not setting maxBitrate for "+t.track.kind+" Track "+t.track.id+" because it appears to be screen share track: "+t.track.label):function(e,t){J?e.encodings=[{maxBitrate:t}]:e.encodings.forEach((function(e){e.maxBitrate=t}))}(r,n),!J&&r.encodings.length>0&&("audio"===t.track.kind?r.encodings[0].priority="high":e._isChromeScreenShareTrack(t.track)&&(r.encodings[0].priority="medium"),e._enableDscp&&(r.encodings[0].networkPriority="high"));var o=e._rtpNewSenders.has(t);e._maybeUpdateEncodings(t.track,r.encodings,o),e._rtpNewSenders.delete(t);var s=t.setParameters(r).catch((function(n){e._log.warn("Error while setting encodings parameters for "+t.track.kind+" Track "+t.track.id+": "+(n.message||n.name))}));a.push(s)})),Promise.all(a)}e.exports=ne},52051:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(73348).guessBrowser,s=n(14014),u=n(4742),c=n(16233),l=n(58242),d=n(89752).MediaConnectionError,f="firefox"===o(),p=function(e){function t(t,r,i){var a=e.call(this)||this,o=(i=Object.assign({audioContextFactory:f?n(63074):null,PeerConnectionV2:s},i)).audioContextFactory?i.audioContextFactory.getOrCreate(a):null,c=o?{offerToReceiveVideo:!0}:{offerToReceiveAudio:!0,offerToReceiveVideo:!0};return Object.defineProperties(a,{_audioContextFactory:{value:i.audioContextFactory},_closedPeerConnectionIds:{value:new Set},_configuration:{writable:!0,value:null},_configurationDeferred:{writable:!0,value:l.defer()},_connectionState:{value:"new",writable:!0},_dummyAudioTrackSender:{value:o?new u(h(o)):null},_encodingParameters:{value:t},_iceConnectionState:{writable:!0,value:"new"},_dataTrackSenders:{writable:!0,value:new Set},_lastConnectionState:{value:"new",writable:!0},_lastIceConnectionState:{writable:!0,value:"new"},_mediaTrackSenders:{writable:!0,value:new Set},_offerOptions:{value:c},_peerConnections:{value:new Map},_preferredCodecs:{value:r},_sessionTimeout:{value:null,writable:!0},_PeerConnectionV2:{value:i.PeerConnectionV2}}),a}return r(t,e),t.prototype.setEffectiveAdaptiveSimulcast=function(e){this._peerConnections.forEach((function(t){return t.setEffectiveAdaptiveSimulcast(e)})),this._preferredCodecs.video.forEach((function(t){"adaptiveSimulcast"in t&&(t.adaptiveSimulcast=e)}))},Object.defineProperty(t.prototype,"connectionState",{get:function(){return this._connectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._iceConnectionState},enumerable:!1,configurable:!0}),t.prototype._closeAbsentPeerConnections=function(e){var t=new Set(e.map((function(e){return e.id})));return this._peerConnections.forEach((function(e){t.has(e.id)||e._close()})),this},t.prototype._getConfiguration=function(){return this._configurationDeferred.promise},t.prototype._getOrCreate=function(e,t){var n=this,r=this,i=this._peerConnections.get(e);if(!i){var a=this._PeerConnectionV2,o=Object.assign({dummyAudioMediaStreamTrack:this._dummyAudioTrackSender?this._dummyAudioTrackSender.track:null,offerOptions:this._offerOptions},this._sessionTimeout?{sessionTimeout:this._sessionTimeout}:{},t);try{i=new a(e,this._encodingParameters,this._preferredCodecs,o)}catch(s){throw new d}this._peerConnections.set(i.id,i),i.on("candidates",this.queue.bind(this,"candidates")),i.on("description",this.queue.bind(this,"description")),i.on("trackAdded",this.queue.bind(this,"trackAdded")),i.on("stateChanged",(function e(t){"closed"===t&&(i.removeListener("stateChanged",e),r._dataTrackSenders.forEach((function(e){return i.removeDataTrackSender(e)})),r._mediaTrackSenders.forEach((function(e){return i.removeMediaTrackSender(e)})),r._peerConnections.delete(i.id),r._closedPeerConnectionIds.add(i.id),k(r),w(r))})),i.on("connectionStateChanged",(function(){return k(n)})),i.on("iceConnectionStateChanged",(function(){return w(n)})),this._dataTrackSenders.forEach(i.addDataTrackSender,i),this._mediaTrackSenders.forEach(i.addMediaTrackSender,i),w(this)}return i},t.prototype.close=function(){return this._peerConnections.forEach((function(e){e.close()})),this._dummyAudioTrackSender&&this._dummyAudioTrackSender.stop(),this._audioContextFactory&&this._audioContextFactory.release(this),w(this),this},t.prototype.createAndOffer=function(){var e=this;return this._getConfiguration().then((function(t){var n;do{n=l.makeUUID()}while(e._peerConnections.has(n));return e._getOrCreate(n,t)})).then((function(e){return e.offer()})).then((function(){return e}))},t.prototype.getTrackReceivers=function(){return l.flatMap(this._peerConnections,(function(e){return e.getTrackReceivers()}))},t.prototype.getStates=function(){var e=[];return this._peerConnections.forEach((function(t){var n=t.getState();n&&e.push(n)})),e},t.prototype.setConfiguration=function(e){return this._configuration&&(this._configurationDeferred=l.defer(),this._peerConnections.forEach((function(t){t.setConfiguration(e)}))),this._configuration=e,this._configurationDeferred.resolve(e),this},t.prototype.setIceReconnectTimeout=function(e){return null===this._sessionTimeout&&(this._peerConnections.forEach((function(t){t.setIceReconnectTimeout(e)})),this._sessionTimeout=e),this},t.prototype.setTrackSenders=function(e){var t=new Set(e.filter((function(e){return"data"===e.kind}))),n=new Set(e.filter((function(e){return e&&("audio"===e.kind||"video"===e.kind)}))),r=function(e,t,n){return{data:m(e,t),media:v(e,n)}}(this,t,n);return this._dataTrackSenders=t,this._mediaTrackSenders=n,function(e,t){(t.data.add.size||t.data.remove.size||t.media.add.size||t.media.remove.size)&&e._peerConnections.forEach((function(e){t.data.remove.forEach(e.removeDataTrackSender,e),t.media.remove.forEach(e.removeMediaTrackSender,e),t.data.add.forEach(e.addDataTrackSender,e),t.media.add.forEach(e.addMediaTrackSender,e),(t.media.add.size||t.media.remove.size||t.data.add.size&&!e.isApplicationSectionNegotiated)&&e.offer()}))}(this,r),this},t.prototype.update=function(e,t){var n=this;return void 0===t&&(t=!1),t&&this._closeAbsentPeerConnections(e),this._getConfiguration().then((function(t){return Promise.all(e.map((function(e){return n._closedPeerConnectionIds.has(e.id)?null:n._getOrCreate(e.id,t).update(e)})))})).then((function(){return n}))},t.prototype.getStats=function(){var e=Array.from(this._peerConnections.values());return Promise.all(e.map((function(e){return e.getStats().then((function(t){return[e.id,t]}))}))).then((function(e){return new Map(e)}))},t}(c);function h(e){return e.createMediaStreamDestination().stream.getAudioTracks()[0]}function m(e,t){return{add:l.difference(t,e._dataTrackSenders),remove:l.difference(e._dataTrackSenders,t)}}function v(e,t){return{add:l.difference(t,e._mediaTrackSenders),remove:l.difference(e._mediaTrackSenders,t)}}var g,y={new:0,checking:1,connecting:2,connected:3,completed:4,disconnected:-1,failed:-2,closed:-3};function b(e){return e.length?(g=g||Object.keys(y).reduce((function(e,t){var n;return Object.assign(e,((n={})[y[t]]=t,n))}),{}),e.reduce((function(e,t){return g[Math.max(y[e],y[t])]}))):"new"}function w(e){e._lastIceConnectionState=e.iceConnectionState,e._iceConnectionState=b(a([],i(e._peerConnections.values())).map((function(e){return e.iceConnectionState}))),e.iceConnectionState!==e._lastIceConnectionState&&e.emit("iceConnectionStateChanged")}function k(e){e._lastConnectionState=e.connectionState,e._connectionState=b(a([],i(e._peerConnections.values())).map((function(e){return e.connectionState}))),e.connectionState!==e._lastConnectionState&&e.emit("connectionStateChanged")}e.exports=p},7684:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(85663),a=1,o=function(e){function t(t,n){var r=e.call(this,t,"publisher_hints",n)||this;return r.on("ready",(function(e){r._log.debug("publisher_hints transport ready:",e),e.on("message",(function(e){if(r._log.debug("Incoming: ",e),"publisher_hints"===e.type)e.publisher&&e.publisher.hints&&e.publisher.id&&r._processPublisherHints(e.publisher.hints,e.publisher.id);else r._log.warn("Unknown message type: ",e.type)}))})),r}return r(t,e),t.prototype.sendTrackReplaced=function(e){var t=e.trackSid;if(this._transport){var n={type:"client_reset",track:t,id:a++};this._log.debug("Outgoing: ",n),this._transport.publish(n)}},t.prototype.sendHintResponse=function(e){var t=e.id,n=e.hints;if(this._transport){var r={type:"publisher_hints",id:t,hints:n};this._log.debug("Outgoing: ",r),this._transport.publish(r)}},t.prototype._processPublisherHints=function(e,t){try{this.emit("updated",e,t)}catch(n){this._log.error("error processing hints:",n)}},t}(i);e.exports=o},20437:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_revision:{value:1,writable:!0}}),t}return r(t,e),t.prototype.update=function(e){return e.revision<this._revision?this:(this._revision=e.revision,this.enable(e.is_recording))},t}(n(9330));e.exports=i},46061:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(72502),a=n(88439),o=function(e){function t(t,n,r,i,o,s){var u=e.call(this,t.sid,t.identity)||this;return s=Object.assign({RemoteTrackPublicationV2:a},s),Object.defineProperties(u,{_revision:{writable:!0,value:null},_RemoteTrackPublicationV2:{value:s.RemoteTrackPublicationV2},_getInitialTrackSwitchOffState:{value:n},updateSubscriberTrackPriority:{value:function(e,t){return r(e,t)}},updateTrackRenderHint:{value:function(e,t){return i(e,t)}},clearTrackHint:{value:function(e){return o(e)}},revision:{enumerable:!0,get:function(){return this._revision}}}),u.update(t)}return r(t,e),t.prototype._getOrCreateTrack=function(e){var t=this._RemoteTrackPublicationV2,n=this.tracks.get(e.sid);n||(n=new t(e,this._getInitialTrackSwitchOffState(e.sid)),this.addTrack(n));return n},t.prototype.update=function(e){var t=this;if(null!==this.revision&&e.revision<=this.revision)return this;this._revision=e.revision;var n=new Set;switch(e.tracks.forEach((function(e){var r=t._getOrCreateTrack(e);r.update(e),n.add(r)})),this.tracks.forEach((function(e){n.has(e)||t.removeTrack(e)})),e.state){case"disconnected":this.disconnect();break;case"reconnecting":this.reconnecting();break;case"connected":this.connect(this.sid,this.identity)}return this},t}(i);e.exports=o},88439:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t.sid,t.name,t.kind,t.enabled,t.priority,n)||this}return r(t,e),t.prototype.update=function(e){return this.enable(e.enabled),this.setPriority(e.priority),this},t}(n(27534));e.exports=i},97309:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(85663),a=n(91149),o=n(58242).isDeepEqual,s=1,u=function(e){function t(t,n){var r=e.call(this,t,"render_hints",n)||this;return Object.defineProperties(r,{_trackSidsToRenderHints:{value:new Map},_responseTimer:{value:new a((function(){r._sendAllHints(),r._responseTimer.setDelay(2*r._responseTimer.delay)}),2e3,!1)}}),r.on("ready",(function(e){e.on("message",(function(e){if(r._log.debug("Incoming: ",e),"render_hints"===e.type)r._processHintResults(e&&e.subscriber&&e.subscriber.hints||[]);else r._log.warn("Unknown message type: ",e.type)})),r._sendAllHints()})),r}return r(t,e),t.prototype._sendAllHints=function(){var e=this;Array.from(this._trackSidsToRenderHints.keys()).forEach((function(t){var n=e._trackSidsToRenderHints.get(t);n.renderDimensions&&(n.isDimensionDirty=!0),"enabled"in n&&(n.isEnabledDirty=!0)})),this._sendHints()},t.prototype._processHintResults=function(e){var t=this;this._responseTimer.clear(),this._responseTimer.setDelay(2e3),e.forEach((function(e){"OK"!==e.result&&t._log.debug("Server error processing hint:",e)})),this._sendHints()},t.prototype._sendHints=function(){var e=this;if(this._transport&&!this._responseTimer.isSet){var t=[];if(Array.from(this._trackSidsToRenderHints.keys()).forEach((function(n){var r=e._trackSidsToRenderHints.get(n);if(r.isEnabledDirty||r.isDimensionDirty){var i={track:n};r.isEnabledDirty&&(i.enabled=r.enabled,r.isEnabledDirty=!1),r.isDimensionDirty&&(i.render_dimensions=r.renderDimensions,r.isDimensionDirty=!1),t.push(i)}})),t.length>0){var n={type:"render_hints",subscriber:{id:s++,hints:t}};this._log.debug("Outgoing: ",n),this._transport.publish(n),this._responseTimer.start()}}},t.prototype.setTrackHint=function(e,t){var n=this._trackSidsToRenderHints.get(e)||{isEnabledDirty:!1,isDimensionDirty:!1};"enabled"in t&&n.enabled!==t.enabled&&(n.enabled=!!t.enabled,n.isEnabledDirty=!0),t.renderDimensions&&!o(t.renderDimensions,n.renderDimensions)&&(n.renderDimensions=t.renderDimensions,n.isDimensionDirty=!0),this._trackSidsToRenderHints.set(e,n),this._sendHints()},t.prototype.clearTrackHint=function(e){this._trackSidsToRenderHints.delete(e)},t}(i);e.exports=u},49609:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=n(84253),o=n(11330),s=n(4721),u=n(20437),c=n(7590),l=n(46061),d=n(68182),f=n(52442),p=n(86775),h=n(97309),m=n(7684),v=n(58242),g=v.constants.DEFAULT_SESSION_TIMEOUT_SEC,y=v.createBandwidthProfilePayload,b=v.defer,w=v.difference,k=v.filterObject,x=v.flatMap,_=v.oncePerTick,S=n(21288),E=n(89752).createTwilioError,C=function(e){function t(t,n,r,i,c){var v=this;n.options=Object.assign({session_timeout:g},n.options),c=Object.assign({DominantSpeakerSignaling:a,NetworkQualityMonitor:o,NetworkQualitySignaling:s,RecordingSignaling:u,RemoteParticipantV2:l,TrackPrioritySignaling:f,TrackSwitchOffSignaling:p,bandwidthProfile:null,sessionTimeout:1e3*n.options.session_timeout,statsPublishIntervalMs:1e4},c),t.setBandwidthProfile(c.bandwidthProfile);var y=n.options,b=y.signaling_region,S=y.audio_processors,E=void 0===S?[]:S;t.setSignalingRegion(b),E.includes("krisp")&&E.push("rnnoise"),t.setAudioProcessors(E),i.setIceReconnectTimeout(c.sessionTimeout);var C=function(e){return v._getTrackReceiver(e)},T=(v=e.call(this,t,n.sid,n.name,c)||this)._log;return Object.defineProperties(v,{_disconnectedParticipantRevisions:{value:new Map},_NetworkQualityMonitor:{value:c.NetworkQualityMonitor},_lastBandwidthProfileRevision:{value:t.bandwidthProfileRevision,writable:!0},_mediaStatesWarningsRevision:{value:0,writable:!0},_networkQualityMonitor:{value:null,writable:!0},_networkQualityConfiguration:{value:t.networkQualityConfiguration},_peerConnectionManager:{value:i},_published:{value:new Map},_publishedRevision:{value:0,writable:!0},_RemoteParticipantV2:{value:c.RemoteParticipantV2},_subscribed:{value:new Map},_subscribedRevision:{value:0,writable:!0},_subscriptionFailures:{value:new Map},_dominantSpeakerSignaling:{value:new c.DominantSpeakerSignaling(C,{log:T})},_networkQualitySignaling:{value:new c.NetworkQualitySignaling(C,t.networkQualityConfiguration,{log:T})},_renderHintsSignaling:{value:new h(C,{log:T})},_publisherHintsSignaling:{value:new m(C,{log:T})},_trackPrioritySignaling:{value:new c.TrackPrioritySignaling(C,{log:T})},_trackSwitchOffSignaling:{value:new c.TrackSwitchOffSignaling(C,{log:T})},_pendingSwitchOffStates:{value:new Map},_transport:{value:r},_trackReceiverDeferreds:{value:new Map},mediaRegion:{enumerable:!0,value:n.options.media_region||null}}),v._initTrackSwitchOffSignaling(),v._initDominantSpeakerSignaling(),v._initNetworkQualityMonitorSignaling(),v._initPublisherHintSignaling(),function(e,t){var n=_((function(){e._publishNewLocalParticipantState()})),r=_((function(){var n=x(t.tracks,(function(e){return e.trackTransceiver}));e._peerConnectionManager.setTrackSenders(n)}));t.on("trackAdded",r),t.on("trackRemoved",r),t.on("updated",n),e.on("stateChanged",(function i(a){"disconnected"===a&&(t.removeListener("trackAdded",r),t.removeListener("trackRemoved",r),t.removeListener("updated",n),e.removeListener("stateChanged",i),t.disconnect())})),e.on("signalingConnectionStateChanged",(function(){var t=e.localParticipant,n=e.signalingConnectionState,r=t.identity,i=t.sid;switch(n){case"connected":t.connect(i,r);break;case"reconnecting":t.reconnecting()}}))}(v,t),function(e,t){t.on("description",(function(t){e._publishPeerConnectionState(t)})),t.dequeue("description"),t.on("candidates",(function(t){e._publishPeerConnectionState(t)})),t.dequeue("candidates"),t.on("trackAdded",e._addTrackReceiver.bind(e)),t.dequeue("trackAdded"),t.getTrackReceivers().forEach(e._addTrackReceiver,e),t.on("connectionStateChanged",(function(){e.emit("connectionStateChanged")})),t.on("iceConnectionStateChanged",(function(){e.emit("iceConnectionStateChanged"),"failed"===e.iceConnectionState&&(null!==e.localParticipant.networkQualityLevel&&e.localParticipant.setNetworkQualityLevel(0),e.participants.forEach((function(e){null!==e.networkQualityLevel&&e.setNetworkQualityLevel(0)})))}))}(v,i),function(e,t){t.on("message",e._update.bind(e)),t.on("stateChanged",(function n(r,i){"disconnected"===r&&("disconnected"!==e.state&&e._disconnect(i),t.removeListener("stateChanged",n)),e.emit("signalingConnectionStateChanged")}))}(v,r),function(e,t,n){var r=new Map,i=!1,a=setInterval((function(){e.getStats().then((function(e){i=!i,e.forEach((function(e,n){var a=new d(n,e,!0);t.publishEvent("quality","stats-report","info",{audioTrackStats:a.remoteAudioTrackStats.map((function(t,n){return I(t,e.remoteAudioTrackStats[n],r)})),localAudioTrackStats:a.localAudioTrackStats.map((function(t,n){return R(t,e.localAudioTrackStats[n],r)})),localVideoTrackStats:a.localVideoTrackStats.map((function(t,n){return R(t,e.localVideoTrackStats[n],r)})),peerConnectionId:a.peerConnectionId,videoTrackStats:a.remoteVideoTrackStats.map((function(t,n){return I(t,e.remoteVideoTrackStats[n],r)}))});var o=x(["localAudioTrackStats","localVideoTrackStats","remoteAudioTrackStats","remoteVideoTrackStats"],(function(e){return a[e].map((function(e){var t=e.ssrc;return e.trackSid+"+"+t}))}));if(w(Array.from(r.keys()),o).forEach((function(e){return r.delete(e)})),i){var s=function(e,t){return(e=Object.assign({availableIncomingBitrate:0,availableOutgoingBitrate:0,bytesReceived:0,bytesSent:0,consentRequestsSent:0,currentRoundTripTime:0,lastPacketReceivedTimestamp:0,lastPacketSentTimestamp:0,nominated:!1,peerConnectionId:t,priority:0,readable:!1,requestsReceived:0,requestsSent:0,responsesReceived:0,responsesSent:0,retransmissionsReceived:0,retransmissionsSent:0,state:"failed",totalRoundTripTime:0,transportId:"",writable:!1},k(e||{},null))).localCandidate=Object.assign({candidateType:"host",deleted:!1,ip:"",port:0,priority:0,protocol:"udp",url:""},k(e.localCandidate||{},null)),e.remoteCandidate=Object.assign({candidateType:"host",ip:"",port:0,priority:0,protocol:"udp",url:""},k(e.remoteCandidate||{},null)),e}(e.activeIceCandidatePair,a.peerConnectionId);t.publishEvent("quality","active-ice-candidate-pair","info",s)}}))}),(function(){}))}),n);e.on("stateChanged",(function t(n){"disconnected"===n&&(clearInterval(a),e.removeListener("stateChanged",t))}))}(v,r,c.statsPublishIntervalMs),v._update(n),v._peerConnectionManager.setEffectiveAdaptiveSimulcast(v._publisherHintsSignaling.isSetup),v}return r(t,e),Object.defineProperty(t.prototype,"connectionState",{get:function(){return this._peerConnectionManager.connectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signalingConnectionState",{get:function(){return"syncing"===this._transport.state?"reconnecting":this._transport.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._peerConnectionManager.iceConnectionState},enumerable:!1,configurable:!0}),t.prototype._deleteTrackReceiverDeferred=function(e){return this._trackReceiverDeferreds.delete(e)},t.prototype._getOrCreateTrackReceiverDeferred=function(e){var t=this._trackReceiverDeferreds.get(e)||b(),n=this._peerConnectionManager.getTrackReceivers().find((function(t){return t.id===e&&"ended"!==t.readyState}));return n?t.resolve(n):this._trackReceiverDeferreds.set(e,t),t},t.prototype._addTrackReceiver=function(e){return this._getOrCreateTrackReceiverDeferred(e.id).resolve(e),this},t.prototype._disconnect=function(t){var n=e.prototype._disconnect.call(this,t);return n&&(this._teardownNetworkQualityMonitor(),this._transport.disconnect(),this._peerConnectionManager.close()),this.localParticipant.tracks.forEach((function(e){e.publishFailed(t||new Error("LocalParticipant disconnected"))})),n},t.prototype._getTrackReceiver=function(e){var t=this;return this._getOrCreateTrackReceiverDeferred(e).promise.then((function(n){return t._deleteTrackReceiverDeferred(e),n}))},t.prototype._getInitialTrackSwitchOffState=function(e){var t=this._pendingSwitchOffStates.get(e)||!1;return this._pendingSwitchOffStates.delete(e),t&&this._log.warn("["+e+"] was initially switched off! "),t},t.prototype._getTrackSidsToTrackSignalings=function(){var e=x(this.participants,(function(e){return Array.from(e.tracks)}));return new Map(e)},t.prototype._getOrCreateRemoteParticipant=function(e){var t=this,n=this._RemoteParticipantV2,r=this.participants.get(e.sid),i=this;return r||((r=new n(e,(function(e){return t._getInitialTrackSwitchOffState(e)}),(function(e,n){return t._trackPrioritySignaling.sendTrackPriorityUpdate(e,"subscribe",n)}),(function(e,n){return t._renderHintsSignaling.setTrackHint(e,n)}),(function(e){return t._renderHintsSignaling.clearTrackHint(e)}))).on("stateChanged",(function e(t){"disconnected"===t&&(r.removeListener("stateChanged",e),i.participants.delete(r.sid),i._disconnectedParticipantRevisions.set(r.sid,r.revision))})),this.connectParticipant(r)),r},t.prototype._getState=function(){return{participant:this.localParticipant.getState()}},t.prototype._maybeAddBandwidthProfile=function(e){var t=this.localParticipant,n=t.bandwidthProfile,r=t.bandwidthProfileRevision;return n&&this._lastBandwidthProfileRevision<r?(this._lastBandwidthProfileRevision=r,Object.assign({bandwidth_profile:y(n)},e)):e},t.prototype._publishNewLocalParticipantState=function(){this._transport.publish(this._maybeAddBandwidthProfile(this._getState()))},t.prototype._publishPeerConnectionState=function(e){this._transport.publish(Object.assign({peer_connections:[e]},this._getState()))},t.prototype._update=function(e){var t=this;if(e.subscribed&&e.subscribed.revision>this._subscribedRevision){this._subscribedRevision=e.subscribed.revision,e.subscribed.tracks.forEach((function(e){e.id?(t._subscriptionFailures.delete(e.sid),t._subscribed.set(e.sid,e.id)):e.error&&!t._subscriptionFailures.has(e.sid)&&t._subscriptionFailures.set(e.sid,e.error)}));var n=new Set(e.subscribed.tracks.filter((function(e){return!!e.id})).map((function(e){return e.sid})));this._subscribed.forEach((function(e,r){n.has(r)||t._subscribed.delete(r)}))}var r=new Set;return(e.participants||[]).forEach((function(e){if(e.sid!==t.localParticipant.sid){var n=t._disconnectedParticipantRevisions.get(e.sid);if(!(n&&e.revision<=n)){n&&t._disconnectedParticipantRevisions.delete(e.sid);var i=t._getOrCreateRemoteParticipant(e);i.update(e),r.add(i)}}})),"synced"===e.type&&this.participants.forEach((function(e){r.has(e)||e.disconnect()})),function(e){var t=e._getTrackSidsToTrackSignalings();e._subscriptionFailures.forEach((function(n,r){var i=t.get(r);i&&(e._subscriptionFailures.delete(r),i.subscribeFailed(E(n.code,n.message)))})),t.forEach((function(t){var n=e._subscribed.get(t.sid);(!n||t.isSubscribed&&t.trackTransceiver.id!==n)&&t.setTrackTransceiver(null),n&&e._getTrackReceiver(n).then((function(e){return t.setTrackTransceiver(e)}))}))}(this),e.peer_connections&&this._peerConnectionManager.update(e.peer_connections,"synced"===e.type),e.recording&&this.recording.update(e.recording),e.published&&e.published.revision>this._publishedRevision&&(this._publishedRevision=e.published.revision,e.published.tracks.forEach((function(e){e.sid&&t._published.set(e.id,e.sid)})),this.localParticipant.update(e.published)),e.participant&&this.localParticipant.connect(e.participant.sid,e.participant.identity),[this._dominantSpeakerSignaling,this._networkQualitySignaling,this._trackPrioritySignaling,this._trackSwitchOffSignaling,this._renderHintsSignaling,this._publisherHintsSignaling].forEach((function(t){var n=t.channel;!t.isSetup&&e.media_signaling&&e.media_signaling[n]&&e.media_signaling[n].transport&&"data-channel"===e.media_signaling[n].transport.type&&t.setup(e.media_signaling[n].transport.label)})),"warning"===e.type&&e.states&&e.states.revision>this._mediaStatesWarningsRevision&&(this._mediaStatesWarningsRevision=e.states.revision,this.localParticipant.updateMediaStates(e.states)),this},t.prototype._initPublisherHintSignaling=function(){var e=this;this._publisherHintsSignaling.on("updated",(function(t,n){Promise.all(t.map((function(t){return e.localParticipant.setPublisherHint(t.track,t.encodings).then((function(e){return{track:t.track,result:e}}))}))).then((function(t){e._publisherHintsSignaling.sendHintResponse({id:n,hints:t})}))}));var t=function(t){"video"===t.kind&&t.trackTransceiver.on("replaced",(function(){e._publisherHintsSignaling.sendTrackReplaced({trackSid:t.sid})}))};Array.from(this.localParticipant.tracks.values()).forEach((function(e){return t(e)})),this.localParticipant.on("trackAdded",(function(e){return t(e)}))},t.prototype._initTrackSwitchOffSignaling=function(){var e=this;this._trackSwitchOffSignaling.on("updated",(function(t,n){try{e._log.debug("received trackSwitch: ",{tracksOn:n,tracksOff:t});var r=new Map;n.forEach((function(e){return r.set(e,!0)})),t.forEach((function(t){r.get(t)&&e._log.warn(t+" is DUPLICATED in both tracksOff and tracksOn list"),r.set(t,!1)})),e.participants.forEach((function(e){e.tracks.forEach((function(e){var t=r.get(e.sid);"undefined"!==typeof t&&(e.setSwitchedOff(!t),r.delete(e.sid))}))})),r.forEach((function(t,n){return e._pendingSwitchOffStates.set(n,!t)}))}catch(i){e._log.error("error processing track switch off:",i)}}))},t.prototype._initDominantSpeakerSignaling=function(){var e=this;this._dominantSpeakerSignaling.on("updated",(function(){return e.setDominantSpeaker(e._dominantSpeakerSignaling.loudestParticipantSid)}))},t.prototype._initNetworkQualityMonitorSignaling=function(){var e=this;this._networkQualitySignaling.on("ready",(function(){var t=new e._NetworkQualityMonitor(e._peerConnectionManager,e._networkQualitySignaling);e._networkQualityMonitor=t,t.on("updated",(function(){"failed"!==e.iceConnectionState&&(e.localParticipant.setNetworkQualityLevel(t.level,t.levels),e.participants.forEach((function(e){var n=t.remoteLevels.get(e.sid);n&&e.setNetworkQualityLevel(n.level,n)})))})),t.start()})),this._networkQualitySignaling.on("teardown",(function(){return e._teardownNetworkQualityMonitor()}))},t.prototype._teardownNetworkQualityMonitor=function(){this._networkQualityMonitor&&(this._networkQualityMonitor.stop(),this._networkQualityMonitor=null)},t.prototype.getStats=function(){var e=this;return this._peerConnectionManager.getStats().then((function(t){return new Map(Array.from(t).map((function(t){var n=i(t,2),r=n[0],a=n[1];return[r,Object.assign({},a,{localAudioTrackStats:A(e,a.localAudioTrackStats),localVideoTrackStats:A(e,a.localVideoTrackStats),remoteAudioTrackStats:O(e,a.remoteAudioTrackStats),remoteVideoTrackStats:O(e,a.remoteVideoTrackStats)})]})))}))},t}(c);function T(e,t){return t.reduce((function(t,n){var r=e.get(n.trackId);return r?[Object.assign({},n,{trackSid:r})].concat(t):t}),[])}function A(e,t){return T(e._published,t)}function O(e,t){var n=new Map(Array.from(e._subscribed.entries()).map((function(e){var t=i(e,2),n=t[0];return[t[1],n]})));return T(n,t)}function R(e,t,n){var r=t.framesEncoded,i=t.packetsSent,a=t.totalEncodeTime,o=t.totalPacketSendDelay,s=Object.assign({},e),u=e.trackSid+"+"+e.ssrc,c=n.get(u)||new Map;if("number"===typeof a&&"number"===typeof r){var l=c.get("avgEncodeDelay")||new S;l.putSample(1e3*a,r),s.avgEncodeDelay=Math.round(l.get()),c.set("avgEncodeDelay",l)}if("number"===typeof o&&"number"===typeof i){var d=c.get("avgPacketSendDelay")||new S;d.putSample(1e3*o,i),s.avgPacketSendDelay=Math.round(d.get()),c.set("avgPacketSendDelay",d)}return n.set(u,c),s}function I(e,t,n){var r=t.estimatedPlayoutTimestamp,i=t.framesDecoded,a=t.jitterBufferDelay,o=t.jitterBufferEmittedCount,s=t.totalDecodeTime,u=Object.assign({},e),c=e.trackSid+"+"+e.ssrc,l=n.get(c)||new Map;if("number"===typeof r&&(u.estimatedPlayoutTimestamp=r),"number"===typeof i&&"number"===typeof s){var d=l.get("avgDecodeDelay")||new S;d.putSample(1e3*s,i),u.avgDecodeDelay=Math.round(d.get()),l.set("avgDecodeDelay",d)}if("number"===typeof a&&"number"===typeof o){var f=l.get("avgJitterBufferDelay")||new S;f.putSample(1e3*a,o),u.avgJitterBufferDelay=Math.round(f.get()),l.set("avgJitterBufferDelay",f)}return n.set(c,l),u}e.exports=C},52442:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,"track_priority",n)||this;return Object.defineProperties(r,{_enqueuedPriorityUpdates:{value:new Map}}),r.on("ready",(function(e){Array.from(r._enqueuedPriorityUpdates.keys()).forEach((function(t){e.publish({type:"track_priority",track:t,subscribe:r._enqueuedPriorityUpdates.get(t)})}))})),r}return r(t,e),t.prototype.sendTrackPriorityUpdate=function(e,t,n){if("subscribe"!==t)throw new Error("only subscribe priorities are supported, found: "+t);this._enqueuedPriorityUpdates.set(e,n),this._transport&&this._transport.publish({type:"track_priority",track:e,subscribe:n})},t}(n(85663));e.exports=i},86775:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,"track_switch_off",n)||this;return r.on("ready",(function(e){e.on("message",(function(e){if("track_switch_off"===e.type)r._setTrackSwitchOffUpdates(e.off||[],e.on||[])}))})),r}return r(t,e),t.prototype._setTrackSwitchOffUpdates=function(e,t){this.emit("updated",e,t)},t}(n(85663));e.exports=i},1963:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(68021),a=n(49536),o=n(26937),s=n(24657).reconnectBackoffConfig,u=n(91149),c=n(24657),l=c.SDK_NAME,d=c.SDK_VERSION,f=c.SDP_FORMAT,p=n(58242),h=p.createBandwidthProfilePayload,m=p.createMediaSignalingPayload,v=p.createMediaWarningsPayload,g=p.createSubscribePayload,y=p.getUserAgent,b=p.isNonArrayObject,w=n(89752),k=w.createTwilioError,x=w.RoomCompletedError,_=w.SignalingConnectionError,S=w.SignalingServerBusyError,E={connecting:["connected","disconnected"],connected:["disconnected","syncing"],syncing:["connected","disconnected"],disconnected:[]},C=function(e){function t(t,n,r,i,u,c){var l;return c=Object.assign({Backoff:o,TwilioConnection:a,iceServers:null,trackPriority:!0,trackSwitchOff:!0,renderHints:!0,userAgent:y()},c),l=e.call(this,"connecting",E)||this,Object.defineProperties(l,{_accessToken:{value:n},_automaticSubscription:{value:c.automaticSubscription},_bandwidthProfile:{value:c.bandwidthProfile},_dominantSpeaker:{value:c.dominantSpeaker},_adaptiveSimulcast:{value:c.adaptiveSimulcast},_eventObserver:{value:c.eventObserver,writable:!1},_renderHints:{value:c.renderHints},_iceServersStatus:{value:Array.isArray(c.iceServers)?"overrode":"acquire"},_localParticipant:{value:r},_name:{value:t},_networkQuality:{value:b(c.networkQuality)||c.networkQuality},_notifyWarnings:{value:c.notifyWarnings},_options:{value:c},_peerConnectionManager:{value:i},_sessionTimer:{value:null,writable:!0},_sessionTimeoutMS:{value:0,writable:!0},_reconnectBackoff:{value:new c.Backoff(s)},_session:{value:null,writable:!0},_trackPriority:{value:c.trackPriority},_trackSwitchOff:{value:c.trackSwitchOff},_twilioConnection:{value:null,writable:!0},_updatesReceived:{value:[]},_updatesToSend:{value:[]},_userAgent:{value:c.userAgent},_wsServer:{value:u}}),function(e){function t(){if("disconnected"!==e.state){e._twilioConnection&&e._twilioConnection.removeListener("message",r);var t=e._iceServersStatus,i=e._options,a=e._wsServer,o=e.state,s=i.TwilioConnection,u=new s(a,Object.assign({helloBody:"connecting"===o&&"acquire"===t?e._createIceMessage():e._createConnectOrSyncOrDisconnectMessage()},i));u.once("close",(function(e){e===s.CloseReason.LOCAL?n():n(new Error(e))})),u.on("message",r),e._twilioConnection=u}}function n(n){if("disconnected"!==e.state)if(n){var r=e._getReconnectTimer();if(r)"connected"===e.state&&e.preempt("syncing"),r.then(t);else{var i=n.message===a.CloseReason.BUSY?new S:new _;e.disconnect(i)}}else e.disconnect()}function r(t){if("disconnected"!==e.state)if("error"!==t.type)switch(e.state){case"connected":switch(t.type){case"connected":case"synced":case"update":case"warning":return void e.emit("message",t);case"disconnected":return void e.disconnect("completed"===t.status?new x:null);default:return}case"connecting":switch(t.type){case"iced":return void e._options.onIced(t.ice_servers).then((function(){e._sendConnectOrSyncOrDisconnectMessage()}));case"connected":return e._setSession(t.session,t.options.session_timeout),e.emit("connected",t),void e.preempt("connected");case"synced":case"update":return void e._updatesReceived.push(t);case"disconnected":return void e.disconnect("completed"===t.status?new x:null);default:return}case"syncing":switch(t.type){case"connected":case"update":return void e._updatesReceived.push(t);case"synced":return e._clearReconnectTimer(),e.emit("message",t),void e.preempt("connected");case"disconnected":return void e.disconnect("completed"===t.status?new x:null);default:return}default:return}else e.disconnect(k(t.code,t.message))}e.on("stateChanged",(function t(n){switch(n){case"connected":var i=e._updatesToSend.splice(0);return i.length&&e.publish(function(e){return e.reduce((function(e,t){return(!e.participant&&t.participant||e.participant&&t.participant&&t.participant.revision>e.participant.revision)&&(e.participant=t.participant),!e.peer_connections&&t.peer_connections?e.peer_connections=T(t.peer_connections):e.peer_connections&&t.peer_connections&&(e.peer_connections=T(e.peer_connections.concat(t.peer_connections))),e}),{})}(i)),void e._updatesReceived.splice(0).forEach((function(t){return e.emit("message",t)}));case"disconnected":return e._twilioConnection.removeListener("message",r),void e.removeListener("stateChanged",t);default:return}}));var i=e._options,o=e._iceServersStatus,s=i.iceServers,u=i.onIced;"overrode"===o?u(s).then(t):t()}(l),l}return r(t,e),t.prototype._createConnectOrSyncOrDisconnectMessage=function(){if("connected"===this.state)return null;if("disconnected"===this.state)return{session:this._session,type:"disconnect",version:2};var e={connecting:"connect",syncing:"sync"}[this.state],t={name:this._name,participant:this._localParticipant.getState(),peer_connections:this._peerConnectionManager.getStates(),type:e,version:2};return"connect"===t.type?(t.ice_servers=this._iceServersStatus,t.publisher={name:l,sdk_version:d,user_agent:this._userAgent},this._bandwidthProfile&&(t.bandwidth_profile=h(this._bandwidthProfile)),this._notifyWarnings&&(t.participant.media_warnings=v(this._notifyWarnings)),t.media_signaling=m(this._dominantSpeaker,this._networkQuality,this._trackPriority,this._trackSwitchOff,this._adaptiveSimulcast,this._renderHints),t.subscribe=g(this._automaticSubscription),t.format=f,t.token=this._accessToken):"sync"===t.type?(t.session=this._session,t.token=this._accessToken):"update"===t.type&&(t.session=this._session),t},t.prototype._createIceMessage=function(){return{edge:"roaming",token:this._accessToken,type:"ice",version:1}},t.prototype._sendConnectOrSyncOrDisconnectMessage=function(){var e=this._createConnectOrSyncOrDisconnectMessage();e&&this._twilioConnection.sendMessage(e)},t.prototype.disconnect=function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),this._sendConnectOrSyncOrDisconnectMessage(),this._twilioConnection.close(),!0)},t.prototype.publish=function(e){switch(this.state){case"connected":return this._twilioConnection.sendMessage(Object.assign({session:this._session,type:"update",version:2},e)),!0;case"connecting":case"syncing":return this._updatesToSend.push(e),!0;default:return!1}},t.prototype.publishEvent=function(e,t,n,r){this._eventObserver.emit("event",{group:e,name:t,level:n,payload:r})},t.prototype.sync=function(){return"connected"===this.state&&(this.preempt("syncing"),this._sendConnectOrSyncOrDisconnectMessage(),!0)},t.prototype._setSession=function(e,t){this._session=e,this._sessionTimeoutMS=1e3*t},t.prototype._getReconnectTimer=function(){var e=this;return 0===this._sessionTimeoutMS?null:(this._sessionTimer||(this._sessionTimer=new u((function(){e._sessionTimer&&(e._sessionTimeoutMS=0)}),this._sessionTimeoutMS)),new Promise((function(t){e._reconnectBackoff.backoff(t)})))},t.prototype._clearReconnectTimer=function(){this._reconnectBackoff.reset(),this._sessionTimer&&(this._sessionTimer.clear(),this._sessionTimer=null)},t}(i);function T(e){return Array.from(e.reduce((function(e,t){var n=e.get(t.id)||t;return(!n.description&&t.description||n.description&&t.description&&t.description.revision>n.description.revision)&&(n.description=t.description),(!n.ice&&t.ice||n.ice&&t.ice&&t.ice.revision>n.ice.revision)&&(n.ice=t.ice),e.set(n.id,n),e}),new Map).values())}e.exports=C},68021:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(47465).EventEmitter,s=n(58242),u=function(e){function t(t,n){var r,i=e.call(this)||this,a=null,o=t;return n=function(e){var t=new Map;for(var n in e)t.set(n,new Set(e[n]));return t}(n),Object.defineProperties(i,{_lock:{get:function(){return a},set:function(e){a=e}},_reachableStates:{value:(r=n,Array.from(r.keys()).reduce((function(e,t){return e.set(t,l(r,t))}),new Map))},_state:{get:function(){return o},set:function(e){o=e}},_states:{value:n},_whenDeferreds:{value:new Set},isLocked:{enumerable:!0,get:function(){return null!==a}},state:{enumerable:!0,get:function(){return o}}}),i.on("stateChanged",(function(e){i._whenDeferreds.forEach((function(t){t.when(e,t.resolve,t.reject)}))})),i}return r(t,e),t.prototype._whenPromise=function(e){var t=this;if("function"!==typeof e)return Promise.reject(new Error("when() executor must be a function"));var n=s.defer();return n.when=e,this._whenDeferreds.add(n),n.promise.then((function(e){return t._whenDeferreds.delete(n),e}),(function(e){throw t._whenDeferreds.delete(n),e}))},t.prototype.bracket=function(e,t){var n,r=this;function i(e){if(r.hasLock(n)&&r.releaseLockCompletely(n),e)throw e}return this.takeLock(e).then((function(e){return t(n=e)})).then((function(e){return i(),e}),i)},t.prototype.hasLock=function(e){return this._lock===e},t.prototype.preempt=function(e,t,n){if(!c(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');var r;this.isLocked&&(r=this._lock,this._lock=null);var i=null;t&&(i=this.takeLockSync(t));var a=i?null:this.takeLockSync("preemption");return this.transition(e,i||a,n),r&&r.resolve(),a&&this.releaseLock(a),i},t.prototype.releaseLock=function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");0===e.depth?(this._lock=null,e.resolve()):e.depth--},t.prototype.releaseLockCompletely=function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");e.depth=0,this._lock=null,e.resolve()},t.prototype.takeLock=function(e){var t=this;if("object"===typeof e){var n=e;return new Promise((function(e){e(t.takeLockSync(n))}))}var r=e;if(this.isLocked){var i=this.takeLock.bind(this,r);return this._lock.promise.then(i)}return Promise.resolve(this.takeLockSync(r))},t.prototype.takeLockSync=function(e){var t="string"===typeof e?null:e,n=t?t.name:e;if(t&&!this.hasLock(t)||!t&&this.isLocked)throw new Error("Could not take the lock for "+n+" because the lock for "+this._lock.name+" was not released");if(t)return t.depth++,t;var r=function(e){var t=s.defer();return t.name=e,t.depth=0,t}(n);return this._lock=r,r},t.prototype.transition=function(e,t,n){if(n=n||[],this.isLocked){if(!t)throw new Error("You must provide the key in order to transition");if(!this.hasLock(t))throw new Error("Could not transition using the key for "+t.name+" because "+this._lock.name+" has the lock")}else if(t)throw new Error("Key provided for "+t.name+", but the StateMachine was not locked (possibly due to preemption)");if(!c(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');this._state=e,this.emit.apply(this,a([],i(["stateChanged",e].concat(n))))},t.prototype.tryTransition=function(e,t,n){try{this.transition(e,t,n)}catch(r){return!1}return!0},t.prototype.when=function(e){var t=this;return this.state===e?Promise.resolve(this):c(this._reachableStates,this.state,e)?this._whenPromise((function(n,r,i){n===e?r(t):c(t._reachableStates,n,e)||i(d(n,e))})):Promise.reject(d(this.state,e))},t}(o);function c(e,t,n){return e.get(t).has(n)}function l(e,t,n){return n=n||new Set,e.get(t).forEach((function(t){n.has(t)||(n.add(t),l(e,t,n).forEach(n.add,n))})),n}function d(e,t){return new Error('"'+t+'" cannot be reached from "'+e+'"')}e.exports=u},36657:function(e){"use strict";e.exports=function(e){return(e=e.filter((function(e){return"number"===typeof e}))).length<1?void 0:e.reduce((function(e,t){return t+e}))/e.length}},33070:function(e){"use strict";var t=function(){function e(e,t,n,r){Object.defineProperties(this,{availableSend:{enumerable:!0,value:n},recv:{enumerable:!0,value:t},rtt:{enumerable:!0,value:r},send:{enumerable:!0,value:e}})}return e.of=function(t,n){var r=(n.timestamp-t.timestamp)/1e3,i=n.bytesSent-t.bytesSent,a=n.bytesReceived-t.bytesReceived;return new e(r>0?i/r*8:0,r>0?a/r*8:0,n.availableOutgoingBitrate,n.currentRoundTripTime)},e}();e.exports=t},1492:function(e,t,n){"use strict";var r=n(33070),i=function(){function e(){Object.defineProperties(this,{lastReport:{enumerable:!0,value:new r(0,0),writable:!0},lastStats:{enumerable:!0,value:null,writable:!0}})}return e.prototype.next=function(e){var t=this.lastStats;if(this.lastStats=e,t){var n=t.id===e.id?r.of(t,e):new r(0,0);this.lastReport=n}return this.lastReport},e}();e.exports=i},77299:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return Object.defineProperties(i,{audioLevel:{value:"number"===typeof n.audioInputLevel?n.audioInputLevel:null,enumerable:!0},jitter:{value:"number"===typeof n.jitter?n.jitter:null,enumerable:!0}}),i}return r(t,e),t}(n(70283));e.exports=i},70283:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return Object.defineProperties(i,{bytesSent:{value:"number"===typeof n.bytesSent?n.bytesSent:r?0:null,enumerable:!0},packetsSent:{value:"number"===typeof n.packetsSent?n.packetsSent:r?0:null,enumerable:!0},roundTripTime:{value:"number"===typeof n.roundTripTime?n.roundTripTime:r?0:null,enumerable:!0}}),i}return r(t,e),t}(n(85031));e.exports=i},7151:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this,a=null;"number"===typeof n.frameWidthInput&&"number"===typeof n.frameHeightInput&&(a={},Object.defineProperties(a,{width:{value:n.frameWidthInput,enumerable:!0},height:{value:n.frameHeightInput,enumerable:!0}}));var o=null;return"number"===typeof n.frameWidthSent&&"number"===typeof n.frameHeightSent&&(o={},Object.defineProperties(o,{width:{value:n.frameWidthSent,enumerable:!0},height:{value:n.frameHeightSent,enumerable:!0}})),Object.defineProperties(i,{captureDimensions:{value:a,enumerable:!0},dimensions:{value:o,enumerable:!0},captureFrameRate:{value:"number"===typeof n.frameRateInput?n.frameRateInput:null,enumerable:!0},frameRate:{value:"number"===typeof n.frameRateSent?n.frameRateSent:null,enumerable:!0}}),i}return r(t,e),t}(n(70283));e.exports=i},60705:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(n(37167));e.exports=i},11759:function(e){"use strict";var t=function(e){var t=e.actual,n=void 0===t?null:t,r=e.available,i=void 0===r?null:r,a=e.level,o=void 0===a?null:a;Object.defineProperties(this,{actual:{value:n,enumerable:!0},available:{value:i,enumerable:!0},level:{value:o,enumerable:!0}})};e.exports=t},22278:function(e){"use strict";var t=function(e){var t=e.fractionLost,n=void 0===t?null:t,r=e.level,i=void 0===r?null:r;Object.defineProperties(this,{fractionLost:{value:n,enumerable:!0},level:{value:i,enumerable:!0}})};e.exports=t},16888:function(e){"use strict";var t=function(e){var t=e.jitter,n=void 0===t?null:t,r=e.rtt,i=void 0===r?null:r,a=e.level,o=void 0===a?null:a;Object.defineProperties(this,{jitter:{value:n,enumerable:!0},rtt:{value:i,enumerable:!0},level:{value:o,enumerable:!0}})};e.exports=t},37167:function(e,t,n){"use strict";var r=n(22228),i=n(34295),a=function(e){var t=e.send,n=e.recv,a=e.sendStats,o=void 0===a?null:a,s=e.recvStats,u=void 0===s?null:s;Object.defineProperties(this,{send:{value:t,enumerable:!0},recv:{value:n,enumerable:!0},sendStats:{value:o?new r(o):null,enumerable:!0},recvStats:{value:u?new i(u):null,enumerable:!0}})};e.exports=a},34295:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(n(87315));e.exports=i},87315:function(e,t,n){"use strict";var r=n(11759),i=n(22278),a=n(16888),o=function(e){var t=e.bandwidth,n=void 0===t?null:t,o=e.fractionLost,s=void 0===o?null:o,u=e.latency,c=void 0===u?null:u;Object.defineProperties(this,{bandwidth:{value:n?new r(n):null,enumerable:!0},fractionLost:{value:s?new i(s):null,enumerable:!0},latency:{value:c?new a(c):null,enumerable:!0}})};e.exports=o},22228:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(n(87315));e.exports=i},7427:function(e,t,n){"use strict";var r=n(60705),i=n(10654),a=function(e){var t=e.level,n=e.audio,a=e.video;Object.defineProperties(this,{level:{value:t,enumerable:!0},audio:{value:n?new r(n):null,enumerable:!0},video:{value:a?new i(a):null,enumerable:!0}})};e.exports=a},10654:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(n(37167));e.exports=i},14301:function(e,t,n){"use strict";var r=n(67696),i=n(78924),a=function(){function e(e,t,n){Object.defineProperties(this,{ice:{enumerable:!0,value:e},audio:{enumerable:!0,value:t},video:{enumerable:!0,value:n}})}return e.prototype.summarize=function(){var e=this.audio.send.concat(this.video.send),t=i.summarize(e),n=this.audio.recv.concat(this.video.recv),a=r.summarize(n);return{ice:this.ice,send:t,recv:a,audio:{send:i.summarize(this.audio.send),recv:r.summarize(this.audio.recv)},video:{send:i.summarize(this.video.send),recv:r.summarize(this.video.recv)}}},e}();e.exports=a},37809:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=n(73348).guessBrowser,s=n(1492),u=n(14301),c=n(22421),l=n(6781),d=function(){function e(e){Object.defineProperties(this,{pc:{enumerable:!0,value:e},ice:{enumerable:!0,value:new s},audio:{enumerable:!0,value:{send:new Map,recv:new Map}},video:{enumerable:!0,value:{send:new Map,recv:new Map}},lastReport:{enumerable:!0,value:null,writable:!0}})}return e.prototype.next=function(){var e,t=this,n="firefox"===o()?function(e){var t=e.pc.getTransceivers().filter((function(e){return e.currentDirection&&e.currentDirection.match(/send/)&&e.sender.track})).map((function(e){return e.sender})),n=e.pc.getTransceivers().filter((function(e){return e.currentDirection&&e.currentDirection.match(/recv/)})).map((function(e){return e.receiver}));return Promise.all([f(t),f(n),e.pc.getStats()]).then((function(t){var n=r(t,3),i=n[0],a=n[1],o=n[2],s=h(e),u=y(e);i.forEach((function(t,n){return w(e,t,u,n)})),x(s,u);var c=m(e),l=b(e);a.forEach((function(t,n){return k(e,t,l,n)})),x(c,l),_(e.ice,o)}))}(this):(e=this).pc.getStats().then((function(t){var n=h(e),r=y(e);w(e,t,r),x(n,r);var i=m(e),a=b(e);k(e,t,a),x(i,a),_(e.ice,t)}));return n.then((function(){var e=i([],r(t.audio.send.values())),n=i([],r(t.video.send.values())),a=i([],r(t.audio.recv.values())),o=i([],r(t.video.recv.values())),s=new u(t.ice.lastReport,{send:e.map((function(e){return e.lastReport})).filter((function(e){return e})),recv:a.map((function(e){return e.lastReport})).filter((function(e){return e}))},{send:n.map((function(e){return e.lastReport})).filter((function(e){return e})),recv:o.map((function(e){return e.lastReport})).filter((function(e){return e}))});return t.lastReport=s,s}))},e}();function f(e){return Promise.all(e.map((function(e){var t=e.track.id;return e.getStats().then((function(e){var n,r;try{for(var i=a(e.values()),o=i.next();!o.done;o=i.next()){var s=o.value;"inbound-rtp"===s.type&&(s.id=t+"-"+s.id)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[t,e]}))}))).then((function(e){return new Map(e)}))}function p(e,t,n,r,i){var a=t[r.mediaType];if(!i){var o=n.get(r.trackId);o&&(i=o.trackIdentifier)}if(a&&i){if(a.has(r.id))return a.get(r.id);var s=new e(i,r);a.set(r.id,s)}return null}function h(e){return{audio:e.audio.send,video:e.video.send}}function m(e){return{audio:e.audio.recv,video:e.video.recv}}function v(e,t,n,r){return p(l,h(e),t,n,r)}function g(e,t,n,r){return p(c,m(e),t,n,r)}function y(e){return{audio:new Set(e.audio.send.keys()),video:new Set(e.video.send.keys())}}function b(e){return{audio:new Set(e.audio.recv.keys()),video:new Set(e.video.recv.keys())}}function w(e,t,n,r){var i,s;try{for(var u=a(t.values()),c=u.next();!c.done;c=u.next()){var l=c.value;if("outbound-rtp"===l.type&&!l.isRemote){if("firefox"!==o()&&!l.trackId)continue;var d=n[l.mediaType];d&&d.delete(l.id);var f=v(e,t,l,r);if(f){var p=t.get(l.remoteId);f.next(r||f.trackId,l,p)}}}}catch(h){i={error:h}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}}function k(e,t,n,r){var i,o;try{for(var s=a(t.values()),u=s.next();!u.done;u=s.next()){var c=u.value;if("inbound-rtp"===c.type&&!c.isRemote){var l=n[c.mediaType];l&&l.delete(c.id);var d=g(e,t,c,r);d&&d.next(r||d.trackId,c)}}}catch(f){i={error:f}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}function x(e,t){var n=function(n){var r=e[n];t[n].forEach((function(e){return r.delete(e)}))};for(var r in t)n(r)}function _(e,t){var n,r,i,o,s;try{for(var u=a(t.values()),c=u.next();!c.done;c=u.next()){"transport"===(f=c.value).type&&(s=t.get(f.selectedCandidatePairId))}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(s)e.next(s);else try{for(var l=a(t.values()),d=l.next();!d.done;d=l.next()){var f;"candidate-pair"!==(f=d.value).type||!f.nominated||"selected"in f&&!f.selected||e.next(f)}}catch(h){i={error:h}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}e.exports=d},67696:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(36657),a=n(51666),o=n(65503),s=function(e){function t(t,n,r,i,a,o,s){var u=e.call(this,t,n,r)||this,c=a>0?i/a:0;return Object.defineProperties(u,{deltaPacketsLost:{enumerable:!0,value:i},deltaPacketsReceived:{enumerable:!0,value:a},fractionLost:{enumerable:!0,value:o},jitter:{enumerable:!0,value:s},phonyFractionLost:{enumerable:!0,value:c}}),u}return r(t,e),t.of=function(e,n,r){if(n.id!==r.id)throw new Error("RTCStats IDs must match");var i=(r.timestamp-n.timestamp)/1e3,a=r.bytesReceived-n.bytesReceived,o=i>0?a/i*8:0,s=Math.max(r.packetsLost-n.packetsLost,0),u=r.packetsReceived-n.packetsReceived,c=r.fractionLost,l=r.jitter;return new t(n.id,e,o,s,u,c,l)},t.summarize=function(e){var t=e.map((function(e){return e.summarize()}));return{bitrate:o(t.map((function(e){return e.bitrate}))),fractionLost:i(t.map((function(e){return e.fractionLost}))),jitter:i(t.map((function(e){return e.jitter})))}},t.prototype.summarize=function(){return{bitrate:this.bitrate,fractionLost:"number"===typeof this.fractionLost?this.fractionLost:this.phonyFractionLost,jitter:this.jitter}},t}(a);e.exports=s},22421:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(67696),a=function(e){function t(t,n){var r=e.call(this,n.id,t,n)||this;return Object.defineProperties(r,{lastReport:{enumerable:!0,value:null,writable:!0}}),r}return r(t,e),t.prototype.next=function(e,t){var n=this.lastStats;this.lastStats=t,this.trackId=e;var r=i.of(e,n,t);return this.lastReport=r,r},t}(n(63431));e.exports=a},31825:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Object.defineProperties(r,{audioLevel:{value:"number"===typeof n.audioOutputLevel?n.audioOutputLevel:null,enumerable:!0},jitter:{value:"number"===typeof n.jitter?n.jitter:null,enumerable:!0}}),r}return r(t,e),t}(n(1040));e.exports=i},1040:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Object.defineProperties(r,{bytesReceived:{value:"number"===typeof n.bytesReceived?n.bytesReceived:null,enumerable:!0},packetsReceived:{value:"number"===typeof n.packetsReceived?n.packetsReceived:null,enumerable:!0}}),r}return r(t,e),t}(n(85031));e.exports=i},4700:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=null;return"number"===typeof n.frameWidthReceived&&"number"===typeof n.frameHeightReceived&&(i={},Object.defineProperties(i,{width:{value:n.frameWidthReceived,enumerable:!0},height:{value:n.frameHeightReceived,enumerable:!0}})),Object.defineProperties(r,{dimensions:{value:i,enumerable:!0},frameRate:{value:"number"===typeof n.frameRateReceived?n.frameRateReceived:null,enumerable:!0}}),r}return r(t,e),t}(n(1040));e.exports=i},51666:function(e){"use strict";var t=function(e,t,n){Object.defineProperties(this,{id:{enumerable:!0,value:e},trackId:{enumerable:!0,value:t},bitrate:{enumerable:!0,value:n}})};e.exports=t},63431:function(e){"use strict";var t=function(e,t,n){Object.defineProperties(this,{id:{enumerable:!0,value:e,writable:!0},trackId:{enumerable:!0,value:t,writable:!0},lastStats:{enumerable:!0,value:n,writable:!0}})};e.exports=t},78924:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(36657),a=n(51666),o=n(65503),s=function(e){function t(t,n,r,i){var a=e.call(this,t,n,r)||this;return Object.defineProperties(a,{rtt:{enumerable:!0,value:i}}),a}return r(t,e),t.of=function(e,n,r,i){if(n.id!==r.id)throw new Error("RTCStats IDs must match");var a=(r.timestamp-n.timestamp)/1e3,o=r.bytesSent-n.bytesSent,s=a>0?o/a*8:0,u=i&&"number"===typeof i.roundTripTime?i.roundTripTime/1e3:void 0;return new t(n.id,e,s,u)},t.summarize=function(e){return{bitrate:o(e.map((function(e){return e.bitrate}))),rtt:i(e.map((function(e){return e.rtt})))}},t}(a);e.exports=s},6781:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(63431),a=n(78924),o=function(e){function t(t,n){var r=e.call(this,n.id,t,n)||this;return Object.defineProperties(r,{lastReport:{enumerable:!0,value:null,writable:!0}}),r}return r(t,e),t.prototype.next=function(e,t,n){var r=this.lastStats;this.lastStats=t,this.trackId=e;var i=a.of(e,r,t,n);return this.lastReport=i,i},t}(i);e.exports=o},68182:function(e,t,n){"use strict";var r=n(77299),i=n(7151),a=n(31825),o=n(4700),s=function(e,t,n){if("string"!==typeof e)throw new Error("RTCPeerConnection id must be a string");Object.defineProperties(this,{peerConnectionId:{value:e,enumerable:!0},localAudioTrackStats:{value:t.localAudioTrackStats.map((function(e){return new r(e.trackId,e,n)})),enumerable:!0},localVideoTrackStats:{value:t.localVideoTrackStats.map((function(e){return new i(e.trackId,e,n)})),enumerable:!0},remoteAudioTrackStats:{value:t.remoteAudioTrackStats.map((function(e){return new a(e.trackId,e)})),enumerable:!0},remoteVideoTrackStats:{value:t.remoteVideoTrackStats.map((function(e){return new o(e.trackId,e)})),enumerable:!0}})};e.exports=s},65503:function(e){"use strict";e.exports=function(e){return e.reduce((function(e,t){return"number"===typeof t?t+e:e}),0)}},85031:function(e){"use strict";var t=function(e,t){if("string"!==typeof e)throw new Error("Track id must be a string");Object.defineProperties(this,{trackId:{value:e,enumerable:!0},trackSid:{value:t.trackSid,enumerable:!0},timestamp:{value:t.timestamp,enumerable:!0},ssrc:{value:t.ssrc,enumerable:!0},packetsLost:{value:"number"===typeof t.packetsLost?t.packetsLost:null,enumerable:!0},codec:{value:"string"===typeof t.codecName?t.codecName:null,enumerable:!0}})};e.exports=t},97952:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this)||this;return Object.defineProperties(r,{id:{enumerable:!0,value:t},kind:{enumerable:!0,value:n}}),r}return r(t,e),t.prototype.stop=function(){this.emit("stopped")},t}(n(47465).EventEmitter);e.exports=i},49536:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(68021),s=n(58242),u=s.buildLogLevels,c=s.makeUUID,l=n(41547),d=n(82909),f=n(91149),p=0,h={closed:[],connecting:["closed","open","waiting"],early:["closed","connecting"],open:["closed"],waiting:["closed","connecting","early","open"]},m={closed:"close",open:"open",waiting:"waiting"},v=3e3,g=3001,y=3002,b=3003,w=3005,k=3006,x=globalThis,_=x.WebSocket?x.WebSocket:n(10057),S={BUSY:"busy",FAILED:"failed",LOCAL:"local",REMOTE:"remote",TIMEOUT:"timeout"},E=new Map([[v,S.TIMEOUT],[g,S.TIMEOUT],[y,S.FAILED],[b,S.FAILED],[3004,S.TIMEOUT],[k,S.BUSY],[3007,S.TIMEOUT]]),C=function(e){function t(t,n){var r=e.call(this,"early",h)||this;n=Object.assign({helloBody:null,maxConsecutiveFailedHellos:3,maxConsecutiveMissedHeartbeats:3,requestedHeartbeatTimeout:5e3,openTimeout:15e3,welcomeTimeout:5e3,Log:l,WebSocket:_},n);var o=u(n.logLevel),s=new n.Log("default",r,o,n.loggerName),c=n.networkMonitor?new d((function(){var e=c.type,t="Network changed"+(e?" to "+e:"");s.debug(t),r._close({code:3004,reason:t})})):null;Object.defineProperties(r,{_busyWaitTimeout:{value:null,writable:!0},_consecutiveHeartbeatsMissed:{value:0,writable:!0},_cookie:{value:null,writable:!0},_eventObserver:{value:n.eventObserver},_heartbeatTimeout:{value:null,writable:!0},_hellosLeft:{value:n.maxConsecutiveFailedHellos,writable:!0},_instanceId:{value:++p},_log:{value:s},_messageQueue:{value:[]},_networkMonitor:{value:c},_options:{value:n},_openTimeout:{value:null,writable:!0},_sendHeartbeatTimeout:{value:null,writable:!0},_serverUrl:{value:t},_welcomeTimeout:{value:null,writable:!0},_ws:{value:null,writable:!0}});var f={connecting:"info",early:"info",open:"info",waiting:"warning",closed:"info"};return r.on("stateChanged",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e in m&&r.emit.apply(r,a([m[e]],i(t)));var o={name:e,group:"signaling",level:f[r.state]};if("closed"===e){var s=i(t,1),u=s[0];o.payload={reason:u},o.level=u===S.LOCAL?"info":"error"}r._eventObserver.emit("event",o)})),r._eventObserver.emit("event",{name:r.state,group:"signaling",level:f[r.state]}),r._connect(),r}return r(t,e),t.prototype.toString=function(){return"[TwilioConnection #"+this._instanceId+": "+this._ws.url+"]"},t.prototype._close=function(e){var t=e.code,n=e.reason;if("closed"!==this.state){this._openTimeout&&this._openTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear(),this._heartbeatTimeout&&this._heartbeatTimeout.clear(),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.clear(),this._networkMonitor&&this._networkMonitor.stop(),this._busyWaitTimeout&&t!==w&&this._busyWaitTimeout.clear(),this._messageQueue.splice(0);var r=this._log;1e3===t?(r.debug("Closed"),this.transition("closed",null,[S.LOCAL])):(r.warn("Closed: "+t+" - "+n),t!==w&&this.transition("closed",null,[E.get(t)||S.REMOTE]));var i=this._ws.readyState,a=this._options.WebSocket;i!==a.CLOSING&&i!==a.CLOSED&&this._ws.close(t,n)}},t.prototype._connect=function(){var e=this,t=this._log;if("waiting"===this.state)this.transition("early");else if("early"!==this.state)return void t.warn('Unexpected state "'+this.state+'" for connecting to the TCMP server.');this._ws=new this._options.WebSocket(this._serverUrl);var n=this._ws;t.debug("Created a new WebSocket:",n),n.addEventListener("close",(function(t){return e._close(t)}));var r=this._options.openTimeout;this._openTimeout=new f((function(){var t="Failed to open in "+r+" ms";e._close({code:3007,reason:t})}),r),n.addEventListener("open",(function(){t.debug("WebSocket opened:",n),e._openTimeout.clear(),e._startHandshake(),e._networkMonitor&&e._networkMonitor.start()})),n.addEventListener("message",(function(n){t.debug("Incoming: "+n.data);try{n=JSON.parse(n.data)}catch(r){return void e.emit("error",r)}switch(n.type){case"bad":e._handleBad(n);break;case"busy":e._handleBusy(n);break;case"bye":break;case"msg":e._handleMessage(n);case"heartbeat":e._handleHeartbeat();break;case"welcome":e._handleWelcome(n);break;default:e._log.debug("Unknown message type: "+n.type),e.emit("error",new Error("Unknown message type: "+n.type))}}))},t.prototype._handleBad=function(e){var t=e.reason,n=this._log;if(["connecting","open"].includes(this.state)){if("connecting"===this.state)return n.warn("Closing: 3002 - "+t),void this._close({code:y,reason:t});n.debug("Error: "+t),this.emit("error",new Error(t))}else n.warn('Unexpected state "'+this.state+'" for handling a "bad" message from the TCMP server.')},t.prototype._handleBusy=function(e){var t=this,n=e.cookie,r=e.keepAlive,i=e.retryAfter,a=this._log;if(["connecting","waiting"].includes(this.state)){this._busyWaitTimeout&&this._busyWaitTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear();var o=i<0?'Received terminal "busy" message':'Received "busy" message, retrying after '+i+" ms";if(i<0)return a.warn("Closing: 3006 - "+o),void this._close({code:k,reason:o});var s=this._options.maxConsecutiveFailedHellos;this._hellosLeft=s,this._cookie=n||null,r?(a.warn(o),this._busyWaitTimeout=new f((function(){return t._startHandshake()}),i)):(a.warn("Closing: 3005 - "+o),this._close({code:w,reason:o}),this._busyWaitTimeout=new f((function(){return t._connect()}),i)),this.transition("waiting",null,[r,i])}else a.warn('Unexpected state "'+this.state+'" for handling a "busy" message from the TCMP server.')},t.prototype._handleHeartbeat=function(){"open"===this.state?this._heartbeatTimeout.reset():this._log.warn('Unexpected state "'+this.state+'" for handling a "heartbeat" message from the TCMP server.')},t.prototype._handleHeartbeatTimeout=function(){if("open"===this.state){var e=this._log,t=this._options.maxConsecutiveMissedHeartbeats;e.debug("Consecutive heartbeats missed: "+t);var n="Missed "+t+' "heartbeat" messages';e.warn("Closing: 3001 - "+n),this._close({code:g,reason:n})}},t.prototype._handleMessage=function(e){var t=e.body;"open"===this.state?this.emit("message",t):this._log.warn('Unexpected state "'+this.state+'" for handling a "msg" message from the TCMP server.')},t.prototype._handleWelcome=function(e){var t=this,n=e.negotiatedTimeout,r=this._log;if(["connecting","waiting"].includes(this.state)){"waiting"===this.state&&(r.debug('Received "welcome" message, no need to retry connection.'),this._busyWaitTimeout.clear());var i=n*this._options.maxConsecutiveMissedHeartbeats,a=n-200;this._welcomeTimeout.clear(),this._heartbeatTimeout=new f((function(){return t._handleHeartbeatTimeout()}),i),this._messageQueue.splice(0).forEach((function(e){return t._send(e)})),this._sendHeartbeatTimeout=new f((function(){return t._sendHeartbeat()}),a),this.transition("open")}else r.warn('Unexpected state "'+this.state+'" for handling a "welcome" message from the TCMP server.')},t.prototype._handleWelcomeTimeout=function(){if("connecting"===this.state){var e=this._log;if(this._hellosLeft<=0){var t="All handshake attempts failed";return e.warn("Closing: 3000 - "+t),void this._close({code:v,reason:t})}var n=this._options.maxConsecutiveFailedHellos;e.warn("Handshake attempt "+(n-this._hellosLeft)+" failed"),this._startHandshake()}},t.prototype._send=function(e){if(this._ws.readyState===this._options.WebSocket.OPEN){var t=JSON.stringify(e);this._log.debug("Outgoing: "+t);try{this._ws.send(t),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.reset()}catch(r){var n="Failed to send message";this._log.warn("Closing: 3003 - "+n),this._close({code:b,reason:n})}}},t.prototype._sendHeartbeat=function(){"closed"!==this.state&&this._send({type:"heartbeat"})},t.prototype._sendHello=function(){var e=this._options,t=e.helloBody,n=e.requestedHeartbeatTimeout,r={id:c(),timeout:n,type:"hello",version:2};this._cookie&&(r.cookie=this._cookie),t&&(r.body=t),this._send(r)},t.prototype._sendOrEnqueue=function(e){var t=this;if("closed"!==this.state){var n="open"===this.state?function(e){return t._send(e)}:function(e){return t._messageQueue.push(e)};n(e)}},t.prototype._startHandshake=function(){var e=this;if(["early","waiting"].includes(this.state)&&this.transition("connecting"),"connecting"===this.state){this._hellosLeft--,this._sendHello();var t=this._options.welcomeTimeout;this._welcomeTimeout=new f((function(){return e._handleWelcomeTimeout()}),t)}},t.prototype.close=function(){"closed"!==this.state&&(this._sendOrEnqueue({type:"bye"}),this._close({code:1e3,reason:"Normal"}))},t.prototype.sendMessage=function(e){this._sendOrEnqueue({body:e,type:"msg"})},t}(o);C.CloseReason=S,e.exports=C},14477:function(e,t,n){"use strict";var r=n(58242).defer,i=function(){function e(){Object.defineProperties(this,{_deferreds:{value:[]},_hasValue:{value:!1,writable:!0},_value:{value:null,writable:!0}})}return e.prototype.put=function(e){this._hasValue=!0,this._value=e;var t=this._deferreds.shift();return t&&t.resolve(e),this},e.prototype.take=function(){var e=this;if(this._hasValue&&!this._deferreds.length)return this._hasValue=!1,Promise.resolve(this._value);var t=r();return this._deferreds.push(t),t.promise.then((function(t){return e._hasValue=!1,t}))},e}();e.exports=i},26937:function(e){var t=function(){function e(e){Object.defineProperties(this,{_min:{value:e.min||100},_max:{value:e.max||1e4},_jitter:{value:e.jitter>0&&e.jitter<=1?e.jitter:0},_factor:{value:e.factor||2},_attempts:{value:0,writable:!0},_duration:{enumerable:!1,get:function(){var e=this._min*Math.pow(this._factor,this._attempts);if(this._jitter){var t=Math.random(),n=Math.floor(t*this._jitter*e);e=0===(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this._max)}},_timeoutID:{value:null,writable:!0}})}return e.prototype.backoff=function(e){var t=this,n=this._duration;this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null),this._timeoutID=setTimeout((function(){t._attempts++,e()}),n)},e.prototype.reset=function(){this._attempts=0,this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},e}();e.exports=t},39091:function(e){"use strict";var t=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};function n(){return navigator&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2}e.exports={isAndroid:function(){return/Android/.test(navigator.userAgent)},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)},isIpad:function(){return n()&&window.screen.width>=744&&(/Macintosh/i.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPad/.test(navigator.platform))},isIphone:function(){return n()&&window.screen.width<=476&&(/Macintosh/i.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent)||/iPhone/.test(navigator.platform))},isMobile:function(){return/Mobi/.test(navigator.userAgent)},isNonChromiumEdge:function(e){return"chrome"===e&&/Edge/.test(navigator.userAgent)&&("undefined"===typeof chrome||"undefined"===typeof chrome.runtime)},mobileWebKitBrowser:function(e){return"safari"!==e?null:"brave"in navigator?"brave":["edge","edg"].find((function(e){return navigator.userAgent.toLowerCase().includes(e)}))||null},rebrandedChromeBrowser:function(e){if("chrome"!==e)return null;if("brave"in navigator)return"brave";var n=function(e){for(var t=[],n=[],r=0;r<e.length;r++)if("("===e[r])t.push(r);else if(")"===e[r]&&t.length>0){var i=t.pop();0===t.length&&n.push(e.substring(i,r+1))}return n}(navigator.userAgent).reduce((function(e,t){return e.replace(t,"")}),navigator.userAgent).match(/[^\s]+/g)||[];return t(n.map((function(e){return e.split("/")[0].toLowerCase()}))).slice(2).find((function(e){return!["chrome","mobile","safari"].includes(e)}))||null}}},38156:function(e){"use strict";var t=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},n=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},r=function(){function e(e,t){var n=this;Object.defineProperties(this,{_isCancelable:{writable:!0,value:!0},_isCanceled:{writable:!0,value:!1},_onCancel:{value:t}}),Object.defineProperty(this,"_promise",{value:new Promise((function(t,r){e((function(e){n._isCancelable=!1,t(e)}),(function(e){n._isCancelable=!1,r(e)}),(function(){return n._isCanceled}))}))})}return e.reject=function(t){return new e((function(e,n){n(t)}),(function(){}))},e.resolve=function(t){return new e((function(e){e(t)}),(function(){}))},e.prototype.cancel=function(){return this._isCancelable&&(this._isCanceled=!0,this._onCancel()),this},e.prototype.catch=function(){var r=[].slice.call(arguments),i=this._promise;return new e((function(e,a){i.catch.apply(i,n([],t(r))).then(e,a)}),this._onCancel)},e.prototype.then=function(){var r=[].slice.call(arguments),i=this._promise;return new e((function(e,a){i.then.apply(i,n([],t(r))).then(e,a)}),this._onCancel)},e.prototype.finally=function(){var r=[].slice.call(arguments),i=this._promise;return new e((function(e,a){i.finally.apply(i,n([],t(r))).then(e,a)}),this._onCancel)},e}();e.exports=r},24657:function(e,t,n){"use strict";var r=n(1730);e.exports.SDK_NAME=r.name+".js",e.exports.SDK_VERSION=r.version,e.exports.SDP_FORMAT="unified",e.exports.hardwareDevicePublisheriPad={hwDeviceManufacturer:"Apple",hwDeviceModel:"iPad",hwDeviceType:"tablet",platformName:"iOS"},e.exports.hardwareDevicePublisheriPhone={hwDeviceManufacturer:"Apple",hwDeviceModel:"iPhone",hwDeviceType:"mobile",platformName:"iOS"},e.exports.DEFAULT_ENVIRONMENT="prod",e.exports.DEFAULT_REALM="us1",e.exports.DEFAULT_REGION="gll",e.exports.DEFAULT_LOG_LEVEL="warn",e.exports.DEFAULT_LOGGER_NAME="twilio-video",e.exports.WS_SERVER=function(e,t){return t="gll"===t?"global":encodeURIComponent(t),"prod"===e?"wss://"+t+".vss.twilio.com/signaling":"wss://"+t+".vss."+e+".twilio.com/signaling"},e.exports.PUBLISH_MAX_ATTEMPTS=5,e.exports.PUBLISH_BACKOFF_JITTER=10,e.exports.PUBLISH_BACKOFF_MS=20,e.exports.typeErrors={ILLEGAL_INVOKE:function(e,t){return new TypeError("Illegal call to "+e+": "+t)},INVALID_TYPE:function(e,t){return new TypeError(e+" must be "+((["a","e","i","o","u"].includes(t.toLowerCase()[0])?"an":"a")+" ")+t)},INVALID_VALUE:function(e,t){return new RangeError(e+" must be one of "+t.join(", "))},REQUIRED_ARGUMENT:function(e){return new TypeError(e+" must be specified")}},e.exports.DEFAULT_FRAME_RATE=24,e.exports.DEFAULT_VIDEO_PROCESSOR_STATS_INTERVAL_MS=1e4,e.exports.DEFAULT_ICE_GATHERING_TIMEOUT_MS=15e3,e.exports.DEFAULT_SESSION_TIMEOUT_SEC=30,e.exports.DEFAULT_NQ_LEVEL_LOCAL=1,e.exports.DEFAULT_NQ_LEVEL_REMOTE=0,e.exports.MAX_NQ_LEVEL=3,e.exports.ICE_ACTIVITY_CHECK_PERIOD_MS=1e3,e.exports.ICE_INACTIVITY_THRESHOLD_MS=3e3,e.exports.iceRestartBackoffConfig={factor:1.1,min:1,max:1e3*e.exports.DEFAULT_SESSION_TIMEOUT_SEC,jitter:1},e.exports.reconnectBackoffConfig={factor:1.5,min:80,jitter:1},e.exports.subscriptionMode={MODE_COLLABORATION:"collaboration",MODE_GRID:"grid",MODE_PRESENTATION:"presentation"},e.exports.trackSwitchOffMode={MODE_DISABLED:"disabled",MODE_DETECTED:"detected",MODE_PREDICTED:"predicted"},e.exports.trackPriority={PRIORITY_HIGH:"high",PRIORITY_LOW:"low",PRIORITY_STANDARD:"standard"},e.exports.clientTrackSwitchOffControl={MODE_AUTO:"auto",MODE_MANUAL:"manual"},e.exports.videoContentPreferencesMode={MODE_AUTO:"auto",MODE_MANUAL:"manual"}},11060:function(e,t,n){"use strict";var r=n(88467);e.exports=function(e){var t=n(63074),i={},a=t.getOrCreate(i),o=3;return function t(){return o--,r(a,e.srcObject,250).then((function(e){return!!e&&(!(o>0)||t())})).catch((function(){return!0}))}().finally((function(){t.release(i)}))}},43377:function(e){"use strict";var t=null;e.exports=function(e){return t=t||document.createElement("canvas"),new Promise((function(n){var r=3;setTimeout((function i(){return r--,function(e){try{var n=t.getContext("2d");n.drawImage(e,0,0,50,50);var r=n.getImageData(0,0,50,50).data.filter((function(e,t){return(t+1)%4}));return 0===Math.max.apply(Math,r)}catch(i){return console.log("Error checking silence: ",i),!1}}(e)?r>0?setTimeout(i,250):n(!0):n(!1)}),250)}))}},72217:function(e){"use strict";var t=function(){function e(e){var t=this;void 0===e&&(e=1),Object.defineProperties(this,{_listeners:{value:[]},_onVisibilityChange:{value:function(){t._emitVisible("visible"===document.visibilityState)}}});for(var n=0;n<e;n++)this._listeners.push([])}return e.prototype.clear=function(){for(var e=this._listeners.length,t=0;t<e;t++)this._listeners[t]=[]},e.prototype._listenerCount=function(){return this._listeners.reduce((function(e,t){return e+t.length}),0)},e.prototype._emitVisible=function(e){for(var t=this,n=Promise.resolve(),r=function(r){n=n.then((function(){return t._emitVisiblePhase(r,e)}))},i=1;i<=this._listeners.length;i++)r(i);return n},e.prototype._emitVisiblePhase=function(e,t){var n=this._listeners[e-1];return Promise.all(n.map((function(e){var n=e(t);return n instanceof Promise?n:Promise.resolve(n)})))},e.prototype._start=function(){document.addEventListener("visibilitychange",this._onVisibilityChange)},e.prototype._stop=function(){document.removeEventListener("visibilitychange",this._onVisibilityChange)},e.prototype.onVisibilityChange=function(e,t){if("number"!==typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);return this._listeners[e-1].push(t),1===this._listenerCount()&&this._start(),this},e.prototype.offVisibilityChange=function(e,t){if("number"!==typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);var n=this._listeners[e-1],r=n.indexOf(t);return-1!==r&&(n.splice(r,1),0===this._listenerCount()&&this._stop()),this},e}();e.exports=new t(2)},16820:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(47465).EventEmitter,a=["signaling","room","media","quality","video-processor","preflight"],o=["debug","error","info","warning"],s=function(e){function t(t,n,r,i){void 0===i&&(i=null);var s=e.call(this)||this;return s.on("event",(function(e){var s=e.name,u=e.group,c=e.level,l=e.payload;if("string"!==typeof s)throw r.error("Unexpected name: ",s),new Error("Unexpected name: ",s);if(!a.includes(u))throw r.error("Unexpected group: ",u),new Error("Unexpected group: ",u);if(!o.includes(c))throw r.error("Unexpected level: ",c),new Error("Unexpected level: ",c);var d=Date.now(),f=d-n,p=Object.assign({elapsedTime:f,level:c},l||{});t.publish(u,s,p);var h=Object.assign({elapsedTime:f,group:u,level:c,name:s,timestamp:d},l?{payload:l}:{});r[{debug:"debug",error:"error",info:"info",warning:"warn"}[c]]("event",h),i&&"signaling"===u&&i.emit("event",h)})),s}return r(t,e),t}(i);e.exports=s},93307:function(e){"use strict";var t=function(){function e(e){e=Object.assign({getKey:function(e){return e},getValue:function(e){return e},isLessThanOrEqualTo:function(e,t){return e<=t}},e),Object.defineProperties(this,{_getKey:{value:e.getKey},_getValue:{value:e.getValue},_isLessThanOrEqualTo:{value:e.isLessThanOrEqualTo},_map:{value:new Map}})}return e.prototype.toMap=function(){return new Map(this._map)},e.prototype.updateAndFilter=function(e){return e.filter(this.update,this)},e.prototype.update=function(e){var t=this._getKey(e),n=this._getValue(e);return(!this._map.has(t)||!this._isLessThanOrEqualTo(n,this._map.get(t)))&&(this._map.set(t,n),!0)},e}();e.exports=t},58242:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(24657),s=o.typeErrors,u=o.trackPriority,c=n(73348),l=n(22243).sessionSID,d=n(94438);function f(){return"undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent:"Unknown"}function p(e,t,n,r){if(!(r in t)&&!r.match(/^on[a-z]+$/)){var o;try{o=typeof e[r]}catch(s){}"function"===o&&(t[r]=function(){for(var e,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return(e=this[n])[r].apply(e,a([],i(t)))})}}function h(e){return"object"===typeof e&&!Array.isArray(e)}function m(e){Object.getOwnPropertyNames(e).forEach((function(t){t.startsWith("_")&&v(e,t)}))}function v(e,t){var n=Object.getOwnPropertyDescriptor(e,t);n.enumerable=!1,Object.defineProperty(e,t,n)}function g(e,t){void 0===t&&(t=[]),t.forEach((function(t){e.hasOwnProperty(t)&&v(e,t)}))}function y(e){return e.map(b)}function b(e){return Array.isArray(e)?y(e):e instanceof Set?y(a([],i(e))):e instanceof Map?a([],i(e.entries())).reduce((function(e,t){var n,r=i(t,2),a=r[0],o=r[1];return Object.assign(((n={})[a]=b(o),n),e)}),{}):e&&"object"===typeof e?(t=e,Object.entries(t).reduce((function(e,t){var n,r=i(t,2),a=r[0],o=r[1];return Object.assign(((n={})[a]=b(o),n),e)}),{})):e;var t}function w(e){return _(e,[{prop:"dominantSpeakerPriority",type:"string",payloadProp:"active_speaker_priority"},{prop:"maxSubscriptionBitrate",type:"number",payloadProp:"max_subscription_bandwidth"},{prop:"maxTracks",type:"number",payloadProp:"max_tracks"},{prop:"mode",type:"string"},{prop:"renderDimensions",type:"object",payloadProp:"render_dimensions",transform:x},{prop:"trackSwitchOffMode",type:"string",payloadProp:"track_switch_off"}])}function k(e){return _(e,[{prop:"height",type:"number"},{prop:"width",type:"number"}])}function x(e){return _(e,[{prop:u.PRIORITY_HIGH,type:"object",transform:k},{prop:u.PRIORITY_LOW,type:"object",transform:k},{prop:u.PRIORITY_STANDARD,type:"object",transform:k}])}function _(e,t){return t.reduce((function(t,n){var r,i=n.prop,a=n.type,o=n.payloadProp,s=void 0===o?i:o,u=n.transform,c=void 0===u?function(e){return e}:u;return typeof e[i]===a?Object.assign(((r={})[s]=c(e[i]),r),t):t}),{})}t.constants=o,t.createBandwidthProfilePayload=function(e){return _(e,[{prop:"video",type:"object",transform:w}])},t.createMediaSignalingPayload=function(e,t,n,r,i,a){var o={transports:[{type:"data-channel"}]};return Object.assign(e?{active_speaker:o}:{},t?{network_quality:o}:{},a?{render_hints:o}:{},i?{publisher_hints:o}:{},n?{track_priority:o}:{},r?{track_switch_off:o}:{})},t.createMediaWarningsPayload=function(e){var t,n=((t={})[d.recordingMediaLost]="recordings",t);return e.map((function(e){return n[e]})).filter((function(e){return!!e}))},t.createRoomConnectEventPayload=function(e){function t(e){return e?"true":"false"}var n={sessionSID:l,iceServers:(e.iceServers||[]).length,audioTracks:(e.tracks||[]).filter((function(e){return"audio"===e.kind})).length,videoTracks:(e.tracks||[]).filter((function(e){return"video"===e.kind})).length,dataTracks:(e.tracks||[]).filter((function(e){return"data"===e.kind})).length};if([["audio"],["automaticSubscription"],["enableDscp"],["eventListener"],["preflight"],["video"],["dominantSpeaker","enableDominantSpeaker"]].forEach((function(r){var a=i(r,2),o=a[0],s=a[1];n[s=s||o]=t(!!e[o])})),[["maxVideoBitrate"],["maxAudioBitrate"]].forEach((function(t){var r=i(t,2),a=r[0],o=r[1];o=o||a,"number"===typeof e[a]?n[o]=e[a]:isNaN(Number(e[a]))||(n[o]=Number(e[a]))})),[["iceTransportPolicy"],["region"],["name","roomName"]].forEach((function(t){var r=i(t,2),a=r[0],o=r[1];o=o||a,"string"===typeof e[a]?n[o]=e[a]:"number"===typeof e[a]&&"name"===a&&(n[o]=e[a].toString())})),["preferredAudioCodecs","preferredVideoCodecs"].forEach((function(t){t in e&&(n[t]=JSON.stringify(e[t]))})),"networkQuality"in e&&(n.networkQualityConfiguration={},h(e.networkQuality)?["local","remote"].forEach((function(t){"number"===typeof e.networkQuality[t]&&(n.networkQualityConfiguration[t]=e.networkQuality[t])})):(n.networkQualityConfiguration.remote=0,n.networkQualityConfiguration.local=e.networkQuality?1:0)),e.bandwidthProfile&&e.bandwidthProfile.video){var r=e.bandwidthProfile.video||{};n.bandwidthProfileOptions={},["mode","maxTracks","trackSwitchOffMode","dominantSpeakerPriority","maxSubscriptionBitrate","renderDimensions","contentPreferencesMode","clientTrackSwitchOffControl"].forEach((function(e){"number"===typeof r[e]||"string"===typeof r[e]?n.bandwidthProfileOptions[e]=r[e]:"boolean"===typeof r[e]?n.bandwidthProfileOptions[e]=t(r[e]):"object"===typeof r[e]&&(n.bandwidthProfileOptions[e]=JSON.stringify(r[e]))}))}return{group:"room",name:"connect",level:"info",payload:n}},t.createSubscribePayload=function(e){return{rules:[{type:e?"include":"exclude",all:!0}],revision:1}},t.asLocalTrack=function(e,t){if(e instanceof t.LocalAudioTrack||e instanceof t.LocalVideoTrack||e instanceof t.LocalDataTrack)return e;if(e instanceof t.MediaStreamTrack)return"audio"===e.kind?new t.LocalAudioTrack(e,t):new t.LocalVideoTrack(e,t);throw s.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")},t.asLocalTrackPublication=function(e,t,n,r){return new(0,{audio:r.LocalAudioTrackPublication,video:r.LocalVideoTrackPublication,data:r.LocalDataTrackPublication}[e.kind])(t,e,n,r)},t.capitalize=function(e){return e[0].toUpperCase()+e.slice(1)},t.deprecateEvents=function(e,t,n,r){var i=new Set;t.on("newListener",(function a(o){n.has(o)&&!i.has(o)&&(r.deprecated(e+"#"+o+" has been deprecated and scheduled for removal in twilio-video.js@2.0.0."+(n.get(o)?" Use "+e+"#"+n.get(o)+" instead.":"")),i.add(o)),i.size>=n.size&&t.removeListener("newListener",a)}))},t.difference=function(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n},t.filterObject=function(e,t){return Object.keys(e).reduce((function(n,r){return e[r]!==t&&(n[r]=e[r]),n}),{})},t.flatMap=function(e,t){var n=e instanceof Map||e instanceof Set?Array.from(e.values()):e;return t=t||function(e){return e},n.reduce((function(e,n){var r=t(n);return e.concat(r)}),[])},t.getPlatform=function(){var e=f(),t=i(e.match(/\(([^)]+)\)/)||[],2)[1];return i((void 0===t?"unknown":t).split(";").map((function(e){return e.trim()})),1)[0].toLowerCase()},t.getUserAgent=f,t.hidePrivateProperties=m,t.hidePrivateAndCertainPublicPropertiesInClass=function(e,t){return function(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,a([],i(n)))||this;return m(o),g(o,t),o}return r(n,e),n}(e)},t.isDeepEqual=function e(t,n){if(t===n)return!0;if(typeof t!==typeof n)return!1;if(null===t)return null===n;if(null===n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t){var r=Object.keys(t).sort(),i=Object.keys(n).sort();return!Array.isArray(n)&&e(r,i)&&r.every((function(r){return e(t[r],n[r])}))}return!1},t.isNonArrayObject=h,t.inRange=function(e,t,n){return t<=e&&e<=n},t.makeUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.oncePerTick=function(e){var t=null;function n(){t=null,e()}return function(){t&&clearTimeout(t),t=setTimeout(n)}},t.promiseFromEvents=function(e,t,n,r){return new Promise((function(o,s){function u(){var e=[].slice.call(arguments);r&&t.removeListener(r,c),o.apply(void 0,a([],i(e)))}function c(){var e=[].slice.call(arguments);t.removeListener(n,u),s.apply(void 0,a([],i(e)))}t.once(n,u),r&&t.once(r,c),e()}))},t.getOrNull=function(e,t){return t.split(".").reduce((function(e,t){return e?e[t]:null}),e)},t.defer=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},t.delegateMethods=function(e,t,n){for(var r in e)p(e,t,n,r)},t.proxyProperties=function(e,t,n){Object.getOwnPropertyNames(e).forEach((function(e){!function(e,t,n,r){if(r in t)return;if(r.match(/^on[a-z]+$/))return Object.defineProperty(t,r,{value:null,writable:!0}),void n.addEventListener(r.slice(2),(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.dispatchEvent.apply(t,a([],i(e)))}));Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[r]}})}(0,t,n,e)}))},t.legacyPromise=function(e,t,n){return t?e.then((function(e){t(e)}),(function(e){n(e)})):e},t.buildLogLevels=function(e){return"string"===typeof e?{default:e,media:e,signaling:e,webrtc:e}:e},t.trackClass=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,(function(e){return e.toUpperCase()}))+"Track"},t.trackPublicationClass=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,(function(e){return e.toUpperCase()}))+"TrackPublication"},t.valueToJSON=b,t.withJitter=function(e,t){var n=Math.random();return e-t+Math.floor(2*t*n+.5)},t.isChromeScreenShareTrack=function(e){return"chrome"===c.guessBrowser()&&"video"===e.kind&&"displaySurface"in e.getSettings()},t.isUserMediaTrack=function(e){return"string"===typeof e.getSettings().deviceId},t.waitForSometime=function(e){return void 0===e&&(e=10),new Promise((function(t){return setTimeout(t,e)}))},t.waitForEvent=function(e,t){return new Promise((function(n){e.addEventListener(t,(function r(i){e.removeEventListener(t,r),n(i)}))}))}},33512:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=n(47465).EventEmitter,o=n(58242).getUserAgent,s=globalThis,u=s.WebSocket?s.WebSocket:n(10057),c=n(24657),l=c.hardwareDevicePublisheriPad,d=c.hardwareDevicePublisheriPhone,f=n(58242),p=n(39091),h=function(e){function t(t,n,r,i,a,s){var c=e.call(this)||this;return s=Object.assign({gateway:v(i,a)+"/v1/VideoEvents",maxReconnectAttempts:5,reconnectIntervalMs:50,userAgent:o(),WebSocket:u},s),Object.defineProperties(c,{_connectTimestamp:{value:0,writable:!0},_eventQueue:{value:[]},_readyToConnect:{value:f.defer()},_reconnectAttemptsLeft:{value:s.maxReconnectAttempts,writable:!0},_ws:{value:null,writable:!0},_WebSocket:{value:s.WebSocket}}),c._readyToConnect.promise.then((function(e){var i=e.roomSid,a=e.participantSid,o=c;c.on("disconnected",(function e(u){if(o._session=null,u&&o._reconnectAttemptsLeft>0)return o.emit("reconnecting"),void function(e,t,n,r,i,a,o){var s=Date.now()-e._connectTimestamp,u=o.reconnectIntervalMs-s;if(u>0)return void setTimeout((function(){m(e,t,n,r,i,a,o)}),u);m(e,t,n,r,i,a,o)}(o,t,n,r,i,a,s);o.removeListener("disconnected",e)})),m(c,t,n,r,i,a,s)})).catch((function(){})),c}return r(t,e),t.prototype.connect=function(e,t){this._readyToConnect.resolve({roomSid:e,participantSid:t})},t.prototype._publish=function(e){e.session=this._session,this._ws.send(JSON.stringify(e))},t.prototype.disconnect=function(){if(null===this._ws||this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED)return!1;try{this._ws.close()}catch(e){}return this.emit("disconnected"),!0},t.prototype.publish=function(e,t,n){return(null===this._ws||this._ws.readyState!==this._WebSocket.CLOSING&&this._ws.readyState!==this._WebSocket.CLOSED)&&(("string"===typeof this._session?this._publish.bind(this):this._eventQueue.push.bind(this._eventQueue))({group:e,name:t,payload:n,timestamp:Date.now(),type:"event",version:1}),!0)},t}(a);function m(e,t,n,r,a,o,s){e._connectTimestamp=Date.now(),e._reconnectAttemptsLeft--,e._ws=new s.WebSocket(s.gateway);var u=e._ws;u.addEventListener("close",(function(t){1e3!==t.code?e.emit("disconnected",new Error("WebSocket Error "+t.code+": "+t.reason)):e.emit("disconnected")})),u.addEventListener("message",(function(t){!function(e,t,n){switch(t.type){case"connected":e._session=t.session,e._reconnectAttemptsLeft=n.maxReconnectAttempts,e._eventQueue.splice(0).forEach(e._publish,e),e.emit("connected");break;case"error":e._ws.close(),e.emit("disconnected",new Error(t.message))}}(e,JSON.parse(t.data),s)})),u.addEventListener("open",(function(){var e={type:"connect",token:t,version:1};e.publisher={name:n,sdkVersion:r,userAgent:s.userAgent,participantSid:o,roomSid:a},p.isIpad()?e.publisher=i(i({},e.publisher),l):p.isIphone()&&(e.publisher=i(i({},e.publisher),d)),u.send(JSON.stringify(e))}))}function v(e,t){return"prod"===e?"wss://sdkgw."+t+".twilio.com":"wss://sdkgw."+e+"-"+t+".twilio.com"}e.exports=h},3137:function(e){"use strict";var t=function(){function e(){Object.defineProperties(this,{_connected:{writable:!0,value:!0}})}return e.prototype.connect=function(){},e.prototype.disconnect=function(){return!!this._connected&&(this._connected=!1,!0)},e.prototype.publish=function(){return this._connected},e}();e.exports=t},39271:function(e,t,n){"use strict";var r=n(58242).defer,i=function(){function e(){Object.defineProperties(this,{_audio:{value:r(),writable:!0},_video:{value:r(),writable:!0}}),this._audio.resolve(),this._video.resolve()}return e.prototype.resolveDeferred=function(e){"audio"===e?this._audio.resolve():this._video.resolve()},e.prototype.startDeferred=function(e){"audio"===e?this._audio=r():this._video=r()},e.prototype.whenResolved=function(e){return"audio"===e?this._audio.promise:this._video.promise},e}();e.exports=new i},41547:function(e,t,n){"use strict";var r,i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(48489).getLogger,s=n(24657),u=s.DEFAULT_LOG_LEVEL,c=s.DEFAULT_LOGGER_NAME,l=n(24657).typeErrors;var d=function(){function e(t,n,r,i,a){if("string"!==typeof t)throw l.INVALID_TYPE("moduleName","string");if(!n)throw l.REQUIRED_ARGUMENT("component");"object"!==typeof r&&(r={}),a=a||o,v(r),Object.defineProperties(this,{_component:{value:n},_logLevels:{value:r},_warnings:{value:new Set},_loggerName:{get:function(){var e=i&&"string"===typeof i?i:c;return this._logLevelsEqual||(e=e+"-"+t),e}},_logger:{get:function(){var e=a(this._loggerName),n=this._logLevels[t]||u;return n="off"===n?"silent":n,e.setDefaultLevel(n),e}},_logLevelsEqual:{get:function(){return 1===new Set(Object.values(this._logLevels)).size}},logLevel:{get:function(){return e.getLevelByName(r[t]||u)}},name:{get:n.toString.bind(n)}})}return e.getLevelByName=function(t){return isNaN(t)?(m(t=t.toUpperCase()),e[t]):parseInt(t,10)},e.prototype.createLog=function(t,n){var r=this._loggerName;return this._logLevelsEqual||(r=r.substring(0,r.lastIndexOf("-"))),new e(t,n,this._logLevels,r)},e.prototype.setLevels=function(e){return v(e),Object.assign(this._logLevels,e),this},e.prototype.log=function(t,n){var r=e._levels[t];if(!r)throw l.INVALID_VALUE("logLevel",p);r=r.toLowerCase();var o=[(new Date).toISOString(),r,this.name];return(this._logger[r]||function(){}).apply(void 0,a([],i(o.concat(n)))),this},e.prototype.debug=function(){return this.log(e.DEBUG,[].slice.call(arguments))},e.prototype.deprecated=function(e){var t=function(e){if((r=r||new Map).has(e))return r.get(e);var t=new Set;return r.set(e,t),t}(this._component.constructor);return t.has(e)?this:(t.add(e),this.warn(e))},e.prototype.info=function(){return this.log(e.INFO,[].slice.call(arguments))},e.prototype.warn=function(){return this.log(e.WARN,[].slice.call(arguments))},e.prototype.warnOnce=function(e){return this._warnings.has(e)?this:(this._warnings.add(e),this.warn(e))},e.prototype.error=function(){return this.log(e.ERROR,[].slice.call(arguments))},e.prototype.throw=function(t,n){throw t.clone&&(t=t.clone(n)),this.log(e.ERROR,t),t},e}();Object.defineProperties(d,{DEBUG:{value:0},INFO:{value:1},WARN:{value:2},ERROR:{value:3},OFF:{value:4},_levels:{value:["DEBUG","INFO","WARN","ERROR","OFF"]}});var f={},p=[],h=d._levels.map((function(e,t){return f[e]=!0,p.push(t),e}));function m(e){if(!(e in f))throw l.INVALID_VALUE("level",h)}function v(e){Object.keys(e).forEach((function(t){m(e[t].toUpperCase())}))}e.exports=d},21288:function(e){"use strict";var t=function(){function e(){Object.defineProperties(this,{_samples:{value:[{denominator:0,numerator:0},{denominator:0,numerator:0}]}})}return e.prototype.get=function(){var e=this._samples,t=e[1].denominator-e[0].denominator||1/0;return(e[1].numerator-e[0].numerator)/t},e.prototype.putSample=function(e,t){var n=this._samples;n.shift(),n.push({denominator:t,numerator:e})},e}();e.exports=t},82909:function(e){"use strict";var t=function(){function e(e,t){var n=this,r=(t=Object.assign({navigator:navigator,window:window},t)).navigator,i=r.connection||{type:null},a=i.type,o=i.type?{_events:{value:["change","typechange"]},_listener:{value:function(){var t=a!==n.type&&n.isOnline;a=n.type,t&&e()}},_target:{value:i}}:{_events:{value:["online"]},_listener:{value:e},_target:{value:t.window}},s=o._events,u=o._listener,c=o._target;Object.defineProperties(this,{isOnline:{enumerable:!0,get:function(){return"boolean"!==typeof r.onLine||r.onLine}},type:{enumerable:!0,get:function(){return i.type||null}},_listener:u,_events:s,_target:c})}return e.prototype.start=function(){var e=this;this._events.forEach((function(t){e._target.addEventListener(t,e._listener)}))},e.prototype.stop=function(){var e=this;this._events.forEach((function(t){e._target.removeEventListener(t,e._listener)}))},e}();e.exports=t},76770:function(e){"use strict";var t=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),n=function(){function e(e){Object.defineProperties(this,{_callback:{value:e}})}return e.prototype.observe=function(){},e.prototype.unobserve=function(){},e.prototype.makeVisible=function(e){var t=this._makeFakeEntry(e,!0);this._callback([t])},e.prototype.makeInvisible=function(e){var t=this._makeFakeEntry(e,!1);this._callback([t])},e.prototype._makeFakeEntry=function(e,t){return{target:e,isIntersecting:t}},e}(),r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n}(n),i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.resize=function(e){var t=this._makeFakeEntry(e,!0);this._callback([t])},n}(n);e.exports={NullIntersectionObserver:r,NullResizeObserver:i,NullObserver:n}},2283:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(58242),a=i.difference,o=i.flatMap,s=n(8293),u={0:"PCMU",8:"PCMA"};function c(e){return Array.from(d(e)).reduce((function(e,t){var n=t[0],r=t[1],i=e.get(r)||[];return e.set(r,i.concat(n))}),new Map)}function l(e){return h(e).reduce((function(e,t){var n=p(t);return n?e.set(n,t):e}),new Map)}function d(e){return m(e).reduce((function(t,n){var r=new RegExp("a=rtpmap:"+n+" ([^/]+)"),i=e.match(r),a=i?i[1].toLowerCase():u[n]?u[n].toLowerCase():"";return t.set(n,a)}),new Map)}function f(e,t){var n=new RegExp("^a=fmtp:"+e+" (.+)$","m"),i=t.match(n);return i&&i[1].split(";").reduce((function(e,t){var n=r(t.split("="),2),i=n[0],a=n[1];return e[i]=isNaN(a)?a:parseInt(a,10),e}),{})}function p(e){var t=e.match(/^a=mid:(.+)$/m);return t&&t[1]}function h(e,t,n){return e.replace(/\r\n\r\n$/,"\r\n").split("\r\nm=").slice(1).map((function(e){return"m="+e})).filter((function(e){var r=new RegExp("m="+(t||".*"),"gm"),i=new RegExp("a="+(n||".*"),"gm");return r.test(e)&&i.test(e)}))}function m(e){var t=e.split("\r\n")[0].match(/([0-9]+)/g);return t?t.slice(1).map((function(e){return parseInt(e,10)})):[]}function v(e,t){var n=t.split("\r\n"),r=n[0],i=n.slice(1);return[r=r.replace(/([0-9]+\s?)+$/,e.join(" "))].concat(i).join("\r\n")}function g(e,t,n){if(!/^m=(audio|video)/.test(e))return e;var i=p(e),a=i&&t.get(i);if(!a)return e;var s=d(a),u=c(e),l=o(Array.from(s),(function(t){var i=r(t,2),o=i[0],s=i[1];return"rtx"===s||n.includes(s)?[]:function(e,t,n,r,i){var a=n.get(e)||[];if(a.length<=1)return a;var o=f(t,i);if(!o)return a;var s=a.find((function(e){var t=f(e,r);return t&&Object.keys(o).every((function(e){return o[e]===t[e]}))}));return"number"===typeof s?[s]:a}(s,o,u,e,a)})),h=u.get("rtx")||[];l=l.concat(h.filter((function(t){var n=f(t,e);return n&&l.includes(n.apt)})));var g=e.split("\r\n").filter((function(e){var t=e.match(/^a=(rtpmap|fmtp|rtcp-fb):(.+) .+$/),n=t&&t[2];return!t||n&&l.includes(parseInt(n,10))}));return v(m(e).filter((function(e){return l.includes(e)})),g.join("\r\n"))}function y(e,t){var n=h(e);return[e.split("\r\nm=")[0]].concat(n.map((function(e){if(!/^m=(audio|video)/.test(e))return e;var n=p(e);if(!n)return e;var i=t.get(n);if(!i)return e;var a=(e.match(/^a=msid:(.+)$/m)||[])[1];if(!a)return e;var o=r(a.split(" "),2),s=o[0],u=o[1],c=new RegExp("msid:"+s+(u?" "+u:"")+"$","gm");return e.replace(c,"msid:"+s+" "+i)}))).join("\r\n")}function b(e,t){var n=Object.entries(t).map((function(e){var t=r(e,2);return t[0]+"="+t[1]})).join(";");return"a=fmtp:"+e+" "+n}t.addOrRewriteNewTrackIds=function(e,t,n){var i=Array.from(n).reduce((function(n,i){var a=r(i,2),o=a[0],s=a[1];return h(e,o,"send(only|recv)").map(p).filter((function(e){return!t.has(e)})).forEach((function(e,t){return n.set(e,s[t])})),n}),new Map);return y(e,i)},t.addOrRewriteTrackIds=y,t.createCodecMapForMediaSection=c,t.createPtToCodecName=d,t.disableRtx=function(e){var t=h(e);return[e.split("\r\nm=")[0]].concat(t.map((function(e){if(!/^m=video/.test(e))return e;var t=c(e).get("rtx");if(!t)return e;var n=new Set(m(e));t.forEach((function(e){return n.delete(e)}));var r=e.match(/a=ssrc-group:FID [0-9]+ ([0-9]+)/),i=r&&r[1],a=[/^a=fmtp:.+ apt=.+$/,/^a=rtpmap:.+ rtx\/.+$/,/^a=ssrc-group:.+$/].concat(i?[new RegExp("^a=ssrc:"+i+" .+$")]:[]);return e=e.split("\r\n").filter((function(e){return a.every((function(t){return!t.test(e)}))})).join("\r\n"),v(Array.from(n),e)}))).join("\r\n")},t.enableDtxForOpus=function(e,t){var n=h(e),r=e.split("\r\nm=")[0];return t=t||n.filter((function(e){return/^m=audio/.test(e)})).map(p),[r].concat(n.map((function(e){if(!/^m=audio/.test(e))return e;var n=c(e).get("opus");if(!n)return e;var r=f(n,e);if(!r)return e;var i=b(n,r),a=new RegExp(i),o=p(e);t.includes(o)?r.usedtx=1:delete r.usedtx;var s=b(n,r);return e.replace(a,s)}))).join("\r\n")},t.filterLocalCodecs=function(e,t){var n=h(e),r=e.split("\r\nm=")[0],i=l(t);return[r].concat(n.map((function(e){return g(e,i,[])}))).join("\r\n")},t.getMediaSections=h,t.removeSSRCAttributes=function(e,t){return e.split("\r\n").filter((function(e){return!t.find((function(t){return new RegExp("a=ssrc:.*"+t+":","g").test(e)}))})).join("\r\n")},t.revertSimulcast=function(e,t,n,r){void 0===r&&(r=!1);var i=l(n),a=l(t),o=h(e);return[e.split("\r\nm=")[0]].concat(o.map((function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var t=e.match(/^a=mid:(.+)$/m),n=t&&t[1];if(!n)return e;var o=i.get(n),s=d(o),u=m(o),c=u.length&&"vp8"===s.get(u[0]);return r||!c?a.get(n).replace(/\r\n$/,""):e}))).concat("").join("\r\n")},t.setCodecPreferences=function(e,t,n){var r=h(e);return[e.split("\r\nm=")[0]].concat(r.map((function(e){if(!/^m=(audio|video)/.test(e))return e;var r=e.match(/^m=(audio|video)/)[1],i=c(e),s=function(e,t){t=t.map((function(e){return e.codec.toLowerCase()}));var n=o(t,(function(t){return e.get(t)||[]})),r=a(Array.from(e.keys()),t),i=o(r,(function(t){return e.get(t)}));return n.concat(i)}(i,"audio"===r?t:n),u=v(s,e),l=i.get("pcma")||[],d=i.get("pcmu")||[];return("audio"===r?new Set(l.concat(d)):new Set).has(s[0])?u.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):u}))).join("\r\n")},t.setSimulcast=function(e,t){var n=h(e);return[e.split("\r\nm=")[0]].concat(n.map((function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var n=c(e),r=m(e),i=new Set(n.get("vp8")||[]);return r.some((function(e){return i.has(e)}))?s(e,t):e}))).concat("").join("\r\n")}},93202:function(e,t,n){"use strict";var r=n(25409).RTCSessionDescription,i=n(2283),a=i.createPtToCodecName,o=i.getMediaSections;function s(e){var t=a(e);e=function(e,t){return Array.from(t.keys()).reduce((function(e,n){var r=new RegExp("^a=rtpmap:"+n+" rtx.+$","gm");return(e.match(r)||[]).slice("rtx"===t.get(n)?1:0).reduce((function(e,t){var r=new RegExp("\r\n"+t),i=new RegExp("\r\na=fmtp:"+n+" apt=[0-9]+");return e.replace(r,"").replace(i,"")}),e)}),e)}(e,t);var n=function(e){var t=new Map;return e.forEach((function(e,n){var r=t.get(e)||new Set;return t.set(e,r.add(n))})),t}(t),r=n.get("rtx")||new Set,i=new Set,o=function(e,t,n,r){return Array.from(n).reduce((function(n,i){var a=new RegExp("a=fmtp:"+i+" apt=(\\d+)"),o=e.match(a);if(!o)return r.add(i),n;var s=Number.parseInt(o[1]);return t.has(s)?"rtx"===t.get(s)?(r.add(i),n):n.set(i,s):(r.add(i),n)}),new Map)}(e,t,r,i),s=function(e,t){var n=Array.from(e).reduce((function(e,t){var n=t[0],r=t[1],i=e.get(r)||new Set;return e.set(r,i.add(n))}),new Map);return Array.from(n).reduce((function(e,n){var r=n[0],i=Array.from(n[1]);return i.length>1?(i.forEach((function(e){t.add(e)})),e):e.set(r,i[0])}),new Map)}(o,i),c=Array.from(i);return["h264","vp8","vp9"].reduce((function(e,t){var r=n.get(t)||new Set;return Array.from(r).reduce((function(e,t){return s.has(t)?e:e.add(t)}),e)}),new Set).forEach((function(t){if(c.length){var n=c.shift();e=function(e,t,n){return e.endsWith("\r\n")?e+"a=fmtp:"+t+" apt="+n+"\r\n":e+"\r\na=fmtp:"+t+" apt="+n}(e=u(e,n),n,t)}})),c.forEach((function(t){e=function(e,t){var n=new RegExp("a=rtpmap:"+t+".*\r\n","gm");return e.replace(n,"")}(e=u(e,t),t)})),e}function u(e,t){var n=new RegExp("a=fmtp:"+t+".*\r\n","gm");return e.replace(n,"")}e.exports=function(e){var t={type:e.type};return"rollback"!==e.type&&(t.sdp=function(e){var t=o(e);return[e.split("\r\nm=")[0]].concat(t.map(s)).join("\r\n")}(e.sdp)),new r(t)}},8293:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(58242),a=i.difference,o=i.flatMap;function s(){return String(Math.floor(4294967295*Math.random()))}var u=function(){function e(e,t,n){Object.defineProperties(this,{cName:{enumerable:!0,value:n},isSimulcastEnabled:{enumerable:!0,value:!1,writable:!0},primarySSRCs:{enumerable:!0,value:new Set},rtxPairs:{enumerable:!0,value:new Map},streamId:{enumerable:!0,value:t},trackId:{enumerable:!0,value:e}})}return e.prototype.addSimulcastSSRCs=function(){if(!this.isSimulcastEnabled){var e=[s(),s()];e.forEach((function(e){this.primarySSRCs.add(e)}),this),this.rtxPairs.size&&e.forEach((function(e){this.rtxPairs.set(s(),e)}),this)}},e.prototype.addSSRC=function(e,t,n){t?this.rtxPairs.set(e,t):this.primarySSRCs.add(e),this.isSimulcastEnabled=this.isSimulcastEnabled||n},e.prototype.toSdpLines=function(e){var t=this,n=e?[]:Array.from(this.rtxPairs.entries()).map((function(e){return e.reverse()})),r=Array.from(this.primarySSRCs.values()),i=n.length?o(n):r,a=o(i,(function(e){return["a=ssrc:"+e+" cname:"+t.cName,"a=ssrc:"+e+" msid:"+t.streamId+" "+t.trackId]})),s=n.map((function(e){return"a=ssrc-group:FID "+e.join(" ")})),u=["a=ssrc-group:SIM "+r.join(" ")];return s.concat(a).concat(u)},e}();function c(e,t){return(e.match(new RegExp(t,"gm"))||[]).map((function(e){return(e.match(new RegExp(t))||[]).slice(1)}))}function l(e){var t=function(e){return new Set(o(c(e,"^a=ssrc-group:SIM ([0-9]+) ([0-9]+) ([0-9]+)$")))}(e),n=function(e){return new Map(c(e,"^a=ssrc-group:FID ([0-9]+) ([0-9]+)$").map((function(e){return e.reverse()})))}(e),i=function(e){var t=r(o(c(e,"^a=msid:(.+) (.+)$")),2),n=t[0],i=t[1];return o(c(e,"^a=ssrc:(.+) cname:.+$")).map((function(e){return[e,n,i]}))}(e);return i.reduce((function(r,i){var a=i[0],o=i[1],s=i[2],c=r.get(s)||new u(s,o,function(e,t,n){var r="a=ssrc:"+t+" "+n+":(.+)";return e.match(new RegExp(r))[1]}(e,a,"cname")),l=n.get(a)||null;return c.addSSRC(a,l,t.has(a)),r.set(s,c)}),new Map)}e.exports=function(e,t){var n=l(e),r=Array.from(n.keys()),i=Array.from(t.keys()),s=a(r,i),u=a(i,r);o(s,(function(e){return n.get(e)})).forEach((function(e){e.addSimulcastSSRCs(),t.set(e.trackId,e)})),i=Array.from(t.keys());var c=a(i,u),d=o(c,(function(e){return t.get(e)})),f=!e.match(/a=rtpmap:[0-9]+ rtx/),p=o(d,(function(e){return e.toSdpLines(f)})),h=o(new Set(e.split("\r\n").concat(p))),m="a=x-google-flag:conference";return e.match(m)||h.push(m),h.join("\r\n")}},51173:function(e,t,n){"use strict";var r=n(2283).getMediaSections,i=function(){function e(){Object.defineProperties(this,{_midsToTrackIds:{value:new Map,writable:!0}})}return e.prototype.match=function(e){return this._midsToTrackIds.get(e.transceiver.mid)||null},e.prototype.update=function(e){var t=r(e,"(audio|video)");this._midsToTrackIds=t.reduce((function(e,t){var n=t.match(/^a=mid:(.+)$/m)||[],r=t.match(/^a=msid:.+ (.+)$/m)||[],i=n[1],a=r[1];return i&&a?e.set(i,a):e}),this._midsToTrackIds)},e}();e.exports=i},22243:function(e,t){var n="1234567890abcdef";function r(e){for(var t="",r=0;r<32;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return""+e+t}t.sessionSID=r("SS"),t.createSID=r},96415:function(e,t,n){"use strict";var r=n(73348),i=r.guessBrowser,a=r.support,o=n(90878).getSdpFormat,s=n(39091),u=s.isAndroid,c=s.isMobile,l=s.isNonChromiumEdge,d=s.rebrandedChromeBrowser,f=s.mobileWebKitBrowser,p=["crios","edg","edge","electron","headlesschrome"],h=["chrome","firefox"],m=["chrome","safari"],v=[];e.exports=function(){var e=i();if(!e)return!1;var t=d(e),n=f(e),r=u()?h:m;return!!e&&a()&&"unified"===o()&&(!t||p.includes(t))&&!l(e)&&(!n||v.includes(n))&&(!c()||r.includes(e))}},91149:function(e){"use strict";var t=function(){function e(e,t,n){void 0===n&&(n=!0),Object.defineProperties(this,{_delay:{value:t,writable:!0},_fn:{value:e},_timeout:{value:null,writable:!0}}),n&&this.start()}return Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSet",{get:function(){return!!this._timeout},enumerable:!1,configurable:!0}),e.prototype.setDelay=function(e){this._delay=e},e.prototype.start=function(){var e=this;this.isSet||(this._timeout=setTimeout((function(){var t=e._fn;e.clear(),t()}),this._delay))},e.prototype.clear=function(){clearTimeout(this._timeout),this._timeout=null},e.prototype.reset=function(){this.clear(),this.start()},e}();e.exports=t},89752:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(86520),a={};t.createTwilioError=function(e,t){return t="string"===typeof t&&t?t:"Unknown error",a[e="number"===typeof e?e:0]?new a[e]:new i(e,t)};var o=function(e){function t(){var n=e.call(this,20101,"Invalid Access Token")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenInvalidError=o,Object.defineProperty(a,20101,{value:o});var s=function(e){function t(){var n=e.call(this,20102,"Invalid Access Token header")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenHeaderInvalidError=s,Object.defineProperty(a,20102,{value:s});var u=function(e){function t(){var n=e.call(this,20103,"Invalid Access Token issuer/subject")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenIssuerInvalidError=u,Object.defineProperty(a,20103,{value:u});var c=function(e){function t(){var n=e.call(this,20104,"Access Token expired or expiration date invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenExpiredError=c,Object.defineProperty(a,20104,{value:c});var l=function(e){function t(){var n=e.call(this,20105,"Access Token not yet valid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenNotYetValidError=l,Object.defineProperty(a,20105,{value:l});var d=function(e){function t(){var n=e.call(this,20106,"Invalid Access Token grants")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenGrantsInvalidError=d,Object.defineProperty(a,20106,{value:d});var f=function(e){function t(){var n=e.call(this,20107,"Invalid Access Token signature")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenSignatureInvalidError=f,Object.defineProperty(a,20107,{value:f});var p=function(e){function t(){var n=e.call(this,53e3,"Signaling connection error")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingConnectionError=p,Object.defineProperty(a,53e3,{value:p});var h=function(e){function t(){var n=e.call(this,53001,"Signaling connection disconnected")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingConnectionDisconnectedError=h,Object.defineProperty(a,53001,{value:h});var m=function(e){function t(){var n=e.call(this,53002,"Signaling connection timed out")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingConnectionTimeoutError=m,Object.defineProperty(a,53002,{value:m});var v=function(e){function t(){var n=e.call(this,53003,"Client received an invalid signaling message")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingIncomingMessageInvalidError=v,Object.defineProperty(a,53003,{value:v});var g=function(e){function t(){var n=e.call(this,53004,"Client sent an invalid signaling message")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingOutgoingMessageInvalidError=g,Object.defineProperty(a,53004,{value:g});var y=function(e){function t(){var n=e.call(this,53006,"Video server is busy")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingServerBusyError=y,Object.defineProperty(a,53006,{value:y});var b=function(e){function t(){var n=e.call(this,53100,"Room name is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomNameInvalidError=b,Object.defineProperty(a,53100,{value:b});var w=function(e){function t(){var n=e.call(this,53101,"Room name is too long")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomNameTooLongError=w,Object.defineProperty(a,53101,{value:w});var k=function(e){function t(){var n=e.call(this,53102,"Room name contains invalid characters")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomNameCharsInvalidError=k,Object.defineProperty(a,53102,{value:k});var x=function(e){function t(){var n=e.call(this,53103,"Unable to create Room")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomCreateFailedError=x,Object.defineProperty(a,53103,{value:x});var _=function(e){function t(){var n=e.call(this,53104,"Unable to connect to Room")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomConnectFailedError=_,Object.defineProperty(a,53104,{value:_});var S=function(e){function t(){var n=e.call(this,53105,"Room contains too many Participants")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomMaxParticipantsExceededError=S,Object.defineProperty(a,53105,{value:S});var E=function(e){function t(){var n=e.call(this,53106,"Room not found")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomNotFoundError=E,Object.defineProperty(a,53106,{value:E});var C=function(e){function t(){var n=e.call(this,53107,"MaxParticipants is out of range")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomMaxParticipantsOutOfRangeError=C,Object.defineProperty(a,53107,{value:C});var T=function(e){function t(){var n=e.call(this,53108,"RoomType is not valid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomTypeInvalidError=T,Object.defineProperty(a,53108,{value:T});var A=function(e){function t(){var n=e.call(this,53109,"Timeout is out of range")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomTimeoutOutOfRangeError=A,Object.defineProperty(a,53109,{value:A});var O=function(e){function t(){var n=e.call(this,53110,"StatusCallbackMethod is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomStatusCallbackMethodInvalidError=O,Object.defineProperty(a,53110,{value:O});var R=function(e){function t(){var n=e.call(this,53111,"StatusCallback is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomStatusCallbackInvalidError=R,Object.defineProperty(a,53111,{value:R});var I=function(e){function t(){var n=e.call(this,53112,"Status is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomStatusInvalidError=I,Object.defineProperty(a,53112,{value:I});var N=function(e){function t(){var n=e.call(this,53113,"Room exists")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomRoomExistsError=N,Object.defineProperty(a,53113,{value:N});var P=function(e){function t(){var n=e.call(this,53114,"Room creation parameter(s) incompatible with the Room type")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomInvalidParametersError=P,Object.defineProperty(a,53114,{value:P});var M=function(e){function t(){var n=e.call(this,53115,"MediaRegion is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomMediaRegionInvalidError=M,Object.defineProperty(a,53115,{value:M});var L=function(e){function t(){var n=e.call(this,53116,"There are no media servers available in the MediaRegion")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomMediaRegionUnavailableError=L,Object.defineProperty(a,53116,{value:L});var D=function(e){function t(){var n=e.call(this,53117,"The subscription operation requested is not supported for the Room type")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomSubscriptionOperationNotSupportedError=D,Object.defineProperty(a,53117,{value:D});var F=function(e){function t(){var n=e.call(this,53118,"Room completed")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomCompletedError=F,Object.defineProperty(a,53118,{value:F});var B=function(e){function t(){var n=e.call(this,53124,"The AudioOnly flag is not supported for the Room type")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomAudioOnlyFlagNotSupportedError=B,Object.defineProperty(a,53124,{value:B});var j=function(e){function t(){var n=e.call(this,53125,"The track kind is not supported by the Room")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomTrackKindNotSupportedError=j,Object.defineProperty(a,53125,{value:j});var Z=function(e){function t(){var n=e.call(this,53200,"Participant identity is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantIdentityInvalidError=Z,Object.defineProperty(a,53200,{value:Z});var V=function(e){function t(){var n=e.call(this,53201,"Participant identity is too long")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantIdentityTooLongError=V,Object.defineProperty(a,53201,{value:V});var U=function(e){function t(){var n=e.call(this,53202,"Participant identity contains invalid characters")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantIdentityCharsInvalidError=U,Object.defineProperty(a,53202,{value:U});var W=function(e){function t(){var n=e.call(this,53203,"The maximum number of published tracks allowed in the Room at the same time has been reached")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantMaxTracksExceededError=W,Object.defineProperty(a,53203,{value:W});var H=function(e){function t(){var n=e.call(this,53204,"Participant not found")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantNotFoundError=H,Object.defineProperty(a,53204,{value:H});var z=function(e){function t(){var n=e.call(this,53205,"Participant disconnected because of duplicate identity")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantDuplicateIdentityError=z,Object.defineProperty(a,53205,{value:z});var G=function(e){function t(){var n=e.call(this,53300,"Track is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackInvalidError=G,Object.defineProperty(a,53300,{value:G});var q=function(e){function t(){var n=e.call(this,53301,"Track name is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackNameInvalidError=q,Object.defineProperty(a,53301,{value:q});var K=function(e){function t(){var n=e.call(this,53302,"Track name is too long")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackNameTooLongError=K,Object.defineProperty(a,53302,{value:K});var Y=function(e){function t(){var n=e.call(this,53303,"Track name contains invalid characters")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackNameCharsInvalidError=Y,Object.defineProperty(a,53303,{value:Y});var X=function(e){function t(){var n=e.call(this,53304,"Track name is duplicated")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackNameIsDuplicatedError=X,Object.defineProperty(a,53304,{value:X});var Q=function(e){function t(){var n=e.call(this,53305,"The server has reached capacity and cannot fulfill this request")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackServerTrackCapacityReachedError=Q,Object.defineProperty(a,53305,{value:Q});var J=function(e){function t(){var n=e.call(this,53400,"Client is unable to create or apply a local media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaClientLocalDescFailedError=J,Object.defineProperty(a,53400,{value:J});var $=function(e){function t(){var n=e.call(this,53401,"Server is unable to create or apply a local media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaServerLocalDescFailedError=$,Object.defineProperty(a,53401,{value:$});var ee=function(e){function t(){var n=e.call(this,53402,"Client is unable to apply a remote media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaClientRemoteDescFailedError=ee,Object.defineProperty(a,53402,{value:ee});var te=function(e){function t(){var n=e.call(this,53403,"Server is unable to apply a remote media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaServerRemoteDescFailedError=te,Object.defineProperty(a,53403,{value:te});var ne=function(e){function t(){var n=e.call(this,53404,"No supported codec")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaNoSupportedCodecError=ne,Object.defineProperty(a,53404,{value:ne});var re=function(e){function t(){var n=e.call(this,53405,"Media connection failed or Media activity ceased")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaConnectionError=re,Object.defineProperty(a,53405,{value:re});var ie=function(e){function t(){var n=e.call(this,53407,"Media connection failed due to DTLS handshake failure")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaDTLSTransportFailedError=ie,Object.defineProperty(a,53407,{value:ie});var ae=function(e){function t(){var n=e.call(this,53500,"Unable to acquire configuration")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ConfigurationAcquireFailedError=ae,Object.defineProperty(a,53500,{value:ae});var oe=function(e){function t(){var n=e.call(this,53501,"Unable to acquire TURN credentials")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ConfigurationAcquireTurnFailedError=oe,Object.defineProperty(a,53501,{value:oe})},86520:function(e){"use strict";var t=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),n=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},i=function(e){function i(t){var a=this,o=[].slice.call(arguments,1);a=e.apply(this,r([],n(o)))||this,Object.setPrototypeOf(a,i.prototype);var s=Error.apply(a,o);return s.name="TwilioError",Object.defineProperty(a,"code",{value:t,enumerable:!0}),Object.getOwnPropertyNames(s).forEach((function(e){Object.defineProperty(this,e,{value:s[e],enumerable:!0})}),a),a}return t(i,e),i.prototype.toString=function(){var e=this.message?": "+this.message:"";return this.name+" "+this.code+e},i}(Error);e.exports=i},94438:function(e){"use strict";e.exports={recordingMediaLost:"recording-media-lost"}},96340:function(e,t,n){"use strict";var r=n(58242).isNonArrayObject,i=n(24657),a=i.typeErrors,o=i.clientTrackSwitchOffControl,s=i.videoContentPreferencesMode,u=i.subscriptionMode,c=i.trackPriority,l=i.trackSwitchOffMode;function d(e,t,n){return void 0===n&&(n=[]),"undefined"===typeof e?null:null!==e&&r(e)?n.reduce((function(n,r){var i=r.prop,o=r.type,s=r.values;if(n||!(i in e))return n;var u=e[i];return o&&typeof u!==o||"number"===o&&isNaN(u)?a.INVALID_TYPE(t+"."+i,o):Array.isArray(s)&&!s.includes(u)?a.INVALID_VALUE(t+"."+i,s):n}),null):a.INVALID_TYPE(t,"object")}t.kG=function(e){var t=d(e,"options.bandwidthProfile");return!e||t?t:(t=d(e.video,"options.bandwidthProfile.video",[{prop:"contentPreferencesMode",values:Object.values(s)},{prop:"dominantSpeakerPriority",values:Object.values(c)},{prop:"maxSubscriptionBitrate",type:"number"},{prop:"maxTracks",type:"number"},{prop:"mode",values:Object.values(u)},{prop:"clientTrackSwitchOffControl",values:Object.values(o)},{prop:"trackSwitchOffMode",values:Object.values(l)}]))||(e.video?"maxTracks"in e.video&&"clientTrackSwitchOffControl"in e.video?new TypeError("options.bandwidthProfile.video.maxTracks is deprecated. Use options.bandwidthProfile.video.clientTrackSwitchOffControl instead."):"renderDimensions"in e.video&&"contentPreferencesMode"in e.video?new TypeError("options.bandwidthProfile.video.renderDimensions is deprecated. Use options.bandwidthProfile.video.contentPreferencesMode instead."):function(e){var t="options.bandwidthProfile.video.renderDimensions",n=d(e,t);return e?n||Object.values(c).reduce((function(n,r){return n||d(e[r],t+"."+r,[{prop:"height",type:"number"},{prop:"width",type:"number"}])}),null):n}(e.video.renderDimensions):null)},t.Wv=function(e,t){if(!(e instanceof t.LocalAudioTrack||e instanceof t.LocalDataTrack||e instanceof t.LocalVideoTrack||e instanceof t.MediaStreamTrack))throw a.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")}},78812:function(e){e.exports=function(e,t){if(e&&t)if(e.super_=t,"function"===typeof Object.create)e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});else{var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},48489:function(e){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function a(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(e){return"debug"===e&&(e="log"),typeof console!==n&&("trace"===e&&r?o:void 0!==console[e]?a(console,e):void 0!==console.log?a(console,"log"):t)}function u(e,n){for(var r=0;r<i.length;r++){var a=i[r];this[a]=r<e?t:this.methodFactory(a,e,n)}this.log=this.debug}function c(e,t,r){return function(){typeof console!==n&&(u.call(this,t,r),this[e].apply(this,arguments))}}function l(e,t,n){return s(e)||c.apply(this,arguments)}function d(e,t,r){var a,o=this,s="loglevel";function c(){var e;if(typeof window!==n&&s){try{e=window.localStorage[s]}catch(i){}if(typeof e===n)try{var t=window.document.cookie,r=t.indexOf(encodeURIComponent(s)+"=");-1!==r&&(e=/^([^;]+)/.exec(t.slice(r))[1])}catch(i){}return void 0===o.levels[e]&&(e=void 0),e}}"string"===typeof e?s+=":"+e:"symbol"===typeof e&&(s=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=r||l,o.getLevel=function(){return a},o.setLevel=function(t,r){if("string"===typeof t&&void 0!==o.levels[t.toUpperCase()]&&(t=o.levels[t.toUpperCase()]),!("number"===typeof t&&t>=0&&t<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(a=t,!1!==r&&function(e){var t=(i[e]||"silent").toUpperCase();if(typeof window!==n&&s){try{return void(window.localStorage[s]=t)}catch(r){}try{window.document.cookie=encodeURIComponent(s)+"="+t+";"}catch(r){}}}(t),u.call(o,t,e),typeof console===n&&t<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){c()||o.setLevel(e,!1)},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var d=c();null==d&&(d=null==t?"WARN":t),o.setLevel(d,!1)}var f=new d,p={};f.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new d(e,f.getLevel(),f.methodFactory)),t};var h=typeof window!==n?window.log:void 0;f.noConflict=function(){return typeof window!==n&&window.log===f&&(window.log=h),f},f.getLoggers=function(){return p},f.default=f,e.exports=f},63074:function(e){"use strict";var t="undefined"!==typeof AudioContext?AudioContext:"undefined"!==typeof webkitAudioContext?webkitAudioContext:null,n=function(){function e(n){n=Object.assign({AudioContext:t},n),Object.defineProperties(this,{_AudioContext:{value:n.AudioContext},_audioContext:{value:null,writable:!0},_holders:{value:new Set},AudioContextFactory:{enumerable:!0,value:e}})}return e.prototype.getOrCreate=function(e){if(!this._holders.has(e)&&(this._holders.add(e),this._AudioContext&&!this._audioContext))try{this._audioContext=new this._AudioContext}catch(t){}return this._audioContext},e.prototype.release=function(e){this._holders.has(e)&&(this._holders.delete(e),!this._holders.size&&this._audioContext&&(this._audioContext.close(),this._audioContext=null))},e}();e.exports=new n},88467:function(e){"use strict";e.exports=function(e,t,n){n="number"===typeof n?n:250;var r=e.createMediaStreamSource(t),i=e.createAnalyser();i.fftSize=2048,r.connect(i);var a=new Uint8Array(i.fftSize),o=!1;return setTimeout((function(){o=!0}),n),function e(){return o?Promise.resolve(!0):(i.getByteTimeDomainData(a),a.some((function(e){return 128!==e&&0!==e}))?Promise.resolve(!1):function(e){return e="number"===typeof e?e:0,new Promise((function(t){return setTimeout(t,e)}))}().then(e))}().then((function(e){return r.disconnect(),e}),(function(e){throw r.disconnect(),e}))}},21268:function(e,t,n){"use strict";var r=n(88467);e.exports=function(e,t,i,a,o){a="number"===typeof a?a:3;var s=0,u=n(63074),c={},l=u.getOrCreate(c);return function n(){return t(i).then((function(t){return(i.audio?r(l,t,o).catch((function(t){return e.warn("Encountered an error while detecting silence",t),!0})):Promise.resolve(!1)).then((function(r){return r?a<=0?(e.warn("Got a silent audio MediaStreamTrack. Normally we would try to get a new one, but we've run out of retries; returning it anyway."),t):(e.warn("Got a silent audio MediaStreamTrack. Stopping all MediaStreamTracks and calling getUserMedia again. This is retry #"+ ++s+"."),t.getTracks().forEach((function(e){return e.stop()})),a--,n()):(e.info("Got a non-silent audio MediaStreamTrack; returning it."),t)}))}))}().then((function(e){return u.release(c),e}),(function(e){throw u.release(c),e}))}},44519:function(e,t,n){"use strict";var r=n(73348).flatMap,i=n(73348).guessBrowser,a=n(73348).guessBrowserVersion,o=n(90878).getSdpFormat,s=i(),u=a(),c="chrome"===s,l="firefox"===s,d="safari"===s,f=c?u.major:null;function p(e){var t=Array.from(e.values()).find((function(e){return"candidate-pair"===e.type&&e.nominated}));if(!t)return null;var n=e.get(t.localCandidateId),r=e.get(t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",type:"string"},{key:"port",type:"number"},{key:"priority",type:"number"},{key:"protocol",type:"string"},{key:"url",type:"string"}],a=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),o=n?a.reduce((function(e,t){return e[t.key]=typeof n[t.key]===t.type?n[t.key]:"deleted"!==t.key&&null,e}),{}):null,s=r?i.reduce((function(e,t){return e[t.key]=typeof r[t.key]===t.type?r[t.key]:null,e}),{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string",fixup:function(e){return"inprogress"===e?"in-progress":e}},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce((function(e,n){return e[n.key]=typeof t[n.key]===n.type?n.fixup?n.fixup(t[n.key]):t[n.key]:null,e}),{localCandidate:o,remoteCandidate:s})}function h(e){var t=Array.from(e.values()).find((function(e){return"candidate-pair"===e.type&&e.nominated}));if(!t)return null;var n=e.get(t.localCandidateId),r=e.get(t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",ffKeys:["address","ipAddress"],type:"string"},{key:"port",ffKeys:["portNumber"],type:"number"},{key:"priority",type:"number"},{key:"protocol",ffKeys:["transport"],type:"string"},{key:"url",type:"string"}],a=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),o={host:"host",peerreflexive:"prflx",relayed:"relay",serverreflexive:"srflx"},s=n?a.reduce((function(e,t){var r=t.ffKeys&&t.ffKeys.find((function(e){return e in n}))||t.key;return e[t.key]=typeof n[r]===t.type?"candidateType"===r&&o[n[r]]||n[r]:"deleted"!==r&&null,e}),{}):null,u=r?i.reduce((function(e,t){var n=t.ffKeys&&t.ffKeys.find((function(e){return e in r}))||t.key;return e[t.key]=typeof r[n]===t.type?"candidateType"===n&&o[r[n]]||r[n]:null,e}),{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string"},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce((function(e,n){return e[n.key]=typeof t[n.key]===n.type?t[n.key]:null,e}),{localCandidate:s,remoteCandidate:u})}function m(e,t,n){var i="local"===n?"getSenders":"getReceivers";return e[i]?e[i]().map((function(e){return e.track})).filter((function(e){return e&&e.kind===t})):r(e["local"===n?"getLocalStreams":"getRemoteStreams"](),(function(e){return e["audio"===t?"getAudioTracks":"getVideoTracks"]()}))}function v(e,t){return new Promise((function(n,r){f&&f<67?e.getStats((function(e){n([g(e,t)])}),null,r):e.getStats(t).then((function(e){n(function(e){var t=null,n=[],r=null,i=null,a=null,o=null,s=null;e.forEach((function(e){switch(e.type){case"inbound-rtp":t=e;break;case"outbound-rtp":n.push(e);break;case"media-source":s=e;break;case"track":a=e;break;case"codec":o=e;break;case"remote-inbound-rtp":r=e;break;case"remote-outbound-rtp":i=e}}));var u=a&&a.remoteSource,c=[],l=u?i:r;return(u?[t]:n).forEach((function(e){var t={},n=[e,s,a,o,l&&l.ssrc===e.ssrc?l:null];function r(e){var t=n.find((function(t){return t&&"undefined"!==typeof t[e]}))||null;return t?t[e]:null}var i=r("ssrc");"number"===typeof i&&(t.ssrc=String(i));var d=r("timestamp");t.timestamp=Math.round(d);var f=r("mimeType");"string"===typeof f&&(f=f.split("/"),t.codecName=f[f.length-1]);var p=r("roundTripTime");"number"===typeof p&&(t.roundTripTime=Math.round(1e3*p));var h=r("jitter");"number"===typeof h&&(t.jitter=Math.round(1e3*h));var m=r("frameWidth");"number"===typeof m&&(u?t.frameWidthReceived=m:(t.frameWidthSent=m,t.frameWidthInput=a.frameWidth));var v=r("frameHeight");"number"===typeof v&&(u?t.frameHeightReceived=v:(t.frameHeightSent=v,t.frameHeightInput=a.frameHeight));var g=r("framesPerSecond");"number"===typeof g&&(t[u?"frameRateReceived":"frameRateSent"]=g);var y=r("bytesReceived");"number"===typeof y&&(t.bytesReceived=y);var b=r("bytesSent");"number"===typeof b&&(t.bytesSent=b);var w=r("packetsLost");"number"===typeof w&&(t.packetsLost=w);var k=r("packetsReceived");"number"===typeof k&&(t.packetsReceived=k);var x=r("packetsSent");"number"===typeof x&&(t.packetsSent=x);var _=r("audioLevel");"number"===typeof _&&(_=Math.round(32767*_),u?t.audioOutputLevel=_:t.audioInputLevel=_);var S=r("totalPacketSendDelay");"number"===typeof S&&(t.totalPacketSendDelay=S);var E=r("totalEncodeTime");"number"===typeof E&&(t.totalEncodeTime=E);var C=r("framesEncoded");"number"===typeof C&&(t.framesEncoded=C);var T=r("estimatedPlayoutTimestamp");"number"===typeof T&&(t.estimatedPlayoutTimestamp=T);var A=r("totalDecodeTime");"number"===typeof A&&(t.totalDecodeTime=A);var O=r("framesDecoded");"number"===typeof O&&(t.framesDecoded=O);var R=r("jitterBufferDelay");"number"===typeof R&&(t.jitterBufferDelay=R);var I=r("jitterBufferEmittedCount");"number"===typeof I&&(t.jitterBufferEmittedCount=I),c.push(t)})),c}(e))}),r)}))}function g(e,t){var n=e.result().find((function(e){return"ssrc"===e.type&&e.stat("googTrackId")===t.id})),r={};return n&&(r.timestamp=Math.round(Number(n.timestamp)),r=n.names().reduce((function(e,t){switch(t){case"googCodecName":e.codecName=n.stat(t);break;case"googRtt":e.roundTripTime=Number(n.stat(t));break;case"googJitterReceived":e.jitter=Number(n.stat(t));break;case"googFrameWidthInput":e.frameWidthInput=Number(n.stat(t));break;case"googFrameHeightInput":e.frameHeightInput=Number(n.stat(t));break;case"googFrameWidthSent":e.frameWidthSent=Number(n.stat(t));break;case"googFrameHeightSent":e.frameHeightSent=Number(n.stat(t));break;case"googFrameWidthReceived":e.frameWidthReceived=Number(n.stat(t));break;case"googFrameHeightReceived":e.frameHeightReceived=Number(n.stat(t));break;case"googFrameRateInput":e.frameRateInput=Number(n.stat(t));break;case"googFrameRateSent":e.frameRateSent=Number(n.stat(t));break;case"googFrameRateReceived":e.frameRateReceived=Number(n.stat(t));break;case"ssrc":e[t]=n.stat(t);break;case"bytesReceived":case"bytesSent":case"packetsLost":case"packetsReceived":case"packetsSent":case"audioInputLevel":case"audioOutputLevel":e[t]=Number(n.stat(t))}return e}),r)),r}function y(e,t){e=e||new Map;var n=null,r=null;e.forEach((function(t){if(!t.isRemote)switch(t.type){case"inbound-rtp":n=t,r=e.get(t.remoteId);break;case"outbound-rtp":r=t,n=e.get(t.remoteId)}}));var i=t?n:r,a=t?r:n;function o(e){return i&&"undefined"!==typeof i[e]?i[e]:a&&"undefined"!==typeof a[e]?a[e]:null}var s={},u=o("timestamp");s.timestamp=Math.round(u);var c=o("ssrc");"number"===typeof c&&(s.ssrc=String(c));var l=o("bytesSent");"number"===typeof l&&(s.bytesSent=l);var d=o("packetsLost");"number"===typeof d&&(s.packetsLost=d);var f=o("packetsSent");"number"===typeof f&&(s.packetsSent=f);var p=o("roundTripTime");"number"===typeof p&&(s.roundTripTime=Math.round(1e3*p));var h=o("jitter");"number"===typeof h&&(s.jitter=Math.round(1e3*h));var m=o("framerateMean");"number"===typeof m&&(s.frameRateSent=Math.round(m));var v=o("bytesReceived");"number"===typeof v&&(s.bytesReceived=v);var g=o("packetsReceived");"number"===typeof g&&(s.packetsReceived=g);var y=o("framerateMean");"number"===typeof y&&(s.frameRateReceived=Math.round(y));var b=o("totalPacketSendDelay");"number"===typeof b&&(s.totalPacketSendDelay=b);var w=o("totalEncodeTime");"number"===typeof w&&(s.totalEncodeTime=w);var k=o("framesEncoded");"number"===typeof k&&(s.framesEncoded=k);var x=o("estimatedPlayoutTimestamp");"number"===typeof x&&(s.estimatedPlayoutTimestamp=x);var _=o("totalDecodeTime");"number"===typeof _&&(s.totalDecodeTime=_);var S=o("framesDecoded");"number"===typeof S&&(s.framesDecoded=S);var E=o("jitterBufferDelay");"number"===typeof E&&(s.jitterBufferDelay=E);var C=o("jitterBufferEmittedCount");return"number"===typeof C&&(s.jitterBufferEmittedCount=C),s}e.exports=function(e,t){return e&&"function"===typeof e.getStats?function(e,t){var n=m(e,"audio","local"),i=m(e,"video","local"),a=m(e,"audio"),s=m(e,"video"),u={activeIceCandidatePair:null,localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[]},f=r([[n,"localAudioTrackStats",!1],[i,"localVideoTrackStats",!1],[a,"remoteAudioTrackStats",!0],[s,"remoteVideoTrackStats",!0]],(function(n){var r=n[0],i=n[1],a=n[2];return r.map((function(n){return function(e,t,n){if("undefined"!==typeof(n=n||{}).testForChrome||c)return v(e,t);if("undefined"!==typeof n.testForFirefox||l)return function(e,t,n){return new Promise((function(r,i){e.getStats(t).then((function(e){r([y(e,n)])}),i)}))}(e,t,n.isRemote);if("undefined"!==typeof n.testForSafari||d)return"undefined"!==typeof n.testForSafari||"unified"===o()?v(e,t):Promise.reject(new Error(["getStats() is not supported on this version of Safari","due to this bug: https://bugs.webkit.org/show_bug.cgi?id=192601"].join(" ")));return Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,n,Object.assign({isRemote:a},t)).then((function(e){e.forEach((function(e){e.trackId=n.id,u[i].push(e)}))}))}))}));return Promise.all(f).then((function(){return function(e,t){if("undefined"!==typeof(t=t||{}).testForChrome||c||"undefined"!==typeof t.testForSafari||d)return e.getStats().then(p);if("undefined"!==typeof t.testForFirefox||l)return e.getStats().then(h);return Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,t)})).then((function(e){return u.activeIceCandidatePair=e,u}))}(e,t):Promise.reject(new Error("Given PeerConnection does not support getStats"))}},15749:function(e){"use strict";e.exports=function(e){return"object"===typeof navigator&&"object"===typeof navigator.mediaDevices&&"function"===typeof navigator.mediaDevices.getUserMedia?(e=e||{audio:!0,video:!0},navigator.mediaDevices.getUserMedia(e)):Promise.reject(new Error("getUserMedia is not supported"))}},25409:function(e,t,n){"use strict";var r={};Object.defineProperties(r,{getStats:{enumerable:!0,value:n(44519)},getUserMedia:{enumerable:!0,value:n(15749)},MediaStream:{enumerable:!0,value:n(64693)},MediaStreamTrack:{enumerable:!0,value:n(66786)},RTCIceCandidate:{enumerable:!0,value:n(6189)},RTCPeerConnection:{enumerable:!0,value:n(88581)},RTCSessionDescription:{enumerable:!0,value:n(71135)}}),e.exports=r},64693:function(e){"use strict";"function"===typeof MediaStream?e.exports=MediaStream:e.exports=function(){throw new Error("MediaStream is not supported")}},66786:function(e){"use strict";"function"===typeof MediaStreamTrack?e.exports=MediaStreamTrack:e.exports=function(){throw new Error("MediaStreamTrack is not supported")}},6189:function(e){"use strict";"function"===typeof RTCIceCandidate?e.exports=RTCIceCandidate:e.exports=function(){throw new Error("RTCIceCandidate is not supported")}},21754:function(e,t,n){"use strict";var r=n(6595),i=n(16429),a=n(78812),o=n(1790),s=n(64693),u=n(57248),c=n(90878),l=n(73348),d=n(73348).isIOSChrome,f="unified"===c.getSdpFormat();function p(e,t){if(!(this instanceof p))return new p(e,t);i.call(this),e=e||{};var n=Object.assign(e.iceTransportPolicy?{iceTransports:e.iceTransportPolicy}:{},e);l.interceptEvent(this,"datachannel"),l.interceptEvent(this,"signalingstatechange");var r=c.getSdpFormat(n.sdpSemantics),a=new RTCPeerConnection(n,t);Object.defineProperties(this,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_localStream:{value:new s},_peerConnection:{value:a},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_sdpFormat:{value:r},_senders:{value:new Map},_signalingStateLatch:{value:new o},_tracksToSSRCs:{value:new Map,writable:!0},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer?this._pendingLocalOffer:a.localDescription}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer?this._pendingRemoteOffer:a.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":a.signalingState}}});var u=this;a.addEventListener("datachannel",(function(e){y(e.channel),u.dispatchEvent(e)})),a.addEventListener("signalingstatechange",(function(){"stable"===a.signalingState&&(u._appliedTracksToSSRCs=new Map(u._tracksToSSRCs)),u._pendingLocalOffer||u._pendingRemoteOffer||u.dispatchEvent.apply(u,arguments)})),a.ontrack=function(){},"function"!==typeof RTCPeerConnection.prototype.addTrack&&a.addStream(this._localStream),l.proxyProperties(RTCPeerConnection.prototype,this,a)}function h(e,t,n){var r,i,a=t?e._pendingLocalOffer:e._pendingRemoteOffer,o=t?e._pendingRemoteOffer:e._pendingLocalOffer,s=t?"have-local-offer":"have-remote-offer",u=t?"setLocalDescription":"setRemoteDescription";if(!t&&o&&"answer"===n.type)r=function(e,t){var n=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(n).then((function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)})).then((function(){e._signalingStateLatch.lower()}))}(e,n);else if("offer"===n.type){if(e.signalingState!==s&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));a||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var c=e.signalingState;i=v(n),t?e._pendingLocalOffer=i:e._pendingRemoteOffer=i,r=Promise.resolve(),e.signalingState!==c&&r.then((function(){e.dispatchEvent(new Event("signalingstatechange"))}))}else"rollback"===n.type&&(e.signalingState!==s?r=Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),(r=Promise.resolve()).then((function(){e.dispatchEvent(new Event("signalingstatechange"))}))));return r||e._peerConnection[u](v(n))}function m(e,t){return!!e.getTransceivers().find((function(e){return e.receiver&&e.receiver.track&&e.receiver.track.kind===t}))}function v(e){return e instanceof r&&e._description?e._description:new RTCSessionDescription(e)}function g(){return"maxRetransmitTime"in RTCDataChannel.prototype&&!("maxPacketLifeTime"in RTCDataChannel.prototype)}function y(e){return Object.defineProperty(e,"maxRetransmits",{value:65535===e.maxRetransmits?null:e.maxRetransmits}),g()&&Object.defineProperty(e,"maxPacketLifeTime",{value:65535===e.maxRetransmitTime?null:e.maxRetransmitTime}),e}function b(e,t,n){return"unified"===e?c.updateUnifiedPlanTrackIdsToSSRCs(t,n):c.updatePlanBTrackIdsToSSRCs(t,n)}a(p,i),"function"!==typeof RTCPeerConnection.prototype.addTrack?(p.prototype.addTrack=function(){var e=[].slice.call(arguments),t=e[0];if("closed"===this._peerConnection.signalingState)throw new Error("Cannot add MediaStreamTrack ["+t.id+", "+t.kind+"]: RTCPeerConnection is closed");var n=this._senders.get(t);if(n&&n.track)throw new Error("Cannot add MediaStreamTrack ["+t.id+", "+t.kind+"]: RTCPeerConnection already has it");return this._peerConnection.removeStream(this._localStream),this._localStream.addTrack(t),this._peerConnection.addStream(this._localStream),n=new u(t),this._senders.set(t,n),n},p.prototype.removeTrack=function(e){if("closed"===this._peerConnection.signalingState)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");var t=e.track;t&&(e=this._senders.get(t))&&e.track&&(e.track=null,this._peerConnection.removeStream(this._localStream),this._localStream.removeTrack(t),this._peerConnection.addStream(this._localStream))},p.prototype.getSenders=function(){return Array.from(this._senders.values())}):p.prototype.removeTrack=function(e){if("closed"===this._peerConnection.signalingState)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");try{this._peerConnection.removeTrack(e)}catch(t){}},p.prototype.addIceCandidate=function(e){var t,n=[].slice.call(arguments),r=this;return t="have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then((function(){return r._peerConnection.addIceCandidate(e)})):this._peerConnection.addIceCandidate(e),n.length>1?l.legacyPromise(t,n[1],n[2]):t},p.prototype.close=function(){"closed"!==this.signalingState&&(this._pendingLocalOffer=null,this._pendingRemoteOffer=null,this._peerConnection.close())},p.prototype.createAnswer=function(){var e,t=[].slice.call(arguments),n=this;return e=this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then((function(){return n._signalingStateLatch.lower(),n._peerConnection.createAnswer()})).then((function(e){return n._pendingRemoteOffer=null,n._rolledBackTracksToSSRCs.clear(),new r({type:"answer",sdp:b(n._sdpFormat,n._tracksToSSRCs,e.sdp)})}),(function(e){throw n._pendingRemoteOffer=null,e})):this._peerConnection.createAnswer().then((function(e){return n._rolledBackTracksToSSRCs.clear(),new r({type:"answer",sdp:b(n._sdpFormat,n._tracksToSSRCs,e.sdp)})})),t.length>1?l.legacyPromise(e,t[0],t[1]):e},p.prototype.createOffer=function(){var e=[].slice.call(arguments),t=(e.length>1?e[2]:e[0])||{},n=this;if(d()){if(t.offerToReceiveVideo&&!this._audioTransceiver&&(!f||!m(this,"audio"))){delete t.offerToReceiveAudio;try{this._audioTransceiver=f?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(a){return Promise.reject(a)}}if(t.offerToReceiveVideo&&!this._videoTransceiver&&(!f||!m(this,"video"))){delete t.offerToReceiveVideo;try{this._videoTransceiver=f?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(a){return Promise.reject(a)}}}var i=this._peerConnection.createOffer(t).then((function(e){return n._rolledBackTracksToSSRCs.clear(),new r({type:e.type,sdp:b(n._sdpFormat,n._tracksToSSRCs,e.sdp)})}));return e.length>1?l.legacyPromise(i,e[0],e[1]):i},p.prototype.createDataChannel=function(e,t){t=function(e){e=Object.assign({},e),g()&&"maxPacketLifeTime"in e&&(e.maxRetransmitTime=e.maxPacketLifeTime);return e}(t);var n=this._peerConnection.createDataChannel(e,t);return y(n),n},p.prototype.setLocalDescription=function(){var e=[].slice.call(arguments),t=e[0];this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear());var n=h(this,!0,t);return e.length>1?l.legacyPromise(n,e[1],e[2]):n},p.prototype.setRemoteDescription=function(){var e=[].slice.call(arguments),t=e[0];this._rolledBackTracksToSSRCs.clear();var n=h(this,!1,t);return e.length>1?l.legacyPromise(n,e[1],e[2]):n},l.delegateMethods(RTCPeerConnection.prototype,p.prototype,"_peerConnection"),e.exports=p},24814:function(e,t,n){"use strict";var r=n(16429),i=n(14929),a=n(78812),o=n(90878).updateUnifiedPlanTrackIdsToSSRCs,s=n(73348),u="object"===typeof navigator&&navigator.userAgent&&(navigator.userAgent.match(/Firefox\/61/)||navigator.userAgent.match(/Firefox\/62/));function c(e){if(!(this instanceof c))return new c(e);r.call(this),s.interceptEvent(this,"signalingstatechange");var t=new RTCPeerConnection(e);Object.defineProperties(this,{_initiallyNegotiatedDtlsRole:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:t},_rollingBack:{value:!1,writable:!0},_tracksToSSRCs:{value:new Map},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},localDescription:{enumerable:!0,get:function(){return f(this._peerConnection.localDescription,this._initiallyNegotiatedDtlsRole)}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.signalingState}}});var n,i=this;t.addEventListener("signalingstatechange",(function(){if(!i._rollingBack&&i.signalingState!==n){n=i.signalingState;var e=i.dispatchEvent.apply.bind(i.dispatchEvent,i,arguments);i._isClosed?setTimeout(e):e()}})),s.proxyProperties(RTCPeerConnection.prototype,this,t)}function l(e,t,n){var r=t?"setLocalDescription":"setRemoteDescription";return e._rollingBack=!0,e._peerConnection[r](new i({type:"rollback"})).then(n).then((function(t){return e._rollingBack=!1,t}),(function(t){throw e._rollingBack=!1,t}))}function d(e,t,n){if(!e._initiallyNegotiatedDtlsRole&&"offer"!==t.type){var r=t.sdp.match(/a=setup:([a-z]+)/);if(r){var i=r[1];e._initiallyNegotiatedDtlsRole=n?{active:"passive",passive:"active"}[i]:i}}}function f(e,t){return e&&"answer"===e.type&&t?new i({type:e.type,sdp:e.sdp.replace(/a=setup:[a-z]+/g,"a=setup:"+t)}):e}a(c,r),Object.defineProperty(c.prototype,"peerIdentity",{enumerable:!0,value:Promise.resolve({idp:"",name:""})}),u&&(c.prototype.addTrack=function(){var e=arguments[0],t=this._peerConnection.addTrack.apply(this._peerConnection,arguments);return t.replaceTrack(e),t}),c.prototype.createAnswer=function(){var e,t=[].slice.call(arguments),n=this;return e=this._peerConnection.createAnswer().then((function(e){return d(n,e),f(e,n._initiallyNegotiatedDtlsRole)})),"function"===typeof t[0]?s.legacyPromise(e,t[0],t[1]):e},c.prototype.createOffer=function(){var e,t=[].slice.call(arguments),n=(t.length>1?t[2]:t[0])||{},r=this;if("have-local-offer"===this.signalingState||"have-remote-offer"===this.signalingState){var a="have-local-offer"===this.signalingState;e=l(this,a,(function(){return r.createOffer(n)}))}else e=r._peerConnection.createOffer(n);return e=e.then((function(e){return new i({type:e.type,sdp:o(r._tracksToSSRCs,e.sdp)})})),t.length>1?s.legacyPromise(e,t[0],t[1]):e},c.prototype.setLocalDescription=function(){var e,t=[].slice.call(arguments),n=t[0];return n&&"answer"===n.type&&"have-local-offer"===this.signalingState&&(e=Promise.reject(new Error("Cannot set local answer in state have-local-offer"))),e?t.length>1?s.legacyPromise(e,t[1],t[2]):e:this._peerConnection.setLocalDescription.apply(this._peerConnection,t)},c.prototype.setRemoteDescription=function(){var e,t=[].slice.call(arguments),n=t[0],r=this;return n&&"have-remote-offer"===this.signalingState&&("answer"===n.type?e=Promise.reject(new Error("Cannot set remote answer in state have-remote-offer")):"offer"===n.type&&(e=l(this,!1,(function(){return r._peerConnection.setRemoteDescription(n)})))),e||(e=this._peerConnection.setRemoteDescription(n)),e=e.then((function(){d(r,n,!0)})),t.length>1?s.legacyPromise(e,t[1],t[2]):e},c.prototype.close=function(){"closed"!==this.signalingState&&(this._isClosed=!0,this._peerConnection.close())},s.delegateMethods(RTCPeerConnection.prototype,c.prototype,"_peerConnection"),e.exports=c},88581:function(e,t,n){"use strict";if("function"===typeof RTCPeerConnection)switch((0,n(73348).guessBrowser)()){case"chrome":e.exports=n(21754);break;case"firefox":e.exports=n(24814);break;case"safari":e.exports=n(38522);break;default:e.exports=RTCPeerConnection}else e.exports=function(){throw new Error("RTCPeerConnection is not supported")}},38522:function(e,t,n){"use strict";var r=n(16429),i=n(78812),a=n(1790),o=n(90878),s=n(73348),u="unified"===o.getSdpFormat(),c=u?o.updateUnifiedPlanTrackIdsToSSRCs:o.updatePlanBTrackIdsToSSRCs;function l(e){if(!(this instanceof l))return new l(e);r.call(this),s.interceptEvent(this,"datachannel"),s.interceptEvent(this,"iceconnectionstatechange"),s.interceptEvent(this,"signalingstatechange"),s.interceptEvent(this,"track");var t=new RTCPeerConnection(e);Object.defineProperties(this,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_audioTransceiver:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:t},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_signalingStateLatch:{value:new a},_tracksToSSRCs:{value:new Map,writable:!0},_videoTransceiver:{value:null,writable:!0},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer||this._peerConnection.localDescription}},iceConnectionState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.iceConnectionState}},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer||this._peerConnection.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState}}});var n=this;t.addEventListener("datachannel",(function(e){p(e.channel),n.dispatchEvent(e)})),t.addEventListener("iceconnectionstatechange",(function(){n._isClosed||n.dispatchEvent.apply(n,arguments)})),t.addEventListener("signalingstatechange",(function(){n._isClosed||("stable"===t.signalingState&&(n._appliedTracksToSSRCs=new Map(n._tracksToSSRCs)),n._pendingLocalOffer||n._pendingRemoteOffer||n.dispatchEvent.apply(n,arguments))})),t.addEventListener("track",(function(e){n._pendingRemoteOffer=null,n.dispatchEvent(e)})),s.proxyProperties(RTCPeerConnection.prototype,this,t)}function d(e,t,n){var r,i=t?e._pendingLocalOffer:e._pendingRemoteOffer,a=t?e._pendingRemoteOffer:e._pendingLocalOffer,o=t?"have-local-offer":"have-remote-offer",s=t?"setLocalDescription":"setRemoteDescription";if(!t&&a&&"answer"===n.type)return function(e,t){var n=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(n).then((function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)})).then((function(){e._signalingStateLatch.lower()}))}(e,n);if("offer"===n.type){if(e.signalingState!==o&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));i||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var u=e.signalingState;return r=n,t?e._pendingLocalOffer=r:e._pendingRemoteOffer=r,e.signalingState!==u?Promise.resolve().then((function(){e.dispatchEvent(new Event("signalingstatechange"))})):Promise.resolve()}return"rollback"===n.type?e.signalingState!==o?Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),Promise.resolve().then((function(){e.dispatchEvent(new Event("signalingstatechange"))}))):e._peerConnection[s](n)}function f(e,t){return!!e.getTransceivers().find((function(e){return e.receiver&&e.receiver.track&&e.receiver.track.kind===t}))}function p(e){return Object.defineProperties(e,{maxPacketLifeTime:{value:65535===e.maxPacketLifeTime?null:e.maxPacketLifeTime},maxRetransmits:{value:65535===e.maxRetransmits?null:e.maxRetransmits}})}i(l,r),l.prototype.addIceCandidate=function(e){var t=this;return"have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then((function(){return t._peerConnection.addIceCandidate(e)})):this._peerConnection.addIceCandidate(e)},l.prototype.createOffer=function(e){e=Object.assign({},e);var t=this;if(e.offerToReceiveVideo&&!this._audioTransceiver&&(!u||!f(this,"audio"))){delete e.offerToReceiveAudio;try{this._audioTransceiver=u?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(n){return Promise.reject(n)}}if(e.offerToReceiveVideo&&!this._videoTransceiver&&(!u||!f(this,"video"))){delete e.offerToReceiveVideo;try{this._videoTransceiver=u?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(n){return Promise.reject(n)}}return this._peerConnection.createOffer(e).then((function(e){return t._rolledBackTracksToSSRCs.clear(),new RTCSessionDescription({type:e.type,sdp:c(t._tracksToSSRCs,e.sdp)})}))},l.prototype.createAnswer=function(e){var t=this;return this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then((function(){return t._signalingStateLatch.lower(),t._peerConnection.createAnswer()})).then((function(e){return t._pendingRemoteOffer=null,t._rolledBackTracksToSSRCs.clear(),u?new RTCSessionDescription({type:e.type,sdp:c(t._tracksToSSRCs,e.sdp)}):e}),(function(e){throw t._pendingRemoteOffer=null,e})):this._peerConnection.createAnswer(e).then((function(e){return t._rolledBackTracksToSSRCs.clear(),u?new RTCSessionDescription({type:e.type,sdp:c(t._tracksToSSRCs,e.sdp)}):e}))},l.prototype.createDataChannel=function(e,t){var n=this._peerConnection.createDataChannel(e,t);return p(n),n},l.prototype.removeTrack=function(e){e.replaceTrack(null),this._peerConnection.removeTrack(e)},l.prototype.setLocalDescription=function(e){return this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear()),d(this,!0,e)},l.prototype.setRemoteDescription=function(e){return this._rolledBackTracksToSSRCs.clear(),d(this,!1,e)},l.prototype.close=function(){if(!this._isClosed){this._isClosed=!0,this._peerConnection.close();var e=this;setTimeout((function(){e.dispatchEvent(new Event("iceconnectionstatechange")),e.dispatchEvent(new Event("signalingstatechange"))}))}},s.delegateMethods(RTCPeerConnection.prototype,l.prototype,"_peerConnection"),e.exports=l},57248:function(e){"use strict";e.exports=function(e){Object.defineProperties(this,{track:{enumerable:!0,value:e,writable:!0}})}},6595:function(e){"use strict";e.exports=function e(t){if(!(this instanceof e))return new e(t);var n=t&&"rollback"===t.type?null:new RTCSessionDescription(t);Object.defineProperties(this,{_description:{get:function(){return n}},sdp:{enumerable:!0,value:n?n.sdp:t.sdp},type:{enumerable:!0,value:n?n.type:t.type}})}},14929:function(e){"use strict";e.exports=RTCSessionDescription},71135:function(e,t,n){"use strict";if("function"===typeof RTCSessionDescription)switch((0,n(73348).guessBrowser)()){case"chrome":e.exports=n(6595);break;case"firefox":e.exports=n(14929);break;default:e.exports=RTCSessionDescription}else e.exports=function(){throw new Error("RTCSessionDescription is not supported")}},16429:function(e,t,n){"use strict";var r=n(47465).EventEmitter;function i(){Object.defineProperties(this,{_eventEmitter:{value:new r}})}i.prototype.dispatchEvent=function(e){return this._eventEmitter.emit(e.type,e)},i.prototype.addEventListener=function(){return this._eventEmitter.addListener.apply(this._eventEmitter,arguments)},i.prototype.removeEventListener=function(){return this._eventEmitter.removeListener.apply(this._eventEmitter,arguments)},e.exports=i},73348:function(e,t){"use strict";function n(e,t,n,r){if(!(r in t)&&!r.match(/^on[a-z]+$/)){var i=!1;try{var a=Object.getOwnPropertyDescriptor(e,r);i=a&&!!a.get}catch(s){}if(!i){var o;try{o=typeof e[r]}catch(s){}"function"===o&&(t[r]=function(){return this[n][r].apply(this[n],arguments)})}}}function r(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:null}function i(e){return"undefined"===typeof e&&(e=r()),/Chrome|CriOS/.test(e)?"chrome":/Firefox|FxiOS/.test(e)?"firefox":/Safari|iPhone|iPad|iPod/.test(e)?"safari":null}t.defer=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},t.delegateMethods=function(e,t,r){for(var i in e)n(e,t,r,i)},t.difference=function(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n},t.flatMap=function(e,t){return(e instanceof Map||e instanceof Set?Array.from(e.values()):e).reduce((function(e,n){var r=t(n);return e.concat(r)}),[])},t.guessBrowser=i,t.guessBrowserVersion=function(e){"undefined"===typeof e&&(e=r());var t={chrome:"Chrome|CriOS",firefox:"Firefox|FxiOS",safari:"Version"}[i(e)];if(!t)return null;var n=new RegExp("("+t+")/([^\\s]+)"),a=(e.match(n)||[])[2];if(!a)return null;var o=a.split(".").map(Number);return{major:isNaN(o[0])?null:o[0],minor:isNaN(o[1])?null:o[1]}},t.isIOSChrome=function(e){return"undefined"===typeof e&&(e=r()),/Mobi/.test(e)&&"chrome"===i()&&/iPad|iPhone|iPod/.test(e)},t.interceptEvent=function(e,t){var n=null;Object.defineProperty(e,"on"+t,{get:function(){return n},set:function(e){n&&this.removeEventListener(t,n),"function"===typeof e?(n=e,this.addEventListener(t,n)):n=null}})},t.legacyPromise=function(e,t,n){return t?e.then((function(e){t(e)}),(function(e){n(e)})):e},t.makeUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.proxyProperties=function(e,t,n){Object.getOwnPropertyNames(e).forEach((function(e){!function(e,t,n,r){if(r in t)return;if(r.match(/^on[a-z]+$/))return Object.defineProperty(t,r,{value:null,writable:!0}),void n.addEventListener(r.slice(2),(function(){t.dispatchEvent.apply(t,arguments)}));Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[r]}})}(0,t,n,e)}))},t.support=function(){return"object"===typeof navigator&&"object"===typeof navigator.mediaDevices&&"function"===typeof navigator.mediaDevices.getUserMedia&&"function"===typeof RTCPeerConnection}},1790:function(e,t,n){"use strict";var r=n(73348).defer,i={high:new Set(["low"]),low:new Set(["high"])};function a(e){if(!(this instanceof a))return new a(e);var t=e||"low";Object.defineProperties(this,{_state:{set:function(e){if(t!==e){t=e;var n=this._whenDeferreds.get(t);n.forEach((function(e){e.resolve(this)}),this),n.clear()}},get:function(){return t}},_whenDeferreds:{value:new Map([["high",new Set],["low",new Set]])},state:{enumerable:!0,get:function(){return this._state}}})}function o(e,t){return new Error('Cannot transition from "'+e+'" to "'+t+'"')}a.prototype.lower=function(){return this.transition("low")},a.prototype.raise=function(){return this.transition("high")},a.prototype.transition=function(e){if(!i[this.state].has(e))throw o(this.state,e);return this._state=e,this},a.prototype.when=function(e){if(this.state===e)return Promise.resolve(this);if(!i[this.state].has(e))return Promise.reject(o(this.state,e));var t=r();return this._whenDeferreds.get(e).add(t),t.promise},e.exports=a},90878:function(e,t,n){"use strict";var r=n(73348).flatMap,i=n(73348).guessBrowser,a=null;var o=null;function s(e){return e&&function(){if("boolean"===typeof a)return a;if("undefined"===typeof RTCPeerConnection)return a=!1;try{new RTCPeerConnection({sdpSemantics:"foo"}),a=!1}catch(e){a=!0}return a}()?{"plan-b":"planb","unified-plan":"unified"}[e]:function(){if(!o)if("undefined"!==typeof RTCPeerConnection&&"addTransceiver"in RTCPeerConnection.prototype){var e=new RTCPeerConnection;try{e.addTransceiver("audio"),o="unified"}catch(t){o="planb"}e.close()}else o="planb";return o}()}function u(e,t){return(t.match(new RegExp(e,"gm"))||[]).reduce((function(t,n){var r=n.match(new RegExp(e));return r?t.add(r[1]):t}),new Set)}function c(e,t){return u(e,t)}function l(e){return c("^a=ssrc:[0-9]+ +msid:.+ +(.+) *$",e)}function d(e){return c("^a=msid:.+ +(.+) *$",e)}function f(e,t){return u("^a=ssrc:([0-9]+) +msid:[^ ]+ +"+t+" *$",e)}function p(e,t,n){return t=t||".*",n=n||".*",e.split("\r\nm=").slice(1).map((function(e){return"m="+e})).filter((function(e){var r=new RegExp("m="+t,"gm"),i=new RegExp("a="+n,"gm");return r.test(e)&&i.test(e)}))}function h(e){return Array.from(u("^a=ssrc:([0-9]+) +.*$",e))}function m(e,t){var n=p(e),i=new RegExp("^a=msid:[^ ]+ +"+t+" *$","gm"),a=n.filter((function(e){return e.match(i)}));return new Set(r(a,h))}function v(e,t,n){return new Map(Array.from(e(n)).map((function(e){return[e,t(n,e)]})))}function g(e){return v(l,f,e)}function y(e){return v(d,m,e)}function b(e,t,n){var r=e(n),i=new Map;r.forEach((function(e,r){if(t.has(r)){var a=Array.from(t.get(r)),o=Array.from(e);a.forEach((function(e,t){var r=o[t];i.set(r,e);var a="^a=ssrc:"+r+" (.*)$",s="a=ssrc:"+e+" $1";n=n.replace(new RegExp(a,"gm"),s)}))}else t.set(r,e)}));var a="^(a=ssrc-group:[^ ]+ +)(.*)$";return(n.match(new RegExp(a,"gm"))||[]).forEach((function(e){var t=e.match(new RegExp(a));if(t){var r=t[1],o=t[2].split(" ").map((function(e){var t=i.get(e);return t||e})).join(" ");n=n.replace(t[0],r+o)}})),n}t.clearChromeCachedSdpFormat=function(){o=null},t.getSdpFormat=function(e){return{chrome:s(e),firefox:"unified",safari:"undefined"!==typeof RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype?"unified":"planb"}[i()]||null},t.getMediaSections=p,t.getPlanBTrackIds=l,t.getUnifiedPlanTrackIds=d,t.getPlanBSSRCs=f,t.getUnifiedPlanSSRCs=m,t.updatePlanBTrackIdsToSSRCs=function(e,t){return b(g,e,t)},t.updateUnifiedPlanTrackIdsToSSRCs=function(e,t){return b(y,e,t)}},10057:function(e){e.exports=WebSocket},58868:function(e,t,n){"use strict";var r="undefined"!==typeof r?r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};Object.defineProperty(t,"__esModule",{value:!0}),n(44584);var i=n(17156),a=n(89728),o=n(66115),s=n(41588),u=n(61655),c=n(94993),l=n(73808),d=n(56690),f=n(38416),p=n(64687);n(4778),n(65202),n(84208),n(32463);var h=n(18698),m=n(1263);n(89104),n(59147);var v=n(62895);n(18887),n(36669),n(81740),n(18116),n(4772),n(67675);var g=n(78566),y=n(24610);n(20447),n(54178),n(30974),n(73966),n(55790),n(56678),n(74847),n(48884),n(67582),n(15669),n(40014),n(45927),n(78850),n(697),n(53517),n(68591),n(44516),n(51937),n(5977),n(71283),n(86332),n(32040),n(20718),n(54777),n(31447),n(44319),n(52872);var b=n(33496);n(65084),n(33858),n(87264),n(22583),n(58894);var w=n(8645);n(45742);var k=n(53912);function x(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}n(86245),n(9994),n(45327);var S=x(i),E=x(a),C=x(o),T=x(s),A=x(u),O=x(c),R=x(l),I=x(d),N=x(f),P=x(p),M=x(h),L=_(v),D=_(g),F=x(b),B=_(k);function j(){}function Z(){Z.init.call(this)}function V(e){return void 0===e._maxListeners?Z.defaultMaxListeners:e._maxListeners}function U(e,t,n){if(t)e.call(n);else for(var r=e.length,i=X(e,r),a=0;a<r;++a)i[a].call(n)}function W(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=X(e,i),o=0;o<i;++o)a[o].call(n,r)}function H(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=X(e,a),s=0;s<a;++s)o[s].call(n,r,i)}function z(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=X(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}function G(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=X(e,i),o=0;o<i;++o)a[o].apply(n,r)}function q(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new j,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=V(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function K(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function Y(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function X(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}j.prototype=Object.create(null),Z.EventEmitter=Z,Z.usingDomains=!1,Z.prototype.domain=void 0,Z.prototype._events=void 0,Z.prototype._maxListeners=void 0,Z.defaultMaxListeners=10,Z.init=function(){this.domain=null,Z.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new j,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Z.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},Z.prototype.getMaxListeners=function(){return V(this)},Z.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:U(n,l,this);break;case 2:W(n,l,this,arguments[1]);break;case 3:H(n,l,this,arguments[1],arguments[2]);break;case 4:z(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];G(n,l,this,i)}return!0},Z.prototype.addListener=function(e,t){return q(this,e,t,!1)},Z.prototype.on=Z.prototype.addListener,Z.prototype.prependListener=function(e,t){return q(this,e,t,!0)},Z.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,K(this,e,t)),this},Z.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,K(this,e,t)),this},Z.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new j:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new j,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},Z.prototype.off=function(e,t){return this.removeListener(e,t)},Z.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new j,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new j:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new j,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},Z.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},Z.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):Y.call(e,t)},Z.prototype.listenerCount=Y,Z.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Q=L.getLogger("twilsock");function J(e,t){return["".concat((new Date).toISOString()," Twilsock ").concat(e,":")].concat(Array.from(t))}var $=function(){function e(t){I.default(this,e),N.default(this,"prefix",""),this.prefix=null!==t&&void 0!==t&&t.length>0?" "+t+":":""}return E.default(e,[{key:"setLevel",value:function(e){Q.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.trace.apply(null,J("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.debug.apply(null,J("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.info.apply(null,J("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.warn.apply(null,J("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.error.apply(null,J("E",t))}}],[{key:"setLevel",value:function(e){Q.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.trace.apply(null,J("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.debug.apply(null,J("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.info.apply(null,J("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.warn.apply(null,J("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.error.apply(null,J("E",t))}}]),e}(),ee=new $(""),te="0.12.2",ne=function(){function e(t,n,r){I.default(this,e),N.default(this,"confirmedCapabilities",new Set),this.activeGrant=n,this._token=t;var i=r.region||"us1",a="wss://tsock.".concat(i,".twilio.com/v3/wsconnect"),o=r.twilsock||r.Twilsock||{};this.url=o.uri||a,this._continuationToken=r.continuationToken?r.continuationToken:null,this.logLevel=r.logLevel?r.logLevel:"error",this.retryPolicy=r.retryPolicy?r.retryPolicy:{min:1e3,max:12e4,randomness:.2},this.clientMetadata=r.clientMetadata?r.clientMetadata:{},this.clientMetadata.ver=te,this.initRegistrations=r.initRegistrations?r.initRegistrations:null,this.tweaks=r.tweaks?r.tweaks:null}return E.default(e,[{key:"token",get:function(){return this._token}},{key:"continuationToken",get:function(){return this._continuationToken}},{key:"updateToken",value:function(e){this._token=e}},{key:"updateContinuationToken",value:function(e){this._continuationToken=e}}]),e}(),re=function e(t){I.default(this,e),this.id=t||"TM".concat(y.v4())};function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var ae=function(e){A.default(n,e);var t=ie(n);function n(e,r,i,a,o){var s;return I.default(this,n),s=t.call(this),N.default(C.default(s),"method","init"),s.token=e,s.continuation_token=r,s.metadata=i,s.registrations=a,s.tweaks=o,s.capabilities=["client_update","offline_storage","telemetry.v1"],s}return n}(re);function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var se=function(e){A.default(n,e);var t=oe(n);function n(e,r,i,a,o,s,u){var c;return I.default(this,n),(c=t.call(this,e)).continuationToken=r,c.continuationTokenStatus=a,c.offlineStorage=o,c.initRegistrations=s,c.debugInfo=u,c.confirmedCapabilities=i,c}return n}(re);function ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var ce=function(e){A.default(n,e);var t=ue(n);function n(e){var r;return I.default(this,n),r=t.call(this),N.default(C.default(r),"method","update"),r.token=e,r}return n}(re);function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var de=function(e){A.default(n,e);var t=le(n);function n(e,r,i){var a;return I.default(this,n),a=t.call(this),N.default(C.default(a),"method","message"),a.active_grant=e,a.payload_type=r,a.http_request=i,a}return n}(re);function fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var pe=function(e){A.default(n,e);var t=fe(n);function n(e){var r;return I.default(this,n),r=t.call(this,e),N.default(C.default(r),"method","reply"),N.default(C.default(r),"payload_type","application/json"),N.default(C.default(r),"status",{code:200,status:"OK"}),r}return n}(re);function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var me=function(e){A.default(n,e);var t=he(n);function n(){var e;return I.default(this,n),e=t.call(this),N.default(C.default(e),"method","close"),e}return n}(re);function ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var ge=function e(t,n,r,i,a,o){I.default(this,e),this.start=t,this.end=n,this.title=r,this.details=i,this.id=a,this.type=o},ye=function(e){A.default(n,e);var t=ve(n);function n(e){var r;return I.default(this,n),r=t.call(this),N.default(C.default(r),"method","telemetry.v1"),r.events=e,r}return n}(re);function be(e){return encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))})).length}function we(e){var t=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))})),n=new Uint8Array(t.length);return Array.prototype.forEach.call(t,(function(e,t){n[t]=e.charCodeAt(0)})),n}function ke(e){var t=Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join("").replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}));return decodeURIComponent(t)}function xe(e){return JSON.parse(ke(e))}var _e=function(){function e(){I.default(this,e)}return E.default(e,null,[{key:"parse",value:function(e){var t,n,r=new Uint8Array(e),i=function(e){for(var t="",n=0;n<e.length;++n){var r=String.fromCharCode(e[n]);if(t+=r,"\r"===r){n+=2;break}}var i=t.split(" ");return{size:n,protocol:i[0],version:i[1],headerSize:Number(i[2])}}(r);if("TWILSOCK"!==i.protocol||"V3.0"!==i.version)return ee.error("unsupported protocol: ".concat(i.protocol," ver ").concat(i.version)),null;try{t=xe(r.subarray(i.size,i.size+i.headerSize))}catch(s){return ee.error("failed to parse message header",s,e),null}if(ee.debug("message received: ",t.method),ee.trace("message received: ",t),t.payload_size>0){var a=2+i.size+i.headerSize,o=t.payload_size;if(t.hasOwnProperty("payload_type")&&0!==t.payload_type.indexOf("application/json"))0===t.payload_type.indexOf("text/plain")&&(n=ke(r.subarray(a,a+o)));else try{n=xe(r.subarray(a,a+o))}catch(s){return ee.error("failed to parse message body",s,e),null}}return{method:t.method,header:t,payload:n}}},{key:"createPacket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.payload_size=be(t);var n=JSON.stringify(e),r="TWILSOCK V3.0 "+be(n);ee.debug("send request:",r+n+t);var i=we(r+"\r\n"+n+"\r\n"+t);return i.buffer}}]),e}();function Se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var Ee=function(e){A.default(n,e);var t=Se(n);function n(e){return I.default(this,n),t.call(this,e)}return n}(F.default(Error));function Ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var Te=function(e){A.default(n,e);var t=Ce(n);function n(e,r){var i;return I.default(this,n),(i=t.call(this,e)).reply=r,i}return n}(Ee);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){N.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var Ie=function(e){A.default(n,e);var t=Re(n);function n(e){var r;return I.default(this,n),r=t.call(this),N.default(C.default(r),"newBackoff",null),N.default(C.default(r),"usedBackoff",null),N.default(C.default(r),"retrier",null),r.options=e?Oe({},e):{},r}return E.default(n,[{key:"inProgress",get:function(){return!!this.retrier}},{key:"start",value:function(){if(this.inProgress)throw new Error("Already waiting for next attempt, call finishAttempt(success : boolean) to finish it");this.createRetrier()}},{key:"stop",value:function(){this.cleanRetrier(),this.newBackoff=null,this.usedBackoff=null}},{key:"modifyBackoff",value:function(e){this.newBackoff=e}},{key:"attemptFailed",value:function(){if(!this.inProgress)throw new Error("No attempt is in progress");var e,t;this.newBackoff?!this.usedBackoff||this.usedBackoff<this.newBackoff?this.createRetrier():null===(e=this.retrier)||void 0===e||e.failed(new Error):null===(t=this.retrier)||void 0===t||t.failed(new Error)}},{key:"cancel",value:function(){var e;null===(e=this.retrier)||void 0===e||e.cancel()}},{key:"cleanRetrier",value:function(){var e,t;null===(e=this.retrier)||void 0===e||e.removeAllListeners(),null===(t=this.retrier)||void 0===t||t.cancel(),this.retrier=null}},{key:"getRetryPolicy",value:function(){var e=Oe({},this.options);return this.newBackoff&&(e.min=this.newBackoff,e.max=this.options.max&&this.options.max>this.newBackoff?this.options.max:this.newBackoff),e.maxAttemptsCount=this.options.maxAttemptsCount?this.options.maxAttemptsCount+1:void 0,e}},{key:"createRetrier",value:function(){var e=this;this.cleanRetrier();var t=this.getRetryPolicy();this.retrier=new w.Retrier(t),this.retrier.once("attempt",(function(){var t,n;null===(t=e.retrier)||void 0===t||t.on("attempt",(function(){return e.emit("attempt")})),null===(n=e.retrier)||void 0===n||n.failed(new Error("Skipping first attempt"))})),this.retrier.on("failed",(function(t){return e.emit("failed",t)})),this.usedBackoff=this.newBackoff,this.newBackoff=null,this.retrier.start()}}]),n}(Z);function Ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var Pe=function(e){A.default(n,e);var t=Ne(n);function n(e,r,i){var a;I.default(this,n),a=t.call(this),N.default(C.default(a),"disconnectingTimer",null),N.default(C.default(a),"disconnectedPromiseResolve",null),N.default(C.default(a),"terminalStates",["disconnected","rejected"]),N.default(C.default(a),"tokenExpiredSasCode",20104),N.default(C.default(a),"terminationReason","Connection is not initialized"),a.websocket=e,a.websocket.on("connected",(function(){return a.fsm.socketConnected()})),a.websocket.on("disconnected",(function(){return a.fsm.socketClosed()})),a.websocket.on("message",(function(e){return a.onIncomingMessage(e)})),a.websocket.on("socketError",(function(e){return a.emit("connectionError",{terminal:!1,message:"Socket error: ".concat(e.message),httpStatusCode:null,errorCode:null})})),a.transport=r,a.config=i,a.retrier=new Ie(i.retryPolicy),a.retrier.on("attempt",(function(){return a.retry()})),a.retrier.on("failed",(function(e){ee.warn("Retrying failed: ".concat(e.message)),a.disconnect()})),"undefined"!==typeof window&&"undefined"!==typeof window.addEventListener&&(window.addEventListener("online",(function(){ee.debug("Browser reported connectivity state: online"),a.resetBackoff(),a.fsm.systemOnline()})),window.addEventListener("offline",(function(){ee.debug("Browser reported connectivity state: offline"),a.websocket.close(),a.fsm.socketClosed()})));var o=D.factory({init:"disconnected",transitions:[{name:"userConnect",from:["disconnected","rejected"],to:"connecting"},{name:"userConnect",from:["connecting","connected"]},{name:"userDisconnect",from:["connecting","initialising","connected","updating","retrying","rejected","waitSocketClosed","waitOffloadSocketClosed"],to:"disconnecting"},{name:"userRetry",from:["retrying"],to:"connecting"},{name:"socketConnected",from:["connecting"],to:"initialising"},{name:"socketClosed",from:["connecting","initialising","connected","updating","error","waitOffloadSocketClosed"],to:"retrying"},{name:"socketClosed",from:["disconnecting"],to:"disconnected"},{name:"socketClosed",from:["waitSocketClosed"],to:"disconnected"},{name:"socketClosed",from:["rejected"],to:"rejected"},{name:"initSuccess",from:["initialising"],to:"connected"},{name:"initError",from:["initialising"],to:"error"},{name:"tokenRejected",from:["initialising","updating"],to:"rejected"},{name:"protocolError",from:["initialising","connected","updating"],to:"error"},{name:"receiveClose",from:["initialising","connected","updating"],to:"waitSocketClosed"},{name:"receiveOffload",from:["initialising","connected","updating"],to:"waitOffloadSocketClosed"},{name:"unsupportedProtocol",from:["initialising","connected","updating"],to:"unsupported"},{name:"receiveFatalClose",from:["initialising","connected","updating"],to:"unsupported"},{name:"userUpdateToken",from:["disconnected","rejected","connecting","retrying"],to:"connecting"},{name:"userUpdateToken",from:["connected"],to:"updating"},{name:"updateSuccess",from:["updating"],to:"connected"},{name:"updateError",from:["updating"],to:"error"},{name:"userSend",from:["connected"],to:"connected"},{name:"systemOnline",from:["retrying"],to:"connecting"}],methods:{onConnecting:function(){a.setupSocket(),a.emit("connecting")},onEnterInitialising:function(){a.sendInit()},onLeaveInitialising:function(){a.cancelInit()},onEnterUpdating:function(){a.sendUpdate()},onLeaveUpdating:function(){a.cancelUpdate()},onEnterRetrying:function(){a.initRetry(),a.emit("connecting")},onEnterConnected:function(){a.resetBackoff(),a.onConnected()},onUserUpdateToken:function(){a.resetBackoff()},onTokenRejected:function(){a.resetBackoff(),a.closeSocket(!0),a.finalizeSocket()},onUserDisconnect:function(){a.closeSocket(!0)},onEnterDisconnecting:function(){a.startDisconnectTimer()},onLeaveDisconnecting:function(){a.cancelDisconnectTimer()},onEnterWaitSocketClosed:function(){a.startDisconnectTimer()},onLeaveWaitSocketClosed:function(){a.cancelDisconnectTimer()},onEnterWaitOffloadSocketClosed:function(){a.startDisconnectTimer()},onLeaveWaitOffloadSocketClosed:function(){a.cancelDisconnectTimer()},onDisconnected:function(){a.resetBackoff(),a.finalizeSocket()},onReceiveClose:function(){a.onCloseReceived()},onReceiveOffload:function(e,t){ee.debug("onreceiveoffload: ",t),a.modifyBackoff(t.body),a.onCloseReceived()},onUnsupported:function(){a.closeSocket(!0),a.finalizeSocket()},onError:function(e,t){a.closeSocket(t),a.finalizeSocket()},onEnterState:function(e){"none"!==e.from&&a.changeState(e)},onInvalidTransition:function(e,t,n){ee.warn("FSM: unexpected transition",t,n)}}});return a.fsm=new o,a}return E.default(n,[{key:"changeState",value:function(e){ee.debug("FSM: ".concat(e.transition,": ").concat(e.from," --\x3e ").concat(e.to)),this.lastEmittedState!==this.state&&(this.lastEmittedState=this.state,this.emit("stateChanged",this.state))}},{key:"resetBackoff",value:function(){ee.trace("resetBackoff"),this.retrier.stop()}},{key:"modifyBackoff",value:function(e){ee.trace("modifyBackoff",e);var t=e?e.backoff_policy:null;t&&"number"===typeof t.reconnect_min_ms&&this.retrier.modifyBackoff(t.reconnect_min_ms)}},{key:"startDisconnectTimer",value:function(){var e=this;ee.trace("startDisconnectTimer"),this.disconnectingTimer&&(clearTimeout(this.disconnectingTimer),this.disconnectingTimer=null),this.disconnectingTimer=setTimeout((function(){ee.debug("disconnecting is timed out"),e.closeSocket(!0)}),3e3)}},{key:"cancelDisconnectTimer",value:function(){ee.trace("cancelDisconnectTimer"),this.disconnectingTimer&&(clearTimeout(this.disconnectingTimer),this.disconnectingTimer=null)}},{key:"isConnected",get:function(){return"connected"===this.state&&this.websocket.isConnected}},{key:"state",get:function(){switch(this.fsm.state){case"connecting":case"initialising":case"retrying":case"error":return"connecting";case"updating":case"connected":return"connected";case"rejected":return"denied";case"disconnecting":case"waitSocketClosed":case"waitOffloadSocketClosed":return"disconnecting";default:return"disconnected"}}},{key:"initRetry",value:function(){ee.debug("initRetry"),this.retrier.inProgress?this.retrier.attemptFailed():this.retrier.start()}},{key:"retry",value:function(){"connecting"!=this.fsm.state?(ee.trace("retry"),this.websocket.close(),this.fsm.userRetry()):ee.trace("can\t retry as already connecting")}},{key:"onConnected",value:function(){this.emit("connected")}},{key:"finalizeSocket",value:function(){ee.trace("finalizeSocket"),this.websocket.close(),this.emit("disconnected"),this.disconnectedPromiseResolve&&(this.disconnectedPromiseResolve(),this.disconnectedPromiseResolve=null)}},{key:"setupSocket",value:function(){ee.trace("setupSocket:",this.config.token),this.emit("beforeConnect"),this.websocket.connect()}},{key:"onIncomingMessage",value:function(e){var t=_e.parse(e);if(t){var n=t.method,r=t.header,i=t.payload;if("reply"!==n&&this.confirmReceiving(r),"notification"===n)this.emit("message",r.message_type,i);else if("reply"===r.method)this.transport.processReply({id:r.id,status:r.status,header:r,body:i});else if("client_update"===r.method)"token_about_to_expire"===r.client_update_type&&this.emit("tokenAboutToExpire");else if("close"===r.method)if(308===r.status.code)ee.debug("Connection has been offloaded"),this.fsm.receiveOffload({status:r.status.status,body:i});else if(406===r.status.code){var a="Server closed connection because can't parse protocol: ".concat(JSON.stringify(r.status));this.emitReplyConnectionError(a,r,!0),ee.error(a),this.fsm.receiveFatalClose()}else 417===r.status.code?(ee.error("Server closed connection because can't parse client reply: ".concat(JSON.stringify(r.status))),this.fsm.receiveFatalClose(r.status.status)):410===r.status.code?(ee.warn("Server closed connection: ".concat(JSON.stringify(r.status))),this.fsm.receiveClose(r.status.status),this.emit("tokenExpired")):401===r.status.code?(ee.error("Server closed connection: ".concat(JSON.stringify(r.status))),this.fsm.receiveClose(r.status.status)):(ee.warn("unexpected message: ",r.status),this.fsm.receiveOffload({status:r.status.status,body:null}))}}},{key:"sendInit",value:function(){var e=S.default(P.default.mark((function e(){var t,n;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.trace("sendInit"),e.prev=1,this.emit("beforeSendInit"),e.next=5,this.transport.sendInit();case 5:t=e.sent,this.config.updateContinuationToken(t.continuationToken),this.config.confirmedCapabilities=t.confirmedCapabilities,this.fsm.initSuccess(t),this.emit("initialized",t),this.emit("tokenUpdated"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),e.t0 instanceof Te?(n=!1,ee.warn("Init rejected by server: ".concat(JSON.stringify(e.t0.reply.status))),this.emit("sendInitFailed"),401===e.t0.reply.status.code||403===e.t0.reply.status.code?(n=!0,this.fsm.tokenRejected(e.t0.reply.status),e.t0.reply.status.errorCode===this.tokenExpiredSasCode&&this.emit("tokenExpired")):429===e.t0.reply.status.code?(this.modifyBackoff(e.t0.reply.body),this.fsm.initError(!0)):500===e.t0.reply.status.code?this.fsm.initError(!1):this.fsm.initError(!0),this.emitReplyConnectionError(e.t0.message,e.t0.reply,n)):(this.terminationReason=e.t0.message,this.emit("connectionError",{terminal:!0,message:"Unknown error during connection initialisation: ".concat(e.t0.message,"\n").concat(JSON.stringify(e.t0,null,2)),httpStatusCode:null,errorCode:null}),this.fsm.initError(!0)),this.emit("tokenUpdated",e.t0);case 17:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendUpdate",value:function(){var e=S.default(P.default.mark((function e(){var t,n,r;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.trace("sendUpdate"),t=new ce(this.config.token),e.prev=2,e.next=5,this.transport.sendWithReply(t);case 5:n=e.sent,this.fsm.updateSuccess(n.body),this.emit("tokenUpdated"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0 instanceof Te?(r=!1,ee.warn("Token update rejected by server: ".concat(JSON.stringify(e.t0.reply.status))),401===e.t0.reply.status.code||403===e.t0.reply.status.code?(r=!0,this.fsm.tokenRejected(e.t0.reply.status),e.t0.reply.status.errorCode===this.tokenExpiredSasCode&&this.emit("tokenExpired")):429===e.t0.reply.status.code?(this.modifyBackoff(e.t0.reply.body),this.fsm.updateError(e.t0.reply.status)):this.fsm.updateError(e.t0.reply.status),this.emitReplyConnectionError(e.t0.message,e.t0.reply,r)):(this.emit("error",!1,e.t0.message,null,null),this.fsm.updateError(e.t0)),this.emit("tokenUpdated",e.t0);case 14:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"emitReplyConnectionError",value:function(e,t,n){var r=t.status&&t.status.description?t.status.description:e,i=t.status.code,a=t.status&&t.status.errorCode?t.status.errorCode:null;n&&(this.terminationReason=r),this.emit("connectionError",{terminal:n,message:"Connection error: ".concat(r),httpStatusCode:i,errorCode:a})}},{key:"cancelInit",value:function(){ee.trace("cancelInit")}},{key:"cancelUpdate",value:function(){ee.trace("cancelUpdate")}},{key:"confirmReceiving",value:function(e){ee.trace("confirmReceiving");try{this.transport.send(new pe(e.id))}catch(t){ee.debug("failed to confirm packet receiving",t)}}},{key:"closeSocket",value:function(e){var t=this;ee.trace("closeSocket (graceful: ".concat(e,")")),e&&this.transport.isConnected&&this.transport.sendClose(),this.websocket.close(),setTimeout((function(){return t.fsm.socketClosed()}),0)}},{key:"connect",value:function(){ee.trace("connect"),this.fsm.userConnect()}},{key:"disconnect",value:function(){var e=this;return ee.trace("disconnect"),this.fsm.is("disconnected")?Promise.resolve():new Promise((function(t){e.disconnectedPromiseResolve=t,e.fsm.userDisconnect()}))}},{key:"updateToken",value:function(e){var t=this;return ee.trace("updateToken:",e),new Promise((function(e,n){t.once("tokenUpdated",(function(t){t?n(t):e()})),t.fsm.userUpdateToken()}))}},{key:"isTerminalState",get:function(){return-1!==this.terminalStates.indexOf(this.fsm.state)}},{key:"getTerminationReason",get:function(){return this.terminationReason}},{key:"onCloseReceived",value:function(){this.websocket.close()}}]),n}(Z),Me=function(){function e(){I.default(this,e)}return E.default(e,null,[{key:"getMetadata",value:function(e){var t,n,r,i,a,o,s,u,c=e&&e.clientMetadata?e.clientMetadata:{},l={env:null!==(t=B.name)&&void 0!==t?t:"unknown",envv:null!==(n=B.version)&&void 0!==n?n:"unknown",os:null!==(r=null===(i=B.os)||void 0===i?void 0:i.family)&&void 0!==r?r:"unknown",osv:null!==(a=null===(o=B.os)||void 0===o?void 0:o.version)&&void 0!==a?a:"unknown",osa:null!==(s=null===(u=B.os)||void 0===u?void 0:u.architecture)&&void 0!==s?s:"unknown",sdk:"js-default"},d={};return["ver","env","envv","os","osv","osa","type","sdk","sdkv","dev","devv","devt","app","appv"].filter((function(e){return e in c||e in l})).forEach((function(e){return d[e]=e in c?c[e]:l[e]})),d}}]),e}();var Le=function(){function e(t,n){var r=this;I.default(this,e),this.config=n,this.activeRequests=new Map,this.channel=t,this.channel.on("reply",(function(e){return r.processReply(e)})),this.channel.on("disconnected",(function(){r.activeRequests.forEach((function(e){clearTimeout(e.timeout),e.reject(new Ee("disconnected"))})),r.activeRequests.clear()}))}return E.default(e,[{key:"isConnected",get:function(){return this.channel.isConnected}},{key:"processReply",value:function(e){var t,n=this.activeRequests.get(e.id);n&&(clearTimeout(n.timeout),this.activeRequests.delete(e.id),(t=e.status.code)>=200&&t<300?n.resolve(e):(n.reject(new Te("Transport failure: "+e.status.status,e)),ee.trace("message rejected")))}},{key:"storeRequest",value:function(e,t,n){var r={resolve:t,reject:n,timeout:setTimeout((function(){ee.trace("request",e,"is timed out"),n(new Ee("Twilsock: request timeout: "+e))}),3e4)};this.activeRequests.set(e,r)}},{key:"shutdown",value:function(){this.activeRequests.forEach((function(e){clearTimeout(e.timeout),e.reject(new Ee("Twilsock: request cancelled by user"))})),this.activeRequests.clear()}},{key:"sendInit",value:function(){var e=S.default(P.default.mark((function e(){var t,n,r;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.trace("sendInit"),t=Me.getMetadata(this.config),n=new ae(this.config.token,this.config.continuationToken,t,this.config.initRegistrations,this.config.tweaks),e.next=5,this.sendWithReply(n);case 5:return r=e.sent,e.abrupt("return",new se(r.id,r.header.continuation_token,new Set(r.header.capabilities),r.header.continuation_token_status,r.header.offline_storage,r.header.init_registrations,r.header.debug_info));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendClose",value:function(){var e=new me;this.send(e)}},{key:"sendWithReply",value:function(e,t){var n=this;return new Promise((function(r,i){var a=n.send(e,t);n.storeRequest(a,r,i)}))}},{key:"send",value:function(e,t){e.id=e.id||"TM".concat(y.v4());var n=_e.createPacket(e,function(e){switch(M.default(e)){case"undefined":return"";case"object":return JSON.stringify(e);default:return e}}(t));try{return this.channel.send(n),e.id}catch(r){throw ee.debug("failed to send ",e,r),ee.trace(r.stack),r}}}]),e}();function De(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var Fe=function(e){A.default(n,e);var t=De(n);function n(e){var i;return I.default(this,n),i=t.call(this),N.default(C.default(i),"socket",null),i.url=e,i.url=e,i.WebSocket=r.WebSocket||r.MozWebSocket||{},i}return E.default(n,[{key:"isConnected",get:function(){return!!this.socket&&1===this.socket.readyState}},{key:"connect",value:function(){var e,t=this;ee.trace("connecting to socket");try{e=new this.WebSocket(this.url)}catch(n){return ee.debug("Socket error: ".concat(this.url)),void this.emit("socketError",n)}e.binaryType="arraybuffer",e.onopen=function(){ee.debug("socket opened ".concat(t.url)),t.emit("connected")},e.onclose=function(e){ee.debug("socket closed",e),t.emit("disconnected",e)},e.onerror=function(e){ee.debug("Socket error:",e),t.emit("socketError",e)},e.onmessage=function(e){t.emit("message",e.data)},this.socket=e}},{key:"send",value:function(e){return this.socket&&this.socket.send(e)}},{key:"close",value:function(){if(ee.trace("closing socket"),this.socket){this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null;try{this.socket.close()}finally{}}}}]),n}(Z);function Be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var je=function(e){A.default(n,e);var t=Be(n);function n(e){var r;return I.default(this,n),(r=t.call(this)).transport=e,r.registrations=new Map,r.registrationsInProgress=new Map,r}return E.default(n,[{key:"putNotificationContext",value:function(){var e=S.default(P.default.mark((function e(t,n){var r;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"put_notification_ctx",notification_ctx_id:t},e.next=3,this.transport.sendWithReply(r,n);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteNotificationContext",value:function(){var e=S.default(P.default.mark((function e(t){var n;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"delete_notification_ctx",notification_ctx_id:t},e.next=3,this.transport.sendWithReply(n);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateRegistration",value:function(){var e=S.default(P.default.mark((function e(t,n){var r,i;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.debug("update registration for context",t),(r=this.registrationsInProgress.get(t))||(r=new Set,this.registrationsInProgress.set(t,r)),i=y.v4(),r.add(i),e.prev=5,e.next=8,this.putNotificationContext(t,n);case 8:ee.debug("registration attempt succeeded for context",n),r.delete(i),0===r.size&&(this.registrationsInProgress.delete(t),this.emit("registered",t)),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(5),ee.warn("registration attempt failed for context",n),ee.debug(e.t0),r.delete(i),0===r.size&&(this.registrationsInProgress.delete(t),this.emit("registrationFailed",t,e.t0));case 19:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateRegistrations",value:function(){var e=S.default(P.default.mark((function e(){var t,n=this;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.trace("refreshing ".concat(this.registrations.size," registrations")),t=[],this.registrations.forEach((function(e,r){t.push(n.updateRegistration(r,e))})),e.next=5,Promise.all(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setNotificationsContext",value:function(){var e=S.default(P.default.mark((function e(t,n){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}throw new Ee("Invalid arguments provided");case 2:return this.registrations.set(t,n),e.next=5,this.updateRegistration(t,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeNotificationsContext",value:function(){var e=S.default(P.default.mark((function e(t){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.registrations.has(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.deleteNotificationContext(t);case 4:this.transport.isConnected&&this.registrations.delete(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Z);function Ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var Ve=function(e){A.default(n,e);var t=Ze(n);function n(e,r,i){var a;return I.default(this,n),(a=t.call(this,r)).status=e,a.description=r,a.body=i,a}return n}(Ee);function Ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var We=function(e){A.default(n,e);var t=Ue(n);function n(e){return I.default(this,n),t.call(this,e)}return n}(Ee);function He(e,t){var n=function(e){var t=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)(\/[^?#]*)(\?[^#]*|)(#.*|)$/);if(t){var n={protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7],params:{}};if(n.search.length>0){var r=n.search.substring(1);n.params=r.split("&").map((function(e){return e.split("=")})).reduce((function(e,t){return e.hasOwnProperty(t[0])?Array.isArray(e[t[0]])?e[t[0]].push(t[1]):e[t[0]]=[e[t[0]],t[1]]:e[t[0]]=t[1],e}),{})}return n}throw new Ee("Incorrect URI: "+e)}(t),r={method:e,host:n.host,path:n.pathname};return n.params&&(r.params=n.params),r}function ze(e,t,n,r,i){return{to:He(e,t),headers:n,body:r,grant:i}}var Ge=function(){function e(t,n,r){I.default(this,e),this.config=r,this.transport=t,this.pendingMessages=[],this.twilsock=n}return E.default(e,[{key:"saveMessage",value:function(e){var t=this;return new Promise((function(n,r){var i={message:e,resolve:n,reject:r,alreadyRejected:!1,timeout:setTimeout((function(){ee.debug("request is timed out"),r(new Ee("request '".concat(e.to.method,"' to '").concat(e.to.host,"' timed out"))),i.alreadyRejected=!0}),2e4)};t.pendingMessages.push(i)}))}},{key:"sendPendingMessages",value:function(){for(var e=this,t=function(){var t=e.pendingMessages[0];if(!t.alreadyRejected)try{var n=t.message;e.actualSend(n).then((function(e){return t.resolve(e)})).catch((function(e){return t.reject(e)})),clearTimeout(t.timeout)}catch(r){return ee.debug("Failed to send pending message",r),"break"}e.pendingMessages.splice(0,1)};this.pendingMessages.length>0;){if("break"===t())break}}},{key:"rejectPendingMessages",value:function(){var e=this;this.pendingMessages.forEach((function(t){t.reject(new We("Unable to connect: "+e.twilsock.getTerminationReason)),t.alreadyRejected=!0,clearTimeout(t.timeout)})),this.pendingMessages.splice(0,this.pendingMessages.length)}},{key:"actualSend",value:function(){var e=S.default(P.default.mark((function e(t){var n,r,i,a,o,s,u,c;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.to,i=t.headers,a=t.body,o=null!==(n=t.grant)&&void 0!==n?n:this.config.activeGrant,s={host:r.host,path:r.path,method:r.method,params:r.params,headers:i},u=new de(o,i["Content-Type"]||"application/json",s),ee.trace("Sending upstream message",u),e.next=9,this.transport.sendWithReply(u,a);case 9:if(c=e.sent,ee.trace("Received upstream message response",c),!((d=c)&&d.header&&d.header.http_status)||(l=c.header.http_status.code)>=200&&l<300){e.next=13;break}throw new Ve(c.header.http_status.code,c.header.http_status.status,c.body);case 13:return e.abrupt("return",{status:c.header.http_status,headers:c.header.http_headers,body:c.body});case 14:case"end":return e.stop()}var l,d}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(this.twilsock.isTerminalState)return Promise.reject(new We("Unable to connect: "+this.twilsock.getTerminationReason));var a=ze(e,t,n,r,i);return this.twilsock.isConnected?this.actualSend(a):this.saveMessage(a)}}]),e}(),qe=function(){function e(){var t=this;I.default(this,e),this._promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))}return E.default(e,[{key:"promise",get:function(){return this._promise}},{key:"update",value:function(e){this._resolve(e)}},{key:"set",value:function(e){this._resolve(e)}},{key:"fail",value:function(e){this._reject(e)}}]),e}(),Ke=function(){function e(t){I.default(this,e),this.id=t}return E.default(e,null,[{key:"create",value:function(t){if(t instanceof Object&&"storage_id"in t)return new e(t.storage_id);throw new Ee('Field "storage_id" is missing')}}]),e}(),Ye=function(){function e(){return I.default(this,e),N.default(this,"initializedFlag","twilio_twilsock_token_storage"),N.default(this,"tokenStoragePrefix","twilio_continuation_token_"),e._instance||(this.initialize(),e._instance=this),e._instance}return E.default(e,[{key:"sessionStorage",value:function(){try{return r.sessionStorage}catch(e){return null}}},{key:"window",value:function(){try{return r.window}catch(e){return null}}},{key:"storeToken",value:function(e,t){this.canStore()&&this.sessionStorage.setItem(this.getKeyName(t),e)}},{key:"getStoredToken",value:function(e){return this.canStore()?this.sessionStorage.getItem(this.getKeyName(e)):null}},{key:"initialize",value:function(){var e=this;if(this.canStore()){this.sessionStorage.getItem(this.initializedFlag)&&this.clear(),this.sessionStorage.setItem(this.initializedFlag,"true");var t=this.sessionStorage.removeItem;this.window.addEventListener("unload",(function(){t(e.initializedFlag)}))}}},{key:"clear",value:function(){if(this.canStore()){for(var e=[],t=0;t<this.sessionStorage.length;t++){var n=this.sessionStorage.key(t);n&&0===n.indexOf(this.tokenStoragePrefix)&&e.push(n)}var r=this.sessionStorage.removeItem;e.forEach((function(e){return r(e)})),r(this.initializedFlag)}}},{key:"getKeyName",value:function(e){return"".concat(this.tokenStoragePrefix).concat(e)}},{key:"canStore",value:function(){return!!(this.sessionStorage&&this.sessionStorage.length&&this.window)}}]),e}();N.default(Ye,"_instance",null);var Xe,Qe,Je=new Ye,$e=function(){function e(t,n,r,i,a,o){I.default(this,e),this.title=t,this.details=n,this.start=r,this.type=a,this.id=o,this.end=i}return E.default(e,[{key:"toTelemetryEvent",value:function(){var e=new Date,t=this.start,n=this.end?this.end:e;if(n<t){var r=n;n=t,t=r}var i=t.getTime()-e.getTime(),a=n.getTime()-e.getTime();return new ge(i,a,this.title,this.details,this.id,this.type)}}]),e}();t.TelemetryPoint=void 0,(Xe=t.TelemetryPoint||(t.TelemetryPoint={}))[Xe.Start=0]="Start",Xe[Xe.End=1]="End",t.EventSendingLimitation=void 0,(Qe=t.EventSendingLimitation||(t.EventSendingLimitation={}))[Qe.MinEventsPortion=0]="MinEventsPortion",Qe[Qe.AnyEvents=1]="AnyEvents",Qe[Qe.AnyEventsIncludingUnfinished=2]="AnyEventsIncludingUnfinished";var et=function(){function e(t,n){I.default(this,e),N.default(this,"minEventsPortionToSend",50),N.default(this,"maxEventsPortionToSend",100),N.default(this,"pendingEvents",new Map),N.default(this,"readyEvents",[]),N.default(this,"hasInitializationFinished",!1),N.default(this,"_canSendTelemetry",!1),this.config=t,this.packetInterface=n}return E.default(e,[{key:"isTelemetryEnabled",get:function(){return this.config.confirmedCapabilities.has("telemetry.v1")}},{key:"canSendTelemetry",get:function(){return this._canSendTelemetry&&this.isTelemetryEnabled},set:function(e){ee.debug("TelemetryTracker.canSendTelemetry: ".concat(e," TelemetryTracker.isTelemetryEnabled: ").concat(this.isTelemetryEnabled)),this._canSendTelemetry&&!e&&(this.pendingEvents.clear(),this.readyEvents=[]),this._canSendTelemetry=e,e&&this.sendTelemetry(t.EventSendingLimitation.AnyEvents),e&&!this.hasInitializationFinished&&(this.hasInitializationFinished=!0)}},{key:"addTelemetryEvent",value:function(e){!this.canSendTelemetry&&this.hasInitializationFinished||this.readyEvents.push(e)}},{key:"addPartialEvent",value:function(e,n,r){ee.debug("Adding ".concat(r===t.TelemetryPoint.Start?"starting":"ending"," timepoint for '").concat(n,"' event"));var i=this.pendingEvents.has(n);if(r===t.TelemetryPoint.Start)i&&ee.debug("Overwriting starting point for '".concat(n,"' event")),this.pendingEvents.set(n,e);else{if(!i)return void ee.info("Could not find started event for '".concat(n,"' event"));this.addTelemetryEvent(this.merge(this.pendingEvents.get(n),e)),this.pendingEvents.delete(n)}}},{key:"getTelemetryToSend",value:function(e){return this.canSendTelemetry&&0!=this.readyEvents.length?e==t.EventSendingLimitation.MinEventsPortion&&this.readyEvents.length<this.minEventsPortionToSend?[]:this.getTelemetryPortion(e==t.EventSendingLimitation.AnyEventsIncludingUnfinished):[]}},{key:"getTelemetryPortion",value:function(e){var t=this,n=Math.min(this.readyEvents.length,this.maxEventsPortionToSend),r=this.readyEvents.splice(0,n);return e&&r.length<this.maxEventsPortionToSend&&this.pendingEvents.forEach((function(e,n){if(!(r.length>=t.maxEventsPortionToSend)){var i=t.pendingEvents.get(n);t.pendingEvents.delete(n),r.push(new $e("[UNFINISHED] ".concat(i.title),i.details,i.start,null,i.type,i.id))}})),r}},{key:"merge",value:function(e,t){return new $e(t.title?t.title:e.title,t.details?t.details:e.details,e.start,t.end,t.type?t.type:e.type,t.id?t.id:e.id)}},{key:"sendTelemetryIfMinimalPortionCollected",value:function(){this.sendTelemetry(t.EventSendingLimitation.MinEventsPortion)}},{key:"sendTelemetry",value:function(e){var t=this.getTelemetryToSend(e);if(0!==t.length)try{this.packetInterface.send(new ye(t.map((function(e){return e.toTelemetryEvent()}))))}catch(n){ee.debug("Error while sending ".concat(t.length," telemetry events due to ").concat(n,"; they will be resubmitted")),this.readyEvents=this.readyEvents.concat(t)}}}]),e}();function tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R.default(e);if(t){var i=R.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O.default(this,n)}}var nt=function e(){I.default(this,e)};N.default(nt,"TWILSOCK_CONNECT","twilsock.sdk.connect"),N.default(nt,"TWILSOCK_INIT","twilsock.sdk.init"),t.TwilsockClient=function(e){A.default(r,e);var n=tt(r);function r(e,i,a){var o;I.default(this,r),o=n.call(this),N.default(C.default(o),"version",te),N.default(C.default(o),"offlineStorageDeferred",new qe),a.continuationToken=a.continuationToken?a.continuationToken:Je.getStoredToken(i);var s=o.config=new ne(e,i,a);ee.setLevel(s.logLevel);var u=new Fe(s.url),c=new Le(u,s);return o.channel=new Pe(u,c,s),o.registrations=new je(c),o.upstream=new Ge(c,o.channel,s),o.telemetryTracker=new et(s,c),o.channel.on("initialized",(function(){return o.telemetryTracker.canSendTelemetry=!0})),u.on("disconnected",(function(){return o.telemetryTracker.canSendTelemetry=!1})),o.registrations.on("registered",(function(e){return o.emit("registered",e)})),o.channel.on("message",(function(e,t){return setTimeout((function(){return o.emit("message",e,t)}),0)})),o.channel.on("stateChanged",(function(e){return setTimeout((function(){return o.emit("stateChanged",e)}),0)})),o.channel.on("connectionError",(function(e){return setTimeout((function(){return o.emit("connectionError",e)}),0)})),o.channel.on("tokenAboutToExpire",(function(){return setTimeout((function(){return o.emit("tokenAboutToExpire")}),0)})),o.channel.on("tokenExpired",(function(){return setTimeout((function(){return o.emit("tokenExpired")}),0)})),o.channel.on("connected",(function(){return o.registrations.updateRegistrations()})),o.channel.on("connected",(function(){return o.upstream.sendPendingMessages()})),o.channel.on("connected",(function(){return setTimeout((function(){return o.emit("connected")}),0)})),o.channel.on("beforeConnect",(function(){return o.telemetryTracker.addPartialEvent(new $e("Establish WebSocket connection","",new Date),nt.TWILSOCK_CONNECT,t.TelemetryPoint.Start)})),o.channel.on("connected",(function(){return o.telemetryTracker.addPartialEvent(new $e("Establish WebSocket connection","",new Date,new Date),nt.TWILSOCK_CONNECT,t.TelemetryPoint.End)})),o.channel.on("beforeSendInit",(function(){return o.telemetryTracker.addPartialEvent(new $e("Send Twilsock init","",new Date),nt.TWILSOCK_INIT,t.TelemetryPoint.Start)})),o.channel.on("initialized",(function(){return o.telemetryTracker.addPartialEvent(new $e("Send Twilsock init","Succeeded",new Date,new Date),nt.TWILSOCK_INIT,t.TelemetryPoint.End)})),o.channel.on("sendInitFailed",(function(){return o.telemetryTracker.addPartialEvent(new $e("Send Twilsock init","Failed",new Date,new Date),nt.TWILSOCK_INIT,t.TelemetryPoint.End)})),o.channel.on("initialized",(function(e){o.handleStorageId(i,e),Je.storeToken(e.continuationToken,i),setTimeout((function(){return o.emit("initialized",e)}),0)})),o.channel.on("disconnected",(function(){return setTimeout((function(){return o.emit("disconnected")}),0)})),o.channel.on("disconnected",(function(){return o.upstream.rejectPendingMessages()})),o.channel.on("disconnected",(function(){return o.offlineStorageDeferred.fail(new Ee("Client disconnected"))})),o.offlineStorageDeferred.promise.catch((function(){})),o}return E.default(r,[{key:"emit",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return ee.debug("Emitting ".concat(e.toString(),"(").concat(i.map((function(e){return JSON.stringify(e)})).join(", "),")")),(t=T.default(R.default(r.prototype),"emit",this)).call.apply(t,[this,e].concat(i))}},{key:"handleStorageId",value:function(e,t){if(t.offlineStorage)if(t.offlineStorage.hasOwnProperty(e))try{this.offlineStorageDeferred.set(Ke.create(t.offlineStorage[e])),ee.debug("Offline storage for '".concat(e,"' product: ").concat(JSON.stringify(t.offlineStorage[e]),"."))}catch(n){this.offlineStorageDeferred.fail(new Ee("Failed to parse offline storage for ".concat(e," ").concat(JSON.stringify(t.offlineStorage[e]),". ").concat(n,".")))}else this.offlineStorageDeferred.fail(new Ee("No offline storage id for '".concat(e,"' product: ").concat(JSON.stringify(t.offlineStorage))));else this.offlineStorageDeferred.fail(new Ee("No offline storage id"))}},{key:"storageId",value:function(){return this.offlineStorageDeferred.promise}},{key:"isConnected",get:function(){return this.channel.isConnected}},{key:"state",get:function(){return this.channel.state}},{key:"updateToken",value:function(){var e=S.default(P.default.mark((function e(t){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee.trace("updating token '".concat(t,"'")),this.config.token!==t){e.next=3;break}return e.abrupt("return");case 3:return this.config.updateToken(t),e.next=6,this.channel.updateToken(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setNotificationsContext",value:function(){var e=S.default(P.default.mark((function e(t,n){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registrations.setNotificationsContext(t,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeNotificationsContext",value:function(){var e=S.default(P.default.mark((function e(t){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registrations.removeNotificationsContext(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){return this.channel.connect()}},{key:"disconnect",value:function(){var e=S.default(P.default.mark((function e(){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEventsIncludingUnfinished),e.next=3,this.channel.disconnect();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(P.default.mark((function e(n,r,i){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEvents),e.next=3,this.upstream.send("GET",n,r,void 0,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=S.default(P.default.mark((function e(n,r,i,a){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEvents),e.next=3,this.upstream.send("POST",n,r,i,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=S.default(P.default.mark((function e(n,r,i,a){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEvents),e.next=3,this.upstream.send("PUT",n,r,i,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=S.default(P.default.mark((function e(n,r,i,a){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEvents),e.next=3,this.upstream.send("DELETE",n,r,i,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"addTelemetryEvent",value:function(e){this.telemetryTracker.addTelemetryEvent(e),this.telemetryTracker.sendTelemetryIfMinimalPortionCollected()}},{key:"addPartialTelemetryEvent",value:function(e,n,r){this.telemetryTracker.addPartialEvent(e,n,r),r===t.TelemetryPoint.End&&this.telemetryTracker.sendTelemetryIfMinimalPortionCollected()}}]),r}(Z),t.TwilsockClient=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":M.default(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}([m.validateConstructorTypes(m.nonEmptyString,m.nonEmptyString,[m.pureObject,"undefined",m.literal(null)]),function(e,t){if("object"===("undefined"===typeof Reflect?"undefined":M.default(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[String,String,Object])],t.TwilsockClient);var rt=function(){function e(t){I.default(this,e),this.product=t,this.type="ers",this.notification_protocol_version=0,this.message_types=[]}return E.default(e,[{key:"populateInitRegistrations",value:function(e){var t=new Set(this.message_types);for(var n in e)t.add(e[n]);this.message_types=Array.from(t)}}]),e}();t.InitRegistration=rt,t.TelemetryEventDescription=$e,t.TelemetryTracker=et,t.TransportUnavailableError=We,t.Twilsock=t.TwilsockClient,t.TwilsockError=Ee},70538:function(e){e.exports=/[\0-\x1F\x7F-\x9F]/},13741:function(e){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},92426:function(e){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},65510:function(e){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},24610:function(e,t,n){var r=n(17669),i=n(88560),a=i;a.v1=r,a.v4=i,e.exports=a},71874:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},97180:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},17669:function(e,t,n){var r,i,a=n(97180),o=n(71874),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){var p=a();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:u+1,v=h-s+(m-u)/1e4;if(v<0&&void 0===e.clockseq&&(f=f+1&16383),(v<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=m,i=f;var g=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var y=h/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=f>>>8|128,l[c++]=255&f;for(var b=0;b<6;++b)l[c+b]=d[b];return t||o(l)}},88560:function(e,t,n){var r=n(97180),i=n(71874);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},75410:function(){},48628:function(){},75042:function(){},73897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},85372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},63405:function(e,t,n){var r=n(73897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},66115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},17156:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},56690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(69617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},89728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},26389:function(e,t,n){var r=n(73808),i=n(69617),a=n(94993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},38416:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},41588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},73808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},61655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},75263:function(e,t,n){var r=n(18698).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},46035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},69617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},79498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},68872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},12218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42122:function(e,t,n){var r=n(38416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},94993:function(e,t,n){var r=n(18698).default,i=n(66115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},17061:function(e,t,n){var r=n(18698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=d;var p={};function h(){}function m(){}function v(){}var g={};l(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(T([])));b&&b!==n&&a.call(b,s)&&(g=b);var w=v.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,s,u){var c=f(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,l(w,"constructor",v),l(v,"constructor",m),m.displayName=l(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},k(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},27424:function(e,t,n){var r=n(85372),i=n(68872),a=n(86116),o=n(12218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(73808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},59400:function(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(63405),i=n(79498),a=n(86116),o=n(42281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},18698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},86116:function(e,t,n){var r=n(73897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},33496:function(e,t,n){var r=n(73808),i=n(6015),a=n(46035),o=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},64687:function(e,t,n){var r=n(17061)();e.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},30907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},83878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},97326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},15671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},43144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},37762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(40181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},29388:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(61120),i=n(78814),a=n(82963);function o(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},87462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},11752:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(61120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},a.apply(this,arguments)}},61120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},60136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(89611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},94578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(89611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},78814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},59199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},25267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},45987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(63366);function i(e,t){if(null==e)return{};var n,i,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},63366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},82963:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(71002),i=n(97326);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},74165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(71002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(A){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=l;var f={};function p(){}function h(){}function m(){}var v={};c(v,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==t&&n.call(y,o)&&(v=y);var b=m.prototype=p.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(a,o,s,u){var c=d(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=m,c(b,"constructor",m),c(m,"constructor",h),h.displayName=c(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),c(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),c(b,u,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}},89611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},29439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(83878);var i=n(40181),a=n(25267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},93433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(30907);var i=n(59199),a=n(40181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},71002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},40181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(30907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},98737:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(61120),i=n(89611);var a=n(78814);function o(e,t,n){return o=(0,a.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,i.Z)(a,n.prototype),a},o.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,(0,r.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(a,e)},s(e)}},1730:function(e){"use strict";e.exports=JSON.parse('{"_args":[["twilio-video@2.23.0","/Users/ronar/sites/partner-web-app"]],"_from":"twilio-video@2.23.0","_id":"twilio-video@2.23.0","_inBundle":false,"_integrity":"sha512-3wD50eeNMqh4QItN3vk6/I/QJ15hEBmEd9FDxVUrnKG8H3GDgDEWzmjN+wPkw+SNYwGiE6dw5qOSESsthmJeuQ==","_location":"/twilio-video","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"twilio-video@2.23.0","name":"twilio-video","escapedName":"twilio-video","rawSpec":"2.23.0","saveSpec":null,"fetchSpec":"2.23.0"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/twilio-video/-/twilio-video-2.23.0.tgz","_spec":"2.23.0","_where":"/Users/ronar/sites/partner-web-app","author":{"name":"Mark Andrus Roberts","email":"mroberts@twilio.com"},"browser":{"ws":"./src/ws.js","xmlhttprequest":"./src/xmlhttprequest.js"},"bugs":{"url":"https://github.com/twilio/twilio-video.js/issues"},"contributors":[{"name":"Ryan Rowland","email":"rrowland@twilio.com"},{"name":"Manjesh Malavalli","email":"mmalavalli@twilio.com"},{"name":"Makarand Patwardhan","email":"mpatwardhan@twilio.com"}],"dependencies":{"events":"^3.3.0","util":"^0.12.4","ws":"^7.4.6","xmlhttprequest":"^1.8.0"},"description":"Twilio Video JavaScript Library","devDependencies":{"@babel/core":"^7.14.2","@babel/preset-env":"^7.14.2","@babel/preset-typescript":"^7.13.0","@types/express":"^4.11.0","@types/node":"^8.5.1","@types/selenium-webdriver":"^3.0.8","@types/ws":"^3.2.1","@typescript-eslint/eslint-plugin":"^4.13.0","@typescript-eslint/parser":"^4.0.0","babel-cli":"^6.26.0","babel-preset-es2015":"^6.24.1","browserify":"^17.0.0","cheerio":"^0.22.0","cors":"^2.8.5","electron":"^17.2.0","envify":"^4.0.0","eslint":"^6.2.1","eslint-config-standard":"^14.0.0","eslint-plugin-import":"^2.18.2","eslint-plugin-node":"^9.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.1","express":"^4.16.2","glob":"^7.1.7","ink-docstrap":"^1.3.2","inquirer":"^7.0.0","is-docker":"^2.0.0","jsdoc":"^3.5.5","jsdoc-babel":"^0.5.0","json-loader":"^0.5.7","karma":"^5.0.2","karma-browserify":"^8.0.0","karma-chrome-launcher":"^2.0.0","karma-edgium-launcher":"^4.0.0-0","karma-electron":"^6.1.0","karma-firefox-launcher":"^1.3.0","karma-htmlfile-reporter":"^0.3.8","karma-junit-reporter":"^1.2.0","karma-mocha":"^1.3.0","karma-safari-launcher":"^1.0.0","karma-spec-reporter":"0.0.32","karma-typescript":"^5.5.1","karma-typescript-es6-transform":"^5.5.1","mocha":"^3.2.0","mock-require":"^3.0.3","ncp":"^2.0.0","node-http-server":"^8.1.2","npm-run-all":"^4.0.2","nyc":"^15.1.0","requirejs":"^2.3.3","rimraf":"^2.6.1","simple-git":"^1.126.0","sinon":"^4.0.1","ts-node":"4.0.1","tslint":"5.8.0","twilio":"^3.49.0","twilio-release-tool":"^1.0.2","typescript":"4.2.2","uglify-js":"^2.8.22","vinyl-fs":"^2.4.4","vinyl-source-stream":"^1.1.0","watchify":"^3.11.1","webrtc-adapter":"^7.7.1"},"engines":{"node":">=0.12"},"homepage":"https://twilio.com","keywords":["twilio","webrtc","library","javascript","video","rooms"],"license":"BSD-3-Clause","main":"./es5/index.js","name":"twilio-video","repository":{"type":"git","url":"git+https://github.com/twilio/twilio-video.js.git"},"scripts":{"build":"npm-run-all clean lint docs test:unit test:integration build:es5 build:js build:min.js test:umd","build:es5":"rimraf ./es5 && mkdir -p es5 && cp lib/dynamicImport.js es5/dynamicImport.js && tsc tsdef/twilio-video-tests.ts --noEmit --lib es2018,dom && tsc","build:js":"node ./scripts/build.js ./src/twilio-video.js ./LICENSE.md ./dist/twilio-video.js","build:min.js":"uglifyjs ./dist/twilio-video.js -o ./dist/twilio-video.min.js --comments \\"/^! twilio-video.js/\\" -b beautify=false,ascii_only=true","build:quick":"npm-run-all clean lint docs build:es5 build:js build:min.js","clean":"rimraf ./coverage ./es5 ./dist","docs":"node ./scripts/docs.js ./dist/docs","lint":"npm-run-all lint:js lint:ts","lint:js":"eslint ./lib ./test/*.js ./docker/**/*.js ./test/framework/*.js ./test/lib/*.js ./test/integration/** ./test/unit/** ","lint:ts":"eslint ./tsdef/*.ts ./lib/**/*.ts","printVersion":"node --version && npm --version","test":"npm-run-all test:unit test:integration","test:crossbrowser":"npm-run-all test:crossbrowser:*","test:crossbrowser:build":"npm-run-all test:crossbrowser:build:*","test:crossbrowser:build:browser":"cd ./test/crossbrowser && browserify lib/crossbrowser/src/browser/index.js > src/browser/index.js","test:crossbrowser:build:clean":"rimraf ./test/crossbrowser/lib ./test/crossbrowser/src/browser/index.js","test:crossbrowser:build:lint":"cd ./test/crossbrowser && tslint --project tsconfig.json","test:crossbrowser:build:tsc":"cd ./test/crossbrowser && tsc","test:crossbrowser:test":"cd ./test/crossbrowser && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:framework":"npm-run-all test:framework:install test:framework:no-framework test:framework:react","test:framework:angular":"npm-run-all test:framework:angular:*","test:framework:angular:install":"cd ./test/framework/twilio-video-angular && rimraf ./node_modules package-lock.json && npm install","test:framework:angular:run":"mocha ./test/framework/twilio-video-angular.js","test:framework:install":"npm install chromedriver && npm install selenium-webdriver && npm install geckodriver && npm install puppeteer","test:framework:no-framework":"npm-run-all test:framework:no-framework:*","test:framework:no-framework:run":"mocha ./test/framework/twilio-video-no-framework.js","test:framework:react":"npm-run-all test:framework:react:*","test:framework:react:build":"cd ./test/framework/twilio-video-react && npm run build","test:framework:react:install":"cd ./test/framework/twilio-video-react && rimraf ./node_modules package-lock.json && npm install","test:framework:react:run":"mocha ./test/framework/twilio-video-react.js","test:framework:react:test":"node ./scripts/framework.js twilio-video-react","test:integration":"npm run build:es5 && node ./scripts/karma.js karma/integration.conf.js","test:integration:adapter":"node ./scripts/karma.js karma/integration.adapter.conf.js","test:sdkdriver":"npm-run-all test:sdkdriver:*","test:sdkdriver:build":"npm-run-all test:sdkdriver:build:*","test:sdkdriver:build:clean":"rimraf ./test/lib/sdkdriver/lib ./test/lib/sdkdriver/test/integration/browser/index.js","test:sdkdriver:build:lint":"cd ./test/lib/sdkdriver && tslint --project tsconfig.json","test:sdkdriver:build:tsc":"cd ./test/lib/sdkdriver && tsc --rootDir src","test:sdkdriver:test":"npm-run-all test:sdkdriver:test:*","test:sdkdriver:test:integration":"npm-run-all test:sdkdriver:test:integration:*","test:sdkdriver:test:integration:browser":"cd ./test/lib/sdkdriver/test/integration && browserify browser/browser.js > browser/index.js","test:sdkdriver:test:integration:run":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:sdkdriver:test:unit":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/unit/spec/**/*.ts","test:serversiderender":"mocha ./test/serversiderender/index.js","test:umd":"mocha ./test/umd/index.js","test:umd:install":"npm install puppeteer@5.5.0","test:unit":"npm-run-all printVersion build:es5 && nyc --report-dir=./coverage --include=lib/**/* --reporter=html --reporter=lcov --reporter=text mocha -r ts-node/register ./test/unit/*","test:unit:quick":"nyc --report-dir=./coverage --include=lib/**/* --reporter=html --reporter=lcov mocha -r ts-node/register","watch":"tsc -w"},"title":"Twilio Video","types":"./tsdef/index.d.ts","version":"2.23.0"}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/partner-web-app/",function(){"use strict";var e=n(72791),t=n(54164),r=n(87462),i=n(38317),a={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},o=function(e){return(0,r.Z)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};var s=(0,i.Z)((function(e){return{"@global":{html:a,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,r.Z)({margin:0},o(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(t){var n=t.children,r=void 0===n?null:n;return t.classes,e.createElement(e.Fragment,null,r)})),u=n(40423),c=n(78444),l=n(79316);var d=function(t){var n=t.children,i=t.theme,a=(0,c.Z)(),o=e.useMemo((function(){var e=null===a?i:function(e,t){return"function"===typeof t?t(e):(0,r.Z)({},e,t)}(a,i);return null!=e&&(e[l.Z]=null!==a),e}),[i,a]);return e.createElement(u.Z.Provider,{value:o},n)},f=n(4942),p=n(45987),h=n(28182),m=n(62110),v=n.n(m),g=n(9863);function y(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var b=n(40663),w=function(t){var n=function(t){return function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.name,s=(0,p.Z)(a,["name"]),u=o,c="function"===typeof n?function(e){return{root:function(t){return n((0,r.Z)({theme:e},t))}}}:{root:n},l=(0,g.Z)(c,(0,r.Z)({Component:t,name:o||t.displayName,classNamePrefix:u},s));n.filterProps&&(i=n.filterProps,delete n.filterProps),n.propTypes&&(n.propTypes,delete n.propTypes);var d=e.forwardRef((function(n,a){var o=n.children,s=n.className,u=n.clone,c=n.component,d=(0,p.Z)(n,["children","className","clone","component"]),f=l(n),m=(0,h.Z)(f.root,s),v=d;if(i&&(v=y(v,i)),u)return e.cloneElement(o,(0,r.Z)({className:(0,h.Z)(o.props.className,m)},v));if("function"===typeof o)return o((0,r.Z)({className:m},v));var g=c||t;return e.createElement(g,(0,r.Z)({ref:a,className:m},v),o)}));return v()(d,t),d}}(t);return function(e,t){return n(e,(0,r.Z)({defaultTheme:b.Z},t))}};var k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,g.Z)(e,(0,r.Z)({defaultTheme:b.Z},t))};var x=n(13108),_=n(69806),S=n(72216),E=n(81175),C=n(93433),T=n(63366),A=n(97326),O=n(94578),R=e.createContext(null);function I(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function N(e,t,n){return null!=n[t]?n[t]:e.props[t]}function P(t,n,r){var i=I(t.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(n,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,e.isValidElement)(s)){var u=o in n,c=o in i,l=n[o],d=(0,e.isValidElement)(l)&&!l.props.in;!c||u&&!d?c||!u||d?c&&u&&(0,e.isValidElement)(l)&&(a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:l.props.in,exit:N(s,"exit",t),enter:N(s,"enter",t)})):a[o]=(0,e.cloneElement)(s,{in:!1}):a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:N(s,"exit",t),enter:N(s,"enter",t)})}})),a}var M=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},L=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind((0,A.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,O.Z)(n,t);var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=t,i=o,I(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:N(t,"appear",r),enter:N(t,"enter",r),exit:N(t,"exit",r)})}))):P(t,a,o),firstRender:!1}},i.handleExited=function(e,t){var n=I(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,r.Z)({},t.children);return delete n[e.key],{children:n}})))},i.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=(0,T.Z)(t,["component","childFactory"]),a=this.state.contextValue,o=M(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(R.Provider,{value:a},o):e.createElement(R.Provider,{value:a},e.createElement(n,i,o))},n}(e.Component);L.propTypes={},L.defaultProps={component:"div",childFactory:function(e){return e}};var D=L,F="undefined"===typeof window?e.useEffect:e.useLayoutEffect;var B=function(t){var n=t.classes,r=t.pulsate,i=void 0!==r&&r,a=t.rippleX,o=t.rippleY,s=t.rippleSize,u=t.in,c=t.onExited,l=void 0===c?function(){}:c,d=t.timeout,f=e.useState(!1),p=f[0],m=f[1],v=(0,h.Z)(n.ripple,n.rippleVisible,i&&n.ripplePulsate),g={width:s,height:s,top:-s/2+o,left:-s/2+a},y=(0,h.Z)(n.child,p&&n.childLeaving,i&&n.childPulsate),b=(0,S.Z)(l);return F((function(){if(!u){m(!0);var e=setTimeout(b,d);return function(){clearTimeout(e)}}}),[b,u,d]),e.createElement("span",{className:v,style:g},e.createElement("span",{className:y}))},j=e.forwardRef((function(t,n){var i=t.center,a=void 0!==i&&i,o=t.classes,s=t.className,u=(0,p.Z)(t,["center","classes","className"]),c=e.useState([]),l=c[0],d=c[1],f=e.useRef(0),m=e.useRef(null);e.useEffect((function(){m.current&&(m.current(),m.current=null)}),[l]);var v=e.useRef(!1),g=e.useRef(null),y=e.useRef(null),b=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var w=e.useCallback((function(t){var n=t.pulsate,r=t.rippleX,i=t.rippleY,a=t.rippleSize,s=t.cb;d((function(t){return[].concat((0,C.Z)(t),[e.createElement(B,{key:f.current,classes:o,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:a})])})),f.current+=1,m.current=s}),[o]),k=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&v.current)v.current=!1;else{"touchstart"===e.type&&(v.current=!0);var l,d,f,p=c?null:b.current,h=p?p.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(h.width/2),d=Math.round(h.height/2);else{var m=e.touches?e.touches[0]:e,k=m.clientX,x=m.clientY;l=Math.round(k-h.left),d=Math.round(x-h.top)}if(s)(f=Math.sqrt((2*Math.pow(h.width,2)+Math.pow(h.height,2))/3))%2===0&&(f+=1);else{var _=2*Math.max(Math.abs((p?p.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((p?p.clientHeight:0)-d),d)+2;f=Math.sqrt(Math.pow(_,2)+Math.pow(S,2))}e.touches?null===y.current&&(y.current=function(){w({pulsate:i,rippleX:l,rippleY:d,rippleSize:f,cb:n})},g.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):w({pulsate:i,rippleX:l,rippleY:d,rippleSize:f,cb:n})}}),[a,w]),x=e.useCallback((function(){k({},{pulsate:!0})}),[k]),_=e.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===e.type&&y.current)return e.persist(),y.current(),y.current=null,void(g.current=setTimeout((function(){_(e,t)})));y.current=null,d((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:x,start:k,stop:_}}),[x,k,_]),e.createElement("span",(0,r.Z)({className:(0,h.Z)(o.root,s),ref:b},u),e.createElement(D,{component:null,exit:!0},l))})),Z=(0,i.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(e.memo(j)),V=e.forwardRef((function(n,i){var a=n.action,o=n.buttonRef,s=n.centerRipple,u=void 0!==s&&s,c=n.children,l=n.classes,d=n.className,f=n.component,m=void 0===f?"button":f,v=n.disabled,g=void 0!==v&&v,y=n.disableRipple,b=void 0!==y&&y,w=n.disableTouchRipple,k=void 0!==w&&w,x=n.focusRipple,C=void 0!==x&&x,T=n.focusVisibleClassName,A=n.onBlur,O=n.onClick,R=n.onFocus,I=n.onFocusVisible,N=n.onKeyDown,P=n.onKeyUp,M=n.onMouseDown,L=n.onMouseLeave,D=n.onMouseUp,F=n.onTouchEnd,B=n.onTouchMove,j=n.onTouchStart,V=n.onDragLeave,U=n.tabIndex,W=void 0===U?0:U,H=n.TouchRippleProps,z=n.type,G=void 0===z?"button":z,q=(0,p.Z)(n,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),K=e.useRef(null);var Y=e.useRef(null),X=e.useState(!1),Q=X[0],J=X[1];g&&Q&&J(!1);var $=(0,E.Z)(),ee=$.isFocusVisible,te=$.onBlurVisible,ne=$.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;return(0,S.Z)((function(r){return t&&t(r),!n&&Y.current&&Y.current[e](r),!0}))}e.useImperativeHandle(a,(function(){return{focusVisible:function(){J(!0),K.current.focus()}}}),[]),e.useEffect((function(){Q&&C&&!b&&Y.current.pulsate()}),[b,C,Q]);var ie=re("start",M),ae=re("stop",V),oe=re("stop",D),se=re("stop",(function(e){Q&&e.preventDefault(),L&&L(e)})),ue=re("start",j),ce=re("stop",F),le=re("stop",B),de=re("stop",(function(e){Q&&(te(e),J(!1)),A&&A(e)}),!1),fe=(0,S.Z)((function(e){K.current||(K.current=e.currentTarget),ee(e)&&(J(!0),I&&I(e)),R&&R(e)})),pe=function(){var e=t.findDOMNode(K.current);return m&&"button"!==m&&!("A"===e.tagName&&e.href)},he=e.useRef(!1),me=(0,S.Z)((function(e){C&&!he.current&&Q&&Y.current&&" "===e.key&&(he.current=!0,e.persist(),Y.current.stop(e,(function(){Y.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!g&&(e.preventDefault(),O&&O(e))})),ve=(0,S.Z)((function(e){C&&" "===e.key&&Y.current&&Q&&!e.defaultPrevented&&(he.current=!1,e.persist(),Y.current.stop(e,(function(){Y.current.pulsate(e)}))),P&&P(e),O&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&O(e)})),ge=m;"button"===ge&&q.href&&(ge="a");var ye={};"button"===ge?(ye.type=G,ye.disabled=g):("a"===ge&&q.href||(ye.role="button"),ye["aria-disabled"]=g);var be=(0,_.Z)(o,i),we=(0,_.Z)(ne,K),ke=(0,_.Z)(be,we),xe=e.useState(!1),_e=xe[0],Se=xe[1];e.useEffect((function(){Se(!0)}),[]);var Ee=_e&&!b&&!g;return e.createElement(ge,(0,r.Z)({className:(0,h.Z)(l.root,d,Q&&[l.focusVisible,T],g&&l.disabled),onBlur:de,onClick:O,onFocus:fe,onKeyDown:me,onKeyUp:ve,onMouseDown:ie,onMouseLeave:se,onMouseUp:oe,onDragLeave:ae,onTouchEnd:ce,onTouchMove:le,onTouchStart:ue,ref:ke,tabIndex:g?-1:W},ye,q),c,Ee?e.createElement(Z,(0,r.Z)({ref:Y,center:u},H)):null)})),U=(0,i.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(V),W=n(91122),H=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.color,u=void 0===s?"default":s,c=t.component,l=void 0===c?"button":c,d=t.disabled,f=void 0!==d&&d,m=t.disableElevation,v=void 0!==m&&m,g=t.disableFocusRipple,y=void 0!==g&&g,b=t.endIcon,w=t.focusVisibleClassName,k=t.fullWidth,x=void 0!==k&&k,_=t.size,S=void 0===_?"medium":_,E=t.startIcon,C=t.type,T=void 0===C?"button":C,A=t.variant,O=void 0===A?"text":A,R=(0,p.Z)(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),I=E&&e.createElement("span",{className:(0,h.Z)(a.startIcon,a["iconSize".concat((0,W.Z)(S))])},E),N=b&&e.createElement("span",{className:(0,h.Z)(a.endIcon,a["iconSize".concat((0,W.Z)(S))])},b);return e.createElement(U,(0,r.Z)({className:(0,h.Z)(a.root,a[O],o,"inherit"===u?a.colorInherit:"default"!==u&&a["".concat(O).concat((0,W.Z)(u))],"medium"!==S&&[a["".concat(O,"Size").concat((0,W.Z)(S))],a["size".concat((0,W.Z)(S))]],v&&a.disableElevation,f&&a.disabled,x&&a.fullWidth),component:l,disabled:f,focusRipple:!y,focusVisibleClassName:(0,h.Z)(a.focusVisible,w),ref:n,type:T},R),e.createElement("span",{className:a.label},I,i,N))})),z=(0,i.Z)((function(e){return{root:(0,r.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,x.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,x.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,x.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,x.Fq)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,x.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,x.Fq)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,x.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(H),G=n(29439),q=n(74165),K=n(15861);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q={trackSwitchOffMode:void 0,dominantSpeakerPriority:"standard",bandwidthProfileMode:"collaboration",maxAudioBitrate:"16000",contentPreferencesMode:"auto",clientTrackSwitchOffControl:"auto"},J=function(){var e={};for(var t in Q)e[t]=t;return e}();function $(e,t){return X(X({},e),{},(0,f.Z)({},t.name,"default"===t.value?void 0:t.value))}var ee={width:1280,height:720,frameRate:24},te="TwilioVideoApp-selectedAudioInput",ne="TwilioVideoApp-selectedAudioOutput",re="TwilioVideoApp-selectedVideoInput",ie=9/16,ae={sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd",lastDay:"[Yesterday]",lastWeek:"[Last] dddd",sameElse:"Do MMM"},oe="https://api.dev.trubeapp.com/v3";function se(e){return"[object Object]"===Object.prototype.toString.call(e)}var ue="undefined"!==typeof navigator&&"string"===typeof navigator.userAgent&&/Mobile/.test(navigator.userAgent);function ce(e){if(!function(e){var t,n;return!1!==se(e)&&(void 0===(t=e.constructor)||!1!==se(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}(e))return e;var t={};for(var n in e){var r=e[n];"undefined"!==typeof r&&(t[n]=ce(r))}return t}function le(){return de.apply(this,arguments)}function de(){return(de=(0,K.Z)((0,q.Z)().mark((function e(){var t;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:return t=e.sent,e.abrupt("return",{audioInputDevices:t.filter((function(e){return"audioinput"===e.kind})),videoInputDevices:t.filter((function(e){return"videoinput"===e.kind})),audioOutputDevices:t.filter((function(e){return"audiooutput"===e.kind})),hasAudioInputDevices:t.some((function(e){return"audioinput"===e.kind})),hasVideoInputDevices:t.some((function(e){return"videoinput"===e.kind}))});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(){return Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}function pe(e){return he.apply(this,arguments)}function he(){return(he=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,!navigator.permissions){e.next=14;break}return e.prev=2,e.next=5,navigator.permissions.query({name:n});case 5:return r=e.sent,e.abrupt("return","denied"===r.state);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:e.next=15;break;case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function me(e){return Object.entries(e).reduce((function(e,t){var n=(0,G.Z)(t,2),r=n[0],i=n[1];return Array.isArray(i)?i.forEach((function(t){return e+=(e?"&":"")+r+"="+t})):e+=(e?"&":"")+encodeURIComponent(r)+"="+encodeURIComponent(i),e}),"")}function ve(){var t=(0,e.useState)({audioInputDevices:[],videoInputDevices:[],audioOutputDevices:[],hasAudioInputDevices:!1,hasVideoInputDevices:!1}),n=(0,G.Z)(t,2),r=n[0],i=n[1];return(0,e.useEffect)((function(){var e=function(){return le().then((function(e){return i(e)}))};return navigator.mediaDevices.addEventListener("devicechange",e),e(),function(){navigator.mediaDevices.removeEventListener("devicechange",e)}}),[]),r}function ge(t,n){var r=(0,e.useState)((function(){var e=window.localStorage.getItem(t);return null!==e?JSON.parse(e):n})),i=(0,G.Z)(r,2),a=i[0],o=i[1];return(0,e.useEffect)((function(){window.localStorage.setItem(t,JSON.stringify(a))}),[t,a]),[a,o]}function ye(e){return"/"===e.charAt(0)}function be(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var we=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&ye(e),o=t&&ye(t),s=a||o;if(e&&ye(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var d=i[l];"."===d?be(i,l):".."===d?(be(i,l),c++):c&&(be(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&ye(i[0])||i.unshift("");var f=i.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f};function ke(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var xe=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=ke(t),i=ke(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},_e="Invariant failed";function Se(e,t){if(!e)throw new Error(_e)}function Ee(e){return"/"===e.charAt(0)?e:"/"+e}function Ce(e){return"/"===e.charAt(0)?e.substr(1):e}function Te(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Ae(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Oe(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function Re(e,t,n,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),a.state=t):(void 0===(a=(0,r.Z)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=we(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function Ie(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Ne=!("undefined"===typeof window||!window.document||!window.document.createElement);function Pe(e,t){t(window.confirm(e))}var Me="popstate",Le="hashchange";function De(){try{return window.history.state||{}}catch(e){return{}}}function Fe(e){void 0===e&&(e={}),Ne||Se(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,s=void 0!==o&&o,u=a.getUserConfirmation,c=void 0===u?Pe:u,l=a.keyLength,d=void 0===l?6:l,f=e.basename?Ae(Ee(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=Te(a,f)),Re(a,r,n)}function h(){return Math.random().toString(36).substr(2,d)}var m=Ie();function v(e){(0,r.Z)(A,e),A.length=t.length,m.notifyListeners(A.location,A.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(p(e.state))}function y(){w(p(De()))}var b=!1;function w(e){if(b)b=!1,v();else{m.confirmTransitionTo(e,"POP",c,(function(t){t?v({action:"POP",location:e}):function(e){var t=A.location,n=x.indexOf(t.key);-1===n&&(n=0);var r=x.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(b=!0,S(i))}(e)}))}}var k=p(De()),x=[k.key];function _(e){return f+Oe(e)}function S(e){t.go(e)}var E=0;function C(e){1===(E+=e)&&1===e?(window.addEventListener(Me,g),i&&window.addEventListener(Le,y)):0===E&&(window.removeEventListener(Me,g),i&&window.removeEventListener(Le,y))}var T=!1;var A={length:t.length,action:"POP",location:k,createHref:_,push:function(e,r){var i="PUSH",a=Re(e,r,h(),A.location);m.confirmTransitionTo(a,i,c,(function(e){if(e){var r=_(a),o=a.key,u=a.state;if(n)if(t.pushState({key:o,state:u},null,r),s)window.location.href=r;else{var c=x.indexOf(A.location.key),l=x.slice(0,c+1);l.push(a.key),x=l,v({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=Re(e,r,h(),A.location);m.confirmTransitionTo(a,i,c,(function(e){if(e){var r=_(a),o=a.key,u=a.state;if(n)if(t.replaceState({key:o,state:u},null,r),s)window.location.replace(r);else{var c=x.indexOf(A.location.key);-1!==c&&(x[c]=a.key),v({action:i,location:a})}else window.location.replace(r)}}))},go:S,goBack:function(){S(-1)},goForward:function(){S(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return T||(C(1),T=!0),function(){return T&&(T=!1,C(-1)),t()}},listen:function(e){var t=m.appendListener(e);return C(1),function(){C(-1),t()}}};return A}var Be="hashchange",je={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+Ce(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:Ce,decodePath:Ee},slash:{encodePath:Ee,decodePath:Ee}};function Ze(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Ve(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Ue(e){window.location.replace(Ze(window.location.href)+"#"+e)}function We(e){void 0===e&&{},Ne||Se(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,a=void 0===i?Pe:i,o=n.hashType,s=void 0===o?"slash":o,u=e.basename?Ae(Ee(e.basename)):"",c=je[s],l=c.encodePath,d=c.decodePath;function f(){var e=d(Ve());return u&&Te(e,u),Re(e)}var p=Ie();function h(e){(0,r.Z)(C,e),C.length=t.length,p.notifyListeners(C.location,C.action)}var m=!1,v=null;function g(){var e,t,n=Ve(),r=l(n);if(n!==r)Ue(r);else{var i=f(),o=C.location;if(!m&&(i,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(v===Oe(i))return;null,function(e){if(m)!1,h();else{var t="POP";p.confirmTransitionTo(e,t,a,(function(n){n?h({action:t,location:e}):function(e){var t=C.location,n=k.lastIndexOf(Oe(t));-1===n&&0;var r=k.lastIndexOf(Oe(e));-1===r&&0;var i=n-r;i&&(!0,x(i))}(e)}))}}(i)}}var y=Ve(),b=l(y);y!==b&&Ue(b);var w=f(),k=[Oe(w)];function x(e){t.go(e)}var _=0;function S(e){1===(_+=e)&&1===e?window.addEventListener(Be,g):0===_&&window.removeEventListener(Be,g)}var E=!1;var C={length:t.length,action:"POP",location:w,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&Ze(window.location.href),n+"#"+l(u+Oe(e))},push:function(e,t){var n="PUSH",r=Re(e,void 0,void 0,C.location);p.confirmTransitionTo(r,n,a,(function(e){if(e){var t=Oe(r),i=l(u+t);if(Ve()!==i){t,function(e){window.location.hash=e}(i);var a=k.lastIndexOf(Oe(C.location)),o=k.slice(0,a+1);o.push(t),o,h({action:n,location:r})}else h()}}))},replace:function(e,t){var n="REPLACE",r=Re(e,void 0,void 0,C.location);p.confirmTransitionTo(r,n,a,(function(e){if(e){var t=Oe(r),i=l(u+t);Ve()!==i&&(t,Ue(i));var a=k.indexOf(Oe(C.location));-1!==a&&(k[a]=t),h({action:n,location:r})}}))},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(e){void 0===e&&!1;var t=p.setPrompt(e);return E||(S(1),!0),function(){return E&&(!1,S(-1)),t()}},listen:function(e){var t=p.appendListener(e);return S(1),function(){S(-1),t()}}};return C}function He(e,t,n){return Math.min(Math.max(e,t),n)}function ze(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,s=void 0===o?0:o,u=t.keyLength,c=void 0===u?6:u,l=Ie();function d(e){(0,r.Z)(g,e),g.length=g.entries.length,l.notifyListeners(g.location,g.action)}function f(){return Math.random().toString(36).substr(2,c)}var p=He(s,0,a.length-1),h=a.map((function(e){return Re(e,void 0,"string"===typeof e?f():e.key||f())})),m=Oe;function v(e){var t=He(g.index+e,0,g.entries.length-1),r=g.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var g={length:h.length,action:"POP",location:h[p],index:p,entries:h,createHref:m,push:function(e,t){var r="PUSH",i=Re(e,t,f(),g.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=g.index+1,n=g.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),d({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=Re(e,t,f(),g.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(g.entries[g.index]=i,d({action:r,location:i}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=g.index+e;return t>=0&&t<g.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return g}var Ge=n(52007),qe=n.n(Ge),Ke=1073741823,Ye="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function Xe(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Qe=e.createContext||function(t,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return Ye[e]=(Ye[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=Xe(t.props.value),t}(0,O.Z)(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?t=0:(t="function"===typeof n?n(r,i):Ke,0!==(t|=0)&&this.emitter.set(e.value,t))}var a,o},r.render=function(){return this.props.children},t}(e.Component);o.childContextTypes=((r={})[a]=qe().object.isRequired,r);var s=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}(0,O.Z)(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?Ke:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?Ke:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return function(e){return Array.isArray(e)?e[0]:e}(this.props.children)(this.state.value)},n}(e.Component);return s.contextTypes=((i={})[a]=qe().object,i),{Provider:o,Consumer:s}},Je=Qe,$e=n(53813),et=n.n($e),tt=(n(28228),function(e){var t=Je();return t.displayName=e,t}),nt=tt("Router-History"),rt=tt("Router"),it=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._pendingLocation=e}))),n}(0,O.Z)(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return e.createElement(rt.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(nt.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component;var at=function(e){function t(){return e.apply(this,arguments)||this}(0,O.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(e.Component);var ot={},st=0;function ut(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(ot[e])return ot[e];var t=et().compile(e);return st<1e4&&(ot[e]=t,st++),t}(e)(t,{pretty:!0})}function ct(t){var n=t.computedMatch,i=t.to,a=t.push,o=void 0!==a&&a;return e.createElement(rt.Consumer,null,(function(t){t||Se(!1);var a=t.history,s=t.staticContext,u=o?a.push:a.replace,c=Re(n?"string"===typeof i?ut(i,n.params):(0,r.Z)({},i,{pathname:ut(i.pathname,n.params)}):i);return s?(u(c),null):e.createElement(at,{onMount:function(){u(c)},onUpdate:function(e,t){var n,i,a=Re(t.to);n=a,i=(0,r.Z)({},c,{key:a.key}),n.pathname===i.pathname&&n.search===i.search&&n.hash===i.hash&&n.key===i.key&&xe(n.state,i.state)||u(c)},to:i})}))}var lt={},dt=0;function ft(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=lt[n]||(lt[n]={});if(r[e])return r[e];var i=[],a={regexp:et()(e,i,t),keys:i};return dt<1e4&&(r[e]=a,dt++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],d=u.slice(1),f=e===l;return a&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:o.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var pt=function(t){function n(){return t.apply(this,arguments)||this}return(0,O.Z)(n,t),n.prototype.render=function(){var t=this;return e.createElement(rt.Consumer,null,(function(n){n||Se(!1);var i=t.props.location||n.location,a=t.props.computedMatch?t.props.computedMatch:t.props.path?ft(i.pathname,t.props):n.match,o=(0,r.Z)({},n,{location:i,match:a}),s=t.props,u=s.children,c=s.component,l=s.render;return Array.isArray(u)&&function(t){return 0===e.Children.count(t)}(u)&&(u=null),e.createElement(rt.Provider,{value:o},o.match?u?"function"===typeof u?u(o):u:c?e.createElement(c,o):l?l(o):null:"function"===typeof u?u(o):null)}))},n}(e.Component);function ht(e){return"/"===e.charAt(0)?e:"/"+e}function mt(e,t){if(!e)return t;var n=ht(e);return 0!==t.pathname.indexOf(n)?t:(0,r.Z)({},t,{pathname:t.pathname.substr(n.length)})}function vt(e){return"string"===typeof e?e:Oe(e)}function gt(e){return function(){Se(!1)}}function yt(){}e.Component;var bt=function(t){function n(){return t.apply(this,arguments)||this}return(0,O.Z)(n,t),n.prototype.render=function(){var t=this;return e.createElement(rt.Consumer,null,(function(n){n||Se(!1);var i,a,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==a&&e.isValidElement(t)){i=t;var s=t.props.path||t.props.from;a=s?ft(o.pathname,(0,r.Z)({},t.props,{path:s})):n.match}})),a?e.cloneElement(i,{location:o,computedMatch:a}):null}))},n}(e.Component);var wt=e.useContext;function kt(){return wt(nt)}function xt(){return wt(rt).location}function _t(){var e=wt(rt).match;return e?e.params:{}}function St(e,t){return function(e,t){return fetch("".concat(oe,"/partners/auth"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e,password:t})})}(e,t).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,401!==t.status){e.next=5;break}return e.abrupt("return",{isValid:!1,error:n.message});case 5:if(422!==t.status){e.next=7;break}return e.abrupt("return",{isValid:!1,error:"Incorrect email or password."});case 7:if(!n.message){e.next=9;break}return e.abrupt("return",{isValid:!1,error:n.message});case 9:if(!t.ok||!n.authToken){e.next=11;break}return e.abrupt("return",{isValid:!0,id:n.id,fullName:"".concat(n.firstName," ").concat(n.familyName),firstName:n.firstName,familyName:n.familyName,authToken:n.authToken.id,profilePicture:n.userDetail.pictureUrl,numberOfSessions:n.numberOfSessions,numberOfRatedSessions:n.numberOfRatedSessions,areas:n.areas,partnerRating:n.partnerRatingRecap.average});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function Et(e){switch(e){case"passcode incorrect":return"Passcode is incorrect";case"passcode expired":return"Passcode has expired";default:return e}}function Ct(){var t=kt(),n=(0,e.useState)(null),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=(0,e.useState)(!1),s=(0,G.Z)(o,2),u=s[0],c=s[1],l=(0,e.useCallback)((function(e,t){return function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i="".concat(oe,"/").concat(r?"partners":"users","/").concat(e,"/bookings/").concat(t);return fetch(i,{method:"GET",headers:{"content-type":"application/json",auth_token:n}})}(i.id,e,i.authToken,t).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,t.json();case 4:throw n=e.sent,r=Et(n.message||t.statusText),Error(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e.json()}))}),[i]),d=(0,e.useCallback)(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/recordingrules",{headers:{"Content-Type":"application/json"},body:JSON.stringify({room_sid:t,rules:n,passcode:null===i||void 0===i?void 0:i.authToken}),method:"POST"}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error updating recording rules")).code=null===(i=n.error)||void 0===i?void 0:i.code,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[i]),f=(0,e.useCallback)(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(oe,"/partners/").concat(null===i||void 0===i?void 0:i.id,"/bookings").concat(t&&Object.keys(t).length?"?"+t.toQueryString(t):""),e.abrupt("return",fetch(n,{headers:{"Content-Type":"application/json",auth_token:i.authToken}}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error getting bokings")).code=null===(i=n.error)||void 0===i?void 0:i.code,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),p=(0,e.useCallback)((0,K.Z)((0,q.Z)().mark((function e(){var t,n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"(status==HAS_A_PARTNER);status!=*CANCELLED*;status!=UNKNOWN",t={size:300,sort:"startTime,asc",filter:"(status==HAS_A_PARTNER);status!=*CANCELLED*;status!=UNKNOWN"},n="".concat(oe,"/partners/").concat(null===i||void 0===i?void 0:i.id,"/bookings?").concat(me(t)),e.abrupt("return",fetch(n,{headers:{"Content-Type":"application/json",auth_token:i.authToken}}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error getting bokings")).code=null===(i=n.error)||void 0===i?void 0:i.code,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)}))),[i]),h=(0,e.useCallback)((0,K.Z)((0,q.Z)().mark((function e(){var t,n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"(status==IN_PROGRESS);status!=*CANCELLED*;status!=UNKNOWN",t={size:1,sort:"startTime,desc",filter:"(status==IN_PROGRESS);status!=*CANCELLED*;status!=UNKNOWN"},n="".concat(oe,"/partners/").concat(null===i||void 0===i?void 0:i.id,"/bookings?").concat(me(t)),e.abrupt("return",fetch(n,{headers:{"Content-Type":"application/json",auth_token:i.authToken}}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error getting bokings")).code=null===(i=n.error)||void 0===i?void 0:i.code,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)}))),[i]);(0,e.useEffect)((function(){var e=function(){var e=window.location.search.match(/email=(.*)&?/);return e?e[1]:window.sessionStorage.getItem("email")}(),n=function(){var e=window.location.search.match(/password=(.*)&?/);return e?e[1]:window.sessionStorage.getItem("password")}();e&&n?St(e,n).then((function(r){null!==r&&void 0!==r&&r.isValid&&(a({id:r.id,authToken:r.authToken,displayName:r.fullName,firstName:r.firstName,familyName:r.familyName,photoURL:r.profilePicture,numberOfSessions:r.numberOfSessions,numberOfRatedSessions:r.numberOfSessions,areas:r.areas,partnerRating:r.partnerRating}),window.sessionStorage.setItem("email",e),window.sessionStorage.setItem("password",n),t.replace(window.location.pathname))})).then((function(){return c(!0)})):c(!0)}),[t]);var m=(0,e.useCallback)((function(e,t){return St(e,t).then((function(n){if(null===n||void 0===n||!n.isValid)throw new Error(Et(null===n||void 0===n?void 0:n.error));a({id:n.id,authToken:n.authToken,displayName:n.fullName,firstName:n.firstName,familyName:n.familyName,photoURL:n.profilePicture,numberOfSessions:n.numberOfSessions,numberOfRatedSessions:n.numberOfRatedSessions,areas:n.areas,partnerRating:n.partnerRating}),window.sessionStorage.setItem("userId",n.id),window.sessionStorage.setItem("auth_token",n.authToken),window.sessionStorage.setItem("email",e),window.sessionStorage.setItem("password",t)}))}),[]),v=(0,e.useCallback)((function(){return a(null),window.sessionStorage.removeItem("passcode"),window.sessionStorage.removeItem("userId"),window.sessionStorage.removeItem("auth_token"),window.sessionStorage.removeItem("email"),window.sessionStorage.removeItem("password"),Promise.resolve()}),[]);return{user:i,isAuthReady:u,getBooking:l,getBookings:f,getUpcomingBookings:p,getInProgressBookings:h,signIn:m,signOut:v,updateRecordingRules:d}}var Tt=(0,e.createContext)(null);function At(t){var n=(0,e.useState)(null),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=(0,e.useState)(!1),s=(0,G.Z)(o,2),u=s[0],c=s[1],l=ge("gallery-view-active-key",!0),d=(0,G.Z)(l,2),f=d[0],p=d[1],h=function(){var t=ve().audioOutputDevices,n=(0,e.useState)("default"),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=(0,e.useCallback)((function(e){window.localStorage.setItem(ne,e),a(e)}),[]);return(0,e.useEffect)((function(){var e=window.localStorage.getItem(ne);t.some((function(t){return e&&t.deviceId===e}))&&a(e)}),[t]),[i,o]}(),m=(0,G.Z)(h,2),v=m[0],g=m[1],y=(0,e.useReducer)($,Q),b=(0,G.Z)(y,2),w=b[0],k=b[1],x=(0,e.useState)(),_=(0,G.Z)(x,2),S=_[0],E=(_[1],(0,e.useState)("")),C=(0,G.Z)(E,2),T=(C[0],C[1],(0,e.useState)()),A=(0,G.Z)(T,2),O=A[0],R=A[1],I=(0,e.useState)([]),N=(0,G.Z)(I,2),P=N[0],M=(N[1],(0,e.useState)([])),L=(0,G.Z)(M,2),D=L[0],F=L[1],B=(0,e.useState)([]),j=(0,G.Z)(B,2),Z=j[0],V=j[1],U=ge("max-gallery-participants-key",6),W=(0,G.Z)(U,2),H=W[0],z=W[1],Y={error:i,setError:a,isFetching:u,activeSinkId:v,setActiveSinkId:g,booking:O,bookings:P,upcomingBookings:D,inProgressBookings:Z,settings:w,dispatchSetting:k,roomType:S,isGalleryViewActive:f,setIsGalleryViewActive:p,maxGalleryViewParticipants:H,setMaxGalleryViewParticipants:z};Y=X(X(X({},Y),Ct()),{},{updatePartnerCoverage:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r,i;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(oe,"/partners/").concat(t,"/coverage"),i=window.sessionStorage.getItem("auth_token")||"",e.abrupt("return",fetch(r,{headers:{"Content-Type":"application/json",auth_token:i},body:JSON.stringify({areas:n}),method:"POST"}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error updating partner coverage")).code=null===(i=n.error)||void 0===i?void 0:i.code,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),runningLate:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r,i;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(oe,"/partners/").concat(t,"/bookings/").concat(n,"/running-late"),i=window.sessionStorage.getItem("auth_token")||"",e.abrupt("return",fetch(r,{headers:{"Content-Type":"application/json",auth_token:i},body:JSON.stringify({delayInMinutes:"15"}),method:"POST"}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error fetching running late")).code=null===(i=n.error)||void 0===i?void 0:i.message,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rateCustomer:function(e,t,n,r,i,o,s){var u="".concat(oe,"/partners/").concat(e,"/bookings/").concat(t,"/user-rating"),c=window.sessionStorage.getItem("auth_token")||"";return fetch(u,{headers:{"Content-Type":"application/json",auth_token:c},body:JSON.stringify({strengthRating:n,enduranceRating:r,fitnessRating:i,overallExperienceRating:o,comment:s}),method:"POST"}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error setting customer rating")).code=null===(i=n.error)||void 0===i?void 0:i.message,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)}))},startSession:function(e,t){var n="".concat(oe,"/partners/").concat(e,"/bookings/").concat(t,"/session"),r=window.sessionStorage.getItem("auth_token")||"";return fetch(n,{headers:{"Content-Type":"application/json",auth_token:r},method:"POST"}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error starting a session")).code=null===(i=n.error)||void 0===i?void 0:i.message,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)}))},stopSession:function(e,t){var n="".concat(oe,"/partners/").concat(e,"/bookings/").concat(t,"/session/stop"),r=window.sessionStorage.getItem("auth_token")||"";return fetch(n,{headers:{"Content-Type":"application/json",auth_token:r},method:"POST"}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error stopping a session")).code=null===(i=n.error)||void 0===i?void 0:i.message,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)}))},declineSession:function(e,t){var n="".concat(oe,"/partners/").concat(e,"/bookings/").concat(t,"/session-declined"),r=window.sessionStorage.getItem("auth_token")||"";return fetch(n,{headers:{"Content-Type":"application/json",auth_token:r},method:"POST"}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error declining a session")).code=null===(i=n.error)||void 0===i?void 0:i.message,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)}))},cancelSession:function(e,t){var n="".concat(oe,"/partners/").concat(e,"/bookings/").concat(t,"/cancellation"),r=window.sessionStorage.getItem("auth_token")||"";return fetch(n,{headers:{"Content-Type":"application/json",auth_token:r},method:"POST"}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error cancelling a session")).code=null===(i=n.error)||void 0===i?void 0:i.message,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)}))}});return e.createElement(Tt.Provider,{value:X(X({},Y),{},{getUpcomingBookings:function(e){return c(!0),Y.getUpcomingBookings(e).then((function(e){return F(e.content),c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))},getInProgressBookings:function(e){return c(!0),Y.getInProgressBookings(e).then((function(e){return V(e.content),c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))},getBooking:function(e,t){return c(!0),Y.getBooking(e,t).then((function(e){return R(e),c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))},updatePartnerCoverage:function(e,t){return c(!0),Y.updatePartnerCoverage(e,t).then((function(e){return c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))},runningLate:function(e,t){return c(!0),Y.runningLate(e,t).then((function(e){return c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))},rateCustomer:function(e,t,n,r,i,o,s){return c(!0),Y.rateCustomer(e,t,n,r,i,o,s).then((function(e){return c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))},startSession:function(e,t){return c(!0),Y.startSession(e,t).then((function(e){return R(e),c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))},stopSession:function(e,t){return c(!0),Y.stopSession(e,t).then((function(e){return R(e),c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))},declineSession:function(e,t){return c(!0),Y.declineSession(e,t).then((function(e){return c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))},cancelSession:function(e,t){return c(!0),Y.cancelSession(e,t).then((function(e){return c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))}})},t.children)}function Ot(){var t=(0,e.useContext)(Tt);if(!t)throw new Error("useAppState must be used within the AppStateProvider");return t}var Rt=(0,e.createContext)(null);function It(){var t=(0,e.useContext)(Rt),n=(0,G.Z)(t,2);return[n[0],n[1]]}function Nt(t){var n=t.room,r=t.children,i=Ot().isGalleryViewActive,a=(0,e.useState)(null),o=(0,G.Z)(a,2),s=o[0],u=o[1];return(0,e.useEffect)((function(){i&&u(null)}),[i]),(0,e.useEffect)((function(){if(n){var e=function(){return u(null)},t=function(e){return u((function(t){return t===e?null:t}))};return n.on("disconnected",e),n.on("participantDisconnected",t),function(){n.off("disconnected",e),n.off("participantDisconnected",t)}}}),[n]),e.createElement(Rt.Provider,{value:[s,function(e){return u((function(t){return t===e?null:e}))}]},r)}function Pt(){var t=on(),n=t.room,r=t.localTracks,i=t.getLocalVideoTrack,a=t.removeLocalVideoTrack,o=t.onError,s=null===n||void 0===n?void 0:n.localParticipant,u=r.find((function(e){return!e.name.includes("screen")&&"video"===e.kind})),c=(0,e.useState)(!1),l=(0,G.Z)(c,2),d=l[0],f=l[1],p=(0,e.useCallback)((function(){if(!d)if(u){var e=null===s||void 0===s?void 0:s.unpublishTrack(u);null===s||void 0===s||s.emit("trackUnpublished",e),a()}else f(!0),i().then((function(e){return null===s||void 0===s?void 0:s.publishTrack(e,{priority:"low"})})).catch(o).finally((function(){f(!1)}))}),[u,s,i,d,o,a]);return[!!u,p]}function Mt(){var t=on().room,n=Pt(),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=(0,e.useRef)(!1);return(0,e.useEffect)((function(){if(t&&ue){var e=function(){"hidden"===document.visibilityState&&i?(o.current=!0,a()):o.current&&(o.current=!1,a())};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}}),[i,t,a]),null}var Lt,Dt,Ft=n(29660),Bt=n.p+"static/media/Abstract.bf969afca331e21b140d.jpg",jt=n.p+"static/media/BohoHome.818cfc89cb7167d21951.jpg",Zt=n.p+"static/media/BohoHome.94b66110ce80612bc57e.jpg",Vt=n.p+"static/media/Bookshelf.15f8b4304faf2043e21d.jpg",Ut=n.p+"static/media/Bookshelf.1791e55a43e46dcebf10.jpg",Wt=n.p+"static/media/CoffeeShop.9db4d4d3cef4a2a751b0.jpg",Ht=n.p+"static/media/CoffeeShop.0bc87a8a29fb60864759.jpg",zt=n.p+"static/media/Contemporary.a1dba84b2c559086477f.jpg",Gt=n.p+"static/media/Contemporary.cf81b0403bccc42b006d.jpg",qt=n.p+"static/media/CozyHome.060c2b098dcbba6b290c.jpg",Kt=["data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGgAAAgMBAQAAAAAAAAAAAAAAAwQBAgUABv/EADYQAAICAQMDAwIEBQMFAQEAAAECAAMRBBIhBTFBEyJRYXEUMoGRBiNCocFSsdEVM2Jy4STw/8QAGgEAAgMBAQAAAAAAAAAAAAAAAwQBAgUABv/EACcRAAICAgICAQUBAAMAAAAAAAECABEDIQQSMUEiBRMyUWEUcZGx/9oADAMBAAIRAxEAPwD1lVRsJA8dzNEKFrCqPywGhXCvnvkCMsJfI26gOPj+NxO6pclk4PlfiH0jA0gDuCZFihjnyPMtWypUpxyMgyGyAJLY8J+7qXdjjHHJ7xe1B/TzzJtYkj6QgXaoA7952PQudlHclf1BejhMtwZUIYWwkKc8wQY4hVa4rlxhBqRjEkSQC3YEztpB5BEJASQJ0txgysidOnScThjHedOnYnSNw+ZPccSCaEui9jUlfM44x7u0lDzgyWRW7jtF8j2Cq1f9j+HAVp2uh+pRcFTg5xJxICBBhRgSZfArKgDGL8l1dyyirnTp06Gi0idiTOnTp2JEmdidOkY4zIlyCRiT6Z+s65IUnxBzsSSJ2J0icq7jiM1jCbexgEyM47y9bknmAyGPcYAb9y7MBmDNnjkmQ7EOZQhj9BJCD3IfMRYE52JQ85PAMGF8xhK12bs5B4IlCqr3Mt3A1KfaZvkZOkVlDhu8K3Esq7Rk8fSQzKwMUdu00MadBUAWyZRidpUHGZVzhv1htMq2WjeMgDOJAployTatYgFZuVPcRmoO4Zm8jiGe3BwowPpKi0yUYKAp3K5MbMxcauV2A/n/AGlAo5yFwPpCAIzEk8RTVNh/5ZIGI2pHqZ+UNW4yLQowAAIN7NwMCgLp35khSODCxSyZZXycYlpTOCoHzLbp04GcWwyj5lWPJlhkrkYxIC73APA8yCQBZkhSxoe5SuprSTnao7mF9WmkYGT9SYvqtWK12pwOwESV3sbvE+75wSviagTFw6D7aaq3VP2EuGVhgHP3mfUjq4Awc8YjIrtXO4A47EGBYFDcbRhkFejDHk4ltgX85x9BAJaSQCJewEjIIwZD8tiKxDcqnBQMWynUKVQrlZScpKriSOY5g79LfzM/lfa71j8SJHaWMop4JMPE5I5kyFO48Sw44nSRuWXjgd5YsqfUyDhFOO5lNvzyYLzGgSooSS24kyD25nAZlgoYTiQJKKWlO3IllOBmds+Jx/LIsMJYBsZIliAx5lL+NoHYCWXkZMHa2T9pyXc7L16WPJg8n5lTJkQ0RsxpnDZGMfXMqAGH5sQakgngHMGzEMRMLv7M9R09CTanu75lk3eoNnjuZygFOTyZfeEUKO0dxUREstg6liTz7h+kqDnvKNZtcCUNmWl6UHQguzkbMPvwYvcu7nMtu4i/qnawhEJuAygVRhg4X9JBfngxKm1rGI+YasWADcOceDGRUzbJ8RlLCQciSWB8QQbC4xiCe7aZYCULV5jIdQuN0gXqjHzxEbbtw9vJ+JevT22DdYdg+PMhgCKMlHYN2X1F9ZqMvkAc8SiakVrhOT5PzHGo04/ON5H+owF7Uop2KqzlQKKEnJlbIxdjuX0N5t1yqXC4558/SbDe78pxPHX6vZYrIxDK3cTd0XU/xOnG/hx58GZ3LKqdzb+nFmSaWxSfcwB+kv6aMv5jxM19Rhsw9F5Yd4gmWmsCaj4wy0TCXE14xOSzPY5lnX1CpBGPMha1UnHE2sT2u553kY6yfHcl2wYFlLg7XIInWvhwG4BlRaMnEMP5FGBujDUZC+4YMtvwe0DvwB+8s7jmcRc4GhCF+Qc95dm9x+0XLDz4hgm5QwB3Sp1DISwIlvA/vLAHHbxA5YEbsiEFmSfmCYajWNqMIp55nFc9pBbn9JwPEEDUZI7eZDe0QDHMZPI5BMr6YZfy4MIrgeYtlxM3iL4lgqgZOTC+jx2J/WVNXPuBHxmWLiDXAR6uDI85lCQOTzKCzI+0DbbzjMybAFiblEmF9Uk/En1QDzFvWUHvKtcG4B5hMbQTiPC1TzkS+5VGWA5+RFdPWQxZxwB5gX1Pq3nHYRlbMVchBcdYqRxxAGr3E7v7TkfIl9y4zn9Y2qgTMfKzxQUtVuPfJ8SwLnk5xDlhjgyjvuXAODLdQTcF36ioF7tveXrdLMBgDmLsodz6jHPxLqK07HJ+TLgQDPcMQunO8Acf2ladX62Rk/f5lbLldCDzmJ23GvG1gvPGZPW5AzFBQjliCxTlhn57TN1PTrmOa7jj4MYGoFnJ4PkZlWsC857zgCJVyrzEv01lNn83PJ8zZo1ATTYHA4EpqVF2nYEZJESrv39I3j8yEZ/2iHMQFCZs/TcnVggmutpOMGOaZTY4XOB5mFpNaCByOO819LrFH0M88WHbZ1PThdTWACr9BAW6gKuR84la9SGPeU1NReo+nz9Pian+r7uIqPPqZg4gw5e969w1TrcNrnIPgxRydHqHRiSvgwNdGuVxtqOPqRHLtPZY6vtywGDzGOEcvh1qK88YSvZW3/Jaqs2MMnAAhWpRHDFi3wDA1pcp/I37S9wtKDYjEzTmIP8AiXrC+sWyD9PiMi4GZukWxdz3KVcnhSfEYfON6/qIBruPYSAsYa0E7cZzLejWeVzn7xJ7lTZknLQqWMBnORBkmHQAncYCrk55ltwHbAgEsyCfMsriCuMAQhZh5nCzPfiV357SmCzcD95Qt+pdR+4Ukk8HiDsyckE4HiXCEDOcn4gFswDnzIuvMtV+Jnert4ieosbLuD7VHPEugL8twIr1LVBU9CsjPdv+ImNjcOdGcuo5l9LrUr1WXVmHjHiJ1Vvb7mO1B5hKlFjFaFzju5kK5vU4rrc0tZ1atKSqZyYrRYfRDfPJgreneohyzbvGO0DVaV3UuMMvGI7iJuzM7kVWpqJqVxljgHx8zrM2LkW9+3xMm6xt/wDLySowMSNPqrVrAsBDDiPqQZj5GKmjNIuaTj1CYXT2G5jxwO5gq9DZYA92VHhR3Merq9KvCgA+B8f/AGFECLJ34i/UttWiss8oN085f1S7aPTOMnGB3m51Nl/A+mx3ZYK3/EU0fS0q1BuAyCPYD/T8wqkAbiedWyZKU0PcyWPUrnVQty7vJyABHNPpfTc7yXYd2abNjbKs/WLko+dyj7iDbNWjD4+BrsNxXVXiqnhQRFtJ1B7rhUa9yntNdem1aqo+qDtPbBwYerQiilUqsB2DAJX/AIlwwqDbBk72DqLpS44AJx5MpT0YIbPdhLM5T7yms19uhybdmB5zDaLqtWrrBRxz4g2UMNxvFl6NSnczbv4f1On509gsX47GTpxq/TdlrJNRwy/1D9Jui4AfSL3OFt9as7X7H6j4MyOR9NxuLSb3G+qZAeuT/uJ6TqW44wQR8zXovLICfMR9OnXn2AJb5wI09FtKe1SVA7gQH0/j/bysX9eI19SzF8ICe/MYfUlR3nJqifMyX1LPcFzjHeG9XaPacz0AnliZqDU894v1Dqy6Slfdyxxn/EXp1Kk894DqFldmooUhWKHfz4MhiFl1DOCAYwmtsLAkEgn943+JAqw3duwgNO49QAgYxA9dBo0a30sUy21sePtAE3GkUqDDPq6KCGtYM4/KPP6CW02sZzlhjJ7Tz2nsRTuZizHuSeTNWm1VGB+sozACofErMewM2Ecc4kbiB8xFL8Anx2EoNS3pcHnBH7RUC73HmfqRqai2Y7wq2/WYI1TWKAxOT9ZpU2Myjd3gX+PuGxN39R9bIHUDL5Xz3kBjxJcEjjyZBNrUIBTTHbcx2p3+Ynd0/wBJ/UsfKnv8kx1LVXO7j6xbV3i4gAe1efvFMY1Zhn/Qi53amwU1jag7/QTTopSqsKi4UeYpS6U0s5HA5gqNXZq0DOeG7AdhzCqwU/2DYEj+TRdwRhOfrFX03q2kvWCyjI+sugsyQCApHxHNPlj78bgO4hwTAlQdRajT0L71rGT5Mbqqrdgdq8cjiVt068sOD9ICuyyl8jBHxCY8hvcFlwjqaj+eMBeYprb2oAAUnd3Ih9NrKdXWXpcHacMPKn4IldQFapg3PE01YGYWTGaNTNazT6ikg+TnDHHMZ0i7tJ5zyOfmZeoTaDt4JM0enbhocN35xCHxE8RvJREwOvdVei9Ur4RBy2e7fEzum9R1+r1tatbtrdwuNg7S38UgVdRZH4qIFn7/AP2A6BdZfqfXsUoK2BrT6SvrYkEt3NGe/VwiYA4A7TvUBPjmC3e3jyOJTcVPMgmjHFUkGY3WunnqXVErscrp61ywXux/wI1TVTQgrrVVCjjAgtfYwvLDz8wWns9Q5Hcnbz5gMjUCTGuPjBYUNxpGtLN6Su/0UZjnT+mX65y1yvTTnncME/aamhrSkilO6jn7/M0N21Yj/oKjRmwOKjnYg6tLRpQBVWqgDGQOf3lbLAeMyLHJHBiV9grDOx/KMxP/AEHtHjhHWotrtKupUsmEu8N8zzj622qxqnUq6nBBnoqtQLVmb1XTLq8X0gF1O1vqPma/Fzh9Tz31HikDuvmK1aj01LMe8X/FNd1EfGOJr6ToKXaYfindWPhSOIvqemroNQiHDDur45jOTcQ44K+RH6nxtx37TI/ijquWTRVtynvsPwfAh9R1Fem9Ot1VmCV4QfJ8CeU0/qay1r7SSWbJJ8mAuo2R20I9oHJtycn4m9pktYZ2nHzM3R7Kf6eZq0aksOMyPtFtkyV5Ix/FRD5Y4Xt4jlvTW4ZWIHxj6YiZsyRmbWl1S2VDPDDuIuydNR/E4yi5kUadaMDO9h3MfpMcKU25DKPvFbqDSCVOV8GIurA9ruPoVrqBUOG5lmb2gCJ12e7J8CHRgxGTIXJYlilTCtu4/WUDHOcAxzVdPQV5UkH7zMZnofD8DwYsofEfl4hCVcajpCvp2DDg95Og0+2hQBxjEXWz1iK1PfvNWgEABR2jCUx7QTWBUstWV7RjT17T7vtLKAq5cgSRYD+WMQUs+nPOIrqUSqos5Cjt+vxG0tsCkEcDtmY/Ww9qKST7TwPrIBANSHB6kzz7s9er1OxmrsFhJwcdzC9G1upt1betdZYC5RUZicCOX0JqtMNSoxYR7vqYrpFNOoWxR2IM0cTArU8/yMTK/b1NZtMXaNVqETAHA4h0CWJvQggyNn7RntYgFxdWsTyf8Y1KdRpHYcEMD+/H+YnRZVXUCDgDz5m71qivqAathlQMA/5nmun6F1ssrcZ2yA1ioPJi6ZO/m567pupGo0CMGDFeMwl1vvAER6Tpl0Oga6+wViw4UHzzLX2qmWMHonzHFJCbHmZ/W9Qa7AFzyM8Q3T6m9eh7cqWdcL8feRTQmtv/ABN3/Z0/j/U3gfpD6S31upVsQQBl/sJm8zOFPUTY4GAle5E9Joj/APtufxtAhruoaep9llqq3wTFdO+yp2PBJmfqOnvr6WuVsMWypmY+SqWa6r7j13VFYgacb+e/iKa6wnT7XPusIPHwITS6MaavLnJ+YjdqfVuLE+3so+kJhx92s+IPK/VZSsCg7q3OfKnzJ0TtbqGAXCA8/eKaqzYQa+RnBEd6cLApbOB8Tawog2oqYnJyP+JNzYrU47xLrdR/CLYO9bf78f8AEutzg9xG0IupZXAII7RkkRIITYE8p1HQHqa0abbYy1+87B57cxvpnQXoJW6tBXgbQcZmqNSiICzhF+uBLJrKD2uU/Y5k0IEC/Jgf+h6UqcIV+zGI6rSvoHG07q2OA3x95tLqEYe05i+uUXaK0f8AiSPuJFS58fGJ1t6i5MPXaKyJmaXUZr7+I9Sw9PcfMhsYYSMWc4z/AGaVDm1srz8x9a9yFXwQZmdLYN6uODkcTTRpmFQjEGb6MciBom2iZP6x+0lFCnB7iN2NjB/SL3qOGEXfGq7WMKxOjFNacbV+eZl63Smyhmr/ADDnHzNDXMfxJHgASKxuEqaclTIHxozO6fQV9zd5sUkAQP4Mg7k4+ksK7AuAMZnLaCqnGmNxj1U/KfcfiEFm1fYgEHp6FXGe5jY2AYUnP2hFJMoRUHW/uAscAt8nzB63TrYgXvg5ljp82+q3AHPMVu19x1QooQAEgBiM7s/4hVxlxqBfMuL8vcEul2IwxwTMyykafWsnZWG4Z/vPSisjCtySO4nk/wCLNYadbSmnG5qwS+Pr4/tL8ZX71F+e+NMJdpe/Vvp7FZHZApySp7j4g36vbqLFrV2bnP6D6TDPUdW45pI+81P4dqN+r3XABiMYmiQRuYSZxkPVTNOu31KzZjHxO0/TxUj22Dl+AIeypa7lrQcJ3Eav2rSi59/x8CLcljjwsw8zR4qjNnVWGhMfX0Xau5T2UABQOwEX1Oi1N7V1A7c/mf4E37ECoti907/UQFtnqHPb7Tzycl8WQvfmelfjJkQJWhEvwwSmrT1KxrU4VfLn5M3ND0+rTe/aDYRgtFtKoa8N32iaIsAEqjdiXbzC9eo6jxK21I6sCMZGOIHSWLpw1BPGcpn/AGhXsB7TN1TkEn9pV26nsJYCxUr/ABDqrKOkal6T79hCkeCfM8t0vri6zSFLCBfVw6/5mtrOpK6tXbkEefBnm+nfw0df1x9VVeadOvDhR+c/A+kY4WQvk6rA8kKmIs8169SNTYFXnJE9Dpq8VDwItoujaTRAemucfJyf3jNjNjCgceDPR9Sq0J5rurvZ8Q/sXgcn6Rihv5TMO2DM6k2lv5mAPgDOY8rbqyoG1cQSk9qjT0FLTG6tobbdGqVgkEHt3Bgum6Yqo3ZB+s9FsAQAxPU1JXaGLBS/1jg1cxyoNE+pausYguo3ijp9xJGdhx+0sACv/dH7xLqGmS+o1m3cT2AMkAE7lXcqp6ieZ6dqLG05tdiAeB+k9MhIaqvwEyYg2i/DVV1VkKq4HbJM08Aup+OJZtCL4QbIMa6e3pOT/q7zVrYEZEyNNwTmP1MR2nn8pKuQZ7HCAcYI/UdYepWR5ibsdhUxiuyRbWrAnHMj8xYl/wATuZ+vTFquBwwxKafO7mP6in1qSo4PcfeL0Vgrz3giCr3+5YfJYdCDCbN0hFVQMsIdGqA5dY0ilhoQDOq+TB11FW+RCfiawcBP1kW6hQu2vJPyYrHcWAVbCZvI5ZBrGYLqN1ty+ljYjd8eZnujEqQSCvY55mo670+0B6OfEYVQNCZ+Qs57ExK2zU2Lhr7CP/aZ9mjBySJuCj6Qb6b6S4oeIB0L/luedbR5eEFTUkOpKsvYiar6Q7uB3jNXS0dc2k/YcQeXMuMfKW43CfKx6CZWj1jvqVFuGLMOfM0GBe8ue5jFfStNVYHVTuHbJjIqrAxiYfNzDPSqdCen+ncVuMCX2TFk9yc9opZ7bm44mn6JYYUZnDpqMCXJLfSZjYmYamsHA8zO09oR2zxkQv4ocgHmEt6eiHKkgj+8XOhUZYsT9O0H1ddS9qdwqOSMk5iWvu2Dgyj6hg+ysHOcYEZboramn+dcwb/wHacqtl0sqxCbaeP1uuq1V11Y9rocGOfwzbqU0NyJUzlbDz2B4ER1/wDCfUKP4gUUfzE1D+2wDgfIb9J7nS9E/B6autCFCLgDGf1M1OJjOF7inKZcmPqNzEfqPUKD/N0DFflLAZ3/AFwL/wBzS6n7bBNPqFd+nXdYuVH9Q5H/AMiVbraeVwZr9wR5mN9sqdf+SaOuV2HCaK8/cgf5jv47ULV6iaPCDlsvkj9JGn0gJycfoJpVUqEOe2O0qrgHUs2NmHynn9R1+5ltakKFqIDORn74Ezq+ofi9QXsusfHHI4mhT09dPotbRkkLvBbyeM5/2nlz1rU9N1j1Giuqqrtu9zWfB+gMdWYubRs+J6TczcKGIxDaKxKLD6yY3cBz4iHSf4kbWKPW0DrnuUYEf3m8KqdSntyD8ES5NeYJE7bQ3KWVKxUggjvmT6WAYMaf0AyrmWWwhcfM4mxLKKMKoI5HfzHaDuxg4meLCMxyv2qJj88BSGm/9NZmUr6EeVSvJ7yd2ODFheQBk5EutgcjESGQeBNIofcZOAInkCxsfMsbiT7eZaqrOSZLHvQEgDr5lwgdJTYfiNV1YWX/AJa8OwU/WO4S6/jE86Y3HziMgy9zqbGK9vEHNUbEwG0SBLowU88g94wKVcZUgiKyQSOxxOInK1eYZqfsZRqsiXS//X+4h1Nbc71/fEr4hAA3iIqgU5IhAPgwtygt7SCPkQBDA4AnnuXkZspuen4eJceEASTn7yyVlu/EuqbeT3lliwG9xu/1LBFAwJIx2zA2WkcLzKpYWOMYli4upAU1ctcgIMRvGxWmgctEtYhZtogsg1cuv6meF9P0Hxn+ZuM1qXFqbl+0S1NPsUdgpEe0K7aWJORmX42iRB5d7hW2VncR7jBm1ifpBWuS5MGt+DgxjM/U1BY1sXGt6shDgEH5mTrenDSbr9PW9lfc1ryR9vpNAOGhUeUV70ZYr+pi6XqtbDioj/2jLdQaz2IMk9gJGv6Wnr/iK8qrfnUfPzC6emqhe3J8DkmaeFe2zM3M3TQlPR9DR2F+Wfv9SZ5T+IuloH0dhGH5T7jv/wD33nrL7qq33aiwbh+WpeSP0mT1Ss6yi2+0CtaqyUB/pxzmaOM0QZi8lQyFfcR0enSmsYxn47ZnounV+ogDADieM6Xrt9JFjZsPkz0nTOrJVWv4gFQOx+YTIvbRivGyrjA66moyDnjkHGYBqAW3DgwtHU9Nqb/TTO4+ccQt1R/oBY/Ag+wQbMb6/eb4iZzghhn5jgbaADBLorGObTtweAIf8OSO8xedk+4QF9Tc4OI4lJb3KB+RCI21ww7ZkLp/ky+zb2md1YbM0bBn/9k=",Zt,Ut,Ht,Gt,n.p+"static/media/CozyHome.2358a4e41e509121f63b.jpg","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAQIAAwQFBgf/xAA8EAACAQMCBQIDAwoFBQAAAAAAAQIDERIEEyExQVFhBXEGIoEUkaEjQkNEUoKxwdHwFTIzkuFicnOD8f/EABoBAQEBAQEBAQAAAAAAAAAAAAABAgQFAwb/xAAoEQEAAgIBAgUEAwEAAAAAAAAAARECAxIEIQUTMVFSFDJBkUJhcYH/2gAMAwEAAhEDEQA/APqKt2A0hrCtcTqhwE4BysHEmDNIVyuK4sZwsS3AIrxVuIuK7DuAtmVkMETBBsyWAXAmA1iWYC4AwH4kuwUTbJtjXJdgou2DbHuyXYOxNsm2xsmTJgJg0FXQ2TJdhQuw37htJkxlbkRQXsS3gnzdg/N2ACXglvA1mFR8hSfQiduhaoB2yWtKcU+gHSNKphVIltRiybQyoxNapW6EUYrmiWvFmVBdBvs9+aNCUegysLajEGu6IkMpIPysWxRcWBxHxXRhxFrShpksy7AGBbZ4qbExLtth2xZxlnwQNs0bRNstpwZ8AYmjCxMELTgz4AwNSp9mHa8E5LwljwJgbVRQNgcl8uWPbJtPsbVTsHBdhyPLYdmXYG2zoqHAjpJrkicl8tzdtjRp+GbnQXYG0kXknlyy7btwIoSRrUCYE5NcGZRfVDqHgvxJaxLajBTguwVTRaQlrxV4ImCLLAsLWipWAO0hGIEuBgaYOJUSxLg4gAKl4DmiteR0kzVPhEyZTQVNC7YNtjstysU/Iyn5KcWFR9yU1GUr00E5NT1vRU60qNOuq1WC+aNP5sfd8kZqvrdeX+lGMF3fFnNs6jXr7TLu09Ju3RcRUf29AiJXPLy1+qqf5q9T6O38CvfqvnUm/wB5nLPXY/iHbHhmX5yetxZMV2PKQ1NaD+WrUXtJmql6vq6fOpmu01cuPXYz6wzl4bnH2zEvQ4oKVjmaf1unPhWi6b7rijfCtGccoyUk+qZ14bMdn2y4dmnPVNZxSwguaJmfSnyuDJEFyBcFrOgL2FyBkKLNkByuC4LiixuS/kW4Mi0lnuBi5EuKLNclxbkuKLN7MnEVMlyFpxAG4LlAA12GuC6KhGvArRYLK6AbaRNux5/WfHGio3jpKVTUy7v5I/jx/A4er+L/AFTV3VKcNNF9KUeP3s5s+q14/m3Xq8O3bPxX+vd1atPTwzrVI0o95ySX4nJ1XxZ6bp21CrLUS7Uo3X3vgeFqTq6ibnXqTqy7zk2/xAonJn12X8Yelr8Jwj78reh1nxxqGmtJpqdPs6jyf3cjzXqXrXqXqTcdVrKrpv8ARxeMX9EWShcy1aRzZb9mfrL0dXR6df24t3w3WjR1NSi7LdScfddD0aPFwvCScW1KLumujPS+l+pR1tPGdlWgvmj38o58nROLorkEWLGSuZfKUQUyIlrciAoto6ipQlenJrx0ZUiGoynGbhjLGMoqXa0nqcK1o1bU5/gzdZo8xc16X1KtprRTzgvzZfyPR09bMdtn7eTv8Oie+rt/TuXJcp0vqFDVWSeE/wBmX8jS4o9LHPHOLxl5GerPXNZdi3CBxA0zbFzBrAt5FyaJuMJyg1iWF3GDcFHKFlgWE3Abgo5QssB8Oom4K6go5QsyJmVZC5MtJzWuQNyxXkwXYpOSzdF3CshaTlJ9wXdEsCwo5S+bqA8Yiodcj8zb93ECohxAuQy4ojUBiJOF0W2+bwFQu+L/AAI0wTpWYiqToVI1KcnGcXdM21IcGY61Phz49ij0fpnqUNdQyXCpHhOHb/g3xkeFp6ufp+qjWpvjF/Mu66o9nCpdcCTFPnlDUncJTGZYpXI+cxQ3JkRoWwINkTJCkBR0zdpvVa1BKMnuQ7S5r6nPCmbwzywm8ZfPZqx2RWUW9Hp/UKOo4RlaX7L5mhSueVUjdpfVKtHhU/KR8819T0tXXRPbY8ff4dMd9U/8dtq4rpsr0+ro6lfk5fN+y+DLrvoehjlGUXjLyc8JxmsoqVbgBQ8l3uK7djdvnxLtruB013GswYsJRXAGI9mDiLSiYvsCw5LFspXYlh7AsEJYFh8QpIWtK7AsXYoGKS5C1p8vUkMpGZSGUj81T960qQ8XczxmWRmkRF8SxRXczqog7i7kotc8fcxatQxdk7voi/O/UCgm7lLY9D6XF11X1Lzad4U/zY+X3Z3qdS3UxQsi2MrCe6N8KpdCqjnxn5HjUt1M0jpRmmPwZz41fJbHUW6imaamhRY6hNcUMpxlyYoS4bgsQgNwpikuClim07p2a6m7TesVqVlV/Kx88/vOdclz6YbMsJvGafLZpw2RWcW9Jp/UdNqOEamEv2Z8DVieRyL6Gv1Gn/06kkuz4o7tfXT6Zw8zb4XE99c/t6awGjkUviBx4V6cX5i7fxNdP13QzXzVo03/ANfA7Mep15ekvOz6Ldh64/prxBiVf4poLX+2ae3/AJEVy9a9Njz12nX76Pt5mPu5/Iz9paMWSzMj9f8AS489fQ+jYj+IvSl+u0/uf9Cebh7wv02z4z+m2xLHOfxP6Qv1tf7Jf0K5fFnpEf1ib9qciedr+UNfSbvjP6dSwMTjy+MPSVyqVn7UmVS+NvS1yWof/rX9Sefr+Sx0e+f4S7uJLM88/jr05fotQ/3Y/wBSuXx9oUvl02of1iv5k+o1+7UdFv8Ai8PmkFVDPmDM8Sn7Bp3iKt5MylcKYoalWfceNVmRMsUwNcag8ahkVRIZVSI2qoOqvkwqsT7RbqKR0VV8jKt5OW9Ul1A9Z2LSOstRbqMtSl1OL9rl0Bvzf51hxR3PtiXUn+IRjzkjhZt8239SKYod5erxjykMvXIr81v6HAzJuCoKd9+vRs7UG3/3WK5evVH/AJaUF7ts4m4DdHGCnXl61qHycI+0SuXqupf6aS9rI5bq+Rd4VBTpS9QrS51qn+4rerm1xnJ+7OfveQb/AJLRTf8AaH3BvnP3/IHX8lob3qAPU+Tn7wN9lpHQepfcR6l25mDefcG75FDa9R5FdfyY9zyLuihsdfyK6z7mXc8g3C0jTvMV1fJm3CbgpVyk2MirMG4RtoUkgqZm3PIrrpdRRbXuB3fJz3q03aN5PwRTqT8Dizyb3XS6i/au3EyRh3bZZGyFQlzK7fkwqbfNlSGTC0tTDkVZByC0tUg5FOYNwlKvzJmUbgu4KRp3AbhldXyK6vktFtTq+RXVMrqiuqKS2p1RXVMrqsXcLSW1Or5F3TNn5BmWktp3gbpmzJmKLaNwG4UZgzLRbRuA3CjMil0FIuzJmU5cLkyFC3NsmRVkTIULMyZFWRMhS2tdWy5lUtZFOyeT7Iojpp1ONWTfjki+FOFNWSRaiGbykqnWqclivPEeNFPjNuXuMnwImLXj7nilHkPFla5DJmWqWJhuVqViZkVbcORTmDcBa7MmZndQDqFote6nkDqoz5gcxSWv3RXUfco3AOp5LSWvzFcyjMGZaZtc6gMynMGRaS1uYMyrIGRaLW5kzXUqyJkKLWZEyK8iXFJazImRXcNxS2syIn/EruS5KLWZET+8rvz+8jksXfla78L+aFFrMuXEilcRuzd7dL+SXd7Xd78GKLO5cPpcN+LKsuDfbgwt8+/9/wB9BS2tzbImIhkRqD3GRXcmRFW52JmUbi9yZsUlrswbi7lDn5BmWktduAcynMGZaTkucxcynMmZaS1uYMyrIGRaS1uYMyrIGQpLW5gyK8iZFos+RMhLgyCLMgZCXDcBr8SXFuS4U9yXEuS4D34hTEvx+qX1Inf6yx49wWfLgS/Pj9b9f76iXvx7259+qZE+PDrxV+/WL9xSWe/Htbn4/oRN8O7v+PboxE7qON7pPG/O66e9vvDe6la1nHJcPvuuqIWdO97crWv2/vyS/BXt2s+y/vmLf5ou9rOyk+Nr8rvt5JHkla3Hle1n4fT7gtmb58fK7r/gN+KS68F59hE+TVnzuuSfuuj8on5r49U//q5P3Bb/2Q==","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAAAgABAwQFBgf/xAA7EAABAwIEBAQDBQYHAQAAAAABAAIDBBEFEiExBhNBUSJhcZEUUoEVMkKhsQcWM3LB4SNDU2KS0fCD/8QAGQEAAwEBAQAAAAAAAAAAAAAAAQIDAAQF/8QALREAAgICAQQBAwMDBQAAAAAAAAECEQMSIQQTMUFRFDJSYYGRcaHwIjNicrH/2gAMAwEAAhEDEQA/AOzIuU2fsCpAxw7JCM5rkhdNnPQcbC5o0I+injjy9E0cnL3ddTNmB3Cm2x0kE13SykAHVJh7BPYnfVIUFpbRC51gdLp8p72TZT1csAzaqdwcQYXW/nAWTU1cLQTqXDZua62651PAwvmeG26X1XOT4kZHObFDGyPpcXK7cMdvRxZ5a+ylLVukJAAA9FXJJFhf3UxYSSdNU4iK9BUjzHs/JXEaIRqwIijbCjsBQKzYlI2FWWwKVsKRzKLGVmwoxCrIhRiFJuUUCqIk4iVoRIhEl3G0KojRtjVgRIhH5IbjKBAI0YjU4jTiNJsOokIYiyKUMRtjQ2Colfl6onOkbsbgbAqxy0jFol2Qyi14Kt5HtAcb90PKVtsVk/L0R2oGrfkoOiQGJXzEozD5JlMRwKJjSaxXDCmEXkm3E0IBHdOIlZEafl6pdw6G02nuNWpxS+SlFTEeqcTx/MvOtnq0iNtK22qJtOxuyfns7oeew9bIcm4JWgNGick20UIlHRyfnC261GspYj8foaYsAG47rCqXYlG4unfKy46Gw/JdDWVvKiPK1edtFhVDpKqTNK7N27LswX7SOPOl6bM92eV13uc49ybpxEVbEHkjEPkurdHHoyoIUYh8laEKMQ+SVzGWMqNhHZSNhHZWRFbopWssfut9kjmUWMqCIKRsN1oRGT8MbfoxWGmbpFZSeRlY4kZrKVztre6mZh0jvlH1V9rag20Av5qV1omZnyBoG5cQAFN5WVjiRRbhTravaCkMLff7zVJNXiOS0bnSt7tbce+yj+0HSO8O46A5j+SClNjawXof7Ld8zfzTHDnjYtKmZPMW38QHmE/Pl+dbafyDWHwV/gJR+H80wpJPlVnmyfOU3Nk+crbSNrEgFI/Xwp/hpAPuqfmyfOUhJJ85W2kbWJB8NL8qXwsvyFXA89SjEmiXuMbtoofCzfIUvhpv9MrQ5qXMW7jN20Z/wstv4ZTfBy2/huWlnKWYrdxm7aM1tBI46tt6qZuGt/G4/RXC8qMuQ3kwrHFANooG/hv6lH8LB/ptTZkswS2/kao/B5diHGM2H4lLAHF7WO0N1t8MY9XY/UFkER5bP4kjjo3+64KnpG11U1l7vkdu79V3fCuTAoJYWZ5I5HZi4AXBAXpTgox8cniYczlNW3R2L6YxRE57uAWRDjUE+jZACDYi+y57Gv2gSTU8sNFA5jzdvMfoR9FxNLJXslLo3Oc77xIUceFv7zpy9ZFfYexsqQdQ4WR/E36rDwPAMbGHsmqJI2uc0OETtx6oP3ggp6p1NWARTMNiCk0i21HkusrUVKaqzpIZTbwm/koX02d5LWtb5KrTYjSTAFkrdexV2OaNw0IKSnFlU1JEfwT7XypfCOG7VZztaL3sFJfMPvFDdh0iU/hj2Rtpvm08wrG290gNN/dDdh0RX+Hs61wR3RNht/ZS5CT4dfREBY+IW066LbMyigDKIIy+WQMY3dzjYBR4pif2XhNRWvikmbTxmQxx2zOA3tdYHGb4sUw37MgxBsEz5WOe8PaGBupF3E23AuOmi0cUjo8TwGeidWxztkhyP5c8eeXTUDXr/VJ7HVV5NKmq4sToIqijqLxSgPZJGQbj/wBoucx/DMV8TKPGp+WGGV7J3DQA3GoA1vt6KT9mOCV1Hwsaeua2nkE7yGueCcptbQH1QcZ1smGyw0/w2IPbXPMXPp4LtiAsA55ttc3+hRpJ0wy/4mTSYZxTVVMbKrGoYDO3PAZTnu3TS1wc3p2Oy6Cl4ZxaMRmfiOeUt1cG07Q063tvdcNT1uPSVlJR4lRONZhsjeVK4nOXgm3jcbWIJ2vcC2ll6RW8RU2F1rIatr2NlYHse0Fw63BH06XWlFpL9RYtP9jVay8IY917CxNrX+ihdTHUt1CKKpjnjbJG4OY8BzT3B2SNTGxrnGRlmC7jmGg7nskVod0yPlFLlHspRUwuhbIZoC17g1ruY0gk6AboYqmGZrTHLG7Ne3jAvY2Ka2DVACPunAARc+KQOEb43ZXFrsrgbEdEDpGN+89o9SAtywcIdP0VObFaGBrjJVwjLvZ4J9gs48YYUyTLznu7kRusPdOsc5eESlnxQ+6S/k3Ne6f6rHHFmEkX+JN+wjcT7WQycX4RFE6SSeVob0MDwT+S3an8GWfE/El/Jt3KVyuepuN8LqyRDzz/APEn9FaHFGG/jmcw/K+NwP6I9nJ+IPqcX5I17oTdYw4uwrMWyVBiI6SMc3+ieTi3Bohc18Z/lBP9Fuzk/Fm+oxNXsv5NU3TAlc/Lx3g8YJEsslvlj/7VVn7RsIc+zmVDB82UH+qbsZPgX6nF+R5nI+WlqGvicWuabgjou4wKorMQo3ANY0kWD2jZYUPCOMTtbM+lcA7o7Q2XS0dWMIpzS1ERifEdRbcdD5r0Z001HlniJ6tOXC+TisZZLh9c6J/fcdVZwHFI4J42zENZzGl5Pa6fiKrixGvvHs3r3WVyBZUUW1yItWj3N3FmExURqH1kTWBt7XufReOcW4u3GuIH1cDSyM2aANyO6ziw2tcrZ4VNJBi7H1oblsQHOGjTbQlcselWO5I7cnVyypKVHYVVbSxcEufQmNjRG3ILAOB0vcb3XPYfxBUwEmRz3N8iEuNX0xp2CF8bpc125CDYfRcrHUzBmVaCSTv2RySnJpxfjg76h46a/wAEzPE06guAFr73O/otug4qpMRkMcGctLLiRoBsflt3XktPSvqqotfcldLwrhLp8cFMZpYo7EuDHFpNkjxRacvBeHVTjJQu2d0/irDY32lkmYSG5RyXEm9rWsP1spv3jw8xk8yZx08DYnZtfJZGIcAOxCqhdQ1UlPDm/wAYvJdp3b5riMQlnwDGKqie4PMEhZnGmYdD7KePHjnxsdGXPnxq9Ud3iWOZ6gcmjr5GC7TypomhwvuWu6+qlwXHaWOKSOeGanAdo2eVr3uv5tuB6LjcL4niYMj44wCdbBb9PX0c9jC+IOdsCD/0rfTRILrp+HSNDiPCcExjDXtJpKeoZrHK2MaO7Gw8QP8AcLjMNocRin5T8Ne8A2ztbmYfO/ZdTAKgvysLR2LIyb/krpjrGxDIJnE/OQB+qR4I+Gw95ze1GQzCqh72FzWUwjvm0aQ78lEcao8CkyVGOSykC2SlY4Ov3Ja630U1V9svY9maLITYtdGx1/zWd+7gqJM1VyYBvcENHtcp49Lj9sk+rmuIxY9Z+0KVpy4fVYjIO8soA9iCp8O48xarzCatbE7/AC2zStt/yLeqqT4NhUDCX4jHfo1rblUXOwemdlbI6ot8sW66FgxNVX9iMupyp2r/AJO5p+I6tkV3MFVzCDI0Ma29t/GzTy66KnjFfyw/7PwimginDRM972NkLbi7Li+mm59uq5+ixPDo/wCDgr3H5nPAHtay16afDJmH4ugooQdy+Zlx7NUH00Y+v8/kuutnLjZX/n6GBUOr6jPFS1+HU0TphIGTVPibZwOpy2J0GytZ6iGggjiq6Q1UL5HOnbOXsdmJJs0NvfUdbLRkrOFKNriZGSO7MBd/SyoS8V8Ox3FNhjnkfidp+iKxwvwzPLlS8q/3f/iIKI1T6iQTVbJxJIZP8JrmkuIA31sNFe+CnczmTuo4wNS2Wd4cfcLLl4opqiwZCIW9mQ6+6QxmgiuSao/ysaP1uupJJccHnycpTuUb/sXaanMkji0HLcgctrX7dQcwKutpqx8YZTxVo/3HKCf+Rsso4zRysaIKaocL+ISyAX9grEWPGBoFPQQQ2/FJmefzKzUmuDR0g/8AVwXXnF6OVvNocQmjOwbFEfzaDZagxWvhoyIcOqonnpUSMA/T+i5mr4nxSe4NZJGPliAYPy1WJUSVE7i6SZ7ie5Juk7Tf3UX78V/ttmzjGMY/M/lmqpoY+rYZMvuWlV/3hxnKB9qhuX5IwfzWS2mlcOnspo6UtFnPt9FVYo/BN5pfkWvjX1Dy6prJJJDu58QddAWRPN+dc/y5UAhjA+8SUJjJ2Dj9FVKjm4btMJ9LGW/eJHZVJKeMCwYrIZLsLgIuW4andZxTGjJx9ntLZ2OgD2vDmkXB6WXlf7SMdZUV0UVM7+FcPc3Y32ClbxjSx0LmtuXkEWDvCPouNxCrZUus3qbknqvKxYdJbNnsT6nvJRrj2RRVBcVba5xaoKWNl9VqRMiy7hd8LaOPLJR8IpsDr7Ky0WF1ZDI7dEzmtOgVEqOV5L9FVwa7ogEYBV0UwKIUoW1TN3UgaCWOCV5doXAAO7LqODqikdiMmZ4FQ4gBzju3sPquYdTABR8hzDdpI8wpzxKUWg48ihkU0enTYlUxcSUlPFV8qmlkDJGWBDjY7X2Og1Cyf2gcMUBwapxKCIRVURD3OB/iXNjfz1XEvnndI175Xucw3aS7ZW8T4gxDFKRtPWVT5ImkHKbC5G1+65fpXGScX/U9BdYpRkprz4/Q5gB4ddt1q4fjNVRO8BsmZGwovhwdgupQaOWeSMvKNuPjDECy0bGHzN1Xm4oxVztRHbsAs6N3I3CT61p3COkUT3m+F4LUmPV8wIcB6C4VSWrqXm723+pUYrA03CJ2J3FgEbS9g1d3qKOaW+tPD9QT/VSukqz9wRM/kYAqwr3g7BSMrnuOossmvkzhLzSE6Oue0h8j9ezlEzDJX/xM7vMm604KkfiKmNbCDYo6xfkl3skeIoxhhz2uy9O1lLHh2U2df0AWmainIuCFXNZFfLcW7ALKMUZZskvQoaGNh8TR73JUwisDy6YepCeOuY0AMAPqpjVF41lDR5ap1RzylO+SuIZCPE8M8gEIp4sxzTkHv0V6ngop3/49VK0dSRorkUOBtlYGcw2f4i/ZwSuVeikU2rujHEMDiQ2Rz/QK3Dhc0rSYoSB3ebLpoZ8HgbaDksA7N1TzGgqYyGB0t+rQVLvP8S/YX5p/ucq6kdHfmSMb5AqF0cDdXPLiujkwilcdIpG37lV58Hp4mkn2uqLLFkHinHkxBVMYLRxAnzCcPqZToxrR6LWp8OjcbiItb3JVkikptCQT2Rc0uEBQtX4/qZlNQTSAufYNClkw1vzBXYapjyWNZoeqN1KRd1z5BI5tPkZY4tXHk8rcwjYqPxtKtkBRlq4mj3lIjZUvZ3UrMQe3qgLLpuUinJGag/KLLcVeOqkbi9juqPJS5CZTkI8WJ+jXjxcW3UzcWadysEwnom5bh1TrLIk+lxs6MYi17rA7rvOFeF6WswyOsrRzObctaToBdeRML2PBHRd9wtx43DcNbR1bCWxkljh0B6JMk5zhUfJoYMWOaclaNHjHh2DCWRVVGC2N7sjmX2O4IXKkZxoFpcUcZ/bIZDEC2Jrs3qViQVg6lWwyajU3yc+eCc3LGuCUMLDsnFRl3CcVLXbpjy3qt/BD/shjUNeonsDhcJzEAdEQbpoULsZUvBWdHZBkI6K8I8wSdGAEuo6yFQMukAQVOWpGPwrUHcaOa3VC95JQZC0pFx6oWbVXaGLygyFzr3RE9ghBIKWyi/QnEVtnH3SMj4xYE3QNmynVK/MuUb+BKfsD4qUO++pG4hK3qqrmnObC6cMcehSbSKaRflF1uLTN6hWafiGqpzmjeWlZRjPZE1miO0vYnax+aNU8SVMj7vkcSVM3G3PGrysYRgDUJXDU6m0Tlgxy9G19quP+afdIVodqXBYd7nRLM4dUVlFfTROhjri0+En6FX4cSlIsXE+q5NkrmHdWYsRc3qU6nF+SUunkvtMcnVMnKYriPXQk4CYJwFjDgIgNEgE42TCjZQkWAokkQWDywnDbIkljWCW6ohokd0lgBB5HVGJXDqokr3RsVxTJxOVKyoYG63unpGQR5n1DecR92NjvvkWLm36HKbg9SCE9S6mkpc7KflPsLOYTZ/Y2PcaqEepUpOKsq+kqOzob4u2iY1agpKaSsqWwxZc79szg0e5Q1MDqaZ0clszTa7TcH0Kv3OaIdleS0KkFGJ2karNuUbJC1wO9jexTbsV4UXjI0ofCVaE7sUeyMZCA3XP+DW26CuwmehgE7XsnhvlL2fhPYjp6qS6iLlo/JR9NJR2jyiDw2QOsdlXMhSDyq7E1BokI1RN0UWdLOULG1ZajyjUoy9hCpcwpZymUhO3ZZeR0UebVRZynDkLCok+cWQvc0hQl2qEkoWFQDDg0pF4UWpQkpbKak+a4SACrh1kQeVtjakRSTpJCpYpKYVJkBkawtYXNv1PZQ2SCIBFAbEE4SA0ThMIJJOlbRYAySVk9ljCKT2OjcWvaWuG4IT9drqSpqHVLw94GYC1+6AV4IFYpKiGAu51LHUXGmdzgG+xF1AjlZG2GJ0by55BzgjY30t9EHzwFOnYzXlmtruve+1tbj/3mjkm5rGNyhgaLG3U33UN019EqhFeBnKUvJeoaZkwJZMGyNaXDP4Wutra/eyqzPMkrnHqb7oGosxa8OB1GqyTX6gk0/CoBII5X82QvItdCAnAWaWr+HcLtFh2aNfVSVWJOmidFFeKN5u9oNg7W407dVTsmcwObY7JNI3fsbuSrW+BNGd1gR9TZa+GOhGWOOnZLI/Ql4zeWg9CfYLHZEGXtf1JUrHOYbtNj3CWcO4qYYzUHaJa+SKWskdDE2Jt/usva/kDsq6e10rKq4RO7YyJjc19bWCtUlKyVx5ma3+3t3/I/kgrII6eoMcMnMbbe1reSSM1JtIZwcVbK9k4CeyeyoTsG2qYhHZNZY1gWQOCly6IXBAZMjskE9tU4CA1jRMbJI1rnhjSdXHoinNMwgQySON7HOyyBF4Sxoy+IHU90jTfhhTS8iATgJ2hWaOjfWZ8hDcpAu7QEp7S8i8vwVwE4CkmhfBM+KQWexxa4b6hCAiJYNk9tE9kuiIAbJWTp7aXQMFHIYs+Xd7C36HdRFGQmWMmWqJlMyoDp3MljGuUXufKy15eRU0zGz08bYHMs2SO2ZpAaCe41B33XOtu25aSD5FTPne6IMBIB1Ot7/Vck8LnNSs64Z4wjrRWe0Ne4NdmAOh7pW0RlqfLouo5rAaxEWo2MKJ0ZWF25AycyQNiabusA0am6T4nRPcx7S1zTYg9CjicYZWvG7SCEdRLzpS/q7XUa/wB0L5DaorgIsqe2qK2iYWyXDmQuxCIVBjyXuWyEgO8tEeJRRMr5TTlvKc4ua1p+6Oyt4Bg8OLV3KqSQwC9mkAn0JWjj2D4Th1APgaxstQZPEx4cHNZsMulj5m/oo7ruUdGj7OxzGVINPdSEJgFY57ExzmCzXEJAAuGfMc3UakeaONrS/wAZs0AlMQATY3HTpdCvSCpc2+TRrMKpoMKjnjncZ3HWN3bv5bj1v5LMyq9UYk6oiZHyyGsjEYBIOgvuQBfcqpbRJhU4pqRTPPHJpwAypsqkDdE1lYhYBbogIUxGmiCyAUyLKmtopMqWRKPZAiA0TAI2g+iAzYgLI2OMZJboTuQlcucSTqd0WVESxrk6nUpAJw3VEBY3RFsGxuLbdUraKaRzp5HSPtmcbk2tdAW6aLA2IrJ9bWR2IFvO6cNuNkA2C6xy2HTXzKEtUxbbokW2WBsQRlrwcpvYkH1RBtkbYw2+UWubn1T2+qC4XIXK3wR2RwsY6ZrXvDGk2LiL2RCNxaXW8INifNM5ti2wBsb6hLJtp0GDSktvB1eEDCqaFoNOyomcRdts9zcjr/MzT17IeNqTB6eqhkwmSNvMb44WXIaRbUHz7eRXP09TNDLna8733shlkfM48w3ub6rmhhnBuWx15OqxThpqVZQ8Ps1vuia05dd1KYyBqhIDWE3GgXWuOTh2vhABtiidG5jiHNIPYqa7ZpC6NgaD0HREWl7iZCST1KK5FckuAKetqKa7Yy0tt13HoQmklknOaSR0jrWu4kmyfl3Ol0xAaQ2xJPZCkuRu45JRIrJ8hIVjk6bIhGBonJ7lVrSnyG6smIXSEII2NlgblYM7I8h6qy2LKwNGoGyfla63BRQHMrcsgJcvRWizK0X1TsjzC6wu7KRisEJiIV10aB7MrTbRAZTZT5aWTyUwGuunmtCnwn4qVzKd97xc1hdYXsLub67+ySUlFWy0FKbqPk//2Q==","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAgMBBAUABgf/xAA3EAACAgEDAgQDBgUEAwEAAAABAgADEQQSITFBBRMiUTJhcRRCUoGRoSOxwdHhFWJy8AYkM4L/xAAZAQACAwEAAAAAAAAAAAAAAAACAwABBAX/xAAtEQACAgEEAQMCBQUBAAAAAAAAAQIRAwQSITFBEyJRMnEjQmGxwRSBkaHR8P/aAAwDAQACEQMRAD8A+oY7RtahRiBWveNA5lxQtkySeIJPEFnAlghg8zL8R8Jo1WroJXGX9QHeX1skOc31H2JP7RGeEMkUpK+V+4UUNporoTbUgUewjIrzJ2+PVIEbOgBoYMsh06TOkIROkzpCETp06Qh0g9JM7EhBLdYsxzLmL2GUxsZJHJGCCqmMVcdZEXKSJHSd3kyCMiWKVXyTBLAA5PSClgD7D+Up+IE1oT7kZ+kqx8MO6W1lzzqwhYuNo7yfNr2qd64boc9Z5+m0peKyfSTgiLFnlWqDyA3SSzT/AEX6npGXIi1TkiL0Fpago5yU4B+UevxGQxSg4ycSKqRuLN07CLv0a2Jw2MAkn3lnMFiNpHvAaTVGlY0kUaAUpzOrXeCfeE9wexlXovH5zkYKsV6iSqxO33cDdKmxSJYErVWAAxyPkR8ekJl2LVsCFuwIgEyS+TJZdEl8mLdyTC2yBXycymWkCp4nM5G0/WHsxOZOQPYRU7uK/UNeSFYmGpkLXmNWvEcAyUBMYJAGIQlgkiTIkyyjp06diQh0idIkIFOkAyZCEYg7YUgyEOAkwRYucZhdZCHYnYkzpCCNTSXXcnxjkfOVLb11OkfKk2Vj1L3+s0pW1OkFh82vK2r0Yd/r7wWjThzKPEjBqCPdnd0PAli2hBmzaD3lfVaSxry1KA88hM8H6dREvq30p8qxz6hgqwziKlljD6nR2IyU6cWbC3CjVAHoyn+cu1MCMkjDdOes81qPEE1mpqRN9YxhmxyfcD6zYruTUmtxUR5XQ7TgH5e8XizepJ0+EZs2GManI0SwUcxNrtsOOp/aDZvUZOczkIav5x754MU8q6iVlXywAIFquoyCQI1iVYZ94R/iDE5kVum4MHxYCW+nBjEsxjBiG07NcMZAnWKayPlOknQnst4AzmL8xVfBMYx4OBMl67l1hcklewi5zcZKkNW3bybBI2wNwMCss1YJ4yOntDSskxqsXwSOYQAZz8uJITYdx6KMytVaxtII5i3JeqkEl7bLqpDCSU+GTmPEkBZPSdBJlkJ6mSOJHwKSYjziee0qxuPFLJ0WJ0hGDKDmTLFtU6ZBi2aMbpKtrkEADJPSBKW1B447mNVuY0HIlRGcg+k8dYyu4HgGSMrDyY66HkwGPHE5jxxFs2LVrHXGWltg44OTM7VW3ValSoymcEzU07FqgTF31LZWUbhR6jiTSw+EZ6ZGfaBBNN2xuWPFpD5M4CdGmU6dInSEE6jTC4ZGA46Hp+/YzE1VjJqGTWhdwU7bcdfkfn856GVfEtMmq0ViOoOBkTBrtO82NuLprn7jMc3B8HmPBG1F3jNtiacHAK17h6UGepM9VRWUObHNj/iIx+g7QPDalo8MpRBgbAfzjl6w9Jg9HEk3b7JKTk22SwDDBlZk2NxLe2A9eRNbQCKtqBsQ6lCkQbVKiRVuImHrUdDvyBmzFhMU48xukYFAPqhgqVIGJrTsWAGycdoDpubiSq4x845a+OkiCknHsXUp3cyyABFlSDxIVjnEIDsc67sL79YtaALMxqckn8pD8GBBWt3yW/gPpIbpJByJx6RgIG/j5yUHeBj1RF+pO7y6fiHWQOGN5HSLVozWZTUHaw7iQlt2whyCTOOUXkwGzo4cTxxabJua1NAzVnleSMZmfodZqKmLA70J9SHt9JsafDq44K5/aZuo032HVbhzTZwT7GGnwBjlCcpQkjTpuS9Nyn6juIVgVGzgZHeZfmNQ++v8x7y9dcHpS1TlWHMHsjxbHx0c1vqwehiCDTqCOz8iGF3HnqBCtTfp1fusouSVUNrOWGeg5iaD5mpss7Z2iGW8ul2PtidpKylCg/E3qMsViVQbDtXKhe7nn6RdbZ1dmOigCNZgoaw9uFlOl/XgdSc/WREyP2UXw3EnkCci4HPWCloZio5YdflCszrHxbOLTifTJZeIpicyChitheZDkMpHuIsv6cGR0ECb9rLS5CoGNJWPZRDQ8wKm26ZfpBVstJDiKL+SxJxIXpJjABVygqYNCDaY1xwYNIxmJr8S/wBBn5RF6cmDTWe8dZyZ1YzmXtW6yeCtnYAT0Mu1ncgMo6hx5ZwOcZEs6azIwYSNuqjcVIfiJcCvc/4RHiV9SC2EH/IxeZvZS7Zhh2Fp7MrjMa65mXVa1FmG7maNVm9cwsct0Smgk4BEknEg8HMi1wq5J4jCJWzsE5I6yoThjuGCesFvECuQB+cA2+bzuI+ggWdPBglC3IK25a1y2SPlMnXeKE2NUr424I+c03Z3pZaqGsbHBmNZ4RqtdqFRqSgPVz2nO1ss7SjhV2PeSEIv5NnwLUtqxdaV2gkDHbpNO2pbqyjjKmedTTeI+EjaCDST8a/d+ssr4tqKceehwejDkGb8O701v78nOWJ5Hug+SdTQ+m9Lcr91veJ0us8pjW/NbdR7fMR1/iA1lW1LAjfqD9QZmW1aij12oNvuvT/EPhHSxKUo1kXJtveKdN5uQ23gc9faVv8AVXdhStLD+IgdwQVAIJIPscD+XvKdOoN1JrycdSJzXV6Jkta7amQxQYwTggk++QR+YExazNLFjTgHjwptpq2WtP4xVqqKluzWbCzFcZ2qCAA2PvcjibPQexP7CeVrf7frUZAtNAYtYUuIJbPIGOue/tN86prv/kAF+fOZekyZMmO5i9TiUGlFUFc/mEKvw9APeO0+nFQ3Hlz+0r6e6undvDFvxHnj+kcNQLk3VOFQ/e7zWjFKO3ljmYg4BGf5SUVUHGBnkn3lYELkVcsfvP8A2i/9ONj7rNTaT8ukJCHUvqlReIzBIAE6qvyqwoZmx3Y5MlhxCEFaxCTkRbWbUcHsplnoMTM1qs+srqXsN7fTtM+d1BpeeP8AIcOy9SN9XykD0tF02eWhB6QRcN/WMtFFveQmYdbblyYrcDVOpfPEKwRthwIFbcGTafTOpXIzAX1jPygnkyU4zIsOHxBLbRLugeyjpbvOpIb7o5lyr4QZm1XjSXMCBtxzH6TVJZcVQ8EbsexgKcd22zo6qL29cGojQUUPuY9zgfQRYJVCR16D6xtfpQD2hfVP7HO6Qm3Thu0lVKDiOMjHEOkVYvzfeAzB/SehnWqT0ia1ZbMnkQW+aCXHKHLoUPJJjRpKlHA/WNQgrmFiHSCebI+2AtaqMDpCAwOJM6WKIxkcyjdpzpCbaE3VdbKcZH1Hzl6dIWnRT+w6LVViwUoVYZBXiD/pNKKwqeyvI6bsj9DOrP2LWmo8U3HKf7W7iXYPY31ckepOjEPh9fnbfNajUD4MgAN8we4/eUNbpKdS9I17NR5YIIX747z0t9FeoqKXIHU84Pv7zF8V8K1LJ5lFosWteFcer9e8w6zfGFwjuNeDWTg7bKFKaXZXRpXKqBgbhzx1z85LW06fI+1scHGKwevtmT4L4JdqQmp1NgFJyQFJDHt+U3f9N0qVbVpUDGMYitO9TlxqXEUXk1bb4FU6I30Ddc4XHIHU/nLIqWtAiDCqMAQtLWKqdq9BGEToroxznKf1MUq8ywnSLVeY4DAhoUyRBbpOzgyZCiFXAyZnUqbnu1P422r/AMRLevtNekbb8b+hfqYyulatOtY6KAIprdOvgJcIpuAUORKgBazgy/YvWI8gqSRAknZYyrivkyKrMWdYo2bViamJtyTCcqqiI0LDkRtTYSU2uwQMy0MeUDLg/c2XLpIG4+viRsLGBu3WCPLBF+ci9zZXR5Pxi+yvWjBwCuTxA8H1wr1m/UMFHQHtNK7w9NWpu1JdmPCpX7S14V4JTpqSLq0csc4YZxOYtNleo9W+DoanMpe1eDSrZLXXyyGUDdkftLAEoU+H1rus0xNDMeNnQ446Rg1T1OKtSAGbhbB8J/sZ08f02/Jz2rfBZJyeJJGFgj4hK+s16aXIcds4zyYUpqKuTJGEpuooeySDWBA02qTVVJZXnDDPPaWOCISpg8rhi6m2nB6RsUwwYdbZEhAp06dLKOgkyScQSeJCFfWU/aKGUHDDlT7EdJGj1P2jThiMOPS49iOsdmZ7n7H4kG6Vajg/Ju36xcpbXYxK1Ro5kNypHygqZOcy5O0UkV/Dl2aFF/CWH7mWGGRB0i404+pP7mNIBOInT8YY/ZBNe6gKyFXmSRziBYMoyng4lbRu5rNtj/D6CD/ONboZ6T22XlEPpPPX+IOuss/iEKrHAE1dHqjZpA9n6mGmTLpp44qTGW2bZyWbpVu1aZ/2nvHV9sdINuwJQcVygLW87xKmvtUDY316CXhyJnaE+bdqL/xPtX6CWbrTVprHHULx9YGN8OXyLa8DGUNkjnERawVTmOpTy6FXuBz9e8CyvcYTt9FrhFBju7STXhQ3Qqcx76bHKnHy7QBrKNOpTUdScDMS/bwx+GG+XVlezUJVqAtw2o+AHJ6HtNE8UieN8b8XS3WCsZChsEieh8KvFnhKu1m925Y+x9ovFlTnJJjtXhjjcUu6LNQIckxm/c2BIpG9frHLTtOZpS44MQNNSooxyRDc+XWzD2wPrK9F24RtjZetP/2fy6Spv20vIVO+SygCIF9hiBbUttbCwBg3GJytuxDJjOwDNV9RQzacNliP4bOCQw9sjoZkanUU06hl1SOWByF6/XHyno9RR51OAcOp3IfYyu/l+I6TbYq+ap4HcMJzdbpXmSalTX+xkZSX0i/Dlt8hbLlWlHIwi9vbM1BwJXBTUUlD0deYWksNmmG/41yjfUTfigscVBeBb+RjjIiRZ5XJjj0lV/V6h0HT+8KTroiLVWSCzHLH9vlC3RGnsymDGLy0JPgqiesgwiQq8nEULkY4DDMhaJMq6zTjVaZ6zwT0PsexlrIIzAeLkk1TCKug1Bv0YZuLFO1x7ESwN2RgZ55HylRF+zeJHHwakZx7MJdb0oxHtEbn6b+VwFXJNLYpAx0EpavVuN2Nyj3EKjWFNOVsBNtfpYe/sfzmX4v4svklVU7sYwYp54QglZs02NSlbRqaHWfbtOXPBXg/OJ0ly32a2j2XOJnf+OuH0bneSzknb7TS8MqCM5sGLyCG+YlZM7W34ZcpQUpJf2MB2C2nB3EHpNGzxAXMmnB8uocsT3mTcqV6mxi+GOTtjNJo79QwY1ttPVm9oOn1qzOqNnq4502+jVXdrtSorH8BD195paiwafSO/wCFTF1ba0CqAABEa9zbXXQOttgX8u805MlRddnOz5Fklx0i1oFNWiqQ9duT9TzGWt5uorp7fG30HT95KjAiAxXxYezVY/eFe2KRm8mhOK8SU+cLgjiaEhbZWsbaOeneVrdJTqCDYobHIlyyotmUw5otKN8J6fKJypSVMODa5Rk3eC6Qao22Lu54U9IzQ3kO2ixxWcqR3U9I/XEseJXYCm/T3DrnY30P+ZzMVY5OK6vka25Pk3KECKMRjHnmU11XpOO0BtQ7dJ0/ViuEKojT1lWAHUwyptutcEgZ2Kc9h/mTZlKGZOG6L9THV0iupUHYYi9u6VfATZFZtVOGRvqCJ32hk/8ApWwHuvqH95IUrJGc8xvNUigW1lagbj6G6OORMg3DTeKIxYfxTgHpjnqfnNS3TqzblyrHqV7/AFHQyvrafM0dlVlSkMOHQdx0yP7TDqMWTJJSb4QUZUqHl0Q7K7FDZLJz09/ynaPVK+ttrxtZwHKnseh/oZh6tXFFdyMC4GUfufdW+fzlpNSr26XU0kebgq69sEZB+nBhYtRLc01wiml4Nyxsjb+sX2KniSgyN2cgdD7/ADnPNqt8gCQxqtwe/f3lkNgZiigsAzzORynpb9ZI8MszfGNe1NqKTlG4yPf5zE0/iNh12FycvgH5T1eq0dGtqKXIGEyPDvC69FrXCE9Tkn8PYf8AfacnVY8/rKUZe1lpvo29OS1YJ7CcxzkSUb0kSu1q9SeemJ1HNJckB1VbPpSV+Ov1r9RHDULbpq3BwLPV+n+YALMPV6R7CV9Cfs2uv0bNkJ6q8/hPJH6zNJ/iKun/AByWuidTYUB1C1sTWPWPdf8AvMranSV3KX2A7hkHOZp2jHqUZI6j3EzKCKfN0+crXzX/AMD0/TpM+eCUvd5Li2WtJQle0AAADJwMS4KkNgfHqAIEpUuApIPU/wApb0z78n24mmLjLHz/AO+CubMvT/8Ajmn+0tfqCbHY5HsJripVTaoAEWGwsXTqg5YfhODG4ceLDHbBUCDdUVPES1GNZTYT8KMce2Tgf1l1iHEXgG2xuwO0fQf5zEZopSTQcQWtCZJ4AHWVKr2bxHT3P6UfcgB7+38obq2qswOKweh+9O11RbSrYg9VLB8fSXulKO7wimadlqJUzk4CjMHRFhpUD/FjMo3hrmSpDkNh2/4/5ln1rznia1O2wKLTNlto+plbVUb1PvDrfYPV1PWdY4IkdSjbIuGZDOWswwx2I9jO1VQbSOR93B/QyNYuzVK4PDEKY+6rZpLc/hxONG5Ka+By4aHogDhWXGRkHPBjiiV1M7cKoyYGpGyit/wMp/p/WQzl7FUqSiHccdz2E6jaha8+BXYRJbULUVwE9ZPv7SyJWrYndawwbDn6DtGC0FesLF1b8huLGMRJGCOJSt1G1+OkKvU5JEO0mF6cqLRAMW645xmAtu48GMZsgyu1aCWJ+TD3Lp9Xbp7UBrc70P17GLSt9G5zmxA4etm6g91P1H9Je11X/rrqNu7y/iHup6iNoqW2krncCMqT94dpyo4ZRm2nz4+wUlSLWhsD0NUGya+FPuvY/pBbWLUwDMHzx6RzMymu+vU21m81bRuRlHLDuCfkJy+GumuX1ZB9QbcTk9xzGPNmltWNcfImkuzYqdL1IQ9OvYiRYmBycj3gmsK1rFthBGG/KB51tpKKorIHxOOo9wP7zoXxTACquA3c5wMytR6rLLjn+IeAewH/AEzrtL5VR22Oznkndj9hE6Wx1sekcktkMe2es52TI96UvHQxR8Fk6gCwVry7dvb6yNNUVufdyfeBrAmmULS2bCck9zO0up8y7Z3B5PvKWWMsqhLtByx7Vdl04HXoOsy9WzVeRrfvK2X/AOLf9E0tTxQwHVvSPz4nWULbU1bD0kYx8ppyRcm68fuLXRO8NXuHQiZ2pQb/ADAOV4PzB6wtHaV070ucvQdh+Y7GTuDOB0yczLqprJCNdsuC5K+lBSzyy2VYbkPymrQNnlr78mZViGrV1svKbscdszVZgLcqcgDiXhdRp+CBJyvSV0rCa6xezgNG6c7qVPuIFp262pvcEToKmkwBgU1sX7KMwa1/gBW54/U94L6hbnNa8rnBPv3h5yJmmlKfAa4RKVgGGyDBYDIIww9xFb8RtdmRNMHGqQDEeHBU85C251fqfw44jtSyqgz0yM/zle9RpdQupXhD6bPoe8O4edaFB9SjcP6QXJqDj5Iu7Ev4rpksNb7wM8Nt4Ijx6kVlOVPtMvU16jUayuu4BLLD8ZOQMc9Jq6avZp9g+4SP3iMOTLkct6peBk1DjaUdeD9mudeGRdwP0jr33V1Unk2EYb3GeZGrU/Z7hjOUIx78SuthXUU2+Wz16eoZ29iREwXDXy/5/wCBPs0dUC9Xlpje3w56D5x9dG2sLnOOp94jTM9o85K9xsHBY4AHYe8soLAvrK5/2idKKt72hD+D/9k=","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABAECAwUGBwAI/8QAVRAAAQMBBAMHCxAGCgMBAAAAAQACAxEEBSExBhJBEyJRYXGBwRQjMjNCcpGhsbLCBxUWJDRDUmJzgoOzw9Hh8CVjkpOi0hcmNkRTVFV0o+I1RZRk/8QAGQEAAwEBAQAAAAAAAAAAAAAAAAEDBAIF/8QAJhEAAgIBBAIDAQEAAwAAAAAAAAECEQMSIUFREzEEM0MyIlJhcf/aAAwDAQACEQMRAD8A1sQR0IQUSNhTOQpiJjQ7ETGmInYphkomKYZIA5rpKKaU248L27PiNWK0230VgH6x+yncrc6StHsmtu9rv2+Y1YjTcasVgwp11/mrB+pu/IyVnjJgHImSMKfZ3Us2IyA25qWWztFmbJujaudq6m0ca6SdnLaoALV6hRs9ibDuVJ2P3QVNAd7xFRWuztsspY2Vsvxm5FURECcN+UrQUhxep4YQ+cR64bXDWOS6YkLGDXMIyNjtQ5JtjsjZnSVmazc262+HZciLhgabK95kaHNOrqbSoyTLQaBrsB9fLID/AJiPzguxPizoCcVx+7BXSCyD/wDQzzgu0vjwNGjwKOb0i2Hkr5BQdjTlQzgCcAOYKydFXuR4Ch5YwASGeIrOjQV7hQHCnMVFJJq7f4UVLjgWeVCPbWm8w510IhMtTn4lzKX3RJ37vOXTS2h7DxLm0kD9SSfDU3UszFa1rlmFr+NyZfkcCw5jm8qNh2c3Sgocx+dqMhzHN0rYjIER9iObyFSjseboUUeQ5vIVK3Lm9FMQ52JHffcntz5/SUZzHfdAUgNHc/pIAUbObylI3Ic3kKUbObylNacubpQAoy5vRSOyPP5EgOA5vIvE1bzdCAI358/SEjcJG8o85Of0/cm93z9KAO0RZo2FBxI2FAmEsRMaHYiY8kxE7FMMlExTDJAznOk7y3Sa2U+EzzGrD6cOJs1hrslfT9lbvScj2S2sEDNmZ+I1YbTpgdZrAKU687I/FWD9Tb+RkbO1roWk7BgvS0Lc8ioYLLrQg67svhFI+z07t37RXSq/Zw7oWTENOsa06U2TFxJJyUZh+M7wle3DbrHwlURIjI3yeymuMdqjdHvqVPhXmxcZ8K6YkGQOo4mpyRkQGo46xVdHBXuneEopljBad+/9oqMq7LQsmur+0Fjpn1RHT9oLtL3ygne1x2FcVuaHU0hsOJNLTGc/jBdve4g8+2ijm4LYeQQyyitWEcYxUE0j6GjhXgOCMfLSuQ5kNLKadyfCs5oK6WV1TWg5kI+Z9disJZK1BazwqC1WcRMa8tFHmrSHBzacvDxLpHLaToA3Z7uCo4Fh2XXM26bTaJYXkOlDmtZQuLcw4cLcc1vgcKNDa7FkmWzqTR202OotVmFqkgYSMQ01dve+w5Kmi0YXVmT5XFGVbbmMdQsfgelTx3vG2nW5MKcCFMBa4tcKOBoeVeEIW2zPRYMvuIU61JhTgT239CB2mXxcFFXCEJwgBRqDSH+vsR96lzrs4E83/DUncZfFw1VcIAl6nCNQaSx9f4f8GXxcNUgv2EHtUuzgQG4DgS9T8SNQUHC/YQB1qXZwJPXyKnapPFwUQXU4ovCz4I1BQYb6iIpuUni4F716ir2qTxcKD3DiXup+JGoKPoWJGw5IKJGwrs4CmImPJDsRMWSYghilGSiYpRkkNHPdJmn2T2unCzbTuGrEadAizXf8s7zVstK3ObpTa6VpvPMCxGmz3GzWImtBMcx8VYf1Nv5GUswPU4x2JkoOOK9ZyRCBXGlacSQse+uo1ziATvRXAbU0tzlvYix4V7GmaRjHyO1WNc9xyDRUlJXBVIkTu2HkCVqY474lOaCACQQCKjDNdMSCoq8KNiD9Q77YgY2PaGuLXNDhUEilRwhFxlzYwXNcA4HVJFAeThUJovBkl0AjSOw1P95j84LtLw11aPPNiuKXOT7IrF/uY/OC7DM3XxcPAFLNwVw8j3gYjdCOUId/fA+JefK7HWB8SHklc4UFQM8KLOaBJWmmetTgdmh7y1/W4Nha8GOTXJIzwwPL9y9JWaJzHV7E6pwbSu2oxFOFV7hbIGzvc175mYNc2nZAeNpG3yKkUY8029mvQQyAGTcmz7q8UIcMKjVBqeRYmZ80MMjWPNrMclBriutI7GtOIVNa44LWFjpnseQ1jIgA4tGrvaVJ4qgZrHXxaDFaJDYGGKKZx1S1x32YPJjsV8S3M0pNpJlTPA6Cd0chaXjPVIIryhNAVhet0uu+OKQ2lku6NaQyu/aCK4jiyVcHLStzpO0PAwTwKqMFPDqBAx4CWiYDmlDkAPoF4CqhltAhZrOxqaBKybX7ktPGihE1OJepQJusvayAHAALxCbrcC9rYIA77HkjYUHGjIclYmFsRMeSGYiY8kzkIjUwyULFKMkho57pPq+yi2a1Pe/MCw+nga2x2HEAGc7fircaURNfpRayQSaR5d4FitOYg2x2DDO0HPvSsP7G38jBWadoeSSO0ObiduCPua2Qx2iYvexo6llA1jTEtyQ9nirAKgZBMkjpXAKupEnF0E6O2uKK+oHSvaxo16lxoBvXKt3ZtSAcypC3iCTV4gurJ0QPeAiJZ2bjAA4VETQac6hcN8nNFNgXTEiyt1qhNju8Mewltla1wByNXZqa2WyD1qukMkYXsjk1wDiKyOzVdHyBFMbvDvW5cCk5IpGLYtxzNfpHYDUe6Y/OC7TJLFjkuM3MAdIrAC0YWlmXfBdidBGe4coZ+DTh5GyGMtrVtCoHFgrXVwU5gj2MUboGU7FZi4M8xltatpyoCawCW0RPZbXtD376MMwA2DPHFHywMJJ1ShnwNA7E8i6To4njU1TAbRG+CwWmxSAGU1AfIdagrU45EbVkr0jsthksQ1dZtTKQ55GqOxoRygmvAthNABXVbyDBczvOUm2PjNRuZLCDwgmvjWrCtRjzYlFosG3jY578dabUwSRuNMYd7ylutj4VHftphmvACzSNkijY1rXsqG04hs5FUApwctGkjW9kgcnByiDkocujqyXXXt0UWskLkUFj3Pq11cd70hPY81NUOJBvgdbLGgrhUJGzsyG6Y/E/FFCsMDqpdZQMeTgnayB2S61Kr2sotZe1uNAWfQ8aMhQceSMhyVDgLYiY8kMxExpiCGKYZKBimCQI57pQ5w0qterrUpHkK9wFiNN3k2Ow11sLQcx8Urd6SuDdKLWC4A0jw+YFiNPDW7rFiD7Z2d6Vg/Y2/kYqzY2bbg2qfJA3qMS6xqX6tKKOz9oHGKJ0spNn3PCgdWvMu1VnDuh9psLIbRA0SF26tBJplVQW2zNslqfE15eG7SKJZ7U+V8TnUBjaAKcSbapTaLS+R1AScgqIluBu7NTRxa0rGVO+IFaKF3bCpY5C2Vjhm0ii6YkF2WzNlfJV5G5t1hhmiIoWmwyylxq1+qGgIOzzuY55FN80goiOVwsz2bHEHJSlRWNi3O6mkdiOOFoZl3wXXnWgnGj/AALjVjs8lqvOGGOUwvkka1sgzYSRjzLZ+w29KCukto/j/mU8kYurdFcbaulZr9aaYkRNldq56rck0x2rbrN5aIb1PrstujulTLRab7fa4po3QujfrUxoQcXHaPGuvSys3LWo0jkUNCd1L0dSyyi/5OVNsNtnPW2l3IWjpT3aO3y9tW2OZ4z3paelbS8LwjjDqBo5gsNfl8PL6MleBxOIWN51F17Kx1SA7yuS+LNC977utLGNFXPLMhzLklro60PNSSXE151vbZebmWaRzpDXVNCTt2LJ2m6bPuUbmyPJcWtwcNrgD5St3xsi3bM2eLtFQGFKGFaX2AAV/STRjTtX4rw0AH+ps/dfitnlh2T8U+jOCMpRE7gWj/o/G282/uvxS/0fs/1Rv7r/ALI8sOxeKfRnNydXIpDE45Nd4PxWl/o+bX/yf/F/2TY9AGvjDvXKla+9cffI8sOw8U+jNCzu39Q+hFMAOHlSR2ZzDk48w+9aY+p+wf8Asj+6/Fe9gEdMbyI+i/FPzQ7Dwz6M8GOHcu8X3ptXaxBa7lotH7AIv9T/AOL/ALJPYFEM7z/4vxS8sOw8M+ig1a418K9qcYV6dBYR/wCzr9EPvTBoTGS72+cDTtY+9Pyw7DxT6O2xouFCRouFXIhjERGhmbETEmIIYphkoWKYZJAc80qw0qtRPwY9nxAsRpy6t32KgJpaOCnclbjSsf1otO9rvIvNWJ03FLBYzq09s5/NKw/sbV9RgoWzbkKB5w4kjxJq0If4vvRlnB3AYjJRSg4rtS3OHHYEdrkjssqZD714mQvJoceRPqa0S4qiZKgdwdrZFKNbWBo7xJzuySBy6YkjqGgscFr0LZqNBls88jJQRiKkFviKtJLO2lNUeBZT1KLxbFpM+7Z3asN4xGMcUgxb0hb6Swg47oPAsOWNSNWN2gGw2ZotMZ1RgeBauNrS3sR4FRQwCF4JfWnErFl6Ma2mo804wo0yth4i1zRrQSlls16sbqxzFkRHdDWp4wg4r9ihkqYXmnxgi5NL4HR6ossv7QXDxqXs5bfBnL3sN+vBEU8Mg4S0t+9ZO2XLpC+tXWenKfuXQptIoX19ryftBV815wyA9aeOUhSjicXsiim63OeXlonbbRZniZ7XhpaWguPPkmWXRGURxENbvC04uNMCtzLaIZWkajhXbgoWyRtGTqci1RlOqJOKbsp2XTK0b41+cU9t2uBxFedWhmjpWj6cgUbrTENj/AnuO0BtsNM2pwsTadiiOrIQKlr/AABNNvgHcyeAfejcLQO672E11SCMiDQhNFlnibSJ2sBsfn4UQbwhHcv8ATTeEPA/xJ0xakVdsvGawgmS77Q9o7qNzSPvQHsqi2WK0+JaE26E9y/xJBbojk1/iXaS5QanwzO+yhhHuO0eJNOkrD/c5/AFpDbYqdi/xJptsXwXeJH+eguXZmzpE3/JzeBMGkAGt7VmxdXILSm3RfBf4kw3hCM2v8Se3Qrl2b6MoqAoOMouEr0TCGsOCJjQjDgiYzggQUxTNyUDCpmnBAHPtLnlmlE+rtZF5qxGmz3Ouyy12WjD9krcaXOA0nnBAxjjz71YfTYg3bZKAD2yMu9Kwv7TavqMdZw7qYnYAtlct2WOe7hJJZonvpmRisZZ3g2dza7Fubgc31rHYqiRCb9Ga0maIpBFEAxlexAFFQEFX+kxBtWFFQuOBxHhXaRwiOlSVZXQ1ssjWyND28BCrW54HYrO5yBO3LNdMC3tGrdckVqsbGRTRPa9j2jEEGoUh08v11SZ4f8A52qC93DqfABUm7AB2KlJWd42aOw6a35bbyhsxtULRLI1mt1O3CpotYYb523o3/5WLm1wu1tJLF/uGeULrZcRjUqOX/NUacS1XZk9IL2vm5WQkW5j91JGNnYKU5FSS6aXy2Jz+qoyRs3Bqt9PDrMsY+M/yBY+0xUsjzyeVWxRUoptEcrcZNJluNMb5fGHdUxYtr2hvwSehedpXfGsR1VHnTtDeEDpVPE2lnHyY8xymLeuHvvSar+OHRLXLsP9ll8U90x/uG/G+5NOld8UPtln7lvF96rtXe83Q9NLcD+fgI8cOha5dlidKL3Jp1UzP/BbwkdCjOk17FpPVTcq9qbwA9KC1d8OXpemFvWz3votR449C1y7DzpFepdTqoZ07U3hon2W9L8t7i2zvfKWhpOpCDSoJxOxVxbR54nekV0GSwi7Lqs1jhADYomF5HdvLQSTw/culji+CGf5EsSMpJLf8Y649reUM4vxURtd9NOMwpw0Zwn8FYW7fVVXI7PCiPHFcEYfJySJILfeUlojZPbmwRuID3ljTqjaaDPatjYr90askYZOJbTQULqO1jx5gBYB+OIKRgNUKMVwOU5z5a/8NFpLfUD3Ge4ZLTZ4m4OjnLX1OOINKjkxVF6/Xlr06q207W3hpwJLVvbCQc3E+IFCEdc+d6SWiPRqxzlp3YV6/wB5Ub7Zzp723grwJvr5eOr7pOXwG8A+9BgYM5vNK8RvTydDUaI9HeqXZ9DRlFxFARuRkLl0ch8ZRMRwQUbsEVEUAGsOCmaUNGcFM04JiMFpf/aeY4dqj28RWI01BN2WSn+ZGNa7Ctfpq4jSmWle0x+QrFaWPcbBZq1p1Q3yFYX9ptX1GXstke6OocBzfiiGyW2BhbHa5GDgaSOlJY30g25JJX1O1dW7JuKoFmjllcXSzOe7hdU9KgfAQ0nW8SJLkx53h5FRMlQGyMl2ewKVjZIzVkhaeJNYaPPIpA4LpgkOLrRLg+ZzuUn70osry0nWHgSsKJZ2B5FKTZSKRHcUZbpLYtY5WhlaDjXWaxuw1jXlXK7n/tHYyM93Z5V017S4b7fKObg0YeTM6dADqKhOb8+ZZS1j2m/m8q0+mpc42OvC/byLM2r3HJzeVaMH8Iz5v7Y2NvtcfJj6sqYt66e/9NqSNvtUfJD6oqVzevH5T7Rq0EAWm8He+i9eI3x/O1ifTrXzfRevFu/PL0sQBprnnnu+5bALruyxWy2W+aXXNoszZiWtLgANbBoFCSePEq4hs8lqZ+ktH9FakYlu6RuyH+GSOHwBZ9t5S3Zcd1PiLtWRtoZI1rtUuaZHVFaHgCnbprCY9Wa7pDhm2YcA+LxpRrkjleVfXRp49FtGbWwmewRQPOXUltlpmT3Y40Tb7lEsLepppXhjQwNqxzqAUGJpXJY12ltjNQ2zWllTTNp2kdCGk0mhlB1JJ2U4W8Vdh4F3S4Zlk80tpwsu7TotNJUkW0d7Z2u8hVdNok7aby5rEP5lW2q3zxxwydUyNE7S5m/OQdq+VDNttumO9vdsY+PO4cPFxFcNf9lIqX/EsvYfK7Bkd5O5YGM8rlHaNGjYodeQvY6hOpNK0Gg4NXh4KoTUvGbe+u8L+PqwDp4wirbE2yXTYWW6R82s+U68MjXcmJwOWS5ddloxnvaRS2uECytlqauc9moe5oGnpQ9OufO9Iq1vWCzsuqxzWWWWTqgyufurA0gjUFKAnYqwjf8AzvScnEsQUwZ+e4SkYH8/BSkb1vJ6CcRieXpaugO8Mci4XKvY9EwyIAso3oqJ6rmPRUUiALKNyna7BAxvRLH4IEYHTJ7W6US6xFTDF5CsVpc5rrvs2qR7oblyFbHTTVOk8hIr1mPpWJ0sIbd9nNMrQ3bxFYn9ptX1GcgkpCORRySHhKiDmBu9c/nomHfZOKoluTb2Ha5+EV4kkHfFMEbjtS7m4NOK6JkRNJDjsShx4SmEb88iUN410ImY48JRMbzq9kUI1nGpmNAzJ5lOSKRYZczg3SKxE5CdvlXUXWqKn4Lk1ntAsVvgniaXujeHgPyJB4lubJe1rtMTX9T2YVHA5RzK6L4X7BdNXtkNj1TXF/Qsza4/aTzyLRX+6e1us+6xxt1damoDxcKqLzgMd2OdTaAr4f5RDN/TIGtpZfovslI4e2D8p9o1JT2t9F9knuHtg/KfahaTOC06z8z0HpXDrh770mJT2n5n2bkrh109/wCmxIYfeP8AZ25+9nP8b1UluB/PwFbXj/Z65/k5j/HIqsjP87Y0kNkdN9z9L1EBg/kH1an2/n9YoQMJPz70mIsryHtO7B+od9eVWU3nN6L1a3l2i7B+oP15VZTrXzfRckvQ2IRvufpYrW34aM3SPjTH+JyrCN/870mKzvDDRu6OSY/xOSfALkitw/QN2D5fzmBV3dc/S9WVvH6GusfFm+saFXfnz00DInCgHIfMCdTfnl9IJHjD5rvMCfTrh770gmI7ayyk+/O8AU8dkfslJ5grCO63HPBER3YRtXG51sAMs8g98dzhExQP/wARw5qo1lkLcx4FM2AU3oqU9xATWzA0DxykIhm6AYurzIhtmOdAEos5rQNcePIIAy9+aPRXpeRtEk07X6jW0ZSmFfvVRbfU9slvhaye0WmjX6wAcM/At4+yjWqQBTaVFI1jdpdxNC40q7O1J1RztnqS3QBvrRbCeJ7f5VK31JrmOHVFtH0jf5VvWRVBJGpU8tU7cDTsdYcLSnQrMI31ILlOc9sP0jR6KcPUeuTbLbv3rf5VuWt4DzFPBLRXyIAwo9R24j79bx9K0+inj1ItHm1Bmtxp+uH8q3G6DaFK2JvZBta8KAMG31I7icd46304TMP5VJ/Q9cVOuS20cW7D+VboODRi4DiCUPaMSPCigsw8fqQ6OBzaNt7w01o60UB8DVcQaAXJZogBZ5aDAdfcVoDOAMwAk3ZteyqTwJNJ+xptejF6QaI3dAYDZI3trXWq8urlwrGaa3Wyw6O67RSsrR4iuqXw5r9y4RXoWB9UsD2KNI2zt8jk4qhN2YL+7n5L7IKV3uj6T7UKI+5z8n9kFKfdB+U+1VSYMfc/0f2bkrh149/6bEh9z/R/ZFPPb/pPtGoGG3mP6vXN8hKf4pFWEb48vSxWl6Cmjty8dmlP8UirSN+e+9Ji4j6GyE5fn9Yo6YS8/wBWFKew5uh6jphLyu+rC6EWd5jrd2/7cfXuVX7z8z0HK0vQ/wDjhwWZv1zyqv3n5n2ZSj6Gx1Ou0+N6bVZXnho5c/HFKfG5V3v3z/TCsr1FNHrl47NIfG5J+0C5I7xFLquofElP/MFWdzzdD1a3mP0ddPyUn16qve/m+i5NAxsmZ5H+aE8Drvz/AE02TsjyP6E9vbR3/plMR//Z","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAHAAAAgMBAQEBAAAAAAAAAAAABQYCAwQHAQAI/8QAURAAAgEDAgMEBAkIBgcGBwAAAQIDAAQRBSEGEjETIkFRFGFxgQcyQpGhsbLB0RUjJDNSYnJzJTRjgpLhFkNTg5Oi8Cc1RFRWlHSEs8LS4vH/xAAZAQACAwEAAAAAAAAAAAAAAAAAAQIDBAX/xAAiEQACAgMAAgMBAQEAAAAAAAAAAQIRAyExBBIiMkFRExT/2gAMAwEAAhEDEQA/AOh5waxau/No1+u+fR5PD900iae/GmjyLGR28IOCk0iOMeo5zR264knOj3Salpz27NAw54nV1yVPhnI39tR9WFo4OvdbHka6f8CA5tf1HHX0NftiuYdXb+L8a6T8B90trxDqbPg5shhd8k842GAabBHSX4s0yPiZtDkuDHqGQFiaNhz5GdjjB2o2AcUh3HF+sWvGSX2p8MTw2S2xt8IFkdWLc3PnGceGBTTb67NqLAWYsxn5MkuG+Y4P0VEkFMVE45sYOfZV8cbmJTMio56hWyPca+KUDFnijg2z4miWQlrW/iH5m7jHeX1H9pfV81c1eDVeF9fQTAWOrIcxTL+pvFHkfP6a7dyVh1fRbLXNPez1GBZ4X3wdip8GU9QfWKAM/CHGVtxPbGNx6PqEIxNbt19o8xTHiuP6jwlfcOX63Hpj9jEf0XU1HfiOdkmA6j97ofUaeeE+MRq8h03VFS21aIboD3Jx+0h8fZUrI0M5QHrXgQA5qdeUAeYrzFSr6gCOK8xU8VEigCJqJFSNeUAithVRq5qqYUhkDUTXp2rDqGpRWMeX7zkd1B1NID2/votPtJLic4VFLYHU4GcCqhqIkhSRY2w6hhk+BGaU9ZvZby3nkmJz2T4Hgo5T0o9bHFhb/wAlPsigZdLqLDomPfQDiLiibSLLtUiDu7cignAB8z81FZd80p8bQ9rpkI/tx9RqM3UWycF7SSAMmq3Wrz9rdTGVs4BOyp/CvhXvY88gKglgMA1CwtORTkgAGiAdY+7GpJPurkTk27OxCKUaM6WA3Mz7deUVehjhwsUYIHj1qJPMSHPTqq1AySdsUjjChepJ3qG2T0i55HZTk8g/68aqCZ2QZA9wqRUEBmJJ8cH76nE4eYKMKPEj8aEBDscAc56+fSrIQOdTGue8NzsOtWNLBboWkdFA8WOPpND5NbtlkAiZ5DzDBQevzOPvqyEJT4iueSEOs6R3ZmKyc3Mvl470B4qVYdBuWDZwhx9Ncc7W7B/Xzf42/GomW5J780pHiC5Oa7nucD0MfN32/irpHwIXk1rxPqDQ8p5rQBgwPTnFc1Px29tHuEfyl+UJ10mGOWUw98O/KAvMPH20iR+mY9ZjLBZ0aNj4jvL+I+apT2lhqUfNNDb3C/tMoP09a4V6JxSzEmzg/wDcH8ajpvDmsvPfSanEPRxZzSEdvzYYLkHGfAio1/B2dxs9ItrC5Ets9wij/U9sxjPuNGEkgfYqqn1iuOcP678JFlbw9tpKalalFK9sQGK42w4Pl55prj4s4gc4fhC5Q+u7XH2aODHsCH9mP5hXpht5EwQg9mAaSv8ASPWx8bhoj1G+TP2ayxcZanJqU9onDchmgRHcenJgBs4+T6jRYUONxYgKynlljYYIODkHwIrmnG3AUtlay6poEhQWoMxt+fBixvzRN4fwn3eVMo4m1j/00f8A3yf/AI1k1ziLVpeH9QSTh8xq1tIGf01DyjlO+OXegCHwaceT8Vac8OoQlbm2IQ3AwFl8sjwb6DTxXIvgplNtpOpOqBv0hM5/hroi6slxCUdO6Rg8rEGnYUGcHyNfYPkaER+hsOk4/wB+/wCNXLaWbdDN/wAd/wAaBUETnyNRyfKs0FnBDMJI+05h+1MzD5icVqyaAIHPka8wfI/NWZtNhyTyy79fzz/jVbWMA+TJ/wAZ/wAaBmls+R+aqiDWZrC3znlkyP7V/wAauMhApADNV1X0QGKEc830L7fwpeKyXDu0rF3Y5JPjWvUG59QmJ69qaqAzgADJzQMH6lHyWVxnf8y+PX3TR23/AKlB/KT7IoTqCE6bdBsEiB/smjFuP0KD+Un2RQBVJSxxoSukxEED88Nz7DTRIKWeM0DaRHzdO3X6jVeT6MsxfdCvad8KQS4XfyFbyS/xiSPJdhWa15Oz2GceRrUrkkhcD6a5MunYjw9BKrhVCjzr5YyxLdSfHr9JqxUY78udupqSpKw6hQNv+s1AmQFvkZbGPXv/AJV7dwBLOYxEh+Q8hHgajP2aNh5VI9ZyfmraJYG069leWJViRkALDmLdOlavHim22ZPJlUaQhklzzOS7ftMcmrLde8p/eH11FV8qa+ANAt9Z1SRrvlaK2Absz0ck+PqFdatHIvYnyWoDDbxqmeAIpOPA02PoVoxH6dJ1/wDKt+NWLwdFqNvctBqAzBA8pDwEZ5RnHWoOLW2hLJGTpM5j4mnL4M99euv/AIb/AO4Umjz86fPgttFa5vbvmPMqiLlxtg4OfoqQx9wakeY2OoBepsbj/wCmamVpYsNTlGt6nFLcSdj6LdqELZGeRsUgO28P5XhvTR0xaRfYFb8nzpX4C1aC44ZsLV5v0lIVBR2ySOUHb1U0YqQAaaaKfjD0KVA4Nj2u4/fxQ/8AItuOK78wyiJzaQtytvnDP76x6xqg074SJHUgSfkcqmenN2mRmlPXeKJV1hrxHxcC1VecPgAhmzj56WgGu/1KLSnUXMkfK/xXRuZTQzW9at5+H74Q3CAtbSDoDnumueLq97xJqiWodYy3MwLeGAWP1UGl1WSLtoo1ZY5EIHKNyMHr99RGdA+C8KdI1IY/16fZp20t0/K4tSiFXgaXdd8qyjr/AHqRvgtP9GakP7dPsmnzSAp1wZHe9HfB9XMufuofRrhskvLeCVkMLZU4yMV7aXcF3LIiRyAocZYDHu3rLdIDeS/xmpaMB6dcKPBvuFYcGbJPK4y4a8uOEcakuhPsgOmRVUcQt0bkZsFixySdyfWa2FRQPRtft9ftLia1SSNYLh4GEgwSR4j1EEVvox2bJXzNG7ZLJnlwSBuMbjOD76hJNzqysDhgRscUO1LW4LHWtP0+RJGkviwR1HdXA8fbV97crZWM904Z1hjZyq9TgdBQM0xJy26hMhVAAyST85614FbO7Z91UaRqMer8PQX0SPGtxGHCPsy9Rg+8VbFugyfCgQv3yH06YeHOd6jy8q422q27PNfzDGe+aiRgYO5J8KKAxahHz6ZcnOMQPj1900Tt/wCowfyk+yKHaiG/JV2Tt+Yf7Jojb/1KD+Un2RTArkpa4yCnR05yQO3X6jTJJS3xkobSIwxIHbr09hqvIviyzH9kLdrJDGnTbwrR6WAO4o38c9KqtreNlAK8x/erYkHLsqjPurlySs68W6KO3dtsn+6KrbmYHIY+2iKQdzvhW+epejgMMcq+vl/GoWiYJjs5ppF3CrzDqfDND9S0u6tpTJPC0Yly4LDqCc0zxjkmTMud98EUc1S6sL60ELiSQY2ZE6e810PDp+zZzfNtOKRzALjanj4N0VHvS5VZWCqoPUjcnFCjppVyezC77bUS0QSWeqQSIuTzY5fPO1a8jTjSM+OChL2bOviKLGOyj/wilvizkR2VVVc6fc9AB4LWBtd1sHAkc/8AyBH1msuo3t/cQzXN9FK/ZWkyDlhVAOYA7971UTyRcXTMsISUlaPz1jG1dF+CofomoH+0UfRXPG3cnzNPvwV3JEl7arGrM+HUmQLkgbgA9dt6C06FikqC2Emu6oobB7G6b/kY06MJ16woP96PwpFWSaPWtSIVS3LcjHP+62d8eVIaGvhq7Szjt5kU9stuhVi2ynlHQUz6fxPHaafO900zXU3TvbD1g9K5727JY2vI2OWBMbfuislxf300RUSStGpx3U2HzCkrEGte1l9Q4qjuoHzItsFOQWJIbwz4/RSlrl/Nc6ixkyrAMpA2z3jXsuoztcc5umWXl5AwOCBWSeE9vIZZmmYKp5iCObJPnToDfwWAeKYQ3Xs5PsNS9efryDkYBORTVwlbLBxNbMebJDqduhKGgLLb/lBe35uz51DkHcLzbnp5UNDQ/fBax/J+pj+2j+yaftEJOtE+Vu32lpE+DNALbVeT4vbry58sHFPuiJ/TB/kN9paT6NcOccW8WapYcX6vbx6jeRRQXPLGkKxcqjlB+UM9c1u4R1/V7q0gupL52kmRS7ci7n5vVTNrHAvD+ratdXd7ZmSeaQtI3bOuTjHQH1UFuuAg80drp9wLbTo5F/MpIwflA6c3t3rOpwUqS2XuMnHb0dCspXmtVeSQsxHXas9xE2/JNIvqBH4UGs01PRdMuGvJ4WQA9mwJPKTsM7EnfFSjn1W4tUeOO1lJHxzI6593LtWlOzPRpKTI+WuJCPI4/CvVdvGVj81YootXkZhcw2qLy90xyO2/ryo2rLeWGrmZxasvZumBzNy8p336E75+gUWFDCrH0Z8uTt41VG+EX2Ch+i2+pW2nJb6hiV0iCdqGLFiBjJ26nrW8RvFAGkUqowMnzpiBk0Ya6lPm5rwpgf8AWax8SaynD+kXWpSQtOkLjKI2C2WA6++hlnxjHepC35PuYxNylTzAgc2MfXUgN+qDOk3YwcLBJt/dNErdf0KD+Un2RWDVwV0q8HiYJPsmi1tHmyg/lJ9kUmBklUilvi5T+TIsDJ7YfUaa7tDFEXKkqOpAzilTimcS6bCIG5yZgMLuTsahkXxZZj+6AFusgTm5SKsZpD+2fYcVY8NzaxRLcI8fbKSqOAGIGMnHXG9VgMehI9ox91cySaezqxaa0fZYHdT7z/nX3ZuRnswan8TPfYn1YNVM8mSFk5/oqFEzdpiZ1KDtE7nOOYYHSug3Grxc3KkIZfDKiub2E4tbtZZu05F3bO/iB99NY7VsmEF0I5hjfaul4UV6uzlee37Ki2/Ed+2WjVP4RvWGGwjt7lJUZuZTkZrPPxFaW3dmff8Ac3qVhrVnqcxjt5G51OeVlwSPVXSeNNcOSssl+jLIpydvOsurbaPedP6vJ9g0I4R4vt59Mkk1a4s4AjrHDGoJbAG/UknqBSDxDxrrl/qd4kV5NHal3RIowoAQ7Y2G+1cz/maXToLyFJ0kIuNq6L8C0In4hvopGYRejBiAfHm8PX4Uhx25dztgU6cB383D89/dwiMxiykabtFJ7oG2PXzFcVeI6De65wzbNIs+vRB0PxIwXOfLYGlJJtDubq6eynvprqYScjNEEjHMpz1wTtnwrnMtw7yMzOcscnenr4LuHW1KHV9VYHls7dkQ4O7FTnf2eFKyVE4LmJ4bWNiCSiKe/j5Io9YcQ2fDOi9he2npr3Ds6NDc8vKOm45fUaIaNwxbiws5zwus7GKN+dtUYcx5Qc45NvZRb/Rz0h1YcF6c4GFDS3rvgezlqv52DSOZ6jLby6vLMsB5rSd+QHvZ69cYrG7TarqblE5CyKAAh8M+Ga7UeHFbJbTdGtixJKta5JPnnO5rPaaBJacQXE8Gn6W8bQxoQkhiZGGckLg9cjx8KfsS9Tnmi8M33p0U6xzEEE82DHsfX76sufg2jjtJ7mTVoC6Ru/ZjckhSQN8eNdLl0+VLjnaKBAfBbj/9KrGkablxLG8yvnKs55d9jtTTbFSQjcB3UOl2V6twTzSMkiqoy3LuM48s0Zfji10y7ea3IkkWFkEcgK5YspGfVgEe0itevWFtFAVs4LW1aRVPpEUCluVfkncbUL0/TuH4buS/1G4We46xxsmI1PmRvk+3YVXPPijpvaHHDmk9LT/Rws9Xt9Yshe2jgxS5OD1U+IPrFRhnLXfLt18K57ouq2vD/E72czMdL1DLQsp/Vv5fd7xTeNQ02G7ikg7VnZgvUY328qphByamuF7koxcH0La6f6Fl9q/aFDrP0gmGSK7ljiRwpi25DzEjfbPXHjWnXbkPosyQqzyZXCgY+UKD2t+F0hw/brNkMFUDlyGyM1pclfSqMJVwMNLczXndupYxEAzIuOU9Ou2fH6KruJ7pryJUu5FXtRzcvQjPLjHtrHaaijahfSP6QquFCcqjGMb599US6gixBMyLyqpU4AJbOd/Vmi0NRl/BhuDcmzCC4ZHckB49mG3zVj1Rri04bkWa6kuDFcCPnkxzHckEkeoioSaxHM8A/OqgJLMAAfVisHFNwt5oN1DbvMxaeKQEnB2GDuPYKk2iKg+AjjG0utV+De4js4XuJ5AjBEGWIDgn27A0m6Lczi6tLeW8lUxtEno7nlIxgEFSM9a6foCMvD9mrZLBMHJyepq+8sbS8dWu7WGZo2DIzoCVI3BB6jepraK3pmHV9tKvm8ewk6/wmjtkn6JB/KT7IoJrAI0a923NvIfb3TW+31uxhaK0a4T0hYY2MQPewVGDim9CSvgcjgSSEhhkZxQG50lLGcmy5YiQzNJygsSSMbnw69KKJr2nxIsbT8rePMjDf5qy6hdxtIQp67UFmONyEPVeGdRu9aW+fUoMKhUqYm8Tnbf1VjvbqDSl5ZZTNIcY5V5QMnHiabdQJWB2HlXI+LNRdXROYZmlBx+6p/H6qzZMcZPaNsX/AJx0OC3ituAP8VeiaM9UpdsZWeBW7w99bVkkHyq5/rRqUrRs1CWP8mzlB3jyjOP3v8q+suNbjS9AnsEiEs0jBUlc7ImNxj6vbWRpk9BnFyO70XI+Vytj6cUNSye40u6vlYBLaSNGUjc82cH6K6niqsZy/LdzIpK0j4J3rTZyvaX8MqEgq4O3trDbnMye2tx2mX+IfXXUx7RyMupUOh4V0PRNA/KE63LXvYdpDHKgROfqMeeMiudPaSBncuRmm65uZ7jTCHjQIZMLyqc7Dfcn1ihTafNJHIQgHKuTzHH0eNYk9bNMdinBGc7771p1G6kttJaKFiouMJIB8pQc4PvAPurxRysR66Y+EdK03V9U7PVppIooYmlXs2ALEeA29dVt0jRFW6FDTdKhvUke7v1sguwBgeQt7MbV1r4Gbv0Phm8gt89objMhxudiBt7BU9G0yK80nXY+HNNup5mneOCUciKAAuMs3ez12zijnAnBN7wzpkz6tbWj3M7cxAk58dceQzuapkpSWi1OMXsY1v8AUCR3o4R/bSAZ/u9aktxPMrH0+IDx5ULffWe6nnjtWeOFIQG5QqRgZ29VAZ7zUEUGbfPlt9FOONrrB5F+II32o6dpkyen3kpaTPIzEopI8O74+2scd6ks/aW7rIT0YSD8axXNo2tcOyTSAOLe4ZXQ+fKOU/Sa55IZrG5ZI5HAB8KkoqPCLm5dOk6lNcJKktszLL/rI8HvjzHhmpC9flxKGR/EMpB+mka0164ACyyMQPHO9OFnxpbrpB/KHLMYxhVfHe22GaYgM+oTi7u7SJWlIfn5cgDlb1nyI+ml3Vr2OKV+dwo8cnaj+nyaHrWuNcyQXNhNOohIjueZAOvQjYZ8acrHgrQbSTtVsI5pf9pPmVvnaseTxvfJ7Xo1Y/I9IVWzj9pFHxLcwadBcGKRpQ0cwQsEPrx4V0bR+EpLMRR3t+LmcSq6yRoUAQYJ5gSfn9dNsyQWkB5EjRQOiqAK5nr3FVxDxI6W8zLEYh3QfWa0wh6KjPOfu/Y6YwtjkMqEHwO9L/EHEOmaDcRwPaJJI+G37oxnwPnt0pXteJZ+ZWMpblIOCetS4t1++1jRj2FgktnBKszSFsnukHHL5+HXpTkqWitzkv0Zotd0qS8NqYVi5m5Q3hn219fWkcUhBU8p6b0oR6Xf6hMk0FrKRzZYcmCnjjHgcYo8zau+oWwktLoxh+8OzODsapxqU4v2J48ji02a0hbs+gKjoQahL3UJQ7+Oaua7EfdeN428QyFah6QjeANTWN/0v/2X8L7C/wCzhEbKAo8B4eythmEm6MCvnQhnRxgDlx4gYqpJTDISrcrH5mqxScO8KnGOTmmbdZ72j3vji1lH/Ia5l8I+3EsLDYi0hwR1HcroGoXgfSL1SeVjbSKB4HunpS7xxwlcau8OoWM0bSLBGjQOQueVcbHz9Rqy1JaKmnF0xT0/jHV9PUIt0biIbdncDnHuPUfPRu247tLlv01J7N/2o2Mkf0bj5qSJopbaVopkaORDhlYYIqovUHFMnHJKPDu2nahoOpWJ9G1CW4Vlw3M4bHtx099InF3Cmk311HcWt7IeQGMKgxy4JPyhjx8DSEsrRSCSJmjkHR0YqR7xRS34uv4gEu+zvkH+2GH/AMY3+fNKXtWianF/awvaWF1ZKVhdZUXoJRgn3gkVpF3JGuJ7aVP3kHOPo/CqLLifSboBZXksHPhMOZP8S/eKMLEZIe1hZZoj0kiYOvzisErT+SN0HFr4sF31xHPYL2Lqw7U55QRjAHUHp1oYGfkZATyk5IzsSOlMM8aSRBZI1cZJB6Ee8eysLafCR3HeM+RHMPurf4+aEYerMHkYZym5IwWULTXUUQOGkdVB8snFF9U06TTNRETHnQsOV8Y5hms1rYywX0EgZWVZFYlTggA+Ro5xRNHcXNt2TKwDE5B9dbsWROVRZhzY/g5SW0N3F/5MVYZLSGPsuSTHZ4A7TbBIHqoRPqbrNqEWnRpDFNCqAJHv8Qg7nJGat1GynTS7iKeMq0Uivv5EFT91DIZOzmY5A5yPqrIlompW9CHcwtb3LxuMMpwR5Vbp149rfRSRkZ3TcZ+MMUUudKk1jjU6fAypJdXIjVm6LnxPsGa7LwpwHovDoQ21utxdj413OoZ8/ujoo9nz0FqZ58Ftm1hwaGuIXglnuZZm7RSpbJ2OD6gKZ7qBLkxtzZMbcw8jWWa/HpTQxAEqeUs25zXl/epp9ks8uZGc4UE7UUFlt1F2sRQIGwcgedC7vSHuR8VUP7x2rBLxTIxI+KPJdqytxESdx9NOhBCz097WWeKSPEF2vJJgghWHRvZ4VzXiDQr46g/Y2Fyy56rGSD76eDr4I3FQbX0VSeXf20UOzmg0PVM5Gm3g9fYt+FeX+j6nJpki/k+7LoOdR2Dbkb+VdLHEKgfFqS8SKTjOPfS9R2cusheCJTc29xbnABVomQBfHciupcMalHqWiRyM7c6HkOG8B0+jFDtT4pRkMQYknz3FZ9LeLTNPkljYhZvzjKTsDjwHhUWNGvinVmtY1iikyJDg56iuTatNdXOuu1pD2oRRH1xvnNMeu6mzl52OcHYevwFUcPWgxzuOZycsfM0AP/AfBdlDoFrqOpwrc3txGJeRzzJFnoAPE+ZNadTuoY9RDOEjjCgYQKvLgnblOPnFZtH1ufTYzGB2kI3EbHGPYfCjMfEWn3XcuAYmxkdomQR7RUZR9lQ0/UG/l3T7eTtILhmmJywCcxbbHRaoln1OciVLyFRMeZILmIo4GegKn6xTHbXFhMR2E0BJHyWAqGo2npEf5gw9oPil1BxUoJx/RSaf4LM0OvORGlsUJ+WZQ0eMeHj7sUO1biW00hRYTWXpV7AoWWVW7Nebr680y2EOrRXLtqV/A0ajCKDyqo99A+K9B0bWJWuE1AW18cBmiHarIeg5lH1gim+it0KknG9wpOLOHHrZqinHTNtNYIR+5KR9Yofe8LarCT2SQXSjximCn/C2ProMttdvPNCtlctJA3JKqx83IfI4o0Gxyj4us5u7IkkQPi4z9Iq67kiuYOeMiWIj4y74pNj0zUpDhNMvT/uSPro/oej6jbLJLcqIcjCxFgWPrONhVM8dK4mjHlt1IE6novbZeJs+QJpcubWa3cq6EEeYrockaNkAcj+I86H3Vkk2Y5U9m331VDO1pl08Ce0IfNUSaO6joDxktEOYezcUElheIkMK1RkpcMcoOPSurLW6uLGbtbOeW3k/aicqfo61VX1SIcGK043vEAXULeG9X9sfmpPnGx94o1Za7pGpHlW79DlPSO8HKD7HHd+fFIVfHpVTxRfNF0c0l3Z1ZdGueVZAqmNujqwZT7xtU5dLnSReXGCRsDtXMNN1e/0eXn028ntT4iN8KfavQ01ab8Jl0ZETVrKK6GQO1g/NSfN8U/MKpeKcebLo5oNU9H6FvtPgu7eSKZQyyLyn/r3VzfX9Lg0zUoY7e47XnkA5F3K7+J6V1Ca3a5UrIVRT1Ct99D9S0azjsWeUlEiBZQGwM+FWyzXpIwxxU7bOT6En/a/bAjZbpx7+Vq7Xp/633GuOaUoT4VbZw2C98R7djXY7D9b7jVwwXHvqTn+1P31Dir/u2zA9f1CrYx/SD/zTVfFI/o+z9/1CmAnPsTmqG6VomHWsshqQHhPnVUhr0n11U7UgPi+3Woc/LmoFtqrd8CgYOv5D6QD5Vpn1EtYRQg7Ku9YL9vzorNJLyqSTgCoMaM94/pF1HFnIU85+oUw6SgiiyRjypZ04madpmGec7DyHhTTbbRLnypDNyz4XOQM1lurw4BUnYH56sGy7ih8/xnDIcEdOm9AFb30hHMX5F8T13/Gsr6m5YcpbHrO9RnBYZLEbbALsPprIyAkgOf8ADTQjQ9++D3ubPQn1eFWQ6s4Cksdjt5UO5Cu/OPMgg1GQ94BRhV6UBYxwawzALnHurHw/dEa5rhzgPcKf+WhRu0tuVWLFmzyovU43PuxWHRuILSLVb0yuUW4kVlY7gYGN6VDOh+kEjIOfKvi/n76H28pZBuSMDGPGta5YEAbGgZG4gWdcnZj4+dD5FaIlJlbA6NRLbqSPurba2y3kbRyqGQDKnxHvqjJhU9rpdjzOGnwWmgOP2lPQ+VDL7R4rlScYbzH3023OmtZnugFD02rG9r2mSmMjqDWP2ljdM21HIrRzq90WW3JIU8vmKGsjIcMMV097MOhV0G9AdQ4cWQlk7prVj8hPTMs/HraEuvvCt97pk1o554zy/tAVl7BiMqM1qUk+GVxa6U17F+uT+IfXUjEw6g19Gv55P4h9dMifreS7WJTuqj1Cl3iDibTtPtXa9mwCMBQe83spQ1jjqe+nNro6dvITjtPkKfvorwz8GU97Ouo8Syu7t3hG3xj7vkj6fZVSjGHB7YE4R0+84h4+g1lbRorWCczYIzyggjfy612OxGJvca9gtILK0EFrEkMSjZUGBX1ntN89Ti7E9A1Ri+b+YahxMM6fae/6hV/Li9b+M1XxEudOtvf9VTEJdwCKwyHBohdbE0NmO5qQFRJql38KkzVS7UgIsdqpdjg1It66pdutAA29Ymahmqz/AJpYl6ybbeXjRC/bEwoIH9Kv2b5K9xfvNRZJBbTIgOXrTBEwAAwcj5qD2KBR1PuorGcDG/lnOKiSNoA5ByE+sVnkhDjPgKlG+eUYHL1GT0q3lY9TnxORSAwzWylSFBON85rJJa9CPHajWExuASfECqTHknAPlTFQCNm2+1VvaFBuKPSQDHLjw61Sbc52G4+c0xCVcXcNrxGyX6DsJIOz7TlJMWd+ZR4nIx7CaATrahA0UjGTALArgA+OKd+IeGTqa9rbtyzJsM9GHkaVH4d1eGbl9DkLeBXBFMQ08J6g7aaIJCxMTYUN1C9RTpYwgjnYb+2k7hbQbqzXnulId25ioOT76d7ZCByseg8aQ7Nqwo23Io/uiro0QJy4xVEQYY64YZqxJADnO9MCZTnRh8YdMUKvdMKgyQgnfoOooosoB3IIPSrFxICQ2x23FVzxxyKmThkljdoWMqR3tj4NVFxHyr4Y+imC801bnLw8qyHqPA+2gs8ckOY3Qgjqv4VzZ4pY3vh0seWORa6D/RI5uqjHiDQbU+GRkzWLdjJ+z4GmyCx54udPmqueHkUqw38P8qI5XF6CWNSRzp37F+zvoOzb9tRsa8FtE7o0ZDDmHT2043OnRXcZWRFceR6ilu84cmtZlksmLLzDKHr1rbDMpdMU8LXD9D8M8Fadw1EpjRZrkD9ay45f4R4e3rTASBVfMQNzv5UMv+I9O05is9yrSf7OPvN8w6e+oOZWkFScg1Ski2mZpzyRqCSx8KAR8QX+rMV023S2izhri43x7umfVvRSCBQgVmlvZflSSnAJ9g8PVVuKyEjOuqWNxeydhcrJynmPIrHH0VVqurabeaaiw6jaM8TYZe2UEe6iFzB2qcl1cmOPp2URxn5qxyy21ijGxhjibGe0ZQW91XkBH1fUrawkC3M8cRccy87Acw8x50Bm4g089L2D/iCmPW9HOqzPNeO1w3yWlOSPUPL2UAl4PtVHfjjAcY7wG1SAxnXLI5xdwf4xVT61ZnYXUOf4xV0nCVio/UjHiQoqj/RaxDgNbod/LagCltYtQf6zFj+MVH8r2rf+Ji/xipPwvYC4cdguFGScDAqDcK2i7NEmSM/F6UACtVv0IPYyKzsMLynNV2FtyKuR09dGk4fs4HykWCfEDFaU06NZO4NhUWNFNqhWPJ6H30QgR9sg49tTjt1Q5xnYkeqrFYIM4DE+YpUSskqdB99WRlegDEDY4+qoNJgFAu3q8KnGoOeXBVRvv+FFBZb8ZcHPvNeKAPHB6bCvt+fBwN8nJ614HC5IPU+VArPmjDKO9uT4148ZxzBgqsM+eakmHXJJ26V8g7QFRv8AVQBQiF2IAB2xWqGxVcsy75wprVBAI+8QAcnGBsRVywsWPL4nypgUejDlGRk+eauaEKcKhyOuD9VWopRuVSBjr6vfX0bjtCiqQc7ZHX1UCK0JCcrbb4r1wVyAM75G++K98WxkkbdelRBBVVGPUx8v/wC0AfAhO7g7bjHjVyOxcgYBqlTnHTyxXwJVTzMSo2oA2s/5vG2fCsF3Ek/ckGT8kr1FWq4C7YYjbI8KrcZcEjG/X6sUmk1TGm07RXCgtWCysqk7ByO63qPkasuLJJ0IGM+Wfqq4IlxCyMBykdDuKHTpLp+eQs0I6DxT/Kubm8Zx+UeHQxeQp6l0H3GnywsTgkefiKysAHXtBjcb++jI1ZSPzy8y/tCvQbC7YA9wkjc9DVEW0Xs//9k=","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAgQBAwUABgf/xAA3EAACAQIEBAUCBQQCAgMAAAABAgMAEQQSITEFE0FRIjJhcYEUkSNCUqGxBmLR8MHhM4IVJPH/xAAZAQEBAQEBAQAAAAAAAAAAAAAAAQIDBAX/xAAkEQACAgICAgIDAQEAAAAAAAAAAQIRAxIhMSJRE0EEMmGRM//aAAwDAQACEQMRAD8AyxiU/WtT9XGv5r+1Z2cnt9qkH0r0KCOexofXoNgTUjH3/Lb3NIAmiDGrohbNBcd/ZerVxeg8JrNVyKMMx61nRG0zVTEhh5T96MTrWYjEDc0XiOxNY0Np2ayyKasFv1D71lxK4W5NMIxtrasOJpJDypm2INGIjSaEk6b+9MRyMDYtesuy1Et5RruUa7MSNzRBz3rNs0oxB5RqRCaLmWFD9Un61qbSLpEnkmp5NCMVGb+MaULYyNd832q3ImsS0Q+tSIR3pYY658MZ+TauOLYHXIP/AGvVqRPEa5S96kRqKTOPVelz6VB4gx8kY+TU0my3AeyoKkZRWcMTiG2sPZaLmTjcn4Wmj9lUl6NDMnauzL2pFWm65j8gUWeQdCf/AGqaF3Hc47V2elVlI8wUfNScSL2AB+9Z1ZdkM567OaVGJN/L9hU/VP2tU1Zd4jJzMLBmHtVX0oOrM7e7UP1BIqOc1EpDaJaIFUdfvU5VH5j96o5relRzD1Ipq39jdehi696EsvrSzSMdmt8VWxYjWRvjSixk+Q8osTdtqLIQanmMaVxvF0wBjWUlmkvZQRsK+g3StnjSXSGlQnYE/FWLC5FwppfBcRjxSkxOQR5lOhFMmY9GY/NRO+i1XZauFcjy/vVq4V7X0+9KiRu5+9dnY7saVL2LQ7yAq3LqD2rvCuzg+wpQE1IJ70URY/HOijxZqn6hAdAfk0gGNTemiLsaIxidU+1T9TGdRnX2NZwJqQTU+NDY0hioR+r5N6MY2L1rLANGqs2xqfGi7M0vrIj+o/FR9VCT5b/FJDDt+oUQw/dqzrH2W2OjFxdBb4FEMVGeopDkG+hvUiJhsaax9i2PjEIev7UQkB2/is8Rv+rWjCSW/wDJWdV7LbHuYNtK7OL1n8lydZDRGMAWzMfmpqvZeR7m+tRzR1IpQRJbrXHlKNbU1Q5Guev6h96E4pB1v8Utz4wNBeh5w6IK0oEsbGJU96n6gd6RMrN0tQ3Y9CKuiGxoc9f1Co+oj6sDSHiNRlNPjRLY/wDVIOtd9WnrSIQ96nJ600iW2OfVL/pqDih6felAg71OVe9NIltjP1K28woTi19aosvau8I6CpqhbPmcnGcdJBdpiyhgQ2UAgjUailxNPj8UjTTsZLWDt09K1zgo4OKiKQf/AFsWpBU7A0niOFTcLmRmOaPUKx2PofWue+3BXiceX9BCaTCuGjzJJEQDf/dq1cD/AFIs0/Kmiy3Ngyn+RVHLgkhBkYXC79wf5/yKzjh1ns2HcLKjZcx0Ddiex2FZxycTpkinTParYi4sQdjRAVkcJxrwpkxQKIps4I1jP+K1MTjcFhcYuGbEKzsLgoCRtca+1emGWMlZxljlFlgFEBQc+P8AJdx3FGkiObG6+9dTlauibUQqM8YPn/Y0WZMtwwPtUFo4VIGleVw/9UzRZpJo+aMxzIDa3axr03D8bFj4wUDI9rmNxqKwpo6KNlwU0QSrRFXcs0stIAKe9EFHUmpCGpyWFzpTkUjhYUQequYlj4qHnr2apqxvFF+c1OY96p5ydz9qnmqfzCmpd4+yzMe9QTfc0I12IqMy7ZhempHNB5rdaEtegLqDa/7UaqG2INaoztZ167NUHKpsSBUhQ3lINKFnZq7NU5DQMQpsTShYWY1BY203qCQBfNXKQ2xpQsnMa7NU5ajIaUWzs1dmqLDuPvUhaULOzVF6ki25A96i4/UPvShaPJYsR4rAkZjHL5wf0Mp1/mr+FY2Li8L4TGqt32A62GtuzDf2qMFypcRadR4QVOm4I0IrHxEMvD8dI8TeQghl+4b/AH1rwrGqo9bzO7/0vxXD5uFznCTeON9YpLaN/j1FIRQ2mKXsjkKSfU2r0EXG4eI3ixcIKPGuYdmG7Dtv/HrScfCUbiXJxMxjhe5SQdTb/PSu0W68jjOKu4vg0kwacRwHMRmjLqULA9VPXvY/tXnJFmjmeOY+JPA6E3C66FfT/Neo4RiGwk30eM0kjHTUOBs470p/U+ChLQYuFh+JdNNiN71xxtqTiz05YqWNTXaHeFyJJAHU3GzjqD3rVGFB6V47heLfh86NJflvobdV/wAivaYKYaI5BU+Rq74paPV9Hlyw+SO67+wPpfShkw+SNmCFiATlHX0rT5QpDi/FIuE4fM1nlIuqXtp3PpXqPCfPzAszOqDIHJsCfL2ra/p1mmwrRlymIw7aHtfqfSsvmCfEO9ghY3IXYE66elbfC8NkxMePhYFWPJxCNtrsa8uVeJ7/AMf9zsNxjES8UaLEMyT4eU2jJ8JB6f73rXw3HRiOIy4MxKkkbEBifN/orz/9T4dcPxCHGIudHsCw6joT6jUfFZxkdMe05fPKLFXPU9PuP5qwtrb2MlJ6ej6AzSEdB7VhY7jax4+COOS0bpnLW312/m4ppeK5eGysoZhywYWjOZtR19jpXlUb8FzIgkzi9yNVbcH+RXTbaPBw0cJ+XJ7mIJLGGGlFyVOoNZXA8Qs+HjCnKrDKoPpratMKyE5TamKe3D7QzYtPJdMMQX6VP03aqGLhixbX0NEuLkUaEH3FdqPPYbxLGpZyAB1NZk2Id5bxkxou3c+9NSlpWzOxY+tUtFfYVaJZMOILDxKGH9uhpqFo5TZWs3Y6GkgljcaGrUYHRqlNGk0x8Ya/SpGGttpSgxckQtExIG5O1GnFJh51Rvi1SmOBrkNbc0JwwVSToBqTUxY6GUjM3LY9G2+9XmJWBDEEHQ+tBZ5of1JhXd+TE0kakAPfLf1sdhTmAxy41H/BaORd1JuCDsQa8bjsA+A4tNhA2iErodCNx+1q2+BY3PlQNy3iYaW3HUW7EX+a47tPk7rGmuDeKyk7ke1CYZG3Zj7mtH8Mi4YW6VF4+/7V2OBmfS+ld9Mw2vWn+H/ooSyHYE1SGd9MTuK76T0p8slrgGhLqD5f3oDx0Ugdeat7jzDqK7HRfUQc2NczpuBoWWqWUYecuhPKkUA/2nvemsM5lXKNJk0Ze/r7GvGes86JORMDGxADeE9q0J8eZsIkTgg5rq3Yih4rgcjcxB+E5swP5TSkeoaNmK30BI2I0BrfDM20bOEx4xaoMQ3LnhsySDdT39u4qvi2J5yx3VVCMxUKdBfXT0ves1ZyykkFZo9CP5+KHn86MHxXU6KenpTRXZpTdajgDtw9k2IOeNux7Vuf07jvrcG0TeeLS3p2rGw0gwoMjjmQ2yyrbyAnRvg/zQsZOD45MZhbyQPvl/MOo9xXOSu0dYSqme5TH8iM869lF7+lYGNnj4tx7lSOI0kQLEx6i1x+52p/D42LH4NZY2zBvT76fzWDxbBEY1PFyxJYYeW+gb9Le/Q1YZG1qyTxJPdCWLhk4bjWixAyuPD6EdKc4Zi5IsW0ZduRMuR9dr7N7g07jsMf6h4DHiUQnFRLYjq1vMPe4/29edwk/wCEVY6jT/FdF5x5Of8AzlaPX4iI4/hxhchpACLjZmHmt6HRh7mvMPhXMeRgeZF1B3XX+CDW7wphPw9kQjmrfRj5W1sR97/eko5hiMcuIyK0hBDp1IK+L5BB+DWMdq0dctSplnBpo8VhxDKxWTDMZI77FTqyk9r+L705juHwNiUblpFBiSUZoz5X39tR4h815pJWwPE1eN2tmurDQ/70r1asn/xSvIWWCRQGs2blNe6MOuh09jbpUnFxdoY5qSqQrDh5uBcXjiZg2FxZ8D20D9Pmth3aUmbzAecJuo01t1sb/Fqz+FouIwAgnCSRsTJHc6Kw3F6uwXEQmJlSQESXzqHGo0sb99fuDXGW22y7R6oODjo+mX4J3mmngnskqnPFY6Mu383qwFsxFrkC/tSfEJcRFiIlwbL+EhmWIgXKm9xf02+3elsRxSQwJjIQDE/hYdY2/Sf91r048kvv7PFmxQ6XaNcWbUEGuKPJC8kIDCFwJF65e4rJwnEmnbxAxm1we9aXB+JxwyBWFhKzBidr3uCfg1vJNpcHHDji5eXRbiYFhxCoGDBwWVvbce+oNBYDarcfhTgcK+KRDJh4GEqAHxKBoffLcgjqp9KxYuKTYiFliCiWPXL1ZR1Hxa9MeVtcm8v4628P8NWhK370rhMbmhDSCRi4zC4At3Hte9C/F4/KkbA28zbD4rqppnmeOSdMLieeLh0zwPlkQBgR71PD8eZoVZXKyEagdazeKcVaeNYY1srC7ne9ugpTCFsHKkym6SG1ux9axKdM6wx3GmK8TneXjeIaVcsgc5rDcdP2o45CjROpKsLqHA2Pr6VPG+W/FY8RCGHMjAkB2JGxHxpUwq8mEcIMpBupJ3Pa1cpHWPR6rg3EhiUGGdssi3Kgt5hWpymAtYW968COajxguQwOaN13U16Hh3GjNhEacASC4YKN/Wtwk+jnkilybnKf9NJ8UxZwGD5iQhiXCanY2rNx/FJ3w7nCNyVKkZ7eK/p2rz2IxOJnQSNJI7pq2Y+a2mvxVlOjMI7HqMPxqOSNS0YLZsrW2A70vxHjpjdREkaxM2VZGG/x0rF4fiC4DxtoGtYjr1B9ar4pAWjJRbRsbkW2NRTNOBYky4jCrIgupGqn9xVaTfTnLI1mjsY36lfWlcDmGGBVri+o7etHik+rwmYaOvX2rlR0/prXix2Ha9iGHiAO16wcZE+GnEc63Dk2dev+DXcLx7YbELn1U+Fx3FbeJhh4lhcitpe8cgHlYUTpkq1Z56WylZlJy6KxItc96gtlkJubEga9O3+Ktmw7wqYp10622+KWJJi38S3DA9r11Rg1MJOFiDWvICUKkaMPX4P807hYI4pCkTl4JgCo3yt0P/HyO9ZfD2MscgTzoAy+pFOROYghUiSB9R6dwfeuMlyd4Pg1uHxLgca6ocsWIPhXosg3HyKbliWTPh8UqyxSC49R/wAEd6zfqkMiQzPmSbyS9cy7X9fWmZMeJCsLupkzWVxpZ/0n36Vyp2d1JVQlCMbwTHs8H4kMrZiCbBj1+SNfekuJ4DmcYMvDl5kWIOYqu8Z3IIrdDw43DtE7aEWdQbMhpXD4Q8Nkw6vNezFUI0BuNL+4/eusZ0cZw5/gEJj4bIkhUNGVCyltxc6N7dKZ4pgwkH1WFUK8TZ2y9R39fX0qzinKfh7TOpzJodL6HofT1qvhszYYDDSksqmyMe36T/xWV7N8fqeWxjLMSyAgE3t2v/3XqeBTDG8MjikBsqsjW/Mp6e99qR4nwlIcRzIVCxSaj+09RS+DmxHDofwiLlt7Xtvf76V3l5R4PNF6SdmlwpGwmKxHDZpCQxEkEh29Db41osdLmxisqFZUAYgbXG9j31+RalZpnxGIeV2uCSV0uRQ3aRc65uagJYA7juKml8svyUqRGIx6LjknOaPL4SrKdFI1X26jtV7SRA4hI86tJGCRe4Nj5vWlmJxiHOQwta50ahiRsNhVEjZsjeDWxtsRV0onyN2Fh5nw2I5vNWQDRk2PrvTcuLMaYeNEVkkZU5lte3/NY3PkMrIQWUaAkUzAruqWeyG59jWpIzB0j6BwkO/C5oMTmlCuwHdlI2/mvJI6jE5oZFAW4/FSzdq1OH8TlhwgyvmfKAf7iKSmiXFiWaRFeW9201JJ19680E022eqck0kiiQyoF/CXKLkEN37VbDGZD+Iqge4v/FLgBSqWZM2oKsdvUVKSNExHOOm2m9dr44PP92ynjWHRGBizH0+RVWDfKXgcHIzC1h+4+d6tllMkFrFyCfEf91qnPJkVmyMy2tl3FZfKNwaTFcezGOJCR+HJ06XFq6GVljbuuwHUVdiMOZ4yyuM9rjN2pS5YBVHiqLo0+yxs8hEkR8Q8ysbXH+RUpjBh2jdySrX27kb/AHqqJmEoYL5wbhjSSTSRukbL4M2ZCRt0vequDnLk2V4jIcIz5gXFrAC1796BLDCSyknOTm001vWfJLdyMuUm+lEcUVwzRBr5reG3X0qvkipcoOKYQSPNGFsTqFNOri0xEZVvI3fUi9ZHjzhVXxjp7b1eqmR38JVtDa1ZaNJgcHZkMsbNYW2Pe9OG6Oynwljce/as6BZIW5igZVNit9SDvWqQs8Vgc2lw3cdD71WSLMrFRmGcSqPCxsR2NX8Pxr4OV7v+E5seuU9DVskfNiZZD6MQP3paOB45wHXPGfCTtcd6vaCdM2Z0TH4fPGVLDQa/tWG8ZgdhILa5WuPKf9/mm8HMeG4x4JSeWdQ3f1rSwzDGs8mZWXLkCstwR3/6onRGYGGmfB4sMvl7dxWxIictcTFYwym7EaZT3qybhUEoHKRUYHbpersNDkwzxOhs+622Ox+9HyVOhVoxNAYpTY30b16H3vQYTHOmIVMWA8U/hbN+Vh6/GlApeGZsLKcyMLI56jp8ihkT6iOQFDzTbMBpmI9OhrNGrs05XWDiqHEKJIpAFSbYqRqASP8ATan8RCmJw7RFst9Vbex6GsTAYrnxfTYkBwy2Vts4/wCCKeWVsLIkFmlRtY23I/8AystHVNDmHk+pwjLMLSLeOVDtf/B3+aXwYLRyYWQ/iQbWOrL0+1HEpOJMoYqWWzoR1GxFTiIM0keKiBEkN72/MttRRIy5JMtwuJXErJh5QC6aMOjDuKSlgXAs6NneOTVSehqzFQ5nTGYdsrqdSBuPWrxMMdhXRhkkU6r2PQj0rUXRJ01aM5Sq3CiS5Nw1tqseTD80I2cNexYbGobBERs6sfv/ADVESMSrNrrvXZNHlotmliSDLEbsvpqDQ4fFo8hjmRCp8yEX0olKgkltjtbep2QOn7VG/o0uC2bBQmRZY2sgG1URKqhbgW3GljaphlYrdb2tsaB5LA3uATYX6jrb5rLscDuDblSSXItl07aVMWNKEsCy9qXja510GXX1NAEKuALOGNjbSoaTHhPzXY+bOdc2mlVyT+MqDbS4sN6XJcFwCQb2se1dcSKpbQb/ABRkQYbKpdrKzWIHaqOQrTMczAsp/wCqsduYtjeyjahUGSxXUdCelCpgyYeTltymDMo61TBh7R62Z/U31pwOQSO+ntVQOVNABrY2OtQti+Jj/wDFKoIZGFgNbVMCRGRnaPLI+lmO3XSgxa3kZUJVf2FBG55e+vW/SrRDsTg4hHmG76+GqnUcsADLrew3rREi2CHQbjSqZuWNBYt3FQCQikEl1XKx1HzvejV5FP5bHoDVuYk311NViPRgRp09fWqSw1ijJIY+tcoaE2W9gSQPQ1KgZtLEd7VJchRlvYmwvVIc1wLnoNu1RGvcXIFViXMO4NWCwAI+9C2FiII8SFa1mFwPtVmAQwqVUkKTexG3SgNwdLXOtEGLabn3qAfsJFZdb2veihYx6t5uoBpNMQARc2B3ANS8rRMUAzdaULLcSfpkM6i4GrAiqSy4nG5WhKKQGSRNDfsavjmLLZrHTUetA8i5QBYMDpbpUSZrYWxWCZJudCC8Mp8a21Vvb1/mncOCIVSQeVgVb1qs4ggAFr0L4sZbk6nYHvWtSbMcMgzMqW06e9XLMqAAnU9KyVxLOXZQelMJiBlBbttVSM2NxShFIOhOooGYMbjf0FUtOAtjYgaCx1qsy2kGXW/c1aQtjIccq1iDfWqvAsVlUEjW9qreazX3JuCBUCQjsCet96gIkkABHtbSoDnJYXvftVMhUA66WuLdDUo7gZWOY3+algNZD+Q+IaXtpQsWcPG50GprsysUN9wNSNRVqBFJAU3JuWP7UB0UmeIMCcwXQ96MEC+ozDXtVTKIhdiAbWuNr1WZDlBvsdSRUKMEMZtLhf0+tUc0EEAkBdLXqOcAWYMQSBrelnmlEuUahjpcbClAajkKhlJA8VgD+1HG7ojCwBBAsPWlIpcgYMuYk3B3q7ObgnS/X/NAWfUm4HRTudKXncCMknbr2rnzMSRYgA3qARyzY6W37UICzOviI6aEGi1y66kiq1m8Fn39KnmhVuGsNqAnn3bxkAjS1GGGYML7bUtqLkanrRq/gAuLg9OtClnNUrYbepqFYOCuoK/uKqXS2oHoa7mHMTrYdTQgUUoz631GgqwG4sDe5I+aWzWcaajS1FG5eRQpA1N6hS8Q2dNS2hJqzDxEXBNxaqVcgfq1sDUR4jK1wdzb3oC8XUuLHU0TrkF7anXSqxIAD+XMdTUmdgMlrg9aqIVqjSSGzG+/xTLSjKD+Zhba9KiUiQ5Cc21gNqYlyooYnU6aVUATOyAEaelVl3c5tSL7dqMnNubXqIiVUm9+5oAcrg+K4BP+mpmuotlzjvpV2bIupuT+1ANVN9t9qIUTELYUg/At1q1QLuDpbY70JdFAU7W696jmre+tWyBKpYk316VAIPnJUt6ChLW2F/2uarMmWMm3r/3SykuxyBgbNf7d6IueQw3NtO9VkLkuujX39TQ5yulhfaogWxtHkKML31v3qxZEVcylSba33FJEjmX67a1DyAbWHX3oBhnDSX06UZmJc3Kix16g0nmuS2br72rmY2ChtCQNxQDRmzqdAUAOlDI4KMb6ixB2qswlUvYbakGlY2klcAi43v3oBgkNY7ga26UKkI4YkknrVczFFN9Ol6kC7lCPKOvXtUA5CyGzE3a/aiJDK2YZiPi1LqAg2Fwb39BVrsz2uDqPuaFIJ6WOpuTVGcqpAXMGOlXsLkjMdNqpbL1Ia3pQhUFGS0h1I1tXWCIApGhGW3egY2ksdt9elQHbNl+QbUAeRs2b0tahRmGYAdBY96uL82P99qpMTXNzY3uB2oAybN4iQemlc7rax67CqgbgiTQjexqV/EdSD5qAYlW+ezC+mmnWqog1w4HhFhcGrWN1ZiADbUDeq0EsbBQPt2oUaVFWF0FzY3velnY3yjXXTTUVcrlnYhdzuDvvUutkBkst9daEKXNvMvSrkPiXMBa2mvxXG5kUNrcFaiWPLGddF2oAgoIJAt1N6AsWa2osKujfwFTa4A1oUYFnvv0oyohG5akm2ugvpeuMrvKDuP2qPy+LXXQCgifM5UHagLixbcm1TzPgDp3qWZVjNxc7ADrQrECuZtG0sKiRQA7Z1uNtbdKlCv6rW/cVfCjHMMl7jr3pdlCXVwMx2FUyEJQ5JvpsbUGYr3Ol9etGIxlumwOotRyIQrF9TYaCqCtJCOlje9EviubW0oXKBQ4Fj6dK4SWIuMtxc+1QpXymY2HTxXquS6n0J2HSmluBm6a633qp/Fe/lXvQULwnMb5TY6GpGlgRqTaiRhEQLWvsPenMNAkgQlTcgkgnrehCnM0qgEbixPeojiChst3Zd+ljeroxlawUliLG9FEhVi9gSTQFf091sw09ajJlBsTc6nrTbPeMsu/WllfxMosBtQFQB8pNx09qszNyQQoIGmnepD+AnYXB1610RZ9B36UKCDmQgnbtVQjJRmJ2F79/ar2hAGrk6396h3RIioNjuCKAUlS4O9wR8UClfzAkjXe1WyEBbg20GnauEazQZrki9qEDQEIptbuKCQea6EXOgvTCxlVR3NyF2OxoSvhU2BbU1QURrfcbi9C4MTghWsDbTrROrsCL2v0q2RjIoBFjp1qA/9k=","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAQIAAwQFBgf/xAA5EAACAgEDAgUCBAQGAgIDAAABAgMRAAQSITFBBRMiUWEycRSBkaEjQrHBBlJi0eHwFfEkM3KCov/EABoBAAMBAQEBAAAAAAAAAAAAAAABAgMEBQb/xAAgEQEBAQEAAgMAAwEAAAAAAAAAARECITESQVEDYXEi/9oADAMBAAIRAxEAPwBoPBYpNGZIlEcrtuMajp9j1GPF4dFOfL1WmQQxgLZUEN9u4xfEk1Wq06DwqQGKK2JjNEkdj3zXoNfJGU/ENE2oCiyzBR+Wd09PnL780+li0+m1KaeF2ij5BHUkYmv0kCOGgEkq3uPq6ZqkeCfUqyxgTFaY9RfxlTadhEJVmUPdFeoI+MciLfCrTKrxmfwqlMfpkLXZN9vnLTpYnYymvNB/Qnr/AOs1QwywRNEEDenzNyCibxYEaTSOrt6ybpuxwVVWlTaiaYlii/zEXmzRaGJZXgEqsnYjk1gigJ6Pfp5GIYgoLq6xufSLPW8BPHuAZJRrFiVY3WJiOD1++M4V4vMK0Qb5PAPtzlEz+U8bTBQV4BXuc0qgkhW0/hGmYk/TlI3WT/EEsqeEuYot0hFIFNV9s854VL4t4rqotNMTH5TbnZkrjsOeoGewl1ULOPLHqHQXxWZ9iMfO5RuNy/2GT8VzvNhdJotOsizeRHJqozs3VWcDXa14fF5NKmlaFZHpnTqT8Dof+c9TO6Mu5lptlkrxZ6ivtnNGmMujljW2V23Mx52mq49sfktkuOd45rpNNGGjKSrYB2n1VXc9jlnhvl6sK8TbUjSz5huvjnvYx9X4Rp98cPkqqlbLEksx6CyPbKFi02s0M0ci+U0QZQ4Nc9Ocm6qWLBIZfISCZY9K/qchqJauRfYZXp/CYYPEG1UOpI/iEAEcP8Xnl4Y9VPMujEjtKpUAk8ADigfas73i8eo0uo/CRlK8veZnaq56A+/XJ3x5a/G7kr0oijkiiWVPSpG3noc0NoFh0EjbQN43hS30sO/2zi+H+JrqtI3mvSL9UnYj+2dOLXJrNEkumeOeIizz+9ZXtlP+dZofE4fxA/ESGK+CfYdOBm6SSCWEFWDlDa9h1+ffOfJDGsh1hG5lFUQSOvFD3++Xx6JY9bHvLskv8Tk/t8Y/VLdmLNVGkun8yclo0+qz9K9f0wqt1JpgrpQ2cdD75tmiG/bsuOQUFrtmYacLKuljBBQbgR7e2L5K+DQBW6bUOOEF1wL9sUOk6UgLc35gPBwoqSQbXDMCaZf9J7/kcu02mZHeIXskUsgH8w/6Mm1tzz+LlZt0jKu0yxhitdK6nHgjEjRMwNjgMO/H/GNGiRLE0pBFbQvavnLIS43xNQ2sGWqIA7c+2Rrpk32zoXkYsUdqet546ZeX9YnVS28+qNhV4uoeRZN0K7q9/pHP9cJj/h7qNlgbvg4qrmYuEdHab8tj6ea2H596yL6XVmXgrtc+xB4OWu26Lg06HpfXAoAXepsm7A6cZLaTPR1/iS+YwoAG76H/AJwiEbQqiwAaP7j+4yKVAA3dabrwMaMuEDc0TxiXDqLDUeBX65OWc7htNEn+2VRlyjEjv2yWTKWLDldos4lPnHg2n12jgXVvLGrljuik6mvn++aptG3ieuh1IWEeW24xkdvmuovOcvjMBiaXUKYpwCdjuWHPTnPQPB+L8PRYqEtKTt7iu/xnTMeJdppIppIizKqOoIYpyD9sxwuYNhdXmjJtQOCcfRSy6Wc2j+W5O1aq64vNEzRPGzstuovaOo+PjL9Mt3yOkZ11RnlRo1I2oL5zHqNVC3iEkMMp80UGUNySffNfhscMweKQlXFn1XecTXeEah/ETOJCAslCWN/LKr88c4r4VMs8uvpN8oCAUyHawZvr+PywaYw6+VnKlGB9III3VlQ8PfRxI2ll8yM/zXbAk98q1Uyr4isiu6ttoqw5X5H6Y9+055w8njWi1uuHh8yhZUFggWCfYZ0odOzqpViYm4Iroc4Z8Pg1HikMiozyIAXkAFsOt897HX753lm26RoQeHJHPBBxTTuXyzaKSJJ3Etcc245UfbJqdTG2oAkra5sMvH5n4zna2YeGaabUTqiuRwGWwfYX0Oc6HxiZ/AEneFJJPOaMAdSevT7dB3rC9SUc8Wzw6up1Qik8mcneXATyyCTedeORF0smmemZhyF6r7E55nTT+E+PHZAWeYxlU7Mh78dR1zZFJqdFp/w8cW+VW2gufUydmPx8ZPy1Xw+P+tBRoYCZ98vBjZgCo+Pzzk7gXbSLLGw3ko7HqOeCM6+ilm1CFNSJCnHWgM48n+HT5/mzzhSzcJ1b7g/pxjqecY0Ec8JXbLG0Du++M2T7jOpBo5dXArxzbiV3JuUHdx19we2VzaGPTlijvMjUDRIK+/PbNmlSPS64tSo8gBAUlt49ycmc60+eenG1aL4f4eQNoaRghiWzR56e/bg5v/w/WnhaMJsWU74mvr737c9u2ahHDq9eItbpFlhBBD7Qa7gH2zfpdMiUYtpCEj0jhfbHIVvjF8JZ4QoXymZre+TliK0zKgveb2IOOB2wxL5MrSldzD8uMecK7eZp3Kmwbvpharnn7IN0ymON9x05Nhhyv/SMMUcrynVxlqjqx/bL4VLSu4K7gPUQOp/vgjIaRoYwUf8AlNUDk63nCxiqySbLIZTddOcu0kbPGA5KbAab5yRRpDI0d2zG3cD9hlkys0ahT1Fk/Ptka2nP2qdfIkAP8RCfST2rHd2EgZTSVY+fjFjXYNnO5uSL6gfOWsgdCFFbT6fesWtOeRCqHNEgPTBq6jvlsTNsbctoa4HvhiVJNPf+S7B+ckY2xbSSSDz75LWQTEpf24P264Cx8ukHBORRvBPxjlwFZQAWUXxx2wPE8kKBwBwOb6ZKLKpB2lfc9R2OEQ7ydxPPS+Mv8sEChVjvi1citAUDWLs8k5o8sFAW44/TIqhR7nvuxgoHAFEdsFSPjmvbS+IlIvDxtm/ljsEALyfVXzx1yzR6+TS69o59WQjEKQG5U+19cyeExQSRLMHTcWG6EryK9so1hjfxN22GbcKRegUnuD3zb+3j+/D2UGpWVGWG2aPoAb3DsRlXhUjjTy6p2Jd2YrzuoWQF+SM5a+OQT+GSQQQNJsPlzNyGC/5qHzm7w9oPCdQNPpyzjbu4sgf8kfrly6xvOGSeVFchmMiC1U8Ej++aNsuncs6yagzL69/0qD1o+/xg1StqdDLsCGQgqGB+n7+2Z9Nrxo4oNLOZ2mkX+YWrHoaytZyfrXr9cvh3g0svk0kQFoDyR75yIhHryuqgqTzVG8EXt+xzraqCWXSvHFL5cjG1kA4//Ej2xtDoU8P07xgqrOLYIB6fgYfZ/SxUUKojURspHqUWTx75dpjK2pAl2uqXbX2zleLz6mJdM2mkIiEgVkCkluPftmvVa/TwzJpOYp5l9Cg8EffDfoSbNJ4voNL4ojxyBiwBN3XA9hnntft0vhkfhegZlWcgsQQXLDrz2++dyCdn1MkLhncAcNQFDrznmPGNLLHqvMjfbF5myOSPjb8ZFv1WnE9WOnptBH4Ntlild9XqHHNbRV9OOa+c0eNQarWaxT4f/EfadyNu5Pbn4568YsMDarw2DTzI1pbmQH1i2AB/P+lZ0vCtLNpZyiakvGb2kg2B3GEmwdWzrS+EiaDSRPrkcSHgK5HB+ayvxPTyTa9ZI2AjHDKVom66HLotYj68MXEUYBUoeGsHqAevXL9TqIpVZd3mMOCnJP8A76ZWRG32xnw1Yo/OEjbZWKuN1EdCD7e+aYdNBtUgAen02ObzDN4hHotQY9dGkRYgxqrcHtZv3GddkWPZKsfnEgEheaGEuHl68gmniiZUQEFDYAF315vLpYV84PQjidaF9QcaKMJICGCs44J5v4w0DIRTlywtWAPHvi1pzykaNHCdrtPGLAFck+/2wg+YjnaAPoFDn5GWSRtp9Qvk7gQLO0fr+2aRGrSAqgCgU3HU5FrfnhUlR6RhIux7FV7Zc2xFHlKfULrv98eY0KmUEVXA6YyG4jvFkHrk63nJTtjCr37GqxgTvYbbU9R2vLNu87qsDr8/bAu8kACiDd1k61nOA6MwsimU8EfvlqJ6wTwKF4UHr9Z69sAbc9noaGJYxABG2+mzZNXjqQsfBBAHthRaViAQO3GDyipIqt2JUgWxW1FfGGKAlvi+Tl6rsHq6+/tjBdwI27SR1rEuQyimFCx1Jxj1PNEnAL2gexybhfz7YHhiRfaq64psiwMUXdH9MtNKv26YlY+K+KayCH/Ebuo2zISNsakFlI57dO+WwiDV6SRI4mWSFgFs21X1+BnR/wDHJ5sEurkfb9AZlrdXTn7jLyumOv8AIaFXjlWt6n6jXQn++dPMuPB66muJMV/w7qAxDNqpxstVsqD2b9M6Ecss2pj85oWJNs6LtauAB+VHrm6TSK08McKqDFW4CyHHsfn5zn+K6VvB54NTBEsm30pHHZNluRWXJntFvy8R29Ig00dSw3JK52noG4/mx46bfJMpWUc0uPL4dLrtDH5pMUsPJocMczqxWZ/OS1oWQ10ccR14yNUc0KI1kEDm2/mOCGORoxHJtAbncMUQacxPJKeABQqwTi63UJBsRidr9xwB8X/bGWXBkkiW9PEspA+p24s+2c/WTiXWANp9ywuQkl+pT/lGDVeaNUkgd5ISOYkPKn3vOhM2yWNyVWNwCN31Bv8AvfEJ+uZpNK5k8vUP5csbERKxsuPas3Q6WCWOWGMmNY33iNjW0kdeOmCaUtM0hjDSKKSSNbIH5408fltGY9pm6MR3v+v3yc8q3w5HiazeHa8aiCVtrfTIi2L6UfYE986Gn1Gr1ZhkkZ4Qm7zFYEMw/wBu+b1iJkIdaAHSsr1ejlA1DpJYdQOoO3jpWHx86fyuY5es0inXwa6Ebio2SKygh+35Gu+dHSR6csszAiKVbCkVZsist8P0O/RPHqQkjigWraFOWxaKFX8qlRkXrXQYHJSarwqHU6tmSKJt8ZVvMIPHb8xmmFH0sKwR/wAw9R7D4yKI5yBsMZjA2n/Nmtog6BioaMtZF9D7Xk2tuedZxpi0Ox22SWHF9AP980AxiYKBTypR9/veFkEUzFn3sQfQP75ZEC2nO6uPc976ZNrfnnAVmCCN/wCGOnvjRIdhRBx3PvkiVml3MAFbsBeXdLWzVWK4rJbcwQFdN22yPfrixqXQlr64ybtzEki+574yoA4C9D+2S0kBiA6qL4IvLHUAEjgVQrIqqA/PLHASXYIopRy19cFyDtsM26qNWcdYyxBPUfphhTfRdaNmh/fNKoBtA5HQkjFqpyrhUxD1ENfcdMI2uqlq6UDjKlHoLHtj7ev3+2JciAUvPPFEDpk7dT8ZDweOp55wdcWnIIvm8hAK4AawXiUYkXffAST1yDJWAfO55Y4IYxvM0DEs5B4UV7dsnhES6ckQKsgPqDqtKb55+cfS6DSwkbpFZTXDMCfbn/bNOjMEKvp4tRfWifYZ2SvnbPwPEdbFHKphAfenpdCaVvY/nnG8S00uuk0jrI7kyL6l42t717dc1Rxj/wAq8enlUgoSFdqJ6ciuCPnNbavb4f8A/GjaMl9p3rVfOO/hTdtUfix4a/kCYFFRiC11fz++UaYS+Iav0wsmwWRtP7n2y1oyuvQzqrRBdplNcH7e+adI/wCC0TPGlyG1Uk7bPZj8YvQzR1Gsn0qxMhC2aLFNwI/tnJ8S1mrk8Fj8gCYzyEx2CCp9jfGbG0x1yJpdQzxaiy0TRnsRVn9846xjTaiJvxks8ELBEhcU24muoxX2rn06XgOrkm4mRlkYMH3EUpXjt75frIn16ophktPQVDc0ObNf0y2PRR/iUmMfk6leCEBAI+ff3zbGo0ukUl3lkFkEmr9wT0xz0V9kgCQxsvntN/CveR1Yf3x4ooNTpCHjKow63Rv49sz6RotV4kyRlAAtMg5r882uTpnC+TvHuOnGV/UTP2s0Hh8+i0J8jUM7J9O6iQLy+BWmtpGRmUbqXuct1LrpZaj9ZK9QODfxjmBEhE+nG5nBDLfKj3GLfC5zt/wkyl5g7QMkYq64BzUtKgKIzW1WBZGVxStKxjiTzEoA7z9Jy4Dyr8t6AXa5Jraci1vzz9gFSF3AS2kG7awqh7jEjTy1Cx7yv1KrdzlhjEsm8N5e0CyLphjEeYIwh+ngEdjk2teeTOoPlirk6k9MsEfpBc0t8LXAOOqqoAPUryRjSklxHVgir9sjW85I92Nt7j0+cYDzCC3vwO2NHUe1n7jqcY0CvPc184mkmADZCqPi8aiK5odB/vjKgDiwOL4wA7uAeDfq64lyFPINcEtQPtlsUVbjVgnnGjjtvUOMtQeogggjnnJaSYIXahb9D3w0VclWPyMY16gw6D8jgT6euBio6fHxkJofPtkLbcTqcNOROp5wjjJWQYjTJXOGsmATCBeAC8ccChjJ8i8L1+o1GtMaKiBb2KVv1duO33zSgqTVsmnmMn+lgKPcAexzb+CYu+r05ibUKPWB04/4yvT6l9Tp5RqXLyuxVboHaO5r9M6Z4rwN2E0iajXaF0hU+VE2z+INpXn+Xv8A+s62lgU6TydRJ5rLy2z47ZzdPr2j5RSTdMijoPcX1zpDR6dYRqd8jO7WwAoDjvlQvbNqQXgm1CaYyQnqoG5vt9/nOPoIW1un1EjO8MjGjHJY2/6RmnTeKT6bUTIsTSRm1BjayB8ducy6jxGVYQx0s6aOvWytZUnjn7nvhSnl2210cBhhle5ttqxNbqHb3rOLD4fI3izapJIJtI/Ta1EN1Nfb3xtX4WNZp9JpC8pLsH3Eb646Ej398tg8M1nh8kggiUBx0BsEnj/vbF5V49/bsTTnw/RxsBJLJVluL2nLIGlbThJkuGVbYEVZPxmbRCZNWX1IvThdwKrytdqze+t088txOGi4DH5GP+izfJ5Ymg08a6VAQg52jmsKlCoIFMa4Pvj+QhBmid1IFBR0GFC3m/xoI93cdARhq5z58iNO0aLsVW8y9w6i/jLBHvgYQMq9mIHIXDPGumVA60H+gg3l0QR0FrSjm+5yNb88/RNImzd5YoNW09x+XTBJ/wDarkAlWC3XX3x41YtS0qgWB0vnHB2yeZt9JFMK/fJ1tzz4wF3CIC9gvaGGNWw2QLoX+uPtqBunpIIAywxlwR/mAIvJayIF4DVbAen74GpY/T6ivf75GO+PYP5OSfzxo0VI97t3Aq+cSogQlSQPpPH3xjzIFUbiB1wKXlXi1BPPe8tSMKAqn7/OLVyarKbz3I+O+WKl0RVYyxlW3fkeMtpd3X4sZPtrJgRoQSaBsdsgX+JySDWMPSwCj7/GQk77PGASiWs/bJe3gDCxo9bOKBiOQKw1hrJWBhhwYRgEyAWcYL75PtjIegwZMmAfL9NLOmqk0zKIolIrZzvJHQZiSFtBqtQZCrqLO6uR7D4zRo9mm1aRCPcCS6Mz3z3odBnSnh1cmpbUxpE0iR0Ynrp7Z0e3g+ixMunjil1KRoXIuUkkAduma01KO2q08oA4p/VZb5odMyaPUSazQuJ2/DJGbUCrBGUkx6idohPHGAOA3Y9wT++XPCN305+uP/gvGIDHGzK43cDhh06e5751NTPNqNLIdEghmdipWQWrCv6ZX4q8kemWFQ3nRIBG62TX3/XOtp4zHooRqSwDryH737++GDcmMfgum1SaEaeacB23FypsHng/p/TOloCdO7qxLbR9bc19sqh0kumVpk3NGvZxX6e+XpJG5OwbDLX1N1+2P1BNt2lj81tSZXkIQc7+nXNGihghjcnZtHQDpeNIjAhQFKrxuA3A48Uas/pU+SwBC1V+5GTa344wkbbIVUkFJDzTdPscYQCJjFGSHY8E88fOONDtltd3khgdpA4y12bzm5CkNW4ZGtpx+hFENpViN1dTzX2x0TzHCKAq9j7/APGOtqjMRXuCPywWNhHVdoHGTrWchIPNTcFK7TXtxlkIuBS5s9WOBdqALzTgXjqgQGMg+onoeayWsgULu/SxojreWoajoCythcEYVNxY9+BgVTyOa9sFSBEoETFhQaryxUL2X9KA9PfGWMIi+YLroPjGPJrb6R2xWr55DqAqil+MsjXu3Kn9sIWuRVfOE+kkZLQtlWK/Up6XjgFWuuowBRXPIHOOFAPGBgeTeRvz6ZG54yAXiCcsbPXDkrJgYjARkF44HGMldHCBXOMcGATJgxgLGACucIGHJjJ8O1k834fTuJCfNkKbhFT0ftWek8O/Ev4Yu4s2qUEeY4HK9qH++czSlvE/HxF5u1dIfMAK9SDyBX6Z29Nq11OvL6ZQiPz5fl0BXFA5tzZa8XuWcroI49U6zR7Y3r1Fx9RH9cmu8I0upMMoh2Ts1PKOB7HjBqXnXXJBFEWCjczM33IC/wB826eJpoNk0ZjJ9RJboM1YyYzxwbFOnUl2NbXvp+udKUFVSRyH7dLIP2zNEhaQrDGPQPqJoj8s3BLi23R7t3+2K1fHOxjdPMnVn3DdwqE5pKOWLzIjVwm0WciMSpjIVT2YmySOwy9JG85XQWyimWgCP9xk2tuOIpCuZC/mGh3HBH/65fAGmRWI9Qsq1c/OVuoM3mqxFntXXNUYt7DD1eknpkWtueSLMDwTbdWB7YFh2sWYeoX0/tjDaJSVBPycs2ldQBV7h+gxa1kMfWgUErx9QH9cSMXu8ytyntjpSkjdZPvkiU7Dx1bkHtkrkFACQ/bHVt0jf6RzkY+XA2wA88A/1wIjdXayRZOGrk1FG6Qnbwx49xlqDbIPSSe/xjRq24ECxllCzXBPxktJzgBbJfnkd8b+bgAjviobuzxhv1Wpoj98S0BuyOD3HuMarJsAg5CFK30vvhoX1HP7YBAPSeCMJoKAO+Rf5ryVfOAgYcGQYjMBeNtyDJjJOmQYMIxkhxTj9sQMCxrtxgAo3jDpk64MRiMg63i9uecIFChxgHyE+BQaDxBTptTNM3WQFztRvax7+2eo8P8ADdMpPkr+GLkEMOR+YyuOBYd8sEStE7bnJHN33zfpTHPIrq7bS3rVj0+BnVJJ5eDt6uM8cky6phINxJoMe4zfEv4ibaFKog9Z9z7DM2q0T+aRqhQTkNFxQ9s16VhJA5FAAUF5BPbC1f8AHxdys8ZKEuiEC9vuTmy0dVZeAooLXqs49EbhHLVClAH/APOZYjJE3q2qB9W08HnIt1vzz8fDRNEFYB0DWKF81kjO2Sh2FfP5ZaTuQbhuPUWP1xII6fcx+fmsnW05ypGjNdk+ws8gZpICrsVboe/TK3JOp9PIqjhoqDVbwecSpC7dj7RyTyOOgy1m2AtyWUWcVF3OKHU9Tl4UF9xqu32xLkVxR0zHqCL2j3wyPahUonufbISWO2M1Z9TDocZEVF4HF85NrSc6gVd4DdX9Iyzymsc/ce+QKA+5jfbHSrsdunOJpIhYCiRRHH3xmPIOQ2UIPNe+FRY5wMFSjddcK9CK56jCFo4R8e+AS+pqvfAeTa4RySPzwgVgEAoYQMIGEAYAhGRe+PgOAC8IwDrjDAJWEZLwA38YyQA7ibNVVZCMg4Xk385DgCmxkrm8Pf4yXXXpgZSDXBw4cmAePi3aONwpKpfA6hrzRFpKH8X6mpvT2xolXSPRbzYHND2By5RJFpz5r3uN7QeT7Z0WvI4/j/UAMLE6inUD0KDf65IyzSKIkq17UBZPPGTTs3mNI4BVeQFH++NFEYJiwXljZUm+MjW85XAWNvQjgUORlEKLtdzddKPNZftqTc1/POL6k1LKTasbv75LSQxryzQNAcV2ONYAsj7V/TJGFKAAem/2yAA6ggg1xf3xKkQqC4I9rOWbdzba5XnjIkJOocH3q/jGEtOwo7iK3Vxgcmiu2CLcwJ3cAYADIAHrZ2AyRx7DZJNdbOP0Fgce1dsm1rzyig+YNtFao/GOq7VNHkfrkjXy0C+3Q4xUsrGvvWJYICwANgg/kcYqQb685F6H9MYDkqe3IwMQK5oGxgHA479sIPHW8hPGAGyPyOAGzxxkq+uMBQrEEAGMBkAw4wmTJkxkmA4chwBcN/fJkHPTAD06C8mA4LvACOR14OQUevUZKsYevXAB0wY1ZKwBQffIAST+2MAKyAUeuBv/2Q==","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAABQECAwQGAAf/xABGEAACAQMDAQUEBgcECQUBAAABAgMABBEFEiExEyJBUWEGFHGBFTJSkbHRIzNCYnKhwQeCouEWJCVDY7LS4vBTZHOSwvH/xAAYAQADAQEAAAAAAAAAAAAAAAAAAQIDBP/EACURAAICAgICAgIDAQAAAAAAAAABAhESIQNRMUEicRNhFIHBkf/aAAwDAQACEQMRAD8A3095AgRFlQykA5ckbc9BkcY8hmltdYa1hZ443mcHbuA7oPr/AOE0LUJG2J5w9xjvIpyFPUkkePn/AEpsVxHLabojhEJAI5LN44HQev3VwPkaejtULWy5IVgXbbuMu2ThiNx8z4k+lVrvWCg7FY7i4ZcZVRwfHk8CqtkLl5maXasRU7Vx3h8TVwQ5PNYuUpeTRKMfAPkudYvBgGK2TPdVT9UfKoY9CuJHZpbs5cYbavh4jJo4kPpU6RUsR5teATD7PWwOX3yH1b8qv2+kWsRyltGD57eavpFUyJVqJDmyFIAPCpBApGCoPxqZUp4WqUSciKOBIxhEVR+6MVIEqQLTgtWok5EYSlC1JtpQvpTxJsjC0oWpNvoaXb6VWIWR7aULUgWl208RZEe2u21JiuxTxFYzbXbafiuxTxFYzbSYqTFdiniFkeKTbUmK7FPEVkJWmFKnIphFJxGmV2jBqMxjyqyVphWs3ApSKxjFMKVZK0wrUYFqRWKUwrVkrUZWpxHkVytN2VYK0zbSxHkee+0ftHBpELWsW4zRgExKSSM9Mt4sefh8aJewskl77NrNLE8RaaTCPnIGazsivp3tHdKUdmWTavP1mMm3H869F06HFtz1yahJV+zWd3+h6R8VMsdSLHUyR4qkjOxiR1MkdOVKlVKpRIsaqVKq0qrUirWiiTY0LTgtOC04LVqJNiBaUCnYpcVWJNlXUDtsJTkjjqDjFZSTU0h2xzPMrNnaAxO4A4z6VqNY7ulTH0rE6pEJdSs0yRiEkgdT3sVVaBO2Wfpq2jyryXK4PJ2scU7/AEgsd4UXUvwAbJoZptjdausr29qjrG7RsN75wDjnFX09m7xTg6aceSs2KXyH8S22u268Ga4w37jU631aK4doormcuBuIO4cfGhV/pMum2ct3c2G1IVLZLv4DOOtMsXB1KGQL3XtmYgHOCQDjNNXexOqtG60cs1iN7s7A8ljk9Kv4qhooxZHPUkE/cKv1VEWdiuxS4rsU6CxKSnUlOhWNpKdim4ooBCKbinUlKhgi/vZra8EcQL7/ANn/APpqu1/dqW3wyY8MBf8Aqq1eKDqERPP6QfhUd40kdwyxgFQMj40q0NMpHU7luiTD5L+dOGoTgEGOYn+EH8DUwRyASBuPNIEdcYxyRkfjU0hkJvroKSYZiB+5/nUL6jdEfqpFyOvZnirbs5G3OPQ4qO4LCPBJwcdceJpUhlaC9uGZC0pIZgCrR7aK7aCQSI2qyQoMGMKxHhgmj2KhxRSZn/o2Oa9a4kG9mfeCQOD6Uas4sQdPE1EkNX7aPEI+NYKLNXIRY6kVKeEp4WtFEhyGqlPVacFxTgK0USLOApwFcBThVpE2cBS4rq6qUSbFpC2BXHpQvWr9rZIIYT+muJVUcZwvVj9wpv4q2JbdE2tkfRE24+AP86yN5GTqFvICMrBjJ6HvUa1C77XSLmVzkSShY1/dHQfjWYuxJHNDNJu7fb3j6ZJx8OlZqak6RSVB/wDs4wYr7HI94f8A5jWrlvo45yghBVThmrGf2a3CJZ3buwGZ26kDPeNbJjZSTGQsu7x74wa6YeDGXkEe34A9krzHA7Mn/Cax+kqI7y2QqQjWZIz8BWs9vZ0l9lLzYwP6NuAQf2TWT0qQNdW2V5EHP/0FTJfIuD+LNzoLbtPyeuf6USoJoV0I9MB2k7mIA9QOnzoxHMksSyIcq4BB9KFTdAx9LUTXEaZ3uFABY5PQDqaiivVmvDEgyOzV8/H/ACobSdCLNdilzSVVAJSUppDSoBpptOpKVDsEX/F/CfDtB+FJdH/WWU9WBI+6pL4f61ET/wCqPwqjqdyLe83ZGQoHPrxSfgaLCE7ASCMKOtN4WTHTdUa3KCJcHI2imNcb3VkU5ANTQyWRdzsSceWPjUF0h7NATk5H4il7ZuN57x9ahlkaTBLjavPXxz8KMWPIH21uya3NMVwHSNc56nd/lWmI60GgcPckjphcff8A50aPWk4hkcIqswpiMVwSpoxhBSwDIaFpwWnYpcU1EWQ0DFOApQKXFUoisSlArqWqURWJiupaaapImyOeUQws5x3Rnms5q2oldZTs13dmhUfEgn8KJa3cGKylUAMSmQPP0rLyStJr1rCEZy5Z3boFXqfv7qj41y8894I0gvZduL1YLVSyiT3dR3QerHz+f8qzGoagy3UJZJJDKuWdF4BJNFzEl8t4LZ9sSyAMx6O/jirMHsrfAqFmiVB+zk/lU8K9+xtmag0hELY1C7RSSdiEjk+XFSrZDwvtRIzgkEn+lbOH2cuVUAyrgYwA5qU+zlwZN6sgP/yH8q6cRZGGn0mWSJ1F/eBCuGD7uQfDpVuxDrfIqq5WOErvKEZO3AH8q2Tez9yyYDRL8z+VRv7OXHZgCZcj1/yqlEmxmhpLcezsyDuzK5KY+0OlWNM1VGgdWGwhwdvTG7qPk2apxXMvs/NFa3MeYpj+uB8aF69L2Ut6IiqoEO7B6NjcPkcmuXlm4NTj5WmUtqmErW9bVtTlWQgQnlVHUoD0PxPNE9CYzNdXbdZpiFP7o4rLaHP2Vk77yklyqom8cg5IP49K12mbI7REh4hQbU82x4/OlwNSlYS0gkGp2aiU08Gu0zHUlJmuoASkrq6gAVfjN9CP+KPwqG+W2Nw3aLuYADJXOOKk1AkahEP+IPwqpqGJJSxOCgYcfCl6GPSGI7Cm48cYXqBUTDdLKu1gEI6H62aZBMgWMjPeXIB+Gal3lLqccbTsxikAgjHd8SwyOajkVo42LYAAB4z04zUx3GRSPBWAqJpC8LggZ4HHhyKVDsjRQt1wBjA6UXPWhSnN0p81H9aKsOabQkxmi3FxcRXSXciSSW908O9E2ghcc4oso7ooToo23Oqr/wC/c/eFouo7oqkibOxXYrqWniFiV2KWuooLOpcUma7NOhWcaYxp+ajc8GqSFZmfal5ZY1W1DO6EhsEDBxkdfhQIyzWadpHFK22CNS2M4cIVAJ/iP8q0F8kn0q5DdxsZHnxUAbsUERwqPyQ2CTyawnxxbbY1J+AX7JbVMdtKrRvENwVwcux6tW3hXArL2MKrrKypkgqckmtPC2RRxwrwW2WlqQVChqUGtkiLHU1ulLmmk8U6FYP1SCG4s3S5x2Y724/skePyrA3PbXVtcx9lNzLF+kEZbcg6hQOvC4+db3VhusJwBnKHj5VnLd1WPeeREegGMD8s5rHm4lPyOMmjM77uTWonntZ0gTexJiYeJ9PUV6DouPo6Ng4beNxIPA9PlQWW7cw2zGUDnnPOcjpRPQmxpyeGSzfeTWPHwxhK0Xm5LYbU8U8GoUbipA1dVE2SUlN3V26ihCmkrs0maVDsC6tIU1K3/iH4VRuCsl9MA2SoXI/u1Z15sahb9eSB8Kqtp8r3c06uqiZUxhSTwPGpKI4HMECArkqBk/LH9atSDfKSOGZ1B+WcVFLp8jxABxlenUCmOZoNhYF8MCTjrz/nTSEXUZtpyBnnFQyA+7v3cZxzn1FIlzuhRiDjqMePNMNwNksQBwNoBI+FACxcXWOeFX+tFz1oNEcX2D1KA/jRk9abQh+m6d9He8NNcm4luZe1kdlC97AHAHwq720YH1qHSKrX8pa6lGDgIFAA+fjXXMDSNG0V88aD6yqitu++tEiQj28ePrUnbK3CkZqsCjR4Z2b4gVG8SyZjfmNhQ9CWzrC8uVMkOoPA8iHiSLgMPDjwNXPeY/tioIY0jQAEbRwBXTIrrhtpHlQtIbLHvEf2xS9vH9sVTEJCYSQIPQD+tPESnBOMjxxRYqLHbx/bFMeeMj64pjQLjhufhTQVUADOB6UZBiCdVlSO5R9xKv3WwOlANQ1iyhvmUYeWMDaADyemPIeZrZnYeWAHrilbsHyG249ahqxpUZTQrxb2SS4zgHuKMHnHU1pYZkA+sKsxiH6qMvwBrmt4zKCSOPSnFJIHsVJ0+0KlWZPtCmsqbMAAg+lMUADAUYqrFRN2qfaFIZkx9YVBMqkYYA4pikBcbePU08gxFuXR42BIIIxWNeX3CSQNuLDjIHWtkhKZ2dD86SRCysQF3kdcVL2GJhDqCXG1ATvBGBg9a1GnsscCICcKAOhq9AkgXDbMD7IwKmGB1AOKlKnY/Q2OVfOpVlXHWm78ggRg0sWVJwmM+VXYqH9svnSdunTcKglDGTerEHpxj8qr5YXBckcj7IosdF73iPONwz5V3vMajJcAetAfaBuy0iSdCsbb1GVGD1881mZJpZkPau7LjjvE4rOXIo6LjxuSs0uuTpJeQvHIpCsM4NV5biVbyQBiUCrtUMecr+dZdz2SptOZJZlXcw5PpRVbp47145SNwG37hWSmmzTBpBFLu5Eihy3exgBj4danj1F2kZZlHCAknxyaoxXJF1Ew+qobJPocU6MrJfBnwE2qCPma1RDCjSQMo7rAkbgAB0qO4eBIZEKEOw7vAznw8apouL+NSCy9n59eelT3ajtjiPAUgg+WKq2SVLcyL7USozkoLZDj1yRmtMetBkiUarJKF7zRIu70GTRk9aBDTY7rgzbpB2jbihXPy9KhvLkwSCONFZuBgnGKIxnIGxyMdQaEe0MDrPYXQ4KXUcb48VZgP61bWtGcZWyM6pc+8dmlumNmRI2Rk+PFWobu62DfDGzeJBIz8qk91me8BeJVRNwDBs55H5VcWIAdKxqTfk3VV4KQubjJzCh8uTxXGeY/7hev2j+VXxGK4RDyoqXYrXRR94nAOIFGfHcfyp4up8fqEz57jVwRDypezHlRjLsLXRRFxc7iezTHgMnil94uCeYU+81d7MU+OAyOFUZJpYvsdroFsbl2J2oFIwF8vnXZuAPqLx4bjWlhs4oo8MqsfEkU5IIm57JMeHdqbfYzJ++Twk9rECf2SoJz8fKpob25YZ7JMHoM9K0pt4Wkx2Sd3k90V0sUaRgLGgLEKO6KLfYGe94uiw7sYUdR5/OuM1wf2EHzrS9jH9hfupscamMEooJ9KLfYaM32lyeoU/Dild7hkwAg9TzWjVB2rgouOCOKcVAI7ox06UW+w0ZgCYH6q/eaXNwDkKmB6GtRtHkK5lDKVIBB6ii32BlALk53bW+RGKcDcKOAv86LXNp2LZHKHoag2CqSb9itdAmXULqG6CSxjs2UnMYJbP34qaG8umXIVAD55/OpL60mleNoBGcZDByR92Knjg2IB5U6fYlRX94uWP1Yx8jUbvcHpsGPQ1f2VGycGlT7HaAV+s0ysJSjRkY7Mpx+dAvcpHmMaiJVznPZ5P41qrwAKc0Mt03neQPKs5Jlp6M5qVn7pLApJcdohGf/ADintbRSyvKjFRGAVVhzjOPjRDWY0OoW6sBksuKgn2x3hVSAnZLwfTmhce02PPVDmlWONUC53b0BPh1FQPOyyugXgD8qijIaUbzldz4+GRTZrhu0dkOBww8+vnWhAYE7rcxHqGCDHjyx4qaS7VpZEOcs2B6dOKESXFwbwdnGTGpDK4HB56VYd7mW9LmJtvarkgeGeatMmgvG+bsnP7I/qKLFuaCK4Esh+yAP5miBuVOSGBHpVkBNWd8d0FM/s+FLOYHtSsi91HUjeP2twx/OorFhPbK690HybINQ69qSafYxBmAee4iiQeZLiiLWBFPIJGuFNzyfjXZpGg6lpua7NMB9dmm5rl7xAHicUASRoZH2qMk0SggWBMDknqappf2NmxiaYB/2sqalGr2RBxcoMDPORWUm2UkWj3jjw8aUnAqmNZsMgC5TJ6daR9YsUYhrhcjBIAJ69PwqKZRcRdo56nk0jDdKvkoz8+n51WXVrNuk3+E/lSpqdszHa5Of3TRTCy2eBTIhiFMHPdHJqvLfRdhIVJO1SfqnyqCLWrVYUyJVG0clOOlFMLRfPEoPmCKeRkYqouowSx70YkA+XX0praoiHHYTtnySjFisuiuqmdSiWVUZJFZ1LDI6gYz+Ipp1eAeDdec+FFMLLrKHUqwyDQ6eAwN5qehpr+0FsrMoILL4bwPCkGrpdRuFhDAccNmnFtA0MrqaTSZrYgU1G/SnZqNjQAOvvqGqNn+qFXb8901Qsz+iFZtbLXgp6ov+07Y4yS4H8jTZdHe5w6nG4Be8OmKlv2I1O1IxxKB/hNCtauJVvlRJCoOM4JHhV6S2T7LcXs1h8tOcAk4C+dWBbWGn56PIAFJ+sfyFZuC6madhI25I16efFWYYiEmkdiSrqBn44P40k+kN/thb6YiBdVjG1QTknPTrUsuobTFGEjIm4yQeOn50HfC6jLycKjMRj0NPVnaa2J6M5wM58qdsVIKT4WOUdQFAq5caVEpZot0bAbu42KG3shVGPmoOPnR5jmNj0OMVpimRZhdC9t7mwl9yEULxtISrPnKk9RjOPWit7Hcanq9ncXMpkEcqFB0Ve8Og8K8zluGklTK4kicMADg58K9O0S495t7ZmwWyuceea5OFuUafo0enaNwW5NORWkYKoLE9AKYEduisfgKVtSn05W2WDuowO0CsxY/ADIrdukSlYQTTCVBeTB8gM076MGOZf8NDR7TyM21bG53YzgwSZ/Ckf2kugygabcAk7RuhcZPpxWWb7NMf0ExpgxzIfupRpqjntSPlQqf2mnt4TJLYToq8s7QuFUfHFVbr2qaWC2Vo9iXj7EZQeRkZ5PTr86T5K9jUG/QzW4HlBmtZyqRAlnHBOPlzQm1tby9lcRX0mYeCDtGNw/hrQXCBrOZMcGNhj5GqGgNmG4PGd68/3RWcoy/KlfkuLX4268Ay5sr3S4O1mvpAm/jaFJBwf3fSrsek6iW7U3z7mA5DgZA6fs+td7UkmxgGSFMpDY8tp607T5tYWzjXs7aVQi7Hk4JGOM4Plil45HFtjW4KSSFOmaqTxqMuPWX/ALaCSajeQ6lcWsL6hNLC3f7JyRkmtF2utE/qrEDy73/VQrS7qWTWb73GG1W6B/TsyvhufDvedTPTSVlQ2m3RQuNU1G2t3luItU7JFJfc7AAevNUrbUJ762Wa1tNReMkgFJXI48PrVpNfbVX9nr5ZhadmYW3bFOcY9TQf2FTVfoIGynhjgMrZEiBjn8fKoeWWO/8AhaxxvRXe6vEj/S2N+yLzhi3OP71GdG01dY01boO8IZmUIWYkYP8AFRCRdbWFy93alQpLAQjkYqhoP0lc6SkljcW1tAWbEfu69c8noacYtSppslyuNqkXz7NQFMMysfMoSf5mhUFjbN7Sy6Y0cYEabg+0ZbgHp8z91FWt9bKHbqUIbHGIVH9KGacLke2OLyRpp0jZWkKgAjbxjAHFVKKyisWtii3T2nobr1r9Ey2gt7aKSKZ9jMYx3TRTRJdlqshVV7T6wC4xzwab7TgNYW+RnFyhH3NQ2L39IYktSjLtz3n24z8qqMYw539CcnPh/s2URU8lQfSiEUMDrkRr91Y+CfVSFRkgBwME3LYPmBhatQrrCyYL2qg9D20mPTwrpk8vCZzpV5ZpJ7KOVO6AjeBAoTMjQuUcYIqM6NqN8yGe9hEYIyse/IHjgk1cj0LsIdkcxP8AHkn76mMuxtdAO+5U0Osj3MepopqltLa5EiEeR8DQSzlxK8bYDA54OeDVexejrzB1KHJ47RPwNBNcBj1Hd1wByfhRPUJMahHz/vk/5aC6vJuvm5JwoHWra0SvJUtHka+dT0xnPnkUQikBRx13FT/iFCrWR/pCJlXarYDZ8tv51dWWRcB1AAXB2jjhqUUNsuTORqTNgHcjEj5H8qhjkZrm3yxJEjA5PTG2mydo16Du3Aqwzj06UkccnvasQSN7HgdMkflVUKy/fXoeaSHGCsSsPhkitKr/AKPPhisbdRut+84XA7AJz8SSK16ZMOP3RVxIZ4rpVvJcSZVHkK+Qz8q9u9hvZKa2s0udVi2H60UDdR6t+X30D9m30b2XcuYljKL3WcF8vkDOeucZxWnPt/Yp9eeLIGdoVsmuPUV5Oim9JGs+FceKx7/2hWS5AurbPh3XqGX+0W3GRFcQZHnG3NK49oeMujbdBXDzNYiP+0S32ESzoWOMFIW4+OTV2x9rxqG4RyfV6kRY/GjKL0mGMltol9tNUFvot1DHtb9Gd4PII8R91ZG+vO29nrF1ABtZQAfTvL+VSxX76/BeFuBJuRVJ5AZenxzmhdhvn9k5x17NQ5554Ab+hrnk3JWvaZvFYun6aNh9K9rGe6AHU8/EVQ0u9NqkqhQd5Ruf4RUFkxfTo2BX9Xj14GP6U2zjZ8nj6idfhVuUnywf6JUUoSRY1u994so1IAxKOnwNXodVYQRgKv1B+FCNSiKWik4/Wr/WrcEDG3jPHKD8KuLl+WX0v9Jaj+NfbLv0s4P1VoBoN00Gvaiy4zIT1/ior7s2eq9eaDaKn+2r/kDr1/ionlnGwhWMqDWp3zz6XcxHGHjYHj0oX7F3jW+gGMY/XN4fCiM0G6F++pypHShXspEfoyVSy92dhwM+VU1LNMlNYNB651GQ2cw4/VsOnoaHezl29voMaR9A7eFWbiE+5zd/J7NvD0NVNFiP0UnJHJ4xQ8s19P8AwFWD+wmdUl+1geeKFLqEj+0zSk8rGUB9MCiHYHHVh64oVHGP9I5AScY6/wB0UuVS+N9j48fl9FnWb2SWCAFsgTqcH51Sj1Vor7sXwI44Axby5b+WBVnVYV7GHaTnt06/GgV5j3jUWU9I1iB+J/7qw5HKPL/RtxpPjNxaypNEN5yrDPNX47qKIYlcEDo2Ovx9ayPvLWWjdqrENEpYD59Kqy6tqfad6JVZfDtxx9wrp/kYpWvJh+DJumeiW+owKwKSbs9Rg1YbWrFWCmcbjxjaa8w+mdSClSVQAc/pW4HyFNGo6hcFVEqsw6AB2rN88X6KXA17PT7m+sLi3Mc4Esbg5BXPp8qwurWdvpOoLLp/aywzjBRxzHj18RzQ21N572pndQowXXawJHQHJNEXXePrMavikp76JnHDXYOve2upEeLEZRg2GXOeMedUpbjUlY7Wth8YSf8A9UTlt5M5VmzUfubSnJOG9c4Nb5P0ZYoGrfaqOO3tx8IP86VbzVXPeuU4+zCPzq8bFg3OKeluR0B+VLJhiiqs1/nLXeB+7GoqUO7HvXL58cBR/SrIg73Jp4t8DIBNVkxYopNHG2QZ5GyMZbGcfdV8612DlXtZjCAAJUIf45XqP50ww5HTFKsWKFNoMUf/2Q==","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAHAAAAAcBAQAAAAAAAAAAAAAAAAIDBAUGBwEI/8QARhAAAQIEBAMFBgMGAwYHAQAAAQIDAAQFEQYSITFBUWEHEyJxgRQykaGxwSNC0RUzQ1JicoKS8CRTorLC4RclN0Rjc9Lx/8QAGQEAAwEBAQAAAAAAAAAAAAAAAQIDAAQF/8QAJBEAAgICAwACAwADAAAAAAAAAAECEQMhEjFBBBMiMlEjQnH/2gAMAwEAAhEDEQA/ANbGkKJVmEEtHAbGEGFIEdBzCOQQHIrvaDTFVTBU8hoXdYSJhA5lGpHwvFjjhAIIUAoHcHjCyVqjNWqPL615mr8U7dRAQ5ZWpuPtEli+kHDmL52QtZlK87N/92rVPy09IhleFVknTcRw8a0cjVC3uTjZBNjeJOYHdspaPE3V5mIhh0Km2EnbPEm8suuJPPxfpCyXQrLz2eI77FMgTshl935ZR9Y1mMp7LzmxM0D+WRdt/mRGrR1fHVQOnD+owrq1NYdqK0Gy0yjpHnkMef6a1lpdxpdBMegq0M1BnxzlXR/wGPP8kSaW2kj+HEvldITO9IbTCu8mWRpvc+ghdxfgPUaw2UAZ8gKuAi/lciF5jQAdQY5q6Oc2LsulBLYFl3B700668T/iyj5JEW21zbnpFe7Pf/T6j6W/A/6lQpjavIw1hGdnioB3IWmBf3nFaJ+G/pHpx1FHctRPP+KJ79qYvq02k3S7NuFJ6A2HyAiJKi44kHhB2B4dTe/GEleF2/8AreI9sgOXnM2YAi0cQ4t7K21fkTBZeXcml+EEJJ32vEmgNSCcjeVbhFieQ6RN0hXoaIbLJs2fH1Tckw+lmu6u5MLDjnUXSj04n5DrDdakttKfFwu+VPTmfT7w2dmSUJSm4AjJORkrJpNXC7tZjkUCFEm/SIQtuBZ8QsOPOEEOFJMKd7dNiYp9ddD8RdHgF7m5+cSM21NS1Kk5l1tSGZlKiw5wVkOVXz+sRzTYWjPe4G9jG803B8liHsnplLm092oyyXmnQLqZcVc5h8dRxGkLCPJ0CMbZgpdzCxOu8JqXp1GsPK9RJ7DNXep1RayPNG9xqlaTspJ4gwwJCtx6xaqGoWLhIAB04R1p5bDgWhRSsG4UDqDwMJMkL/Dv4xqnr0gKNxyjBPS+CcTN4swxLzwI9oA7uZQPyuga+h3HnEjWaPK1+jzNOnkZmJhGVVt0ngodQbEeUedsFYym8F1gTDQL0o9ZMzL3tnTzHJQ4H04x6Io1akcQUtufpj6X5dwbjQpPFKhwI5RROyidnmesUyYw/W5qmTf72VcKCeChwUOhFj6wzU4UqDibEjcHiOIMal2802VZdpdTRlTNPFbCxxWhIuD6EkX6xlOa6ed4m1TJtUz1faOEQeCkRQscSbGFN4iazXZSiMgvkrdX+7ZR7yv0HUxSKpjCqzmYNv8AsbXBtk2Nuqt/haObL8rHidPslPLGGmabY22Mcim4JlHppxc9OTT7y+7shC3CQArjvy+sXICwA1001iuLJ9keVDQlyVmadtWHPbKOxWpdP4ske7eIG7ajofRX/NGPpcC0WO8epZ2TZqMg/KTKc7Mw2ptwc0kWMeYarSnqFXJymTP72VcKL/zW2I8xY+sLkj6JNejVtWSbavpZYvEwg5kKVrcHKIhHAVIzX1G0S7LgW1cH3hm+P+jEJrRKSLz2YvhrF0kg7uyr7fr4VfaNgjBMLVMU7ElHmicqGplKHD/SvwH6xvlrXEWwfrRbF0ITjfeyEw3a+dpafikiPO1PXlkUAn3fCY9IJF1AHnHnCaaMpOzLI/huuIUPJREJ8lWkLmVpDSW/FqS/8IPz/SF523jsdjeEJFaRPOK4XFz6GDrduVciLxzVs5/TVOzPGFLThFqnz09LyszIlScr7gRmbuVBQJ33t6RQ+1HGrWK6y1KU5ZXTpK+ReweWd1jpbQep4xUJloKUTbjBAMqQv+XfrHZydUdHJtUcTZJ1NrQtKyBmXMzmievLrBpaUKj3jo31Sk/Uw6LqkJKEnffrEnKtIm3/AA5NPNtNdy17uxWNL/pEeABqh1JPK8aT2RUGk1mdnZqooRMzMmUlqWcAKAD/ABCPza6a6D4RqruFKDOJCX6LTnATxlUD6CKQx2rHjjtWeaZm4lW0k3snYczrDK/huYl8Robark+3LpS2y3MuIQhI0SkKIAHSwEQx0MPFUjJUDiYAOlo4d/OObaw4wq26pokpOpFiOcekOzvFVOxDhaVblXkiZkmENTDCjZSCkAX6pNtDHmzYGHFLqk5Rai3PU59cvMN3yrTyO4I4g8QYypOwp0z0rjDBVOxnTgxOAtTDV+4mUDxtk8OqTxH0MeeMR4dn8K1lyn1FGVxOqFp9xxHBSTxH02Mb1gDtAksaU/uzaXqbCB38uTv/AFo5p+Y484mMRYZpmKqaZOqy4cTu24nRxpXNKuB+R4w1WO1Z5Z6jTrC5UHklaQAtI/ETz/qH3iyY37PKhguYDqj7XTnFZW5pKbWPBKx+VXyPDlFUzKQsLQSlSToRCUJQskC0P6TWqnQX1vUiefk1rFllpds3mNj6wyTZxsrbFikeNsfl6jp9ICVaXgCitTqc/WZwzNUm35x61s7qyogchyHlDRwhINoUWrS8ItMqm5pLSeO54Ac4Bj1tETiGvM0KSKzZT6ge7QfqekP52cZp8i7NTBs20nMeZ6DqYyXEFSdqEwHppRzPuC+uiEjZI6CIfL+R9S4x7ZsuTgqXYHZt6bfcm5xRW674io7gcBCDqgtCQeJvCE0+S1oSCtQAFuEFL2dTRWLAk6pPGPCpt2zgLdheutSdRkw4sJZdSZdZJ2UT4SfXT1jRCLRgLjqkrdSq+RZ8Q5dY1HAOLBXJAyM25eelUjxE6vN7BXmNj6HjHtfDyfjwZ2YJ/wCrLZGQdtuGy1My2IZdPhctLzNuChfIr1Fx6CNf2hlW6RL16iTVNnB+DMtlBI3SeCh1BsfSO5q0dDVo8tqXobbHeHMg4Sxl3ykp9Nx94TqlOmKJVZqnTqckxKuFtXI22I6EWI84JJrLc1lvYOC3rw+cQa0QaJRtf4JTmtfQHrHoLCFdTiPC0nP3BdUjI+B+VxOih9/Ix55Fu6F+cWvszxinDeIVSc86G6dUCApSjo05slR5A7H0PCBidMON0zdI884rSGMX1hoG2WcdIHmq/wB49DWvpHm/F803MY9rDja8yFTiwCOht9ofMrQ+TaI6VOV54bXKVfUfeDurCXADtYiOEATZKfztKA8xr9oSmVpUgKv7w+Ec1WyFWNHnBmKeN4dysmGGg9MjxEXQ2Rf1MKSMhlUH30Zlq1Qg/Uw4ff7gqBssqOphnLxBb8EFVMMp8bYOY/vBqDDF6dbVfILeUFdTnJscpPwMNltlvT5w0YRCooc0+rzlHqKJ2mzLktMN+6tB+IPMHkY02hdvDjKEIrlLDpTu9KLy36lB0+BjJ99CILYHTWLLQ6bRLVR3v5l125u6tS7+ZJ+8RpEKl8PJTfRYFj1hNRMFaMghFhpABuI4VQW+uhhkEOOPGOjlBQq/vD1GkdAJPhUFdDoYJheRnpmmT7U5IvLl5hhWZtxBsUmNwwR2x0+sNIk8Qrap8/okPHRl7rf8h6HTkeEYUQQbKFieBgpTm/1vAugp0eupmWYn5RyXmWm35d5OVbawFJWk8xxEYb2idlj2He9qlDQuYpY8TjV8y5b/APSOu4484hMG9ptZwgUS+b26nJOso8r3R/QrdPlt0jVJftswlMSJcmHJtldvFLrlitR6XF0n4w2mNaZgaVEKCkEpWNlCFgsO3KEhLg1UgbK6p/SOTr8vM1GZdlGixLuPLU01f3EFRIT6CwhupXEHUbEcImTOuuaHWH8gx3EoXD77w06J/wC8NZZj2+YR+Uk+O3TcxJPLSb5E2SBZI5AQsn4Bm29o864mWlpJki67uqHO2g+d4zaozl5hCnG1Jyr1ChpFs7Q6jkxYWzcoZZQk2G17qv8AOKlOuB5s+LMg8RsY8rPcs7bObK7mwi387hKVHKgeG54xx2ZLfdG5Kc2YiI9qY7nOydjsTCrr6FOJCBwMD66YvHZITSELBcbO+qrcoZSk9M0eotT0k4W3mVZkEfMEcQdiILJzSgruz6H7Rx9H4nh87Q2NODGjpm5YUxXJ4spYflyG5hsAPy5Oravuk8D94mo82SFTnaFUW6jSniy+0deIUOIUOIPKNswXj2QxhK5ElMtUW03dlSd+akH8yfmOPOPVx5OS2dkJ2il9t2FsyWMRSqNU5ZebsOH5F/8AT8IyVYGXMk2I5R6sqdOl6vS5mQm052JlstrHQ8fMb+keX63SZjD9bmqZOD8WVcKCQNFDcKHQix9YMl6aS9FZZ0PhKjs5e45K4/rCE0nVSSLwnJrCXS3fRz3TyVw/SHC/GTpqfkYjVMl0TlJ7U8S0ajKprMw282lGRlx5GZxkf0qvrbhe9orDThuVLUVKUbqUdyY6pACiOcI3yrt6RS7Q12P0ukONW1KVj1vDuTkQye+mQFAEhtHPrHKbJWQZuYGVtPuDiowq6rvzmUfK2wHKOdvxCN0PMjlQdZkZBpT828oJSlA1UrgOg+gi2o7DJ1+UDkzXWmpsi5bQwVtp6ZrgnztFWwbX2cMYwlZ+cSpcunM24Ui5SlQtmA6fS8egKfUpOrSSZqnzLU0wvZxpVx5Hkeh1i+KKopjimYPV+yLFFJQp1hpmptjUmVXdf+RQB+F4pjgcZcWzMIW26jRSHEkKSeoOoj1nEXW8L0fEjeWr09iaIFg4oWcT5LGo+MVcUO4Hlom3UQAUkWvGhdo3ZtJYYXKO0l+Y7qaK0lt8hQQUgHRQAOx48oz56VdYUQtO3EbQmroTp0cCRzt1jo03N4SzGASYajCmRCvzawUsn8qgYIDCgNxG2giZSpOhBjlwTa+vKHCRrvHoDBeEMO1vs6pkvOyMlOuFnO4dC6hSiSfEnxA6iCnYVs8+NvKSnKrxJ/lVr/8AyFB3aj4Vls8l7fGNbxB2BXcW5h2pBAOolp0HToHAPqPWM7xBgTEGGEldUprqGB/7hqzjX+ZO3raDRqId1tSD402vsdwfIwTJxEBtxbYISfCfynUH0hVCmnDa/cq5HVJ9eEKASGmkFUbDrCjqFNGy02O46+Uclm1TMyhtIuVEARjEtTGhLU9TzhALvhTflx/SA6+ALpbWocwk2iTmCmWUhlgJHdJyZ7XPXyiNfmnVk/jLJ/vMSTtidmkdoqSzjd5R17xhpVuliPqIqakJznIrTe17GNyr2GKdiVkCcQpLrdw2+2bLR0vxHQxTJzsieUT7JWUEcA/L6/FJ+0c+T483JyiJPFJytGePy/eouB4uZiOWiYZc2JAOx0+cXue7L8TSrZMs7KTgA91DpST6KA+sU+qM1GjulmqyUzKL5OJKQfI7H0hVjnHtCqEo9jUTaVKIN0K4g73hYTOZFs11DWI5ybQpOqAbcFQilScwW2XE+Xih/rTG4j9agQVJvrDZDr0pNNzMm6uXmGlBbbjarFJ5gxxpxQUQlSHAfy3yn4GE3FELykFPLMLQ8VQy0bTgDtUl68G6dXFNytT91DvutzHlwSrpseHKIXt4orLYptZQkJfWsyrv9QAKknzGo9YylxGfTrCtQq1SnmGJeen5mZYl/wByh1wqCPK8dClaopytUNgCR1h4Xs7CHhuTlX0P/eGaHOELMkBwoPuOi3keBhGhaBMG1iNYeUml+2O988LNI8RJ2hOmUx6fmkthCjdWW3EnlF3m6Kil0dLi1oSyB4jwJ/TlEpypUgN0QM4puYyjOWAjRObVBHXkYj1pU0oFact9iNUq8jCi5hLqjY3EJtlQCkoULcUHVKvSESrsn/0ScUlxJCh6iO0yq1KgTZmqTOvSrnHu1aKHUbH1hFxwJdIAyK/kJ09D9jHO8SvRVwoc4qrQytdGj0LtzmGcrVfp6XwNC/K+BXqg6H0Ii+UftIwzWylMvVGmXVfwpod0r56H0MedlpSb6gwh3YOkVU2VU2ehe1WTTN9n8xNpUM0ktEw2oagi+Ui/UKjAnZsOlWlwYMxVKjJyjstLT0w1LvJKHGQ4ciwdwU7QwJ3uLeUZpSdgdSdiiiNbphMAdI4VXGh9DAuQPECORgoAYFHEGASkDS/wghUI5fiIIRUODkT56R1Mw63Md804tp2987aikj1EJBYO4g7YKlWQknoBGCWek9p+K6NYM1h59sfwpsB5P/Fr84u9I7fwUFuv0UKuLFySXofNC/1jKfZVFObIAOpAgpkxbxPy6PN0faMpGUh/i6pUiqYkfm8PyLlPk3QD3LltF/mIAJCQdNPPyiH0IMHVLC/hmGVf4oL7M9a6QFf2qBgm7DNzBbTkV42juk8Oo5RLYbk80+p8eJLCSoE8VHRP6+kQeRYXZSSnzEX7B1JZnaK4VKdv3njS2oJ2GlzrzMJN0gPSFqQ1JSdQbm6jLmfbQrMuXK7BfQnlF8p9bwDXE9xUKNISDitMsxLoSk+S0jT1tFHnaUmUC1SanboF1NLVnJTxKT9ohXnQpOttREYTaFjJo3vDFfbrMq4hRCZlhRC0DiLmyhE1GCz85NU6rvuyb7rDrD6wFtqsUnMflE5Te2KpyWVFVkmZxA0LiD3Sz9R8hDYs1qpDwyeM16E3mGpllTT7aHWlaFDiQpJ9DFOkO1vD02AJlU1JK/8AlazJ+KbxOyuMcPzoHcVqRUTwLwSfgq0XUov0paZA1rsiw1VipbMu5TnlfmlF2Tf+w3HwtGfYg7IK9RW1vUxaKtLp1ytpyvAf2Hf0J8o3BqelHxdqal3L/wAjqT9DCinEITda0JHNSgBGcUwOKZ5SdUcym3G1JWg5VJWmxSeREGbdWlNgu6T+VYzCNT7ZpSgPybVRlpuVFYS4lCkMuJUp5BvfMBxHAnyjKbpI8O/1iTVEmqOq7pSrKHcK4EaoP6Qm+0tGjgGuxGoMcN1JIO8cYmSwC26nOyrdJ4dRBRkIo0v0h5ISypl0aHKDrDiWoq5tzMwsKZIvn6cvONBwRhtlsJqEw0VNN/uE6eJQ/OfLh1hJTXSNZJYSwj7JK+0TiLPODVJGqQeHrx+EW+RpdLmHu4qEqzMXA7tDyApAI5A6XhNuaQWQpshSVC6SOMM5hSnEEkkEcYkpKLs10KV7sroFYbUqVY/ZcydnZUWST/UjY+ljGP4mwxVMIVQNVJsFpejUw3ctujoeB6HWNrpFffaIZnSXUcF/nSP+ofPzidnJKSrNOVLzjDU3KvDVCxdKuvn13EdC45FoelNaPMD7QeTnSoE/WGqm1ZLb22CvtyjVsUdjT8v3kzhd7vUb+xvq8Q6JXsfI2PWMznWJiRm1y0/Luysw37zbqSlQ8wYTi4k+LRH2ynS46H9YMCkbjWFFpC9RoYSKd+EMnZjqjyhIp15wYg2tcwQkjQwyCghTHASk6E2gxjhTDIY6LL3Sn00gyGG1H3ynzFxBEm0WvBGAqjjWcIlgJeTaUA9NODwp6AfmV0+NoxqK6uRdZYDwLamyrKCki9/LfjC7FHqs0P8AZ6fPvA/7uXcIPwEem8LYMpOEqeJensBThsXJh0BTjiuZPDoBoIkqlW6fR2yuozzMqLXs45YnyG5+EMl/RuP9PLycCYndRnTh2qEc/ZVD6xFTlOmqbMGXn5V+VeAuW3myhVudjHouodqtNbJRTJWYnXD7q1Dum/idflFIq0vN45qzc/Vsp7tGRpptNkNpve2up5kk/CElOKEcoroyhEs457qCfSFGqRNzC8rEu4tQ/lG3rF1rFco1IWqUpcsioTSdCu/4ST6e96adYrU9UJ2dbtOzBDXBhoBtHwH3hVJsCbGcvJOCcDDjgW4TlDaTmNzsL7RMlNawrNKKUuS5PhWkiwV5jY+kTGBcP3KKq82AhKsrCbaE8VegvFucrbFPcUqblWZ1hfhcYdSClY477HkYnKaumZyKrTK63WGVFae6mWRmtmvfqIZVGRzrU6ycqj7yBsT05eUFxFLyFIr6ahQHCunv+IMqvnZv7zar8twdbjyMOSsTDAcQQpKhcEQGlHaElp6JHHbBpmNqi2rwtvOd4PJQuD9RFamVAaA3TxBjVO17D65qnsViXRnMqC1MAC/4ZNwr0P1jHVqUkEJVpyMLLHxkwyjTHLZsfBZQ5EQqUtueFbdlHmAYZNTRbRZaLgcRCn7RQCAELv5QGmCh8KYxkuZcE80w1flGVEglduRUbQX9rOIvlbUB52hD9puuKJS02DzVdUaKkBJhTLtoVYNi3QQkqTdzZm0KtzItAW/MLVYvKF+CdAPhCS7FXjUpXVRvFlZRC3cKt4i2D1cEILlL69+wPNyCLCbWCPWH1GocxWJ5EvLNZ1ki9xonXc/pxhlrYSyYRYlXqe5KF9tMwr3SDz4xeqnMqpkolDTam2EpCUKUnQC3G0StA7MKXIUplM6hxc0klZWhzIoKItrbfy2HWEquubwytMtOJTOyLoIQ8lHiSBwWjYnqPhHPkhJfkCUXVkThmouvNuoeuS2sqT4bXCv+4+cSz8zZJSQm/K8Rq5JTpRPUtxLzRSQptB1I6dRyhJSzYApVnG4I1v5RHlaJ2Oi8G/xFEgjXUweVxlN0pVihLzB1Lari3UHheIt1xSvCVCx5mC+zKd0AseUKpOLtCqTXRe6Zjqi1JsZpkSjp3bmfD8FbGFavQqDjSSyTrUvOpbOVLzSxnbPJKxt5bdIr1GwEiayv1AZGzrkAsVfoIvEvLMyjCWZdpDTSBZKECwEehilOSuSOqDk1+RiuJ+xqpUzNMUFw1OWGvcKsl9I6cF+lj0jPHWlNPLbeQttxBspC0kKSeRB2j1jEPXsJUbEzdqtINvrAsl4eF1Pksa/aHcF4Fw/h5iKCQbbdITKOca3W+w51vO7QKkF8QxNjKfILTp8RFDq2F6xQVEVamTDKQdHSjM2fJQuPnCNNE2miu5DewgFvpEkhptxIVlTbmDF7w72XT09RTVplgBCSFMyqkkKdTxURy5Dj9V5vxATZUMM4YTUppqYqanZemhXjU2B3jgHBF7D/ABHQdY1b/wATqZhyltyFFo3cS7CcrSHHQPWybkk8STrFHqaHm3HApRASbDl6RDONKKj4wq+piccsmKpstNS7UcRVZKkImRJtK4Sycht/dqr5xCyilTD6luqLjizqpZuonqdzEdYITqbDzjrFWTK3KApauQP1MF3IDtlmWtiRSH5x9LTTY8RJ+QA49IrtbxNN1hBlZQrlKf8A7sGy3eqz9tojZh16fmO8mFZ1X0T+VPl+sGVlZbvcE7xoqgJUJJQiVbsgeIDWGK3VOu6a24QpMvEi194ksJU1M3VkPPgezSxDrpOxt7qfU/IRVaVsojT5eVVK0eRlQLFiXSFWHG2vre8VSus1FM5lclJxCNCkrl1gEHY7RreAFS9Rk36glOdSXO7Ssjaw1t8Yt9zzPxhYYuS5MKhezEaB2b1TETCvbGVSEspJs6+iyieGVO+/E205xE4Wp8qxXpjCuJUqk3VuZJeaQbKZd/lPBSFcL9LWvHoSM37XMFftan/tuno/2yUT+MEjVxscfNP08oqsaih1BJF8WhLiFIWkKSoWKVC4I5ERi3aD2dvUSacqNKZU7TVnMpCBcy55Efy8jw2MbXAtBlFSQzjZ5XUkkX8JuIKlKkg+EXMbXjTsrl60tU9Re6k5w6rZIytPHnp7quuxjI6xSKhQpwy1Vk3JZ0bBY0UOaTsR5RzuLiRcWiOWFLFlEWHCC2CUmw15wpc2JsLQkUqXpaAhRIne0AIv67QqmX1sBmPACHrMkG7KXqr6QXNINjZqRVpfRXG/CNaw3RW6HhxgoRlefSHXVEeIk7fAbRUMJUBVfqwzJPsUsQuYWdjyQOp+l41B5JfeS222XXnPcaSOHPoOsSk3JA2wtOx2iWdEvWUlKb2EykXA/uH3ESldlmcS0BSqa+1MLbPeNKaWFXI3HqPnaI9GA0ThzVN+wO7Uvp6FR+wiapeGKRRbmnyDTK1e85qVnzUdYvCORx4z6KRUmqkZC5XDTJjv5RxTaybOJI0X/cP9GJ+QrtPxAgMOr9mmiLAZtz/SePkYc9oXZw7POqqlAbK31m8xKg2zn+ZHXmOO++9Qp3ZviifcH/lxlEfzzLgbA9NT8o53ha0S4NaJSpyFVpb3eJ/GZAsHEI1T5jh5xdMHYZdTLon6tmU4sBTbKxYJHAkfYwenYSqdMpLbbtQTPvJHiQpOWw5JUdT/AIvlDiWrE1IL7p9KnAndtzRafX/QjRj9cv8AIgxiou5FmjkNpOpS08LMueMboVooekOo7001aOlO+jkCBAghOQOBHA7jnHY5GMM2sNUZU37WaTI+0A3Dvs6c30iVgjI8HrB4KSRiqYowHK1wOPyhTLTa9VaeBw9RwPURk1fwZVaGta5iQf7tOpcbQVt/5hpHoSOiJPFFu0TeNPZ5MmHAVKAsdecJIcCCY9ST+FqHVFFU9SJGYWdSpbCc3xteGqsBYXW3kVQKdb/6AI31g4Hmf2gJvoekIOzBUbq0849MHs1wko3NAkvRJH3h1JYHw3T3g7K0OQbcGyu5CiPjeCsZlA89YVwBW8XzSfZJZbUqT45x5JDaR0/mPQfKN/omAaDRaMxIJkGZkNHMp19AUpxZ3Ur9NhFiSAkAAAAaADhAh1FDJJBWmW5dpLTLaG20CyUISEgDoBB4ECGGBHCLix1BjsCMYbCBAELIa4q+EAIVDZVqdoSqVJkazJKlKjKtTLB/I4m9uo4g9RDuOKUEJuTpGoBkmJOxNYWp/Ds2ko3MtMqsR5L4+o9Yo8zgevyCiJiizpsbXQjvEn1TePRTjpcNtk8oKIlLEn0I4I89SmEMQTKkpYok7ZR3U1kHxVaLFJdlVSUlLtZmG5VsmwYYPeOrPmNB842OGNUrNNorYfqc6xKi1klxdifIbn0hPpivQcEiFpuHXJWSbk6fLpkJRHFeqjzNtyTzMWCSp7Eg2UsglStVuKN1L8z9toqc/wBruGZNJ7p6ZnFDgwwQPiq0RzfbhQyod7IVFsE2uAhWnP3oaMYRCuKNGgAE6AXhnSKvJ12mNT9OeD0u6PCrYg8QRwI5RGYpwuvElLcZbqM3JTAuW1NPqDd+AUgWuPmIqOT5097TzjoSbbG3lHlyty1So9Ufkamp5EyybKStaiDyIPEHcGEZSsT8osmXn5uXURu2+tN/gYTmJzo9UwhNSbE43kfbCgNjsU+R4RglD7V8SUdaUvzIqTA3bm/EbdFjxD1vGvYRx5SsXsASrncTiRdyUdIzjqn+YdR6gQbUtDJphZ7DrzJ7yVJdCdRbRaf19ITlMRTUmru5xBmGxoTstP6xaYbTtNl55JDyPFwWNFCIvC4u8boRwrcQSVRlqggqlnQsjdOyk+YhxFRn6DNU9ffS5U4hJuFt6LT5wrIYpmGSETqO/bt76dFjzGxjLNTqaoynWpFpjkISVQlqg1nlXUrHEbKHmIXjoTT2ii2LtfuxB4K2LNiDQQnI7HI7GMCBAgCCY7AgQIxgCOxyOxgAgQIEYwIECBGMFQ2EanUweBCTrwTonU/SMYMtwNjXU8obrWVm5MFJJNzrAgBBA21gRWcfyFZqWHVS9EIOcnv20qyrcRySfqOMK3SsD0VzGval7K4uQw4ttbqbhycIzJSeSBsT1OnK8ZTPTU3UJtyanpl2YfcN1OOKuT/rlB5mXdlZhTT6HGnEkpUlabFJ6jhCBJSdfF5xzOTb2c0pNhCkpN1AqB30hJWRQJTteF+80NyR5w0dOVZWixF9bcY0TI1TsWqxl56bpTi/BMJ75sH+dO/xT/yxrseasLVs0atSk82b9y4FH+3iPhePSMtMNTcq3MS6w4y6kLQobEHUReD1TLY3qip9pWCkYsoSnpZsftOTSVS6hu4Ny2fPhyPmY883v4SLW3BG0et9o89drGG04fxo48wnJKVIGYbAGiVX8af82v8AigyXppL0pyVEpsd4VYfdlZht+XdW080rMhxByqSRsQeEIgWsYOTr0MTJm19nnaoK4+ilV4ttTyrJZmB4UvnkobBXyPQ76THktPAjfnG19lnaG5XAKLV3M082i7D6jq+kbpV/UBx4jqNXjLxlIy8ZpERlRoMrPgrA7l4/nQN/McYk4EM4qSpjtJ9mf1GSmqJMBT2ZsXs3MNkgE8r8D0MSVMxg4gpRPp79HFxGix5jY/KLh7Ml9pSHkJW2sWUhQuFDqIq1WwA2cztFeMurf2Zw3bv/AEndPlqPKOf6pQ3BkuDjuJZ5KelagznlHkuJG4G48xuIcRkq5udoVR7uebelJgapVe2nMEaERaqPjcrQEzoD6R/FbFleo4w0c66mqMsnki4QIQlJ2Xn2u8lXkuJ423HmOELx0KntFQR2OR2CEECBAjGAIECBGAdgQIEYwIECBGMf/9k=","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAwEBAQEBAAAAAAAAAAAAAQIDAAQFBgf/xAA+EAACAQIEAggDBgUBCQAAAAABAgADEQQSITFBcQUTIjJRYYGxBnLBIzNCUlORFCSCofBzFiUmNDVDYmPR/8QAGQEAAwEBAQAAAAAAAAAAAAAAAAECAwQF/8QAIBEBAQEAAgMAAwEBAAAAAAAAAAERAgMSITEEE0FRMv/aAAwDAQACEQMRAD8A/QlWOFhVY4WTpYULCFjhYwWMsIFjBYwWMFgeEywhZQLCFgMTyw5ZQLCFgMSyw5ZTLCFjGJZZssrlmywGJZZssrlmywLEss2WVywZYDEssGWVywZYFiWWDLK5YMsZYllgyyuWLlgWJFYMsrlgywLEisUrLZYpWMsSyxSsrlgIgWIkRCssRFIgSJWIVliIpEYc7LJss6GGkkwgl64EcLCqxwswlduFCxgsYLGCx6MIBGCxgIwWMsKFhCxgsIWM8KFhtGtDaAwuWbLHtNaAwuWa0a0NoDCZYMspaC0BhMsGWUtNaAxPLBllLTWgWJZYuWWtBljLESsGWWywZYFiOWLllssGWBYjlilZbLAVgnECsUrLlYpWMsQKxCsuVilYFjnIilZcrEKxpxzsskwnSyyTLAsewFjARgsYCc8dwAQgRgIQJRYAEIEIEIEYwAIbQgQ2jPAtNaNaa0BgWmtGtNaMYFprQ2mtA8C01obTWgWFtNaNaaAwtoLR7QWgWEtNaNaa0BhLQWj2gtAsJlgtKWgtBOJ2ilZW0BWBYiVilZYiKVjTiJWIVlisUrAsQKxCsuViFYJxzMsmyzpZZFljS9kCECECECYx2gBCBDaG0oBaG0MNowAENprQwMLTWhtA7rTQu7BVXdmNgIAZp4dT4moL0xToAlcOAVqVGW3a0t523/eeu2KoImd61NVte5YWhLKdlis1p850h8UCnjqK4ZWajTe9U3tnFiLAf3n0GHr08VQWtRcPTcXBEJyl+HeNn09prQ2mtGkLTQzQAQWhmtABBaNNAsLaC0aC0CwtprRrQWgWFtBaNaC0CwtopEe0FoJxMiIVlrRSIFiJWIVlyIhWNOOdlkmWdJWTZYJx6YENoQIZm7AtDaa0MYC0M1oYwFoZynHrUdqeEU4mopytlNkQ+bbegufKAYNq7McbU61dLUVFqY9N29f2geN/HGu7JgqfXEb1TpTHr+LkP3E1PBAVuuxVQ16ii4zaInmq7DmbnzgGOWpUelgk69kABINqa/1begvAuCNWuWxtU1yFBFIC1Jdfy8T5m/pAPj+l2Sp0zinRgytUJBB0Ok5RharDMtCqRa9xTNrT0elR/wAR1v8AXX6T7Vr9aup4zmnDztb3n4SPzlkKIQylTa9iLaT7daNXD4ejiMGoZiidbSvYVBYajwb32PAj5z4kpJS6XqLTGVerU24Dfbwn12GIODoFTcFFsRyl9Uy2J7LslNQr08TRFSk11Om1iDxBHAjwlJy4ihUp1DiMIB1pI6xCbCqPo3gfQ6bWoV0xNLPTJ3sQRYqeII4GbslJprTQIJrQzQATTTQATQwQIILRoIEEFo0ECwtoLRrQWgnC2i2j2gtAkyIpEpaAiBIkSbLLkRCsE2O6GaB3SlTL1HVEXdmNgPWS6hhnIcY1YH+CpGr/AOx+zT/fc+g9YDhg1LrOka4qKBcr3KQ9OPqTAYY49ahK4RTiWGl0NkHNtv2uYq4SpiFJx1UOt/uqd1p28+LeunlBRxfXUEHR9EPTt2ajDJTA8tLn0HrDSwRrrfHVf4g3PYAy0xr+Xj6kwNqeOpvmp4CmK+Q5bp2aanwzbegvMmDqV3c46qKouLUkGWmNOPFvX9p1UwAGAAABsAOEKDtvzHtHCLTAWoyqAFVVAAFgN4f+6flHuYV++fkPrMPvTyHvGHxnSlv9oaxuLdePpPtGH2g08Z8L0it+ksT/AKre8gatQ96s5t4uZx8e2cLXTevykeh8TMH6YqZSDamoNvG0+ipo+GoUauFXrKTKpqUhy7yefiOPPf4u2k+66P8A+mYS36a+0vp5eXK1HZPGSL06qV6S1KTBkbUESOJoVBU6/ClVrCwYN3ag8D5+B4cpz43EUsBW61K1NWY3qUSfvPMeDefHj4znrfE2HC3oU3qc+zb6za8+PH7WUlvx6uHxC4hCVBVlNnRtGU+B/wA1lJ8tiencRVqCpRWlRqDQMATceB8R7TnPTWNqghsVUUjcKAJH7+B+FfYxWqJTF3dVA/MQJ8T19fE3DVq7jxaobSbKinUZiPO9/wB5nfyZ8kV+uvsqnSeDpd/FUR/UDJnpno8DXF0/3M+PNQ/h+mkRmOtz/eOd1v8AE3hj7ZelMEwBGLo6i/flUxNCobJWpsfJwZ8Ff0i6X2Eudqcfoe+2s0/P0r1aJvSq1EP/AIsROuj070hQvbEFwf1BmlTshY+0mngYH4pRrJjkyN+oguvqNxOzF9P4PD0gaTjEM2y0z7nhK8pmpelBPm2+LatjbCIPAmoT9IrfF9TOcuETL5ubw8oWPpYLT52h8WlsUor0ESiTZmViSvnPoKVaniKQqUXWoh2ZTcRy6Q2ikR7QWjSmRFIlCIpECZq2LrW6iktBL6vX1a3ko+pHKSr08JhSHxtXrqp0XrO0f6UH0Eq1DE1ivXVxRW+qUNzzY6/sBK08NRw1NupphSd23Y8ydTIdST1MXXVuppjDrY/aVhmb0QH3PpGo4CmCr1i2IqjZ6utuQ2HoJ0N3TyhXYcoyCn3BympCyH5j7wp3BBT7p+Y+8cIU3b5pl7z8x7TL+LnMO80AAH2rch9YR94eUw+8bkJN8TSpVCGcZrDQamK2T3RJvx8Z0gP944m/6re8+xTDUKSIFo0lUD8gnxuObPi8QwG9Rj/eeli8ZWxFRA7nLY9kbTg4ds4Xlc11c+F5SPP6aNM9LYjqcuS4tlGm06W6SxLYLDUhVKIqqLJpfTjODEr/ADNTTj9J0Kp6mjpwHtM/O22qvGZE2W5F9ydSYj0zmDKbNf0POdD0yCt9NeMxRBlJYd7hF5SJxzKpqbAhgbEHhGqUVAXM1nvpbhK1EDlSpysDowiWJOU9lt7b38xDbRkhDUZgaZQArso2PKR7R3nS1POArZgAb34gzZhfJWy3/C3Bv88I5fH4M1EUzawJsRppv5wdU2W1h56SzKrallU+IiFaa7ElvE8Y5ypZEWSxtYjnFtwtadDMj37LA/NcSZUEaTXjy/1nyiXCCOVgtNJUYQkwbbR7RbR6nALX3ixrRSJULAvLYTGYjBVc+GqtTPEDY8xIkQSpU4+qwHxTRqgLjV6l/wA66qfqJ7VOolamHpurqdmU3Bn51eXwuNr4Kpnw1VqZO4Gx5iXORY+/ikTw+jvimlWtTxyii/6g7h5+E9wEMoZSCCLgjYykY6G/DzmfuGZuHOZu6YnQJ7p5Qr3RAe6eU1wqgkgDzjJk7gmTunmfec5x+HpoPtA3kus5H6WLKRSTKLkXbfeZcu7r4/aucOV/j0i601ZnYKL7mcb9JqHcU0LWt2joNp5vXs7OzsXObjwiBiWcnxG/KcnP8rlf+fTWdUn11Pja9Ws4z2Ww7unjIFm649u2g57xA16j6cB9YyWFQ6WuB7zn28vdq/U+PGYFmYnUkmOcRWNtRcccsB3M7E6OLKuapYsL6CRNvxtcn157Asbsbk6kzvooThqJv/ms5qlPJUZL3ym156WGT+Vo6cJfGbUc7kc7UblecDUbFdOM7mp6jnFanqOc08WXk4jRF15xKlC5AN99CNxO9qeot4wNS1EPEtebk1CuNeB4GBqFxYi4noPQDWBFxJGkaZAbVfzeHOGHrgKZNG1HBv8A7CU8p3NQkGoGnsLr4eHKV8L65ioJ1ilLzoNO+o1EQoZUqcc5UjfaDKJ0ZbRCg4SpSxDLARLFYhW0rU4kRFIlisXLK1OJERSsqRARHpYiVglCNIpEqUsJOzo/pfFdGG1Js9I7031Hp4TjIglypx+m1HWmoZ2Ci+5M4MV0ulNG6lC5HE6CeZiKrOyGo5Y5xuZOrVXq2Fr7e88/s/M5XZx9O7j0z+u6v0liHpvZgmh7onK2IZrFyzGw1YyNWoWV/CxiqNBynLy7OfO+61nHjJ6Wp1b0FttbWLTN1NvzH3i0R9mvKPSW6+p94cYKNP8AF80dO81/Ee0CLq3zR0GrTSIrKPtGt4CMo+09BMvfb0g61VqHQnTeXPSXksN57KDSn8v0nkHjPTSvYJ2dhI677rTsnp59f/manzGenhl/laPKebV7Vdza12JnoUK5XD0xlGgldd91PZPUXI25zFducn1xJGg3jGqbi4m+xhlErqOcBXUTddcjSHrASNI9hZS5dRMU1lNDYiYjUR4TmNMoeyLr4eHKAoGsROkrrEan2rrofeGHrjehY3X1HjJmkDfSd1rm2xG4k3pXNxofGGDXCaUmaVp3FdbEWMQ04YNcJSKU8p2GnJtTjJxlItvGdTU5NkjGOciKVlikQrHKlErFIlisUrLhIERCsuViESol7j9or80Loch47Qkar80LjsH0njY9PQYdhuRjKNByhYdhuRjKNBKkToUh9mvKPT7vqfeCmOwOUAqhVsNTc+8qei+qp+LnNnVS1zOfOzXudL7TAamPy/wsUNYljbQG0UbnlMBqYbb8oBySgqvbfbyiWlUoMwBuNZE3+NLn9JubmdVIfZLOcDWdVH7tZpwRz+KCw84YPCNabMSw2mtrDaVEsDlNxKdZc7SUMqVOKZhebcyebWEHWVpGZbn2MTjZv3jg66zWBvKJJkBveIVtvt4y1iL21EGh22gTnKSbJpOgra9tvCJoRpEHKySbLOplk2WMa5WSTZJ0ssmywNzFZMidLLJsscJAiIRKlYhEqE//2Q=="],Yt=[Bt,jt,Vt,Wt,zt,qt,n.p+"static/media/Desert.76a1e7e3429badd3a7d4.jpg",n.p+"static/media/Fishing.5bc4c2060dd7712bdbb1.jpg",n.p+"static/media/Flower.0668304c1a2fcee42c02.jpg",n.p+"static/media/Kitchen.d07698778b0246076ff7.jpg",n.p+"static/media/ModernHome.9d73ece7955b1b62b975.jpg",n.p+"static/media/Nature.ae7c02d27ef6bf2be7f4.jpg",n.p+"static/media/Ocean.a3116b079f8518d79e07.jpg",n.p+"static/media/Patio.b947b33e031dba356005.jpg",n.p+"static/media/Plant.d156b0afd40ae1a34707.jpg",n.p+"static/media/SanFrancisco.5eb64308f3062e27a847.jpg"],Xt=new Map,Qt=function(e){return new Promise((function(t,n){if(Xt.has(e))return t(Xt.get(e));var r=new Image;r.onload=function(){Xt.set(e,r),t(r)},r.onerror=n,r.src=Yt[e]}))},Jt={imageNames:["Abstract","Boho Home","Bookshelf","Coffee Shop","Contemporary","Cozy Home","Desert","Fishing","Flower","Kitchen","Modern Home","Nature","Ocean","Patio","Plant","San Francisco"],images:Kt},$t="/virtualbackground";var en=n(22478),tn=n.n(en);var nn=n(68022);window.TwilioVideo=tn();var rn=(0,e.createContext)(null);function an(t){var n=t.options,r=t.children,i=t.onError,a=void 0===i?function(){}:i,o=(0,e.useCallback)((function(e){console.log("ERROR: ".concat(e.message),e),a(e)}),[a]),s=function(){var t=(0,e.useState)(),n=(0,G.Z)(t,2),r=n[0],i=n[1],a=(0,e.useState)(),o=(0,G.Z)(a,2),s=o[0],u=o[1],c=(0,e.useState)(!1),l=(0,G.Z)(c,2),d=l[0],f=l[1],p=(0,e.useCallback)((function(e){var t={};return e&&(t.deviceId={exact:e}),tn().createLocalAudioTrack(t).then((function(e){return i(e),e}))}),[]),h=(0,e.useCallback)((0,K.Z)((0,q.Z)().mark((function e(){var t,n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem(re),e.next=3,le();case 3:return n=e.sent,r=n.videoInputDevices,i=r.some((function(e){return t&&e.deviceId===t})),a=X(X({},ee),{},{name:"camera-".concat(Date.now())},i&&{deviceId:{exact:t}}),e.abrupt("return",tn().createLocalVideoTrack(a).then((function(e){return u(e),e})));case 8:case"end":return e.stop()}}),e)}))),[]),m=(0,e.useCallback)((function(){r&&(r.stop(),i(void 0))}),[r]),v=(0,e.useCallback)((function(){s&&(s.stop(),u(void 0))}),[s]),g=(0,e.useCallback)((0,K.Z)((0,q.Z)().mark((function e(){var t,n,a,o,c,l,p,h,m,v,g,y,b;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:if(t=e.sent,n=t.audioInputDevices,a=t.videoInputDevices,o=t.hasAudioInputDevices,c=t.hasVideoInputDevices,o||c){e.next=9;break}return e.abrupt("return",Promise.resolve());case 9:if(!(d||r||s)){e.next=11;break}return e.abrupt("return",Promise.resolve());case 11:return f(!0),l=window.localStorage.getItem(te),p=window.localStorage.getItem(re),h=n.some((function(e){return l&&e.deviceId===l})),m=a.some((function(e){return p&&e.deviceId===p})),e.next=18,pe("camera");case 18:return v=e.sent,e.next=21,pe("microphone");case 21:return g=e.sent,y=o&&!g,b={video:c&&!v&&X(X({},ee),{},{name:"camera-".concat(Date.now())},m&&{deviceId:{exact:p}}),audio:y&&(h?{deviceId:{exact:l}}:o)},e.abrupt("return",tn().createLocalTracks(b).then((function(e){var t,n=e.find((function(e){return"video"===e.kind})),r=e.find((function(e){return"audio"===e.kind}));if(n&&(u(n),window.localStorage.setItem(re,null!==(t=n.mediaStreamTrack.getSettings().deviceId)&&void 0!==t?t:"")),r&&i(r),v&&g){var a=new Error;throw a.name="NotAllowedError",a}if(v)throw new Error("CameraPermissionsDenied");if(g)throw new Error("MicrophonePermissionsDenied")})).finally((function(){return f(!1)})));case 26:case"end":return e.stop()}}),e)}))),[r,s,d]);return{localTracks:[r,s].filter((function(e){return void 0!==e})),getLocalVideoTrack:h,getLocalAudioTrack:p,isAcquiringLocalTracks:d,removeLocalAudioTrack:m,removeLocalVideoTrack:v,getAudioAndVideoTracks:g}}(),u=s.localTracks,c=s.getLocalVideoTrack,l=s.getLocalAudioTrack,d=s.isAcquiringLocalTracks,f=s.removeLocalAudioTrack,p=s.removeLocalVideoTrack,h=s.getAudioAndVideoTracks,m=function(t,n,r){var i=(0,e.useState)(null),a=(0,G.Z)(i,2),o=a[0],s=a[1],u=(0,e.useState)(!1),c=(0,G.Z)(u,2),l=c[0],d=c[1],f=(0,e.useRef)(r);return(0,e.useEffect)((function(){f.current=r}),[r]),{room:o,isConnecting:l,connect:(0,e.useCallback)((function(e){return d(!0),tn().connect(e,X(X({},f.current),{},{tracks:t})).then((function(e){s(e),nn.VideoRoomMonitor.registerVideoRoom(e);var t=function(){return e.disconnect()};e.setMaxListeners(16),e.once("disconnected",(function(){setTimeout((function(){return s(null)})),window.removeEventListener("beforeunload",t),ue&&window.removeEventListener("pagehide",t)})),window.twilioRoom=e,e.localParticipant.videoTracks.forEach((function(e){return e.setPriority("low")})),d(!1),window.addEventListener("beforeunload",t),ue&&window.addEventListener("pagehide",t)}),(function(e){n(e),d(!1)}))}),[t,n])}}(u,o,n),v=m.room,g=m.isConnecting,y=m.connect,b=function(t,n){var r=(0,e.useState)(!1),i=(0,G.Z)(r,2),a=i[0],o=i[1],s=(0,e.useRef)(null),u=(0,e.useCallback)((function(){navigator.mediaDevices.getDisplayMedia({audio:!1,video:!0}).then((function(e){var r=e.getTracks()[0];t.localParticipant.publishTrack(r,{name:"screen",priority:"low"}).then((function(e){s.current=function(){t.localParticipant.unpublishTrack(r),t.localParticipant.emit("trackUnpublished",e),r.stop(),o(!1)},r.onended=s.current,o(!0)})).catch(n)})).catch((function(e){("Permission denied by system"===e.message||"AbortError"!==e.name&&"NotAllowedError"!==e.name)&&(console.error(e),n(e))}))}),[t,n]),c=(0,e.useCallback)((function(){t&&(a?s.current():u())}),[a,u,t]);return[a,c]}(v,a),w=(0,G.Z)(b,2),k=w[0],x=w[1];!function(t,n,r,i,a,o){(0,e.useEffect)((function(){if(t){var e=function(e,t){t&&n(t),r(),i(),a&&o()};return t.on("disconnected",e),function(){t.off("disconnected",e)}}}),[t,n,r,i,a,o])}(v,a,f,p,k,x),function(t,n){(0,e.useEffect)((function(){if(t)return t.localParticipant.on("trackPublicationFailed",n),function(){t.localParticipant.off("trackPublicationFailed",n)}}),[t,n])}(v,a),function(t){var n=t.find((function(e){return"audio"===e.kind}));(0,e.useEffect)((function(){var e=function(){"ended"===(null===n||void 0===n?void 0:n.mediaStreamTrack.readyState)&&n.restart({})};return navigator.mediaDevices.addEventListener("devicechange",e),function(){navigator.mediaDevices.removeEventListener("devicechange",e)}}),[n])}(u);var _=(0,e.useState)(!1),S=(0,G.Z)(_,2),E=S[0],C=S[1],T=function(t,n){var r=ge("TwilioVideoApp-selectedBackgroundSettings",{type:"none",index:0}),i=(0,G.Z)(r,2),a=i[0],o=i[1],s=(0,e.useCallback)((function(){t&&t.processor&&t.removeProcessor(t.processor)}),[t]),u=(0,e.useCallback)((function(e){t&&t.processor!==e&&(s(),t.addProcessor(e))}),[t,s]);return(0,e.useEffect)((function(){if(Ft.isSupported){var e=function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lt){e.next=4;break}return Lt=new Ft.GaussianBlurBackgroundProcessor({assetsPath:$t}),e.next=4,Lt.loadModel();case 4:if(Dt){e.next=15;break}return e.t0=Ft.VirtualBackgroundProcessor,e.t1=$t,e.next=9,Qt(0);case 9:return e.t2=e.sent,e.t3=Ft.ImageFit.Cover,e.t4={assetsPath:e.t1,backgroundImage:e.t2,fitType:e.t3},Dt=new e.t0(e.t4),e.next=15,Dt.loadModel();case 15:if(null!==n&&void 0!==n&&n.localParticipant){e.next=17;break}return e.abrupt("return");case 17:if("blur"!==a.type){e.next=21;break}u(Lt),e.next=29;break;case 21:if("image"!==a.type||"number"!==typeof a.index){e.next=28;break}return e.next=24,Qt(a.index);case 24:Dt.backgroundImage=e.sent,u(Dt),e.next=29;break;case 28:s();case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[a,t,n,u,s]),[a,o]}(u.find((function(e){return!e.name.includes("screen")&&"video"===e.kind})),v),A=(0,G.Z)(T,2),O=A[0],R=A[1];return e.createElement(rn.Provider,{value:{room:v,localTracks:u,isConnecting:g,onError:o,getLocalVideoTrack:c,getLocalAudioTrack:l,connect:y,isAcquiringLocalTracks:d,removeLocalVideoTrack:p,isSharingScreen:k,toggleScreenShare:x,getAudioAndVideoTracks:h,isBackgroundSelectionOpen:E,setIsBackgroundSelectionOpen:C,backgroundSettings:O,setBackgroundSettings:R}},e.createElement(Nt,{room:v},r),e.createElement(Mt,null))}function on(){var t=(0,e.useContext)(rn);if(!t)throw new Error("useVideoContext must be used within a VideoProvider");return t}var sn=k((function(e){return{button:{background:e.brand,color:"white","&:hover":{background:"#600101"}}}}));function un(t){var n=sn(),r=on().room;return e.createElement(z,{onClick:function(){return r.disconnect()},className:(0,h.Z)(n.button,t.className),"data-cy-disconnect":!0},"Disconnect")}var cn=n(70794),ln=n(54667),dn=n(21565);var fn="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,pn=e.forwardRef((function(n,r){var i=n.children,a=n.container,o=n.disablePortal,s=void 0!==o&&o,u=n.onRendered,c=e.useState(null),l=c[0],d=c[1],f=(0,_.Z)(e.isValidElement(i)?i.ref:null,r);return fn((function(){s||d(function(e){return e="function"===typeof e?e():e,t.findDOMNode(e)}(a)||document.body)}),[a,s]),fn((function(){if(l&&!s)return(0,dn.Z)(r,l),function(){(0,dn.Z)(r,null)}}),[r,l,s]),fn((function(){u&&(l||s)&&u()}),[u,l,s]),s?e.isValidElement(i)?e.cloneElement(i,{ref:f}):i:l?t.createPortal(i,l):l}));var hn=pn,mn=n(37545),vn=n(19535),gn=n(15671),yn=n(43144);function bn(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}var wn=n(37636);function kn(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function xn(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function _n(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat((0,C.Z)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&kn(e,i)}))}function Sn(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function En(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,ln.Z)(e);return t.body===e?(0,wn.Z)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=bn();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(xn(a)+o,"px"),n=(0,ln.Z)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(xn(e)+o,"px")}))}var s=a.parentElement,u="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:a;r.push({value:u.style.overflow,key:"overflow",el:u}),u.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var Cn=function(){function e(){(0,gn.Z)(this,e),this.modals=[],this.containers=[]}return(0,yn.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&kn(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);_n(t,e.mountNode,e.modalRef,r,!0);var i=Sn(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=Sn(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=En(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=Sn(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&kn(e.modalRef,!0),_n(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&kn(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var Tn=function(n){var r=n.children,i=n.disableAutoFocus,a=void 0!==i&&i,o=n.disableEnforceFocus,s=void 0!==o&&o,u=n.disableRestoreFocus,c=void 0!==u&&u,l=n.getDoc,d=n.isEnabled,f=n.open,p=e.useRef(),h=e.useRef(null),m=e.useRef(null),v=e.useRef(),g=e.useRef(null),y=e.useCallback((function(e){g.current=t.findDOMNode(e)}),[]),b=(0,_.Z)(r.ref,y),w=e.useRef();return e.useEffect((function(){w.current=f}),[f]),!w.current&&f&&"undefined"!==typeof window&&(v.current=l().activeElement),e.useEffect((function(){if(f){var e=(0,ln.Z)(g.current);a||!g.current||g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),g.current.focus());var t=function(){null!==g.current&&(e.hasFocus()&&!s&&d()&&!p.current?g.current&&!g.current.contains(e.activeElement)&&g.current.focus():p.current=!1)},n=function(t){!s&&d()&&9===t.keyCode&&e.activeElement===g.current&&(p.current=!0,t.shiftKey?m.current.focus():h.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),c||(v.current&&v.current.focus&&v.current.focus(),v.current=null)}}}),[a,s,c,d,f]),e.createElement(e.Fragment,null,e.createElement("div",{tabIndex:0,ref:h,"data-test":"sentinelStart"}),e.cloneElement(r,{ref:b}),e.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelEnd"}))},An={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},On=e.forwardRef((function(t,n){var i=t.invisible,a=void 0!==i&&i,o=t.open,s=(0,p.Z)(t,["invisible","open"]);return o?e.createElement("div",(0,r.Z)({"aria-hidden":!0,ref:n},s,{style:(0,r.Z)({},An.root,a?An.invisible:{},s.style)})):null}));var Rn=new Cn,In=e.forwardRef((function(n,i){var a=(0,c.Z)(),o=(0,cn.Z)({name:"MuiModal",props:(0,r.Z)({},n),theme:a}),s=o.BackdropComponent,u=void 0===s?On:s,l=o.BackdropProps,d=o.children,f=o.closeAfterTransition,h=void 0!==f&&f,m=o.container,v=o.disableAutoFocus,g=void 0!==v&&v,y=o.disableBackdropClick,b=void 0!==y&&y,w=o.disableEnforceFocus,k=void 0!==w&&w,x=o.disableEscapeKeyDown,E=void 0!==x&&x,C=o.disablePortal,T=void 0!==C&&C,A=o.disableRestoreFocus,O=void 0!==A&&A,R=o.disableScrollLock,I=void 0!==R&&R,N=o.hideBackdrop,P=void 0!==N&&N,M=o.keepMounted,L=void 0!==M&&M,D=o.manager,F=void 0===D?Rn:D,B=o.onBackdropClick,j=o.onClose,Z=o.onEscapeKeyDown,V=o.onRendered,U=o.open,W=(0,p.Z)(o,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),H=e.useState(!0),z=H[0],G=H[1],q=e.useRef({}),K=e.useRef(null),Y=e.useRef(null),X=(0,_.Z)(Y,i),Q=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(o),J=function(){return(0,ln.Z)(K.current)},$=function(){return q.current.modalRef=Y.current,q.current.mountNode=K.current,q.current},ee=function(){F.mount($(),{disableScrollLock:I}),Y.current.scrollTop=0},te=(0,S.Z)((function(){var e=function(e){return e="function"===typeof e?e():e,t.findDOMNode(e)}(m)||J().body;F.add($(),e),Y.current&&ee()})),ne=e.useCallback((function(){return F.isTopModal($())}),[F]),re=(0,S.Z)((function(e){K.current=e,e&&(V&&V(),U&&ne()?ee():kn(Y.current,!0))})),ie=e.useCallback((function(){F.remove($())}),[F]);if(e.useEffect((function(){return function(){ie()}}),[ie]),e.useEffect((function(){U?te():Q&&h||ie()}),[U,ie,Q,h,te]),!L&&!U&&(!Q||z))return null;var ae=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(a||{zIndex:vn.Z}),oe={};return void 0===d.props.tabIndex&&(oe.tabIndex=d.props.tabIndex||"-1"),Q&&(oe.onEnter=(0,mn.Z)((function(){G(!1)}),d.props.onEnter),oe.onExited=(0,mn.Z)((function(){G(!0),h&&ie()}),d.props.onExited)),e.createElement(hn,{ref:re,container:m,disablePortal:T},e.createElement("div",(0,r.Z)({ref:X,onKeyDown:function(e){"Escape"===e.key&&ne()&&(Z&&Z(e),E||(e.stopPropagation(),j&&j(e,"escapeKeyDown")))},role:"presentation"},W,{style:(0,r.Z)({},ae.root,!U&&z?ae.hidden:{},W.style)}),P?null:e.createElement(u,(0,r.Z)({open:U,onClick:function(e){e.target===e.currentTarget&&(B&&B(e),!b&&j&&j(e,"backdropClick"))}},l)),e.createElement(Tn,{disableEnforceFocus:k,disableAutoFocus:g,disableRestoreFocus:O,getDoc:J,isEnabled:ne,open:U},e.cloneElement(d,oe))))})),Nn=In,Pn=!1,Mn="unmounted",Ln="exited",Dn="entering",Fn="entered",Bn="exiting",jn=function(n){function r(e,t){var r;r=n.call(this,e,t)||this;var i,a=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=Ln,r.appearStatus=Dn):i=Fn:i=e.unmountOnExit||e.mountOnEnter?Mn:Ln,r.state={status:i},r.nextCallback=null,r}(0,O.Z)(r,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Mn?{status:Ln}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Dn&&n!==Fn&&(t=Dn):n!==Dn&&n!==Fn||(t=Bn)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Dn?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Ln&&this.setState({status:Mn})},i.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[t.findDOMNode(this),i],o=a[0],s=a[1],u=this.getTimeouts(),c=i?u.appear:u.enter;!e&&!r||Pn?this.safeSetState({status:Fn},(function(){n.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Dn},(function(){n.props.onEntering(o,s),n.onTransitionEnd(c,(function(){n.safeSetState({status:Fn},(function(){n.props.onEntered(o,s)}))}))})))},i.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n&&!Pn?(this.props.onExit(i),this.safeSetState({status:Bn},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:Ln},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Ln},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===Mn)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,T.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(R.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},r}(e.Component);function Zn(){}jn.contextType=R,jn.propTypes={},jn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Zn,onEntering:Zn,onEntered:Zn,onExit:Zn,onExiting:Zn,onExited:Zn},jn.UNMOUNTED=Mn,jn.EXITED=Ln,jn.ENTERING=Dn,jn.ENTERED=Fn,jn.EXITING=Bn;var Vn=jn,Un=n(10812);function Wn(){return(0,c.Z)()||b.Z}var Hn=function(e){return e.scrollTop};function zn(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}var Gn={entering:{opacity:1},entered:{opacity:1}},qn={enter:Un.x9.enteringScreen,exit:Un.x9.leavingScreen},Kn=e.forwardRef((function(t,n){var i=t.children,a=t.disableStrictModeCompat,o=void 0!==a&&a,s=t.in,u=t.onEnter,c=t.onEntered,l=t.onEntering,d=t.onExit,f=t.onExited,h=t.onExiting,m=t.style,v=t.TransitionComponent,g=void 0===v?Vn:v,y=t.timeout,b=void 0===y?qn:y,w=(0,p.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),k=Wn(),x=k.unstable_strictMode&&!o,S=e.useRef(null),E=(0,_.Z)(i.ref,n),C=(0,_.Z)(x?S:void 0,E),T=function(e){return function(t,n){if(e){var r=x?[S.current,t]:[t,n],i=(0,G.Z)(r,2),a=i[0],o=i[1];void 0===o?e(a):e(a,o)}}},A=T(l),O=T((function(e,t){Hn(e);var n=zn({style:m,timeout:b},{mode:"enter"});e.style.webkitTransition=k.transitions.create("opacity",n),e.style.transition=k.transitions.create("opacity",n),u&&u(e,t)})),R=T(c),I=T(h),N=T((function(e){var t=zn({style:m,timeout:b},{mode:"exit"});e.style.webkitTransition=k.transitions.create("opacity",t),e.style.transition=k.transitions.create("opacity",t),d&&d(e)})),P=T(f);return e.createElement(g,(0,r.Z)({appear:!0,in:s,nodeRef:x?S:void 0,onEnter:O,onEntered:R,onEntering:A,onExit:N,onExited:P,onExiting:I,timeout:b},w),(function(t,n){return e.cloneElement(i,(0,r.Z)({style:(0,r.Z)({opacity:0,visibility:"exited"!==t||s?void 0:"hidden"},Gn[t],m,i.props.style),ref:C},n))}))})),Yn=Kn,Xn=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.invisible,u=void 0!==s&&s,c=t.open,l=t.transitionDuration,d=t.TransitionComponent,f=void 0===d?Yn:d,m=(0,p.Z)(t,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return e.createElement(f,(0,r.Z)({in:c,timeout:l},m),e.createElement("div",{className:(0,h.Z)(a.root,o,u&&a.invisible),"aria-hidden":!0,ref:n},i))})),Qn=(0,i.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(Xn),Jn=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.component,s=void 0===o?"div":o,u=t.square,c=void 0!==u&&u,l=t.elevation,d=void 0===l?1:l,f=t.variant,m=void 0===f?"elevation":f,v=(0,p.Z)(t,["classes","className","component","square","elevation","variant"]);return e.createElement(s,(0,r.Z)({className:(0,h.Z)(i.root,a,"outlined"===m?i.outlined:i["elevation".concat(d)],!c&&i.rounded),ref:n},v))})),$n=(0,i.Z)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,r.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(Jn),er={enter:Un.x9.enteringScreen,exit:Un.x9.leavingScreen},tr=e.forwardRef((function(t,n){var i=t.BackdropProps,a=t.children,o=t.classes,s=t.className,u=t.disableBackdropClick,c=void 0!==u&&u,l=t.disableEscapeKeyDown,d=void 0!==l&&l,f=t.fullScreen,m=void 0!==f&&f,v=t.fullWidth,g=void 0!==v&&v,y=t.maxWidth,b=void 0===y?"sm":y,w=t.onBackdropClick,k=t.onClose,x=t.onEnter,_=t.onEntered,S=t.onEntering,E=t.onEscapeKeyDown,C=t.onExit,T=t.onExited,A=t.onExiting,O=t.open,R=t.PaperComponent,I=void 0===R?$n:R,N=t.PaperProps,P=void 0===N?{}:N,M=t.scroll,L=void 0===M?"paper":M,D=t.TransitionComponent,F=void 0===D?Yn:D,B=t.transitionDuration,j=void 0===B?er:B,Z=t.TransitionProps,V=t["aria-describedby"],U=t["aria-labelledby"],H=(0,p.Z)(t,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),z=e.useRef();return e.createElement(Nn,(0,r.Z)({className:(0,h.Z)(o.root,s),BackdropComponent:Qn,BackdropProps:(0,r.Z)({transitionDuration:j},i),closeAfterTransition:!0},c?{disableBackdropClick:c}:{},{disableEscapeKeyDown:d,onEscapeKeyDown:E,onClose:k,open:O,ref:n},H),e.createElement(F,(0,r.Z)({appear:!0,in:O,timeout:j,onEnter:x,onEntering:S,onEntered:_,onExit:C,onExiting:A,onExited:T,role:"none presentation"},Z),e.createElement("div",{className:(0,h.Z)(o.container,o["scroll".concat((0,W.Z)(L))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===z.current&&(z.current=null,w&&w(e),!c&&k&&k(e,"backdropClick"))},onMouseDown:function(e){z.current=e.target}},e.createElement(I,(0,r.Z)({elevation:24,role:"dialog","aria-describedby":V,"aria-labelledby":U},P,{className:(0,h.Z)(o.paper,o["paperScroll".concat((0,W.Z)(L))],o["paperWidth".concat((0,W.Z)(String(b)))],P.className,m&&o.paperFullScreen,g&&o.paperFullWidth)}),a))))})),nr=(0,i.Z)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,f.Z)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,f.Z)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,f.Z)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,f.Z)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,f.Z)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(tr),rr=e.forwardRef((function(t,n){var i=t.disableSpacing,a=void 0!==i&&i,o=t.classes,s=t.className,u=(0,p.Z)(t,["disableSpacing","classes","className"]);return e.createElement("div",(0,r.Z)({className:(0,h.Z)(o.root,s,!a&&o.spacing),ref:n},u))})),ir=(0,i.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(rr),ar=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.dividers,s=void 0!==o&&o,u=(0,p.Z)(t,["classes","className","dividers"]);return e.createElement("div",(0,r.Z)({className:(0,h.Z)(i.root,a,s&&i.dividers),ref:n},u))})),or=(0,i.Z)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(ar),sr={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},ur=e.forwardRef((function(t,n){var i=t.align,a=void 0===i?"inherit":i,o=t.classes,s=t.className,u=t.color,c=void 0===u?"initial":u,l=t.component,d=t.display,f=void 0===d?"initial":d,m=t.gutterBottom,v=void 0!==m&&m,g=t.noWrap,y=void 0!==g&&g,b=t.paragraph,w=void 0!==b&&b,k=t.variant,x=void 0===k?"body1":k,_=t.variantMapping,S=void 0===_?sr:_,E=(0,p.Z)(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),C=l||(w?"p":S[x]||sr[x])||"span";return e.createElement(C,(0,r.Z)({className:(0,h.Z)(o.root,s,"inherit"!==x&&o[x],"initial"!==c&&o["color".concat((0,W.Z)(c))],y&&o.noWrap,v&&o.gutterBottom,w&&o.paragraph,"inherit"!==a&&o["align".concat((0,W.Z)(a))],"initial"!==f&&o["display".concat((0,W.Z)(f))]),ref:n},E))})),cr=(0,i.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(ur),lr=e.forwardRef((function(t,n){return e.createElement(cr,(0,r.Z)({component:"p",variant:"body1",color:"textSecondary",ref:n},t))})),dr=(0,i.Z)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(lr),fr=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.disableTypography,u=void 0!==s&&s,c=(0,p.Z)(t,["children","classes","className","disableTypography"]);return e.createElement("div",(0,r.Z)({className:(0,h.Z)(a.root,o),ref:n},c),u?i:e.createElement(cr,{component:"h2",variant:"h6"},i))})),pr=(0,i.Z)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(fr),hr=e.forwardRef((function(t,n){var i=t.absolute,a=void 0!==i&&i,o=t.classes,s=t.className,u=t.component,c=void 0===u?"hr":u,l=t.flexItem,d=void 0!==l&&l,f=t.light,m=void 0!==f&&f,v=t.orientation,g=void 0===v?"horizontal":v,y=t.role,b=void 0===y?"hr"!==c?"separator":void 0:y,w=t.variant,k=void 0===w?"fullWidth":w,x=(0,p.Z)(t,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return e.createElement(c,(0,r.Z)({className:(0,h.Z)(o.root,s,"fullWidth"!==k&&o[k],a&&o.absolute,d&&o.flexItem,m&&o.light,"vertical"===g&&o.vertical),role:b,ref:n},x))})),mr=(0,i.Z)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:(0,x.Fq)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(hr);var vr=function(t){var n=t.open,r=t.onClose,i=Ot().roomType;return e.createElement(nr,{open:n,onClose:r,fullWidth:!0,maxWidth:"xs"},e.createElement(pr,null,"About"),e.createElement(mr,null),e.createElement(or,null,e.createElement(dr,null,"Browser supported: ",String(tn().isSupported)),e.createElement(dr,null,"SDK Version: ",tn().version),e.createElement(dr,null,"App Version: ",{NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION),e.createElement(dr,null,"Deployed Tag: ",{NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GIT_TAG||"N/A"),e.createElement(dr,null,"Deployed Commit Hash: ",{NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GIT_COMMIT||"N/A"),i&&e.createElement(dr,null,"Room Type: ",i)),e.createElement(mr,null),e.createElement(ir,null,e.createElement(z,{onClick:r,color:"primary",variant:"contained",autoFocus:!0},"OK")))};function gr(){return e.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4.65H4C3.25442 4.65 2.65 5.25442 2.65 6V14C2.65 14.7456 3.25442 15.35 4 15.35H16C16.7456 15.35 17.35 14.7456 17.35 14V6C17.35 5.25442 16.7456 4.65 16 4.65ZM4 4C2.89543 4 2 4.89543 2 6V14C2 15.1046 2.89543 16 4 16H16C17.1046 16 18 15.1046 18 14V6C18 4.89543 17.1046 4 16 4H4Z",fill:"#606B85"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6.325C9.35111 6.325 8.82505 6.85107 8.82505 7.5C8.82505 8.14894 9.35111 8.675 10 8.675C10.649 8.675 11.175 8.14894 11.175 7.5C11.175 6.85107 10.649 6.325 10 6.325ZM8.17505 7.5C8.17505 6.49208 8.99213 5.675 10 5.675C11.008 5.675 11.825 6.49208 11.825 7.5C11.825 8.50792 11.008 9.325 10 9.325C8.99213 9.325 8.17505 8.50792 8.17505 7.5Z",fill:"#606B85"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 10.325C8.24654 10.325 6.82505 11.7465 6.82505 13.5C6.82505 13.6795 6.67954 13.825 6.50005 13.825C6.32056 13.825 6.17505 13.6795 6.17505 13.5C6.17505 11.3875 7.88756 9.675 10 9.675C12.1125 9.675 13.825 11.3875 13.825 13.5C13.825 13.6795 13.6795 13.825 13.5 13.825C13.3206 13.825 13.175 13.6795 13.175 13.5C13.175 11.7465 11.7536 10.325 10 10.325Z",fill:"#606B85"}))}var yr,br,wr=n(66556),kr=0,xr=0,_r=0,Sr=0,Er=0,Cr=0,Tr="object"===typeof performance&&performance.now?performance:Date,Ar="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Or(){return Er||(Ar(Rr),Er=Tr.now()+Cr)}function Rr(){Er=0}function Ir(){this._call=this._time=this._next=null}function Nr(){Er=(Sr=Tr.now())+Cr,kr=xr=0;try{!function(){Or(),++kr;for(var e,t=yr;t;)(e=Er-t._time)>=0&&t._call.call(null,e),t=t._next;--kr}()}finally{kr=0,function(){var e,t,n=yr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:yr=t);br=e,Mr(r)}(),Er=0}}function Pr(){var e=Tr.now(),t=e-Sr;t>1e3&&(Cr-=t,Sr=e)}function Mr(e){kr||(xr&&(xr=clearTimeout(xr)),e-Er>24?(e<1/0&&(xr=setTimeout(Nr,e-Tr.now()-Cr)),_r&&(_r=clearInterval(_r))):(_r||(Sr=Tr.now(),_r=setInterval(Pr,1e3)),kr=1,Ar(Nr)))}function Lr(t){var n=(0,e.useState)(!!t&&t.isEnabled),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(!!t&&t.isEnabled),t){var e=function(){return a(!0)},n=function(){return a(!1)};return t.on("enabled",e),t.on("disabled",n),function(){t.off("enabled",e),t.off("disabled",n)}}}),[t]),i}function Dr(t){var n=(0,e.useState)(null===t||void 0===t?void 0:t.mediaStreamTrack),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(null===t||void 0===t?void 0:t.mediaStreamTrack),t){var e=function(){return a(t.mediaStreamTrack)};return t.on("started",e),function(){t.off("started",e)}}}),[t]),i}Ir.prototype=function(e,t,n){var r=new Ir;return r.restart(e,t,n),r}.prototype={constructor:Ir,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Or():+n)+(null==t?0:+t),this._next||br===this||(br?br._next=this:yr=this,br=this),this._call=e,this._time=n,Mr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mr())}};var Fr=0,Br=window.AudioContext||window.webkitAudioContext;function jr(e){var t=new Br,n=t.createMediaStreamSource(e),r=t.createAnalyser();return r.smoothingTimeConstant=.2,r.fftSize=256,n.connect(r),e.addEventListener("cleanup",(function(){"closed"!==t.state&&t.close()})),r}var Zr=/iPhone|iPad/.test(navigator.userAgent);function Vr(t){var n=t.audioTrack,r=t.color,i=void 0===r?"white":r,a=(0,e.useRef)(null),o=(0,e.useState)(),s=(0,G.Z)(o,2),u=s[0],c=s[1],l=Lr(n),d=Dr(n);(0,e.useEffect)((function(){if(n&&d&&l){var e=new MediaStream([Zr?d.clone():d]),t=function(){Zr&&e.getTracks().forEach((function(e){return e.stop()})),e.dispatchEvent(new Event("cleanup"))};n.on("stopped",t);var r=function(){t(),e=new MediaStream([Zr?d.clone():d]),c(jr(e))};return c(jr(e)),window.addEventListener("focus",r),function(){t(),window.removeEventListener("focus",r),n.off("stopped",t)}}}),[l,d,n]),(0,e.useEffect)((function(){var e=a.current;if(l&&e&&u){var t=new Uint8Array(u.frequencyBinCount),n=function(e,t,n){var r=new Ir,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?Or():+n,r.restart((function a(o){o+=i,r.restart(a,i+=t,n),e(o)}),t,n),r)}((function(){u.getByteFrequencyData(t);for(var n=0,r=t.length,i=0;i<r;i++)n+=t[i];var a=Math.min(14,Math.max(0,7*Math.log10(n/r/3)));null===e||void 0===e||e.setAttribute("y",String(14-a))}),100);return function(){e.setAttribute("y","14"),n.stop()}}}),[l,u]);var f="audio-level-clip-".concat(Fr++);return l?e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-test-audio-indicator":!0},e.createElement("defs",null,e.createElement("clipPath",{id:f},e.createElement("rect",{ref:a,x:"0",y:"14",width:"24",height:"24"}))),e.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(.5)"},e.createElement("rect",{clipPath:"url(#".concat(f,")"),width:"5.2",height:"10",x:"9.5",y:"3.5",rx:"6",ry:"3",fill:"#23BF6E"}),e.createElement("path",{fill:i,strokeWidth:"0",d:"M17.389 10.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V17.09C8.395 16.836 6 14.281 6 11.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM11.944 4c1.566 0 2.834 1.268 2.834 2.833v4.334c0 1.564-1.268 2.833-2.834 2.833-1.564 0-2.833-1.27-2.833-2.833V6.833C9.111 5.268 10.38 4 11.944 4zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334c0 1.012.822 1.833 1.833 1.833 1.013 0 1.834-.82 1.834-1.833V6.833c0-1.013-.82-1.833-1.834-1.833z"}))):e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",transform:"translate(-0.5, 0)","data-test-audio-mute-icon":!0},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("path",{fill:i,strokeWidth:"0",d:"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z",transform:"translate(6.5 4)"}),e.createElement("path",{fill:"red",strokeWidth:"0",d:"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z",transform:"translate(6.5 4)"})))}var Ur=e.memo(Vr),Wr=[0,1,2,3,4,5,6,7,8,9,10],Hr=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function zr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var Gr=e.forwardRef((function(t,n){var i=t.alignContent,a=void 0===i?"stretch":i,o=t.alignItems,s=void 0===o?"stretch":o,u=t.classes,c=t.className,l=t.component,d=void 0===l?"div":l,f=t.container,m=void 0!==f&&f,v=t.direction,g=void 0===v?"row":v,y=t.item,b=void 0!==y&&y,w=t.justify,k=t.justifyContent,x=void 0===k?"flex-start":k,_=t.lg,S=void 0!==_&&_,E=t.md,C=void 0!==E&&E,T=t.sm,A=void 0!==T&&T,O=t.spacing,R=void 0===O?0:O,I=t.wrap,N=void 0===I?"wrap":I,P=t.xl,M=void 0!==P&&P,L=t.xs,D=void 0!==L&&L,F=t.zeroMinWidth,B=void 0!==F&&F,j=(0,p.Z)(t,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),Z=(0,h.Z)(u.root,c,m&&[u.container,0!==R&&u["spacing-xs-".concat(String(R))]],b&&u.item,B&&u.zeroMinWidth,"row"!==g&&u["direction-xs-".concat(String(g))],"wrap"!==N&&u["wrap-xs-".concat(String(N))],"stretch"!==s&&u["align-items-xs-".concat(String(s))],"stretch"!==a&&u["align-content-xs-".concat(String(a))],"flex-start"!==(w||x)&&u["justify-content-xs-".concat(String(w||x))],!1!==D&&u["grid-xs-".concat(String(D))],!1!==A&&u["grid-sm-".concat(String(A))],!1!==C&&u["grid-md-".concat(String(C))],!1!==S&&u["grid-lg-".concat(String(S))],!1!==M&&u["grid-xl-".concat(String(M))]);return e.createElement(d,(0,r.Z)({className:Z,ref:n},j))})),qr=(0,i.Z)((function(e){return(0,r.Z)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return Wr.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(zr(i,2)),width:"calc(100% + ".concat(zr(i),")"),"& > $item":{padding:zr(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var i={};Hr.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");i[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else i[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else i[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,r.Z)(e,i):e[t.breakpoints.up(n)]=i}(t,e,n),t}),{}))}),{name:"MuiGrid"})(Gr),Kr=qr;function Yr(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Xr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Yr(e.value)&&""!==e.value||t&&Yr(e.defaultValue)&&""!==e.defaultValue)}var Qr=n(43375),Jr=e.createContext();var $r=Jr,ei=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.color,u=void 0===s?"primary":s,c=t.component,l=void 0===c?"div":c,d=t.disabled,f=void 0!==d&&d,m=t.error,v=void 0!==m&&m,g=t.fullWidth,y=void 0!==g&&g,b=t.focused,w=t.hiddenLabel,k=void 0!==w&&w,x=t.margin,_=void 0===x?"none":x,S=t.required,E=void 0!==S&&S,C=t.size,T=t.variant,A=void 0===T?"standard":T,O=(0,p.Z)(t,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),R=e.useState((function(){var t=!1;return i&&e.Children.forEach(i,(function(e){if((0,Qr.Z)(e,["Input","Select"])){var n=(0,Qr.Z)(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),I=R[0],N=R[1],P=e.useState((function(){var t=!1;return i&&e.Children.forEach(i,(function(e){(0,Qr.Z)(e,["Input","Select"])&&Xr(e.props,!0)&&(t=!0)})),t})),M=P[0],L=P[1],D=e.useState(!1),F=D[0],B=D[1],j=void 0!==b?b:F;f&&j&&B(!1);var Z=e.useCallback((function(){L(!0)}),[]),V={adornedStart:I,setAdornedStart:N,color:u,disabled:f,error:v,filled:M,focused:j,fullWidth:y,hiddenLabel:k,margin:("small"===C?"dense":void 0)||_,onBlur:function(){B(!1)},onEmpty:e.useCallback((function(){L(!1)}),[]),onFilled:Z,onFocus:function(){B(!0)},registerEffect:undefined,required:E,variant:A};return e.createElement($r.Provider,{value:V},e.createElement(l,(0,r.Z)({className:(0,h.Z)(a.root,o,"none"!==_&&a["margin".concat((0,W.Z)(_))],y&&a.fullWidth),ref:n},O),i))})),ti=(0,i.Z)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(ei),ni=n(25352),ri=n(71002),ii=n(37483),ai=(n(57441),n(50503));function oi(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var si={entering:{opacity:1,transform:oi(1)},entered:{opacity:1,transform:"none"}},ui=e.forwardRef((function(t,n){var i=t.children,a=t.disableStrictModeCompat,o=void 0!==a&&a,s=t.in,u=t.onEnter,c=t.onEntered,l=t.onEntering,d=t.onExit,f=t.onExited,h=t.onExiting,m=t.style,v=t.timeout,g=void 0===v?"auto":v,y=t.TransitionComponent,b=void 0===y?Vn:y,w=(0,p.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),k=e.useRef(),x=e.useRef(),S=Wn(),E=S.unstable_strictMode&&!o,C=e.useRef(null),T=(0,_.Z)(i.ref,n),A=(0,_.Z)(E?C:void 0,T),O=function(e){return function(t,n){if(e){var r=E?[C.current,t]:[t,n],i=(0,G.Z)(r,2),a=i[0],o=i[1];void 0===o?e(a):e(a,o)}}},R=O(l),I=O((function(e,t){Hn(e);var n,r=zn({style:m,timeout:g},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===g?(n=S.transitions.getAutoHeightDuration(e.clientHeight),x.current=n):n=i,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:a}),S.transitions.create("transform",{duration:.666*n,delay:a})].join(","),u&&u(e,t)})),N=O(c),P=O(h),M=O((function(e){var t,n=zn({style:m,timeout:g},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===g?(t=S.transitions.getAutoHeightDuration(e.clientHeight),x.current=t):t=r,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:i}),S.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=oi(.75),d&&d(e)})),L=O(f);return e.useEffect((function(){return function(){clearTimeout(k.current)}}),[]),e.createElement(b,(0,r.Z)({appear:!0,in:s,nodeRef:E?C:void 0,onEnter:I,onEntered:N,onEntering:R,onExit:M,onExited:L,onExiting:P,addEndListener:function(e,t){var n=E?e:t;"auto"===g&&(k.current=setTimeout(n,x.current||0))},timeout:"auto"===g?null:g},w),(function(t,n){return e.cloneElement(i,(0,r.Z)({style:(0,r.Z)({opacity:0,transform:oi(.75),visibility:"exited"!==t||s?void 0:"hidden"},si[t],m,i.props.style),ref:A},n))}))}));ui.muiSupportAuto=!0;var ci=ui;function li(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function di(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function fi(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function pi(e){return"function"===typeof e?e():e}var hi=e.forwardRef((function(n,i){var a=n.action,o=n.anchorEl,s=n.anchorOrigin,u=void 0===s?{vertical:"top",horizontal:"left"}:s,c=n.anchorPosition,l=n.anchorReference,d=void 0===l?"anchorEl":l,f=n.children,m=n.classes,v=n.className,g=n.container,y=n.elevation,b=void 0===y?8:y,w=n.getContentAnchorEl,k=n.marginThreshold,x=void 0===k?16:k,_=n.onEnter,S=n.onEntered,E=n.onEntering,C=n.onExit,T=n.onExited,A=n.onExiting,O=n.open,R=n.PaperProps,I=void 0===R?{}:R,N=n.transformOrigin,P=void 0===N?{vertical:"top",horizontal:"left"}:N,M=n.TransitionComponent,L=void 0===M?ci:M,D=n.transitionDuration,F=void 0===D?"auto":D,B=n.TransitionProps,j=void 0===B?{}:B,Z=(0,p.Z)(n,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),V=e.useRef(),U=e.useCallback((function(e){if("anchorPosition"===d)return c;var t=pi(o),n=(t&&1===t.nodeType?t:(0,ln.Z)(V.current).body).getBoundingClientRect(),r=0===e?u.vertical:"center";return{top:n.top+li(n,r),left:n.left+di(n,u.horizontal)}}),[o,u.horizontal,u.vertical,c,d]),W=e.useCallback((function(e){var t=0;if(w&&"anchorEl"===d){var n=w(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[u.vertical,d,w]),H=e.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:li(e,P.vertical)+t,horizontal:di(e,P.horizontal)}}),[P.horizontal,P.vertical]),z=e.useCallback((function(e){var t=W(e),n={width:e.offsetWidth,height:e.offsetHeight},r=H(n,t);if("none"===d)return{top:null,left:null,transformOrigin:fi(r)};var i=U(t),a=i.top-r.vertical,s=i.left-r.horizontal,u=a+n.height,c=s+n.width,l=(0,wn.Z)(pi(o)),f=l.innerHeight-x,p=l.innerWidth-x;if(a<x){var h=a-x;a-=h,r.vertical+=h}else if(u>f){var m=u-f;a-=m,r.vertical+=m}if(s<x){var v=s-x;s-=v,r.horizontal+=v}else if(c>p){var g=c-p;s-=g,r.horizontal+=g}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:fi(r)}}),[o,d,U,W,H,x]),G=e.useCallback((function(){var e=V.current;if(e){var t=z(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[z]),q=e.useCallback((function(e){V.current=t.findDOMNode(e)}),[]);e.useEffect((function(){O&&G()})),e.useImperativeHandle(a,(function(){return O?{updatePosition:function(){G()}}:null}),[O,G]),e.useEffect((function(){if(O){var e=(0,ai.Z)((function(){G()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[O,G]);var K=F;"auto"!==F||L.muiSupportAuto||(K=void 0);var Y=g||(o?(0,ln.Z)(pi(o)).body:void 0);return e.createElement(Nn,(0,r.Z)({container:Y,open:O,ref:i,BackdropProps:{invisible:!0},className:(0,h.Z)(m.root,v)},Z),e.createElement(L,(0,r.Z)({appear:!0,in:O,onEnter:_,onEntered:S,onExit:C,onExited:T,onExiting:A,timeout:K},j,{onEntering:(0,mn.Z)((function(e,t){E&&E(e,t),G()}),j.onEntering)}),e.createElement($n,(0,r.Z)({elevation:b,ref:q},I,{className:(0,h.Z)(m.paper,I.className)}),f)))})),mi=(0,i.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(hi);var vi=e.createContext({}),gi=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.component,u=void 0===s?"ul":s,c=t.dense,l=void 0!==c&&c,d=t.disablePadding,f=void 0!==d&&d,m=t.subheader,v=(0,p.Z)(t,["children","classes","className","component","dense","disablePadding","subheader"]),g=e.useMemo((function(){return{dense:l}}),[l]);return e.createElement(vi.Provider,{value:g},e.createElement(u,(0,r.Z)({className:(0,h.Z)(a.root,o,l&&a.dense,!f&&a.padding,m&&a.subheader),ref:n},v),m,i))})),yi=(0,i.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(gi);function bi(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function wi(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function ki(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function xi(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return;o=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&ki(s,a)&&!u)return void s.focus();s=i(e,s,n)}}var _i="undefined"===typeof window?e.useEffect:e.useLayoutEffect,Si=e.forwardRef((function(n,i){var a=n.actions,o=n.autoFocus,s=void 0!==o&&o,u=n.autoFocusItem,c=void 0!==u&&u,l=n.children,d=n.className,f=n.disabledItemsFocusable,h=void 0!==f&&f,m=n.disableListWrap,v=void 0!==m&&m,g=n.onKeyDown,y=n.variant,b=void 0===y?"selectedMenu":y,w=(0,p.Z)(n,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),k=e.useRef(null),x=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});_i((function(){s&&k.current.focus()}),[s]),e.useImperativeHandle(a,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&n){var r="".concat(bn(),"px");k.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,k.current.style.width="calc(100% + ".concat(r,")")}return k.current}}}),[]);var S=e.useCallback((function(e){k.current=t.findDOMNode(e)}),[]),E=(0,_.Z)(S,i),C=-1;e.Children.forEach(l,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===b&&t.props.selected||-1===C)&&(C=n))}));var T=e.Children.map(l,(function(t,n){if(n===C){var r={};return c&&(r.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===b&&(r.tabIndex=0),e.cloneElement(t,r)}return t}));return e.createElement(yi,(0,r.Z)({role:"menu",ref:E,className:d,onKeyDown:function(e){var t=k.current,n=e.key,r=(0,ln.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),xi(t,r,v,h,bi);else if("ArrowUp"===n)e.preventDefault(),xi(t,r,v,h,wi);else if("Home"===n)e.preventDefault(),xi(t,null,v,h,bi);else if("End"===n)e.preventDefault(),xi(t,null,v,h,wi);else if(1===n.length){var i=x.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&ki(r,i);i.previousKeyMatched&&(s||xi(t,r,!1,h,bi,i))?e.preventDefault():i.previousKeyMatched=!1}g&&g(e)},tabIndex:s?0:-1},w),T)})),Ei=Si,Ci={vertical:"top",horizontal:"right"},Ti={vertical:"top",horizontal:"left"},Ai=e.forwardRef((function(n,i){var a=n.autoFocus,o=void 0===a||a,s=n.children,u=n.classes,c=n.disableAutoFocusItem,l=void 0!==c&&c,d=n.MenuListProps,f=void 0===d?{}:d,m=n.onClose,v=n.onEntering,g=n.open,y=n.PaperProps,b=void 0===y?{}:y,w=n.PopoverClasses,k=n.transitionDuration,x=void 0===k?"auto":k,_=n.TransitionProps,S=(_=void 0===_?{}:_).onEntering,E=(0,p.Z)(_,["onEntering"]),C=n.variant,T=void 0===C?"selectedMenu":C,A=(0,p.Z)(n,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),O=Wn(),R=o&&!l&&g,I=e.useRef(null),N=e.useRef(null),P=-1;e.Children.map(s,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("menu"!==T&&t.props.selected||-1===P)&&(P=n))}));var M=e.Children.map(s,(function(n,r){return r===P?e.cloneElement(n,{ref:function(e){N.current=t.findDOMNode(e),(0,dn.Z)(n.ref,e)}}):n}));return e.createElement(mi,(0,r.Z)({getContentAnchorEl:function(){return N.current},classes:w,onClose:m,TransitionProps:(0,r.Z)({onEntering:function(e,t){I.current&&I.current.adjustStyleForScrollbar(e,O),v&&v(e,t),S&&S(e,t)}},E),anchorOrigin:"rtl"===O.direction?Ci:Ti,transformOrigin:"rtl"===O.direction?Ci:Ti,PaperProps:(0,r.Z)({},b,{classes:(0,r.Z)({},b.classes,{root:u.paper})}),open:g,ref:i,transitionDuration:x},A),e.createElement(Ei,(0,r.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),m&&m(e,"tabKeyDown"))},actions:I,autoFocus:o&&(-1===P||l),autoFocusItem:R,variant:T},f,{className:(0,h.Z)(u.list,f.className)}),M))})),Oi=(0,i.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Ai),Ri=n(92497);function Ii(e,t){return"object"===(0,ri.Z)(t)&&null!==t?e===t:String(e)===String(t)}var Ni=e.forwardRef((function(t,n){var i=t["aria-label"],a=t.autoFocus,o=t.autoWidth,s=t.children,u=t.classes,c=t.className,l=t.defaultValue,d=t.disabled,f=t.displayEmpty,m=t.IconComponent,v=t.inputRef,g=t.labelId,y=t.MenuProps,b=void 0===y?{}:y,w=t.multiple,k=t.name,x=t.onBlur,S=t.onChange,E=t.onClose,C=t.onFocus,T=t.onOpen,A=t.open,O=t.readOnly,R=t.renderValue,I=t.SelectDisplayProps,N=void 0===I?{}:I,P=t.tabIndex,M=(t.type,t.value),L=t.variant,D=void 0===L?"standard":L,F=(0,p.Z)(t,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),B=(0,Ri.Z)({controlled:M,default:l,name:"Select"}),j=(0,G.Z)(B,2),Z=j[0],V=j[1],U=e.useRef(null),H=e.useState(null),z=H[0],q=H[1],K=e.useRef(null!=A).current,Y=e.useState(),X=Y[0],Q=Y[1],J=e.useState(!1),$=J[0],ee=J[1],te=(0,_.Z)(n,v);e.useImperativeHandle(te,(function(){return{focus:function(){z.focus()},node:U.current,value:Z}}),[z,Z]),e.useEffect((function(){a&&z&&z.focus()}),[a,z]),e.useEffect((function(){if(z){var e=(0,ln.Z)(z).getElementById(g);if(e){var t=function(){getSelection().isCollapsed&&z.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[g,z]);var ne,re,ie=function(e,t){e?T&&T(t):E&&E(t),K||(Q(o?null:z.clientWidth),ee(e))},ae=e.Children.toArray(s),oe=function(e){return function(t){var n;if(w||ie(!1,t),w){n=Array.isArray(Z)?Z.slice():[];var r=Z.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),Z!==n&&(V(n),S&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:k}}),S(t,e)))}},se=null!==z&&(K?A:$);delete F["aria-invalid"];var ue=[],ce=!1;(Xr({value:Z})||f)&&(R?ne=R(Z):ce=!0);var le=ae.map((function(t){if(!e.isValidElement(t))return null;var n;if(w){if(!Array.isArray(Z))throw new Error((0,ii.Z)(2));(n=Z.some((function(e){return Ii(e,t.props.value)})))&&ce&&ue.push(t.props.children)}else(n=Ii(Z,t.props.value))&&ce&&(re=t.props.children);return n&&!0,e.cloneElement(t,{"aria-selected":n?"true":void 0,onClick:oe(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:n,value:void 0,"data-value":t.props.value})}));ce&&(ne=w?ue.join(", "):re);var de,fe=X;!o&&K&&z&&(fe=z.clientWidth),de="undefined"!==typeof P?P:d?null:0;var pe=N.id||(k?"mui-component-select-".concat(k):void 0);return e.createElement(e.Fragment,null,e.createElement("div",(0,r.Z)({className:(0,h.Z)(u.root,u.select,u.selectMenu,u[D],c,d&&u.disabled),ref:q,tabIndex:de,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":se?"true":void 0,"aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[g,pe].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!O){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ie(!0,e))}},onMouseDown:d||O?null:function(e){0===e.button&&(e.preventDefault(),z.focus(),ie(!0,e))},onBlur:function(e){!se&&x&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:Z,name:k}}),x(e))},onFocus:C},N,{id:pe}),function(e){return null==e||"string"===typeof e&&!e.trim()}(ne)?e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ne),e.createElement("input",(0,r.Z)({value:Array.isArray(Z)?Z.join(","):Z,name:k,ref:U,"aria-hidden":!0,onChange:function(e){var t=ae.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=ae[t];V(n.props.value),S&&S(e,n)}},tabIndex:-1,className:u.nativeInput,autoFocus:a},F)),e.createElement(m,{className:(0,h.Z)(u.icon,u["icon".concat((0,W.Z)(D))],se&&u.iconOpen,d&&u.disabled)}),e.createElement(Oi,(0,r.Z)({id:"menu-".concat(k||""),anchorEl:z,open:se,onClose:function(e){ie(!1,e)}},b,{MenuListProps:(0,r.Z)({"aria-labelledby":g,role:"listbox",disableListWrap:!0},b.MenuListProps),PaperProps:(0,r.Z)({},b.PaperProps,{style:(0,r.Z)({minWidth:fe},null!=b.PaperProps?b.PaperProps.style:null)})}),le))})),Pi=Ni;function Mi(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}function Li(){return e.useContext($r)}var Di=n(94327),Fi=(0,Di.Z)(e.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Bi(e,t){return parseInt(e[t],10)||0}var ji="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,Zi={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},Vi=e.forwardRef((function(t,n){var i=t.onChange,a=t.rows,o=t.rowsMax,s=t.rowsMin,u=t.maxRows,c=t.minRows,l=void 0===c?1:c,d=t.style,f=t.value,h=(0,p.Z)(t,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),m=u||o,v=a||s||l,g=e.useRef(null!=f).current,y=e.useRef(null),b=(0,_.Z)(n,y),w=e.useRef(null),k=e.useRef(0),x=e.useState({}),S=x[0],E=x[1],C=e.useCallback((function(){var e=y.current,n=window.getComputedStyle(e),r=w.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=Bi(n,"padding-bottom")+Bi(n,"padding-top"),o=Bi(n,"border-bottom-width")+Bi(n,"border-top-width"),s=r.scrollHeight-a;r.value="x";var u=r.scrollHeight-a,c=s;v&&(c=Math.max(Number(v)*u,c)),m&&(c=Math.min(Number(m)*u,c));var l=(c=Math.max(c,u))+("border-box"===i?a+o:0),d=Math.abs(c-s)<=1;E((function(e){return k.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==d)?(k.current+=1,{overflow:d,outerHeightStyle:l}):e}))}),[m,v,t.placeholder]);e.useEffect((function(){var e=(0,ai.Z)((function(){k.current=0,C()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[C]),ji((function(){C()})),e.useEffect((function(){k.current=0}),[f]);return e.createElement(e.Fragment,null,e.createElement("textarea",(0,r.Z)({value:f,onChange:function(e){k.current=0,g||C(),i&&i(e)},ref:b,rows:v,style:(0,r.Z)({height:S.outerHeightStyle,overflow:S.overflow?"hidden":null},d)},h)),e.createElement("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:w,tabIndex:-1,style:(0,r.Z)({},Zi,d)}))})),Ui=Vi,Wi="undefined"===typeof window?e.useEffect:e.useLayoutEffect,Hi=e.forwardRef((function(t,n){var i=t["aria-describedby"],a=t.autoComplete,o=t.autoFocus,s=t.classes,u=t.className,c=(t.color,t.defaultValue),l=t.disabled,d=t.endAdornment,f=(t.error,t.fullWidth),m=void 0!==f&&f,v=t.id,g=t.inputComponent,y=void 0===g?"input":g,b=t.inputProps,w=void 0===b?{}:b,k=t.inputRef,x=(t.margin,t.multiline),S=void 0!==x&&x,E=t.name,C=t.onBlur,T=t.onChange,A=t.onClick,O=t.onFocus,R=t.onKeyDown,I=t.onKeyUp,N=t.placeholder,P=t.readOnly,M=t.renderSuffix,L=t.rows,D=t.rowsMax,F=t.rowsMin,B=t.maxRows,j=t.minRows,Z=t.startAdornment,V=t.type,U=void 0===V?"text":V,H=t.value,z=(0,p.Z)(t,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),G=null!=w.value?w.value:H,q=e.useRef(null!=G).current,K=e.useRef(),Y=e.useCallback((function(e){0}),[]),X=(0,_.Z)(w.ref,Y),Q=(0,_.Z)(k,X),J=(0,_.Z)(K,Q),$=e.useState(!1),ee=$[0],te=$[1],ne=e.useContext(Jr);var re=Mi({props:t,muiFormControl:ne,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});re.focused=ne?ne.focused:ee,e.useEffect((function(){!ne&&l&&ee&&(te(!1),C&&C())}),[ne,l,ee,C]);var ie=ne&&ne.onFilled,ae=ne&&ne.onEmpty,oe=e.useCallback((function(e){Xr(e)?ie&&ie():ae&&ae()}),[ie,ae]);Wi((function(){q&&oe({value:G})}),[G,oe,q]);e.useEffect((function(){oe(K.current)}),[]);var se=y,ue=(0,r.Z)({},w,{ref:J});"string"!==typeof se?ue=(0,r.Z)({inputRef:J,type:U},ue,{ref:null}):S?!L||B||j||D||F?(ue=(0,r.Z)({minRows:L||j,rowsMax:D,maxRows:B},ue),se=Ui):se="textarea":ue=(0,r.Z)({type:U},ue);return e.useEffect((function(){ne&&ne.setAdornedStart(Boolean(Z))}),[ne,Z]),e.createElement("div",(0,r.Z)({className:(0,h.Z)(s.root,s["color".concat((0,W.Z)(re.color||"primary"))],u,re.disabled&&s.disabled,re.error&&s.error,m&&s.fullWidth,re.focused&&s.focused,ne&&s.formControl,S&&s.multiline,Z&&s.adornedStart,d&&s.adornedEnd,"dense"===re.margin&&s.marginDense),onClick:function(e){K.current&&e.currentTarget===e.target&&K.current.focus(),A&&A(e)},ref:n},z),Z,e.createElement($r.Provider,{value:null},e.createElement(se,(0,r.Z)({"aria-invalid":re.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:c,disabled:re.disabled,id:v,onAnimationStart:function(e){oe("mui-auto-fill-cancel"===e.animationName?K.current:{value:"x"})},name:E,placeholder:N,readOnly:P,required:re.required,rows:L,value:G,onKeyDown:R,onKeyUp:I},ue,{className:(0,h.Z)(s.input,w.className,re.disabled&&s.disabled,S&&s.inputMultiline,re.hiddenLabel&&s.inputHiddenLabel,Z&&s.inputAdornedStart,d&&s.inputAdornedEnd,"search"===U&&s.inputTypeSearch,"dense"===re.margin&&s.inputMarginDense),onBlur:function(e){C&&C(e),w.onBlur&&w.onBlur(e),ne&&ne.onBlur?ne.onBlur(e):te(!1)},onChange:function(e){if(!q){var t=e.target||K.current;if(null==t)throw new Error((0,ii.Z)(1));oe({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];w.onChange&&w.onChange.apply(w,[e].concat(r)),T&&T.apply(void 0,[e].concat(r))},onFocus:function(e){re.disabled?e.stopPropagation():(O&&O(e),w.onFocus&&w.onFocus(e),ne&&ne.onFocus?ne.onFocus(e):te(!0))}}))),d,M?M((0,r.Z)({},re,{startAdornment:Z})):null)})),zi=(0,i.Z)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},a={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,r.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(Hi),Gi=e.forwardRef((function(t,n){var i=t.disableUnderline,a=t.classes,o=t.fullWidth,s=void 0!==o&&o,u=t.inputComponent,c=void 0===u?"input":u,l=t.multiline,d=void 0!==l&&l,f=t.type,m=void 0===f?"text":f,v=(0,p.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return e.createElement(zi,(0,r.Z)({classes:(0,r.Z)({},a,{root:(0,h.Z)(a.root,!i&&a.underline),underline:null}),fullWidth:s,inputComponent:c,multiline:d,ref:n,type:m},v))}));Gi.muiName="Input";var qi=(0,i.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(Gi),Ki=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.disabled,s=t.IconComponent,u=t.inputRef,c=t.variant,l=void 0===c?"standard":c,d=(0,p.Z)(t,["classes","className","disabled","IconComponent","inputRef","variant"]);return e.createElement(e.Fragment,null,e.createElement("select",(0,r.Z)({className:(0,h.Z)(i.root,i.select,i[l],a,o&&i.disabled),disabled:o,ref:u||n},d)),t.multiple?null:e.createElement(s,{className:(0,h.Z)(i.icon,i["icon".concat((0,W.Z)(l))],o&&i.disabled)}))})),Yi=Ki,Xi=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Qi=e.createElement(qi,null),Ji=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.IconComponent,s=void 0===o?Fi:o,u=t.input,c=void 0===u?Qi:u,l=t.inputProps,d=(t.variant,(0,p.Z)(t,["children","classes","IconComponent","input","inputProps","variant"])),f=Mi({props:t,muiFormControl:Li(),states:["variant"]});return e.cloneElement(c,(0,r.Z)({inputComponent:Yi,inputProps:(0,r.Z)({children:i,classes:a,IconComponent:s,variant:f.variant,type:void 0},l,c?c.props.inputProps:{}),ref:n},d))}));Ji.muiName="Select";(0,i.Z)(Xi,{name:"MuiNativeSelect"})(Ji);var $i=e.forwardRef((function(t,n){var i=t.disableUnderline,a=t.classes,o=t.fullWidth,s=void 0!==o&&o,u=t.inputComponent,c=void 0===u?"input":u,l=t.multiline,d=void 0!==l&&l,f=t.type,m=void 0===f?"text":f,v=(0,p.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return e.createElement(zi,(0,r.Z)({classes:(0,r.Z)({},a,{root:(0,h.Z)(a.root,!i&&a.underline),underline:null}),fullWidth:s,inputComponent:c,multiline:d,ref:n,type:m},v))}));$i.muiName="Input";var ea=(0,i.Z)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})($i),ta=e.forwardRef((function(t,n){t.children;var i=t.classes,a=t.className,o=t.label,s=t.labelWidth,u=t.notched,c=t.style,l=(0,p.Z)(t,["children","classes","className","label","labelWidth","notched","style"]),d="rtl"===Wn().direction?"right":"left";if(void 0!==o)return e.createElement("fieldset",(0,r.Z)({"aria-hidden":!0,className:(0,h.Z)(i.root,a),ref:n,style:c},l),e.createElement("legend",{className:(0,h.Z)(i.legendLabelled,u&&i.legendNotched)},o?e.createElement("span",null,o):e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var m=s>0?.75*s+8:.01;return e.createElement("fieldset",(0,r.Z)({"aria-hidden":!0,style:(0,r.Z)((0,f.Z)({},"padding".concat((0,W.Z)(d)),8),c),className:(0,h.Z)(i.root,a),ref:n},l),e.createElement("legend",{className:i.legend,style:{width:u?m:.01}},e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),na=(0,i.Z)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(ta),ra=e.forwardRef((function(t,n){var i=t.classes,a=t.fullWidth,o=void 0!==a&&a,s=t.inputComponent,u=void 0===s?"input":s,c=t.label,l=t.labelWidth,d=void 0===l?0:l,f=t.multiline,m=void 0!==f&&f,v=t.notched,g=t.type,y=void 0===g?"text":g,b=(0,p.Z)(t,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return e.createElement(zi,(0,r.Z)({renderSuffix:function(t){return e.createElement(na,{className:i.notchedOutline,label:c,labelWidth:d,notched:"undefined"!==typeof v?v:Boolean(t.startAdornment||t.filled||t.focused)})},classes:(0,r.Z)({},i,{root:(0,h.Z)(i.root,i.underline),notchedOutline:null}),fullWidth:o,inputComponent:u,multiline:m,ref:n,type:y},b))}));ra.muiName="Input";var ia=(0,i.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(ra),aa=Xi,oa=e.createElement(qi,null),sa=e.createElement(ea,null),ua=e.forwardRef((function t(n,i){var a=n.autoWidth,o=void 0!==a&&a,s=n.children,u=n.classes,c=n.displayEmpty,l=void 0!==c&&c,d=n.IconComponent,f=void 0===d?Fi:d,h=n.id,m=n.input,v=n.inputProps,g=n.label,y=n.labelId,b=n.labelWidth,w=void 0===b?0:b,k=n.MenuProps,x=n.multiple,_=void 0!==x&&x,S=n.native,E=void 0!==S&&S,C=n.onClose,T=n.onOpen,A=n.open,O=n.renderValue,R=n.SelectDisplayProps,I=n.variant,N=void 0===I?"standard":I,P=(0,p.Z)(n,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),M=E?Yi:Pi,L=Mi({props:n,muiFormControl:Li(),states:["variant"]}).variant||N,D=m||{standard:oa,outlined:e.createElement(ia,{label:g,labelWidth:w}),filled:sa}[L];return e.cloneElement(D,(0,r.Z)({inputComponent:M,inputProps:(0,r.Z)({children:s,IconComponent:f,variant:L,type:void 0,multiple:_},E?{id:h}:{autoWidth:o,displayEmpty:l,labelId:y,MenuProps:k,onClose:C,onOpen:T,open:A,renderValue:O,SelectDisplayProps:(0,r.Z)({id:h},R)},v,{classes:v?(0,ni.Z)({baseClasses:u,newClasses:v.classes,Component:t}):u},m?m.props.inputProps:{}),ref:i},P))}));ua.muiName="Select";var ca=(0,i.Z)(aa,{name:"MuiSelect"})(ua),la="undefined"===typeof window?e.useEffect:e.useLayoutEffect,da=e.forwardRef((function(n,i){var a=n.alignItems,o=void 0===a?"center":a,s=n.autoFocus,u=void 0!==s&&s,c=n.button,l=void 0!==c&&c,d=n.children,f=n.classes,m=n.className,v=n.component,g=n.ContainerComponent,y=void 0===g?"li":g,b=n.ContainerProps,w=(b=void 0===b?{}:b).className,k=(0,p.Z)(b,["className"]),x=n.dense,S=void 0!==x&&x,E=n.disabled,C=void 0!==E&&E,T=n.disableGutters,A=void 0!==T&&T,O=n.divider,R=void 0!==O&&O,I=n.focusVisibleClassName,N=n.selected,P=void 0!==N&&N,M=(0,p.Z)(n,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),L=e.useContext(vi),D={dense:S||L.dense||!1,alignItems:o},F=e.useRef(null);la((function(){u&&F.current&&F.current.focus()}),[u]);var B=e.Children.toArray(d),j=B.length&&(0,Qr.Z)(B[B.length-1],["ListItemSecondaryAction"]),Z=e.useCallback((function(e){F.current=t.findDOMNode(e)}),[]),V=(0,_.Z)(Z,i),W=(0,r.Z)({className:(0,h.Z)(f.root,m,D.dense&&f.dense,!A&&f.gutters,R&&f.divider,C&&f.disabled,l&&f.button,"center"!==o&&f.alignItemsFlexStart,j&&f.secondaryAction,P&&f.selected),disabled:C},M),H=v||"li";return l&&(W.component=v||"div",W.focusVisibleClassName=(0,h.Z)(f.focusVisible,I),H=U),j?(H=W.component||v?H:"div","li"===y&&("li"===H?H="div":"li"===W.component&&(W.component="div")),e.createElement(vi.Provider,{value:D},e.createElement(y,(0,r.Z)({className:(0,h.Z)(f.container,w),ref:V},k),e.createElement(H,W,B),B.pop()))):e.createElement(vi.Provider,{value:D},e.createElement(H,(0,r.Z)({ref:V},W),B))})),fa=(0,i.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(da),pa=e.forwardRef((function(t,n){var i,a=t.classes,o=t.className,s=t.component,u=void 0===s?"li":s,c=t.disableGutters,l=void 0!==c&&c,d=t.ListItemClasses,f=t.role,m=void 0===f?"menuitem":f,v=t.selected,g=t.tabIndex,y=(0,p.Z)(t,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return t.disabled||(i=void 0!==g?g:-1),e.createElement(fa,(0,r.Z)({button:!0,role:m,tabIndex:i,component:u,selected:v,disableGutters:l,classes:(0,r.Z)({dense:a.dense},d),className:(0,h.Z)(a.root,o,v&&a.selected,!l&&a.gutters),ref:n},y))})),ha=(0,i.Z)((function(e){return{root:(0,r.Z)({},e.typography.body1,(0,f.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,r.Z)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(pa);function ma(){var t=ve().audioInputDevices,n=on().localTracks.find((function(e){return"audio"===e.kind})),r=Dr(n),i=null===r||void 0===r?void 0:r.getSettings().deviceId;return e.createElement("div",null,e.createElement(cr,{variant:"subtitle2",gutterBottom:!0},"Audio Input"),e.createElement(Kr,{container:!0,alignItems:"center",justifyContent:"space-between"},e.createElement("div",{className:"inputSelect"},t.length>1?e.createElement(ti,{fullWidth:!0},e.createElement(ca,{onChange:function(e){return t=e.target.value,window.localStorage.setItem(te,t),void(null===n||void 0===n||n.restart({deviceId:{exact:t}}));var t},value:i||"",variant:"outlined"},t.map((function(t){return e.createElement(ha,{value:t.deviceId,key:t.deviceId},t.label)})))):e.createElement(cr,null,(null===n||void 0===n?void 0:n.mediaStreamTrack.label)||"No Local Audio")),e.createElement(Ur,{audioTrack:n,color:"black"})))}function va(){var t,n=ve().audioOutputDevices,r=Ot(),i=r.activeSinkId,a=r.setActiveSinkId,o=null===(t=n.find((function(e){return e.deviceId===i})))||void 0===t?void 0:t.label;return e.createElement("div",{className:"inputSelect"},n.length>1?e.createElement(ti,{fullWidth:!0},e.createElement(cr,{variant:"subtitle2",gutterBottom:!0},"Audio Output"),e.createElement(ca,{onChange:function(e){return a(e.target.value)},value:i,variant:"outlined"},n.map((function(t){return e.createElement(ha,{value:t.deviceId,key:t.deviceId},t.label)})))):e.createElement(e.Fragment,null,e.createElement(cr,{variant:"subtitle2"},"Audio Output"),e.createElement(cr,null,o||"System Default Audio Output")))}var ga=n(47121);function ya(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,c.Z)(),a=(0,cn.Z)({theme:i,name:"MuiUseMediaQuery",props:{}});var o="function"===typeof t?t(i):t;o=o.replace(/^@media( ?)/m,"");var s="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,u=(0,r.Z)({},a,n),l=u.defaultMatches,d=void 0!==l&&l,f=u.matchMedia,p=void 0===f?s?window.matchMedia:null:f,h=u.noSsr,m=void 0!==h&&h,v=u.ssrMatchMedia,g=void 0===v?null:v,y=e.useState((function(){return m&&s?p(o).matches:g?g(o).matches:d})),b=y[0],w=y[1];return e.useEffect((function(){var e=!0;if(s){var t=p(o),n=function(){e&&w(t.matches)};return n(),t.addListener(n),function(){e=!1,t.removeListener(n)}}}),[o,p,s]),b}var ba=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?ga.X.indexOf(e)<=ga.X.indexOf(t):ga.X.indexOf(e)<ga.X.indexOf(t)},wa=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?ga.X.indexOf(t)<=ga.X.indexOf(e):ga.X.indexOf(t)<ga.X.indexOf(e)},ka="undefined"===typeof window?e.useEffect:e.useLayoutEffect,xa=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var i=t.withTheme,a=void 0!==i&&i,o=t.noSSR,s=void 0!==o&&o,u=t.initialWidth;function c(t){var i=Wn(),o=t.theme||i,c=(0,cn.Z)({theme:o,name:"MuiWithWidth",props:(0,r.Z)({},t)}),l=c.initialWidth,d=c.width,f=(0,p.Z)(c,["initialWidth","width"]),h=e.useState(!1),m=h[0],v=h[1];ka((function(){v(!0)}),[]);var g=o.breakpoints.keys.slice().reverse().reduce((function(e,t){var n=ya(o.breakpoints.up(t));return!e&&n?t:e}),null),y=(0,r.Z)({width:d||(m||s?g:void 0)||l||u},a?{theme:o}:{},f);return void 0===y.width?null:e.createElement(n,y)}return v()(c,n),c}};function _a(e){var t=e.children,n=e.only,r=e.width,i=Wn(),a=!0;if(n)if(Array.isArray(n))for(var o=0;o<n.length;o+=1){if(r===n[o]){a=!1;break}}else n&&r===n&&(a=!1);if(a)for(var s=0;s<i.breakpoints.keys.length;s+=1){var u=i.breakpoints.keys[s],c=e["".concat(u,"Up")],l=e["".concat(u,"Down")];if(c&&ba(u,r)||l&&wa(u,r)){a=!1;break}}return a?t:null}_a.propTypes={children:qe().node,className:qe().string,implementation:qe().oneOf(["js","css"]),initialWidth:qe().oneOf(["xs","sm","md","lg","xl"]),lgDown:qe().bool,lgUp:qe().bool,mdDown:qe().bool,mdUp:qe().bool,only:qe().oneOfType([qe().oneOf(["xs","sm","md","lg","xl"]),qe().arrayOf(qe().oneOf(["xs","sm","md","lg","xl"]))]),smDown:qe().bool,smUp:qe().bool,width:qe().string.isRequired,xlDown:qe().bool,xlUp:qe().bool,xsDown:qe().bool,xsUp:qe().bool};var Sa=xa()(_a);var Ea=(0,i.Z)((function(e){var t={display:"none"};return e.breakpoints.keys.reduce((function(n,r){return n["only".concat((0,W.Z)(r))]=(0,f.Z)({},e.breakpoints.only(r),t),n["".concat(r,"Up")]=(0,f.Z)({},e.breakpoints.up(r),t),n["".concat(r,"Down")]=(0,f.Z)({},e.breakpoints.down(r),t),n}),{})}),{name:"PrivateHiddenCss"})((function(t){var n=t.children,r=t.classes,i=t.className,a=t.only,o=((0,p.Z)(t,["children","classes","className","only"]),Wn()),s=[];i&&s.push(i);for(var u=0;u<o.breakpoints.keys.length;u+=1){var c=o.breakpoints.keys[u],l=t["".concat(c,"Up")],d=t["".concat(c,"Down")];l&&s.push(r["".concat(c,"Up")]),d&&s.push(r["".concat(c,"Down")])}return a&&(Array.isArray(a)?a:[a]).forEach((function(e){s.push(r["only".concat((0,W.Z)(e))])})),e.createElement("div",{className:s.join(" ")},n)}));var Ca=function(t){var n=t.implementation,i=void 0===n?"js":n,a=t.lgDown,o=void 0!==a&&a,s=t.lgUp,u=void 0!==s&&s,c=t.mdDown,l=void 0!==c&&c,d=t.mdUp,f=void 0!==d&&d,h=t.smDown,m=void 0!==h&&h,v=t.smUp,g=void 0!==v&&v,y=t.xlDown,b=void 0!==y&&y,w=t.xlUp,k=void 0!==w&&w,x=t.xsDown,_=void 0!==x&&x,S=t.xsUp,E=void 0!==S&&S,C=(0,p.Z)(t,["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"]);return"js"===i?e.createElement(Sa,(0,r.Z)({lgDown:o,lgUp:u,mdDown:l,mdUp:f,smDown:m,smUp:g,xlDown:b,xlUp:k,xsDown:_,xsUp:E},C)):e.createElement(Ea,(0,r.Z)({lgDown:o,lgUp:u,mdDown:l,mdUp:f,smDown:m,smUp:g,xlDown:b,xlUp:k,xsDown:_,xsUp:E},C))};var Ta=w("video")({width:"100%",height:"100%"});function Aa(t){var n,r,i=t.track,a=t.isLocal,o=t.priority,s=(0,e.useRef)(null),u=Dr(i),c=function(t){var n=(0,e.useState)(null===t||void 0===t?void 0:t.dimensions),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(null===t||void 0===t?void 0:t.dimensions),t){var e=function(e){return a({width:e.dimensions.width,height:e.dimensions.height})};return t.on("dimensionsChanged",e),function(){t.off("dimensionsChanged",e)}}}),[t]),i}(i),l=(null!==(n=null===c||void 0===c?void 0:c.height)&&void 0!==n?n:0)>(null!==(r=null===c||void 0===c?void 0:c.width)&&void 0!==r?r:0);(0,e.useEffect)((function(){var e=s.current;return e.muted=!0,i.setPriority&&o&&i.setPriority(o),i.attach(e),function(){i.detach(e),e.srcObject=null,i.setPriority&&o&&i.setPriority(null)}}),[i,o]);var d="environment"!==(null===u||void 0===u?void 0:u.getSettings().facingMode),f={transform:a&&d?"scaleX(-1)":"",objectFit:l||i.name.includes("screen")?"contain":"cover"};return e.createElement(Ta,{ref:s,style:f})}var Oa=k({preview:{width:"300px",maxHeight:"200px",margin:"0.5em auto","& video":{maxHeight:"200px"}}});function Ra(){var t=Oa(),n=ve().videoInputDevices,r=on().localTracks.find((function(e){return"video"===e.kind})),i=Dr(r),a=(0,e.useState)(window.localStorage.getItem(re)),o=(0,G.Z)(a,2),s=o[0],u=o[1],c=(null===i||void 0===i?void 0:i.getSettings().deviceId)||s;return e.createElement("div",null,r&&e.createElement("div",{className:t.preview},e.createElement(Aa,{isLocal:!0,track:r})),n.length>1?e.createElement(ti,{fullWidth:!0},e.createElement(cr,{variant:"subtitle2",gutterBottom:!0},"Video Input"),e.createElement(ca,{onChange:function(e){return t=e.target.value,u(t),window.localStorage.setItem(re,t),void(null===r||void 0===r||r.restart(X(X({},ee),{},{deviceId:{exact:t}})));var t},value:c||"",variant:"outlined"},n.map((function(t){return e.createElement(ha,{value:t.deviceId,key:t.deviceId},t.label)})))):e.createElement(e.Fragment,null,e.createElement(cr,{variant:"subtitle2",gutterBottom:!0},"Video Input"),e.createElement(cr,null,(null===r||void 0===r?void 0:r.mediaStreamTrack.label)||"No Local Video")))}var Ia=[6,12,24];function Na(){var e=Ot(),t=e.maxGalleryViewParticipants,n=e.setMaxGalleryViewParticipants;return React.createElement("div",null,React.createElement(cr,{variant:"subtitle2",gutterBottom:!0},"Max Gallery View Participants"),React.createElement(Kr,{container:!0,alignItems:"center",justifyContent:"space-between"},React.createElement("div",{className:"inputSelect"},React.createElement(ti,{fullWidth:!0},React.createElement(ca,{onChange:function(e){return n(parseInt(e.target.value))},value:t,variant:"outlined"},Ia.map((function(e){return React.createElement(ha,{value:e,key:e},e)})))))))}var Pa=k((function(e){var t;return{container:(t={width:"600px",minHeight:"400px"},(0,f.Z)(t,e.breakpoints.down("xs"),{width:"calc(100vw - 32px)"}),(0,f.Z)(t,"& .inputSelect",{width:"calc(100% - 35px)"}),t),button:{float:"right"},paper:(0,f.Z)({},e.breakpoints.down("xs"),{margin:"16px"}),headline:{marginBottom:"1.3em",fontSize:"1.1rem"},listSection:{margin:"2em 0 0.8em","&:first-child":{margin:"1em 0 2em 0"}}}}));function Ma(t){var n=t.open,r=t.onClose,i=Pa();return e.createElement(nr,{open:n,onClose:r,classes:{paper:i.paper}},e.createElement(pr,null,"Audio and Video Settings"),e.createElement(mr,null),e.createElement(or,{className:i.container},e.createElement("div",{className:i.listSection},e.createElement(cr,{variant:"h6",className:i.headline},"Video"),e.createElement(Ra,null)),e.createElement(mr,null),e.createElement("div",{className:i.listSection},e.createElement(cr,{variant:"h6",className:i.headline},"Audio"),e.createElement(ma,null)),e.createElement("div",{className:i.listSection},e.createElement(va,null)),e.createElement(Ca,{smDown:!0},e.createElement(mr,null),e.createElement("div",{className:i.listSection},e.createElement(cr,{variant:"h6",className:i.headline},"Gallery View"),e.createElement(Na,null)))),e.createElement(mr,null),e.createElement(ir,null,e.createElement(z,{color:"primary",variant:"contained",className:i.button,onClick:r},"Done")))}var La=n(97595),Da=n(21759);function Fa(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{fill:"#707578"},e.createElement("path",{d:"M10 2c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8 3.582-8 8-8zm0 1.25c-3.728 0-6.75 3.022-6.75 6.75s3.022 6.75 6.75 6.75 6.75-3.022 6.75-6.75S13.728 3.25 10 3.25zM10 9c.552 0 1 .448 1 1v3c0 .552-.448 1-1 1s-1-.448-1-1v-3c0-.552.448-1 1-1zm0-3c.552 0 1 .448 1 1s-.448 1-1 1-1-.448-1-1 .448-1 1-1z",transform:"translate(-1107 -888) translate(1082 799) translate(1 81) translate(24 8)"}))))}var Ba=n(65952);function ja(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{fill:"#707578"},e.createElement("path",{d:"M14.714 5.286c2.604 2.603 2.604 6.825 0 9.428-2.603 2.604-6.825 2.604-9.428 0-2.604-2.603-2.604-6.825 0-9.428 2.603-2.604 6.825-2.604 9.428 0zm-8.703.725c-2.203 2.203-2.203 5.775 0 7.978 2.203 2.203 5.775 2.203 7.978 0 2.142-2.142 2.201-5.577.178-7.791l-.178-.187-.187-.178c-2.214-2.023-5.649-1.964-7.79.178zM10 5.833c2.301 0 4.167 1.866 4.167 4.167 0 2.301-1.866 4.167-4.167 4.167-2.301 0-4.167-1.866-4.167-4.167C5.833 7.699 7.7 5.833 10 5.833z",transform:"translate(-175 -158) translate(150 141) translate(1 9) translate(24 8)"}))))}function Za(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{fill:"#707578"},e.createElement("path",{d:"M15 3.333c.92 0 1.667.747 1.667 1.667v10c0 .92-.747 1.667-1.667 1.667H5c-.92 0-1.667-.747-1.667-1.667V5c0-.92.747-1.667 1.667-1.667h10zm0 .834H5c-.427 0-.78.321-.828.736L4.167 5v10c0 .427.321.78.736.828l.097.005h10c.427 0 .78-.321.828-.736l.005-.097V5c0-.427-.321-.78-.736-.828L15 4.167zm-.833 1.666v8.334H5.833V5.833h8.334z",transform:"translate(-175 -158) translate(150 141) translate(1 9) translate(24 8)"}))))}var Va=n(13880);function Ua(){return e.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.774 14.14L16.3413 13.2506C16.3286 13.2244 16.3173 13.1974 16.3075 13.17C16.1465 12.7274 16.3736 12.2377 16.8155 12.0749L17.7467 11.7347C18.5055 11.4566 19.0077 10.7311 19.0011 9.92278C18.9944 9.11441 18.4804 8.39788 17.7172 8.13314L16.7859 7.81039C16.758 7.80094 16.7306 7.7894 16.7056 7.77843C16.2794 7.57999 16.0942 7.07384 16.2915 6.64668L16.7082 5.74887C17.049 5.01563 16.8921 4.14738 16.3163 3.58049C15.7405 3.0136 14.8703 2.87065 14.1431 3.2235L13.246 3.65462C13.2199 3.66744 13.1931 3.67882 13.1658 3.68869C12.954 3.76821 12.7189 3.75812 12.5148 3.66073C12.3097 3.56606 12.1511 3.39306 12.0746 3.18044L12.0741 3.17844L11.7334 2.25081C11.4547 1.49408 10.7313 0.994061 9.92513 1.00105C9.119 1.00804 8.40369 1.52053 8.13727 2.28199L7.8091 3.22223C7.79964 3.25006 7.78863 3.27733 7.7761 3.30391C7.57656 3.73058 7.06934 3.91499 6.64288 3.71592L5.74485 3.29868C5.01263 2.96105 4.14713 3.11998 3.58195 3.69585C3.01677 4.27171 2.87367 5.14046 3.22434 5.86685L3.65571 6.76067C3.66851 6.78686 3.67999 6.81368 3.69009 6.84103C3.85069 7.28399 3.62314 7.77372 3.18105 7.9366L2.25109 8.27683C1.74395 8.46368 1.33939 8.85649 1.13749 9.3581C0.935598 9.8597 0.955223 10.4232 1.19151 10.9093C1.41059 11.3666 1.80499 11.7159 2.28525 11.878L3.21579 12.2005C3.24614 12.2114 3.27565 12.2233 3.30063 12.2343C3.72728 12.4329 3.91226 12.9399 3.7139 13.3671L3.29483 14.2675C3.07772 14.742 3.06371 15.2845 3.25603 15.7693C3.44835 16.2542 3.83032 16.6393 4.31342 16.8354C4.34216 16.847 4.3712 16.8578 4.40056 16.8679C4.87879 17.0366 5.40471 17.0069 5.86112 16.7853L6.75557 16.3531C6.78218 16.3402 6.81093 16.3286 6.8356 16.3194C7.04851 16.2445 7.282 16.2542 7.48788 16.3465C7.6933 16.4413 7.85223 16.6144 7.92922 16.8273L8.27064 17.7606C8.55155 18.5147 9.27456 19.0117 10.079 19.0036C10.8834 18.9955 11.5969 18.4841 11.8635 17.7245L12.1864 16.7928C12.1968 16.7627 12.2087 16.7332 12.2201 16.7083C12.4211 16.2836 12.9258 16.099 13.3529 16.2939L14.2494 16.7105C14.9825 17.0512 15.8508 16.8933 16.4177 16.3161C16.9845 15.7389 17.1272 14.8675 16.774 14.14ZM15.4272 15.7438C15.1965 15.8557 14.9279 15.8582 14.6953 15.7505L13.7992 15.334C13.3395 15.1185 12.8127 15.0956 12.3358 15.2705C11.8589 15.4453 11.4714 15.8035 11.2594 16.2653C11.2334 16.3231 11.21 16.381 11.1879 16.4434L10.8648 17.3755C10.7896 17.5889 10.6327 17.7637 10.4286 17.8613C10.2245 17.959 9.9901 17.9714 9.77695 17.8959C9.53792 17.8159 9.34868 17.6308 9.26323 17.3935L8.92318 16.4634C8.74891 15.9867 8.39229 15.5989 7.93192 15.3856C7.47155 15.1724 6.94522 15.1511 6.46891 15.3264C6.40896 15.349 6.35008 15.3734 6.29456 15.4005L5.4017 15.832C5.198 15.9306 4.96337 15.9438 4.75003 15.8685C4.53569 15.7956 4.36017 15.6387 4.26376 15.4338C4.15381 15.2059 4.15081 14.9409 4.25558 14.7105L4.6727 13.8138C4.88722 13.3534 4.9098 12.8267 4.73547 12.3499C4.56113 11.8731 4.20422 11.4855 3.74357 11.2726C3.71568 11.26 3.68725 11.2477 3.65813 11.2359C3.62824 11.2238 3.59766 11.2124 3.56562 11.2012L2.6307 10.8774C2.29028 10.7597 2.06067 10.4405 2.0571 10.0801C2.05353 9.71966 2.27677 9.39575 2.61479 9.2709L3.54421 8.93088C4.05237 8.74551 4.45826 8.35329 4.66113 7.8516C4.864 7.34991 4.8448 6.7858 4.60832 6.29933L4.17719 5.40605C4.0208 5.08228 4.08434 4.69501 4.33601 4.43805C4.58769 4.18109 4.97337 4.1097 5.30004 4.2596L6.19629 4.67569C6.65433 4.89215 7.1799 4.91661 7.65626 4.74364C8.13263 4.57067 8.52036 4.21458 8.73335 3.75445C8.7625 3.69314 8.78809 3.6302 8.80997 3.56594L9.13622 2.6316C9.29214 2.18707 9.77837 1.95273 10.2227 2.10793C10.4645 2.18868 10.6555 2.37645 10.7405 2.61689L11.0804 3.54291C11.2533 4.01887 11.6082 4.40647 12.067 4.62043C12.5257 4.83438 13.0507 4.85716 13.5265 4.68374C13.5885 4.66176 13.6492 4.63608 13.7082 4.60683L14.6033 4.17624C14.8065 4.07688 15.0408 4.06283 15.2542 4.13722C15.4693 4.20945 15.6456 4.36621 15.7425 4.57137C15.8549 4.80183 15.8573 5.07079 15.749 5.30333L15.3321 6.20153C15.1187 6.66179 15.0968 7.18798 15.2714 7.66415C15.446 8.14033 15.8026 8.52742 16.2627 8.74013C16.3185 8.76535 16.3747 8.78849 16.4369 8.81002L17.3702 9.13315C17.7106 9.2515 17.9398 9.57117 17.9428 9.93176C17.9458 10.2924 17.722 10.6161 17.3836 10.7405L16.4524 11.0806C15.4631 11.4445 14.9535 12.54 15.3125 13.5312C15.335 13.5933 15.3607 13.6541 15.3895 13.7135L15.8224 14.6035C15.9214 14.807 15.9353 15.0416 15.8612 15.2555C15.787 15.4694 15.6309 15.6451 15.4272 15.7438L15.4272 15.7438ZM11.3877 6.5684C9.49155 5.80233 7.33291 6.71966 6.5662 8.61733C5.79949 10.515 6.71505 12.6744 8.61116 13.4405C10.5073 14.2065 12.6659 13.2892 13.4326 11.3915C14.197 9.49389 13.2821 7.33617 11.3877 6.5684ZM9.00779 12.4587C7.65343 11.9115 6.99946 10.3691 7.54711 9.01364C8.09476 7.65816 9.63664 7.00292 10.991 7.55012C12.3454 8.09732 12.9993 9.63974 12.4517 10.9952C11.9028 12.3495 10.3621 13.0042 9.00779 12.4587Z",fill:"#606B85"}))}var Wa=n(87996),Ha=(0,e.createContext)(null),za=function(t){var n=t.children,r=on(),i=r.room,a=r.onError,o=(0,e.useRef)(!1),s=(0,e.useState)(!1),u=(0,G.Z)(s,2),c=u[0],l=u[1],d=(0,e.useState)(null),f=(0,G.Z)(d,2),p=f[0],h=f[1],m=(0,e.useState)([]),v=(0,G.Z)(m,2),g=v[0],y=v[1],b=(0,e.useState)(!1),w=(0,G.Z)(b,2),k=w[0],x=w[1],_=(0,e.useState)(),S=(0,G.Z)(_,2),E=S[0],T=S[1],A=(0,e.useCallback)((function(e){var t=new Wa.KU(e),n=function(e){"initialized"===e?(window.chatClient=t,T(t)):"failed"===e&&a(new Error("There was a problem connecting to Twilio's conversation service."))};return t.on("stateChanged",n),function(){t.off("stateChanged",n)}}),[a]);return(0,e.useEffect)((function(){if(p){var e=function(e){return y((function(t){return[].concat((0,C.Z)(t),[e])}))};return p.getMessages().then((function(e){return y(e.items)})),p.on("messageAdded",e),function(){p.off("messageAdded",e)}}}),[p]),(0,e.useEffect)((function(){!o.current&&g.length&&x(!0)}),[g]),(0,e.useEffect)((function(){o.current=c,c&&x(!1)}),[c]),(0,e.useEffect)((function(){i&&E&&E.getConversationByUniqueName(i.sid).then((function(e){window.chatConversation=e,h(e)})).catch((function(e){console.error(e),a(new Error("There was a problem getting the Conversation associated with this room."))}))}),[i,E,a]),e.createElement(Ha.Provider,{value:{isChatWindowOpen:c,setIsChatWindowOpen:l,connect:A,hasUnreadMessages:k,messages:g,conversation:p}},n)};function Ga(){var t=(0,e.useContext)(Ha);if(!t)throw new Error("useChatContext must be used within a ChatProvider");return t}function qa(){var t=on().room,n=(0,e.useState)(Boolean(null===t||void 0===t?void 0:t.isRecording)),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(t){a(t.isRecording);var e=function(){return a(!0)},n=function(){return a(!1)};return t.on("recordingStarted",e),t.on("recordingStopped",n),function(){t.off("recordingStarted",e),t.off("recordingStopped",n)}}}),[t]),i}function Ka(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{fill:"#707578"},e.createElement("path",{d:"M12 3.5c4.694 0 8.5 3.806 8.5 8.5s-3.806 8.5-8.5 8.5-8.5-3.806-8.5-8.5S7.306 3.5 12 3.5zm0 1c-4.142 0-7.5 3.358-7.5 7.5 0 4.142 3.358 7.5 7.5 7.5 4.142 0 7.5-3.358 7.5-7.5 0-4.142-3.358-7.5-7.5-7.5zm1.367 3.429C14.959 8.492 16.1 10.215 16.1 12c0 1.16-.481 2.294-1.256 3.1h.356c.245 0 .45.177.492.41l.008.09c0 .245-.177.45-.41.492l-.09.008h-2.008l-.048-.003-.034-.005c-.088-.017-.167-.055-.233-.11l-.06-.06c-.037-.044-.067-.096-.087-.151l-.001-.004-.012-.04c-.004-.012-.007-.024-.009-.037v-.005c-.005-.024-.006-.042-.007-.06L12.7 13.6c0-.276.224-.5.5-.5.245 0 .45.177.492.41l.008.09v1.176c.833-.6 1.4-1.676 1.4-2.776 0-1.373-.886-2.71-2.067-3.129-.26-.092-.396-.377-.304-.638.092-.26.378-.396.638-.304zm-2.559-.03c.03.001.058.004.086.01l.062.016.018.006c.04.015.075.034.108.056.086.059.152.143.188.242l.001.004.008.025c.006.017.01.034.013.052l.008.09v2c0 .276-.224.5-.5.5-.245 0-.45-.177-.492-.41l-.008-.09V9.224c-.833.6-1.4 1.676-1.4 2.776 0 1.373.886 2.71 2.067 3.129.26.092.396.377.304.638-.092.26-.378.396-.638.304C9.041 15.508 7.9 13.785 7.9 12c0-1.16.481-2.294 1.255-3.1H8.8c-.245 0-.45-.177-.492-.41L8.3 8.4c0-.245.177-.45.41-.492L8.8 7.9h2.008z",transform:"translate(-233 -689) translate(-1 673) translate(37 16) translate(197.298)"}))))}var Ya=w("div")({display:"flex",justifyContent:"center",width:"1.5em",marginRight:"0.3em"});function Xa(t){var n=ya((function(e){return e.breakpoints.down("sm")})),r=(0,e.useState)(!1),i=(0,G.Z)(r,2),a=i[0],o=i[1],s=(0,e.useState)(!1),u=(0,G.Z)(s,2),c=u[0],l=u[1],d=(0,e.useState)(!1),f=(0,G.Z)(d,2),p=f[0],h=f[1],m=Ot(),v=m.isFetching,g=m.updateRecordingRules,y=m.roomType,b=m.setIsGalleryViewActive,w=m.isGalleryViewActive,k=Ga().setIsChatWindowOpen,x=qa(),_=on(),S=_.room,E=_.setIsBackgroundSelectionOpen,C=(0,e.useRef)(null),T=function(){var t=on().localTracks,n=(0,e.useState)(!1),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=t.find((function(e){return!e.name.includes("screen")&&"video"===e.kind})),s=Dr(o),u=ve().videoInputDevices;(0,e.useEffect)((function(){(null===s||void 0===s?void 0:s.getSettings().facingMode)&&!1===i&&a(!0)}),[s,i]);var c=(0,e.useCallback)((function(){var e="user"===(null===s||void 0===s?void 0:s.getSettings().facingMode)?"environment":"user";null===o||void 0===o||o.restart(X(X({},ee),{},{facingMode:e}))}),[s,o]);return{flipCameraDisabled:!o,toggleFacingMode:c,flipCameraSupported:i&&u.length>1}}(),A=T.flipCameraDisabled,O=T.toggleFacingMode,R=T.flipCameraSupported;return e.createElement(e.Fragment,null,e.createElement(z,{onClick:function(){return l((function(e){return!e}))},ref:C,className:t.buttonClassName,"data-cy-more-button":!0},n?e.createElement(Ba.Z,null):e.createElement(e.Fragment,null,"More",e.createElement(La.Z,null))),e.createElement(Oi,{open:c,onClose:function(){return l((function(e){return!e}))},anchorEl:C.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:n?-55:"bottom",horizontal:"center"}},e.createElement(ha,{onClick:function(){return h(!0)}},e.createElement(Ya,null,e.createElement(Ua,null)),e.createElement(cr,{variant:"body1"},"Audio and Video Settings")),Ft.isSupported&&e.createElement(ha,{onClick:function(){E(!0),k(!1),l(!1)}},e.createElement(Ya,null,e.createElement(gr,null)),e.createElement(cr,{variant:"body1"},"Backgrounds")),R&&e.createElement(ha,{disabled:A,onClick:O},e.createElement(Ya,null,e.createElement(Ka,null)),e.createElement(cr,{variant:"body1"},"Flip Camera")),"peer-to-peer"!==y&&"go"!==y&&e.createElement(ha,{disabled:v,onClick:function(){l(!1),g(S.sid,x?[{type:"exclude",all:!0}]:[{type:"include",all:!0}])},"data-cy-recording-button":!0},e.createElement(Ya,null,x?e.createElement(Za,null):e.createElement(ja,null)),e.createElement(cr,{variant:"body1"},x?"Stop":"Start"," Recording")),e.createElement(ha,{onClick:function(){nn.VideoRoomMonitor.toggleMonitor(),l(!1)}},e.createElement(Ya,null,e.createElement(Va.Z,{style:{fill:"#707578",width:"0.9em"}})),e.createElement(cr,{variant:"body1"},"Room Monitor")),e.createElement(ha,{onClick:function(){b((function(e){return!e})),l(!1)}},e.createElement(Ya,null,w?e.createElement(wr.Z,{style:{fill:"#707578",width:"0.9em"}}):e.createElement(Da.Z,{style:{fill:"#707578",width:"0.9em"}})),e.createElement(cr,{variant:"body1"},w?"Speaker View":"Gallery View")),e.createElement(ha,{onClick:function(){return o(!0)}},e.createElement(Ya,null,e.createElement(Fa,null)),e.createElement(cr,{variant:"body1"},"About"))),e.createElement(vr,{open:a,onClose:function(){o(!1),l(!1)}}),e.createElement(Ma,{open:p,onClose:function(){h(!1),l(!1)}}))}function Qa(){var t,n=on().room,r=(0,e.useState)(Array.from(null!==(t=null===n||void 0===n?void 0:n.participants.values())&&void 0!==t?t:[])),i=(0,G.Z)(r,2),a=i[0],o=i[1];return(0,e.useEffect)((function(){if(n){var e=function(e){return o((function(t){return[].concat((0,C.Z)(t),[e])}))},t=function(e){return o((function(t){return t.filter((function(t){return t!==e}))}))};return n.on("participantConnected",e),n.on("participantDisconnected",t),function(){n.off("participantConnected",e),n.off("participantDisconnected",t)}}}),[n]),a}function Ja(){var t=on().room,n=(0,e.useState)("disconnected"),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(t){var e=function(){return a(t.state)};return e(),t.on("disconnected",e).on("reconnected",e).on("reconnecting",e),function(){t.off("disconnected",e).off("reconnected",e).off("reconnecting",e)}}}),[t]),i}function $a(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"17",viewBox:"0 0 12 17"},e.createElement("path",{fill:"#707578",fillRule:"evenodd",d:"M11.389 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09C2.395 12.836 0 10.281 0 7.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM5.944 0C7.51 0 8.778 1.268 8.778 2.833v4.334C8.778 8.73 7.51 10 5.944 10 4.38 10 3.111 8.73 3.111 7.167V2.833C3.111 1.268 4.38 0 5.944 0zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334C4.111 8.179 4.933 9 5.944 9c1.013 0 1.834-.82 1.834-1.833V2.833C7.778 1.82 6.958 1 5.944 1z"}))}function eo(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("path",{fill:"#707578",d:"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z",transform:"translate(6.5 4)"}),e.createElement("path",{fill:"red",d:"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z",transform:"translate(6.5 4)"})))}function to(t){var n=function(){var t=on().localTracks.find((function(e){return"audio"===e.kind}));return[Lr(t),(0,e.useCallback)((function(){t&&(t.isEnabled?t.disable():t.enable())}),[t])]}(),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=on().localTracks.some((function(e){return"audio"===e.kind}));return e.createElement(z,{className:t.className,onClick:a,disabled:!o||t.disabled,startIcon:i?e.createElement($a,null):e.createElement(eo,null),"data-cy-audio-toggle":!0},o?i?"Mute":"Unmute":"No Audio")}function no(){return e.createElement("svg",{width:"19",height:"17",viewBox:"0 0 19 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1C0 0.723858 0.223858 0.5 0.5 0.5H18.5C18.7761 0.5 19 0.723858 19 1V13C19 13.2761 18.7761 13.5 18.5 13.5H9.3096L6.32421 16.361C6.1796 16.4996 5.96624 16.5385 5.78202 16.4599C5.59779 16.3813 5.47826 16.2003 5.47826 16V13.5H0.5C0.223858 13.5 0 13.2761 0 13V1ZM1 1.5V12.5H5.97826C6.2544 12.5 6.47826 12.7239 6.47826 13V14.8283L8.76274 12.639C8.85583 12.5498 8.97977 12.5 9.1087 12.5H18V1.5H1Z",fill:"#707578"}))}var ro=k({iconContainer:{position:"relative",display:"flex"},circle:{width:"10px",height:"10px",backgroundColor:"#5BB75B",borderRadius:"50%",position:"absolute",top:"-3px",left:"13px",opacity:0,transition:"opacity ".concat(350,"ms ease-in")},hasUnreadMessages:{opacity:1},ring:{border:"3px solid #5BB75B",borderRadius:"30px",height:"14px",width:"14px",position:"absolute",left:"11px",top:"-5px",opacity:0},animateRing:{animation:"$expand ".concat(700,"ms ease-out"),animationIterationCount:1},"@keyframes expand":{"0%":{transform:"scale(0.1, 0.1)",opacity:0},"50%":{opacity:1},"100%":{transform:"scale(1.4, 1.4)",opacity:0}}});function io(){var t=ro(),n=(0,e.useState)(!1),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=Ga(),s=o.isChatWindowOpen,u=o.setIsChatWindowOpen,c=o.conversation,l=o.hasUnreadMessages,d=on().setIsBackgroundSelectionOpen;return(0,e.useEffect)((function(){i&&setTimeout((function(){return a(!1)}),700)}),[i]),(0,e.useEffect)((function(){if(c&&!s){var e=function(){return a(!0)};return c.on("messageAdded",e),function(){c.off("messageAdded",e)}}}),[c,s]),e.createElement(z,{"data-cy-chat-button":!0,onClick:function(){u(!s),d(!1)},disabled:!c,startIcon:e.createElement("div",{className:t.iconContainer},e.createElement(no,null),e.createElement("div",{className:(0,h.Z)(t.ring,(0,f.Z)({},t.animateRing,i))}),e.createElement("div",{className:(0,h.Z)(t.circle,(0,f.Z)({},t.hasUnreadMessages,l))}))},"Chat")}function ao(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("path",{fill:"#707578",d:"M10.503.85c.32 0 .611.125.827.329l-.696.697c-.025-.018-.053-.032-.084-.038l-.047-.006H1.207c-.102 0-.19.071-.216.165l-.008.059v7.866c0 .101.07.189.165.215l.059.008h1.156l-.983.983h-.173c-.624 0-1.139-.476-1.2-1.083L0 9.922V2.056C0 1.433.476.917 1.084.856l.123-.007h9.296zm5.49 1.124l.007.082v7.866c0 .337-.328.566-.635.47l-.076-.03-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H4.16l.984-.983h5.359c.101 0 .189-.07.215-.164l.008-.06V4.564l.983-.982.353-.353 3.227-1.612c.301-.15.652.04.704.358zm-.977.876L11.71 4.504v2.967l3.307 1.654V2.85z",transform:"translate(4 6)"}),e.createElement("path",{fill:"red",fillRule:"nonzero",d:"M13.06.144c.192-.192.503-.192.695 0 .171.17.19.436.057.627l-.057.068-12.29 12.29c-.192.193-.503.193-.695 0-.171-.17-.19-.435-.057-.626l.057-.069L13.06.144z",transform:"translate(4 6)"})))}function oo(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24"},e.createElement("path",{fill:"#707578",fillRule:"evenodd",d:"M15.003 7c.665 0 1.206.542 1.206 1.207v1.349l3.58-1.789c.301-.15.652.04.704.358l.007.082v7.866c0 .365-.385.603-.711.44l-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H5.707c-.665 0-1.207-.542-1.207-1.206V8.207C4.5 7.542 5.042 7 5.707 7zm0 .983H5.707c-.122 0-.224.102-.224.224v7.866c0 .121.102.223.224.223h9.296c.122 0 .223-.102.223-.223V8.207c0-.122-.101-.224-.223-.224zm4.513 1.019l-3.307 1.654v2.968l3.307 1.653V9.002z"}))}function so(t){var n=Pt(),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=(0,e.useRef)(0),s=ve().hasVideoInputDevices,u=(0,e.useCallback)((function(){Date.now()-o.current>500&&(o.current=Date.now(),a())}),[a]);return e.createElement(z,{className:t.className,onClick:u,disabled:!s||t.disabled,startIcon:i?e.createElement(oo,null):e.createElement(ao,null)},s?i?"Stop Video":"Start Video":"No Video")}function uo(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("path",{fill:"#707578",fillRule:"evenodd",d:"M17.657 6.343c3.124 3.124 3.124 8.19 0 11.314-3.124 3.124-8.19 3.124-11.314 0-3.124-3.124-3.124-8.19 0-11.314 3.124-3.124 8.19-3.124 11.314 0zm-10.444.87c-2.643 2.644-2.643 6.93 0 9.574 2.644 2.643 6.93 2.643 9.574 0 2.57-2.57 2.641-6.693.214-9.35l-.214-.224L16.563 7c-2.657-2.427-6.78-2.356-9.35.214zm4.865.484l.02.003.026.005.041.01c.025.007.045.014.063.021l.043.019c.018.009.036.019.053.03.01.005.02.012.03.02.027.019.053.04.077.063l2.773 2.774c.24.24.24.63 0 .87-.213.214-.545.237-.785.071l-.085-.07-1.719-1.72v5.9c0 .34-.275.615-.615.615-.302 0-.553-.218-.605-.505l-.01-.11-.001-5.9-1.718 1.72c-.24.24-.63.24-.87 0-.214-.215-.238-.546-.072-.786l.072-.085 2.769-2.77.015-.014c.02-.018.04-.035.062-.05l.005-.004.008-.006c.027-.018.055-.034.085-.048l.034-.015.059-.02.032-.008c.021-.005.044-.008.068-.011l.038-.003H12.025l.027.002.026.002z"}))}var co=n(81534),lo="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,fo=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(lo&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var po=lo&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),fo))}};function ho(e){return e&&"[object Function]"==={}.toString.call(e)}function mo(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function vo(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function go(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=mo(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:go(vo(e))}function yo(e){return e&&e.referenceNode?e.referenceNode:e}var bo=lo&&!(!window.MSInputMethodContext||!document.documentMode),wo=lo&&/MSIE 10/.test(navigator.userAgent);function ko(e){return 11===e?bo:10===e?wo:bo||wo}function xo(e){if(!e)return document.documentElement;for(var t=ko(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===mo(n,"position")?xo(n):n:e?e.ownerDocument.documentElement:document.documentElement}function _o(e){return null!==e.parentNode?_o(e.parentNode):e}function So(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||xo(e.firstElementChild)===e)}(o)?o:xo(o);var s=_o(e);return s.host?So(s.host,t):So(e,_o(t).host)}function Eo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[n]}return e[n]}function Co(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Eo(t,"top"),i=Eo(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}function To(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function Ao(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],ko(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function Oo(e){var t=e.body,n=e.documentElement,r=ko(10)&&getComputedStyle(n);return{height:Ao("Height",t,n,r),width:Ao("Width",t,n,r)}}var Ro=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Io=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),No=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Mo(e){return Po({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Lo(e){var t={};try{if(ko(10)){t=e.getBoundingClientRect();var n=Eo(e,"top"),r=Eo(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(d){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?Oo(e.ownerDocument):{},o=a.width||e.clientWidth||i.width,s=a.height||e.clientHeight||i.height,u=e.offsetWidth-o,c=e.offsetHeight-s;if(u||c){var l=mo(e);u-=To(l,"x"),c-=To(l,"y"),i.width-=u,i.height-=c}return Mo(i)}function Do(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ko(10),i="HTML"===t.nodeName,a=Lo(e),o=Lo(t),s=go(e),u=mo(t),c=parseFloat(u.borderTopWidth),l=parseFloat(u.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var d=Mo({top:a.top-o.top-c,left:a.left-o.left-l,width:a.width,height:a.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var f=parseFloat(u.marginTop),p=parseFloat(u.marginLeft);d.top-=c-f,d.bottom-=c-f,d.left-=l-p,d.right-=l-p,d.marginTop=f,d.marginLeft=p}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=Co(d,t)),d}function Fo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=Do(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:Eo(n),s=t?0:Eo(n,"left"),u={top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:a};return Mo(u)}function Bo(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===mo(e,"position"))return!0;var n=vo(e);return!!n&&Bo(n)}function jo(e){if(!e||!e.parentElement||ko())return document.documentElement;for(var t=e.parentElement;t&&"none"===mo(t,"transform");)t=t.parentElement;return t||document.documentElement}function Zo(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?jo(e):So(e,yo(t));if("viewport"===r)a=Fo(o,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=go(vo(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var u=Do(s,o,i);if("HTML"!==s.nodeName||Bo(o))a=u;else{var c=Oo(e.ownerDocument),l=c.height,d=c.width;a.top+=u.top-u.marginTop,a.bottom=l+u.top,a.left+=u.left-u.marginLeft,a.right=d+u.left}}var f="number"===typeof(n=n||0);return a.left+=f?n:n.left||0,a.top+=f?n:n.top||0,a.right-=f?n:n.right||0,a.bottom-=f?n:n.bottom||0,a}function Vo(e){return e.width*e.height}function Uo(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=Zo(n,r,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},u=Object.keys(s).map((function(e){return Po({key:e},s[e],{area:Vo(s[e])})})).sort((function(e,t){return t.area-e.area})),c=u.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:u[0].key,d=e.split("-")[1];return l+(d?"-"+d:"")}function Wo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?jo(t):So(t,yo(n));return Do(n,i,r)}function Ho(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function zo(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function Go(e,t,n){n=n.split("-")[0];var r=Ho(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",u=a?"height":"width",c=a?"width":"height";return i[o]=t[o]+t[u]/2-r[u]/2,i[s]=n===s?t[s]-r[c]:t[zo(s)],i}function qo(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Ko(e,t,n){var r=void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=qo(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n));return r.forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&ho(n)&&(t.offsets.popper=Mo(t.offsets.popper),t.offsets.reference=Mo(t.offsets.reference),t=n(t,e))})),t}function Yo(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Wo(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Uo(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Go(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Ko(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Xo(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Qo(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],a=i?""+i+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function Jo(){return this.state.isDestroyed=!0,Xo(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Qo("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function $o(e){var t=e.ownerDocument;return t?t.defaultView:window}function es(e,t,n,r){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),i||es(go(a.parentNode),t,n,r),r.push(a)}function ts(e,t,n,r){n.updateBound=r,$o(e).addEventListener("resize",n.updateBound,{passive:!0});var i=go(e);return es(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function ns(){this.state.eventsEnabled||(this.state=ts(this.reference,this.options,this.state,this.scheduleUpdate))}function rs(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,$o(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function is(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function as(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&is(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var os=lo&&/Firefox/i.test(navigator.userAgent);function ss(e,t,n){var r=qo(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var us=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],cs=us.slice(3);function ls(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=cs.indexOf(e),r=cs.slice(n+1).concat(cs.slice(0,n));return t?r.reverse():r}var ds="flip",fs="clockwise",ps="counterclockwise";function hs(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(qo(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[o.slice(0,s).concat([o[s].split(u)[0]]),[o[s].split(u)[1]].concat(o.slice(s+1))]:[o];return c=c.map((function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){return Mo("%p"===o?n:r)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,r){is(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var ms={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:No({},u,a[u]),end:No({},u,a[u]+a[c]-o[c])};e.offsets.popper=Po({},o,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=r.split("-")[0],u=void 0;return u=is(+n)?[+n,0]:hs(n,a,o,s),"left"===s?(a.top+=u[0],a.left-=u[1]):"right"===s?(a.top+=u[0],a.left+=u[1]):"top"===s?(a.left+=u[0],a.top-=u[1]):"bottom"===s&&(a.left+=u[0],a.top+=u[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||xo(e.instance.popper);e.instance.reference===n&&(n=xo(n));var r=Qo("transform"),i=e.instance.popper.style,a=i.top,o=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=Zo(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=o,i[r]=s,t.boundaries=u;var c=t.priority,l=e.offsets.popper,d={primary:function(e){var n=l[e];return l[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(l[e],u[e])),No({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(l[n],u[e]-("right"===e?l.width:l.height))),No({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=Po({},l,d[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",u=o?"left":"top",c=o?"width":"height";return n[s]<a(r[u])&&(e.offsets.popper[u]=a(r[u])-n[c]),n[u]>a(r[s])&&(e.offsets.popper[u]=a(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!ss(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,o=a.popper,s=a.reference,u=-1!==["left","right"].indexOf(i),c=u?"height":"width",l=u?"Top":"Left",d=l.toLowerCase(),f=u?"left":"top",p=u?"bottom":"right",h=Ho(r)[c];s[p]-h<o[d]&&(e.offsets.popper[d]-=o[d]-(s[p]-h)),s[d]+h>o[p]&&(e.offsets.popper[d]+=s[d]+h-o[p]),e.offsets.popper=Mo(e.offsets.popper);var m=s[d]+s[c]/2-h/2,v=mo(e.instance.popper),g=parseFloat(v["margin"+l]),y=parseFloat(v["border"+l+"Width"]),b=m-e.offsets.popper[d]-g-y;return b=Math.max(Math.min(o[c]-h,b),0),e.arrowElement=r,e.offsets.arrow=(No(n={},d,Math.round(b)),No(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Xo(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=Zo(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=zo(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case ds:o=[r,i];break;case fs:o=ls(r);break;case ps:o=ls(r,!0);break;default:o=t.behavior}return o.forEach((function(s,u){if(r!==s||o.length===u+1)return e;r=e.placement.split("-")[0],i=zo(r);var c=e.offsets.popper,l=e.offsets.reference,d=Math.floor,f="left"===r&&d(c.right)>d(l.left)||"right"===r&&d(c.left)<d(l.right)||"top"===r&&d(c.bottom)>d(l.top)||"bottom"===r&&d(c.top)<d(l.bottom),p=d(c.left)<d(n.left),h=d(c.right)>d(n.right),m=d(c.top)<d(n.top),v=d(c.bottom)>d(n.bottom),g="left"===r&&p||"right"===r&&h||"top"===r&&m||"bottom"===r&&v,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===a&&p||y&&"end"===a&&h||!y&&"start"===a&&m||!y&&"end"===a&&v),w=!!t.flipVariationsByContent&&(y&&"start"===a&&h||y&&"end"===a&&p||!y&&"start"===a&&v||!y&&"end"===a&&m),k=b||w;(f||g||k)&&(e.flipped=!0,(f||g)&&(r=o[u+1]),k&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=Po({},e.offsets.popper,Go(e.instance.popper,e.offsets.reference,e.placement)),e=Ko(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0),e.placement=zo(t),e.offsets.popper=Mo(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!ss(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=qo(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,a=qo(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=xo(e.instance.popper),u=Lo(s),c={position:i.position},l=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,s=function(e){return e},u=a(i.width),c=a(r.width),l=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?l||d||u%2===c%2?a:o:s,p=t?a:s;return{left:f(u%2===1&&c%2===1&&!d&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!os),d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",p=Qo("transform"),h=void 0,m=void 0;if(m="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,h="right"===f?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,o&&p)c[p]="translate3d("+h+"px, "+m+"px, 0)",c[d]=0,c[f]=0,c.willChange="transform";else{var v="bottom"===d?-1:1,g="right"===f?-1:1;c[d]=m*v,c[f]=h*g,c.willChange=d+", "+f}var y={"x-placement":e.placement};return e.attributes=Po({},y,e.attributes),e.styles=Po({},c,e.styles),e.arrowStyles=Po({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return as(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&as(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var a=Wo(i,t,e,n.positionFixed),o=Uo(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),as(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},vs={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ms},gs=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ro(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=po(this.update.bind(this)),this.options=Po({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Po({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=Po({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return Po({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&ho(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return Io(e,[{key:"update",value:function(){return Yo.call(this)}},{key:"destroy",value:function(){return Jo.call(this)}},{key:"enableEventListeners",value:function(){return ns.call(this)}},{key:"disableEventListeners",value:function(){return rs.call(this)}}]),e}();gs.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,gs.placements=us,gs.Defaults=vs;var ys=gs;function bs(e){return"function"===typeof e?e():e}var ws="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,ks={},xs=e.forwardRef((function(t,n){var i=t.anchorEl,a=t.children,o=t.container,s=t.disablePortal,u=void 0!==s&&s,l=t.keepMounted,d=void 0!==l&&l,f=t.modifiers,h=t.open,m=t.placement,v=void 0===m?"bottom":m,g=t.popperOptions,y=void 0===g?ks:g,b=t.popperRef,w=t.style,k=t.transition,x=void 0!==k&&k,S=(0,p.Z)(t,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),E=e.useRef(null),C=(0,_.Z)(E,n),T=e.useRef(null),A=(0,_.Z)(T,b),O=e.useRef(A);ws((function(){O.current=A}),[A]),e.useImperativeHandle(b,(function(){return T.current}),[]);var R=e.useState(!0),I=R[0],N=R[1],P=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(v,(0,c.Z)()),M=e.useState(P),L=M[0],D=M[1];e.useEffect((function(){T.current&&T.current.update()}));var F=e.useCallback((function(){if(E.current&&i&&h){T.current&&(T.current.destroy(),O.current(null));var e=function(e){D(e.placement)},t=(bs(i),new ys(bs(i),E.current,(0,r.Z)({placement:P},y,{modifiers:(0,r.Z)({},u?{}:{preventOverflow:{boundariesElement:"window"}},f,y.modifiers),onCreate:(0,mn.Z)(e,y.onCreate),onUpdate:(0,mn.Z)(e,y.onUpdate)})));O.current(t)}}),[i,u,f,h,P,y]),B=e.useCallback((function(e){(0,dn.Z)(C,e),F()}),[C,F]),j=function(){T.current&&(T.current.destroy(),O.current(null))};if(e.useEffect((function(){return function(){j()}}),[]),e.useEffect((function(){h||x||j()}),[h,x]),!d&&!h&&(!x||I))return null;var Z={placement:L};return x&&(Z.TransitionProps={in:h,onEnter:function(){N(!1)},onExited:function(){N(!0),j()}}),e.createElement(hn,{disablePortal:u,container:o},e.createElement("div",(0,r.Z)({ref:B,role:"tooltip"},S,{style:(0,r.Z)({position:"fixed",top:0,left:0,display:h||!d||x?null:"none"},w)}),"function"===typeof a?a(Z):a))})),_s=xs,Ss=n(22939);function Es(e){return Math.round(1e5*e)/1e5}var Cs=!1,Ts=null;var As=e.forwardRef((function(n,i){var a=n.arrow,o=void 0!==a&&a,s=n.children,u=n.classes,c=n.disableFocusListener,l=void 0!==c&&c,d=n.disableHoverListener,f=void 0!==d&&d,m=n.disableTouchListener,v=void 0!==m&&m,g=n.enterDelay,y=void 0===g?100:g,b=n.enterNextDelay,w=void 0===b?0:b,k=n.enterTouchDelay,x=void 0===k?700:k,S=n.id,C=n.interactive,T=void 0!==C&&C,A=n.leaveDelay,O=void 0===A?0:A,R=n.leaveTouchDelay,I=void 0===R?1500:R,N=n.onClose,P=n.onOpen,M=n.open,L=n.placement,D=void 0===L?"bottom":L,F=n.PopperComponent,B=void 0===F?_s:F,j=n.PopperProps,Z=n.title,V=n.TransitionComponent,U=void 0===V?ci:V,H=n.TransitionProps,z=(0,p.Z)(n,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),q=Wn(),K=e.useState(),Y=K[0],X=K[1],Q=e.useState(null),J=Q[0],$=Q[1],ee=e.useRef(!1),te=e.useRef(),ne=e.useRef(),re=e.useRef(),ie=e.useRef(),ae=(0,Ri.Z)({controlled:M,default:!1,name:"Tooltip",state:"open"}),oe=(0,G.Z)(ae,2),se=oe[0],ue=oe[1],ce=se,le=(0,Ss.Z)(S);e.useEffect((function(){return function(){clearTimeout(te.current),clearTimeout(ne.current),clearTimeout(re.current),clearTimeout(ie.current)}}),[]);var de=function(e){clearTimeout(Ts),Cs=!0,ue(!0),P&&P(e)},fe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=s.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),ee.current&&"touchstart"!==t.type||(Y&&Y.removeAttribute("title"),clearTimeout(ne.current),clearTimeout(re.current),y||Cs&&w?(t.persist(),ne.current=setTimeout((function(){de(t)}),Cs?w:y)):de(t))}},pe=(0,E.Z)(),he=pe.isFocusVisible,me=pe.onBlurVisible,ve=pe.ref,ge=e.useState(!1),ye=ge[0],be=ge[1],we=function(){ye&&(be(!1),me())},ke=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){Y||X(t.currentTarget),he(t)&&(be(!0),fe()(t));var n=s.props;n.onFocus&&e&&n.onFocus(t)}},xe=function(e){clearTimeout(Ts),Ts=setTimeout((function(){Cs=!1}),800+O),ue(!1),N&&N(e),clearTimeout(te.current),te.current=setTimeout((function(){ee.current=!1}),q.transitions.duration.shortest)},_e=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=s.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),we()),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===Y&&n.onMouseLeave(t),clearTimeout(ne.current),clearTimeout(re.current),t.persist(),re.current=setTimeout((function(){xe(t)}),O)}},Se=function(e){ee.current=!0;var t=s.props;t.onTouchStart&&t.onTouchStart(e)},Ee=(0,_.Z)(X,i),Ce=(0,_.Z)(ve,Ee),Te=e.useCallback((function(e){(0,dn.Z)(Ce,t.findDOMNode(e))}),[Ce]),Ae=(0,_.Z)(s.ref,Te);""===Z&&(ce=!1);var Oe=!ce&&!f,Re=(0,r.Z)({"aria-describedby":ce?le:null,title:Oe&&"string"===typeof Z?Z:null},z,s.props,{className:(0,h.Z)(z.className,s.props.className),onTouchStart:Se,ref:Ae}),Ie={};v||(Re.onTouchStart=function(e){Se(e),clearTimeout(re.current),clearTimeout(te.current),clearTimeout(ie.current),e.persist(),ie.current=setTimeout((function(){fe()(e)}),x)},Re.onTouchEnd=function(e){s.props.onTouchEnd&&s.props.onTouchEnd(e),clearTimeout(ie.current),clearTimeout(re.current),e.persist(),re.current=setTimeout((function(){xe(e)}),I)}),f||(Re.onMouseOver=fe(),Re.onMouseLeave=_e(),T&&(Ie.onMouseOver=fe(!1),Ie.onMouseLeave=_e(!1))),l||(Re.onFocus=ke(),Re.onBlur=_e(),T&&(Ie.onFocus=ke(!1),Ie.onBlur=_e(!1)));var Ne=e.useMemo((function(){return(0,co.Z)({popperOptions:{modifiers:{arrow:{enabled:Boolean(J),element:J}}}},j)}),[J,j]);return e.createElement(e.Fragment,null,e.cloneElement(s,Re),e.createElement(B,(0,r.Z)({className:(0,h.Z)(u.popper,T&&u.popperInteractive,o&&u.popperArrow),placement:D,anchorEl:Y,open:!!Y&&ce,id:Re["aria-describedby"],transition:!0},Ie,Ne),(function(t){var n=t.placement,i=t.TransitionProps;return e.createElement(U,(0,r.Z)({timeout:q.transitions.duration.shorter},i,H),e.createElement("div",{className:(0,h.Z)(u.tooltip,u["tooltipPlacement".concat((0,W.Z)(n.split("-")[0]))],ee.current&&u.touch,o&&u.tooltipArrow)},Z,o?e.createElement("span",{className:u.arrow,ref:$}):null))})))})),Os=(0,i.Z)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:(0,x.Fq)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(Es(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,x.Fq)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(Es(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:(0,f.Z)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,f.Z)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,f.Z)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,f.Z)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(As);function Rs(){var t=on().room,n=(0,e.useState)(),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(t){var e=function(){a(Array.from(t.participants.values()).concat(t.localParticipant).find((function(e){return Array.from(e.tracks.values()).find((function(e){return e.trackName.includes("screen")}))})))};return e(),t.on("trackPublished",e),t.on("trackUnpublished",e),t.on("participantDisconnected",e),t.localParticipant.on("trackPublished",e),t.localParticipant.on("trackUnpublished",e),function(){t.off("trackPublished",e),t.off("trackUnpublished",e),t.off("participantDisconnected",e),t.localParticipant.off("trackPublished",e),t.localParticipant.off("trackUnpublished",e)}}}),[t]),i}var Is=k((function(e){return{button:{"&[disabled]":{color:"#bbb","& svg *":{fill:"#bbb"}}}}}));function Ns(t){var n=Is(),r=Rs(),i=on().toggleScreenShare,a=Boolean(r),o=navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia,s=t.disabled||a||!o,u="";return a&&(u="Cannot share screen when another user is sharing"),o||(u="Screen sharing is not supported with this browser"),e.createElement(Os,{title:u,placement:"top",PopperProps:{disablePortal:!0},style:{cursor:s?"not-allowed":"pointer"}},e.createElement("span",null,e.createElement(z,{className:n.button,onClick:i,disabled:s,startIcon:e.createElement(uo,null),"data-cy-share-screen":!0},"Share Screen")))}var Ps=k((function(e){return{container:(0,f.Z)({backgroundColor:e.palette.background.default,bottom:0,left:0,right:0,height:"".concat(e.footerHeight,"px"),position:"fixed",display:"flex",padding:"0 1.43em",zIndex:10},e.breakpoints.down("sm"),{height:"".concat(e.mobileFooterHeight,"px"),padding:0}),screenShareBanner:{position:"fixed",zIndex:8,bottom:"".concat(e.footerHeight,"px"),left:0,right:0,height:"104px",background:"rgba(0, 0, 0, 0.5)","& h6":{color:"white"},"& button":{background:"white",color:e.brand,border:"2px solid ".concat(e.brand),margin:"0 2em","&:hover":{color:"#600101",border:"2px solid #600101",background:"#FFE9E7"}}},hideMobile:(0,f.Z)({display:"initial"},e.breakpoints.down("sm"),{display:"none"})}}));function Ms(){var t=Ps(),n=on(),r=n.isSharingScreen,i=n.toggleScreenShare,a="reconnecting"===Ja(),o=on().room,s=Qa();return e.createElement(e.Fragment,null,r&&e.createElement(Kr,{container:!0,justifyContent:"center",alignItems:"center",className:t.screenShareBanner},e.createElement(cr,{variant:"h6"},"You are sharing your screen"),e.createElement(z,{onClick:function(){return i()}},"Stop Sharing")),e.createElement("footer",{className:t.container},e.createElement(Kr,{container:!0,justifyContent:"space-around",alignItems:"center"},e.createElement(Ca,{smDown:!0},e.createElement(Kr,{style:{flex:1}},e.createElement(cr,{variant:"body1"},o.name," | ",s.length+1," participant",s.length?"s":""))),e.createElement(Kr,{item:!0},e.createElement(Kr,{container:!0,justifyContent:"center"},e.createElement(to,{disabled:a}),e.createElement(so,{disabled:a}),!r&&!ue&&e.createElement(Ns,{disabled:a}),"true"!=={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_DISABLE_TWILIO_CONVERSATIONS&&e.createElement(io,null),e.createElement(Ca,{smDown:!0},e.createElement(Xa,null)))),e.createElement(Ca,{smDown:!0},e.createElement(Kr,{style:{flex:1}},e.createElement(Kr,{container:!0,justifyContent:"flex-end"},e.createElement(un,null)))))))}var Ls=k((function(e){return{container:(0,f.Z)({background:"white",paddingLeft:"1em",display:"none",height:"".concat(e.mobileTopBarHeight,"px")},e.breakpoints.down("sm"),{display:"flex"}),endCallButton:{height:"28px",fontSize:"0.85rem",padding:"0 0.6em"},settingsButton:(0,f.Z)({},e.breakpoints.down("sm"),{height:"28px",minWidth:"28px",border:"1px solid rgb(136, 140, 142)",padding:0,margin:"0 1em"})}}));function Ds(){var t=Ls(),n=on().room;return e.createElement(Kr,{container:!0,alignItems:"center",justifyContent:"space-between",className:t.container},e.createElement(cr,{variant:"subtitle1"},n.name),e.createElement("div",null,e.createElement(un,{className:t.endCallButton}),e.createElement(Xa,{buttonClassName:t.settingsButton})))}var Fs=44,Bs=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.color,s=void 0===o?"primary":o,u=t.disableShrink,c=void 0!==u&&u,l=t.size,d=void 0===l?40:l,f=t.style,m=t.thickness,v=void 0===m?3.6:m,g=t.value,y=void 0===g?0:g,b=t.variant,w=void 0===b?"indeterminate":b,k=(0,p.Z)(t,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),x={},_={},S={};if("determinate"===w||"static"===w){var E=2*Math.PI*((Fs-v)/2);x.strokeDasharray=E.toFixed(3),S["aria-valuenow"]=Math.round(y),x.strokeDashoffset="".concat(((100-y)/100*E).toFixed(3),"px"),_.transform="rotate(-90deg)"}return e.createElement("div",(0,r.Z)({className:(0,h.Z)(i.root,a,"inherit"!==s&&i["color".concat((0,W.Z)(s))],{determinate:i.determinate,indeterminate:i.indeterminate,static:i.static}[w]),style:(0,r.Z)({width:d,height:d},_,f),ref:n,role:"progressbar"},S,k),e.createElement("svg",{className:i.svg,viewBox:"".concat(22," ").concat(22," ").concat(Fs," ").concat(Fs)},e.createElement("circle",{className:(0,h.Z)(i.circle,c&&i.circleDisableShrink,{determinate:i.circleDeterminate,indeterminate:i.circleIndeterminate,static:i.circleStatic}[w]),style:x,cx:Fs,cy:Fs,r:(Fs-v)/2,fill:"none",strokeWidth:v})))})),js=(0,i.Z)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(Bs);function Zs(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"73",height:"73",viewBox:"0 0 73 73"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("circle",{cx:"36.5",cy:"36.5",r:"36.5",fill:"#FFF"}),e.createElement("path",{fill:"#282A2B",strokeLinejoin:"round",d:"M30.973 23.925c-3.162 3.794-3.162 9.886 0 13.68l.262.301c.266.293.548.564.842.812l.192.154v2.95l-6.71 2.397-.213.082c-2.03.834-3.346 2.793-3.346 4.97v2.766c0 .532.431.963.963.963h27.874c.531 0 .962-.431.962-.963V49.27l-.005-.228-.015-.233c-.187-2.092-1.562-3.883-3.539-4.59l-6.71-2.397v-2.95l.192-.154c.393-.33.762-.702 1.104-1.112 3.162-3.795 3.162-9.887 0-13.681-3.25-3.9-8.603-3.9-11.853 0zm10.374 1.232c2.567 3.08 2.567 8.135 0 11.216-.404.484-.85.894-1.328 1.226-.26.18-.414.476-.414.791v4.111c0 .407.255.77.639.907l7.348 2.625c1.314.47 2.213 1.687 2.278 3.077l.004.183v1.781h-25.95l.002-1.804c0-1.394.843-2.65 2.131-3.18l.172-.065 7.327-2.617c.383-.137.639-.5.639-.907v-4.11c0-.316-.155-.612-.415-.792-.478-.332-.924-.742-1.328-1.226-2.567-3.08-2.567-8.135 0-11.216 2.427-2.912 6.248-2.974 8.735-.186l.16.186z"})))}function Vs(){var t=on().localTracks.find((function(e){return"audio"===e.kind}));return e.createElement(Ur,{audioTrack:t})}var Us=k((function(e){return{container:{position:"relative",height:0,overflow:"hidden",paddingTop:"".concat(56.25,"%"),background:"black"},innerContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},identityContainer:{position:"absolute",bottom:0,zIndex:1},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.18em 0.3em",margin:0,display:"flex",alignItems:"center"},avatarContainer:(0,f.Z)({display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1},e.breakpoints.down("sm"),{"& svg":{transform:"scale(0.7)"}})}}));function Ws(t){var n=t.identity,r=Us(),i=on().localTracks.find((function(e){return!e.name.includes("screen")&&"video"===e.kind}));return e.createElement("div",{className:r.container},e.createElement("div",{className:r.innerContainer},i?e.createElement(Aa,{track:i,isLocal:!0}):e.createElement("div",{className:r.avatarContainer},e.createElement(Zs,null))),e.createElement("div",{className:r.identityContainer},e.createElement("span",{className:r.identity},e.createElement(Vs,null),e.createElement(cr,{variant:"body1",color:"inherit",component:"span"},n))))}var Hs=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=(t.color,t.component),u=void 0===s?"label":s,c=(t.disabled,t.error,t.filled,t.focused,t.required,(0,p.Z)(t,["children","classes","className","color","component","disabled","error","filled","focused","required"])),l=Mi({props:t,muiFormControl:Li(),states:["color","required","focused","disabled","error","filled"]});return e.createElement(u,(0,r.Z)({className:(0,h.Z)(a.root,a["color".concat((0,W.Z)(l.color||"primary"))],o,l.disabled&&a.disabled,l.error&&a.error,l.filled&&a.filled,l.focused&&a.focused,l.required&&a.required),ref:n},c),i,l.required&&e.createElement("span",{"aria-hidden":!0,className:(0,h.Z)(a.asterisk,l.error&&a.error)},"\u2009","*"))})),zs=(0,i.Z)((function(e){return{root:(0,r.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(Hs),Gs=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.disableAnimation,s=void 0!==o&&o,u=(t.margin,t.shrink),c=(t.variant,(0,p.Z)(t,["classes","className","disableAnimation","margin","shrink","variant"])),l=Li(),d=u;"undefined"===typeof d&&l&&(d=l.filled||l.focused||l.adornedStart);var f=Mi({props:t,muiFormControl:l,states:["margin","variant"]});return e.createElement(zs,(0,r.Z)({"data-shrink":d,className:(0,h.Z)(i.root,a,l&&i.formControl,!s&&i.animated,d&&i.shrink,"dense"===f.margin&&i.marginDense,{filled:i.filled,outlined:i.outlined}[f.variant]),classes:{focused:i.focused,disabled:i.disabled,error:i.error,required:i.required,asterisk:i.asterisk},ref:n},c))})),qs=(0,i.Z)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(Gs),Ks=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.component,u=void 0===s?"p":s,c=(t.disabled,t.error,t.filled,t.focused,t.margin,t.required,t.variant,(0,p.Z)(t,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),l=Mi({props:t,muiFormControl:Li(),states:["variant","margin","disabled","error","filled","focused","required"]});return e.createElement(u,(0,r.Z)({className:(0,h.Z)(a.root,("filled"===l.variant||"outlined"===l.variant)&&a.contained,o,l.disabled&&a.disabled,l.error&&a.error,l.filled&&a.filled,l.focused&&a.focused,l.required&&a.required,"dense"===l.margin&&a.marginDense),ref:n},c)," "===i?e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):i)})),Ys=(0,i.Z)((function(e){return{root:(0,r.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(Ks),Xs={standard:qi,filled:ea,outlined:ia},Qs=e.forwardRef((function(t,n){var i=t.autoComplete,a=t.autoFocus,o=void 0!==a&&a,s=t.children,u=t.classes,c=t.className,l=t.color,d=void 0===l?"primary":l,f=t.defaultValue,m=t.disabled,v=void 0!==m&&m,g=t.error,y=void 0!==g&&g,b=t.FormHelperTextProps,w=t.fullWidth,k=void 0!==w&&w,x=t.helperText,_=t.hiddenLabel,S=t.id,E=t.InputLabelProps,C=t.inputProps,T=t.InputProps,A=t.inputRef,O=t.label,R=t.multiline,I=void 0!==R&&R,N=t.name,P=t.onBlur,M=t.onChange,L=t.onFocus,D=t.placeholder,F=t.required,B=void 0!==F&&F,j=t.rows,Z=t.rowsMax,V=t.maxRows,U=t.minRows,W=t.select,H=void 0!==W&&W,z=t.SelectProps,G=t.type,q=t.value,K=t.variant,Y=void 0===K?"standard":K,X=(0,p.Z)(t,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var Q={};if("outlined"===Y&&(E&&"undefined"!==typeof E.shrink&&(Q.notched=E.shrink),O)){var J,$=null!==(J=null===E||void 0===E?void 0:E.required)&&void 0!==J?J:B;Q.label=e.createElement(e.Fragment,null,O,$&&"\xa0*")}H&&(z&&z.native||(Q.id=void 0),Q["aria-describedby"]=void 0);var ee=x&&S?"".concat(S,"-helper-text"):void 0,te=O&&S?"".concat(S,"-label"):void 0,ne=Xs[Y],re=e.createElement(ne,(0,r.Z)({"aria-describedby":ee,autoComplete:i,autoFocus:o,defaultValue:f,fullWidth:k,multiline:I,name:N,rows:j,rowsMax:Z,maxRows:V,minRows:U,type:G,value:q,id:S,inputRef:A,onBlur:P,onChange:M,onFocus:L,placeholder:D,inputProps:C},Q,T));return e.createElement(ti,(0,r.Z)({className:(0,h.Z)(u.root,c),disabled:v,error:y,fullWidth:k,hiddenLabel:_,ref:n,required:B,color:d,variant:Y},X),O&&e.createElement(qs,(0,r.Z)({htmlFor:S,id:te},E),O),H?e.createElement(ca,(0,r.Z)({"aria-describedby":ee,id:S,labelId:te,value:q,input:re},z),s):re,x&&e.createElement(Ys,(0,r.Z)({id:ee},b),x))})),Js=(0,i.Z)({root:{}},{name:"MuiTextField"})(Qs),$s=k((function(e){var t;return{container:(t={width:"600px",minHeight:"400px"},(0,f.Z)(t,e.breakpoints.down("xs"),{width:"calc(100vw - 32px)"}),(0,f.Z)(t,"& .inputSelect",{width:"calc(100% - 35px)"}),t),button:{float:"right"},paper:(0,f.Z)({},e.breakpoints.down("xs"),{margin:"16px"}),formControl:{display:"block",margin:"1.5em 0","&:first-child":{margin:"0 0 1.5em 0"}},label:{width:"133%"}}})),eu=function(e){return"undefined"===typeof e?"default":e};function tu(t){var n=t.open,r=t.onClose,i=$s(),a=Ot(),o=a.settings,s=a.dispatchSetting,u="disconnected"!==Ja(),c=(0,e.useCallback)((function(e){s({name:e.target.name,value:e.target.value})}),[s]),l=(0,e.useCallback)((function(e){/[^\d]/.test(e.target.value)||c(e)}),[c]);return e.createElement(nr,{open:n,onClose:r,classes:{paper:i.paper}},e.createElement(pr,null,"Connection Settings"),e.createElement(mr,null),e.createElement(or,{className:i.container},e.createElement(Kr,{container:!0,spacing:2},e.createElement(Kr,{item:!0,xs:12},e.createElement(cr,{hidden:!u,variant:"body2"},"These settings cannot be changed when connected to a room.")),e.createElement(Kr,{item:!0,sm:6,xs:12},e.createElement(ti,{className:i.formControl},e.createElement(qs,{id:J.dominantSpeakerPriority},"Dominant Speaker Priority:"),e.createElement(ca,{fullWidth:!0,disabled:u,name:J.dominantSpeakerPriority,label:J.dominantSpeakerPriority,value:eu(o.dominantSpeakerPriority),onChange:c},e.createElement(ha,{value:"low"},"Low"),e.createElement(ha,{value:"standard"},"Standard"),e.createElement(ha,{value:"high"},"High"),e.createElement(ha,{value:"default"},"Server Default"))),e.createElement(ti,{className:i.formControl},e.createElement(qs,{id:J.trackSwitchOffMode},"Track Switch Off Mode:"),e.createElement(ca,{fullWidth:!0,disabled:u,name:J.trackSwitchOffMode,label:J.trackSwitchOffMode,value:eu(o.trackSwitchOffMode),onChange:c},e.createElement(ha,{value:"predicted"},"Predicted"),e.createElement(ha,{value:"detected"},"Detected"),e.createElement(ha,{value:"disabled"},"Disabled"),e.createElement(ha,{value:"default"},"Server Default"))),e.createElement(ti,{className:i.formControl},e.createElement(qs,{id:J.bandwidthProfileMode},"Mode:"),e.createElement(ca,{fullWidth:!0,disabled:u,name:J.bandwidthProfileMode,label:J.bandwidthProfileMode,value:eu(o.bandwidthProfileMode),onChange:c},e.createElement(ha,{value:"grid"},"Grid"),e.createElement(ha,{value:"collaboration"},"Collaboration"),e.createElement(ha,{value:"presentation"},"Presentation"),e.createElement(ha,{value:"default"},"Server Default")))),e.createElement(Kr,{item:!0,sm:6,xs:12},e.createElement(ti,{className:i.formControl},e.createElement(qs,{id:J.clientTrackSwitchOffControl},"Client Track Switch Off Control:"),e.createElement(ca,{fullWidth:!0,disabled:u,name:J.clientTrackSwitchOffControl,label:J.clientTrackSwitchOffControl,value:eu(o.clientTrackSwitchOffControl),onChange:c},e.createElement(ha,{value:"auto"},"Auto"),e.createElement(ha,{value:"manual"},"Manual"),e.createElement(ha,{value:"default"},"Default"))),e.createElement(ti,{className:i.formControl},e.createElement(qs,{id:J.contentPreferencesMode},"Content Preferences Mode:"),e.createElement(ca,{fullWidth:!0,disabled:u,name:J.contentPreferencesMode,label:J.contentPreferencesMode,value:eu(o.contentPreferencesMode),onChange:c},e.createElement(ha,{value:"auto"},"Auto"),e.createElement(ha,{value:"manual"},"Manual"),e.createElement(ha,{value:"default"},"Default"))),e.createElement(ti,{className:i.formControl},e.createElement(Js,{disabled:u,fullWidth:!0,id:J.maxAudioBitrate,label:"Max Audio Bitrate",placeholder:"Leave blank for no limit",name:J.maxAudioBitrate,value:eu(o.maxAudioBitrate),onChange:l}))))),e.createElement(mr,null),e.createElement(ir,null,e.createElement(z,{className:i.button,color:"primary",variant:"contained",onClick:r},"Done")))}var nu=k({settingsButton:{margin:"1.8em 0 0"}});function ru(t){var n=t.mobileButtonClass,r=nu(),i=Ot().roomType,a=ya((function(e){return e.breakpoints.down("sm")})),o=(0,e.useState)(!1),s=(0,G.Z)(o,2),u=s[0],c=s[1],l=(0,e.useState)(!1),d=(0,G.Z)(l,2),f=d[0],p=d[1],h=(0,e.useState)(!1),m=(0,G.Z)(h,2),v=m[0],g=m[1],y=(0,e.useState)(!1),b=(0,G.Z)(y,2),w=b[0],k=b[1],x=(0,e.useRef)(null);return e.createElement(e.Fragment,null,a?e.createElement(z,{ref:x,onClick:function(){return c(!0)},startIcon:e.createElement(Ba.Z,null),className:n},"More"):e.createElement(z,{ref:x,onClick:function(){return c(!0)},startIcon:e.createElement(Ua,null),className:r.settingsButton},"Settings"),e.createElement(Oi,{open:u,onClose:function(){return c((function(e){return!e}))},anchorEl:x.current,getContentAnchorEl:null,anchorOrigin:{vertical:"top",horizontal:a?"left":"right"},transformOrigin:{vertical:0,horizontal:"center"}},e.createElement(ha,{onClick:function(){return p(!0)}},e.createElement(cr,{variant:"body1"},"About")),e.createElement(ha,{onClick:function(){return g(!0)}},e.createElement(cr,{variant:"body1"},"Audio and Video Settings")),"peer-to-peer"!==i&&"go"!==i&&e.createElement(ha,{onClick:function(){return k(!0)}},e.createElement(cr,{variant:"body1"},"Connection Settings"))),e.createElement(vr,{open:f,onClose:function(){p(!1),c(!1)}}),e.createElement(Ma,{open:v,onClose:function(){g(!1),c(!1)}}),e.createElement(tu,{open:w,onClose:function(){k(!1),c(!1)}}))}var iu=k((function(e){return{gutterBottom:{marginBottom:"1em"},marginTop:{marginTop:"1em"},deviceButton:{width:"100%",border:"2px solid #aaa",margin:"1em 0"},localPreviewContainer:(0,f.Z)({paddingRight:"2em"},e.breakpoints.down("sm"),{padding:"0 2.5em"}),joinButtons:(0,f.Z)({display:"flex",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column-reverse",width:"100%","& button":{margin:"0.5em 0"}}),mobileButtonBar:(0,f.Z)({},e.breakpoints.down("sm"),{display:"flex",justifyContent:"space-between",margin:"1.5em 0 1em"}),mobileButton:{padding:"0.8em 0",margin:0}}}));function au(t){t.userId,t.bookingId;var n=t.name,r=t.roomName,i=t.setStep,a=iu(),o=Ot(),s=(o.getToken,o.getBooking,o.isFetching),u=(o.setError,Ga().connect,on()),c=(u.connect,u.isAcquiringLocalTracks),l=u.isConnecting,d=s||c||l;return s||l?e.createElement(Kr,{container:!0,justifyContent:"center",alignItems:"center",direction:"column",style:{height:"100%"}},e.createElement("div",null,e.createElement(js,{variant:"indeterminate"})),e.createElement("div",null,e.createElement(cr,{variant:"body2",style:{fontWeight:"bold",fontSize:"16px"}},"Joining Meeting"))):e.createElement(e.Fragment,null,e.createElement(cr,{variant:"h5",className:a.gutterBottom},"Join ",r),e.createElement(Kr,{container:!0,justifyContent:"center"},e.createElement(Kr,{item:!0,md:7,sm:12,xs:12},e.createElement("div",{className:a.localPreviewContainer},e.createElement(Ws,{identity:n})),e.createElement("div",{className:a.mobileButtonBar},e.createElement(Ca,{mdUp:!0},e.createElement(to,{className:a.mobileButton,disabled:d}),e.createElement(so,{className:a.mobileButton,disabled:d})),e.createElement(ru,{mobileButtonClass:a.mobileButton}))),e.createElement(Kr,{item:!0,md:5,sm:12,xs:12},e.createElement(Kr,{container:!0,direction:"column",justifyContent:"space-between",style:{height:"100%"}},e.createElement("div",null,e.createElement(Ca,{smDown:!0},e.createElement(to,{className:a.deviceButton,disabled:d}),e.createElement(so,{className:a.deviceButton,disabled:d}))),e.createElement("div",{className:a.joinButtons},e.createElement(z,{variant:"outlined",color:"primary",onClick:function(){return i(Lu.roomNameStep)}},"Cancel"),e.createElement(z,{variant:"contained",color:"primary","data-cy-join-now":!0,onClick:function(){window.location.search.includes("partnerIdentity=true")},disabled:d},"Join Now"))))))}function ou(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"96",height:"96",viewBox:"0 0 96 96"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("path",{fill:"#FFF",d:"M43.86 0h8.28c11.661 0 18.564 1.74 24.675 5.01 6.112 3.267 10.908 8.063 14.175 14.175C94.26 25.295 96 32.197 96 43.86v8.28c0 11.661-1.74 18.564-5.01 24.675-3.267 6.112-8.063 10.908-14.175 14.175C70.704 94.26 63.801 96 52.14 96h-8.28c-11.661 0-18.564-1.74-24.675-5.01-6.112-3.267-10.908-8.063-14.175-14.175C1.74 70.705 0 63.803 0 52.14v-8.28c0-11.661 1.74-18.564 5.01-24.675C8.277 13.073 13.073 8.277 19.185 5.01 25.295 1.74 32.197 0 43.86 0z"}),e.createElement("path",{fill:"#F22F46",d:"M53.25 63h-25.5C25.679 63 24 61.321 24 59.25v-22.5c0-2.071 1.679-3.75 3.75-3.75h25.5c2.071 0 3.75 1.679 3.75 3.75v5.82l9.57-4.785c1.164-.583 2.546-.521 3.653.164 1.107.685 1.78 1.894 1.777 3.196V54.87c.008 1.3-.66 2.512-1.766 3.198-1.105.686-2.487.747-3.65.162L57 53.49v5.76C57 61.321 55.32 63 53.25 63zm-25.5-27c-.414 0-.75.336-.75.75v22.5c0 .414.336.75.75.75h25.5c.414 0 .75-.336.75-.75v-8.175c-.001-.518.266-1 .705-1.275.44-.275.99-.303 1.455-.075L67.92 55.5c.224.123.496.123.72 0 .22-.141.356-.383.36-.645v-13.71c-.004-.262-.14-.504-.36-.645-.224-.123-.496-.123-.72 0l-11.745 5.865c-.47.236-1.028.21-1.473-.069-.445-.28-.711-.77-.702-1.296v-8.25c0-.414-.336-.75-.75-.75h-25.5z"})))}function su(t){return e.createElement("svg",(0,r.Z)({fill:"#F22F46",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},t),e.createElement("path",{d:"M15 0C6.7 0 0 6.7 0 15s6.7 15 15 15 15-6.7 15-15S23.3 0 15 0zm0 26C8.9 26 4 21.1 4 15S8.9 4 15 4s11 4.9 11 11-4.9 11-11 11zm6.8-14.7c0 1.7-1.4 3.1-3.1 3.1s-3.1-1.4-3.1-3.1 1.4-3.1 3.1-3.1 3.1 1.4 3.1 3.1zm0 7.4c0 1.7-1.4 3.1-3.1 3.1s-3.1-1.4-3.1-3.1c0-1.7 1.4-3.1 3.1-3.1s3.1 1.4 3.1 3.1zm-7.4 0c0 1.7-1.4 3.1-3.1 3.1s-3.1-1.4-3.1-3.1c0-1.7 1.4-3.1 3.1-3.1s3.1 1.4 3.1 3.1zm0-7.4c0 1.7-1.4 3.1-3.1 3.1S8.2 13 8.2 11.3s1.4-3.1 3.1-3.1 3.1 1.4 3.1 3.1z"}))}var uu=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.color,s=void 0===o?"primary":o,u=t.component,c=void 0===u?"a":u,l=t.onBlur,d=t.onFocus,f=t.TypographyClasses,m=t.underline,v=void 0===m?"hover":m,g=t.variant,y=void 0===g?"inherit":g,b=(0,p.Z)(t,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),w=(0,E.Z)(),k=w.isFocusVisible,x=w.onBlurVisible,S=w.ref,C=e.useState(!1),T=C[0],A=C[1],O=(0,_.Z)(n,S);return e.createElement(cr,(0,r.Z)({className:(0,h.Z)(i.root,i["underline".concat((0,W.Z)(v))],a,T&&i.focusVisible,"button"===c&&i.button),classes:f,color:s,component:c,onBlur:function(e){T&&(x(),A(!1)),l&&l(e)},onFocus:function(e){k(e)&&A(!0),d&&d(e)},ref:O,variant:y},b))})),cu=(0,i.Z)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(uu),lu=(0,Di.Z)(e.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var du=e.forwardRef((function(t,n){var i=t.alt,a=t.children,o=t.classes,s=t.className,u=t.component,c=void 0===u?"div":u,l=t.imgProps,d=t.sizes,f=t.src,m=t.srcSet,v=t.variant,g=void 0===v?"circular":v,y=(0,p.Z)(t,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),b=null,w=function(t){var n=t.src,r=t.srcSet,i=e.useState(!1),a=i[0],o=i[1];return e.useEffect((function(){if(n||r){o(!1);var e=!0,t=new Image;return t.src=n,t.srcSet=r,t.onload=function(){e&&o("loaded")},t.onerror=function(){e&&o("error")},function(){e=!1}}}),[n,r]),a}({src:f,srcSet:m}),k=f||m,x=k&&"error"!==w;return b=x?e.createElement("img",(0,r.Z)({alt:i,src:f,srcSet:m,sizes:d,className:o.img},l)):null!=a?a:k&&i?i[0]:e.createElement(lu,{className:o.fallback}),e.createElement(c,(0,r.Z)({className:(0,h.Z)(o.root,o.system,o[g],s,!x&&o.colorDefault),ref:n},y),b)})),fu=(0,i.Z)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(du),pu=n(3036),hu=(0,g.Z)({red:{color:"white",backgroundColor:"#F22F46"}});function mu(t){var n=t.user,r=hu(),i=n,a=i.displayName,o=i.photoURL;return o?e.createElement(fu,{src:o}):e.createElement(fu,{className:r.red},a?a.split(" ").map((function(e){return e[0]})).join("").toUpperCase():e.createElement(pu.Z,null))}var vu=k({userContainer:{position:"absolute",top:0,right:0,margin:"1em",display:"flex",alignItems:"center"},userButton:{color:"white"},logoutLink:{color:"white",cursor:"pointer",padding:"10px 20px"}}),gu=function(){var t=vu(),n=Ot(),r=n.user,i=n.signOut,a=on().localTracks,o=(0,e.useState)(!1),s=(0,G.Z)(o,2),u=s[0],c=s[1],l=(0,e.useRef)(null),d=(0,e.useCallback)((function(){a.forEach((function(e){return e.stop()})),null===i||void 0===i||i()}),[a,i]);return"passcode"==={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH?e.createElement("div",{className:t.userContainer},e.createElement(cu,{onClick:d,className:t.logoutLink},"Logout")):"firebase"==={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH?e.createElement("div",{className:t.userContainer},e.createElement(mu,{user:r}),e.createElement(z,{onClick:function(){return c((function(e){return!e}))},ref:l,className:t.userButton},r.displayName,e.createElement(La.Z,null)),e.createElement(Oi,{open:u,onClose:function(){return c((function(e){return!e}))},anchorEl:l.current,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e.createElement(ha,{onClick:d},e.createElement(cr,{variant:"body1"},"Logout")))):null},yu=k((function(e){return{background:{display:"flex",alignItems:"center",justifyContent:"center",background:"rgb(40, 42, 43)",height:"100%"},container:{position:"relative",flex:"1"},innerContainer:(0,f.Z)({display:"flex",width:"888px",height:"379px",borderRadius:"8px",boxShadow:"0px 2px 4px 0px rgba(40, 42, 43, 0.3)",overflow:"hidden",position:"relative",margin:"auto"},e.breakpoints.down("sm"),{display:"block",height:"auto",width:"calc(100% - 40px)",margin:"auto",maxWidth:"400px"}),swooshContainer:(0,f.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='296' height='378' viewBox='0 0 296 378'%3E%3Cdefs%3E%3ClinearGradient id='utbttnlrpc' x1='78.976%25' x2='63.882%25' y1='60.873%25' y2='45.554%25'%3E%3Cstop offset='0%25' stop-opacity='0'/%3E%3Cstop offset='100%25'/%3E%3C/linearGradient%3E%3ClinearGradient id='aim8r3oczd' x1='78.976%25' x2='63.882%25' y1='56.106%25' y2='47.503%25'%3E%3Cstop offset='0%25' stop-opacity='0'/%3E%3Cstop offset='100%25'/%3E%3C/linearGradient%3E%3Cpath id='5tk4i6f80a' d='M0 0H296V378H0z'/%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cmask id='m1ihwluuxb' fill='%23fff'%3E%3Cuse xlink:href='%235tk4i6f80a'/%3E%3C/mask%3E%3Cuse fill='%23DE5858' xlink:href='%235tk4i6f80a'/%3E%3Cg mask='url(%23m1ihwluuxb)'%3E%3Cg%3E%3Cpath fill='url(%23utbttnlrpc)' d='M0 286.83c87.695-83.937 175.802-132.682 264.323-146.233 132.78-20.328 183.24 4.255 225.143-23.414 73.409-48.471 93.039-15.154 148.326-20.892 44.84-4.654 98.48-77.401 135.81-91.717C795.596-3.86 821.469.801 851.22 18.56L891 476.5H0V286.83z' opacity='.06' transform='translate(-457 -22.5)'/%3E%3Cpath fill='url(%23aim8r3oczd)' d='M137 604.5c63.759-109.686 155.8-165.124 276.126-166.315 180.488-1.786 157.888-146.686 387.11-146.33 229.223.356 170.665-151.786 341.36-166.888 113.797-10.068 180.265 10.685 199.404 62.26V604.5H137z' opacity='.08' transform='translate(-457 -22.5)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");",backgroundSize:"cover",width:"296px"},e.breakpoints.down("sm"),{width:"100%",height:"100px",backgroundPositionY:"140px"}),logoContainer:(0,f.Z)({position:"absolute",width:"210px",textAlign:"center"},e.breakpoints.down("sm"),{display:"flex",alignItems:"center",width:"90%",textAlign:"initial","& svg":{height:"64px"}}),twilioLogo:{position:"absolute",top:0,left:0,margin:"20px"},content:(0,f.Z)({background:"white",width:"100%",padding:"4em",flex:1},e.breakpoints.down("sm"),{padding:"2em"}),title:(0,f.Z)({color:"white",margin:"1em 0 0"},e.breakpoints.down("sm"),{margin:0,fontSize:"1.1rem"})}})),bu=function(t){var n=yu(),r=Ot().user,i=xt();return e.createElement("div",{className:n.background},e.createElement(su,{className:n.twilioLogo}),r&&"/login"!==i.pathname&&e.createElement(gu,null),e.createElement("div",{className:n.container},e.createElement("div",{className:n.innerContainer},e.createElement("div",{className:n.swooshContainer},e.createElement("div",{className:n.logoContainer},e.createElement(ou,null),e.createElement(cr,{variant:"h6",className:n.title},"Twilio Programmable Video"))),e.createElement("div",{className:n.content},t.children))))},wu=n(30014);function ku(){return e.createElement("svg",{width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},e.createElement("g",{transform:"translate(-299.000000, -723.000000)",fill:"#D61F1F"},e.createElement("g",{transform:"translate(276.000000, 704.000000)"},e.createElement("g",{transform:"translate(23.000000, 19.000000)"},e.createElement("path",{d:"M8.03935839,0.763849674 L13.2361503,5.96064161 C13.8101721,6.5346634 13.8101721,7.4653366 13.2361503,8.03935839 L8.03935839,13.2361503 C7.4653366,13.8101721 6.5346634,13.8101721 5.96064161,13.2361503 L0.763849674,8.03935839 C0.189827887,7.4653366 0.189827887,6.5346634 0.763849674,5.96064161 L5.96064161,0.763849674 C6.5346634,0.189827887 7.4653366,0.189827887 8.03935839,0.763849674 Z M7,8.66666667 C6.53976271,8.66666667 6.16666667,9.03976271 6.16666667,9.5 C6.16666667,9.96023729 6.53976271,10.3333333 7,10.3333333 C7.46023729,10.3333333 7.83333333,9.96023729 7.83333333,9.5 C7.83333333,9.03976271 7.46023729,8.66666667 7,8.66666667 Z M7.00842529,4.5 L6.99145559,4.5 C6.48802096,4.5 6.09771771,4.99363437 6.17690967,5.53663218 L6.53327351,7.40140326 C6.56721292,7.64822044 6.76519283,7.83333333 6.99711216,7.83333333 L7.00276873,7.83333333 C7.23468805,7.83333333 7.43266796,7.64822044 7.46660737,7.40140326 L7.82297121,5.53663218 C7.90216317,4.99363437 7.51751649,4.50617043 7.00842529,4.5 Z",id:"Error"}))))))}var xu=e.forwardRef((function(t,n){var i=t.edge,a=void 0!==i&&i,o=t.children,s=t.classes,u=t.className,c=t.color,l=void 0===c?"default":c,d=t.disabled,f=void 0!==d&&d,m=t.disableFocusRipple,v=void 0!==m&&m,g=t.size,y=void 0===g?"medium":g,b=(0,p.Z)(t,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return e.createElement(U,(0,r.Z)({className:(0,h.Z)(s.root,u,"default"!==l&&s["color".concat((0,W.Z)(l))],f&&s.disabled,"small"===y&&s["size".concat((0,W.Z)(y))],{start:s.edgeStart,end:s.edgeEnd}[a]),centerRipple:!0,focusRipple:!v,disabled:f,ref:n},b),e.createElement("span",{className:s.label},o))})),_u=(0,i.Z)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,x.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,x.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,x.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(xu);function Su(e){return e.substring(2).toLowerCase()}var Eu=function(n){var r=n.children,i=n.disableReactTree,a=void 0!==i&&i,o=n.mouseEvent,s=void 0===o?"onClick":o,u=n.onClickAway,c=n.touchEvent,l=void 0===c?"onTouchEnd":c,d=e.useRef(!1),f=e.useRef(null),p=e.useRef(!1),h=e.useRef(!1);e.useEffect((function(){return setTimeout((function(){p.current=!0}),0),function(){p.current=!1}}),[]);var m=e.useCallback((function(e){f.current=t.findDOMNode(e)}),[]),v=(0,_.Z)(r.ref,m),g=(0,S.Z)((function(e){var t=h.current;if(h.current=!1,p.current&&f.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(d.current)d.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(f.current)>-1;else n=!(0,ln.Z)(f.current).documentElement.contains(e.target)||f.current.contains(e.target);n||!a&&t||u(e)}})),y=function(e){return function(t){h.current=!0;var n=r.props[e];n&&n(t)}},b={ref:v};return!1!==l&&(b[l]=y(l)),e.useEffect((function(){if(!1!==l){var e=Su(l),t=(0,ln.Z)(f.current),n=function(){d.current=!0};return t.addEventListener(e,g),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,g),t.removeEventListener("touchmove",n)}}}),[g,l]),!1!==s&&(b[s]=y(s)),e.useEffect((function(){if(!1!==s){var e=Su(s),t=(0,ln.Z)(f.current);return t.addEventListener(e,g),function(){t.removeEventListener(e,g)}}}),[g,s]),e.createElement(e.Fragment,null,e.cloneElement(r,b))},Cu=e.forwardRef((function(t,n){var i=t.action,a=t.classes,o=t.className,s=t.message,u=t.role,c=void 0===u?"alert":u,l=(0,p.Z)(t,["action","classes","className","message","role"]);return e.createElement($n,(0,r.Z)({role:c,square:!0,elevation:6,className:(0,h.Z)(a.root,o),ref:n},l),e.createElement("div",{className:a.message},s),i?e.createElement("div",{className:a.action},i):null)})),Tu=(0,i.Z)((function(e){var t="light"===e.palette.type?.8:.98,n=(0,x._4)(e.palette.background.default,t);return{root:(0,r.Z)({},e.typography.body2,(0,f.Z)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(Cu),Au=e.forwardRef((function(t,n){var i=t.action,a=t.anchorOrigin,o=(a=void 0===a?{vertical:"bottom",horizontal:"center"}:a).vertical,s=a.horizontal,u=t.autoHideDuration,c=void 0===u?null:u,l=t.children,d=t.classes,f=t.className,m=t.ClickAwayListenerProps,v=t.ContentProps,g=t.disableWindowBlurListener,y=void 0!==g&&g,b=t.message,w=t.onClose,k=t.onEnter,x=t.onEntered,_=t.onEntering,E=t.onExit,C=t.onExited,T=t.onExiting,A=t.onMouseEnter,O=t.onMouseLeave,R=t.open,I=t.resumeHideDuration,N=t.TransitionComponent,P=void 0===N?ci:N,M=t.transitionDuration,L=void 0===M?{enter:Un.x9.enteringScreen,exit:Un.x9.leavingScreen}:M,D=t.TransitionProps,F=(0,p.Z)(t,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),B=e.useRef(),j=e.useState(!0),Z=j[0],V=j[1],U=(0,S.Z)((function(){w&&w.apply(void 0,arguments)})),H=(0,S.Z)((function(e){w&&null!=e&&(clearTimeout(B.current),B.current=setTimeout((function(){U(null,"timeout")}),e))}));e.useEffect((function(){return R&&H(c),function(){clearTimeout(B.current)}}),[R,c,H]);var z=function(){clearTimeout(B.current)},G=e.useCallback((function(){null!=c&&H(null!=I?I:.5*c)}),[c,I,H]);return e.useEffect((function(){if(!y&&R)return window.addEventListener("focus",G),window.addEventListener("blur",z),function(){window.removeEventListener("focus",G),window.removeEventListener("blur",z)}}),[y,G,R]),!R&&Z?null:e.createElement(Eu,(0,r.Z)({onClickAway:function(e){w&&w(e,"clickaway")}},m),e.createElement("div",(0,r.Z)({className:(0,h.Z)(d.root,d["anchorOrigin".concat((0,W.Z)(o)).concat((0,W.Z)(s))],f),onMouseEnter:function(e){A&&A(e),z()},onMouseLeave:function(e){O&&O(e),G()},ref:n},F),e.createElement(P,(0,r.Z)({appear:!0,in:R,onEnter:(0,mn.Z)((function(){V(!1)}),k),onEntered:x,onEntering:_,onExit:E,onExited:(0,mn.Z)((function(){V(!0)}),C),onExiting:T,timeout:L,direction:"top"===o?"down":"up"},D),l||e.createElement(Tu,(0,r.Z)({message:b,action:i},v)))))})),Ou=(0,i.Z)((function(e){var t={top:8},n={bottom:8},i={justifyContent:"flex-end"},a={justifyContent:"flex-start"},o={top:24},s={bottom:24},u={right:24},c={left:24},l={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,r.Z)({},t,(0,f.Z)({},e.breakpoints.up("sm"),(0,r.Z)({},o,l))),anchorOriginBottomCenter:(0,r.Z)({},n,(0,f.Z)({},e.breakpoints.up("sm"),(0,r.Z)({},s,l))),anchorOriginTopRight:(0,r.Z)({},t,i,(0,f.Z)({},e.breakpoints.up("sm"),(0,r.Z)({left:"auto"},o,u))),anchorOriginBottomRight:(0,r.Z)({},n,i,(0,f.Z)({},e.breakpoints.up("sm"),(0,r.Z)({left:"auto"},s,u))),anchorOriginTopLeft:(0,r.Z)({},t,a,(0,f.Z)({},e.breakpoints.up("sm"),(0,r.Z)({right:"auto"},o,c))),anchorOriginBottomLeft:(0,r.Z)({},n,a,(0,f.Z)({},e.breakpoints.up("sm"),(0,r.Z)({right:"auto"},s,c)))}}),{flip:!1,name:"MuiSnackbar"})(Au);function Ru(){return e.createElement("svg",{width:"16px",height:"14px",viewBox:"0 0 16 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},e.createElement("g",{transform:"translate(-273.000000, -162.000000)",fill:"#E46216"},e.createElement("g",{transform:"translate(251.000000, 143.000000)"},e.createElement("g",{transform:"translate(22.000000, 19.000000)"},e.createElement("path",{d:"M6.68405227,0.743750848 C7.26590697,-0.247916949 8.73410873,-0.247916949 9.31596344,0.743750848 L9.31596344,0.743750848 L15.7980583,11.7915293 C16.3754418,12.775573 15.6458879,14 14.4821027,14 L14.4821027,14 L1.5178827,14 C0.354135396,14 -0.375441293,12.775573 0.201934693,11.7915293 L0.201934693,11.7915293 Z M8,10 C7.44771525,10 7,10.4477153 7,11 C7,11.5522847 7.44771525,12 8,12 C8.55228475,12 9,11.5522847 9,11 C9,10.4477153 8.55228475,10 8,10 Z M8.01011035,5 L7.98974671,5 L7.87816923,5.00681158 C7.32928042,5.07427655 6.92320065,5.63308608 7.01229161,6.24395862 L7.01229161,6.24395862 L7.43992821,8.48168391 L7.46058982,8.57746523 C7.53403676,8.82448556 7.74990819,9 8.00332247,9 L8.00332247,9 L8.09436762,8.9919759 C8.33199007,8.94972242 8.5237268,8.74495557 8.55992884,8.48168391 L8.55992884,8.48168391 L8.98756545,6.24395862 L8.99896034,6.12268979 C9.02431547,5.52149772 8.58283795,5.00694173 8.01011035,5 L8.01011035,5 Z"}))))))}function Iu(){return e.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20"},e.createElement("path",{fill:"#0263e0",fillRule:"evenodd",d:"M10 2a8 8 0 110 16 8 8 0 010-16zm0 7c-.26.01-.528.08-.707.24-.178.158-.292.355-.292.575v3.37c0 .21.11.428.292.577.173.14.457.247.707.237.26-.008.528-.078.707-.237.178-.16.292-.355.292-.577v-3.37a.766.766 0 00-.292-.575A1.14 1.14 0 0010 9zm0-3l-.266.036c-.17.047-.318.131-.441.253l-.156.198A.958.958 0 009 6.98v.04a.728.728 0 00.086.378c.04.121.108.227.206.315.09.094.197.163.321.202.12.06.248.09.386.084l.266-.035c.17-.047.318-.131.441-.253l.156-.198A.958.958 0 0011 7.02v-.04a.728.728 0 00-.086-.378.721.721 0 00-.206-.315.757.757 0 00-.321-.202.767.767 0 00-.386-.084z"}))}var Nu=k((function(e){return{container:(0,f.Z)({display:"flex",justifyContent:"space-between",width:"400px",minHeight:"50px",background:"white",padding:"1em",borderRadius:"3px",boxShadow:"0 12px 24px 4px rgba(40,42,43,0.2)"},e.breakpoints.down("sm"),{width:"100%"}),contentContainer:{display:"flex",lineHeight:1.8},iconContainer:{display:"flex",padding:"0 1.3em 0 0.3em",transform:"translateY(3px)"},headline:{fontWeight:"bold"},error:{borderLeft:"4px solid #D61F1F"},warning:{borderLeft:"4px solid #E46216"},info:{borderLeft:"4px solid #0263e0"}}}));function Pu(t){var n,r=t.headline,i=t.message,a=t.variant,o=t.open,s=t.handleClose,u=Nu();return e.createElement(Ou,{anchorOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:function(e,t){"clickaway"!==t&&(null===s||void 0===s||s())},autoHideDuration:1e4},e.createElement("div",{className:(0,h.Z)(u.container,(n={},(0,f.Z)(n,u.error,"error"===a),(0,f.Z)(n,u.warning,"warning"===a),(0,f.Z)(n,u.info,"info"===a),n))},e.createElement("div",{className:u.contentContainer},e.createElement("div",{className:u.iconContainer},"warning"===a&&e.createElement(Ru,null),"error"===a&&e.createElement(ku,null),"info"===a&&e.createElement(Iu,null)),e.createElement("div",null,e.createElement(cr,{variant:"body1",className:u.headline,component:"span"},r),e.createElement(cr,{variant:"body1",component:"span"}," ",i))),e.createElement("div",null,s&&e.createElement(_u,{size:"small","aria-label":"close",color:"inherit",onClick:s},e.createElement(wu.Z,{fontSize:"small"})))))}function Mu(t){var n=t.error,r=ve(),i=r.hasAudioInputDevices,a=r.hasVideoInputDevices,o=on().isAcquiringLocalTracks,s=(0,e.useState)(!1),u=(0,G.Z)(s,2),c=u[0],l=u[1],d=!c&&!o&&(Boolean(n)||!i||!a),f=function(e,t,n){var r="",i="";switch(!0){case"CameraPermissionsDenied"===(null===n||void 0===n?void 0:n.message):r="Unable to Access Media:",i="The user has denied permission to use video. Please grant permission to the browser to access the camera.";break;case"MicrophonePermissionsDenied"===(null===n||void 0===n?void 0:n.message):r="Unable to Access Media:",i="The user has denied permission to use audio. Please grant permission to the browser to access the microphone.";break;case"NotAllowedError"===(null===n||void 0===n?void 0:n.name):r="Unable to Access Media:",i="Permission denied by system"===n.message?"The operating system has blocked the browser from accessing the microphone or camera. Please check your operating system settings.":"The user has denied permission to use audio and video. Please grant permission to the browser to access the microphone and camera.";break;case"NotFoundError"===(null===n||void 0===n?void 0:n.name):r="Cannot Find Microphone or Camera:",i="The browser cannot access the microphone or camera. Please make sure all input devices are connected and enabled.";break;case Boolean(n):r="Error Acquiring Media:",i="".concat(n.name," ").concat(n.message);break;case!e&&!t:r="No Camera or Microphone Detected:",i="Other participants in the room will be unable to see and hear you.";break;case!t:r="No Camera Detected:",i="Other participants in the room will be unable to see you.";break;case!e:r="No Microphone Detected:",i="Other participants in the room will be unable to hear you."}return{headline:r,message:i}}(i,a,n),p=f.headline,h=f.message;return e.createElement(Pu,{open:d,handleClose:function(){return l(!0)},headline:p,message:h,variant:"warning"})}var Lu,Du,Fu=k((function(e){return{gutterBottom:{marginBottom:"1em"},inputContainer:(0,f.Z)({display:"flex",justifyContent:"space-between",margin:"1.5em 0 3.5em","& div:not(:last-child)":{marginRight:"1em"}},e.breakpoints.down("sm"),{margin:"1.5em 0 2em"}),textFieldContainer:{width:"100%"},continueButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"})}}));function Bu(t){var n=t.name,r=t.roomName,i=t.setName,a=t.setRoomName,o=t.handleSubmit,s=Fu(),u=Ot().user,c=!window.location.search.includes("customIdentity=true")&&(null===u||void 0===u?void 0:u.displayName);return e.createElement(e.Fragment,null,e.createElement(cr,{variant:"h5",className:s.gutterBottom},"Join a Room"),e.createElement(cr,{variant:"body1"},c?"Enter the name of a room you'd like to join.":"Enter your name and the name of a room you'd like to join"),e.createElement("form",{onSubmit:o},e.createElement("div",{className:s.inputContainer},!c&&e.createElement("div",{className:s.textFieldContainer},e.createElement(qs,{shrink:!0,htmlFor:"input-user-name"},"Your Name"),e.createElement(Js,{id:"input-user-name",variant:"outlined",fullWidth:!0,size:"small",value:n,onChange:function(e){i(e.target.value)}})),e.createElement("div",{className:s.textFieldContainer},e.createElement(qs,{shrink:!0,htmlFor:"input-room-name"},"Room Name"),e.createElement(Js,{autoCapitalize:"false",id:"input-room-name",variant:"outlined",fullWidth:!0,size:"small",value:r,onChange:function(e){a(e.target.value)}}))),e.createElement(Kr,{container:!0,justifyContent:"flex-end"},e.createElement(z,{variant:"contained",type:"submit",color:"primary",disabled:!n||!r,className:s.continueButton},"Continue"))))}function ju(){var t=Ot().user,n=on().getAudioAndVideoTracks,r=_t().URLRoomName,i=(0,e.useState)(Lu.deviceSelectionStep),a=(0,G.Z)(i,2),o=a[0],s=a[1],u=(0,e.useState)((null===t||void 0===t?void 0:t.displayName)||""),c=(0,G.Z)(u,2),l=c[0],d=c[1],f=(0,e.useState)(""),p=(0,G.Z)(f,2),h=p[0],m=p[1],v=(0,e.useState)(),g=(0,G.Z)(v,2),y=g[0],b=g[1],w=new URLSearchParams(window.location.search).get("bookingId");(0,e.useEffect)((function(){r&&(m(r),null!==t&&void 0!==t&&t.displayName&&s(Lu.deviceSelectionStep))}),[t,r]),(0,e.useEffect)((function(){o!==Lu.deviceSelectionStep||y||n().catch((function(e){console.log("Error acquiring local media:"),console.dir(e),b(e)}))}),[n,o,y]);var k=t?null===t||void 0===t?void 0:t.id:"";return e.createElement(bu,null,e.createElement(Mu,{error:y}),o===Lu.roomNameStep&&e.createElement(Bu,{name:l,roomName:h,setName:d,setRoomName:m,handleSubmit:function(e){e.preventDefault(),window.location.origin.includes("twil.io")||window.STORYBOOK_ENV||window.history.replaceState(null,"",window.encodeURI("/room/".concat(h).concat(window.location.search||""))),s(Lu.deviceSelectionStep)}}),o===Lu.deviceSelectionStep&&e.createElement(au,{userId:k||"",bookingId:w||"",name:l,roomName:h,setStep:s}))}function Zu(){var t=Ja();return e.createElement(Pu,{variant:"error",headline:"Connection Lost:",message:"Reconnecting to room...",open:"reconnecting"===t})}function Vu(){var t=(0,e.useState)(Du.none),n=(0,G.Z)(t,2),r=n[0],i=n[1],a=(0,e.useRef)(null),o=qa();return(0,e.useEffect)((function(){o&&null===a.current&&i(Du.recordingInProgress)}),[o]),(0,e.useEffect)((function(){o&&!1===a.current&&i(Du.recordingStarted)}),[o]),(0,e.useEffect)((function(){o||!0!==a.current||i(Du.recordingFinished)}),[o]),(0,e.useEffect)((function(){a.current=o}),[o]),e.createElement(e.Fragment,null,e.createElement(Pu,{open:r===Du.recordingStarted,handleClose:function(){return i(Du.none)},variant:"info",headline:"Recording has started.",message:""}),e.createElement(Pu,{open:r===Du.recordingInProgress,handleClose:function(){return i(Du.none)},variant:"info",headline:"Recording is in progress.",message:""}),e.createElement(Pu,{open:r===Du.recordingFinished,headline:"Recording Complete",message:e.createElement(e.Fragment,null,"You can view the recording in the"," ",e.createElement(cu,{target:"_blank",rel:"noopener",href:"https://www.twilio.com/console/video/logs/recordings"},"Twilio Console"),". Recordings will be available once this room has ended."),variant:"info",handleClose:function(){return i(Du.none)}}))}function Uu(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.64645 2.64645C2.84171 2.45118 3.15829 2.45118 3.35355 2.64645L21.3536 20.6464C21.5488 20.8417 21.5488 21.1583 21.3536 21.3536C21.1583 21.5488 20.8417 21.5488 20.6464 21.3536L2.64645 3.35355C2.45118 3.15829 2.45118 2.84171 2.64645 2.64645Z",fill:"#707578"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3536 2.64645C21.5488 2.84171 21.5488 3.15829 21.3536 3.35355L3.35355 21.3536C3.15829 21.5488 2.84171 21.5488 2.64645 21.3536C2.45118 21.1583 2.45118 20.8417 2.64645 20.6464L20.6464 2.64645C20.8417 2.45118 21.1583 2.45118 21.3536 2.64645Z",fill:"#707578"}))}!function(e){e[e.roomNameStep=0]="roomNameStep",e[e.deviceSelectionStep=1]="deviceSelectionStep"}(Lu||(Lu={})),function(e){e[e.none=0]="none",e[e.recordingStarted=1]="recordingStarted",e[e.recordingInProgress=2]="recordingInProgress",e[e.recordingFinished=3]="recordingFinished"}(Du||(Du={}));var Wu=k((function(){return{container:{minHeight:"56px",background:"#F4F4F6",borderBottom:"1px solid #E4E7E9",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 1em"},text:{fontWeight:"bold"},closeBackgroundSelection:{cursor:"pointer",display:"flex",background:"transparent",border:"0",padding:"0.4em"}}}));function Hu(t){var n=t.onClose,r=Wu();return e.createElement("div",{className:r.container},e.createElement("div",{className:r.text},"Backgrounds"),e.createElement("button",{className:r.closeBackgroundSelection,onClick:n},e.createElement(Uu,null)))}var zu=n(2665),Gu=n(28719),qu=k((function(e){return{thumbContainer:{margin:"5px",width:"calc(50% - 10px)",display:"flex",position:"relative","&::after":{content:'""',paddingBottom:"55.5%"}},thumbIconContainer:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"10px",border:"solid ".concat(e.palette.grey[400]),"&.selected":{border:"solid ".concat(e.palette.primary.main),"& svg":{color:"".concat(e.palette.primary.main)}}},thumbIcon:{height:50,width:50,color:"".concat(e.palette.grey[400]),"&.selected":{color:"".concat(e.palette.primary.main)}},thumbImage:{width:"100%",height:"100%",position:"absolute",top:0,bottom:0,left:0,right:0,objectFit:"cover",borderRadius:"10px",border:"solid ".concat(e.palette.grey[400]),"&:hover":{cursor:"pointer","& svg":{color:"".concat(e.palette.primary.main)},"& $thumbOverlay":{visibility:"visible"}},"&.selected":{border:"solid ".concat(e.palette.primary.main),"& svg":{color:"".concat(e.palette.primary.main)}}},thumbOverlay:{position:"absolute",color:"transparent",padding:"20px",fontSize:"14px",fontWeight:"bold",width:"100%",height:"100%",borderRadius:"10px",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{background:"rgba(95, 93, 128, 0.6)",color:"white"}}}}));function Ku(t){var n=t.thumbnail,r=t.imagePath,i=t.name,a=t.index,o=qu(),s=on(),u=s.backgroundSettings,c=s.setBackgroundSettings,l="image"===n?u.index===a&&"image"===u.type:u.type===n,d={none:Gu.Z,blur:zu.Z,image:null}[n];return e.createElement("div",{className:o.thumbContainer,onClick:function(){return c({type:n,index:a})}},d?e.createElement("div",{className:(0,h.Z)(o.thumbIconContainer,{selected:l})},e.createElement(d,{className:o.thumbIcon})):e.createElement("img",{className:(0,h.Z)(o.thumbImage,{selected:l}),src:r,alt:i}),e.createElement("div",{className:o.thumbOverlay},i))}function Yu(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var i=window.getComputedStyle(t);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var a=0,o=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");a=parseInt(s[4],10),o=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(a-r.left,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(o-r.top,"px)"):"translateY(-".concat(r.top+r.height-o,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var Xu={enter:Un.x9.enteringScreen,exit:Un.x9.leavingScreen},Qu=e.forwardRef((function(n,i){var a=n.children,o=n.direction,s=void 0===o?"down":o,u=n.in,c=n.onEnter,l=n.onEntered,d=n.onEntering,f=n.onExit,h=n.onExited,m=n.onExiting,v=n.style,g=n.timeout,y=void 0===g?Xu:g,b=n.TransitionComponent,w=void 0===b?Vn:b,k=(0,p.Z)(n,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),x=Wn(),S=e.useRef(null),E=e.useCallback((function(e){S.current=t.findDOMNode(e)}),[]),C=(0,_.Z)(a.ref,E),T=(0,_.Z)(C,i),A=function(e){return function(t){e&&(void 0===t?e(S.current):e(S.current,t))}},O=A((function(e,t){Yu(s,e),Hn(e),c&&c(e,t)})),R=A((function(e,t){var n=zn({timeout:y,style:v},{mode:"enter"});e.style.webkitTransition=x.transitions.create("-webkit-transform",(0,r.Z)({},n,{easing:x.transitions.easing.easeOut})),e.style.transition=x.transitions.create("transform",(0,r.Z)({},n,{easing:x.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",d&&d(e,t)})),I=A(l),N=A(m),P=A((function(e){var t=zn({timeout:y,style:v},{mode:"exit"});e.style.webkitTransition=x.transitions.create("-webkit-transform",(0,r.Z)({},t,{easing:x.transitions.easing.sharp})),e.style.transition=x.transitions.create("transform",(0,r.Z)({},t,{easing:x.transitions.easing.sharp})),Yu(s,e),f&&f(e)})),M=A((function(e){e.style.webkitTransition="",e.style.transition="",h&&h(e)})),L=e.useCallback((function(){S.current&&Yu(s,S.current)}),[s]);return e.useEffect((function(){if(!u&&"down"!==s&&"right"!==s){var e=(0,ai.Z)((function(){S.current&&Yu(s,S.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[s,u]),e.useEffect((function(){u||L()}),[u,L]),e.createElement(w,(0,r.Z)({nodeRef:S,onEnter:O,onEntered:I,onEntering:R,onExit:P,onExited:M,onExiting:N,appear:!0,in:u,timeout:y},k),(function(t,n){return e.cloneElement(a,(0,r.Z)({ref:T,style:(0,r.Z)({visibility:"exited"!==t||u?void 0:"hidden"},v,a.props.style)},n))}))})),Ju=Qu,$u={left:"right",right:"left",top:"down",bottom:"up"};var ec={enter:Un.x9.enteringScreen,exit:Un.x9.leavingScreen},tc=e.forwardRef((function(t,n){var i=t.anchor,a=void 0===i?"left":i,o=t.BackdropProps,s=t.children,u=t.classes,c=t.className,l=t.elevation,d=void 0===l?16:l,f=t.ModalProps,m=(f=void 0===f?{}:f).BackdropProps,v=(0,p.Z)(f,["BackdropProps"]),g=t.onClose,y=t.open,b=void 0!==y&&y,w=t.PaperProps,k=void 0===w?{}:w,x=t.SlideProps,_=t.TransitionComponent,S=void 0===_?Ju:_,E=t.transitionDuration,C=void 0===E?ec:E,T=t.variant,A=void 0===T?"temporary":T,O=(0,p.Z)(t,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),R=Wn(),I=e.useRef(!1);e.useEffect((function(){I.current=!0}),[]);var N=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?$u[t]:t}(R,a),P=e.createElement($n,(0,r.Z)({elevation:"temporary"===A?d:0,square:!0},k,{className:(0,h.Z)(u.paper,u["paperAnchor".concat((0,W.Z)(N))],k.className,"temporary"!==A&&u["paperAnchorDocked".concat((0,W.Z)(N))])}),s);if("permanent"===A)return e.createElement("div",(0,r.Z)({className:(0,h.Z)(u.root,u.docked,c),ref:n},O),P);var M=e.createElement(S,(0,r.Z)({in:b,direction:$u[N],timeout:C,appear:I.current},x),P);return"persistent"===A?e.createElement("div",(0,r.Z)({className:(0,h.Z)(u.root,u.docked,c),ref:n},O),M):e.createElement(Nn,(0,r.Z)({BackdropProps:(0,r.Z)({},o,m,{transitionDuration:C}),BackdropComponent:Qn,className:(0,h.Z)(u.root,u.modal,c),open:b,onClose:g,ref:n},O,v),M)})),nc=(0,i.Z)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(tc),rc=k((function(e){return{drawer:{display:"flex",width:e.rightDrawerWidth,height:"calc(100% - ".concat(e.footerHeight,"px)")},thumbnailContainer:{display:"flex",flexWrap:"wrap",padding:"5px",overflowY:"auto"}}}));var ic=function(){var t=rc(),n=on(),r=n.isBackgroundSelectionOpen,i=n.setIsBackgroundSelectionOpen,a=Jt.imageNames,o=Jt.images;return e.createElement(nc,{variant:"persistent",anchor:"right",open:r,transitionDuration:0,classes:{paper:t.drawer}},e.createElement(Hu,{onClose:function(){return i(!1)}}),e.createElement("div",{className:t.thumbnailContainer},e.createElement(Ku,{thumbnail:"none",name:"None"}),e.createElement(Ku,{thumbnail:"blur",name:"Blur"}),o.map((function(t,n){return e.createElement(Ku,{thumbnail:"image",name:a[n],index:n,imagePath:t,key:t})}))))},ac=k((function(){return{container:{height:"56px",background:"#F4F4F6",borderBottom:"1px solid #E4E7E9",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 1em"},text:{fontWeight:"bold"},closeChatWindow:{cursor:"pointer",display:"flex",background:"transparent",border:"0",padding:"0.4em"}}}));function oc(){var t=ac(),n=Ga().setIsChatWindowOpen;return e.createElement("div",{className:t.container},e.createElement("div",{className:t.text},"Chat"),e.createElement("button",{className:t.closeChatWindow,onClick:function(){return n(!1)}},e.createElement(Uu,null)))}function sc(){return e.createElement("svg",{width:"24",height:"24",viewBox:"-1 0 24 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7992 3.24259C16.6912 1.13458 13.5645 1.40622 11.3746 3.59615L2.53575 12.435C1.72631 13.2444 1.26254 14.2015 1.18557 15.1283C1.10946 16.0447 1.4074 16.9635 2.1822 17.7383C2.957 18.5131 3.87575 18.811 4.7922 18.7349C5.71899 18.6579 6.67606 18.1942 7.4855 17.3847L14.203 10.6672C14.7335 10.1367 15.0455 9.55355 15.116 9.01193C15.184 8.48967 15.035 7.9637 14.5566 7.48523C14.0781 7.00677 13.5521 6.85777 13.0299 6.92578C12.4883 6.99631 11.9051 7.30826 11.3746 7.83879L6.07128 13.1421C5.87602 13.3374 5.55944 13.3374 5.36418 13.1421C5.16891 12.9468 5.16892 12.6302 5.36418 12.435L10.6675 7.13168C11.3079 6.49124 12.0835 6.04058 12.9007 5.93415C13.7374 5.82521 14.5705 6.08492 15.2637 6.77813C15.9569 7.47134 16.2166 8.30442 16.1076 9.14105C16.0012 9.95832 15.5506 10.7339 14.9101 11.3743L8.1926 18.0918C7.24417 19.0403 6.07462 19.6318 4.87496 19.7315C3.66496 19.832 2.45745 19.4278 1.47509 18.4454C0.492729 17.463 0.0885105 16.2555 0.189 15.0455C0.288631 13.8459 0.880211 12.6763 1.82864 11.7279L10.6675 2.88904C13.1643 0.392265 16.929 -0.0417833 19.5063 2.53549C22.0836 5.11276 21.6495 8.87755 19.1528 11.3743L12.7888 17.7383C12.5935 17.9335 12.277 17.9335 12.0817 17.7383C11.8864 17.543 11.8864 17.2264 12.0817 17.0312L18.4457 10.6672C20.6356 8.47729 20.9072 5.35061 18.7992 3.24259Z",fill:"#707578"}))}function uc(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.3539 1.64645C22.5491 1.84171 22.5491 2.15829 22.3539 2.35355L9.74515 14.9622C9.54989 15.1575 9.23331 15.1575 9.03805 14.9622C8.84279 14.767 8.84279 14.4504 9.03805 14.2551L21.6467 1.64645C21.842 1.45118 22.1586 1.45118 22.3539 1.64645Z",fill:"#D8D8D8"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.3536 1.64646C22.4988 1.79171 22.5404 2.011 22.4585 2.19938L13.7629 22.1994C13.6863 22.3756 13.5155 22.4923 13.3235 22.4996C13.1316 22.507 12.9523 22.4037 12.8625 22.234L9.02139 14.9786L1.76606 11.1376C1.59627 11.0477 1.493 10.8685 1.50037 10.6765C1.50774 10.4845 1.62446 10.3137 1.80064 10.2371L21.8006 1.54148C21.989 1.45958 22.2083 1.50122 22.3536 1.64646ZM3.15222 10.7399L9.62525 14.1668C9.71385 14.2137 9.7863 14.2862 9.8332 14.3748L13.2601 20.8478L21.0354 2.96463L3.15222 10.7399Z",fill:"#D8D8D8"}))}var cc=k((function(e){return{chatInputContainer:{borderTop:"1px solid #e4e7e9",borderBottom:"1px solid #e4e7e9",padding:"1em 1.2em 1em"},textArea:{width:"100%",border:"0",resize:"none",fontSize:"14px",fontFamily:"Inter",outline:"none"},button:{padding:"0.56em",minWidth:"auto","&:disabled":{background:"none","& path":{fill:"#d8d8d8"}}},buttonContainer:{margin:"1em 0 0 1em",display:"flex"},fileButtonContainer:{position:"relative",marginRight:"1em"},fileButtonLoadingSpinner:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textAreaContainer:{display:"flex",marginTop:"0.4em",padding:"0.48em 0.7em",border:"2px solid transparent"},isTextareaFocused:{borderColor:e.palette.primary.main,borderRadius:"4px"}}}));function lc(t){var n=t.conversation,r=t.isChatWindowOpen,i=cc(),a=(0,e.useState)(""),o=(0,G.Z)(a,2),s=o[0],u=o[1],c=(0,e.useState)(!1),l=(0,G.Z)(c,2),d=l[0],p=l[1],m=(0,e.useState)(null),v=(0,G.Z)(m,2),g=v[0],y=v[1],b=/\S/.test(s),w=(0,e.useRef)(null),k=(0,e.useRef)(null),x=(0,e.useState)(!1),_=(0,G.Z)(x,2),S=_[0],E=_[1];(0,e.useEffect)((function(){var e;r&&(null===(e=w.current)||void 0===e||e.focus())}),[r]);var C=function(e){b&&(n.sendMessage(e.trim()),u(""))};return e.createElement("div",{className:i.chatInputContainer},e.createElement(Pu,{open:Boolean(g),headline:"Error",message:g||"",variant:"error",handleClose:function(){return y(null)}}),e.createElement("div",{className:(0,h.Z)(i.textAreaContainer,(0,f.Z)({},i.isTextareaFocused,S))},e.createElement(Ui,{minRows:1,maxRows:3,className:i.textArea,"aria-label":"chat input",placeholder:"Write a message...",onKeyPress:function(e){ue||"Enter"!==e.key||e.shiftKey||(e.preventDefault(),C(s))},onChange:function(e){u(e.target.value)},value:s,"data-cy-chat-input":!0,ref:w,onFocus:function(){return E(!0)},onBlur:function(){return E(!1)}})),e.createElement(Kr,{container:!0,alignItems:"flex-end",justifyContent:"flex-end",wrap:"nowrap"},e.createElement("input",{ref:k,type:"file",style:{display:"none"},onChange:function(e){var t,r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){var i=new FormData;i.append("userfile",r),p(!0),y(null),n.sendMessage(i).catch((function(e){413===e.code?y("File size is too large. Maximum file size is 150MB."):y("There was a problem uploading the file. Please try again."),console.log("Problem sending file: ",e)})).finally((function(){p(!1)}))}},value:"",accept:"audio/*, image/*, text/*, video/*, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document .xslx, .ppt, .pdf, .key, .svg, .csv"}),e.createElement("div",{className:i.buttonContainer},e.createElement("div",{className:i.fileButtonContainer},e.createElement(z,{className:i.button,onClick:function(){var e;return null===(e=k.current)||void 0===e?void 0:e.click()},disabled:d},e.createElement(sc,null)),d&&e.createElement(js,{size:24,className:i.fileButtonLoadingSpinner})),e.createElement(z,{className:i.button,onClick:function(){return C(s)},color:"primary",variant:"contained",disabled:!b,"data-cy-send-message-button":!0},e.createElement(uc,null)))))}var dc=k((function(){return{messageInfoContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1.425em 0 0.083em",fontSize:"12px",color:"#606B85"}}}));function fc(t){var n=t.author,r=t.dateCreated,i=t.isLocalParticipant,a=dc();return e.createElement("div",{className:a.messageInfoContainer},e.createElement("div",null,i?"".concat(n," (You)"):n),e.createElement("div",null,r))}var pc=n(60136),hc=n(29388),mc=n(31820),vc=n(33881),gc=n.n(vc),yc={outerContainer:{minHeight:0,flex:1,position:"relative"},innerScrollContainer:{height:"100%",overflowY:"auto",padding:"0 1.2em 0"},messageListContainer:{overflowY:"auto",flex:"1",paddingBottom:"1em"},button:{position:"absolute",bottom:"14px",right:"2em",zIndex:100,padding:"0.5em 0.9em",visibility:"hidden",opacity:0,boxShadow:"0px 4px 16px rgba(18, 28, 45, 0.2)",transition:"all 0.5s ease"},showButton:{visibility:"visible",opacity:1,bottom:"24px"}},bc=function(t){(0,pc.Z)(r,t);var n=(0,hc.Z)(r);function r(){var t;(0,gn.Z)(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=n.call.apply(n,[this].concat(a))).chatThreadRef=e.createRef(),t.state={isScrolledToBottom:!0,showButton:!1,messageNotificationCount:0},t.handleScroll=gc()((function(){var e=t.chatThreadRef.current;if(e){var n=Math.abs(e.clientHeight+e.scrollTop-e.scrollHeight)<1;t.setState((function(e){return{isScrolledToBottom:n,showButton:!n&&e.showButton}}))}}),300),t.handleClick=function(){var e=t.chatThreadRef.current;e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),t.setState({showButton:!1})},t}return(0,yn.Z)(r,[{key:"scrollToBottom",value:function(){var e=this.chatThreadRef.current;e.scrollTop=e.scrollHeight}},{key:"componentDidMount",value:function(){this.scrollToBottom(),this.chatThreadRef.current.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.messages.length!==e.messages.length;if(t.isScrolledToBottom&&n)this.scrollToBottom();else if(n){var r=this.props.messages.length-e.messages.length;this.setState((function(e){return{showButton:!e.isScrolledToBottom,messageNotificationCount:e.showButton?e.messageNotificationCount+r:1}}))}}},{key:"componentWillUnmount",value:function(){this.chatThreadRef.current.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var t=this.props.classes;return e.createElement("div",{className:t.outerContainer},e.createElement("div",{className:t.innerScrollContainer,ref:this.chatThreadRef,"data-cy-message-list-inner-scroll":!0},e.createElement("div",{className:t.messageListContainer},this.props.children,e.createElement(z,{className:(0,h.Z)(t.button,(0,f.Z)({},t.showButton,this.state.showButton)),onClick:this.handleClick,startIcon:e.createElement(mc.Z,null),color:"primary",variant:"contained","data-cy-new-message-button":!0},this.state.messageNotificationCount," new message",this.state.messageNotificationCount>1&&"s"))))}}]),r}(e.Component),wc=(0,i.Z)(yc)(bc),kc=n(46927),xc=n.n(kc),_c=k({messageContainer:{borderRadius:"16px",display:"inline-flex",alignItems:"center",padding:"0.5em 0.8em 0.6em",margin:"0.3em 0 0",wordBreak:"break-word",backgroundColor:"#E1E3EA",hyphens:"auto",whiteSpace:"pre-wrap"},isLocalParticipant:{backgroundColor:"#CCE4FF"}});function Sc(t){var n=t.body,r=t.isLocalParticipant,i=_c();return e.createElement("div",null,e.createElement("div",{className:(0,h.Z)(i.messageContainer,(0,f.Z)({},i.isLocalParticipant,r))},e.createElement("div",null,function(t){var n=xc()().match(t);if(!n)return t;var r=[],i=0;return n.forEach((function(n,a){r.push(t.slice(i,n.index)),r.push(e.createElement(cu,{target:"_blank",rel:"noreferrer",href:n.url,key:a},n.text)),i=n.lastIndex})),r.push(t.slice(i,t.length)),r}(n))))}function Ec(){return e.createElement("svg",{width:"40",height:"41",viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.4111 30.2441C24.7365 29.9186 25.2641 29.9186 25.5896 30.2441L29.167 33.8215L32.7444 30.2441C33.0698 29.9186 33.5975 29.9186 33.9229 30.2441C34.2484 30.5695 34.2484 31.0972 33.9229 31.4226L29.7562 35.5893C29.4308 35.9147 28.9032 35.9147 28.5777 35.5893L24.4111 31.4226C24.0856 31.0972 24.0856 30.5695 24.4111 30.2441Z",fill:"#14B053"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.1663 20.8334C24.1037 20.8334 19.9997 24.9375 19.9997 30.0001C19.9997 35.0627 24.1037 39.1667 29.1663 39.1667C34.229 39.1667 38.333 35.0627 38.333 30.0001C38.333 24.9375 34.229 20.8334 29.1663 20.8334ZM18.333 30.0001C18.333 24.017 23.1833 19.1667 29.1663 19.1667C35.1494 19.1667 39.9997 24.017 39.9997 30.0001C39.9997 35.9832 35.1494 40.8334 29.1663 40.8334C23.1833 40.8334 18.333 35.9832 18.333 30.0001Z",fill:"#14B053"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.1663 24.1667C29.6266 24.1667 29.9997 24.5398 29.9997 25.0001V35.0001C29.9997 35.4603 29.6266 35.8334 29.1663 35.8334C28.7061 35.8334 28.333 35.4603 28.333 35.0001V25.0001C28.333 24.5398 28.7061 24.1667 29.1663 24.1667Z",fill:"#14B053"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.3786 14.168C18.6994 14.1854 18.9816 14.3857 19.1039 14.6828L20.5389 18.1678C20.7141 18.5934 20.5112 19.0804 20.0856 19.2557C19.6601 19.4309 19.173 19.228 18.9978 18.8024L18.2281 16.9332L14.0649 24.5658C13.9392 24.7964 13.7121 24.9541 13.4521 24.9916C13.1922 25.029 12.9298 24.9417 12.7441 24.756L10.2283 22.2402L7.1817 28.3334H14.9317C15.3919 28.3334 15.765 28.7065 15.765 29.1668C15.765 29.627 15.3919 30.0001 14.9317 30.0001H5.83333C5.54452 30.0001 5.2763 29.8505 5.12446 29.6049C4.97262 29.3592 4.95882 29.0524 5.08798 28.7941L9.25464 20.4607C9.37444 20.2212 9.6021 20.0538 9.86652 20.0108C10.1309 19.9679 10.3998 20.0548 10.5893 20.2442L13.1351 22.79L17.6018 14.601C17.7556 14.319 18.0578 14.1505 18.3786 14.168Z",fill:"#707578"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.33333 9.99992C7.41286 9.99992 6.66667 10.7461 6.66667 11.6666C6.66667 12.5871 7.41286 13.3333 8.33333 13.3333C9.25381 13.3333 10 12.5871 10 11.6666C10 10.7461 9.25381 9.99992 8.33333 9.99992ZM5 11.6666C5 9.82564 6.49238 8.33325 8.33333 8.33325C10.1743 8.33325 11.6667 9.82564 11.6667 11.6666C11.6667 13.5075 10.1743 14.9999 8.33333 14.9999C6.49238 14.9999 5 13.5075 5 11.6666Z",fill:"#707578"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0.833333C0 0.373096 0.373096 0 0.833333 0H19.1667C19.3877 0 19.5996 0.0877974 19.7559 0.244078L28.0893 8.57741C28.2455 8.73369 28.3333 8.94565 28.3333 9.16667V15.8333C28.3333 16.2936 27.9602 16.6667 27.5 16.6667C27.0398 16.6667 26.6667 16.2936 26.6667 15.8333V9.51185L18.8215 1.66667H1.66667V35H17.5C17.9602 35 18.3333 35.3731 18.3333 35.8333C18.3333 36.2936 17.9602 36.6667 17.5 36.6667H0.833333C0.373096 36.6667 0 36.2936 0 35.8333V0.833333Z",fill:"#707578"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.1663 0C19.6266 0 19.9997 0.373096 19.9997 0.833333V8.33333H27.4997C27.9599 8.33333 28.333 8.70643 28.333 9.16667C28.333 9.6269 27.9599 10 27.4997 10H19.1663C18.7061 10 18.333 9.6269 18.333 9.16667V0.833333C18.333 0.373096 18.7061 0 19.1663 0Z",fill:"#707578"}))}var Cc=k({messageContainer:{display:"flex",padding:"0.9em 1.5em",margin:"0.6em 0",border:"2px solid #e4e7e9",borderRadius:"4px",cursor:"pointer"},iconContainer:{display:"flex",alignItems:"center"},mediaInfo:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1.5em",minWidth:0,"& p":{margin:0,fontSize:"12px"}},filename:{fontWeight:700,overflow:"hidden",textOverflow:"ellipsis"},size:{fontWeight:400}});function Tc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=["bytes","KB","MB","GB"];return e<1e3?+e.toFixed(2)+" "+n[t]:Tc(e/1024,t+1)}function Ac(e){var t=e.media,n=Cc();return React.createElement("div",{className:n.messageContainer,onClick:function(){t.getContentTemporaryUrl().then((function(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.rel="noopener",setTimeout((function(){t.click()}))}))}},React.createElement("div",{className:n.iconContainer},React.createElement(Ec,null)),React.createElement("div",{className:n.mediaInfo},React.createElement("p",{className:n.filename},t.filename),React.createElement("p",{className:n.size},Tc(t.size)," - Click to open")))}var Oc=function(e){var t;return null===e||void 0===e||null===(t=e.dateCreated)||void 0===t?void 0:t.toLocaleTimeString("en-us",{hour:"numeric",minute:"numeric"}).toLowerCase()};function Rc(t){var n=t.messages,r=on().room.localParticipant;return e.createElement(wc,{messages:n},n.map((function(t,i){var a,o=Oc(t),s=o!==Oc(n[i-1])||t.author!==(null===(a=n[i-1])||void 0===a?void 0:a.author),u=r.identity===t.author;return e.createElement(e.Fragment,{key:t.sid},s&&e.createElement(fc,{author:t.author,isLocalParticipant:u,dateCreated:o}),"text"===t.type&&e.createElement(Sc,{body:t.body,isLocalParticipant:u}),"media"===t.type&&e.createElement(Ac,{media:t.attachedMedia[0]}))})))}var Ic=k((function(e){return{chatWindowContainer:(0,f.Z)({background:"#FFFFFF",zIndex:9,display:"flex",flexDirection:"column",borderLeft:"1px solid #E4E7E9"},e.breakpoints.down("sm"),{position:"fixed",top:0,left:0,bottom:0,right:0,zIndex:100}),hide:{display:"none"}}}));function Nc(){var t=Ic(),n=Ga(),r=n.isChatWindowOpen,i=n.messages,a=n.conversation;return e.createElement("aside",{className:(0,h.Z)(t.chatWindowContainer,(0,f.Z)({},t.hide,!r))},e.createElement(oc,null),e.createElement(Rc,{messages:i}),e.createElement(lc,{conversation:a,isChatWindowOpen:r}))}var Pc=n(56955),Mc=n(44362);var Lc=(0,Di.Z)(e.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Dc=(0,Di.Z)(e.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Fc=(0,Di.Z)(e.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),Bc=(0,Di.Z)(e.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),jc=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.color,s=void 0===o?"standard":o,u=t.component,c=t.disabled,l=void 0!==c&&c,d=t.page,f=t.selected,m=void 0!==f&&f,v=t.shape,g=void 0===v?"round":v,y=t.size,b=void 0===y?"medium":y,w=t.type,k=void 0===w?"page":w,x=t.variant,_=void 0===x?"text":x,S=(0,p.Z)(t,["classes","className","color","component","disabled","page","selected","shape","size","type","variant"]),E=("rtl"===Wn().direction?{previous:Bc,next:Fc,last:Lc,first:Dc}:{previous:Fc,next:Bc,first:Lc,last:Dc})[k];return"start-ellipsis"===k||"end-ellipsis"===k?e.createElement("div",{ref:n,className:(0,h.Z)(i.root,i.ellipsis,l&&i.disabled,"medium"!==b&&i["size".concat((0,W.Z)(b))])},"\u2026"):e.createElement(U,(0,r.Z)({ref:n,component:u,disabled:l,focusVisibleClassName:i.focusVisible,className:(0,h.Z)(i.root,i.page,i[_],i[g],a,"standard"!==s&&i["".concat(_).concat((0,W.Z)(s))],l&&i.disabled,m&&i.selected,"medium"!==b&&i["size".concat((0,W.Z)(b))])},S),"page"===k&&d,E?e.createElement(E,{className:i.icon}):null)})),Zc=(0,i.Z)((function(e){return{root:(0,r.Z)({},e.typography.body2,{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:e.palette.text.primary}),page:{transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&$focusVisible":{backgroundColor:e.palette.action.focus},"&$selected":{backgroundColor:e.palette.action.selected,"&:hover, &$focusVisible":{backgroundColor:(0,x.Fq)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:1,color:e.palette.action.disabled,backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:e.palette.action.disabledOpacity}},sizeSmall:{minWidth:26,height:26,borderRadius:13,margin:"0 1px",padding:"0 4px","& $icon":{fontSize:e.typography.pxToRem(18)}},sizeLarge:{minWidth:40,height:40,borderRadius:20,padding:"0 10px",fontSize:e.typography.pxToRem(15),"& $icon":{fontSize:e.typography.pxToRem(22)}},textPrimary:{"&$selected":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}},"&$disabled":{color:e.palette.action.disabled}}},textSecondary:{"&$selected":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}},"&$disabled":{color:e.palette.action.disabled}}},outlined:{border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$selected":{"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}}},outlinedPrimary:{"&$selected":{color:e.palette.primary.main,border:"1px solid ".concat((0,x.Fq)(e.palette.primary.main,.5)),backgroundColor:(0,x.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:(0,x.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},outlinedSecondary:{"&$selected":{color:e.palette.secondary.main,border:"1px solid ".concat((0,x.Fq)(e.palette.secondary.main,.5)),backgroundColor:(0,x.Fq)(e.palette.secondary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:(0,x.Fq)(e.palette.secondary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},rounded:{borderRadius:e.shape.borderRadius},ellipsis:{height:"auto","&$disabled":{opacity:e.palette.action.disabledOpacity}},focusVisible:{},disabled:{},selected:{},icon:{fontSize:e.typography.pxToRem(20),margin:"0 -8px"}}}),{name:"MuiPaginationItem"})(jc);function Vc(e,t,n){return"page"===e?"".concat(n?"":"Go to ","page ").concat(t):"Go to ".concat(e," page")}var Uc=e.forwardRef((function(t,n){t.boundaryCount;var i=t.classes,a=t.className,o=t.color,s=void 0===o?"standard":o,u=(t.count,t.defaultPage,t.disabled,t.getItemAriaLabel),c=void 0===u?Vc:u,l=(t.hideNextButton,t.hidePrevButton,t.onChange,t.page,t.renderItem),d=void 0===l?function(t){return e.createElement(Zc,t)}:l,f=t.shape,m=void 0===f?"round":f,v=(t.showFirstButton,t.showLastButton,t.siblingCount,t.size),g=void 0===v?"medium":v,y=t.variant,b=void 0===y?"text":y,w=(0,p.Z)(t,["boundaryCount","classes","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"]),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.boundaryCount,n=void 0===t?1:t,i=e.componentName,a=void 0===i?"usePagination":i,o=e.count,s=void 0===o?1:o,u=e.defaultPage,c=void 0===u?1:u,l=e.disabled,d=void 0!==l&&l,f=e.hideNextButton,h=void 0!==f&&f,m=e.hidePrevButton,v=void 0!==m&&m,g=e.onChange,y=e.page,b=e.showFirstButton,w=void 0!==b&&b,k=e.showLastButton,x=void 0!==k&&k,_=e.siblingCount,S=void 0===_?1:_,E=(0,p.Z)(e,["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"]),T=(0,Ri.Z)({controlled:y,default:c,name:a,state:"page"}),A=(0,G.Z)(T,2),O=A[0],R=A[1],I=function(e,t){y||R(t),g&&g(e,t)},N=function(e,t){var n=t-e+1;return Array.from({length:n},(function(t,n){return e+n}))},P=N(1,Math.min(n,s)),M=N(Math.max(s-n+1,n+1),s),L=Math.max(Math.min(O-S,s-n-2*S-1),n+2),D=Math.min(Math.max(O+S,n+2*S+2),M[0]-2),F=[].concat((0,C.Z)(w?["first"]:[]),(0,C.Z)(v?[]:["previous"]),(0,C.Z)(P),(0,C.Z)(L>n+2?["start-ellipsis"]:n+1<s-n?[n+1]:[]),(0,C.Z)(N(L,D)),(0,C.Z)(D<s-n-1?["end-ellipsis"]:s-n>n?[s-n]:[]),(0,C.Z)(M),(0,C.Z)(h?[]:["next"]),(0,C.Z)(x?["last"]:[])),B=function(e){switch(e){case"first":return 1;case"previous":return O-1;case"next":return O+1;case"last":return s;default:return null}},j=F.map((function(e){return"number"===typeof e?{onClick:function(t){I(t,e)},type:"page",page:e,selected:e===O,disabled:d,"aria-current":e===O?"true":void 0}:{onClick:function(t){I(t,B(e))},type:e,page:B(e),selected:!1,disabled:d||-1===e.indexOf("ellipsis")&&("next"===e||"last"===e?O>=s:O<=1)}}));return(0,r.Z)({items:j},E)}((0,r.Z)({},t,{componentName:"Pagination"})),x=k.items;return e.createElement("nav",(0,r.Z)({"aria-label":"pagination navigation",className:(0,h.Z)(i.root,a),ref:n},w),e.createElement("ul",{className:i.ul},x.map((function(t,n){return e.createElement("li",{key:n},d((0,r.Z)({},t,{color:s,"aria-label":c(t.type,t.page,t.selected),shape:m,size:g,variant:b})))}))))})),Wc=(0,i.Z)({root:{},ul:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}},{name:"MuiPagination"})(Uc);var Hc=k({outerContainer:{width:"2em",height:"2em",padding:"0.9em",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.5)"},innerContainer:{display:"flex",alignItems:"flex-end","& div":{width:"2px",marginRight:"1px","&:not(:last-child)":{borderRight:"none"}}}}),zc=[0,1,2,3,4];function Gc(t){var n=t.participant,r=Hc(),i=function(t){var n=(0,e.useState)(t.networkQualityLevel),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=function(e){return a(e)};return a(t.networkQualityLevel),t.on("networkQualityLevelChanged",e),function(){t.off("networkQualityLevelChanged",e)}}),[t]),i}(n);return null===i?null:React.createElement("div",{className:r.outerContainer},React.createElement("div",{className:r.innerContainer},zc.map((function(e){return React.createElement("div",{key:e,style:{height:"".concat(3*(e+1),"px"),background:i>e?"white":"rgba(255, 255, 255, 0.2)"}})}))))}var qc=n(16608);function Kc(){return e.createElement(Os,{title:"Participant is pinned. Click to un-pin.",placement:"top"},e.createElement(qc.Z,{style:{float:"right",background:"rgba(0, 0, 0, 0.5)",padding:"0.1em",boxSizing:"content-box"},width:"26",height:"26",viewBox:"0 0 26 26"},e.createElement("path",{fill:"#FFF",fillRule:"evenodd",strokeWidth:"0",d:"M15.808 4.489c.208-.207.544-.207.75 0l4.953 4.952c.207.207.207.543 0 .75l-1.415 1.415c-.207.208-.543.208-.75 0l-.333-.333-3.007 3.007v2.611c0 .113-.035.222-.1.312l-.055.063-1.06 1.062c-.208.207-.544.207-.751 0l-2.809-2.81-5.992 5.993c-.207.207-.543.207-.75 0-.184-.184-.205-.47-.062-.677l.062-.073 5.991-5.993-2.808-2.808c-.184-.184-.204-.47-.061-.677l.061-.073 1.062-1.061c.1-.1.234-.156.375-.156h2.61l3.007-3.007-.332-.332c-.185-.184-.205-.47-.062-.677l.062-.073zm.376 1.125l-.666.664.333.333c.185.184.205.47.062.677l-.062.074-3.537 3.537c-.1.1-.234.155-.375.155h-2.61l-.531.531 2.803 2.803.005.006.005.005 2.804 2.803.53-.531v-2.61c0-.112.036-.221.102-.311l.054-.064 3.537-3.537c.208-.208.544-.208.75 0l.333.332.664-.666-4.201-4.201z"})))}function Yc(t){var n=(0,e.useState)(t&&t.isSwitchedOff),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(t&&t.isSwitchedOff),t){var e=function(){return a(!0)},n=function(){return a(!1)};return t.on("switchedOff",e),t.on("switchedOn",n),function(){t.off("switchedOff",e),t.off("switchedOn",n)}}}),[t]),!!i}function Xc(t){var n=(0,e.useState)([]),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){a(Array.from(t.tracks.values()));var e=function(e){return a((function(t){return[].concat((0,C.Z)(t),[e])}))},n=function(e){return a((function(t){return t.filter((function(t){return t!==e}))}))};return t.on("trackPublished",e),t.on("trackUnpublished",n),function(){t.off("trackPublished",e),t.off("trackUnpublished",n)}}),[t]),i}function Qc(t){var n=(0,e.useState)(t&&t.track),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(t&&t.track),t){var e=function(){return a(null)};return t.on("subscribed",a),t.on("unsubscribed",e),function(){t.off("subscribed",a),t.off("unsubscribed",e)}}}),[t]),i}function Jc(t){var n=(0,e.useState)(!1),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=function(){return a(!0)},n=function(){return a(!1)};return n(),t.on("reconnecting",e),t.on("reconnected",n),function(){t.off("reconnecting",e),t.off("reconnected",n)}}),[t]),i}var $c=k((function(e){return{container:(0,f.Z)({isolation:"isolate",position:"relative",display:"flex",alignItems:"center",height:0,overflow:"hidden",marginBottom:"0.5em","& video":{objectFit:"contain !important"},borderRadius:"4px",border:"".concat(e.participantBorderWidth,"px solid rgb(245, 248, 255)"),paddingTop:"calc(".concat(56.25,"% - ").concat(e.participantBorderWidth,"px)"),background:"black"},e.breakpoints.down("sm"),{height:e.sidebarMobileHeight,width:"".concat(16*e.sidebarMobileHeight/9,"px"),marginRight:"8px",marginBottom:"0",fontSize:"12px",paddingTop:"".concat(e.sidebarMobileHeight-2,"px")}),innerContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},infoContainer:{position:"absolute",zIndex:2,display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",width:"100%",background:"transparent",top:0},avatarContainer:(0,f.Z)({display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1},e.breakpoints.down("sm"),{"& svg":{transform:"scale(0.7)"}}),reconnectingContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(40, 42, 43, 0.75)",zIndex:1},screenShareIconContainer:{background:"rgba(0, 0, 0, 0.5)",padding:"0.18em 0.3em",marginRight:"0.3em",display:"flex","& path":{fill:"white"}},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.18em 0.3em 0.18em 0",margin:0,display:"flex",alignItems:"center"},infoRowBottom:{display:"flex",justifyContent:"space-between",position:"absolute",bottom:0,left:0},typography:(0,f.Z)({color:"white"},e.breakpoints.down("sm"),{fontSize:"0.75rem"}),hideParticipant:{display:"none"},cursorPointer:{cursor:"pointer"},galleryView:(0,f.Z)({border:"".concat(e.participantBorderWidth,"px solid ").concat(e.galleryViewBackgroundColor),borderRadius:"8px"},e.breakpoints.down("sm"),{position:"relative",width:"100%",height:"100%",padding:"0",fontSize:"12px",margin:"0","& video":{objectFit:"cover !important"}}),dominantSpeaker:{border:"solid ".concat(2,"px #7BEAA5")}}}));function el(t){var n,r=t.participant,i=t.onClick,a=t.isSelected,o=t.children,s=t.isLocalParticipant,u=t.hideParticipant,c=t.isDominantSpeaker,l=Xc(r),d=l.find((function(e){return"audio"===e.kind})),p=l.find((function(e){return!e.trackName.includes("screen")&&"video"===e.kind})),m=Boolean(p),v=l.find((function(e){return e.trackName.includes("screen")})),g=Yc(Qc(p)),y=Qc(d),b=Jc(r),w=Ot().isGalleryViewActive,k=$c();return e.createElement("div",{className:(0,h.Z)(k.container,(n={},(0,f.Z)(n,k.hideParticipant,u),(0,f.Z)(n,k.cursorPointer,Boolean(i)),(0,f.Z)(n,k.dominantSpeaker,c),(0,f.Z)(n,k.galleryView,w),n)),onClick:i,"data-cy-participant":r.identity},e.createElement("div",{className:k.infoContainer},e.createElement(Gc,{participant:r}),e.createElement("div",{className:k.infoRowBottom},v&&e.createElement("span",{className:k.screenShareIconContainer},e.createElement(uo,null)),e.createElement("span",{className:k.identity},e.createElement(Ur,{audioTrack:y}),e.createElement(cr,{variant:"body1",className:k.typography,component:"span"},r.identity,s&&" (You)"))),e.createElement("div",null,a&&e.createElement(Kc,null))),e.createElement("div",{className:k.innerContainer},(!m||g)&&e.createElement("div",{className:k.avatarContainer},e.createElement(Zs,null)),b&&e.createElement("div",{className:k.reconnectingContainer},e.createElement(cr,{variant:"body1",className:k.typography},"Reconnecting...")),o))}function tl(t){var n=t.publication,r=t.isLocalParticipant,i=t.videoPriority,a=Qc(n);return a&&"video"===a.kind?e.createElement(Aa,{track:a,priority:i,isLocal:!a.name.includes("screen")&&r}):null}function nl(t){var n,r=t.participant,i=t.videoOnly,a=t.enableScreenShare,o=t.videoPriority,s=t.isLocalParticipant,u=Xc(r);return n=a&&u.some((function(e){return e.trackName.includes("screen")}))?u.filter((function(e){return e.trackName.includes("screen")||"video"!==e.kind})):u.filter((function(e){return!e.trackName.includes("screen")})),e.createElement(e.Fragment,null,n.map((function(t){return e.createElement(tl,{key:t.kind,publication:t,participant:r,isLocalParticipant:s,videoOnly:i,videoPriority:o})})))}function rl(t){var n=t.participant,r=t.videoOnly,i=t.enableScreenShare,a=t.onClick,o=t.isSelected,s=t.isLocalParticipant,u=t.hideParticipant,c=t.isDominantSpeaker;return e.createElement(el,{participant:n,onClick:a,isSelected:o,isLocalParticipant:s,hideParticipant:u,isDominantSpeaker:c},e.createElement(nl,{participant:n,videoOnly:r,enableScreenShare:i,isLocalParticipant:s}))}var il=e.memo(rl),al=function(e,t,n,r){var i=e,a=e*ie,o=Math.floor(n/i);return Math.ceil(t/o)*a<=r};function ol(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=on(),i=r.room,a=(0,e.useState)(null!==(t=null===i||void 0===i?void 0:i.dominantSpeaker)&&void 0!==t?t:null),o=(0,G.Z)(a,2),s=o[0],u=o[1];return(0,e.useEffect)((function(){if(i){var e=function(e){(n||null!==e)&&u(e)},t=function(e){u((function(t){return t===e?null:t}))};return i.on("dominantSpeakerChanged",e),i.on("participantDisconnected",t),function(){i.off("dominantSpeakerChanged",e),i.off("participantDisconnected",t)}}}),[i,n]),s}function sl(){var t,n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=on(),a=i.room,o=ol(),s=Ot(),u=s.maxGalleryViewParticipants,c=(0,e.useState)(Array.from(null!==(t=null===a||void 0===a||null===(n=a.participants)||void 0===n?void 0:n.values())&&void 0!==t?t:[],(function(e){return{participant:e,dominantSpeakerStartTime:0}}))),l=(0,G.Z)(c,2),d=l[0],f=l[1];return(0,e.useEffect)((function(){null!==o&&f((function(e){var t=e.slice(),n=t.find((function(e){return e.participant===o}));if(!n)return e;n.dominantSpeakerStartTime=Date.now();var i=r?5:u-1,a=t.slice(0,i);if(!a.some((function(e){return e.participant===o}))){var s=a.sort((function(e,t){return e.dominantSpeakerStartTime-t.dominantSpeakerStartTime}))[0];t.splice(t.indexOf(n),1),t.splice(t.indexOf(s),1,n),t.splice(i,0,s)}return t}))}),[o,u,r]),(0,e.useEffect)((function(){if(a){var e=Array.from(a.participants.values(),(function(e){return{participant:e,dominantSpeakerStartTime:0}}));f(e);var t=function(e){f((function(t){return[].concat((0,C.Z)(t),[{participant:e,dominantSpeakerStartTime:0}])}))},n=function(e){f((function(t){return t.filter((function(t){return t.participant!==e}))}))};return a.on("participantConnected",t),a.on("participantDisconnected",n),function(){a.off("participantConnected",t),a.off("participantDisconnected",n)}}}),[a]),d.map((function(e){return e.participant}))}var ul=(0,e.createContext)(null),cl=function(t){var n=t.children,r=sl(!0),i=sl(),a=function(){var t,n=on().room,r=ol(),i=(0,e.useState)(Array.from(null!==(t=null===n||void 0===n?void 0:n.participants.values())&&void 0!==t?t:[])),a=(0,G.Z)(i,2),o=a[0],s=a[1];return(0,e.useEffect)((function(){r&&s((function(e){return[r].concat((0,C.Z)(e.filter((function(e){return e!==r}))))}))}),[r]),(0,e.useEffect)((function(){if(n){s(Array.from(n.participants.values()));var e=function(e){return s((function(t){return[].concat((0,C.Z)(t),[e])}))},t=function(e){return s((function(t){return t.filter((function(t){return t!==e}))}))};return n.on("participantConnected",e),n.on("participantDisconnected",t),function(){n.off("participantConnected",e),n.off("participantDisconnected",t)}}}),[n]),o}();return e.createElement(ul.Provider,{value:{mobileGalleryViewParticipants:r,galleryViewParticipants:i,speakerViewParticipants:a}},n)};function ll(){var t=(0,e.useContext)(ul);if(!t)throw new Error("useParticipantContext must be used within a ParticipantProvider");return t}var dl="50px",fl=k((function(e){return{container:{background:e.galleryViewBackgroundColor,position:"relative",gridArea:"1 / 1 / 2 / 3"},participantContainer:{position:"absolute",display:"flex",top:dl,right:dl,bottom:dl,left:dl,margin:"0 auto",alignContent:"center",flexWrap:"wrap",justifyContent:"center"},buttonContainer:{position:"absolute",top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center"},buttonContainerLeft:{right:"calc(100% - ".concat(dl,")"),left:0},buttonContainerRight:{right:0,left:"calc(100% - ".concat(dl,")")},pagination:{"& .MuiPaginationItem-root":{color:"white"}},paginationButton:{color:"black",background:"rgba(255, 255, 255, 0.8)",width:"40px",height:"40px","&:hover":{background:"rgba(255, 255, 255)"}},paginationContainer:{position:"absolute",top:"calc(100% - ".concat(dl,")"),right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"}}}));function pl(){var t=fl(),n=Ot().maxGalleryViewParticipants,r=on().room,i=ll().galleryViewParticipants,a=ol(!0),o=function(t){var n=(0,e.useState)(1),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=Ot().maxGalleryViewParticipants,s=Math.ceil(t.length/o),u=i>s;return(0,e.useEffect)((function(){u&&a(s)}),[u,s]),{paginatedParticipants:t.slice((i-1)*o,i*o),setCurrentPage:a,currentPage:i,totalPages:s}}([r.localParticipant].concat((0,C.Z)(i))),s=o.paginatedParticipants,u=o.setCurrentPage,c=o.currentPage,l=o.totalPages,d=function(t){var n=(0,e.useRef)(null),r=(0,e.useState)(0),i=(0,G.Z)(r,2),a=i[0],o=i[1],s=(0,e.useCallback)((function(){if(n.current){for(var e=n.current.offsetWidth-6,r=Math.max(n.current.offsetHeight-6,75),i=0,a=Math.pow(2,14);a-i>1;){var s=(a-i)/2+i;al(s,t,e,r)?i=s:a=s}var u=Math.ceil(i);o(u-6)}}),[t]);return(0,e.useEffect)((function(){var e=new window.ResizeObserver(s);return e.observe(n.current),function(){e.disconnect()}}),[s]),(0,e.useLayoutEffect)(s,[s]),{participantVideoWidth:a,containerRef:n}}(1===c?s.length:n),f=d.participantVideoWidth,p=d.containerRef,m="".concat(f,"px"),v="".concat(Math.floor(f*ie),"px");return e.createElement("div",{className:t.container},e.createElement("div",{className:(0,h.Z)(t.buttonContainer,t.buttonContainerLeft)},!(1===c)&&e.createElement(_u,{className:t.paginationButton,onClick:function(){return u((function(e){return e-1}))}},e.createElement(Pc.Z,null))),e.createElement("div",{className:(0,h.Z)(t.buttonContainer,t.buttonContainerRight)},!(c===l)&&e.createElement(_u,{className:t.paginationButton,onClick:function(){return u((function(e){return e+1}))}},e.createElement(Mc.Z,null))),e.createElement("div",{className:t.paginationContainer},l>1&&e.createElement(Wc,{className:t.pagination,page:c,count:l,onChange:function(e,t){return u(t)},shape:"rounded",color:"primary",size:"small",hidePrevButton:!0,hideNextButton:!0})),e.createElement("div",{className:t.participantContainer,ref:p},s.map((function(t){return e.createElement("div",{key:t.sid,style:{width:m,height:v,margin:3}},e.createElement(il,{participant:t,isLocalParticipant:t===r.localParticipant,isDominantSpeaker:t===a}))}))))}function hl(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:hl(t[n])&&hl(e[n])&&Object.keys(t[n]).length>0&&ml(e[n],t[n])}))}var vl={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function gl(){var e="undefined"!==typeof document?document:{};return ml(e,vl),e}var yl={document:vl,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function bl(){var e="undefined"!==typeof window?window:{};return ml(e,yl),e}var wl=n(82963);var kl=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e){var r;return(0,gn.Z)(this,n),"number"===typeof e?r=t.call(this,e):(r=t.call.apply(t,[this].concat((0,C.Z)(e||[]))),function(e){var t=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return t},set:function(e){t.__proto__=e}})}((0,A.Z)(r))),(0,wl.Z)(r)}return(0,yn.Z)(n)}((0,n(98737).Z)(Array));function xl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,(0,C.Z)(xl(e))):t.push(e)})),t}function _l(e,t){return Array.prototype.filter.call(e,t)}function Sl(e,t){var n=bl(),r=gl(),i=[];if(!t&&e instanceof kl)return e;if(!e)return new kl(i);if("string"===typeof e){var a=e.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var o="div";0===a.indexOf("<li")&&(o="ul"),0===a.indexOf("<tr")&&(o="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(o="tr"),0===a.indexOf("<tbody")&&(o="table"),0===a.indexOf("<option")&&(o="select");var s=r.createElement(o);s.innerHTML=a;for(var u=0;u<s.childNodes.length;u+=1)i.push(s.childNodes[u])}else i=function(e,t){if("string"!==typeof e)return[e];for(var n=[],r=t.querySelectorAll(e),i=0;i<r.length;i+=1)n.push(r[i]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)i.push(e);else if(Array.isArray(e)){if(e instanceof kl)return e;i=e}return new kl(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(i))}Sl.fn=kl.prototype;var El="resize scroll".split(" ");function Cl(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if("undefined"===typeof n[0]){for(var i=0;i<this.length;i+=1)El.indexOf(e)<0&&(e in this[i]?this[i][e]():Sl(this[i]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}}Cl("click"),Cl("blur"),Cl("focus"),Cl("focusin"),Cl("focusout"),Cl("keyup"),Cl("keydown"),Cl("keypress"),Cl("submit"),Cl("change"),Cl("mousedown"),Cl("mousemove"),Cl("mouseup"),Cl("mouseenter"),Cl("mouseleave"),Cl("mouseout"),Cl("mouseover"),Cl("touchstart"),Cl("touchend"),Cl("touchmove"),Cl("resize"),Cl("scroll");var Tl={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=xl(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,(0,C.Z)(r))})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=xl(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,(0,C.Z)(r))})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=xl(t.map((function(e){return e.split(" ")})));return _l(this,(function(e){return r.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=xl(t.map((function(e){return e.split(" ")})));this.forEach((function(e){r.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"===typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!==typeof e?"".concat(e,"ms"):e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];function s(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),Sl(t).is(i))a.apply(t,n);else for(var r=Sl(t).parents(),o=0;o<r.length;o+=1)Sl(r[o]).is(i)&&a.apply(r[o],n)}}function u(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),a.apply(this,t)}"function"===typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var c,l=r.split(" "),d=0;d<this.length;d+=1){var f=this[d];if(i)for(c=0;c<l.length;c+=1){var p=l[c];f.dom7LiveListeners||(f.dom7LiveListeners={}),f.dom7LiveListeners[p]||(f.dom7LiveListeners[p]=[]),f.dom7LiveListeners[p].push({listener:a,proxyListener:s}),f.addEventListener(p,s,o)}else for(c=0;c<l.length;c+=1){var h=l[c];f.dom7Listeners||(f.dom7Listeners={}),f.dom7Listeners[h]||(f.dom7Listeners[h]=[]),f.dom7Listeners[h].push({listener:a,proxyListener:u}),f.addEventListener(h,u,o)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];"function"===typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var s=r.split(" "),u=0;u<s.length;u+=1)for(var c=s[u],l=0;l<this.length;l+=1){var d=this[l],f=void 0;if(!i&&d.dom7Listeners?f=d.dom7Listeners[c]:i&&d.dom7LiveListeners&&(f=d.dom7LiveListeners[c]),f&&f.length)for(var p=f.length-1;p>=0;p-=1){var h=f[p];a&&h.listener===a||a&&h.listener&&h.listener.dom7proxy&&h.listener.dom7proxy===a?(d.removeEventListener(c,h.proxyListener,o),f.splice(p,1)):a||(d.removeEventListener(c,h.proxyListener,o),f.splice(p,1))}}return this},trigger:function(){for(var e=bl(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].split(" "),a=n[1],o=0;o<i.length;o+=1)for(var s=i[o],u=0;u<this.length;u+=1){var c=this[u];if(e.CustomEvent){var l=new e.CustomEvent(s,{detail:a,bubbles:!0,cancelable:!0});c.dom7EventData=n.filter((function(e,t){return t>0})),c.dispatchEvent(l),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=bl();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=bl(),t=gl(),n=this[0],r=n.getBoundingClientRect(),i=t.body,a=n.clientTop||i.clientTop||0,o=n.clientLeft||i.clientLeft||0,s=n===e?e.scrollY:n.scrollTop,u=n===e?e.scrollX:n.scrollLeft;return{top:r.top+s-a,left:r.left+u-o}}return null},css:function(e,t){var n,r=bl();if(1===arguments.length){if("string"!==typeof e){for(n=0;n<this.length;n+=1)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"===typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,n){e.apply(t,[t,n])})),this):this},html:function(e){if("undefined"===typeof e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if("undefined"===typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,r=bl(),i=gl(),a=this[0];if(!a||"undefined"===typeof e)return!1;if("string"===typeof e){if(a.matches)return a.matches(e);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(e);if(a.msMatchesSelector)return a.msMatchesSelector(e);for(t=Sl(e),n=0;n<t.length;n+=1)if(t[n]===a)return!0;return!1}if(e===i)return a===i;if(e===r)return a===r;if(e.nodeType||e instanceof kl){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===a)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if("undefined"===typeof e)return this;var t=this.length;if(e>t-1)return Sl([]);if(e<0){var n=t+e;return Sl(n<0?[]:[this[n]])}return Sl([this[e]])},append:function(){for(var e,t=gl(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"===typeof e){var i=t.createElement("div");for(i.innerHTML=e;i.firstChild;)this[r].appendChild(i.firstChild)}else if(e instanceof kl)for(var a=0;a<e.length;a+=1)this[r].appendChild(e[a]);else this[r].appendChild(e)}return this},prepend:function(e){var t,n,r=gl();for(t=0;t<this.length;t+=1)if("string"===typeof e){var i=r.createElement("div");for(i.innerHTML=e,n=i.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(i.childNodes[n],this[t].childNodes[0])}else if(e instanceof kl)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&Sl(this[0].nextElementSibling).is(e)?Sl([this[0].nextElementSibling]):Sl([]):this[0].nextElementSibling?Sl([this[0].nextElementSibling]):Sl([]):Sl([])},nextAll:function(e){var t=[],n=this[0];if(!n)return Sl([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?Sl(r).is(e)&&t.push(r):t.push(r),n=r}return Sl(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&Sl(t.previousElementSibling).is(e)?Sl([t.previousElementSibling]):Sl([]):t.previousElementSibling?Sl([t.previousElementSibling]):Sl([])}return Sl([])},prevAll:function(e){var t=[],n=this[0];if(!n)return Sl([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?Sl(r).is(e)&&t.push(r):t.push(r),n=r}return Sl(t)},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?Sl(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return Sl(t)},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?Sl(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return Sl(t)},closest:function(e){var t=this;return"undefined"===typeof e?Sl([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),i=0;i<r.length;i+=1)t.push(r[i]);return Sl(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)e&&!Sl(r[i]).is(e)||t.push(r[i]);return Sl(t)},filter:function(e){return Sl(_l(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(Tl).forEach((function(e){Object.defineProperty(Sl.fn,e,{value:Tl[e],writable:!0})}));var Al,Ol,Rl,Il=Sl;function Nl(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function Pl(){return Date.now()}function Ml(e,t){void 0===t&&(t="x");var n,r,i,a=bl(),o=function(e){var t,n=bl();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return a.WebKitCSSMatrix?((r=o.transform||o.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),i=new a.WebKitCSSMatrix("none"===r?"":r)):n=(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=a.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=a.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function Ll(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Dl(e){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function Fl(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==r&&null!==r&&!Dl(r))for(var i=Object.keys(Object(r)).filter((function(e){return t.indexOf(e)<0})),a=0,o=i.length;a<o;a+=1){var s=i[a],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(Ll(e[s])&&Ll(r[s])?r[s].__swiper__?e[s]=r[s]:Fl(e[s],r[s]):!Ll(e[s])&&Ll(r[s])?(e[s]={},r[s].__swiper__?e[s]=r[s]:Fl(e[s],r[s])):e[s]=r[s])}}return e}function Bl(e,t,n){e.style.setProperty(t,n)}function jl(e){var t,n=e.swiper,r=e.targetPosition,i=e.side,a=bl(),o=-n.translate,s=null,u=n.params.speed;n.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(n.cssModeFrameID);var c=r>o?"next":"prev",l=function(e,t){return"next"===c&&e>=t||"prev"===c&&e<=t};!function e(){t=(new Date).getTime(),null===s&&(s=t);var c=Math.max(Math.min((t-s)/u,1),0),d=.5-Math.cos(c*Math.PI)/2,p=o+d*(r-o);if(l(p,r)&&(p=r),n.wrapperEl.scrollTo((0,f.Z)({},i,p)),l(p,r))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout((function(){n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo((0,f.Z)({},i,p))})),void a.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=a.requestAnimationFrame(e)}()}function Zl(){return Al||(Al=function(){var e=bl(),t=gl();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(r){}return t}(),gestures:"ongesturestart"in e}}()),Al}function Vl(e){return void 0===e&&(e={}),Ol||(Ol=function(e){var t=(void 0===e?{}:e).userAgent,n=Zl(),r=bl(),i=r.navigator.platform,a=t||r.navigator.userAgent,o={ios:!1,android:!1},s=r.screen.width,u=r.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/),l=a.match(/(iPad).*OS\s([\d_]+)/),d=a.match(/(iPod)(.*OS\s([\d_]+))?/),f=!l&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===i,h="MacIntel"===i;return!l&&h&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(s,"x").concat(u))>=0&&((l=a.match(/(Version)\/([\d.]+)/))||(l=[0,1,"13_0_0"]),h=!1),c&&!p&&(o.os="android",o.android=!0),(l||f||d)&&(o.os="ios",o.ios=!0),o}(e)),Ol}function Ul(){return Rl||(Rl=function(){var e=bl();return{isSafari:function(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),Rl}var Wl={on:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];t.apply(r,a)}return i.__emitterProxy=t,r.on(e,i,n)},onAny:function(e,t){var n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!==typeof e)return n;var r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny:function(e){var t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((function(e){"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,i){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners||r.destroyed)return r;if(!r.eventsListeners)return r;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];"string"===typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),n=r):(e=a[0].events,t=a[0].data,n=a[0].context||r),t.unshift(n);var s=Array.isArray(e)?e:e.split(" ");return s.forEach((function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[e].concat((0,C.Z)(t)))})),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),r}};var Hl={updateSize:function(){var e,t,n=this,r=n.$el;e="undefined"!==typeof n.params.width&&null!==n.params.width?n.params.width:r[0].clientWidth,t="undefined"!==typeof n.params.height&&null!==n.params.height?n.params.height:r[0].clientHeight,0===e&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),t=t-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var r=e.params,i=e.$wrapperEl,a=e.size,o=e.rtlTranslate,s=e.wrongRTL,u=e.virtual&&r.virtual.enabled,c=u?e.virtual.slides.length:e.slides.length,l=i.children(".".concat(e.params.slideClass)),d=u?e.virtual.slides.length:l.length,p=[],h=[],m=[],v=r.slidesOffsetBefore;"function"===typeof v&&(v=r.slidesOffsetBefore.call(e));var g=r.slidesOffsetAfter;"function"===typeof g&&(g=r.slidesOffsetAfter.call(e));var y=e.snapGrid.length,b=e.slidesGrid.length,w=r.spaceBetween,k=-v,x=0,_=0;if("undefined"!==typeof a){"string"===typeof w&&w.indexOf("%")>=0&&(w=parseFloat(w.replace("%",""))/100*a),e.virtualSize=-w,o?l.css({marginLeft:"",marginBottom:"",marginTop:""}):l.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(Bl(e.wrapperEl,"--swiper-centered-offset-before",""),Bl(e.wrapperEl,"--swiper-centered-offset-after",""));var S,E=r.grid&&r.grid.rows>1&&e.grid;E&&e.grid.initSlides(d);for(var C="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((function(e){return"undefined"!==typeof r.breakpoints[e].slidesPerView})).length>0,T=0;T<d;T+=1){S=0;var A=l.eq(T);if(E&&e.grid.updateSlide(T,A,d,t),"none"!==A.css("display")){if("auto"===r.slidesPerView){C&&(l[T].style[t("width")]="");var O=getComputedStyle(A[0]),R=A[0].style.transform,I=A[0].style.webkitTransform;if(R&&(A[0].style.transform="none"),I&&(A[0].style.webkitTransform="none"),r.roundLengths)S=e.isHorizontal()?A.outerWidth(!0):A.outerHeight(!0);else{var N=n(O,"width"),P=n(O,"padding-left"),M=n(O,"padding-right"),L=n(O,"margin-left"),D=n(O,"margin-right"),F=O.getPropertyValue("box-sizing");if(F&&"border-box"===F)S=N+L+D;else{var B=A[0],j=B.clientWidth;S=N+P+M+L+D+(B.offsetWidth-j)}}R&&(A[0].style.transform=R),I&&(A[0].style.webkitTransform=I),r.roundLengths&&(S=Math.floor(S))}else S=(a-(r.slidesPerView-1)*w)/r.slidesPerView,r.roundLengths&&(S=Math.floor(S)),l[T]&&(l[T].style[t("width")]="".concat(S,"px"));l[T]&&(l[T].swiperSlideSize=S),m.push(S),r.centeredSlides?(k=k+S/2+x/2+w,0===x&&0!==T&&(k=k-a/2-w),0===T&&(k=k-a/2-w),Math.abs(k)<.001&&(k=0),r.roundLengths&&(k=Math.floor(k)),_%r.slidesPerGroup===0&&p.push(k),h.push(k)):(r.roundLengths&&(k=Math.floor(k)),(_-Math.min(e.params.slidesPerGroupSkip,_))%e.params.slidesPerGroup===0&&p.push(k),h.push(k),k=k+S+w),e.virtualSize+=S+w,x=S,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,a)+g,o&&s&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:"".concat(e.virtualSize+r.spaceBetween,"px")}),r.setWrapperSize&&i.css((0,f.Z)({},t("width"),"".concat(e.virtualSize+r.spaceBetween,"px"))),E&&e.grid.updateWrapperSize(S,p,t),!r.centeredSlides){for(var Z=[],V=0;V<p.length;V+=1){var U=p[V];r.roundLengths&&(U=Math.floor(U)),p[V]<=e.virtualSize-a&&Z.push(U)}p=Z,Math.floor(e.virtualSize-a)-Math.floor(p[p.length-1])>1&&p.push(e.virtualSize-a)}if(0===p.length&&(p=[0]),0!==r.spaceBetween){var W=e.isHorizontal()&&o?"marginLeft":t("marginRight");l.filter((function(e,t){return!r.cssMode||t!==l.length-1})).css((0,f.Z)({},W,"".concat(w,"px")))}if(r.centeredSlides&&r.centeredSlidesBounds){var H=0;m.forEach((function(e){H+=e+(r.spaceBetween?r.spaceBetween:0)}));var z=(H-=r.spaceBetween)-a;p=p.map((function(e){return e<0?-v:e>z?z+g:e}))}if(r.centerInsufficientSlides){var G=0;if(m.forEach((function(e){G+=e+(r.spaceBetween?r.spaceBetween:0)})),(G-=r.spaceBetween)<a){var q=(a-G)/2;p.forEach((function(e,t){p[t]=e-q})),h.forEach((function(e,t){h[t]=e+q}))}}if(Object.assign(e,{slides:l,snapGrid:p,slidesGrid:h,slidesSizesGrid:m}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Bl(e.wrapperEl,"--swiper-centered-offset-before","".concat(-p[0],"px")),Bl(e.wrapperEl,"--swiper-centered-offset-after","".concat(e.size/2-m[m.length-1]/2,"px"));var K=-e.snapGrid[0],Y=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((function(e){return e+K})),e.slidesGrid=e.slidesGrid.map((function(e){return e+Y}))}if(d!==c&&e.emit("slidesLengthChange"),p.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==b&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!u&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){var X="".concat(r.containerModifierClass,"backface-hidden"),Q=e.$el.hasClass(X);d<=r.maxBackfaceHiddenSlides?Q||e.$el.addClass(X):Q&&e.$el.removeClass(X)}}},updateAutoHeight:function(e){var t,n=this,r=[],i=n.virtual&&n.params.virtual.enabled,a=0;"number"===typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);var o=function(e){return i?n.slides.filter((function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e}))[0]:n.slides.eq(e)[0]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||Il([])).each((function(e){r.push(e)}));else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var s=n.activeIndex+t;if(s>n.slides.length&&!i)break;r.push(o(s))}else r.push(o(n.activeIndex));for(t=0;t<r.length;t+=1)if("undefined"!==typeof r[t]){var u=r[t].offsetHeight;a=u>a?u:a}(a||0===a)&&n.$wrapperEl.css("height","".concat(a,"px"))},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,n=t.params,r=t.slides,i=t.rtlTranslate,a=t.snapGrid;if(0!==r.length){"undefined"===typeof r[0].swiperSlideOffset&&t.updateSlidesOffset();var o=-e;i&&(o=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var s=0;s<r.length;s+=1){var u=r[s],c=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);var l=(o+(n.centeredSlides?t.minTranslate():0)-c)/(u.swiperSlideSize+n.spaceBetween),d=(o-a[0]+(n.centeredSlides?t.minTranslate():0)-c)/(u.swiperSlideSize+n.spaceBetween),f=-(o-c),p=f+t.slidesSizesGrid[s];(f>=0&&f<t.size-1||p>1&&p<=t.size||f<=0&&p>=t.size)&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(s),r.eq(s).addClass(n.slideVisibleClass)),u.progress=i?-l:l,u.originalProgress=i?-d:d}t.visibleSlides=Il(t.visibleSlides)}},updateProgress:function(e){var t=this;if("undefined"===typeof e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var r=t.params,i=t.maxTranslate()-t.minTranslate(),a=t.progress,o=t.isBeginning,s=t.isEnd,u=o,c=s;0===i?(a=0,o=!0,s=!0):(o=(a=(e-t.minTranslate())/i)<=0,s=a>=1),Object.assign(t,{progress:a,isBeginning:o,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),o&&!u&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(u&&!o||c&&!s)&&t.emit("fromEdge"),t.emit("progress",a)},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,i=t.$wrapperEl,a=t.activeIndex,o=t.realIndex,s=t.virtual&&r.virtual.enabled;n.removeClass("".concat(r.slideActiveClass," ").concat(r.slideNextClass," ").concat(r.slidePrevClass," ").concat(r.slideDuplicateActiveClass," ").concat(r.slideDuplicateNextClass," ").concat(r.slideDuplicatePrevClass)),(e=s?t.$wrapperEl.find(".".concat(r.slideClass,'[data-swiper-slide-index="').concat(a,'"]')):n.eq(a)).addClass(r.slideActiveClass),r.loop&&(e.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass));var u=e.nextAll(".".concat(r.slideClass)).eq(0).addClass(r.slideNextClass);r.loop&&0===u.length&&(u=n.eq(0)).addClass(r.slideNextClass);var c=e.prevAll(".".concat(r.slideClass)).eq(0).addClass(r.slidePrevClass);r.loop&&0===c.length&&(c=n.eq(-1)).addClass(r.slidePrevClass),r.loop&&(u.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass),c.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n=this,r=n.rtlTranslate?n.translate:-n.translate,i=n.slidesGrid,a=n.snapGrid,o=n.params,s=n.activeIndex,u=n.realIndex,c=n.snapIndex,l=e;if("undefined"===typeof l){for(var d=0;d<i.length;d+=1)"undefined"!==typeof i[d+1]?r>=i[d]&&r<i[d+1]-(i[d+1]-i[d])/2?l=d:r>=i[d]&&r<i[d+1]&&(l=d+1):r>=i[d]&&(l=d);o.normalizeSlideIndex&&(l<0||"undefined"===typeof l)&&(l=0)}if(a.indexOf(r)>=0)t=a.indexOf(r);else{var f=Math.min(o.slidesPerGroupSkip,l);t=f+Math.floor((l-f)/o.slidesPerGroup)}if(t>=a.length&&(t=a.length-1),l!==s){var p=parseInt(n.slides.eq(l).attr("data-swiper-slide-index")||l,10);Object.assign(n,{snapIndex:t,realIndex:p,previousIndex:s,activeIndex:l}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),u!==p&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else t!==c&&(n.snapIndex=t,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,n=this,r=n.params,i=Il(e).closest(".".concat(r.slideClass))[0],a=!1;if(i)for(var o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){a=!0,t=o;break}if(!i||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(Il(i).attr("data-swiper-slide-index"),10):n.clickedIndex=t,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var zl={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,n=t.params,r=t.rtlTranslate,i=t.translate,a=t.$wrapperEl;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;var o=Ml(a[0],e);return r&&(o=-o),o||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,i=n.params,a=n.$wrapperEl,o=n.wrapperEl,s=n.progress,u=0,c=0;n.isHorizontal()?u=r?-e:e:c=e,i.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:i.virtualTranslate||a.transform("translate3d(".concat(u,"px, ").concat(c,"px, ").concat(0,"px)")),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c;var l=n.maxTranslate()-n.minTranslate();(0===l?0:(e-n.minTranslate())/l)!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var a=this,o=a.params,s=a.wrapperEl;if(a.animating&&o.preventInteractionOnTransition)return!1;var u,c=a.minTranslate(),l=a.maxTranslate();if(u=r&&e>c?c:r&&e<l?l:e,a.updateProgress(u),o.cssMode){var d=a.isHorizontal();if(0===t)s[d?"scrollLeft":"scrollTop"]=-u;else{var p;if(!a.support.smoothScroll)return jl({swiper:a,targetPosition:-u,side:d?"left":"top"}),!0;s.scrollTo((p={},(0,f.Z)(p,d?"left":"top",-u),(0,f.Z)(p,"behavior","smooth"),p))}return!0}return 0===t?(a.setTransition(0),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}};function Gl(e){var t=e.swiper,n=e.runCallbacks,r=e.direction,i=e.step,a=t.activeIndex,o=t.previousIndex,s=r;if(s||(s=a>o?"next":a<o?"prev":"reset"),t.emit("transition".concat(i)),n&&a!==o){if("reset"===s)return void t.emit("slideResetTransition".concat(i));t.emit("slideChangeTransition".concat(i)),"next"===s?t.emit("slideNextTransition".concat(i)):t.emit("slidePrevTransition".concat(i))}}var ql={slideTo:function(e,t,n,r,i){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"number"!==typeof e&&"string"!==typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [".concat(typeof e,"] given."));if("string"===typeof e){var a=parseInt(e,10);if(!isFinite(a))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=a}var o=this,s=e;s<0&&(s=0);var u=o.params,c=o.snapGrid,l=o.slidesGrid,d=o.previousIndex,p=o.activeIndex,h=o.rtlTranslate,m=o.wrapperEl,v=o.enabled;if(o.animating&&u.preventInteractionOnTransition||!v&&!r&&!i)return!1;var g=Math.min(o.params.slidesPerGroupSkip,s),y=g+Math.floor((s-g)/o.params.slidesPerGroup);y>=c.length&&(y=c.length-1),(p||u.initialSlide||0)===(d||0)&&n&&o.emit("beforeSlideChangeStart");var b,w=-c[y];if(o.updateProgress(w),u.normalizeSlideIndex)for(var k=0;k<l.length;k+=1){var x=-Math.floor(100*w),_=Math.floor(100*l[k]),S=Math.floor(100*l[k+1]);"undefined"!==typeof l[k+1]?x>=_&&x<S-(S-_)/2?s=k:x>=_&&x<S&&(s=k+1):x>=_&&(s=k)}if(o.initialized&&s!==p){if(!o.allowSlideNext&&w<o.translate&&w<o.minTranslate())return!1;if(!o.allowSlidePrev&&w>o.translate&&w>o.maxTranslate()&&(p||0)!==s)return!1}if(b=s>p?"next":s<p?"prev":"reset",h&&-w===o.translate||!h&&w===o.translate)return o.updateActiveIndex(s),u.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==u.effect&&o.setTranslate(w),"reset"!==b&&(o.transitionStart(n,b),o.transitionEnd(n,b)),!1;if(u.cssMode){var E=o.isHorizontal(),C=h?w:-w;if(0===t){var T=o.virtual&&o.params.virtual.enabled;T&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),m[E?"scrollLeft":"scrollTop"]=C,T&&requestAnimationFrame((function(){o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1}))}else{var A;if(!o.support.smoothScroll)return jl({swiper:o,targetPosition:C,side:E?"left":"top"}),!0;m.scrollTo((A={},(0,f.Z)(A,E?"left":"top",C),(0,f.Z)(A,"behavior","smooth"),A))}return!0}return o.setTransition(t),o.setTranslate(w),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,r),o.transitionStart(n,b),0===t?o.transitionEnd(n,b):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,b))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,r){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"string"===typeof e){var i=parseInt(e,10);if(!isFinite(i))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=i}var a=this,o=e;return a.params.loop&&(o+=a.loopedSlides),a.slideTo(o,t,n,r)},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.animating,a=r.enabled,o=r.params;if(!a)return r;var s=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));var u=r.activeIndex<o.slidesPerGroupSkip?1:s;if(o.loop){if(i&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+u,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.params,a=r.animating,o=r.snapGrid,s=r.slidesGrid,u=r.rtlTranslate;if(!r.enabled)return r;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var l,d=c(u?r.translate:-r.translate),f=o.map((function(e){return c(e)})),p=o[f.indexOf(d)-1];"undefined"===typeof p&&i.cssMode&&(o.forEach((function(e,t){d>=e&&(l=t)})),"undefined"!==typeof l&&(p=o[l>0?l-1:l]));var h=0;if("undefined"!==typeof p&&((h=s.indexOf(p))<0&&(h=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(h=h-r.slidesPerViewDynamic("previous",!0)+1,h=Math.max(h,0))),i.rewind&&r.isBeginning){var m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,e,t,n)}return r.slideTo(h,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);var i=this,a=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,a),s=o+Math.floor((a-o)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[s]){var c=i.snapGrid[s];u-c>(i.snapGrid[s+1]-c)*r&&(a+=i.params.slidesPerGroup)}else{var l=i.snapGrid[s-1];u-l<=(i.snapGrid[s]-l)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,a=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(Il(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?a<t.loopedSlides-i/2||a>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),Nl((function(){t.slideTo(a)}))):t.slideTo(a):a>t.slides.length-i?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),Nl((function(){t.slideTo(a)}))):t.slideTo(a)}else t.slideTo(a)}};var Kl={loopCreate:function(){var e=this,t=gl(),n=e.params,r=e.$wrapperEl,i=r.children().length>0?Il(r.children()[0].parentNode):r;i.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass)).remove();var a=i.children(".".concat(n.slideClass));if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-a.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var s=0;s<o;s+=1){var u=Il(t.createElement("div")).addClass("".concat(n.slideClass," ").concat(n.slideBlankClass));i.append(u)}a=i.children(".".concat(n.slideClass))}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=a.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>a.length&&(e.loopedSlides=a.length);var c=[],l=[];a.each((function(t,n){var r=Il(t);n<e.loopedSlides&&l.push(t),n<a.length&&n>=a.length-e.loopedSlides&&c.push(t),r.attr("data-swiper-slide-index",n)}));for(var d=0;d<l.length;d+=1)i.append(Il(l[d].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var f=c.length-1;f>=0;f-=1)i.prepend(Il(c[f].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,n=e.activeIndex,r=e.slides,i=e.loopedSlides,a=e.allowSlidePrev,o=e.allowSlideNext,s=e.snapGrid,u=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var c=-s[n]-e.getTranslate();if(n<i)t=r.length-3*i+n,t+=i,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c);else if(n>=r.length-i){t=-r.length+n+i,t+=i,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c)}e.allowSlidePrev=a,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides;t.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,",.").concat(n.slideClass,".").concat(n.slideBlankClass)).remove(),r.removeAttr("data-swiper-slide-index")}};function Yl(e){var t=this,n=gl(),r=bl(),i=t.touchEventsData,a=t.params,o=t.touches;if(t.enabled&&(!t.animating||!a.preventInteractionOnTransition)){!t.animating&&a.cssMode&&a.loop&&t.loopFix();var s=e;s.originalEvent&&(s=s.originalEvent);var u=Il(s.target);if(("wrapper"!==a.touchEventsTarget||u.closest(t.wrapperEl).length)&&(i.isTouchEvent="touchstart"===s.type,(i.isTouchEvent||!("which"in s)||3!==s.which)&&!(!i.isTouchEvent&&"button"in s&&s.button>0)&&(!i.isTouched||!i.isMoved))){!!a.noSwipingClass&&""!==a.noSwipingClass&&s.target&&s.target.shadowRoot&&e.path&&e.path[0]&&(u=Il(e.path[0]));var c=a.noSwipingSelector?a.noSwipingSelector:".".concat(a.noSwipingClass),l=!(!s.target||!s.target.shadowRoot);if(a.noSwiping&&(l?function(e,t){return void 0===t&&(t=this),function t(n){if(!n||n===gl()||n===bl())return null;n.assignedSlot&&(n=n.assignedSlot);var r=n.closest(e);return r||n.getRootNode?r||t(n.getRootNode().host):null}(t)}(c,u[0]):u.closest(c)[0]))t.allowClick=!0;else if(!a.swipeHandler||u.closest(a.swipeHandler)[0]){o.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,o.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;var d=o.currentX,f=o.currentY,p=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,h=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(p&&(d<=h||d>=r.innerWidth-h)){if("prevent"!==p)return;e.preventDefault()}if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=d,o.startY=f,i.touchStartTime=Pl(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==s.type){var m=!0;u.is(i.focusableElements)&&(m=!1,"SELECT"===u[0].nodeName&&(i.isTouched=!1)),n.activeElement&&Il(n.activeElement).is(i.focusableElements)&&n.activeElement!==u[0]&&n.activeElement.blur();var v=m&&t.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!v||u[0].isContentEditable||s.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}}}}function Xl(e){var t=gl(),n=this,r=n.touchEventsData,i=n.params,a=n.touches,o=n.rtlTranslate;if(n.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===s.type){var u="touchmove"===s.type&&s.targetTouches&&(s.targetTouches[0]||s.changedTouches[0]),c="touchmove"===s.type?u.pageX:s.pageX,l="touchmove"===s.type?u.pageY:s.pageY;if(s.preventedByNestedSwiper)return a.startX=c,void(a.startY=l);if(!n.allowTouchMove)return Il(s.target).is(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(a,{startX:c,startY:l,currentX:c,currentY:l}),r.touchStartTime=Pl()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(l<a.startY&&n.translate<=n.maxTranslate()||l>a.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(c<a.startX&&n.translate<=n.maxTranslate()||c>a.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&s.target===t.activeElement&&Il(s.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){a.currentX=c,a.currentY=l;var d=a.currentX-a.startX,f=a.currentY-a.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(d,2)+Math.pow(f,2))<n.params.threshold)){var p;if("undefined"===typeof r.isScrolling)n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:d*d+f*f>=25&&(p=180*Math.atan2(Math.abs(f),Math.abs(d))/Math.PI,r.isScrolling=n.isHorizontal()?p>i.touchAngle:90-p>i.touchAngle);if(r.isScrolling&&n.emit("touchMoveOpposite",s),"undefined"===typeof r.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!i.cssMode&&s.cancelable&&s.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&s.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",s)),n.emit("sliderMove",s),r.isMoved=!0;var h=n.isHorizontal()?d:f;a.diff=h,h*=i.touchRatio,o&&(h=-h),n.swipeDirection=h>0?"prev":"next",r.currentTranslate=h+r.startTranslate;var m=!0,v=i.resistanceRatio;if(i.touchReleaseOnEdges&&(v=0),h>0&&r.currentTranslate>n.minTranslate()?(m=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+h,v))):h<0&&r.currentTranslate<n.maxTranslate()&&(m=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-h,v))),m&&(s.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(h)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,void(a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",s)}}function Ql(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,a=t.rtlTranslate,o=t.slidesGrid;if(t.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,c=Pl(),l=c-n.touchStartTime;if(t.allowClick){var d=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(d&&d[0]||s.target),t.emit("tap click",s),l<300&&c-n.lastClickTime<300&&t.emit("doubleTap doubleClick",s)}if(n.lastClickTime=Pl(),Nl((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,u=r.followFinger?a?t.translate:-t.translate:-n.currentTranslate,!r.cssMode)if(t.params.freeMode&&r.freeMode.enabled)t.freeMode.onTouchEnd({currentPos:u});else{for(var f=0,p=t.slidesSizesGrid[0],h=0;h<o.length;h+=h<r.slidesPerGroupSkip?1:r.slidesPerGroup){var m=h<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;"undefined"!==typeof o[h+m]?u>=o[h]&&u<o[h+m]&&(f=h,p=o[h+m]-o[h]):u>=o[h]&&(f=h,p=o[o.length-1]-o[o.length-2])}var v=null,g=null;r.rewind&&(t.isBeginning?g=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(v=0));var y=(u-o[f])/p,b=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(l>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(y>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?v:f+b):t.slideTo(f)),"prev"===t.swipeDirection&&(y>1-r.longSwipesRatio?t.slideTo(f+b):null!==g&&y<0&&Math.abs(y)>r.longSwipesRatio?t.slideTo(g):t.slideTo(f))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(s.target===t.navigation.nextEl||s.target===t.navigation.prevEl)?s.target===t.navigation.nextEl?t.slideTo(f+b):t.slideTo(f):("next"===t.swipeDirection&&t.slideTo(null!==v?v:f+b),"prev"===t.swipeDirection&&t.slideTo(null!==g?g:f))}}}}function Jl(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,i=e.allowSlidePrev,a=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}}function $l(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function ed(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}var td=!1;function nd(){}var rd=function(e,t){var n=gl(),r=e.params,i=e.touchEvents,a=e.el,o=e.wrapperEl,s=e.device,u=e.support,c=!!r.nested,l="on"===t?"addEventListener":"removeEventListener",d=t;if(u.touch){var f=!("touchstart"!==i.start||!u.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};a[l](i.start,e.onTouchStart,f),a[l](i.move,e.onTouchMove,u.passiveListener?{passive:!1,capture:c}:c),a[l](i.end,e.onTouchEnd,f),i.cancel&&a[l](i.cancel,e.onTouchEnd,f)}else a[l](i.start,e.onTouchStart,!1),n[l](i.move,e.onTouchMove,c),n[l](i.end,e.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&a[l]("click",e.onClick,!0),r.cssMode&&o[l]("scroll",e.onScroll),r.updateOnWindowResize?e[d](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",Jl,!0):e[d]("observerUpdate",Jl,!0)};var id={attachEvents:function(){var e=this,t=gl(),n=e.params,r=e.support;e.onTouchStart=Yl.bind(e),e.onTouchMove=Xl.bind(e),e.onTouchEnd=Ql.bind(e),n.cssMode&&(e.onScroll=ed.bind(e)),e.onClick=$l.bind(e),r.touch&&!td&&(t.addEventListener("touchstart",nd),td=!0),rd(e,"on")},detachEvents:function(){rd(this,"off")}},ad=function(e,t){return e.grid&&t.grid&&t.grid.rows>1};var od={setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,i=void 0===r?0:r,a=e.params,o=e.$el,s=a.breakpoints;if(s&&(!s||0!==Object.keys(s).length)){var u=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(u&&e.currentBreakpoint!==u){var c=(u in s?s[u]:void 0)||e.originalParams,l=ad(e,a),d=ad(e,c),f=a.enabled;l&&!d?(o.removeClass("".concat(a.containerModifierClass,"grid ").concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses()):!l&&d&&(o.addClass("".concat(a.containerModifierClass,"grid")),(c.grid.fill&&"column"===c.grid.fill||!c.grid.fill&&"column"===a.grid.fill)&&o.addClass("".concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((function(t){var n=a[t]&&a[t].enabled,r=c[t]&&c[t].enabled;n&&!r&&e[t].disable(),!n&&r&&e[t].enable()}));var p=c.direction&&c.direction!==a.direction,h=a.loop&&(c.slidesPerView!==a.slidesPerView||p);p&&n&&e.changeDirection(),Fl(e.params,c);var m=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!m?e.disable():!f&&m&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",c),h&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",c)}}},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),e&&("container"!==t||n)){var r=!1,i=bl(),a="window"===t?i.innerHeight:n.clientHeight,o=Object.keys(e).map((function(e){if("string"===typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:a*t,point:e}}return{value:e,point:e}}));o.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var s=0;s<o.length;s+=1){var u=o[s],c=u.point,l=u.value;"window"===t?i.matchMedia("(min-width: ".concat(l,"px)")).matches&&(r=c):l<=n.clientWidth&&(r=c)}return r||"max"}}};var sd={addClasses:function(){var e=this,t=e.classNames,n=e.params,r=e.rtl,i=e.$el,a=e.device,o=e.support,s=function(e,t){var n=[];return e.forEach((function(e){"object"===typeof e?Object.keys(e).forEach((function(r){e[r]&&n.push(t+r)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push.apply(t,(0,C.Z)(s)),i.addClass((0,C.Z)(t).join(" ")),e.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,n=e.classNames;t.removeClass(n.join(" ")),e.emitContainerClasses()}};var ud={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function cd(e,t){return function(n){void 0===n&&(n={});var r=Object.keys(n)[0],i=n[r];"object"===typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in i?(!0===e[r]&&(e[r]={enabled:!0}),"object"!==typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),Fl(t,n)):Fl(t,n)):Fl(t,n)}}var ld={eventsEmitter:Wl,update:Hl,translate:zl,transition:{setTransition:function(e,t){var n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Gl({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;n.animating=!1,r.cssMode||(n.setTransition(0),Gl({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:ql,loop:Kl,grabCursor:{setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:id,breakpoints:od,checkOverflow:{checkOverflow:function(){var e=this,t=e.isLocked,n=e.params,r=n.slidesOffsetBefore;if(r){var i=e.slides.length-1,a=e.slidesGrid[i]+e.slidesSizesGrid[i]+2*r;e.isLocked=e.size>a}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:sd,images:{loadImage:function(e,t,n,r,i,a){var o,s=bl();function u(){a&&a()}Il(e).parent("picture")[0]||e.complete&&i?u():t?((o=new s.Image).onload=u,o.onerror=u,r&&(o.sizes=r),n&&(o.srcset=n),t&&(o.src=t)):u()},preloadImages:function(){var e=this;function t(){"undefined"!==typeof e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}}},dd={},fd=function(){function e(){var t,n;(0,gn.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(t=i[0],n=i[1]),n||(n={}),n=Fl({},n),t&&!n.el&&(n.el=t),n.el&&Il(n.el).length>1){var o=[];return Il(n.el).each((function(t){var r=Fl({},n,{el:t});o.push(new e(r))})),o}var s,u=this;(u.__swiper__=!0,u.support=Zl(),u.device=Vl({userAgent:n.userAgent}),u.browser=Ul(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=(0,C.Z)(u.__modules__),n.modules&&Array.isArray(n.modules))&&(s=u.modules).push.apply(s,(0,C.Z)(n.modules));var c={};u.modules.forEach((function(e){e({swiper:u,extendParams:cd(n,c),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})}));var l=Fl({},ud,c);return u.params=Fl({},l,dd,n),u.originalParams=Fl({},u.params),u.passedParams=Fl({},n),u.params&&u.params.on&&Object.keys(u.params.on).forEach((function(e){u.on(e,u.params.on[e])})),u.params&&u.params.onAny&&u.onAny(u.params.onAny),u.$=Il,Object.assign(u,{enabled:u.params.enabled,el:t,classNames:[],slides:Il(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===u.params.direction},isVertical:function(){return"vertical"===u.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEvents:function(){var e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return u.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},u.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},u.support.touch||!u.params.simulateTouch?u.touchEventsTouch:u.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:Pl(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}return(0,yn.Z)(e,[{key:"enable",value:function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}},{key:"disable",value:function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}},{key:"setProgress",value:function(e,t){var n=this;e=Math.min(Math.max(e,0),1);var r=n.minTranslate(),i=(n.maxTranslate()-r)*e+r;n.translateTo(i,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}},{key:"emitContainerClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}}},{key:"getSlideClasses",value:function(e){var t=this;return t.destroyed?"":e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")}},{key:"emitSlidesClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}}},{key:"slidesPerViewDynamic",value:function(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);var n=this,r=n.params,i=n.slides,a=n.slidesGrid,o=n.slidesSizesGrid,s=n.size,u=n.activeIndex,c=1;if(r.centeredSlides){for(var l,d=i[u].swiperSlideSize,f=u+1;f<i.length;f+=1)i[f]&&!l&&(c+=1,(d+=i[f].swiperSlideSize)>s&&(l=!0));for(var p=u-1;p>=0;p-=1)i[p]&&!l&&(c+=1,(d+=i[p].swiperSlideSize)>s&&(l=!0))}else if("current"===e)for(var h=u+1;h<i.length;h+=1){(t?a[h]+o[h]-a[u]<s:a[h]-a[u]<s)&&(c+=1)}else for(var m=u-1;m>=0;m-=1){a[u]-a[m]<s&&(c+=1)}return c}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}}},{key:"changeDirection",value:function(e,t){void 0===t&&(t=!0);var n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass("".concat(n.params.containerModifierClass).concat(r)).addClass("".concat(n.params.containerModifierClass).concat(e)),n.emitContainerClasses(),n.params.direction=e,n.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}},{key:"changeLanguageDirection",value:function(e){var t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.$el.removeClass("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}},{key:"mount",value:function(e){var t=this;if(t.mounted)return!0;var n=Il(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;var r=function(){return".".concat((t.params.wrapperClass||"").trim().split(" ").join("."))},i=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=Il(e.shadowRoot.querySelector(r()));return t.children=function(e){return n.children(e)},t}return n.children?n.children(r()):Il(n).children(r())}();if(0===i.length&&t.params.createElements){var a=gl().createElement("div");i=Il(a),a.className=t.params.wrapperClass,n.append(a),n.children(".".concat(t.params.slideClass)).each((function(e){i.append(e)}))}return Object.assign(t,{$el:n,el:e,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0}},{key:"init",value:function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}},{key:"destroy",value:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n=this,r=n.params,i=n.$el,a=n.$wrapperEl,o=n.slides;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i.removeAttr("style"),a.removeAttr("style"),o&&o.length&&o.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((function(e){n.off(e)})),!1!==e&&(n.$el[0].swiper=null,function(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}}))}(n)),n.destroyed=!0),null}}],[{key:"extendDefaults",value:function(e){Fl(dd,e)}},{key:"extendedDefaults",get:function(){return dd}},{key:"defaults",get:function(){return ud}},{key:"installModule",value:function(t){e.prototype.__modules__||(e.prototype.__modules__=[]);var n=e.prototype.__modules__;"function"===typeof t&&n.indexOf(t)<0&&n.push(t)}},{key:"use",value:function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)}}]),e}();Object.keys(ld).forEach((function(e){Object.keys(ld[e]).forEach((function(t){fd.prototype[t]=ld[e][t]}))})),fd.use([function(e){var t=e.swiper,n=e.on,r=e.emit,i=bl(),a=null,o=null,s=function(){t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},u=function(){t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(function(){t.params.resizeObserver&&"undefined"!==typeof i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(a=new ResizeObserver((function(e){o=i.requestAnimationFrame((function(){var n=t.width,r=t.height,i=n,a=r;e.forEach((function(e){var n=e.contentBoxSize,r=e.contentRect,o=e.target;o&&o!==t.el||(i=r?r.width:(n[0]||n).inlineSize,a=r?r.height:(n[0]||n).blockSize)})),i===n&&a===r||s()}))})),a.observe(t.el)):(i.addEventListener("resize",s),i.addEventListener("orientationchange",u))})),n("destroy",(function(){o&&i.cancelAnimationFrame(o),a&&a.unobserve&&t.el&&(a.unobserve(t.el),a=null),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",u)}))},function(e){var t=e.swiper,n=e.extendParams,r=e.on,i=e.emit,a=[],o=bl(),s=function(e,t){void 0===t&&(t={});var n=new(o.MutationObserver||o.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){i("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0)}else i("observerUpdate",e[0])}));n.observe(e,{attributes:"undefined"===typeof t.attributes||t.attributes,childList:"undefined"===typeof t.childList||t.childList,characterData:"undefined"===typeof t.characterData||t.characterData}),a.push(n)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(function(){if(t.params.observer){if(t.params.observeParents)for(var e=t.$el.parents(),n=0;n<e.length;n+=1)s(e[n]);s(t.$el[0],{childList:t.params.observeSlideChildren}),s(t.$wrapperEl[0],{attributes:!1})}})),r("destroy",(function(){a.forEach((function(e){e.disconnect()})),a.splice(0,a.length)}))}]);var pd=fd;function hd(e){return void 0===e&&(e=""),".".concat(e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,"."))}function md(e){var t,n=e.swiper,r=e.extendParams,i=e.on,a=e.emit,o="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"".concat(o,"-bullet"),bulletActiveClass:"".concat(o,"-bullet-active"),modifierClass:"".concat(o,"-"),currentClass:"".concat(o,"-current"),totalClass:"".concat(o,"-total"),hiddenClass:"".concat(o,"-hidden"),progressbarFillClass:"".concat(o,"-progressbar-fill"),progressbarOppositeClass:"".concat(o,"-progressbar-opposite"),clickableClass:"".concat(o,"-clickable"),lockClass:"".concat(o,"-lock"),horizontalClass:"".concat(o,"-horizontal"),verticalClass:"".concat(o,"-vertical"),paginationDisabledClass:"".concat(o,"-disabled")}}),n.pagination={el:null,$el:null,bullets:[]};var s=0;function u(){return!n.params.pagination.el||!n.pagination.el||!n.pagination.$el||0===n.pagination.$el.length}function c(e,t){var r=n.params.pagination.bulletActiveClass;e[t]().addClass("".concat(r,"-").concat(t))[t]().addClass("".concat(r,"-").concat(t,"-").concat(t))}function l(){var e=n.rtl,r=n.params.pagination;if(!u()){var i,o=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,l=n.pagination.$el,d=n.params.loop?Math.ceil((o-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?((i=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup))>o-1-2*n.loopedSlides&&(i-=o-2*n.loopedSlides),i>d-1&&(i-=d),i<0&&"bullets"!==n.params.paginationType&&(i=d+i)):i="undefined"!==typeof n.snapIndex?n.snapIndex:n.activeIndex||0,"bullets"===r.type&&n.pagination.bullets&&n.pagination.bullets.length>0){var f,p,h,m=n.pagination.bullets;if(r.dynamicBullets&&(t=m.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),l.css(n.isHorizontal()?"width":"height","".concat(t*(r.dynamicMainBullets+4),"px")),r.dynamicMainBullets>1&&void 0!==n.previousIndex&&((s+=i-(n.previousIndex-n.loopedSlides||0))>r.dynamicMainBullets-1?s=r.dynamicMainBullets-1:s<0&&(s=0)),f=Math.max(i-s,0),h=((p=f+(Math.min(m.length,r.dynamicMainBullets)-1))+f)/2),m.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((function(e){return"".concat(r.bulletActiveClass).concat(e)})).join(" ")),l.length>1)m.each((function(e){var t=Il(e),n=t.index();n===i&&t.addClass(r.bulletActiveClass),r.dynamicBullets&&(n>=f&&n<=p&&t.addClass("".concat(r.bulletActiveClass,"-main")),n===f&&c(t,"prev"),n===p&&c(t,"next"))}));else{var v=m.eq(i),g=v.index();if(v.addClass(r.bulletActiveClass),r.dynamicBullets){for(var y=m.eq(f),b=m.eq(p),w=f;w<=p;w+=1)m.eq(w).addClass("".concat(r.bulletActiveClass,"-main"));if(n.params.loop)if(g>=m.length){for(var k=r.dynamicMainBullets;k>=0;k-=1)m.eq(m.length-k).addClass("".concat(r.bulletActiveClass,"-main"));m.eq(m.length-r.dynamicMainBullets-1).addClass("".concat(r.bulletActiveClass,"-prev"))}else c(y,"prev"),c(b,"next");else c(y,"prev"),c(b,"next")}}if(r.dynamicBullets){var x=Math.min(m.length,r.dynamicMainBullets+4),_=(t*x-t)/2-h*t,S=e?"right":"left";m.css(n.isHorizontal()?S:"top","".concat(_,"px"))}}if("fraction"===r.type&&(l.find(hd(r.currentClass)).text(r.formatFractionCurrent(i+1)),l.find(hd(r.totalClass)).text(r.formatFractionTotal(d))),"progressbar"===r.type){var E;E=r.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical";var C=(i+1)/d,T=1,A=1;"horizontal"===E?T=C:A=C,l.find(hd(r.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(".concat(T,") scaleY(").concat(A,")")).transition(n.params.speed)}"custom"===r.type&&r.renderCustom?(l.html(r.renderCustom(n,i+1,d)),a("paginationRender",l[0])):a("paginationUpdate",l[0]),n.params.watchOverflow&&n.enabled&&l[n.isLocked?"addClass":"removeClass"](r.lockClass)}}function d(){var e=n.params.pagination;if(!u()){var t=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,r=n.pagination.$el,i="";if("bullets"===e.type){var o=n.params.loop?Math.ceil((t-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&!n.params.loop&&o>t&&(o=t);for(var s=0;s<o;s+=1)e.renderBullet?i+=e.renderBullet.call(n,s,e.bulletClass):i+="<".concat(e.bulletElement,' class="').concat(e.bulletClass,'"></').concat(e.bulletElement,">");r.html(i),n.pagination.bullets=r.find(hd(e.bulletClass))}"fraction"===e.type&&(i=e.renderFraction?e.renderFraction.call(n,e.currentClass,e.totalClass):'<span class="'.concat(e.currentClass,'"></span>')+" / "+'<span class="'.concat(e.totalClass,'"></span>'),r.html(i)),"progressbar"===e.type&&(i=e.renderProgressbar?e.renderProgressbar.call(n,e.progressbarFillClass):'<span class="'.concat(e.progressbarFillClass,'"></span>'),r.html(i)),"custom"!==e.type&&a("paginationRender",n.pagination.$el[0])}}function f(){n.params.pagination=function(e,t,n,r){var i=gl();return e.params.createElements&&Object.keys(r).forEach((function(a){if(!n[a]&&!0===n.auto){var o=e.$el.children(".".concat(r[a]))[0];o||((o=i.createElement("div")).className=r[a],e.$el.append(o)),n[a]=o,t[a]=o}})),n}(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});var e=n.params.pagination;if(e.el){var t=Il(e.el);0!==t.length&&(n.params.uniqueNavElements&&"string"===typeof e.el&&t.length>1&&(t=n.$el.find(e.el)).length>1&&(t=t.filter((function(e){return Il(e).parents(".swiper")[0]===n.el}))),"bullets"===e.type&&e.clickable&&t.addClass(e.clickableClass),t.addClass(e.modifierClass+e.type),t.addClass(n.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(t.addClass("".concat(e.modifierClass).concat(e.type,"-dynamic")),s=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&t.addClass(e.progressbarOppositeClass),e.clickable&&t.on("click",hd(e.bulletClass),(function(e){e.preventDefault();var t=Il(this).index()*n.params.slidesPerGroup;n.params.loop&&(t+=n.loopedSlides),n.slideTo(t)})),Object.assign(n.pagination,{$el:t,el:t[0]}),n.enabled||t.addClass(e.lockClass))}}function p(){var e=n.params.pagination;if(!u()){var t=n.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),t.removeClass(n.isHorizontal()?e.horizontalClass:e.verticalClass),n.pagination.bullets&&n.pagination.bullets.removeClass&&n.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click",hd(e.bulletClass))}}i("init",(function(){!1===n.params.pagination.enabled?h():(f(),d(),l())})),i("activeIndexChange",(function(){(n.params.loop||"undefined"===typeof n.snapIndex)&&l()})),i("snapIndexChange",(function(){n.params.loop||l()})),i("slidesLengthChange",(function(){n.params.loop&&(d(),l())})),i("snapGridLengthChange",(function(){n.params.loop||(d(),l())})),i("destroy",(function(){p()})),i("enable disable",(function(){var e=n.pagination.$el;e&&e[n.enabled?"removeClass":"addClass"](n.params.pagination.lockClass)})),i("lock unlock",(function(){l()})),i("click",(function(e,t){var r=t.target,i=n.pagination.$el;if(n.params.pagination.el&&n.params.pagination.hideOnClick&&i&&i.length>0&&!Il(r).hasClass(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&r===n.navigation.nextEl||n.navigation.prevEl&&r===n.navigation.prevEl))return;var o=i.hasClass(n.params.pagination.hiddenClass);a(!0===o?"paginationShow":"paginationHide"),i.toggleClass(n.params.pagination.hiddenClass)}}));var h=function(){n.$el.addClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.addClass(n.params.pagination.paginationDisabledClass),p()};Object.assign(n.pagination,{enable:function(){n.$el.removeClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.removeClass(n.params.pagination.paginationDisabledClass),f(),d(),l()},disable:h,render:d,update:l,init:f,destroy:p})}function vd(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function gd(e,t){var n=["__proto__","constructor","prototype"];Object.keys(t).filter((function(e){return n.indexOf(e)<0})).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:vd(t[n])&&vd(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:gd(e[n],t[n]):e[n]=t[n]}))}function yd(e){return void 0===e&&(e={}),e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function bd(e){return void 0===e&&(e={}),e.pagination&&"undefined"===typeof e.pagination.el}function wd(e){return void 0===e&&(e={}),e.scrollbar&&"undefined"===typeof e.scrollbar.el}function kd(e){void 0===e&&(e="");var t=e.split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e})),n=[];return t.forEach((function(e){n.indexOf(e)<0&&n.push(e)})),n.join(" ")}var xd=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function _d(e,t){var n=t.slidesPerView;if(t.breakpoints){var r=pd.prototype.getBreakpoint(t.breakpoints),i=r in t.breakpoints?t.breakpoints[r]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}var a=Math.ceil(parseFloat(t.loopedSlides||n,10));return(a+=t.loopAdditionalSlides)>e.length&&(a=e.length),a}function Sd(t){var n=[];return e.Children.toArray(t).forEach((function(e){e.type&&"SwiperSlide"===e.type.displayName?n.push(e):e.props&&e.props.children&&Sd(e.props.children).forEach((function(e){return n.push(e)}))})),n}function Ed(t){var n=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return e.Children.toArray(t).forEach((function(e){if(e.type&&"SwiperSlide"===e.type.displayName)n.push(e);else if(e.props&&e.props.slot&&r[e.props.slot])r[e.props.slot].push(e);else if(e.props&&e.props.children){var t=Sd(e.props.children);t.length>0?t.forEach((function(e){return n.push(e)})):r["container-end"].push(e)}else r["container-end"].push(e)})),{slides:n,slots:r}}function Cd(e){var t,n,r,i,a,o=e.swiper,s=e.slides,u=e.passedParams,c=e.changedParams,l=e.nextEl,d=e.prevEl,f=e.scrollbarEl,p=e.paginationEl,h=c.filter((function(e){return"children"!==e&&"direction"!==e})),m=o.params,v=o.pagination,g=o.navigation,y=o.scrollbar,b=o.virtual,w=o.thumbs;c.includes("thumbs")&&u.thumbs&&u.thumbs.swiper&&m.thumbs&&!m.thumbs.swiper&&(t=!0),c.includes("controller")&&u.controller&&u.controller.control&&m.controller&&!m.controller.control&&(n=!0),c.includes("pagination")&&u.pagination&&(u.pagination.el||p)&&(m.pagination||!1===m.pagination)&&v&&!v.el&&(r=!0),c.includes("scrollbar")&&u.scrollbar&&(u.scrollbar.el||f)&&(m.scrollbar||!1===m.scrollbar)&&y&&!y.el&&(i=!0),c.includes("navigation")&&u.navigation&&(u.navigation.prevEl||d)&&(u.navigation.nextEl||l)&&(m.navigation||!1===m.navigation)&&g&&!g.prevEl&&!g.nextEl&&(a=!0);(h.forEach((function(e){if(vd(m[e])&&vd(u[e]))gd(m[e],u[e]);else{var t=u[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?m[e]=u[e]:!1===t&&o[n=e]&&(o[n].destroy(),"navigation"===n?(m[n].prevEl=void 0,m[n].nextEl=void 0,o[n].prevEl=void 0,o[n].nextEl=void 0):(m[n].el=void 0,o[n].el=void 0))}var n})),h.includes("controller")&&!n&&o.controller&&o.controller.control&&m.controller&&m.controller.control&&(o.controller.control=m.controller.control),c.includes("children")&&s&&b&&m.virtual.enabled?(b.slides=s,b.update(!0)):c.includes("children")&&o.lazy&&o.params.lazy.enabled&&o.lazy.load(),t)&&(w.init()&&w.update(!0));n&&(o.controller.control=m.controller.control),r&&(p&&(m.pagination.el=p),v.init(),v.render(),v.update()),i&&(f&&(m.scrollbar.el=f),y.init(),y.updateSize(),y.setTranslate()),a&&(l&&(m.navigation.nextEl=l),d&&(m.navigation.prevEl=d),g.init(),g.update()),c.includes("allowSlideNext")&&(o.allowSlideNext=u.allowSlideNext),c.includes("allowSlidePrev")&&(o.allowSlidePrev=u.allowSlidePrev),c.includes("direction")&&o.changeDirection(u.direction,!1),o.update()}function Td(t,n){return"undefined"===typeof window?(0,e.useEffect)(t,n):(0,e.useLayoutEffect)(t,n)}var Ad=(0,e.createContext)(null),Od=(0,e.createContext)(null),Rd=["className","tag","wrapperTag","children","onSwiper"];function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Id.apply(this,arguments)}var Nd=(0,e.forwardRef)((function(t,n){var r=void 0===t?{}:t,i=r.className,a=r.tag,o=void 0===a?"div":a,s=r.wrapperTag,u=void 0===s?"div":s,c=r.children,l=r.onSwiper,d=(0,p.Z)(r,Rd),h=!1,m=(0,e.useState)("swiper"),v=(0,G.Z)(m,2),g=v[0],y=v[1],b=(0,e.useState)(null),w=(0,G.Z)(b,2),k=w[0],x=w[1],_=(0,e.useState)(!1),S=(0,G.Z)(_,2),E=S[0],T=S[1],A=(0,e.useRef)(!1),O=(0,e.useRef)(null),R=(0,e.useRef)(null),I=(0,e.useRef)(null),N=(0,e.useRef)(null),P=(0,e.useRef)(null),M=(0,e.useRef)(null),L=(0,e.useRef)(null),D=(0,e.useRef)(null),F=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);var n={on:{}},r={},i={};gd(n,pd.defaults),gd(n,pd.extendedDefaults),n._emitClasses=!0,n.init=!1;var a={},o=xd.map((function(e){return e.replace(/_/,"")})),s=Object.assign({},e);return Object.keys(s).forEach((function(s){"undefined"!==typeof e[s]&&(o.indexOf(s)>=0?vd(e[s])?(n[s]={},i[s]={},gd(n[s],e[s]),gd(i[s],e[s])):(n[s]=e[s],i[s]=e[s]):0===s.search(/on[A-Z]/)&&"function"===typeof e[s]?t?r["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:n.on["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:a[s]=e[s])})),["navigation","pagination","scrollbar"].forEach((function(e){!0===n[e]&&(n[e]={}),!1===n[e]&&delete n[e]})),{params:n,passedParams:i,rest:a,events:r}}(d),B=F.params,j=F.passedParams,Z=F.rest,V=F.events,U=Ed(c),W=U.slides,H=U.slots,z=function(){T(!E)};Object.assign(B.on,{_containerClasses:function(e,t){y(t)}});var q=function(){if(Object.assign(B.on,V),h=!0,R.current=new pd(B),R.current.loopCreate=function(){},R.current.loopDestroy=function(){},B.loop&&(R.current.loopedSlides=_d(W,B)),R.current.virtual&&R.current.params.virtual.enabled){R.current.virtual.slides=W;var e={cache:!1,slides:W,renderExternal:x,renderExternalUpdate:!1};gd(R.current.params.virtual,e),gd(R.current.originalParams.virtual,e)}};O.current||q(),R.current&&R.current.on("_beforeBreakpoint",z);return(0,e.useEffect)((function(){return function(){R.current&&R.current.off("_beforeBreakpoint",z)}})),(0,e.useEffect)((function(){!A.current&&R.current&&(R.current.emitSlidesClasses(),A.current=!0)})),Td((function(){if(n&&(n.current=O.current),O.current)return R.current.destroyed&&q(),function(e,t){var n=e.el,r=e.nextEl,i=e.prevEl,a=e.paginationEl,o=e.scrollbarEl,s=e.swiper;yd(t)&&r&&i&&(s.params.navigation.nextEl=r,s.originalParams.navigation.nextEl=r,s.params.navigation.prevEl=i,s.originalParams.navigation.prevEl=i),bd(t)&&a&&(s.params.pagination.el=a,s.originalParams.pagination.el=a),wd(t)&&o&&(s.params.scrollbar.el=o,s.originalParams.scrollbar.el=o),s.init(n)}({el:O.current,nextEl:P.current,prevEl:M.current,paginationEl:L.current,scrollbarEl:D.current,swiper:R.current},B),l&&l(R.current),function(){R.current&&!R.current.destroyed&&R.current.destroy(!0,!1)}}),[]),Td((function(){!h&&V&&R.current&&Object.keys(V).forEach((function(e){R.current.on(e,V[e])}));var e=function(e,t,n,r,i){var a=[];if(!t)return a;var o=function(e){a.indexOf(e)<0&&a.push(e)};if(n&&r){var s=r.map(i),u=n.map(i);s.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}var c=xd.filter((function(e){return"_"===e[0]})).map((function(e){return e.replace(/_/,"")}));return c.forEach((function(n){if(n in e&&n in t)if(vd(e[n])&&vd(t[n])){var r=Object.keys(e[n]),i=Object.keys(t[n]);r.length!==i.length?o(n):(r.forEach((function(r){e[n][r]!==t[n][r]&&o(n)})),i.forEach((function(r){e[n][r]!==t[n][r]&&o(n)})))}else e[n]!==t[n]&&o(n)})),a}(j,I.current,W,N.current,(function(e){return e.key}));return I.current=j,N.current=W,e.length&&R.current&&!R.current.destroyed&&Cd({swiper:R.current,slides:W,passedParams:j,changedParams:e,nextEl:P.current,prevEl:M.current,scrollbarEl:D.current,paginationEl:L.current}),function(){V&&R.current&&Object.keys(V).forEach((function(e){R.current.off(e,V[e])}))}})),Td((function(){var e;!(e=R.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}),[k]),e.createElement(o,Id({ref:O,className:kd("".concat(g).concat(i?" ".concat(i):""))},Z),e.createElement(Od.Provider,{value:R.current},H["container-start"],e.createElement(u,{className:"swiper-wrapper"},H["wrapper-start"],B.virtual?function(t,n,r){if(!r)return null;var i=t.isHorizontal()?(0,f.Z)({},t.rtlTranslate?"right":"left","".concat(r.offset,"px")):{top:"".concat(r.offset,"px")};return n.filter((function(e,t){return t>=r.from&&t<=r.to})).map((function(n){return e.cloneElement(n,{swiper:t,style:i})}))}(R.current,W,k):!B.loop||R.current&&R.current.destroyed?W.map((function(t){return e.cloneElement(t,{swiper:R.current})})):function(t,n,r){var i=n.map((function(n,r){return e.cloneElement(n,{swiper:t,"data-swiper-slide-index":r})}));function a(t,n,i){return e.cloneElement(t,{key:"".concat(t.key,"-duplicate-").concat(n,"-").concat(i),className:"".concat(t.props.className||""," ").concat(r.slideDuplicateClass)})}if(r.loopFillGroupWithBlank){var o=r.slidesPerGroup-i.length%r.slidesPerGroup;if(o!==r.slidesPerGroup)for(var s=0;s<o;s+=1){var u=e.createElement("div",{className:"".concat(r.slideClass," ").concat(r.slideBlankClass)});i.push(u)}}"auto"!==r.slidesPerView||r.loopedSlides||(r.loopedSlides=i.length);var c=_d(i,r),l=[],d=[];return i.forEach((function(e,t){t<c&&d.push(a(e,t,"prepend")),t<i.length&&t>=i.length-c&&l.push(a(e,t,"append"))})),t&&(t.loopedSlides=c),[].concat(l,(0,C.Z)(i),d)}(R.current,W,B),H["wrapper-end"]),yd(B)&&e.createElement(e.Fragment,null,e.createElement("div",{ref:M,className:"swiper-button-prev"}),e.createElement("div",{ref:P,className:"swiper-button-next"})),wd(B)&&e.createElement("div",{ref:D,className:"swiper-scrollbar"}),bd(B)&&e.createElement("div",{ref:L,className:"swiper-pagination"}),H["container-end"]))}));Nd.displayName="Swiper";var Pd=["tag","children","className","swiper","zoom","virtualIndex"];function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Md.apply(this,arguments)}var Ld=(0,e.forwardRef)((function(t,n){var r=void 0===t?{}:t,i=r.tag,a=void 0===i?"div":i,o=r.children,s=r.className,u=void 0===s?"":s,c=r.swiper,l=r.zoom,d=r.virtualIndex,f=(0,p.Z)(r,Pd),h=(0,e.useRef)(null),m=(0,e.useState)("swiper-slide"),v=(0,G.Z)(m,2),g=v[0],y=v[1];function b(e,t,n){t===h.current&&y(n)}Td((function(){if(n&&(n.current=h.current),h.current&&c){if(!c.destroyed)return c.on("_slideClass",b),function(){c&&c.off("_slideClass",b)};"swiper-slide"!==g&&y("swiper-slide")}})),Td((function(){c&&h.current&&!c.destroyed&&y(c.getSlideClasses(h.current))}),[c]);var w={isActive:g.indexOf("swiper-slide-active")>=0||g.indexOf("swiper-slide-duplicate-active")>=0,isVisible:g.indexOf("swiper-slide-visible")>=0,isDuplicate:g.indexOf("swiper-slide-duplicate")>=0,isPrev:g.indexOf("swiper-slide-prev")>=0||g.indexOf("swiper-slide-duplicate-prev")>=0,isNext:g.indexOf("swiper-slide-next")>=0||g.indexOf("swiper-slide-duplicate-next")>=0},k=function(){return"function"===typeof o?o(w):o};return e.createElement(a,Md({ref:h,className:kd("".concat(g).concat(u?" ".concat(u):"")),"data-swiper-slide-index":d},f),e.createElement(Ad.Provider,{value:w},l?e.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof l?l:void 0},k()):k()))}));Ld.displayName="SwiperSlide";var Dd=k((function(e){return{participantContainer:{background:e.galleryViewBackgroundColor,position:"absolute",top:0,right:0,bottom:0,left:0,height:"100%","& .swiper":{height:"100%","--swiper-pagination-bullet-inactive-color":"white"},"& .swiper-wrapper":{height:"100%"},"& .swiper-pagination.swiper-pagination-bullets":{bottom:"5px"}},isPaginationActive:{"& .swiper-slide":{height:"calc(100% - 21px)",paddingBottom:"21px"}},swiperSlide:{display:"flex",flexWrap:"wrap",alignSelf:"center",alignContent:"flex-start"}}}));function Fd(){var e=Dd(),t=ya("screen and (orientation: landscape)"),n=on().room,r=ll().mobileGalleryViewParticipants,i=ol(!0),a=r.length,o=[[]];o[0].push(n.localParticipant);for(var s=0;s<a;s++){var u=Math.floor(s/6);o[u]||(o[u]=[]),o[u].length<6?o[u].push(r[s]):o[u+1]=[r[s]]}var c={width:a<3?"100%":"50%",height:["100%","50%","33.33%","50%","33.33%"][Math.min(a,4)],padding:"0.2em",boxSizing:"border-box"},l={height:a<3?"100%":"50%",width:["100%","50%","33.33%","50%","33.33%"][Math.min(a,4)],padding:"0.2em 0.1em",boxSizing:"border-box"};return React.createElement("div",{className:(0,h.Z)(e.participantContainer,(0,f.Z)({},e.isPaginationActive,a>5))},React.createElement(Nd,{pagination:!0,modules:[md],className:"mySwiper"},o.map((function(r,a){return React.createElement(Ld,{key:a,className:e.swiperSlide},r.map((function(e){return React.createElement("div",{"data-test-id":"participantContainer",style:t?l:c,key:e.sid},React.createElement(il,{participant:e,isLocalParticipant:n.localParticipant===e,isDominantSpeaker:i===e}))})))}))))}var Bd=k((function(e){return{container:{position:"relative",display:"flex",alignItems:"center"},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.1em 0.3em 0.1em 0",display:"inline-flex","& svg":{marginLeft:"0.3em"},marginRight:"0.4em",alignItems:"center"},infoContainer:{position:"absolute",zIndex:2,height:"100%",width:"100%"},reconnectingContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(40, 42, 43, 0.75)",zIndex:1},fullWidth:(0,f.Z)({gridArea:"1 / 1 / 2 / 3"},e.breakpoints.down("sm"),{gridArea:"1 / 1 / 3 / 3"}),avatarContainer:{display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1,"& svg":{transform:"scale(2)"}},recordingIndicator:(0,f.Z)({position:"absolute",bottom:0,display:"flex",alignItems:"center",background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.1em 0.3em 0.1em 0",fontSize:"1.2rem",height:"28px"},e.breakpoints.down("sm"),{bottom:"auto",right:0,top:0}),circle:{height:"12px",width:"12px",background:"red",borderRadius:"100%",margin:"0 0.6em",animation:"1.25s $pulsate ease-out infinite"},"@keyframes pulsate":{"0%":{background:"#A90000"},"50%":{background:"#f00"},"100%":{background:"#A90000"}}}}));function jd(t){var n=t.participant,r=t.children,i=Bd(),a=on().room.localParticipant,o=a===n,s=Rs(),u=s&&s!==a,c=Xc(n),l=c.find((function(e){return!e.trackName.includes("screen")&&"video"===e.kind})),d=c.find((function(e){return e.trackName.includes("screen")})),p=Qc(d||l),m=Boolean(p),v=Qc(c.find((function(e){return"audio"===e.kind}))),g=Yc(p),y=Jc(n),b=qa();return e.createElement("div",{"data-cy-main-participant":!0,"data-cy-participant":n.identity,className:(0,h.Z)(i.container,(0,f.Z)({},i.fullWidth,!u))},e.createElement("div",{className:i.infoContainer},e.createElement("div",{style:{display:"flex"}},e.createElement("div",{className:i.identity},e.createElement(Ur,{audioTrack:v}),e.createElement(cr,{variant:"body1",color:"inherit"},n.identity,o&&" (You)",d&&" - Screen")),e.createElement(Gc,{participant:n})),b&&e.createElement(Os,{title:"All participants' audio and video is currently being recorded. Visit the app settings to stop recording.",placement:"top"},e.createElement("div",{className:i.recordingIndicator},e.createElement("div",{className:i.circle}),e.createElement(cr,{variant:"body1",color:"inherit","data-cy-recording-indicator":!0},"Recording")))),(!m||g)&&e.createElement("div",{className:i.avatarContainer},e.createElement(Zs,null)),y&&e.createElement("div",{className:i.reconnectingContainer},e.createElement(cr,{variant:"body1",style:{color:"white"}},"Reconnecting...")),r)}function Zd(){var e=It(),t=(0,G.Z)(e,1)[0],n=Rs(),r=ol(),i=Qa(),a=on().room,o=null===a||void 0===a?void 0:a.localParticipant;return t||(n!==o?n:null)||r||i[0]||o}function Vd(){var t=Zd(),n=on().room.localParticipant,r=It(),i=(0,G.Z)(r,1)[0],a=Rs(),o=t!==i&&t!==a||t===n?null:"high";return e.createElement(jd,{participant:t},e.createElement(nl,{participant:t,videoOnly:!0,enableScreenShare:t!==n,videoPriority:o,isLocalParticipant:t===n}))}function Ud(t){var n=t.track,r=Ot().activeSinkId,i=(0,e.useRef)();return(0,e.useEffect)((function(){return i.current=n.attach(),i.current.setAttribute("data-cy-audio-track-name",n.name),document.body.appendChild(i.current),function(){return n.detach().forEach((function(e){e.remove(),e.srcObject=null}))}}),[n]),(0,e.useEffect)((function(){var e,t;null===(e=i.current)||void 0===e||null===(t=e.setSinkId)||void 0===t||t.call(e,r)}),[r]),null}function Wd(t){var n=function(t){var n=(0,e.useState)([]),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=Array.from(t.tracks.values()).filter((function(e){return null!==e.track})).map((function(e){return e.track}));a(e);var n=function(e){return a((function(t){return[].concat((0,C.Z)(t),[e])}))},r=function(e){return a((function(t){return t.filter((function(t){return t!==e}))}))};return t.on("trackSubscribed",n),t.on("trackUnsubscribed",r),function(){t.off("trackSubscribed",n),t.off("trackUnsubscribed",r)}}),[t]),i}(t.participant),r=n.find((function(e){return"audio"===e.kind}));return"audio"===(null===r||void 0===r?void 0:r.kind)?React.createElement(Ud,{track:r}):null}function Hd(){var e=Qa();return React.createElement(React.Fragment,null,e.map((function(e){return React.createElement(Wd,{key:e.sid,participant:e})})))}var zd=k((function(e){return{container:(0,f.Z)({overflowY:"auto",background:"rgb(79, 83, 85)",gridArea:"1 / 2 / 1 / 3",zIndex:5},e.breakpoints.down("sm"),{gridArea:"2 / 1 / 3 / 3",overflowY:"initial",overflowX:"auto",display:"flex"}),transparentBackground:{background:"transparent"},scrollContainer:{display:"flex",justifyContent:"center"},innerScrollContainer:(0,f.Z)({width:"calc(".concat(e.sidebarWidth,"px - 3em)"),padding:"1.5em 0"},e.breakpoints.down("sm"),{width:"auto",padding:"".concat(e.sidebarMobilePadding,"px"),display:"flex"})}}));function Gd(){var t=zd(),n=on().room.localParticipant,r=ll().speakerViewParticipants,i=It(),a=(0,G.Z)(i,2),o=a[0],s=a[1],u=Rs(),c=Zd(),l=u&&u!==n;return 0===r.length?null:e.createElement("aside",{className:(0,h.Z)(t.container,(0,f.Z)({},t.transparentBackground,!l))},e.createElement("div",{className:t.scrollContainer},e.createElement("div",{className:t.innerScrollContainer},e.createElement(il,{participant:n,isLocalParticipant:!0}),r.map((function(t){var n=t===c&&t!==u&&!(t===o);return e.createElement(il,{key:t.sid,participant:t,isSelected:t===o,onClick:function(){return s(t)},hideParticipant:n})})))))}var qd=k((function(e){var t="".concat(e.sidebarMobileHeight+2*e.sidebarMobilePadding+e.participantBorderWidth,"px");return{container:(0,f.Z)({position:"relative",height:"100%",display:"grid",gridTemplateColumns:"1fr ".concat(e.sidebarWidth,"px"),gridTemplateRows:"100%"},e.breakpoints.down("sm"),{gridTemplateColumns:"100%",gridTemplateRows:"calc(100% - ".concat(t,") ").concat(t)}),rightDrawerOpen:{gridTemplateColumns:"1fr ".concat(e.sidebarWidth,"px ").concat(e.rightDrawerWidth,"px")}}}));function Kd(){var t=qd(),n=Ga().isChatWindowOpen,r=on(),i=r.isBackgroundSelectionOpen,a=r.room,o=Ot(),s=o.isGalleryViewActive,u=o.setIsGalleryViewActive,c=ya(Wn().breakpoints.down("sm"));return function(t,n,r,i){var a=(0,e.useRef)(i);(0,e.useEffect)((function(){a.current=i}),[i]),(0,e.useEffect)((function(){if(t&&t!==n.localParticipant){var e=a.current;return r(!1),function(){e&&r(e)}}}),[t,r,n])}(Rs(),a,u,s),e.createElement("div",{className:(0,h.Z)(t.container,(0,f.Z)({},t.rightDrawerOpen,n||i))},e.createElement(Hd,null),s?c?e.createElement(Fd,null):e.createElement(pl,null):e.createElement(e.Fragment,null,e.createElement(Vd,null),e.createElement(Gd,null)),e.createElement(Nc,null),e.createElement(ic,null))}n(19727);var Yd=w("div")({display:"grid",gridTemplateRows:"1fr auto"}),Xd=w("main")((function(e){var t=e.theme;return(0,f.Z)({overflow:"hidden",paddingBottom:"".concat(t.footerHeight,"px"),background:"black"},t.breakpoints.down("sm"),{paddingBottom:"".concat(t.mobileFooterHeight+t.mobileTopBarHeight,"px")})}));function Qd(){var t=Ja(),n=function(){var t,n=(0,e.useState)(window.innerHeight*((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1)),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=function(){var e;a(window.innerHeight*((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1))};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),i+"px"}();return e.createElement(Yd,{style:{height:n}},"disconnected"===t?e.createElement(ju,null):e.createElement(Xd,null,e.createElement(Zu,null),e.createElement(Vu,null),e.createElement(Ds,null),e.createElement(Kd,null),e.createElement(Ms,null)))}var Jd=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Fe(e.props),e}return(0,O.Z)(n,t),n.prototype.render=function(){return e.createElement(it,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var $d=function(e,t){return"function"===typeof e?e(t):e},ef=function(e,t){return"string"===typeof e?Re(e,null,null,t):e},tf=function(e){return e},nf=e.forwardRef;"undefined"===typeof nf&&(nf=tf);var rf=nf((function(t,n){var i=t.innerRef,a=t.navigate,o=t.onClick,s=(0,T.Z)(t,["innerRef","navigate","onClick"]),u=s.target,c=(0,r.Z)({},s,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),a())}});return c.ref=tf!==nf&&n||i,e.createElement("a",c)}));var af=nf((function(t,n){var i=t.component,a=void 0===i?rf:i,o=t.replace,s=t.to,u=t.innerRef,c=(0,T.Z)(t,["component","replace","to","innerRef"]);return e.createElement(rt.Consumer,null,(function(t){t||Se(!1);var i=t.history,l=ef($d(s,t.location),t.location),d=l?i.createHref(l):"",f=(0,r.Z)({},c,{href:d,navigate:function(){var e=$d(s,t.location),n=Oe(t.location)===Oe(ef(e));(o||n?i.replace:i.push)(e)}});return tf!==nf?f.ref=n||u:f.innerRef=u,e.createElement(a,f)}))})),of=function(e){return e},sf=e.forwardRef;"undefined"===typeof sf&&(sf=of);var uf=sf((function(t,n){var i=t["aria-current"],a=void 0===i?"page":i,o=t.activeClassName,s=void 0===o?"active":o,u=t.activeStyle,c=t.className,l=t.exact,d=t.isActive,f=t.location,p=t.sensitive,h=t.strict,m=t.style,v=t.to,g=t.innerRef,y=(0,T.Z)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(rt.Consumer,null,(function(t){t||Se(!1);var i=f||t.location,o=ef($d(v,i),i),b=o.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=w?ft(i.pathname,{path:w,exact:l,sensitive:p,strict:h}):null,x=!!(d?d(k,i):k),_="function"===typeof c?c(x):c,S="function"===typeof m?m(x):m;x&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,s),S=(0,r.Z)({},S,u));var E=(0,r.Z)({"aria-current":x&&a||null,className:_,style:S,to:o},y);return of!==sf?E.ref=n||g:E.innerRef=g,e.createElement(af,E)}))}));var cf=function(t){var n=t.dismissError,r=t.error,i=r||{},a=i.message,o=i.code,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(!0){case 20101===(arguments.length>1?arguments[1]:void 0):return e+". Please make sure you are using the correct credentials.";case"Permission denied by system"===e:return"Unable to share your screen. Please make sure that your operating system has the correct permissions enabled for screen sharing.";default:return e}}(a,o);return e.createElement(nr,{open:null!==r,onClose:function(){return n()},fullWidth:!0,maxWidth:"xs"},e.createElement(pr,null,"ERROR"),e.createElement(or,null,e.createElement(dr,null,s),Boolean(o)&&e.createElement("pre",null,e.createElement("code",null,"Error Code: ",o))),e.createElement(ir,null,e.createElement(z,{onClick:function(){return n()},color:"primary",autoFocus:!0},"OK")))},lf=n(80996),df=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.component,s=void 0===o?"div":o,u=t.disableGutters,c=void 0!==u&&u,l=t.fixed,d=void 0!==l&&l,f=t.maxWidth,m=void 0===f?"lg":f,v=(0,p.Z)(t,["classes","className","component","disableGutters","fixed","maxWidth"]);return e.createElement(s,(0,r.Z)({className:(0,h.Z)(i.root,a,d&&i.fixed,c&&i.disableGutters,!1!==m&&i["maxWidth".concat((0,W.Z)(String(m)))]),ref:n},v))})),ff=(0,i.Z)((function(e){return{root:(0,f.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:(0,f.Z)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:(0,f.Z)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:(0,f.Z)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:(0,f.Z)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:(0,f.Z)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(df),pf=n(7351);function hf(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function mf(e){var t=function(t){var n=e(t);return t.css?(0,r.Z)({},(0,pf.Z)(n,e((0,r.Z)({theme:t.theme},t.css))),hf(t.css,[e.filterProps])):t.sx?(0,r.Z)({},(0,pf.Z)(n,e((0,r.Z)({theme:t.theme},t.sx))),hf(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat((0,C.Z)(e.filterProps)),t}var vf=mf;var gf=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?(0,pf.Z)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},yf=n(16086);function bf(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var wf=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=bf(e.theme,i)||{};return(0,yf.k)(e,n,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=bf(o,e)||e,a&&(t=a(t))),!1===r?t:(0,f.Z)({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function kf(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var xf=gf(wf({prop:"border",themeKey:"borders",transform:kf}),wf({prop:"borderTop",themeKey:"borders",transform:kf}),wf({prop:"borderRight",themeKey:"borders",transform:kf}),wf({prop:"borderBottom",themeKey:"borders",transform:kf}),wf({prop:"borderLeft",themeKey:"borders",transform:kf}),wf({prop:"borderColor",themeKey:"palette"}),wf({prop:"borderRadius",themeKey:"shape"})),_f=wf({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Sf=gf(_f,wf({prop:"display"}),wf({prop:"overflow"}),wf({prop:"textOverflow"}),wf({prop:"visibility"}),wf({prop:"whiteSpace"})),Ef=gf(wf({prop:"flexBasis"}),wf({prop:"flexDirection"}),wf({prop:"flexWrap"}),wf({prop:"justifyContent"}),wf({prop:"alignItems"}),wf({prop:"alignContent"}),wf({prop:"order"}),wf({prop:"flex"}),wf({prop:"flexGrow"}),wf({prop:"flexShrink"}),wf({prop:"alignSelf"}),wf({prop:"justifyItems"}),wf({prop:"justifySelf"})),Cf=gf(wf({prop:"gridGap"}),wf({prop:"gridColumnGap"}),wf({prop:"gridRowGap"}),wf({prop:"gridColumn"}),wf({prop:"gridRow"}),wf({prop:"gridAutoFlow"}),wf({prop:"gridAutoColumns"}),wf({prop:"gridAutoRows"}),wf({prop:"gridTemplateColumns"}),wf({prop:"gridTemplateRows"}),wf({prop:"gridTemplateAreas"}),wf({prop:"gridArea"})),Tf=gf(wf({prop:"position"}),wf({prop:"zIndex",themeKey:"zIndex"}),wf({prop:"top"}),wf({prop:"right"}),wf({prop:"bottom"}),wf({prop:"left"})),Af=gf(wf({prop:"color",themeKey:"palette"}),wf({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),Of=wf({prop:"boxShadow",themeKey:"shadows"});function Rf(e){return e<=1?"".concat(100*e,"%"):e}var If,Nf,Pf,Mf=wf({prop:"width",transform:Rf}),Lf=wf({prop:"maxWidth",transform:Rf}),Df=wf({prop:"minWidth",transform:Rf}),Ff=wf({prop:"height",transform:Rf}),Bf=wf({prop:"maxHeight",transform:Rf}),jf=wf({prop:"minHeight",transform:Rf}),Zf=(wf({prop:"size",cssProperty:"width",transform:Rf}),wf({prop:"size",cssProperty:"height",transform:Rf}),gf(Mf,Lf,Df,Ff,Bf,jf,wf({prop:"boxSizing"}))),Vf=n(99908),Uf=gf(wf({prop:"fontFamily",themeKey:"typography"}),wf({prop:"fontSize",themeKey:"typography"}),wf({prop:"fontStyle",themeKey:"typography"}),wf({prop:"fontWeight",themeKey:"typography"}),wf({prop:"letterSpacing"}),wf({prop:"lineHeight"}),wf({prop:"textAlign"})),Wf=vf(gf(xf,Sf,Ef,Cf,Tf,Af,Of,Zf,Vf.Z,Uf)),Hf=w("div")(Wf,{name:"MuiBox"}),zf=["title","titleId"];function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gf.apply(this,arguments)}function qf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kf(t,n){var r=t.title,i=t.titleId,a=qf(t,zf);return e.createElement("svg",Gf({width:"32px",height:"32px",viewBox:"7 7 32 32",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:n,"aria-labelledby":i},a),void 0===r?e.createElement("title",{id:i},"btn_google_light_normal_ios"):r?e.createElement("title",{id:i},r):null,If||(If=e.createElement("desc",null,"Created with Sketch.")),Nf||(Nf=e.createElement("defs",null,e.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},e.createElement("feOffset",{dx:0,dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),e.createElement("feGaussianBlur",{stdDeviation:.5,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),e.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),e.createElement("feOffset",{dx:0,dy:0,in:"SourceAlpha",result:"shadowOffsetOuter2"}),e.createElement("feGaussianBlur",{stdDeviation:.5,in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),e.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),e.createElement("feMerge",null,e.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),e.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),e.createElement("feMergeNode",{in:"SourceGraphic"}))),e.createElement("rect",{id:"path-2",x:0,y:0,width:40,height:40,rx:2}))),Pf||(Pf=e.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},e.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -160.000000)"}),e.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},e.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},e.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),e.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),e.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),e.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),e.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),e.createElement("g",{id:"handles_square"})))))}var Yf=e.forwardRef(Kf),Xf=(n.p,"url(\"data:image/svg+xml,%3Csvg width='104' height='18' viewBox='0 0 104 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0.324219 0.421875H6.35938C8.32031 0.421875 9.81641 0.90625 10.8477 1.875C11.8789 2.83594 12.3945 4.10938 12.3945 5.69531C12.3945 7.27344 11.8789 8.54688 10.8477 9.51562C9.81641 10.4844 8.32031 10.9688 6.35938 10.9688H2.375V18H0.324219V0.421875ZM2.375 2.29688V9.09375H6.35938C7.64062 9.09375 8.61328 8.78125 9.27734 8.15625C9.94922 7.53125 10.2852 6.71094 10.2852 5.69531C10.2852 4.67188 9.94922 3.85156 9.27734 3.23438C8.61328 2.60938 7.64062 2.29688 6.35938 2.29688H2.375ZM11.9258 18L18.793 0.421875H21.0547L27.9219 18H25.7188L23.9258 13.418H15.8633L14.0703 18H11.9258ZM18.3945 6.92578L16.5898 11.543H23.1992L21.3945 6.92578C21.0742 6.10547 20.7969 5.37109 20.5625 4.72266C20.3359 4.07422 20.1133 3.41797 19.8945 2.75391C19.6836 3.41797 19.4609 4.07422 19.2266 4.72266C18.9922 5.37109 18.7148 6.10547 18.3945 6.92578ZM30.043 0.421875H35.5859C37.4844 0.421875 38.9688 0.867188 40.0391 1.75781C41.1094 2.64062 41.6445 3.86719 41.6445 5.4375C41.6445 6.65625 41.3203 7.67578 40.6719 8.49609C40.0234 9.31641 39.1055 9.88672 37.918 10.207L42.418 18H40.0391L35.7148 10.5H32.0938V18H30.043V0.421875ZM35.1641 8.625C36.5859 8.625 37.668 8.35547 38.4102 7.81641C39.1602 7.27734 39.5352 6.48828 39.5352 5.44922C39.5352 4.41797 39.1641 3.63672 38.4219 3.10547C37.6797 2.56641 36.5938 2.29688 35.1641 2.29688H32.0938V8.625H35.1641ZM43.3555 2.29688V0.421875H56.2461V2.29688H50.8203V18H48.7812V2.29688H43.3555ZM60.582 0.421875L71.4922 14.7188V0.421875H73.543V18H71.4922L60.582 3.70312V18H58.5898V0.421875H60.582ZM77.293 0.421875H87.3711V2.29688H79.3438V8.02734H86.9023V9.90234H79.3438V16.125H87.7227V18H77.293V0.421875ZM91.3555 0.421875H96.8984C98.7969 0.421875 100.281 0.867188 101.352 1.75781C102.422 2.64062 102.957 3.86719 102.957 5.4375C102.957 6.65625 102.633 7.67578 101.984 8.49609C101.336 9.31641 100.418 9.88672 99.2305 10.207L103.73 18H101.352L97.0273 10.5H93.4062V18H91.3555V0.421875ZM96.4766 8.625C97.8984 8.625 98.9805 8.35547 99.7227 7.81641C100.473 7.27734 100.848 6.48828 100.848 5.44922C100.848 4.41797 100.477 3.63672 99.7344 3.10547C98.9922 2.56641 97.9062 2.29688 96.4766 2.29688H93.4062V8.625H96.4766Z' fill='%23CBCFD5'/%3E%3C/svg%3E%0A\");");function Qf(t){return e.createElement("svg",(0,r.Z)({width:"111",height:"35",viewBox:"0 0 111 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.1963 17.5C33.1963 27.1649 25.765 35 16.5981 35C7.43153 35 0 27.1649 0 17.5C0 7.83505 7.43153 0 16.5981 0C25.765 0 33.1963 7.83505 33.1963 17.5Z",fill:"#E94E32"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9177 10.2587C19.9293 12.3122 18.3602 13.9874 16.4125 13.9999C14.4637 14.0128 12.8755 12.3574 12.8636 10.3038C12.852 8.24969 14.4214 6.57453 16.3696 6.56257C18.3173 6.54975 19.9055 8.2045 19.9177 10.2587Z",fill:"white"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.3122 24.942C25.3122 24.942 13.3853 17.5622 8.29907 25.6976C8.29907 25.6976 15.4776 32.3388 25.3122 24.942Z",fill:"white"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.2579 14.9378C18.2579 14.9378 16.7994 20.125 13.6509 20.125C10.8728 20.125 8.21058 13.8716 7.46915 13.8232C7.46915 13.8232 9.09052 11.7626 11.1971 13.1926C15.1012 15.8424 16.7062 15.6168 18.2579 14.9378Z",fill:"white"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.0131 20.1242C22.5272 20.2093 29.5352 13.2708 22.059 10.5C21.2984 15.8785 17.6011 19.2556 17.0131 20.1242Z",fill:"white"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M56.1499 8.75H50.308H47.3367H41.4953V11.6147H47.3367V26.25H50.308V11.6147H56.1499V8.75ZM58.1637 16.2517V14.6592H55.3125V26.25H58.1637V20.8176C58.1617 18.6642 59.4963 16.1375 61.917 16.6213C63.0335 16.8444 63.5541 17.9916 63.7229 18.4594L65.7801 17.1068C65.7173 16.9951 65.6587 16.8855 65.6014 16.7784L65.6013 16.7782L65.6013 16.7782C65.5005 16.5898 65.4038 16.409 65.2955 16.2376C63.7559 13.8004 59.9781 13.8702 58.1637 16.2517ZM67.9115 23.0212C67.64 22.3836 67.4651 21.1415 67.4651 19.9533L67.4549 14.4375H70.3306V19.9533C70.3306 20.711 70.4 21.5645 70.5523 21.9618C70.7051 22.361 70.9147 22.7245 71.1953 23.0349C71.482 23.3484 71.8417 23.6001 72.2666 23.7861C73.1209 24.1616 74.3715 24.1655 75.2258 23.7861C75.6501 23.6001 76.0098 23.3484 76.2932 23.0349C76.5769 22.7245 76.7925 22.3674 76.9398 21.9618C77.085 21.5645 77.1623 20.711 77.1623 19.9533L77.1629 14.4375H80.016V19.9533C80.016 21.1415 79.8301 22.3814 79.5591 23.0206C79.2884 23.6593 78.8891 24.2262 78.3711 24.7073C77.8596 25.1811 77.2339 25.5608 76.5105 25.8368C75.7873 26.1109 74.6513 26.25 73.7433 26.25C72.8356 26.25 71.6831 26.1109 70.9615 25.8376C70.2364 25.5602 69.6099 25.1805 69.1001 24.7073C68.5835 24.2295 68.1831 23.6621 67.9115 23.0212ZM89.7464 23.6339H85.4778V17.9422L89.7464 17.9425C91.7663 17.9425 92.942 19.054 92.942 20.6692C92.942 22.4814 92.0664 23.5808 89.7464 23.6339ZM88.7277 11.1691C90.8011 11.186 91.2303 12.2428 91.2449 13.2175C91.2621 14.3624 90.7468 15.5683 88.8173 15.5683H85.4778V11.1688L88.7277 11.1691ZM92.9748 16.2119C93.8682 15.411 94.0879 14.2664 94.0516 13.1337C94.0253 12.301 93.9112 8.75706 88.7277 8.75706H85.4778V8.75H82.5282V26.2466L89.7703 26.25C90.9334 26.2269 92.0758 26.0581 92.6997 25.867C95.816 24.9137 95.9384 21.5293 95.926 20.6616C95.9115 19.688 95.5146 17.0177 92.9748 16.2119ZM100.685 18.653C100.643 18.7704 100.606 18.8905 100.574 19.0137H108.032C108 18.8911 107.963 18.771 107.921 18.653C107.754 18.1898 107.51 17.7742 107.192 17.4129C106.867 17.0476 106.46 16.7549 105.982 16.5381C105.496 16.3168 104.933 16.2073 104.303 16.2073C103.677 16.2073 103.11 16.3168 102.624 16.5381C102.149 16.7506 101.743 17.0476 101.418 17.4169C101.109 17.7611 100.877 18.1517 100.713 18.585C100.71 18.5938 100.706 18.6028 100.701 18.6122C100.696 18.6249 100.689 18.6383 100.685 18.653ZM110.939 20.9979H108.707H108.083H100.523C100.563 21.1968 100.616 21.3919 100.685 21.5825C100.852 22.0502 101.096 22.4701 101.414 22.8314C101.739 23.1964 102.146 23.4894 102.627 23.7062C103.595 24.1434 105.011 24.1477 105.979 23.7062C106.46 23.4894 106.924 23.2083 107.279 22.8792C107.47 22.7011 107.748 22.3634 107.862 22.1913L109.805 23.7648C109.621 24.008 109.417 24.2387 109.192 24.4535C108.612 25.0054 107.904 25.4472 107.085 25.7687C106.265 26.0876 105.329 26.25 104.301 26.25C103.272 26.25 102.336 26.0876 101.519 25.7695C100.697 25.4463 99.9877 25.0048 99.4101 24.4535C98.8245 23.8973 98.3715 23.2368 98.0632 22.4912C97.7565 21.7484 97.6015 20.9521 97.6015 20.1254C97.6015 19.2982 97.7603 18.4999 98.0738 17.7543C98.3893 17.0092 98.8458 16.3507 99.4289 15.7954C100.008 15.2435 100.717 14.8005 101.536 14.4805C102.35 14.1616 103.28 14 104.301 14C105.333 14 106.27 14.1616 107.085 14.4805C107.902 14.8 108.611 15.2426 109.192 15.7959C109.775 16.3515 110.228 17.0112 110.537 17.7577C110.845 18.5033 111 19.2996 111 20.1254C111 20.4201 110.979 20.7115 110.939 20.9979Z",fill:"#303740"}))}var Jf=k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,f.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,f.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},container:{height:"100%",marginBottom:"2.5em"},partnerLabelContainer:(0,f.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"52px",backgroundImage:Xf,backgroundSize:"100%",backgroundRepeat:"no-repeat",width:"107px",height:"36px"},e.breakpoints.down("sm"),{}),trubeLogo:{marginBottom:"10px"},gutterBottom:{marginBottom:"1em"},greyColor:{color:e.grey},passwordContainer:{marginBottom:24},submitButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"}),linkLikeButton:{textDecoration:"underline"},closeBackgroundSelection:{cursor:"pointer",display:"flex",background:"transparent",border:"0",padding:"0"}}}));function $f(){var t=Jf(),n=Ot(),r=n.signIn,i=(n.user,n.isAuthReady,kt()),a=xt(),o=(0,e.useState)(""),s=(0,G.Z)(o,2),u=s[0],c=s[1],l=(0,e.useState)(""),d=(0,G.Z)(l,2),f=d[0],p=d[1],m=(0,e.useState)(null),v=(0,G.Z)(m,2),g=v[0],y=v[1],b=(Boolean({NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH),function(){y(null),null===r||void 0===r||r(u,f).then((function(){var e;i.replace((null===a||void 0===a||null===(e=a.state)||void 0===e?void 0:e.from)||{pathname:"/"})})).catch((function(e){return y(e)}))});return e.createElement(ff,{style:{height:"100%"}},e.createElement(Kr,{container:!0,justifyContent:"center",direction:"column",className:t.container},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",textAlign:"center",flexGrow:1},e.createElement(Qf,{className:t.trubeLogo}),e.createElement("div",{className:t.partnerLabelContainer}),"firebase"==={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH&&e.createElement(e.Fragment,null,e.createElement(cr,{variant:"h5",className:t.gutterBottom},"Sign in to join a room"),e.createElement(cr,{variant:"body1"},"Sign in using your Twilio Google Account"),e.createElement(z,{variant:"contained",className:t.googleButton,onClick:b,startIcon:e.createElement(Yf,null)},"Sign in with Google")),e.createElement("form",{onSubmit:function(e){e.preventDefault(),b()},style:{width:"100%",marginBottom:40}},e.createElement(Kr,{container:!0,justifyContent:"space-between"},e.createElement("div",{className:t.gutterBottom,style:{flexGrow:1}},e.createElement(Js,{id:"input-email",onChange:function(e){return c(e.target.value)},type:"text",variant:"outlined",style:{width:"100%"}}),e.createElement("div",null,g&&e.createElement(cr,{variant:"caption",className:t.errorMessage},e.createElement(lf.Z,null),g.message)))),e.createElement(Kr,{container:!0,justifyContent:"space-between"},e.createElement("div",{className:t.passwordContainer,style:{flexGrow:1}},e.createElement(Js,{id:"input-password",onChange:function(e){return p(e.target.value)},type:"password",variant:"outlined",style:{width:"100%"}}),e.createElement("div",null,g&&e.createElement(cr,{variant:"caption",className:t.errorMessage},e.createElement(lf.Z,null),g.message)))),e.createElement(Kr,{container:!0,justifyContent:"flex-end"},e.createElement(z,{variant:"contained",color:"primary",type:"submit",disabled:!f.length,className:t.submitButton},"Login"))),e.createElement("button",{className:t.closeBackgroundSelection,onClick:function(){return i.replace({pathname:"/password-reset"})}},e.createElement(cr,{variant:"subtitle2",className:(0,h.Z)(t.linkLikeButton,t.gutterBottom,t.greyColor)},"Forgot your password?"))),e.createElement(cr,{variant:"subtitle1",className:(0,h.Z)(t.greyColor),style:{flexGrow:1,textAlign:"center"}},"vers. 1.0.0.1.")))}var ep=k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,f.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,f.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},container:{height:"100%",marginBottom:"2.5em"},partnerLabelContainer:(0,f.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"52px",backgroundImage:Xf,backgroundSize:"100%",backgroundRepeat:"no-repeat",width:"107px",height:"36px"},e.breakpoints.down("sm"),{}),trubeLogo:{marginBottom:"10px"},gutterBottom:{marginBottom:"1em"},greyColor:{color:e.grey},passwordContainer:{marginBottom:24},submitButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"}),linkLikeButton:{textDecoration:"underline"}}}));function tp(){var t=ep(),n=Ot(),r=(n.signIn,n.user,n.isAuthReady,kt()),i=(xt(),(0,e.useState)("")),a=(0,G.Z)(i,2),o=a[0],s=a[1],u=(0,e.useState)(""),c=(0,G.Z)(u,2),l=(c[0],c[1],(0,e.useState)(null)),d=(0,G.Z)(l,2),f=d[0];d[1],Boolean({NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH);return e.createElement(ff,{style:{height:"100%"}},e.createElement(Kr,{container:!0,justifyContent:"center",direction:"column",className:t.container},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",textAlign:"center",flexGrow:1},e.createElement(Qf,{className:t.trubeLogo}),e.createElement("div",{className:t.partnerLabelContainer}),"firebase"==={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH&&e.createElement(e.Fragment,null,e.createElement(cr,{variant:"h5",className:t.gutterBottom},"Sign in to join a room"),e.createElement(cr,{variant:"body1"},"Sign in using your Twilio Google Account"),e.createElement(z,{variant:"contained",className:t.googleButton,onClick:function(){},startIcon:e.createElement(Yf,null)},"Sign in with Google")),e.createElement(cr,{variant:"body1",color:"primary",className:t.gutterBottom},"Enter e-mail adress linked to your account to reset your password."),e.createElement("form",{onSubmit:function(e){e.preventDefault(),r.replace("/password-reset-instructions")},style:{width:"100%",marginBottom:40}},e.createElement(Kr,{container:!0,justifyContent:"space-between"},e.createElement("div",{className:t.gutterBottom,style:{flexGrow:1}},e.createElement(Js,{id:"input-email",onChange:function(e){return s(e.target.value)},type:"email",variant:"outlined",placeholder:"Email",style:{width:"100%"}}),e.createElement("div",null,f&&e.createElement(cr,{variant:"caption",className:t.errorMessage},e.createElement(lf.Z,null),f.message)))),e.createElement(Kr,{container:!0,justifyContent:"flex-end"},e.createElement(z,{variant:"contained",color:"primary",type:"submit",disabled:!o.length,className:t.submitButton},"Reset password")))),e.createElement(cr,{variant:"subtitle1",className:(0,h.Z)(t.greyColor),style:{flexGrow:1,textAlign:"center"}},"vers. 1.0.0.1.")))}function np(){return e.createElement("svg",{width:"49",height:"48",viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M24.5 10C16.772 10 10.5 16.272 10.5 24C10.5 31.728 16.772 38 24.5 38C32.228 38 38.5 31.728 38.5 24C38.5 16.272 32.228 10 24.5 10ZM21.7 31L14.7 24L16.674 22.026L21.7 27.038L32.326 16.412L34.3 18.4L21.7 31Z",fill:"#3BC693"}))}var rp=k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,f.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,f.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},container:{height:"100%",marginBottom:"2.5em"},partnerLabelContainer:(0,f.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"52px",backgroundImage:Xf,backgroundSize:"100%",backgroundRepeat:"no-repeat",width:"107px",height:"36px"},e.breakpoints.down("sm"),{}),trubeLogo:{marginBottom:"10px"},gutterBottom:{marginBottom:"1em"},greyColor:{color:e.grey},passwordContainer:{marginBottom:24},submitButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"}),linkLikeButton:{textDecoration:"underline"}}}));function ip(){var t=rp(),n=Ot(),r=(n.signIn,n.user,n.isAuthReady,kt()),i=(xt(),(0,e.useState)("")),a=(0,G.Z)(i,2),o=(a[0],a[1],(0,e.useState)("")),s=(0,G.Z)(o,2),u=(s[0],s[1],(0,e.useState)(null)),c=(0,G.Z)(u,2);c[0],c[1],Boolean({NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH);return e.createElement(ff,{style:{height:"100%"}},e.createElement(Kr,{container:!0,justifyContent:"center",direction:"column",className:t.container},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",textAlign:"center",flexGrow:1},e.createElement(Qf,{className:t.trubeLogo}),e.createElement("div",{className:t.partnerLabelContainer}),"firebase"==={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH&&e.createElement(e.Fragment,null,e.createElement(cr,{variant:"h5",className:t.gutterBottom},"Sign in to join a room"),e.createElement(cr,{variant:"body1"},"Sign in using your Twilio Google Account"),e.createElement(z,{variant:"contained",className:t.googleButton,onClick:function(){},startIcon:e.createElement(Yf,null)},"Sign in with Google")),e.createElement(cr,{variant:"body1",color:"primary",className:t.gutterBottom},"Instructions has been sent to your e-mail."),e.createElement(np,null),e.createElement("form",{onSubmit:function(e){e.preventDefault(),r.replace({pathname:"/login"})},style:{width:"100%",marginTop:40,marginBottom:40}},e.createElement(Kr,{container:!0,justifyContent:"flex-end"},e.createElement(z,{variant:"contained",color:"primary",type:"submit",className:t.submitButton},"Back to login")))),e.createElement(cr,{variant:"subtitle1",className:(0,h.Z)(t.greyColor),style:{flexGrow:1,textAlign:"center"}},"vers. 1.0.0.1.")))}var ap=k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,f.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,f.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},container:{height:"100%",marginBottom:"2.5em"},partnerLabelContainer:(0,f.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"52px",backgroundImage:Xf,backgroundSize:"100%",backgroundRepeat:"no-repeat",width:"107px",height:"36px"},e.breakpoints.down("sm"),{}),trubeLogo:{marginBottom:"10px"},gutterBottom:{marginBottom:"1em"},greyColor:{color:e.grey},passwordContainer:{marginBottom:24},submitButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"}),linkLikeButton:{textDecoration:"underline"},closeBackgroundSelection:{cursor:"pointer",display:"flex",background:"transparent",border:"0",padding:"0"}}}));function op(){var t=ap(),n=Ot(),r=(n.signIn,n.user,n.isAuthReady,kt()),i=(xt(),(0,e.useState)("")),a=(0,G.Z)(i,2),o=(a[0],a[1],(0,e.useState)("")),s=(0,G.Z)(o,2),u=s[0],c=s[1],l=(0,e.useState)(null),d=(0,G.Z)(l,2),f=d[0];d[1],Boolean({NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH);return e.createElement(ff,{style:{height:"100%"}},e.createElement(Kr,{container:!0,justifyContent:"center",direction:"column",className:t.container},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",textAlign:"center",flexGrow:1},e.createElement(Qf,{className:t.trubeLogo}),e.createElement("div",{className:t.partnerLabelContainer}),"firebase"==={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH&&e.createElement(e.Fragment,null,e.createElement(cr,{variant:"h5",className:t.gutterBottom},"Sign in to join a room"),e.createElement(cr,{variant:"body1"},"Sign in using your Twilio Google Account"),e.createElement(z,{variant:"contained",className:t.googleButton,onClick:function(){},startIcon:e.createElement(Yf,null)},"Sign in with Google")),e.createElement(cr,{variant:"body1",color:"primary",className:t.gutterBottom},"Set your new password."),e.createElement("form",{onSubmit:function(e){e.preventDefault(),r.replace("/login")},style:{width:"100%",marginBottom:40}},e.createElement(Kr,{container:!0,justifyContent:"space-between"},e.createElement("div",{className:t.gutterBottom,style:{flexGrow:1}},e.createElement(Js,{id:"input-password",onChange:function(e){return c(e.target.value)},type:"password",variant:"outlined",placeholder:"New password",style:{width:"100%"}}),e.createElement("div",null,f&&e.createElement(cr,{variant:"caption",className:t.errorMessage},e.createElement(lf.Z,null),f.message)))),e.createElement(Kr,{container:!0,justifyContent:"space-between"},e.createElement("div",{className:t.passwordContainer,style:{flexGrow:1}},e.createElement(Js,{id:"input-password-new",onChange:function(e){return c(e.target.value)},type:"password",variant:"outlined",placeholder:"Repeat new password",style:{width:"100%"}}),e.createElement("div",null,f&&e.createElement(cr,{variant:"caption",className:t.errorMessage},e.createElement(lf.Z,null),f.message)))),e.createElement(Kr,{container:!0,justifyContent:"flex-end"},e.createElement(z,{variant:"contained",color:"primary",type:"submit",disabled:!u.length,className:t.submitButton},"Reset password")))),e.createElement(cr,{variant:"subtitle1",className:(0,h.Z)(t.greyColor),style:{flexGrow:1,textAlign:"center"}},"vers. 1.0.0.1.")))}var sp=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.disableTypography,u=void 0!==s&&s,c=t.inset,l=void 0!==c&&c,d=t.primary,f=t.primaryTypographyProps,m=t.secondary,v=t.secondaryTypographyProps,g=(0,p.Z)(t,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),y=e.useContext(vi).dense,b=null!=d?d:i;null==b||b.type===cr||u||(b=e.createElement(cr,(0,r.Z)({variant:y?"body2":"body1",className:a.primary,component:"span",display:"block"},f),b));var w=m;return null==w||w.type===cr||u||(w=e.createElement(cr,(0,r.Z)({variant:"body2",className:a.secondary,color:"textSecondary",display:"block"},v),w)),e.createElement("div",(0,r.Z)({className:(0,h.Z)(a.root,o,y&&a.dense,l&&a.inset,b&&w&&a.multiline),ref:n},g),b,w)})),up=(0,i.Z)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(sp),cp=k((function(e){return{container:{display:"flex",alignItems:"center"},border:{borderBottom:"1px solid lightgray",width:"100%"},content:{paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),paddingRight:e.spacing(2),paddingLeft:e.spacing(2),fontWeight:400,fontSize:12,lineHeight:"18px",color:"#6B7178",whiteSpace:"nowrap"}}})),lp=function(t){var n=cp();return e.createElement("div",{className:n.container},e.createElement("div",{className:n.border}),e.createElement("span",{className:n.content},t.children),e.createElement("div",{className:n.border}))};function dp(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M12 3C7.0372 3 3 7.0372 3 12C3 16.9628 7.0372 21 12 21C16.9628 21 21 16.9628 21 12C21 7.0372 16.9628 3 12 3ZM12 17.25C11.586 17.25 11.25 16.914 11.25 16.5C11.25 16.086 11.586 15.75 12 15.75C12.414 15.75 12.75 16.086 12.75 16.5C12.75 16.914 12.414 17.25 12 17.25ZM13.1872 12.4815C12.9218 12.6037 12.75 12.8715 12.75 13.1633V13.5C12.75 13.914 12.4147 14.25 12 14.25C11.5853 14.25 11.25 13.914 11.25 13.5V13.1633C11.25 12.288 11.7645 11.4856 12.5588 11.1188C13.323 10.7671 13.875 9.83322 13.875 9.37495C13.875 8.34155 13.0342 7.5 12 7.5C10.9658 7.5 10.125 8.34155 10.125 9.37495C10.125 9.789 9.78969 10.125 9.37495 10.125C8.96022 10.125 8.625 9.789 8.625 9.37495C8.625 7.51428 10.1392 5.99995 12 5.99995C13.8608 5.99995 15.375 7.51428 15.375 9.37495C15.375 10.3883 14.496 11.8778 13.1872 12.4815Z",fill:"#303740"}))}function fp(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M12 21C13.78 21 15.5201 20.4722 17.0001 19.4832C18.4802 18.4943 19.6337 17.0887 20.3149 15.4442C20.9961 13.7996 21.1743 11.99 20.8271 10.2442C20.4798 8.49836 19.6226 6.89472 18.364 5.63604C17.1053 4.37737 15.5016 3.5202 13.7558 3.17294C12.01 2.82567 10.2004 3.0039 8.55585 3.68509C6.91131 4.36628 5.50571 5.51983 4.51677 6.99987C3.52784 8.47991 3 10.22 3 12C3 14.387 3.94821 16.6761 5.63604 18.364C7.32387 20.0518 9.61305 21 12 21ZM12 6.372C12.2373 6.372 12.4693 6.44238 12.6667 6.57424C12.864 6.7061 13.0178 6.89351 13.1087 7.11278C13.1995 7.33206 13.2232 7.57333 13.1769 7.80611C13.1306 8.03889 13.0164 8.25271 12.8485 8.42053C12.6807 8.58836 12.4669 8.70264 12.2341 8.74895C12.0013 8.79525 11.7601 8.77148 11.5408 8.68066C11.3215 8.58983 11.1341 8.43603 11.0022 8.23869C10.8704 8.04135 10.8 7.80934 10.8 7.572C10.8 7.25374 10.9264 6.94852 11.1515 6.72348C11.3765 6.49843 11.6817 6.372 12 6.372ZM10.8 12C10.8 11.6817 10.9264 11.3765 11.1515 11.1515C11.3765 10.9264 11.6817 10.8 12 10.8C12.3183 10.8 12.6235 10.9264 12.8485 11.1515C13.0736 11.3765 13.2 11.6817 13.2 12V16.8C13.2 17.1183 13.0736 17.4235 12.8485 17.6485C12.6235 17.8736 12.3183 18 12 18C11.6817 18 11.3765 17.8736 11.1515 17.6485C10.9264 17.4235 10.8 17.1183 10.8 16.8V12Z",fill:"#303740"}))}function pp(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M11.9688 4C7.57469 4 4 7.154 4 11.0312C4 12.6691 4.64819 14.2562 5.82784 15.5141C6.06131 16.4768 5.77794 17.4967 5.07481 18.1998C4.78081 18.4938 4.98872 19 5.40625 19C6.742 19 8.02969 18.4768 8.98641 17.5539C9.93306 17.8918 10.9347 18.0625 11.9688 18.0625C16.3628 18.0625 20 14.9085 20 11.0312C20 7.154 16.3628 4 11.9688 4ZM8.28125 12.4375C7.50581 12.4375 6.875 11.8067 6.875 11.0312C6.875 10.2558 7.50581 9.625 8.28125 9.625C9.05669 9.625 9.6875 10.2558 9.6875 11.0312C9.6875 11.8067 9.05669 12.4375 8.28125 12.4375ZM12.0312 12.4375C11.2558 12.4375 10.625 11.8067 10.625 11.0312C10.625 10.2558 11.2558 9.625 12.0312 9.625C12.8067 9.625 13.4375 10.2558 13.4375 11.0312C13.4375 11.8067 12.8067 12.4375 12.0312 12.4375ZM15.7812 12.4375C15.0058 12.4375 14.375 11.8067 14.375 11.0312C14.375 10.2558 15.0058 9.625 15.7812 9.625C16.5567 9.625 17.1875 10.2558 17.1875 11.0312C17.1875 11.8067 16.5567 12.4375 15.7812 12.4375Z",fill:"#303740"}))}function hp(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 7.5L9.5 6L16 12.5L9.5 19L8 17.5L13 12.5L8 7.5Z",fill:"currentColor"}))}var mp,vp=n(72426),gp=n.n(vp);function yp(){return e.createElement("svg",{width:"48",height:"49",viewBox:"0 0 48 49",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{cx:"24",cy:"24.5",r:"24",fill:"white"}),e.createElement("circle",{cx:"24",cy:"24.5",r:"24",fill:"white"}),e.createElement("mask",{id:"mask0_1493_746",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"48",height:"49"},e.createElement("circle",{cx:"24",cy:"24.5",r:"24",fill:"white"})),e.createElement("g",{mask:"url(#mask0_1493_746)"},e.createElement("path",{opacity:"0.6",fillRule:"evenodd",clipRule:"evenodd",d:"M24 32.5C28.6963 32.5 32.5 28.6962 32.5 24C32.5 19.3038 28.6963 15.5 24 15.5C19.3038 15.5 15.5 19.3038 15.5 24C15.5 28.6962 19.3038 32.5 24 32.5ZM24 36.75C18.3263 36.75 7 39.5975 7 45.25V49.5H41V45.25C41 39.5975 29.6737 36.75 24 36.75Z",fill:"#CBCFD5"})))}!function(e){e[e.roomNameStep=0]="roomNameStep",e[e.deviceSelectionStep=1]="deviceSelectionStep"}(mp||(mp={}));var bp=k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,f.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,f.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},gutterBottom:{marginBottom:4},gutterBottomBase:{marginBottom:16},gutterBottomLarge:{marginBottom:24},gutterBottomExtraExtraLarge:{marginBottom:80},passcodeContainer:{minHeight:"120px"},submitButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"}),SessionHelperContainer:{position:"fixed",bottom:0,paddingBottom:86},profilePictureContainer:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"10px"},partnerProfilePictureImage:{width:"163px",height:"163px",top:0,bottom:0,left:0,right:0,objectFit:"cover",borderRadius:"10px"},whiteBasicColor:{color:e.whiteBasic},greyColor:{color:e.grey},greyMainColor:{color:e.greyMain},redColor:{color:e.red},trueblackBasicColor:{color:e.trueblackBasic},hidden:{display:"none"},roundedTopContainer:{marginTop:-8,paddingTop:24,paddingLeft:16,paddingRight:16,borderTopRightRadius:8,borderTopLeftRadius:8,boxShadow:"0px 0px 32px rgba(0, 0, 0, 0.1)",backgroundColor:"white",position:"relative"},linkLikeButton:{textDecoration:"underline"},bottomNavigationContainer:{position:"absolute",bottom:0},flexContainer:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",padding:0},root:{justifyContent:"center"}}})),wp=(0,i.Z)((function(e){return{root:{borderTopLeftRadius:8,borderTopRightRadius:8,backgroundColor:e.greyMain}}}))(Hf);function kp(t){var n,r,i,a,o=t.inProgress,s=t.upcoming,u=(t.onClick,bp()),c=kt(),l=(0,e.useState)(!(!o||!o.length)),d=(0,G.Z)(l,2),f=d[0],p=d[1],h=(0,e.useState)(1),m=(0,G.Z)(h,2);m[0],m[1],new URLSearchParams(window.location.search).get("bookingId");(0,e.useEffect)((function(){p(!(!o||!o.length))}),[o,p]);var v,g,y=(0,e.useCallback)((function(e){o&&o.length?c.push({pathname:"/sessions-page/".concat(o[0].id)}):s&&s.length&&c.push({pathname:"/sessions-page/".concat(s[0].id)})}),[o,s]);return o&&o.length?g=o[0]:s&&s.length&&(v=s[0]),e.createElement(ff,{maxWidth:"sm",disableGutters:!0,className:u.SessionHelperContainer},e.createElement(wp,{py:1,px:2,onClick:y,style:{backgroundColor:f?"#3BC693":"#303740",userSelect:"none",cursor:"pointer"}},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"space-between"},e.createElement(yp,null),e.createElement("div",{style:{marginLeft:20,flexGrow:1}},e.createElement(cr,{variant:"caption",className:f?u.whiteBasicColor:u.redColor,style:{textTransform:"uppercase"}},f?"Session in progress":"NEXT SESSION"),e.createElement(cr,{variant:"h3",className:f?u.trueblackBasicColor:u.whiteBasicColor},v?"".concat(null===(n=v.user)||void 0===n?void 0:n.firstName," ").concat(null===(r=v.user)||void 0===r?void 0:r.familyName):g&&"".concat(null===(i=g.user)||void 0===i?void 0:i.firstName," ").concat(null===(a=g.user)||void 0===a?void 0:a.familyName)),e.createElement(cr,{variant:"subtitle1",className:f?u.trueblackBasicColor:u.whiteBasicColor},v?"".concat(gp()(Number(v.startTime)).format("ddd, DD MMM [at] HH:mm A")):g&&"".concat(gp()(Number(g.startTime)).format("ddd, DD MMM [at] HH:mm A")))),e.createElement(Hf,{display:"flex",className:f?u.whiteBasicColor:u.redColor},e.createElement(hp,null)))))}var xp,_p=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=(0,p.Z)(t,["classes","className"]),s=e.useContext(vi);return e.createElement("div",(0,r.Z)({className:(0,h.Z)(i.root,a,"flex-start"===s.alignItems&&i.alignItemsFlexStart),ref:n},o))})),Sp=(0,i.Z)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(_p);function Ep(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M12 11.7376C14.6684 11.7376 16.8318 9.11006 16.8318 5.86882C16.8318 2.62752 16.1215 0 12 0C7.87852 0 7.16812 2.62752 7.16812 5.86882C7.16812 9.11006 9.33148 11.7376 12 11.7376Z",fill:"currentColor"}),e.createElement("path",{d:"M2.87377 20.6985C2.87295 20.5009 2.87212 20.6428 2.87377 20.6985V20.6985Z",fill:"currentColor"}),e.createElement("path",{d:"M21.1258 20.8528C21.1284 20.7987 21.1267 20.4775 21.1258 20.8528V20.8528Z",fill:"currentColor"}),e.createElement("path",{d:"M21.1156 20.4615C21.0261 14.8152 20.2887 13.2063 14.6457 12.1879C14.6457 12.1879 13.8514 13.2001 11.9999 13.2001C10.1485 13.2001 9.35404 12.1879 9.35404 12.1879C3.77267 13.1952 2.99041 14.7802 2.88755 20.2781C2.87912 20.727 2.87521 20.7506 2.8737 20.6985C2.87404 20.7961 2.87446 20.9768 2.87446 21.2917C2.87446 21.2917 4.21791 24 11.9999 24C19.7818 24 21.1254 21.2917 21.1254 21.2917C21.1254 21.0894 21.1256 20.9487 21.1258 20.8529C21.1243 20.8852 21.1212 20.8227 21.1156 20.4615Z",fill:"currentColor"}))}function Cp(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{clipPath:"url(#clip0_1493_1196)"},e.createElement("path",{d:"M17.25 2.00006H15.9999V0.999939C15.9999 0.448059 15.553 0 15 0C14.447 0 14.0001 0.448059 14.0001 0.999939V2.00006H6V0.999939C6 0.448059 5.55304 0 5.00006 0C4.44708 0 3.99994 0.448059 3.99994 0.999939V2.00006H2.75006C1.23303 2.00006 0 3.23291 0 4.74994V15.9999C0 17.6539 1.34601 18.9999 3 18.9999H8.00006C8.55304 18.9999 9 18.5521 9 18C9 17.4479 8.55304 17.0001 8.00006 17.0001H3C2.44794 17.0001 2.00006 16.5511 2.00006 15.9999V8.00006H18C18 8.55194 18.447 9 18.9999 9C19.5529 9 20.0001 8.55194 20.0001 8.00006V4.74994C20.0001 3.23291 18.767 2.00006 17.25 2.00006Z",fill:"currentColor"}),e.createElement("path",{d:"M17.4999 11.0001C13.916 11.0001 11.0001 13.9161 11.0001 17.5C11.0001 21.0841 13.916 24.0001 17.4999 24.0001C21.084 24.0001 24 21.0841 24 17.5C24 13.9161 21.084 11.0001 17.4999 11.0001ZM20.0001 18.5001H18.5001V20.0001C18.5001 20.552 18.052 21.0001 17.4999 21.0001C16.9481 21.0001 16.5 20.552 16.5 20.0001V18.5001H15C14.4479 18.5001 14.0001 18.0521 14.0001 17.5C14.0001 16.9481 14.4479 16.5001 15 16.5001H16.5V15.0001C16.5 14.448 16.9481 14.0001 17.4999 14.0001C18.052 14.0001 18.5001 14.448 18.5001 15.0001V16.5001H20.0001C20.5519 16.5001 21 16.9481 21 17.5C21 18.0521 20.5519 18.5001 20.0001 18.5001Z",fill:"currentColor"})),e.createElement("defs",null,e.createElement("clipPath",{id:"clip0_1493_1196"},e.createElement("rect",{width:"24",height:"24",fill:"white"}))))}function Tp(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M12 0C7.78289 0 4.26562 3.39703 4.26562 7.73438C4.26562 9.38447 4.76147 10.8559 5.71308 12.2347L11.4081 21.1212C11.6844 21.5532 12.3162 21.5524 12.5919 21.1212L18.3116 12.2044C19.2428 10.8881 19.7344 9.34252 19.7344 7.73438C19.7344 3.46964 16.2647 0 12 0ZM12 11.25C10.0616 11.25 8.48438 9.6728 8.48438 7.73438C8.48438 5.79595 10.0616 4.21875 12 4.21875C13.9384 4.21875 15.5156 5.79595 15.5156 7.73438C15.5156 9.6728 13.9384 11.25 12 11.25Z",fill:"currentColor"}),e.createElement("path",{d:"M17.4967 16.1575L13.9562 21.6929C13.0398 23.1217 10.9551 23.117 10.0431 21.6942L6.49678 16.159C3.37659 16.8804 1.45312 18.2019 1.45312 19.7812C1.45312 22.5216 6.88725 23.9999 12 23.9999C17.1128 23.9999 22.5469 22.5216 22.5469 19.7812C22.5469 18.2008 20.6207 16.8786 17.4967 16.1575Z",fill:"currentColor"}))}function Ap(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M2.48278 2.89655C1.11145 2.89655 0 4.008 0 5.37929C0 6.75058 1.11145 7.86207 2.48278 7.86207C3.85408 7.86207 4.96553 6.75062 4.96553 5.37929C4.96553 4.00796 3.85408 2.89655 2.48278 2.89655ZM2.48278 9.51721C1.11145 9.51721 0 10.6287 0 12C0 13.3713 1.11145 14.4828 2.48278 14.4828C3.85408 14.4828 4.96553 13.3713 4.96553 12C4.96553 10.6287 3.85408 9.51721 2.48278 9.51721ZM2.48278 16.138C1.11145 16.138 0 17.2494 0 18.6207C0 19.992 1.11145 21.1034 2.48278 21.1034C3.85408 21.1034 4.96553 19.992 4.96553 18.6207C4.96553 17.2494 3.85408 16.138 2.48278 16.138ZM9.10345 7.03447H22.3448C23.2593 7.03447 24 6.29376 24 5.37929C24 4.46482 23.2593 3.72411 22.3448 3.72411H9.10345C8.18898 3.72411 7.44827 4.46482 7.44827 5.37929C7.44827 6.29376 8.18898 7.03447 9.10345 7.03447ZM22.3448 10.3448H9.10345C8.18898 10.3448 7.44827 11.0855 7.44827 12C7.44827 12.9145 8.18898 13.6552 9.10345 13.6552H22.3448C23.2593 13.6552 24 12.9145 24 12C24 11.0855 23.2593 10.3448 22.3448 10.3448ZM22.3448 16.9655H9.10345C8.18898 16.9655 7.44827 17.7062 7.44827 18.6207C7.44827 19.5351 8.18898 20.2758 9.10345 20.2758H22.3448C23.2593 20.2758 24 19.5351 24 18.6207C24 17.7062 23.2593 16.9655 22.3448 16.9655Z",fill:"currentColor"}))}!function(e){e[e.roomNameStep=0]="roomNameStep",e[e.deviceSelectionStep=1]="deviceSelectionStep"}(xp||(xp={}));var Op=k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,f.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,f.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},gutterBottom:{marginBottom:4},gutterBottomBase:{marginBottom:16},gutterBottomLarge:{marginBottom:24},gutterBottomExtraExtraLarge:{marginBottom:80},passcodeContainer:{minHeight:"120px"},submitButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"}),profilePictureContainer:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"10px"},partnerProfilePictureImage:{width:"163px",height:"163px",top:0,bottom:0,left:0,right:0,objectFit:"cover",borderRadius:"10px"},greyColor:{color:e.grey},greyMainColor:{color:e.greyMain},redColor:{color:e.red},hidden:{display:"none"},roundedTopContainer:{marginTop:-8,paddingTop:24,paddingLeft:16,paddingRight:16,borderTopRightRadius:8,borderTopLeftRadius:8,boxShadow:"0px 0px 32px rgba(0, 0, 0, 0.1)",backgroundColor:"white",position:"relative"},linkLikeButton:{textDecoration:"underline"},bottomNavigationContainer:{position:"fixed",bottom:0,backgroundColor:"#ffffff",boxShadow:"0px 0px 32px rgba(0, 0, 0, 0.1)"},flexContainer:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",padding:0},root:{justifyContent:"center"},navLink:{textDecoration:"none","&:hover":{color:"#E94E32"}},navLinkActive:{color:"#E94E32"},navLinkUnselected:{color:"#303740"}}})),Rp=(0,i.Z)((function(e){return{root:{justifyContent:"center","& .MuiListItemIcon-root":{color:e.greyMain},"&$selected":{backgroundColor:"transparent",color:e.red,"& .MuiListItemIcon-root":{color:e.red}},"&$selected:hover":{backgroundColor:"transparent",color:e.red,"& .MuiListItemIcon-root":{color:e.red}},"&:hover":{backgroundColor:"transparent",color:e.red,"& .MuiListItemIcon-root":{color:e.red}}},selected:{}}}))(fa),Ip=(0,i.Z)((function(e){return{root:{color:"green"},"& .nav-link":{color:"green"}}}))(uf);function Np(){var t=Op(),n=(0,e.useState)(1),r=(0,G.Z)(n,2),i=r[0],a=r[1];new URLSearchParams(window.location.search).get("bookingId"),kt();return e.createElement(ff,{className:t.bottomNavigationContainer},e.createElement(Hf,{py:2},e.createElement(yi,{component:"nav","aria-label":"mailbox folders",className:t.flexContainer},e.createElement(Rp,{button:!0,style:{padding:0},selected:0===i},e.createElement(Ip,{to:"/main-page",isActive:function(e,t){return!!e&&(a(0),!0)},className:function(e){return"nav-link "+(0,h.Z)(t.navLink,e?t.navLinkActive:t.navLinkUnselected)}},e.createElement(Hf,{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",flexDirection:"column"},e.createElement(Sp,{classes:{root:t.root}},e.createElement(Ep,null)),e.createElement(up,{primaryTypographyProps:{variant:"subtitle1"},primary:"Home",style:{marginTop:8,textDecoration:"none"}}),e.createElement(cr,{className:""})))),e.createElement(Rp,{button:!0,style:{padding:0},selected:1===i},e.createElement(uf,{to:"/availability-page",isActive:function(e,t){return!!e&&(a(1),!0)},className:function(e){return"nav-link "+(0,h.Z)(t.navLink,e?t.navLinkActive:t.navLinkUnselected)}},e.createElement(Hf,{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",flexDirection:"column"},e.createElement(Sp,{classes:{root:t.root}},e.createElement(Cp,null)),e.createElement(up,{primaryTypographyProps:{variant:"subtitle1"},primary:"Calendar",style:{marginTop:8,textDecoration:"none"}})))),e.createElement(Rp,{button:!0,style:{padding:0},selected:2===i},e.createElement(uf,{to:"/areas-page",isActive:function(e,t){return!!e&&(a(2),!0)},className:function(e){return"nav-link "+(0,h.Z)(t.navLink,e?t.navLinkActive:t.navLinkUnselected)}},e.createElement(Hf,{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",flexDirection:"column"},e.createElement(Sp,{classes:{root:t.root}},e.createElement(Tp,null)),e.createElement(up,{primaryTypographyProps:{variant:"subtitle1"},primary:"Areas",style:{marginTop:8}})))),e.createElement(Rp,{button:!0,style:{padding:0},selected:3===i},e.createElement(uf,{to:"/sessions-page",isActive:function(e,t){return!!e&&(a(3),!0)},className:function(e){return"nav-link "+(0,h.Z)(t.navLink,e?t.navLinkActive:t.navLinkUnselected)}},e.createElement(Hf,{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",flexDirection:"column"},e.createElement(Sp,{classes:{root:t.root}},e.createElement(Ap,null)),e.createElement(up,{primaryTypographyProps:{variant:"subtitle1"},primary:"Sessions",style:{marginTop:8}})))))))}function Pp(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("path",{d:"M13.686 10.833L12 7l-1.686 3.838L6 11.192l3.276 2.738L8.292 18 12 15.84 15.708 18l-.978-4.07L18 11.192z",fill:"currentColor"}))}function Mp(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("path",{d:"M18 11.192l-4.314-.36L12 7l-1.686 3.838L6 11.192l3.276 2.738L8.292 18 12 15.84 15.708 18l-.978-4.07L18 11.192zm-6 3.566V9.374l1.026 2.339 2.628.22-1.992 1.667.6 2.478L12 14.758z",fill:"currentColor"}))}var Lp=k((function(e){return{redColor:{},spacingRight:{marginRight:8},partnerRatingContainer:{color:e.red,background:"#fff",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.1)",borderRadius:8},tbIcon:{display:"inline-block",verticalAlign:"text-bottom"}}})),Dp=function(t){var n=t.partner,r=t.className,i=t.trainerRatingRecapClassName,a=t.trainerNumberOfSessionsClassName,o=t.onClick,s=Lp();return e.createElement(Hf,{display:"inline-flex",alignItems:"center",className:(0,h.Z)(s.partnerRatingContainer,r),itemScope:!0,itemProp:"aggregateRating",itemType:"http://schema.org/AggregateRating",title:"".concat(n.partnerRatingRecap.average.toFixed(2)," out of 5 stars from ").concat(n.partnerRatingRecap.numberOfRatings," ratings"),"aria-label":"".concat(n.partnerRatingRecap.average," out of 5 stars from ").concat(n.partnerRatingRecap.numberOfRatings," ratings")},5===n.partnerRatingRecap.average?e.createElement(Pp,null):e.createElement(Mp,null),e.createElement(cr,{variant:"caption",className:(0,h.Z)(s.spacingRight,s.redColor)},e.createElement("span",{className:i},n.partnerRatingRecap.average.toFixed(2))),e.createElement(cr,{variant:"caption",className:s.redColor},e.createElement("span",{role:"button",className:a,onClick:o},n.partnerRatingRecap.numberOfRatings," Ratings")),e.createElement("meta",{itemProp:"ratingValue",content:String(n.partnerRatingRecap.average)}),e.createElement("meta",{itemProp:"bestRating",content:"5"}),e.createElement("meta",{itemProp:"ratingCount",content:String(n.partnerRatingRecap.numberOfRatings)}))},Fp=k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,f.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,f.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},gutterBottom:{marginBottom:4},gutterBottomBase:{marginBottom:16},gutterBottomLarge:{marginBottom:24},gutterBottomExtraExtraLarge:{marginBottom:80},passcodeContainer:{minHeight:"120px"},submitButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"}),profilePictureContainer:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"10px"},partnerProfilePictureImage:{width:"163px",height:"163px",top:0,bottom:0,left:0,right:0,objectFit:"cover",borderRadius:"10px"},greyColor:{color:e.grey},greyMainColor:{color:e.greyMain},redColor:{color:e.red},hidden:{display:"none"},roundedTopContainer:{marginTop:-8,paddingTop:24,paddingLeft:16,paddingRight:16,borderTopRightRadius:8,borderTopLeftRadius:8,boxShadow:"0px 0px 32px rgba(0, 0, 0, 0.1)",backgroundColor:"white",position:"relative"},linkLikeButton:{textDecoration:"underline"},closeBackgroundSelection:{cursor:"pointer",background:"transparent",border:"0",padding:"0"}}}));function Bp(){var t=Fp(),n=Ot(),r=(n.signIn,n.signOut),i=n.user,a=n.upcomingBookings,o=n.inProgressBookings,s=(n.isAuthReady,n.getBookings,n.getUpcomingBookings),u=n.getInProgressBookings,c=(kt(),xt(),(0,e.useState)("")),l=(0,G.Z)(c,2),d=(l[0],l[1],(0,e.useState)("")),f=(0,G.Z)(d,2),p=(f[0],f[1],(0,e.useState)("")),m=(0,G.Z)(p,2),v=(m[0],m[1],(0,e.useState)(null)),g=(0,G.Z)(v,2),y=(g[0],g[1],(0,e.useState)(!1)),b=(0,G.Z)(y,2),w=(b[0],b[1]);(0,e.useEffect)((function(){s(),u()}),[i]);var k=o&&o.length||a&&a.length;return e.createElement(e.Fragment,null,e.createElement(Kr,{container:!0,justifyContent:"flex-start"},e.createElement("div",{className:t.profilePictureContainer,onClick:function(){}},e.createElement("img",{className:(0,h.Z)(t.partnerProfilePictureImage,{selected:!1}),src:i&&i.photoURL?i.photoURL:"https://profilepics.trubeapp.com/Alan_Koetscheid.png?q=high",alt:"123"})),e.createElement("div",null,e.createElement(cr,{variant:"subtitle1",className:(0,h.Z)(t.gutterBottom,t.greyColor)},"Your profile"),e.createElement(cr,{variant:"h2",className:t.gutterBottomBase},i?e.createElement(e.Fragment,null,e.createElement("div",null,i.firstName),e.createElement("div",null,i.familyName)):e.createElement(e.Fragment,null,e.createElement("div",null," "),e.createElement("div",null," "))),e.createElement(Hf,{display:"flex",alignItems:"center"},e.createElement(Dp,{partner:{partnerRatingRecap:{average:i&&i.partnerRating?i.partnerRating:5,numberOfRatings:i&&i.numberOfSessions?i.numberOfSessions:0}},className:"",trainerRatingRecapClassName:"",trainerNumberOfSessionsClassName:t.hidden,onClick:function(){}}),e.createElement(Hf,{ml:1},e.createElement(cr,{variant:"subtitle1",className:(0,h.Z)(t.gutterBottom,t.greyColor)},"avg. rating"))))),e.createElement(Hf,{color:"white",className:t.roundedTopContainer,style:{paddingBottom:k?170:88}},e.createElement(cr,{variant:"subtitle1",className:(0,h.Z)(t.greyColor,t.gutterBottomLarge)},e.createElement(lp,null,"Session stats")),e.createElement(Kr,{container:!0,justifyContent:"flex-start"},e.createElement(Kr,{container:!0,justifyContent:"space-evenly"},e.createElement(Hf,{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",flexDirection:"column",mr:2,ml:2,pb:3},e.createElement(cr,{variant:"button",className:(0,h.Z)(t.redColor),style:{marginBottom:16}},"UPCOMING:"),e.createElement(cr,{variant:"h1",className:(0,h.Z)(t.redColor)},a?a.length:0)),e.createElement(Hf,{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",flexDirection:"column",mr:2,ml:2,pb:3},e.createElement(cr,{variant:"button",className:(0,h.Z)(t.greyColor),style:{marginBottom:16}},"COMPLETED:"),e.createElement(cr,{variant:"h1",className:(0,h.Z)(t.greyColor)},i&&i.numberOfSessions?i.numberOfSessions:0)))),e.createElement(cr,{variant:"subtitle1",className:(0,h.Z)(t.greyColor,t.gutterBottomLarge)},e.createElement(lp,null,"Your income")),e.createElement(Kr,{container:!0,justifyContent:"flex-start"},e.createElement(Kr,{container:!0,justifyContent:"space-evenly"},e.createElement(Hf,{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",flexDirection:"column",mr:2,ml:2,mb:3},e.createElement(cr,{variant:"button",className:(0,h.Z)(t.greyColor,t.gutterBottom),style:{marginBottom:16}},"THIS MONTH:"),e.createElement(cr,{variant:"h1",className:(0,h.Z)(t.greyMainColor,t.gutterBottom)},"\xa3865")),e.createElement(Hf,{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",flexDirection:"column",mr:2,ml:2,mb:3},e.createElement(cr,{variant:"button",className:(0,h.Z)(t.greyColor,t.gutterBottom),style:{marginBottom:16}},"TOTALLY:"),e.createElement(cr,{variant:"h1",className:(0,h.Z)(t.greyMainColor,t.gutterBottom)},"\xa38,2K"))),e.createElement(ff,{maxWidth:"sm",disableGutters:!0},e.createElement(yi,{component:"nav","aria-label":"mailbox folders"},e.createElement(fa,{button:!0,style:{paddingLeft:0,paddingRight:0}},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"space-between",flex:"1"},e.createElement(dp,null),e.createElement(up,{primary:"Contact Support",style:{marginLeft:16}}),e.createElement(Hf,{display:"flex",className:t.redColor},e.createElement(hp,null)))),e.createElement(mr,null),e.createElement(fa,{button:!0,divider:!0,style:{paddingLeft:0,paddingRight:0}},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"space-between",flex:"1"},e.createElement(fp,null),e.createElement(up,{primary:"Terms and Conditions",style:{marginLeft:16}}),e.createElement(Hf,{display:"flex",className:t.redColor},e.createElement(hp,null)))),e.createElement(fa,{button:!0,style:{paddingLeft:0,paddingRight:0}},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"space-between",flex:"1"},e.createElement(pp,null),e.createElement(up,{primary:"App Feedback ",style:{marginLeft:16}}),e.createElement(Hf,{display:"flex",className:t.redColor},e.createElement(hp,null)))),e.createElement(mr,{light:!0}))),e.createElement(ff,{maxWidth:"sm"},e.createElement(Hf,{mt:4,textAlign:"center",flex:"1"},e.createElement("button",{className:t.closeBackgroundSelection,onClick:function(){return r()}},e.createElement(cr,{variant:"subtitle2",className:(0,h.Z)(t.greyColor,t.gutterBottomExtraExtraLarge,t.linkLikeButton)},"Log out")))))),k&&e.createElement(kp,{inProgress:o,upcoming:a,onClick:function(){o&&o.length?w(!1):w(!0)}}),e.createElement(Np,null))}var jp=k((function(e){return{background:{display:"flex",justifyContent:"center",background:"rgb(40, 42, 43)",height:"100%",boxShadow:"0px 0px 32px rgba(0, 0, 0, 0.1)"},container:{position:"relative",flex:"1"},innerContainer:{position:"relative",marginTop:-8,paddingTop:24,paddingLeft:16,paddingRight:16,paddingBottom:86,borderTopRightRadius:8,borderTopLeftRadius:8,boxShadow:"0px 0px 32px rgba(0, 0, 0, 0.1)",backgroundColor:"white"},content:(0,f.Z)({background:"white",width:"100%",height:"100%",flex:1},e.breakpoints.down("sm"),{}),title:(0,f.Z)({color:"white",margin:"1em 0 0"},e.breakpoints.down("sm"),{margin:0,fontSize:"1.1rem"})}})),Zp=function(t){var n=jp();Ot().user,xt();return e.createElement("div",{className:n.background,style:t.style},e.createElement("div",{className:n.container},e.createElement("div",{className:n.innerContainer,style:t.innerContainerStyle},e.createElement("div",{className:n.content},t.children))))},Vp=n(34279),Up=n.n(Vp),Wp=(n(11312),{OS:"web",select:function(e){return"web"in e?e.web:e.default},get isTesting(){return!1}}),Hp=n(84035),zp=n.n(Hp),Gp=!("undefined"===typeof window||!window.document||!window.document.createElement),qp=Gp&&"undefined"!==typeof window.requestIdleCallback,Kp=qp?window.requestIdleCallback:function(e,t){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},Yp=qp?window.cancelIdleCallback:function(e){clearTimeout(e)},Xp=Kp,Qp={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions:function(e){var t,n=new Promise((function(n){t=Xp((function(){e?n(e()):n()}))}));return{then:n.then.bind(n),done:n.then.bind(n),cancel:function(){Yp(t)}}},createInteractionHandle:function(){return 1},clearInteractionHandle:function(e){zp()(!!e,"Must provide a handle to clear.")},addListener:function(){}},Jp={centroidDimension:function(e,t,n,r){var i=e.touchBank,a=0,o=0,s=1===e.numberActiveTouches?e.touchBank[e.indexOfSingleActiveTouch]:null;if(null!==s)s.touchActive&&s.currentTimeStamp>t&&(a+=r&&n?s.currentPageX:r&&!n?s.currentPageY:!r&&n?s.previousPageX:s.previousPageY,o=1);else for(var u=0;u<i.length;u++){var c=i[u];if(null!==c&&void 0!==c&&c.touchActive&&c.currentTimeStamp>=t){a+=r&&n?c.currentPageX:r&&!n?c.currentPageY:!r&&n?c.previousPageX:c.previousPageY,o++}}return o>0?a/o:Jp.noCentroid},currentCentroidXOfTouchesChangedAfter:function(e,t){return Jp.centroidDimension(e,t,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(e,t){return Jp.centroidDimension(e,t,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(e,t){return Jp.centroidDimension(e,t,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(e,t){return Jp.centroidDimension(e,t,!1,!1)},currentCentroidX:function(e){return Jp.centroidDimension(e,0,!0,!0)},currentCentroidY:function(e){return Jp.centroidDimension(e,0,!1,!0)},noCentroid:-1},$p=Jp,eh=$p.currentCentroidXOfTouchesChangedAfter,th=$p.currentCentroidYOfTouchesChangedAfter,nh=$p.previousCentroidXOfTouchesChangedAfter,rh=$p.previousCentroidYOfTouchesChangedAfter,ih=$p.currentCentroidX,ah=$p.currentCentroidY,oh={_initializeGestureState:function(e){e.moveX=0,e.moveY=0,e.x0=0,e.y0=0,e.dx=0,e.dy=0,e.vx=0,e.vy=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(e,t){e.numberActiveTouches=t.numberActiveTouches,e.moveX=eh(t,e._accountsForMovesUpTo),e.moveY=th(t,e._accountsForMovesUpTo);var n=e._accountsForMovesUpTo,r=nh(t,n),i=eh(t,n),a=rh(t,n),o=th(t,n),s=e.dx+(i-r),u=e.dy+(o-a),c=t.mostRecentTimeStamp-e._accountsForMovesUpTo;e.vx=(s-e.dx)/c,e.vy=(u-e.dy)/c,e.dx=s,e.dy=u,e._accountsForMovesUpTo=t.mostRecentTimeStamp},create:function(e){var t={handle:null,shouldCancelClick:!1,timeout:null},n={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:function(t){return null!=e.onStartShouldSetPanResponder&&e.onStartShouldSetPanResponder(t,n)},onMoveShouldSetResponder:function(t){return null!=e.onMoveShouldSetPanResponder&&e.onMoveShouldSetPanResponder(t,n)},onStartShouldSetResponderCapture:function(t){return 1===t.nativeEvent.touches.length&&oh._initializeGestureState(n),n.numberActiveTouches=t.touchHistory.numberActiveTouches,null!=e.onStartShouldSetPanResponderCapture&&e.onStartShouldSetPanResponderCapture(t,n)},onMoveShouldSetResponderCapture:function(t){var r=t.touchHistory;return n._accountsForMovesUpTo!==r.mostRecentTimeStamp&&(oh._updateGestureStateOnMove(n,r),!!e.onMoveShouldSetPanResponderCapture&&e.onMoveShouldSetPanResponderCapture(t,n))},onResponderGrant:function(r){return t.handle||(t.handle=Qp.createInteractionHandle()),t.timeout&&function(e){clearTimeout(e.timeout)}(t),t.shouldCancelClick=!0,n.x0=ih(r.touchHistory),n.y0=ah(r.touchHistory),n.dx=0,n.dy=0,e.onPanResponderGrant&&e.onPanResponderGrant(r,n),null==e.onShouldBlockNativeResponder||e.onShouldBlockNativeResponder(r,n)},onResponderReject:function(r){sh(t,e.onPanResponderReject,r,n)},onResponderRelease:function(r){sh(t,e.onPanResponderRelease,r,n),uh(t),oh._initializeGestureState(n)},onResponderStart:function(t){var r=t.touchHistory;n.numberActiveTouches=r.numberActiveTouches,e.onPanResponderStart&&e.onPanResponderStart(t,n)},onResponderMove:function(t){var r=t.touchHistory;n._accountsForMovesUpTo!==r.mostRecentTimeStamp&&(oh._updateGestureStateOnMove(n,r),e.onPanResponderMove&&e.onPanResponderMove(t,n))},onResponderEnd:function(r){var i=r.touchHistory;n.numberActiveTouches=i.numberActiveTouches,sh(t,e.onPanResponderEnd,r,n)},onResponderTerminate:function(r){sh(t,e.onPanResponderTerminate,r,n),uh(t),oh._initializeGestureState(n)},onResponderTerminationRequest:function(t){return null==e.onPanResponderTerminationRequest||e.onPanResponderTerminationRequest(t,n)},onClickCapture:function(e){!0===t.shouldCancelClick&&(e.stopPropagation(),e.preventDefault())}},getInteractionHandle:function(){return t.handle}}}};function sh(e,t,n,r){e.handle&&(Qp.clearInteractionHandle(e.handle),e.handle=null),t&&t(n,r)}function uh(e){e.timeout=setTimeout((function(){e.shouldCancelClick=!1}),250)}var ch=oh,lh=function(e){if(null!=e&&(1===e.nodeType&&"function"===typeof e.getBoundingClientRect))return e.getBoundingClientRect()},dh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},fh=["ms","Moz","O","Webkit"];Object.keys(dh).forEach((function(e){fh.forEach((function(t){dh[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=dh[e]}))}));var ph=dh;var hh=function(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ph.hasOwnProperty(e)&&ph[e]?(""+t).trim():t+"px"};var mh=function(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=0===r.indexOf("--"),a=hh(r,t[r],i);"float"===r&&(r="cssFloat"),i?n.setProperty(r,a):n[r]=a}},vh=function(e){var t=lh(e),n=t.x,r=t.y,i=t.top,a=t.left;return{x:n,y:r,width:e.offsetWidth,height:e.offsetHeight,top:i,left:a}},gh=function(e,t,n){var r=t||e&&e.parentNode;e&&r&&setTimeout((function(){var t=lh(r),i=vh(e),a=i.height,o=i.left,s=i.top,u=i.width,c=o-t.left,l=s-t.top;n(c,l,u,a,o,s)}),0)},yh={A:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},bh={blur:function(e){try{e.blur()}catch(t){}},focus:function(e){try{var t=e.nodeName;null==e.getAttribute("tabIndex")&&null==yh[t]&&e.setAttribute("tabIndex","-1"),e.focus()}catch(n){}},measure:function(e,t){gh(e,null,t)},measureInWindow:function(e,t){e&&setTimeout((function(){var n=vh(e),r=n.height,i=n.left,a=n.top,o=n.width;t(i,a,o,r)}),0)},measureLayout:function(e,t,n,r){gh(e,t,r)},updateView:function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];switch(n){case"style":mh(e,r);break;case"class":case"className":e.setAttribute("class",r);break;case"text":case"value":e.value=r;break;default:e.setAttribute(n,r)}}},configureNextLayoutAnimation:function(e,t){t()},setLayoutAnimationEnabledExperimental:function(){}},wh=bh,kh={_currentlyFocusedNode:null,currentlyFocusedField:function(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput:function(e){null!==e&&(this._currentlyFocusedNode=e,document.activeElement!==e&&wh.focus(e))},blurTextInput:function(e){null!==e&&(this._currentlyFocusedNode=null,document.activeElement===e&&wh.blur(e))}},xh=function(){kh.blurTextInput(kh.currentlyFocusedField())},_h={addListener:function(){return{remove:function(){}}},dismiss:function(){xh()},removeAllListeners:function(){},removeListener:function(){}};function Sh(){}var Eh={exitApp:Sh,addEventListener:function(){return{remove:Sh}},removeEventListener:Sh},Ch={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null},Th=function(e){var t=e.accessibilityRole;if(t){var n=Ch[t];if(null!==n)return n||t}},Ah={article:"article",banner:"header",blockquote:"blockquote",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",region:"section",strong:"strong"},Oh={},Rh={isDisabled:function(e){return e.disabled||Array.isArray(e.accessibilityStates)&&e.accessibilityStates.indexOf("disabled")>-1},propsToAccessibilityComponent:function(e){if(void 0===e&&(e=Oh),"label"===e.accessibilityRole)return"label";var t=Th(e);if(t){if("heading"===t){var n=e.accessibilityLevel||e["aria-level"];return null!=n?"h"+n:"h1"}return Ah[t]}},propsToAriaRole:Th},Ih={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},Nh=["ms","Moz","O","Webkit"];Object.keys(Ih).forEach((function(e){Nh.forEach((function(t){Ih[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=Ih[e]}))}));var Ph=Ih,Mh=function(e){return"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var(")},Lh=n(24197),Dh=n.n(Lh),Fh=function(e){if(void 0===e||null===e)return e;var t=Dh()(e);return void 0!==t&&null!==t?t=(t<<24|t>>>8)>>>0:void 0},Bh=function(e,t){if(void 0===t&&(t=1),null!=e){if("string"===typeof e&&Mh(e))return e;var n=Fh(e);if(null!=n)return"rgba("+(n>>16&255)+","+(n>>8&255)+","+(255&n)+","+((n>>24&255)/255*t).toFixed(2)+")"}},jh={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function Zh(e,t){var n=e;return null!=t&&Ph[t]||"number"!==typeof e?null!=t&&jh[t]&&(n=Bh(e)):n=e+"px",n}var Vh={},Uh=!Gp||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),Wh={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},Hh='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',zh={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],marginHorizontal:["marginRight","marginLeft"],marginVertical:["marginTop","marginBottom"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],paddingHorizontal:["paddingRight","paddingLeft"],paddingVertical:["paddingTop","paddingBottom"]},Gh=function(e){var t=Object.keys(e)[0],n=e[t];return"matrix"===t||"matrix3d"===t?t+"("+n.join(",")+")":t+"("+Zh(n,t)+")"},qh=function(e){var t=e.transform;return Array.isArray(e.transform)&&(t=e.transform.map(Gh).join(" ")),t},Kh=function(e,t){if(!e)return Vh;var n={};for(var r in e){var i=e[r];if(null!=i&&!Wh[r])if("aspectRatio"===r)n[r]=i.toString();else if("backgroundClip"===r)"text"===i&&(n.backgroundClip=i,n.WebkitBackgroundClip=i);else if("flex"===r)-1===i?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=i;else if("font"===r)n[r]=i.replace("System",Hh);else if("fontFamily"===r)if(i.indexOf("System")>-1){var a=i.split(/,\s*/);a[a.indexOf("System")]=Hh,n[r]=a.join(",")}else n[r]="monospace"===i?"monospace,monospace":i;else"fontVariant"===r?Array.isArray(i)&&i.length>0&&(n.fontVariant=i.join(" ")):"textAlignVertical"===r?n.verticalAlign="center"===i?"middle":i:"textDecorationLine"===r?Uh?n.textDecorationLine=i:n.textDecoration=i:"transform"===r||"transformMatrix"===r?n.transform=qh(e):"writingDirection"===r?n.direction=i:function(){var i=Zh(e[r],r),a=zh[r];t&&"margin"===r?(null==e.marginHorizontal&&(n.marginLeft=i,n.marginRight=i),null==e.marginVertical&&(n.marginTop=i,n.marginBottom=i)):t&&"padding"===r?(null==e.paddingHorizontal&&(n.paddingLeft=i,n.paddingRight=i),null==e.paddingVertical&&(n.paddingTop=i,n.paddingBottom=i)):a?a.forEach((function(t,r){null==e[t]&&(n[t]=i)})):n[r]=Array.isArray(i)?i.join(","):i}()}return n};var Yh=function(e){return function(e,t){for(var n,r=e.length,i=t^r,a=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++a;switch(r){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}(e,1).toString(36)},Xh=/[A-Z]/g,Qh=/^ms-/,Jh={};function $h(e){return"-"+e.toLowerCase()}var em,tm=function(e){if(e in Jh)return Jh[e];var t=e.replace(Xh,$h);return Jh[e]=Qh.test(t)?"-"+t:t},nm=n(87134),rm=n(9867),im=n(22042),am=n(98784),om=n(94214),sm=n(95976),um=n(96939),cm=n(73610),lm=n(20576),dm=n(84444),fm=["Webkit"],pm=["Webkit","ms"],hm={plugins:[rm.Z,im.Z,am.Z,om.Z,sm.Z,um.Z,cm.Z,lm.Z,dm.Z],prefixMap:{appearance:["Webkit","Moz","ms"],userSelect:["Webkit","Moz"],textEmphasisPosition:pm,textEmphasis:pm,textEmphasisStyle:pm,textEmphasisColor:pm,boxDecorationBreak:pm,clipPath:fm,maskImage:pm,maskMode:pm,maskRepeat:pm,maskPosition:pm,maskClip:pm,maskOrigin:pm,maskSize:pm,maskComposite:pm,mask:pm,maskBorderSource:pm,maskBorderMode:pm,maskBorderSlice:pm,maskBorderWidth:pm,maskBorderOutset:pm,maskBorderRepeat:pm,maskBorder:pm,maskType:pm,textDecorationStyle:fm,textDecorationSkip:fm,textDecorationLine:fm,textDecorationColor:fm,filter:fm,breakAfter:fm,breakBefore:fm,breakInside:fm,columnCount:fm,columnFill:fm,columnGap:fm,columnRule:fm,columnRuleColor:fm,columnRuleStyle:fm,columnRuleWidth:fm,columns:fm,columnSpan:fm,columnWidth:fm,backdropFilter:fm,hyphens:fm,flowInto:fm,flowFrom:fm,regionFragment:fm,textOrientation:fm,tabSize:["Moz"],fontKerning:fm,textSizeAdjust:fm}},mm=(0,nm.Z)(hm),vm=["animationKeyframes"],gm=new Map,ym={},bm={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,marginHorizontal:2.1,marginVertical:2.1,paddingHorizontal:2.1,paddingVertical:2.1},wm="borderTopLeftRadius",km="borderTopRightRadius",xm="borderBottomLeftRadius",_m="borderBottomRightRadius",Sm="borderLeftColor",Em="borderLeftStyle",Cm="borderLeftWidth",Tm="borderRightColor",Am="borderRightStyle",Om="borderRightWidth",Rm="right",Im="marginLeft",Nm="marginRight",Pm="paddingLeft",Mm="paddingRight",Lm="left",Dm=(em={},(0,f.Z)(em,wm,km),(0,f.Z)(em,km,wm),(0,f.Z)(em,xm,_m),(0,f.Z)(em,_m,xm),(0,f.Z)(em,Sm,Tm),(0,f.Z)(em,Em,Am),(0,f.Z)(em,Cm,Om),(0,f.Z)(em,Tm,Sm),(0,f.Z)(em,Am,Em),(0,f.Z)(em,Om,Cm),(0,f.Z)(em,Lm,Rm),(0,f.Z)(em,Im,Nm),(0,f.Z)(em,Nm,Im),(0,f.Z)(em,Pm,Mm),(0,f.Z)(em,Mm,Pm),(0,f.Z)(em,Rm,Lm),em),Fm={borderTopStartRadius:wm,borderTopEndRadius:km,borderBottomStartRadius:xm,borderBottomEndRadius:_m,borderStartColor:Sm,borderStartStyle:Em,borderStartWidth:Cm,borderEndColor:Tm,borderEndStyle:Am,borderEndWidth:Om,end:Rm,marginStart:Im,marginEnd:Nm,paddingStart:Pm,paddingEnd:Mm,start:Lm},Bm=["clear","float","textAlign"];function jm(e){var t={$$css:!0},n=[];function r(e,t){var r,i=e+Zm(t,e),a=gm.get(i);if(null!=a)r=a[0],n.push(a[1]);else{r=Um("r",e,t);var o=bm[e]||2.2,s=function(e,t,n){var r=[],i="."+e;switch(t){case"animationKeyframes":var a=Wm(n),o=a[0],s=a[1],u=Vm({animationName:o.join(",")});r.push.apply(r,[""+i+u].concat((0,C.Z)(s)));break;case"placeholderTextColor":var c=Vm({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+c,i+"::-moz-placeholder"+c,i+":-ms-input-placeholder"+c,i+"::placeholder"+c);break;case"pointerEvents":var l=n;if("auto"===n||"box-only"===n){if(l="auto!important","box-only"===n){var d=Vm({pointerEvents:"none"});r.push(i+">*"+d)}}else if(("none"===n||"box-none"===n)&&(l="none!important","box-none"===n)){var p=Vm({pointerEvents:"auto"});r.push(i+">*"+p)}var h=Vm({pointerEvents:l});r.push(""+i+h);break;case"scrollbarWidth":"none"===n&&r.push(i+"::-webkit-scrollbar{display:none}");var m=Vm({scrollbarWidth:n});r.push(""+i+m);break;default:var v=Vm((0,f.Z)({},t,n));r.push(""+i+v)}return r}(r,e,t),u=[s,o];n.push(u),gm.set(i,[r,u])}return r}return Object.keys(e).sort().forEach((function(n){var i=e[n];if(null!=i){var a;if(Bm.indexOf(n)>-1){var o=r(n,"left"),s=r(n,"right");"start"===i?a=[o,s]:"end"===i&&(a=[s,o])}var u=Fm[n];if(null!=u){var c=r(u,i),l=r(Dm[u],i);a=[c,l]}if("transitionProperty"===n){for(var d=Array.isArray(i)?i:[i],f=[],p=0;p<d.length;p++){var h=d[p];"string"===typeof h&&null!=Fm[h]&&f.push(p)}if(f.length>0){var m=(0,C.Z)(d),v=(0,C.Z)(d);f.forEach((function(e){var t=m[e];if("string"===typeof t){var i=Fm[t],o=Dm[i];m[e]=i,v[e]=o;var s=r(n,m),u=r(n,v);a=[s,u]}}))}}null==a?a=r(n,i):t.$$css$localize=!0,t[n]=a}})),[t,n]}function Zm(e,t){var n=Zh(e,t);return"string"!==typeof n?JSON.stringify(n||""):n}function Vm(e){var t=mm(Kh(e)),n=Object.keys(t).map((function(e){var n=t[e],r=tm(e);return Array.isArray(n)?n.map((function(e){return r+":"+e})).join(";"):r+":"+n})).sort().join(";");return"{"+n+";}"}function Um(e,t,n){return e+"-"+Yh(t+Zm(n,t))}function Wm(e){if("number"===typeof e)throw new Error("Invalid CSS keyframes type: "+typeof e);var t=[],n=[];return(Array.isArray(e)?e:[e]).forEach((function(e){if("string"===typeof e)t.push(e);else{var r=function(e){var t=Um("r","animation",e),n="{"+Object.keys(e).map((function(t){return""+t+Vm(e[t])})).join("")+"}",r=["-webkit-",""].map((function(e){return"@"+e+"keyframes "+t+n}));return[t,r]}(e),i=r[0],a=r[1];t.push(i),n.push.apply(n,(0,C.Z)(a))}})),[t,n]}function Hm(e,t,n){if(Gp){var r=null!=t?t:document,i=r.getElementById(e);if(null==i)if((i=document.createElement("style")).setAttribute("id",e),"string"===typeof n&&i.appendChild(document.createTextNode(n)),r instanceof ShadowRoot)r.insertBefore(i,r.firstChild);else{var a=r.head;a&&a.insertBefore(i,a.firstChild)}return i.sheet}return null}var zm=Array.prototype.slice;function Gm(e){var t,n={},r={};null!=e&&zm.call(e.cssRules).forEach((function(e,i){var a=e.cssText;if(a.indexOf("stylesheet-group")>-1)t=function(e){return Number(e.selectorText.split(qm)[1])}(e),n[t]={start:i,rules:[a]};else{var o=Xm(a);null!=o&&(r[o]=!0,n[t].rules.push(a))}}));function i(e,t,r){var i=Km(n),a=i.indexOf(t)+1,o=i[a],s=null!=o&&null!=n[o].start?n[o].start:e.cssRules.length,u=function(e,t,n){try{return e.insertRule(t,n),!0}catch(r){return!1}}(e,r,s);if(u){null==n[t].start&&(n[t].start=s);for(var c=a;c<i.length;c+=1){var l=i[c],d=n[l].start||0;n[l].start=d+1}}return u}var a={getTextContent:function(){return Km(n).map((function(e){var t=n[e].rules,r=t.shift();return t.sort(),t.unshift(r),t.join("\n")})).join("\n")},insert:function(t,a){var o=Number(a);if(null==n[o]){var s=function(e){return'[stylesheet-group="'+e+'"]{}'}(o);n[o]={start:null,rules:[s]},null!=e&&i(e,o,s)}var u=Xm(t);null!=u&&null==r[u]&&(r[u]=!0,n[o].rules.push(t),null!=e&&(i(e,o,t)||n[o].rules.pop()))}};return a}var qm=/["']/g;function Km(e){return Object.keys(e).map(Number).sort((function(e,t){return e>t?1:-1}))}var Ym=/\s*([,])\s*/g;function Xm(e){var t=e.split("{")[0].trim();return""!==t?t.replace(Ym,"$1"):null}var Qm=new WeakMap,Jm=[],$m=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];var ev=n(87549),tv={},nv={height:0,width:0},rv=function(e){var t=e.shadowColor,n=e.shadowOffset,r=e.shadowOpacity,i=e.shadowRadius,a=n||nv,o=a.height,s=Zh(a.width),u=Zh(o),c=Zh(i||0),l=Bh(t||"black",r);if(null!=l&&null!=s&&null!=u&&null!=c)return s+" "+u+" "+c+" "+l},iv=function(e){var t=e.textShadowColor,n=e.textShadowOffset,r=e.textShadowRadius,i=n||nv,a=i.height,o=i.width,s=r||0,u=Zh(o),c=Zh(a),l=Zh(s),d=Zh(t,"textShadowColor");if(d&&(0!==a||0!==o||0!==s)&&null!=u&&null!=c&&null!=l)return u+" "+c+" "+l+" "+d},av=function(e){var t=e||tv,n={};for(var r in t){var i=t[r],a=r,o=i;if(Object.prototype.hasOwnProperty.call(t,r)&&null!=i){if("shadowColor"===a||"shadowOffset"===a||"shadowOpacity"===a||"shadowRadius"===a){var s=rv(t);if(null==s||null!=n.boxShadow)continue;var u=t.boxShadow;a="boxShadow",o=u?u+", "+s:s}if("textShadowColor"===a||"textShadowOffset"===a||"textShadowRadius"===a){var c=iv(t);if(null==c||null!=n.textShadow)continue;var l=t.textShadow;a="textShadow",o=l?l+", "+c:c}n[a]=o}}return n},ov=n(59111),sv=new WeakMap,uv=function(e,t){var n;if(void 0===t&&(t="react-native-stylesheet"),Gp){var r=null!=e?e.getRootNode():document;if(0===Jm.length)n=Gm(Hm(t)),$m.forEach((function(e){n.insert(e,0)})),Qm.set(r,Jm.length),Jm.push(n);else{var i=Qm.get(r);if(null==i){var a=Jm[0],o=null!=a?a.getTextContent():"";n=Gm(Hm(t,r,o)),Qm.set(r,Jm.length),Jm.push(n)}else n=Jm[i]}}else 0===Jm.length?(n=Gm(Hm(t)),$m.forEach((function(e){n.insert(e,0)})),Jm.push(n)):n=Jm[0];return{getTextContent:function(){return n.getTextContent()},id:t,insert:function(e,t){Jm.forEach((function(n){n.insert(e,t)}))}}}();function cv(e){e.forEach((function(e){var t=e[0],n=e[1];null!=uv&&t.forEach((function(e){uv.insert(e,n)}))}))}function lv(e,t){var n=function(e,t){var n,r={$$css:!0},i=[],a=e.animationKeyframes,o=(0,T.Z)(e,vm),s=Um("css",t,e),u="."+s;if(null!=a){var c=Wm(a),l=c[0],d=c[1];n=l.join(","),i.push.apply(i,(0,C.Z)(d))}var f=Vm(X(X({},o),{},{animationName:n}));return i.push(""+u+f),r[s]=s,[r,[[i,1]]]}(e,t),r=n[0];return cv(n[1]),r}var dv={position:"absolute",left:0,right:0,top:0,bottom:0},fv=pv({x:X({},dv)}).x;function pv(e){return Object.keys(e).forEach((function(t){var n,r=e[t];null!=r&&!0!==r.$$css&&(n=t.indexOf("$raw")>-1?lv(r,t.split("$raw")[0]):function(e){var t=jm(av(e)),n=t[0];return cv(t[1]),n}(r),sv.set(r,n))})),e}function hv(e,t){var n=null!=t&&"rtl"===t.writingDirection,r=function(e,t){return ov.D.factory({transform:function(e){var n=sv.get(e);return null!=n?(0,ev.j)(n,t):e}})(e)}(e,n);return Array.isArray(r)&&null!=r[1]&&(r[1]=function(e,t){var n=e||ym,r={},i={};for(var a in n){var o=n[a],s=a,u=o;if(Object.prototype.hasOwnProperty.call(n,a)&&null!=o){Bm.indexOf(a)>-1&&("start"===o?u=t?"right":"left":"end"===o&&(u=t?"left":"right"));var c=Fm[a];null!=c&&(s=t?Dm[c]:c),"transitionProperty"===a&&function(){var e=Array.isArray(o)?o:[o];e.forEach((function(n,r){if("string"===typeof n){var i=Fm[n];null!=i&&(e[r]=t?Dm[i]:i)}}))}(),r[s]||(i[s]=u),Fm.hasOwnProperty(a)&&(r[s]=!0)}}return Kh(i,!0)}(av(r[1]),n)),r}hv.absoluteFill=fv,hv.absoluteFillObject=dv,hv.create=pv,hv.compose=function(e,t){return e&&t?[e,t]:e||t},hv.flatten=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.flat(1/0),i={},a=0;a<r.length;a++){var o=r[a];null!=o&&"object"===typeof o&&Object.assign(i,o)}return i},hv.getSheet=function(){return{id:uv.id,textContent:uv.getTextContent()}},hv.hairlineWidth=1,Gp&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=hv.flatten);var mv=hv,vv=["accessibilityActiveDescendant","accessibilityAtomic","accessibilityAutoComplete","accessibilityBusy","accessibilityChecked","accessibilityColumnCount","accessibilityColumnIndex","accessibilityColumnSpan","accessibilityControls","accessibilityCurrent","accessibilityDescribedBy","accessibilityDetails","accessibilityDisabled","accessibilityErrorMessage","accessibilityExpanded","accessibilityFlowTo","accessibilityHasPopup","accessibilityHidden","accessibilityInvalid","accessibilityKeyShortcuts","accessibilityLabel","accessibilityLabelledBy","accessibilityLevel","accessibilityLiveRegion","accessibilityModal","accessibilityMultiline","accessibilityMultiSelectable","accessibilityOrientation","accessibilityOwns","accessibilityPlaceholder","accessibilityPosInSet","accessibilityPressed","accessibilityReadOnly","accessibilityRequired","accessibilityRole","accessibilityRoleDescription","accessibilityRowCount","accessibilityRowIndex","accessibilityRowSpan","accessibilitySelected","accessibilitySetSize","accessibilitySort","accessibilityValueMax","accessibilityValueMin","accessibilityValueNow","accessibilityValueText","dataSet","focusable","nativeID","pointerEvents","style","testID"],gv={},yv=Object.prototype.hasOwnProperty,bv=Array.isArray,wv=/[A-Z]/g;function kv(e){return"-"+e.toLowerCase()}function xv(e){return bv(e)?e.join(" "):e}var _v=mv.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}}),Sv=function(e,t,n){t||(t=gv);var r=t,i=r.accessibilityActiveDescendant,a=r.accessibilityAtomic,o=r.accessibilityAutoComplete,s=r.accessibilityBusy,u=r.accessibilityChecked,c=r.accessibilityColumnCount,l=r.accessibilityColumnIndex,d=r.accessibilityColumnSpan,f=r.accessibilityControls,p=r.accessibilityCurrent,h=r.accessibilityDescribedBy,m=r.accessibilityDetails,v=r.accessibilityDisabled,g=r.accessibilityErrorMessage,y=r.accessibilityExpanded,b=r.accessibilityFlowTo,w=r.accessibilityHasPopup,k=r.accessibilityHidden,x=r.accessibilityInvalid,_=r.accessibilityKeyShortcuts,S=r.accessibilityLabel,E=r.accessibilityLabelledBy,C=r.accessibilityLevel,A=r.accessibilityLiveRegion,O=r.accessibilityModal,R=r.accessibilityMultiline,I=r.accessibilityMultiSelectable,N=r.accessibilityOrientation,P=r.accessibilityOwns,M=r.accessibilityPlaceholder,L=r.accessibilityPosInSet,D=r.accessibilityPressed,F=r.accessibilityReadOnly,B=r.accessibilityRequired,j=(r.accessibilityRole,r.accessibilityRoleDescription),Z=r.accessibilityRowCount,V=r.accessibilityRowIndex,U=r.accessibilityRowSpan,W=r.accessibilitySelected,H=r.accessibilitySetSize,z=r.accessibilitySort,G=r.accessibilityValueMax,q=r.accessibilityValueMin,K=r.accessibilityValueNow,Y=r.accessibilityValueText,X=r.dataSet,Q=r.focusable,J=r.nativeID,$=r.pointerEvents,ee=r.style,te=r.testID,ne=(0,T.Z)(r,vv),re=v,ie=Rh.propsToAriaRole(t);if(null!=i&&(ne["aria-activedescendant"]=i),null!=a&&(ne["aria-atomic"]=a),null!=o&&(ne["aria-autocomplete"]=o),null!=s&&(ne["aria-busy"]=s),null!=u&&(ne["aria-checked"]=u),null!=c&&(ne["aria-colcount"]=c),null!=l&&(ne["aria-colindex"]=l),null!=d&&(ne["aria-colspan"]=d),null!=f&&(ne["aria-controls"]=xv(f)),null!=p&&(ne["aria-current"]=p),null!=h&&(ne["aria-describedby"]=xv(h)),null!=m&&(ne["aria-details"]=m),!0===re&&(ne["aria-disabled"]=!0,"button"!==e&&"form"!==e&&"input"!==e&&"select"!==e&&"textarea"!==e||(ne.disabled=!0)),null!=g&&(ne["aria-errormessage"]=g),null!=y&&(ne["aria-expanded"]=y),null!=b&&(ne["aria-flowto"]=xv(b)),null!=w&&(ne["aria-haspopup"]=w),!0===k&&(ne["aria-hidden"]=k),null!=x&&(ne["aria-invalid"]=x),null!=_&&Array.isArray(_)&&(ne["aria-keyshortcuts"]=_.join(" ")),null!=S&&(ne["aria-label"]=S),null!=E&&(ne["aria-labelledby"]=xv(E)),null!=C&&(ne["aria-level"]=C),null!=A&&(ne["aria-live"]="none"===A?"off":A),null!=O&&(ne["aria-modal"]=O),null!=R&&(ne["aria-multiline"]=R),null!=I&&(ne["aria-multiselectable"]=I),null!=N&&(ne["aria-orientation"]=N),null!=P&&(ne["aria-owns"]=xv(P)),null!=M&&(ne["aria-placeholder"]=M),null!=L&&(ne["aria-posinset"]=L),null!=D&&(ne["aria-pressed"]=D),null!=F&&(ne["aria-readonly"]=F,"input"!==e&&"select"!==e&&"textarea"!==e||(ne.readOnly=!0)),null!=B&&(ne["aria-required"]=B,"input"!==e&&"select"!==e&&"textarea"!==e||(ne.required=!0)),null!=ie&&(ne.role="none"===ie?"presentation":ie),null!=j&&(ne["aria-roledescription"]=j),null!=Z&&(ne["aria-rowcount"]=Z),null!=V&&(ne["aria-rowindex"]=V),null!=U&&(ne["aria-rowspan"]=U),null!=W&&(ne["aria-selected"]=W),null!=H&&(ne["aria-setsize"]=H),null!=z&&(ne["aria-sort"]=z),null!=G&&(ne["aria-valuemax"]=G),null!=q&&(ne["aria-valuemin"]=q),null!=K&&(ne["aria-valuenow"]=K),null!=Y&&(ne["aria-valuetext"]=Y),null!=X)for(var ae in X)if(yv.call(X,ae)){var oe=ae.replace(wv,kv),se=X[ae];null!=se&&(ne["data-"+oe]=se)}!1===Q&&(ne.tabIndex="-1"),"a"===e||"button"===e||"input"===e||"select"===e||"textarea"===e?!1!==Q&&!0!==v||(ne.tabIndex="-1"):"button"===ie||"checkbox"===ie||"link"===ie||"radio"===ie||"textbox"===ie||"switch"===ie?!1!==Q&&(ne.tabIndex="0"):!0===Q&&(ne.tabIndex="0");var ue=mv([ee,$&&_v[$]],{writingDirection:n?n.writingDirection:"ltr"}),ce=ue[0],le=ue[1];return ce&&(ne.className=ce),le&&(ne.style=le),null!=J&&(ne.id=J),null!=te&&(ne["data-testid"]=te),ne},Ev=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),Cv=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),Tv=new Map;var Av={direction:"ltr",locale:"en-US"},Ov=(0,e.createContext)(Av);function Rv(e){return function(e){var t=Tv.get(e);if(t)return t;var n=!1;if(Intl.Locale){var r=new Intl.Locale(e).maximize().script;n=Ev.has(r)}else{var i=e.split("-")[0];n=Cv.has(i)}return Tv.set(e,n),n}(e)?"rtl":"ltr"}function Iv(t){var n=t.direction,r=t.locale,i=t.children;return n||r?e.createElement(Ov.Provider,{children:i,value:{direction:r?Rv(r):n,locale:r}}):i}function Nv(){return(0,e.useContext)(Ov)}var Pv=function(t,n,r){var i;t&&t.constructor===String&&(i=Rh.propsToAccessibilityComponent(n));var a=i||t,o=Sv(a,n,r),s=e.createElement(a,o);return o.dir?e.createElement(Iv,{children:s,direction:o.dir,locale:o.lang}):s},Mv={children:!0,dataSet:!0,nativeID:!0,ref:!0,suppressHydrationWarning:!0,testID:!0},Lv={accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0,dir:!0,focusable:!0},Dv={onClick:!0,onClickCapture:!0,onContextMenu:!0},Fv={onBlur:!0,onFocus:!0},Bv={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},jv={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},Zv={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},Vv={classList:!0,style:!0};function Uv(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&!0===t[r]&&(n[r]=e[r]);return n}var Wv=Gp?e.useLayoutEffect:e.useEffect,Hv=null;function zv(e,t){var n=(Gp&&"undefined"!==typeof window.ResizeObserver&&null==Hv&&(Hv=new window.ResizeObserver((function(e){e.forEach((function(e){var t=e.target,n=t.__reactLayoutHandler;"function"===typeof n&&wh.measure(t,(function(t,r,i,a,o,s){var u={nativeEvent:{layout:{x:t,y:r,width:i,height:a,left:o,top:s}},timeStamp:Date.now()};Object.defineProperty(u.nativeEvent,"target",{enumerable:!0,get:function(){return e.target}}),n(u)}))}))}))),Hv);Wv((function(){var n=e.current;null!=n&&(n.__reactLayoutHandler=t)}),[e,t]),Wv((function(){var t=e.current;return null!=t&&null!=n&&("function"===typeof t.__reactLayoutHandler?n.observe(t):n.unobserve(t)),function(){null!=t&&null!=n&&n.unobserve(t)}}),[e,n])}function Gv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){null!=t&&("function"!==typeof t?"object"!==typeof t?console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t)):t.current=e:t(e))}))}}function qv(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useMemo((function(){return Gv.apply(void 0,n)}),[].concat(n))}var Kv="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol():Object.freeze({});var Yv=!1,Xv={};function Qv(t){var n=t.pointerEvents,r=t.style,i=(0,e.useRef)(null),a=(0,e.useRef)(null);a.current={pointerEvents:n,style:r};var o=function(t){var n=e.useRef(Kv);return n.current===Kv&&(n.current=t()),n.current}((function(){return function(e){null!=e&&(e.measure=function(t){return wh.measure(e,t)},e.measureLayout=function(t,n,r){return wh.measureLayout(e,t,r,n)},e.measureInWindow=function(t){return wh.measureInWindow(e,t)},e.setNativeProps=function(t){var n=a.current||Xv,r=n.style,o=n.pointerEvents;!function(e,t,n,r,i){if(Yv||(console.warn("setNativeProps is deprecated. Please update props using React state instead."),Yv=!0),null!=e&&t){var a=Sv(null,X(X({pointerEvents:n},t),{},{style:[r,t.style]})),o=a.style;if(null!=i.current)for(var s in null==a.style&&(a.style={}),i.current)null==a.style[s]&&(a.style[s]="");i.current=o,wh.updateView(e,a)}}(e,t,o,r,i)})}}));return o}var Jv=function(){},$v={},eg=[];function tg(e){return e>20?e%20:e}function ng(e,t){var n,r,i,a=!1,o=e.changedTouches,s=e.type,u=!0===e.metaKey,c=!0===e.shiftKey,l=o&&o[0].force||0,d=tg(o&&o[0].identifier||0),f=o&&o[0].clientX||e.clientX,p=o&&o[0].clientY||e.clientY,h=o&&o[0].pageX||e.pageX,m=o&&o[0].pageY||e.pageY,v="function"===typeof e.preventDefault?e.preventDefault.bind(e):Jv,g=e.timeStamp;function y(e){return Array.prototype.slice.call(e).map((function(e){return{force:e.force,identifier:tg(e.identifier),get locationX(){return k(e.clientX)},get locationY(){return x(e.clientY)},pageX:e.pageX,pageY:e.pageY,target:e.target,timestamp:g}}))}if(null!=o)r=y(o),i=y(e.touches);else{var b=[{force:l,identifier:d,get locationX(){return k(f)},get locationY(){return x(p)},pageX:h,pageY:m,target:e.target,timestamp:g}];r=b,i="mouseup"===s||"dragstart"===s?eg:b}var w={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:$v,eventPhase:e.eventPhase,isDefaultPrevented:function(){return e.defaultPrevented},isPropagationStopped:function(){return a},isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:u,shiftKey:c,changedTouches:r,force:l,identifier:d,get locationX(){return k(f)},get locationY(){return x(p)},pageX:h,pageY:m,target:e.target,timestamp:g,touches:i,type:s},persist:Jv,preventDefault:v,stopPropagation:function(){a=!0},target:e.target,timeStamp:g,touchHistory:t.touchHistory};function k(e){if(n=n||lh(w.currentTarget))return e-n.left}function x(e){if(n=n||lh(w.currentTarget))return e-n.top}return w}function rg(e){return"touchstart"===e||"mousedown"===e}function ig(e){return"touchmove"===e||"mousemove"===e}function ag(e){return"touchend"===e||"mouseup"===e||og(e)}function og(e){return"touchcancel"===e||"dragstart"===e}var sg="__reactResponderId";function ug(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function cg(e){return null!=e?e[sg]:null}function lg(e){for(var t=[],n=[],r=function(e){return"selectionchange"===e.type?ug(window.getSelection().anchorNode):null!=e.composedPath?e.composedPath():ug(e.target)}(e),i=0;i<r.length;i++){var a=r[i],o=cg(a);null!=o&&(t.push(o),n.push(a))}return{idPath:t,nodePath:n}}function dg(e){return"selectionchange"===e.type?function(){var e=window.getSelection(),t=e.toString(),n=e.anchorNode,r=e.focusNode,i=n&&n.nodeType===window.Node.TEXT_NODE||r&&r.nodeType===window.Node.TEXT_NODE;return t.length>=1&&"\n"!==t&&i}():"select"===e.type}function fg(e){return e.timeStamp||e.timestamp}function pg(e){var t=e.identifier;return null==t&&console.error("Touch object is missing identifier."),t}function hg(e,t){var n=pg(e),r=t.touchBank[n];r?function(e,t){e.touchActive=!0,e.startPageX=t.pageX,e.startPageY=t.pageY,e.startTimeStamp=fg(t),e.currentPageX=t.pageX,e.currentPageY=t.pageY,e.currentTimeStamp=fg(t),e.previousPageX=t.pageX,e.previousPageY=t.pageY,e.previousTimeStamp=fg(t)}(r,e):t.touchBank[n]=function(e){return{touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:fg(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:fg(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:fg(e)}}(e),t.mostRecentTimeStamp=fg(e)}function mg(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:fg(e)})}function vg(e){var t=e.touchBank,n=JSON.stringify(t.slice(0,20));return t.length>20&&(n+=" (original size: "+t.length+")"),n}var gg=function(){function e(){(0,gn.Z)(this,e),this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}return(0,yn.Z)(e,[{key:"recordTouchTrack",value:function(e,t){var n=this._touchHistory;if(ig(e))t.changedTouches.forEach((function(e){return function(e,t){var n=t.touchBank[pg(e)];n?(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=fg(e),t.mostRecentTimeStamp=fg(e)):console.warn("Cannot record touch move without a touch start.\n","Touch Move: "+mg(e)+"\n","Touch Bank: "+vg(t))}(e,n)}));else if(rg(e))t.changedTouches.forEach((function(e){return hg(e,n)})),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches&&(n.indexOfSingleActiveTouch=t.touches[0].identifier);else if(ag(e)&&(t.changedTouches.forEach((function(e){return function(e,t){var n=t.touchBank[pg(e)];n?(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=fg(e),t.mostRecentTimeStamp=fg(e)):console.warn("Cannot record touch end without a touch start.\n","Touch End: "+mg(e)+"\n","Touch Bank: "+vg(t))}(e,n)})),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches))for(var r=n.touchBank,i=0;i<r.length;i++){var a=r[i];if(null!=a&&a.touchActive){n.indexOfSingleActiveTouch=i;break}}}},{key:"touchHistory",get:function(){return this._touchHistory}}]),e}(),yg={},bg=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],wg=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],kg={touchstart:bg,mousedown:bg,touchmove:wg,mousemove:wg,scroll:["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}]},xg={id:null,idPath:null,node:null},_g=new Map,Sg=!1,Eg=0,Cg={id:null,node:null,idPath:null},Tg=new gg;function Ag(e){Cg=e}function Og(e){var t=_g.get(e);return null!=t?t:yg}function Rg(e){var t=e.type,n=e.target;if("touchstart"===t&&(Sg=!0),("touchmove"===t||Eg>1)&&(Sg=!1),!("mousedown"===t&&Sg||"mousemove"===t&&Sg||"mousemove"===t&&Eg<1))if(Sg&&"mouseup"===t)0===Eg&&(Sg=!1);else{var r=rg(t)&&function(e){var t=e.altKey,n=e.button,r=e.buttons,i=e.ctrlKey,a=e.type,o=!1===t&&!1===i;return!!("touchstart"===a||"touchmove"===a||"mousedown"===a&&(0===n||1===r)&&o||"mousemove"===a&&1===r&&o)}(e),i=ig(t),a=ag(t),o=function(e){return"scroll"===e}(t),s=function(e){return"select"===e||"selectionchange"===e}(t),u=ng(e,Tg);(r||i||a)&&(e.touches?Eg=e.touches.length:r?Eg=1:a&&(Eg=0),Tg.recordTouchTrack(t,u.nativeEvent));var c,l=lg(e),d=!1;if(r||i||o&&Eg>0){var f=Cg.idPath,p=l.idPath;if(null!=f&&null!=p){var h=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||e[n-1]!==t[r-1])return null;var i=e[0],a=0,o=t[0],s=0;n-r>0&&(i=e[a=n-r],n=r),r-n>0&&(o=t[s=r-n],r=n);for(var u=n;u--;){if(i===o)return i;i=e[a++],o=t[s++]}return null}(f,p);if(null!=h){var m=p.indexOf(h)+(h===Cg.id?1:0);l={idPath:p.slice(m),nodePath:l.nodePath.slice(m)}}else l=null}null!=l&&(c=function(e,t,n){var r=kg[t.type];if(null!=r){for(var i=e.idPath,a=e.nodePath,o=r[0],s=r[1],u=r[2].bubbles,c=function(e,t,r){var a=Og(e)[r];if(null!=a&&(n.currentTarget=t,!0===a(n)))return{id:e,node:t,idPath:i.slice(i.indexOf(e))}},l=i.length-1;l>=0;l--){var d=c(i[l],a[l],o);if(null!=d)return d;if(!0===n.isPropagationStopped())return}if(u)for(var f=0;f<i.length;f++){var p=c(i[f],a[f],s);if(null!=p)return p;if(!0===n.isPropagationStopped())return}else{var h=i[0],m=a[0];if(t.target===m)return c(h,m,s)}}}(l,e,u),null!=c&&(!function(e,t){var n=Cg,r=n.id,i=n.node,a=t.id,o=t.node,s=Og(a),u=s.onResponderGrant,c=s.onResponderReject;if(e.bubbles=!1,e.cancelable=!1,e.currentTarget=o,null==r)null!=u&&(e.currentTarget=o,e.dispatchConfig.registrationName="onResponderGrant",u(e)),Ag(t);else{var l=Og(r),d=l.onResponderTerminate,f=l.onResponderTerminationRequest,p=!0;null!=f&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminationRequest",!1===f(e)&&(p=!1)),p?(null!=d&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminate",d(e)),null!=u&&(e.currentTarget=o,e.dispatchConfig.registrationName="onResponderGrant",u(e)),Ag(t)):null!=c&&(e.currentTarget=o,e.dispatchConfig.registrationName="onResponderReject",c(e))}}(u,c),d=!0))}if(null!=Cg.id&&null!=Cg.node){var v=Cg,g=v.id,y=v.node,b=Og(g),w=b.onResponderStart,k=b.onResponderMove,x=b.onResponderEnd,_=b.onResponderRelease,S=b.onResponderTerminate,E=b.onResponderTerminationRequest;if(u.bubbles=!1,u.cancelable=!1,u.currentTarget=y,r)null!=w&&(u.dispatchConfig.registrationName="onResponderStart",w(u));else if(i)null!=k&&(u.dispatchConfig.registrationName="onResponderMove",k(u));else{var C=og(t)||"contextmenu"===t||"blur"===t&&n===window||"blur"===t&&n.contains(y)&&e.relatedTarget!==y||o&&0===Eg||o&&n.contains(y)&&n!==y||s&&dg(e),T=a&&!C&&!function(e,t){if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var r=t[n].target;if(null!=r&&e.contains(r))return!0}return!1}(y,e.touches);if(a&&null!=x&&(u.dispatchConfig.registrationName="onResponderEnd",x(u)),T&&(null!=_&&(u.dispatchConfig.registrationName="onResponderRelease",_(u)),Ag(xg)),C){var A=!0;"contextmenu"!==t&&"scroll"!==t&&"selectionchange"!==t||(d?A=!1:null!=E&&(u.dispatchConfig.registrationName="onResponderTerminationRequest",!1===E(u)&&(A=!1))),A&&(null!=S&&(u.dispatchConfig.registrationName="onResponderTerminate",S(u)),Ag(xg),Sg=!1,Eg=0)}}}}}var Ig=["blur","scroll"],Ng=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function Pg(e,t,n){!function(e,t){null!=e&&(e[sg]=t)}(t,e),_g.set(e,n)}function Mg(e){Cg.id===e&&function(){var e=Cg,t=e.id,n=e.node;if(null!=t&&null!=n){var r=Og(t).onResponderTerminate;if(null!=r){var i=ng({},Tg);i.currentTarget=n,r(i)}Ag(xg)}Sg=!1,Eg=0}(),_g.has(e)&&_g.delete(e)}var Lg={},Dg=0;function Fg(t,n){void 0===n&&(n=Lg);var r=function(t){var n=e.useRef(null);return null==n.current&&(n.current=t()),n.current}((function(){return Dg++})),i=e.useRef(!1);e.useEffect((function(){return Gp&&null==window.__reactResponderSystemActive&&(window.addEventListener("blur",Rg),Ng.forEach((function(e){document.addEventListener(e,Rg)})),Ig.forEach((function(e){document.addEventListener(e,Rg,!0)})),window.__reactResponderSystemActive=!0),function(){Mg(r)}}),[r]),e.useEffect((function(){var e=n,a=e.onMoveShouldSetResponder,o=e.onMoveShouldSetResponderCapture,s=e.onScrollShouldSetResponder,u=e.onScrollShouldSetResponderCapture,c=e.onSelectionChangeShouldSetResponder,l=e.onSelectionChangeShouldSetResponderCapture,d=e.onStartShouldSetResponder,f=e.onStartShouldSetResponderCapture,p=null!=a||null!=o||null!=s||null!=u||null!=c||null!=l||null!=d||null!=f,h=t.current;p?(Pg(r,h,n),i.current=!0):i.current&&(Mg(r),i.current=!1)}),[n,t,r]),e.useDebugValue({isResponder:t.current===Cg.node}),e.useDebugValue(n)}var Bg=Object.assign({},Mv,Lv,Dv,Fv,Bv,jv,Zv,Vv,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0});var jg=null,Zg=e.forwardRef((function(t,n){var r,i,a=t.autoCapitalize,o=void 0===a?"sentences":a,s=t.autoComplete,u=t.autoCompleteType,c=t.autoCorrect,l=void 0===c||c,d=t.blurOnSubmit,f=t.clearTextOnFocus,p=t.dir,h=t.editable,m=void 0===h||h,v=t.keyboardType,g=void 0===v?"default":v,y=t.multiline,b=void 0!==y&&y,w=t.numberOfLines,k=void 0===w?1:w,x=t.onBlur,_=t.onChange,S=t.onChangeText,E=t.onContentSizeChange,C=t.onFocus,T=t.onKeyPress,A=t.onLayout,O=t.onMoveShouldSetResponder,R=t.onMoveShouldSetResponderCapture,I=t.onResponderEnd,N=t.onResponderGrant,P=t.onResponderMove,M=t.onResponderReject,L=t.onResponderRelease,D=t.onResponderStart,F=t.onResponderTerminate,B=t.onResponderTerminationRequest,j=t.onScrollShouldSetResponder,Z=t.onScrollShouldSetResponderCapture,V=t.onSelectionChange,U=t.onSelectionChangeShouldSetResponder,W=t.onSelectionChangeShouldSetResponderCapture,H=t.onStartShouldSetResponder,z=t.onStartShouldSetResponderCapture,G=t.onSubmitEditing,q=t.placeholderTextColor,K=t.returnKeyType,Y=t.secureTextEntry,X=void 0!==Y&&Y,Q=t.selection,J=t.selectTextOnFocus,$=t.spellCheck;switch(g){case"email-address":r="email";break;case"number-pad":case"numeric":i="numeric";break;case"decimal-pad":i="decimal";break;case"phone-pad":r="tel";break;case"search":case"web-search":r="search";break;case"url":r="url";break;default:r="text"}X&&(r="password");var ee=e.useRef({height:null,width:null}),te=e.useRef(null),ne=e.useCallback((function(e){if(b&&E&&null!=e){var t=e.scrollHeight,n=e.scrollWidth;t===ee.current.height&&n===ee.current.width||(ee.current.height=t,ee.current.width=n,E({nativeEvent:{contentSize:{height:ee.current.height,width:ee.current.width}}}))}}),[b,E]),re=e.useMemo((function(){return function(e){null!=e&&(e.clear=function(){null!=e&&(e.value="")},e.isFocused=function(){return null!=e&&kh.currentlyFocusedField()===e},ne(e))}}),[ne]);Wv((function(){var e=te.current;null!=e&&null!=Q&&function(e,t){if(function(e,t){var n=e.selectionEnd,r=e.selectionStart,i=t.start,a=t.end;return i!==r||a!==n}(e,t)){var n=t.start,r=t.end;try{e.setSelectionRange(n,r||n)}catch(i){}}}(e,Q),document.activeElement===e&&(kh._currentlyFocusedNode=e)}),[te,Q]);var ie=b?"textarea":"input";zv(te,A),Fg(te,{onMoveShouldSetResponder:O,onMoveShouldSetResponderCapture:R,onResponderEnd:I,onResponderGrant:N,onResponderMove:P,onResponderReject:M,onResponderRelease:L,onResponderStart:D,onResponderTerminate:F,onResponderTerminationRequest:B,onScrollShouldSetResponder:j,onScrollShouldSetResponderCapture:Z,onSelectionChangeShouldSetResponder:U,onSelectionChangeShouldSetResponderCapture:W,onStartShouldSetResponder:H,onStartShouldSetResponderCapture:z});var ae=Nv().direction,oe=function(e){return Uv(e,Bg)}(t);oe.autoCapitalize=o,oe.autoComplete=s||u||"on",oe.autoCorrect=l?"on":"off",oe.dir=void 0!==p?p:"auto",oe.enterKeyHint=K,oe.inputMode=i,oe.onBlur=function(e){kh._currentlyFocusedNode=null,x&&(e.nativeEvent.text=e.target.value,x(e))},oe.onChange=function(e){var t=e.target,n=t.value;e.nativeEvent.text=n,ne(t),_&&_(e),S&&S(n)},oe.onFocus=function(e){var t=e.target;C&&(e.nativeEvent.text=t.value,C(e)),null!=t&&(kh._currentlyFocusedNode=t,f&&(t.value=""),J&&(null!=jg&&clearTimeout(jg),jg=setTimeout((function(){null!=t&&t.select()}),0)))},oe.onKeyDown=function(e){var t=e.target;e.stopPropagation();var n=null==d?!b:d,r=e.nativeEvent,i=function(e){return e.isComposing||229===e.keyCode}(r);T&&T(e),"Enter"!==e.key||e.shiftKey||i||e.isDefaultPrevented()||(!d&&b||!G||(e.preventDefault(),r.text=e.target.value,G(e)),n&&null!=t&&t.blur())},oe.onSelect=function(e){if(V)try{var t=e.target,n=t.selectionStart,r=t.selectionEnd;e.nativeEvent.selection={start:n,end:r},e.nativeEvent.text=e.target.value,V(e)}catch(e){}},oe.readOnly=!m,oe.rows=b?k:void 0,oe.spellCheck=null!=$?$:l,oe.style=[{"--placeholderTextColor":q},Vg.textinput$raw,Vg.placeholder,t.style],oe.type=b?void 0:r;var se=Qv(oe),ue=qv(te,se,re,n);oe.ref=ue;var ce=null!=t.lang?Rv(t.lang):null,le=t.dir||ce;return Pv(ie,oe,{writingDirection:le||ae})}));Zg.displayName="TextInput",Zg.State=kh;var Vg=mv.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"}}),Ug=Zg,Wg=function(e){var n;try{n=(0,t.findDOMNode)(e)}catch(r){}return n},Hg=function e(t,n,r){if(void 0===r&&(r=-1),0===r)return!0;if(t===n)return!1;if("function"===typeof t&&"function"===typeof n)return!1;if("object"!==typeof t||null===t)return t!==n;if("object"!==typeof n||null===n)return!0;if(t.constructor!==n.constructor)return!0;if(Array.isArray(t)){var i=t.length;if(n.length!==i)return!0;for(var a=0;a<i;a++)if(e(t[a],n[a],r-1))return!0}else{for(var o in t)if(e(t[o],n[o],r-1))return!0;for(var s in n)if(void 0===t[s]&&void 0!==n[s])return!0}return!1},zg=(0,e.createContext)(!1),Gg=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],qg=Object.assign({},Mv,Lv,Dv,Mv,Lv,Dv,Fv,Bv,jv,Zv,Vv,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),Kg=e.forwardRef((function(t,n){var r=t.hrefAttrs,i=t.onLayout,a=t.onMoveShouldSetResponder,o=t.onMoveShouldSetResponderCapture,s=t.onResponderEnd,u=t.onResponderGrant,c=t.onResponderMove,l=t.onResponderReject,d=t.onResponderRelease,f=t.onResponderStart,p=t.onResponderTerminate,h=t.onResponderTerminationRequest,m=t.onScrollShouldSetResponder,v=t.onScrollShouldSetResponderCapture,g=t.onSelectionChangeShouldSetResponder,y=t.onSelectionChangeShouldSetResponderCapture,b=t.onStartShouldSetResponder,w=t.onStartShouldSetResponderCapture,k=(0,T.Z)(t,Gg);var x=e.useContext(zg),_=e.useRef(null),S=Nv().direction;zv(_,i),Fg(_,{onMoveShouldSetResponder:a,onMoveShouldSetResponderCapture:o,onResponderEnd:s,onResponderGrant:u,onResponderMove:c,onResponderReject:l,onResponderRelease:d,onResponderStart:f,onResponderTerminate:p,onResponderTerminationRequest:h,onScrollShouldSetResponder:m,onScrollShouldSetResponderCapture:v,onSelectionChangeShouldSetResponder:g,onSelectionChangeShouldSetResponderCapture:y,onStartShouldSetResponder:b,onStartShouldSetResponderCapture:w});var E="div",C=null!=t.lang?Rv(t.lang):null,A=t.dir||C,O=A||S,R=function(e){return Uv(e,qg)}(k);if(R.dir=A,R.style=[Yg.view$raw,x&&Yg.inline,t.style],null!=t.href&&(E="a",null!=r)){var I=r.download,N=r.rel,P=r.target;null!=I&&(R.download=I),null!=N&&(R.rel=N),"string"===typeof P&&(R.target="_"!==P.charAt(0)?"_"+P:P)}var M=qv(_,Qv(R),n);return R.ref=M,Pv(E,R,{writingDirection:O})}));Kg.displayName="View";var Yg=mv.create({view$raw:{alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}}),Xg=Kg,Qg=n(40181);function Jg(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=(0,Qg.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var $g=function(){function e(t,n){(0,gn.Z)(this,e),this._delay=n,this._callback=t}return(0,yn.Z)(e,[{key:"dispose",value:function(e){void 0===e&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}},{key:"schedule",value:function(){var e=this;if(!this._taskHandle){var t=setTimeout((function(){e._taskHandle=Qp.runAfterInteractions((function(){e._taskHandle=null,e._callback()}))}),this._delay);this._taskHandle={cancel:function(){return clearTimeout(t)}}}}}]),e}(),ey=(0,yn.Z)((function e(){(0,gn.Z)(this,e),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0})),ty=[],ny=10,ry=null,iy=function(){function e(t){(0,gn.Z)(this,e),this._anyBlankStartTime=null,this._enabled=!1,this._info=new ey,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=t,this._enabled=(ry||0)>Math.random(),this._resetData()}return(0,yn.Z)(e,[{key:"activate",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=n.g.performance.now())}},{key:"deactivateAndFlush",value:function(){if(this._enabled){var e=this._samplesStartTime;if(null!=e)if(this._info.sample_count<ny)this._resetData();else{var t=n.g.performance.now()-e,r=X(X({},this._info),{},{total_time_spent:t});ty.forEach((function(e){return e(r)})),this._resetData()}}}},{key:"computeBlankness",value:function(e,t,r){if(!this._enabled||0===e.getItemCount(e.data)||null==this._samplesStartTime)return 0;var i=r.dOffset,a=r.offset,o=r.velocity,s=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(s),this._info.pixels_scrolled+=Math.round(Math.abs(i));var u=Math.round(1e3*Math.abs(o)),c=n.g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=c-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=c-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var l=0,d=t.first,f=this._getFrameMetrics(d);d<=t.last&&(!f||!f.inLayout);)f=this._getFrameMetrics(d),d++;f&&d>0&&(l=Math.min(s,Math.max(0,f.offset-a)));for(var p=0,h=t.last,m=this._getFrameMetrics(h);h>=t.first&&(!m||!m.inLayout);)m=this._getFrameMetrics(h),h--;if(m&&h<e.getItemCount(e.data)-1){var v=m.offset+m.length;p=Math.min(s,Math.max(0,a+s-v))}var g=Math.round(l+p),y=g/s;return y>0?(this._anyBlankStartTime=c,this._info.any_blank_speed_sum+=u,this._info.any_blank_count++,this._info.pixels_blank+=g,y>.5&&(this._mostlyBlankStartTime=c,this._info.mostly_blank_count++)):(u<.01||Math.abs(i)<1)&&this.deactivateAndFlush(),y}},{key:"enabled",value:function(){return this._enabled}},{key:"_resetData",value:function(){this._anyBlankStartTime=null,this._info=new ey,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:"addListener",value:function(e){return null===ry&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),ty.push(e),{remove:function(){ty=ty.filter((function(t){return e!==t}))}}}},{key:"setSampleRate",value:function(e){ry=e}},{key:"setMinSampleCount",value:function(e){ny=e}}]),e}(),ay=iy,oy=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];var sy=function(t){t.colors,t.enabled,t.onRefresh,t.progressBackgroundColor,t.progressViewOffset,t.refreshing,t.size,t.tintColor,t.title,t.titleColor;var n=(0,T.Z)(t,oy);return e.createElement(Xg,n)},uy=n(72157),cy=n.n(uy),ly={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},dy={},fy=Gp,py=function(){function e(){(0,gn.Z)(this,e)}return(0,yn.Z)(e,null,[{key:"get",value:function(t){return fy&&(fy=!1,e._update()),zp()(ly[t],"No dimension set for key "+t),ly[t]}},{key:"set",value:function(e){e&&(Gp?zp()(!1,"Dimensions cannot be set in the browser"):(null!=e.screen&&(ly.screen=e.screen),null!=e.window&&(ly.window=e.window)))}},{key:"_update",value:function(){if(Gp){var e=window,t=e.document.documentElement;ly.window={fontScale:1,height:t.clientHeight,scale:e.devicePixelRatio||1,width:t.clientWidth},ly.screen={fontScale:1,height:e.screen.height,scale:e.devicePixelRatio||1,width:e.screen.width},Array.isArray(dy.change)&&dy.change.forEach((function(e){return e(ly)}))}}},{key:"addEventListener",value:function(e,t){var n=this;return dy[e]=dy[e]||[],dy[e].push(t),{remove:function(){n.removeEventListener(e,t)}}}},{key:"removeEventListener",value:function(e,t){Array.isArray(dy[e])&&(dy[e]=dy[e].filter((function(e){return e!==t})))}}]),e}();Gp&&window.addEventListener("resize",py._update,!1);var hy=n(63255),my=n.n(hy),vy={},gy={scrollResponderMixinGetInitialState:function(){return{isTouching:!1,lastMomentumScrollBeginTime:0,lastMomentumScrollEndTime:0,observedScrollSinceBecomingResponder:!1,becameResponderWhileAnimating:!1}},scrollResponderHandleScrollShouldSetResponder:function(){return this.state.isTouching},scrollResponderHandleStartShouldSetResponder:function(){return!1},scrollResponderHandleStartShouldSetResponderCapture:function(e){return this.scrollResponderIsAnimating()},scrollResponderHandleResponderReject:function(){my()(!1,"ScrollView doesn't take rejection well - scrolls anyway")},scrollResponderHandleTerminationRequest:function(){return!this.state.observedScrollSinceBecomingResponder},scrollResponderHandleTouchEnd:function(e){var t=e.nativeEvent;this.state.isTouching=0!==t.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(e)},scrollResponderHandleResponderRelease:function(e){this.props.onResponderRelease&&this.props.onResponderRelease(e);var t=kh.currentlyFocusedField();this.props.keyboardShouldPersistTaps||null==t||e.target===t||this.state.observedScrollSinceBecomingResponder||this.state.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),kh.blurTextInput(t))},scrollResponderHandleScroll:function(e){this.state.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},scrollResponderHandleResponderGrant:function(e){this.state.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.state.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},scrollResponderHandleScrollBeginDrag:function(e){this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},scrollResponderHandleScrollEndDrag:function(e){this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},scrollResponderHandleMomentumScrollBegin:function(e){this.state.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},scrollResponderHandleMomentumScrollEnd:function(e){this.state.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},scrollResponderHandleTouchStart:function(e){this.state.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},scrollResponderHandleTouchMove:function(e){this.props.onTouchMove&&this.props.onTouchMove(e)},scrollResponderIsAnimating:function(){return Date.now()-this.state.lastMomentumScrollEndTime<16||this.state.lastMomentumScrollEndTime<this.state.lastMomentumScrollBeginTime},scrollResponderGetScrollableNode:function(){return this.getScrollableNode?this.getScrollableNode():Wg(this)},scrollResponderScrollTo:function(e,t,n){if("number"===typeof e)console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||vy;e=r.x,t=r.y,n=r.animated}var i=this.scrollResponderGetScrollableNode(),a=e||0,o=t||0;"function"===typeof i.scroll?i.scroll({top:o,left:a,behavior:n?"smooth":"auto"}):(i.scrollLeft=a,i.scrollTop=o)},scrollResponderZoomTo:function(e,t){"ios"!==Wp.OS&&zp()("zoomToRect is not implemented")},scrollResponderFlashScrollIndicators:function(){},scrollResponderScrollNativeHandleToKeyboard:function(e,t,n){this.additionalScrollOffset=t||0,this.preventNegativeScrollOffset=!!n,wh.measureLayout(e,Wg(this.getInnerViewNode()),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},scrollResponderInputMeasureAndScrollToKeyboard:function(e,t,n,r){var i=py.get("window").height;this.keyboardWillOpenTo&&(i=this.keyboardWillOpenTo.endCoordinates.screenY);var a=t-i+r+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(a=Math.max(0,a)),this.scrollResponderScrollTo({x:0,y:a,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},scrollResponderTextInputFocusError:function(e){console.error("Error measuring text field: ",e)},UNSAFE_componentWillMount:function(){this.keyboardWillOpenTo=null,this.additionalScrollOffset=0},scrollResponderKeyboardWillShow:function(e){this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},scrollResponderKeyboardWillHide:function(e){this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},scrollResponderKeyboardDidShow:function(e){e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},scrollResponderKeyboardDidHide:function(e){this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)}},yy={Mixin:gy},by=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function wy(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}var ky=e.forwardRef((function(t,n){var i=t.onScroll,a=t.onTouchMove,o=t.onWheel,s=t.scrollEnabled,u=void 0===s||s,c=t.scrollEventThrottle,l=void 0===c?0:c,d=t.showsHorizontalScrollIndicator,f=t.showsVerticalScrollIndicator,p=t.style,h=(0,T.Z)(t,by),m=e.useRef({isScrolling:!1,scrollLastTick:0}),v=e.useRef(null),g=e.useRef(null);function y(e){return function(t){u&&e&&e(t)}}function b(e){m.current.scrollLastTick=Date.now(),i&&i(wy(e))}var w=!1===d||!1===f;return e.createElement(Xg,(0,r.Z)({},h,{onScroll:function(e){e.stopPropagation(),e.target===g.current&&(e.persist(),null!=v.current&&clearTimeout(v.current),v.current=setTimeout((function(){!function(e){m.current.isScrolling=!1,i&&i(wy(e))}(e)}),100),m.current.isScrolling?function(e,t){var n=Date.now()-e;return t>0&&n>=t}(m.current.scrollLastTick,l)&&b(e):function(e){m.current.isScrolling=!0,b(e)}(e))},onTouchMove:y(a),onWheel:y(o),ref:qv(g,n),style:[p,!u&&xy.scrollDisabled,w&&xy.hideScrollbar]}))})),xy=mv.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}}),_y=ky,Sy=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],Ey={},Cy=cy()({displayName:"ScrollView",mixins:[yy.Mixin],getInitialState:function(){return this.scrollResponderMixinGetInitialState()},flashScrollIndicators:function(){this.scrollResponderFlashScrollIndicators()},getScrollResponder:function(){return this},getScrollableNode:function(){return this._scrollNodeRef},getInnerViewRef:function(){return this._innerViewRef},getInnerViewNode:function(){return this._innerViewRef},getNativeScrollRef:function(){return this._scrollNodeRef},scrollTo:function(e,t,n){if("number"===typeof e)console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||Ey;t=r.x,e=r.y,n=r.animated}this.getScrollResponder().scrollResponderScrollTo({x:t||0,y:e||0,animated:!1!==n})},scrollToEnd:function(e){var t=!1!==(e&&e.animated),n=this.props.horizontal,r=this.getScrollResponder(),i=r.scrollResponderGetScrollableNode(),a=n?i.scrollWidth:0,o=n?0:i.scrollHeight;r.scrollResponderScrollTo({x:a,y:o,animated:t})},render:function(){var t=this.props,n=t.contentContainerStyle,i=t.horizontal,a=t.onContentSizeChange,o=t.refreshControl,s=t.stickyHeaderIndices,u=t.pagingEnabled,c=(t.forwardedRef,t.keyboardDismissMode,t.onScroll,t.centerContent),l=(0,T.Z)(t,Sy),d={};a&&(d={onLayout:this._handleContentOnLayout});var f=!i&&Array.isArray(s),p=f||u?e.Children.map(this.props.children,(function(t,n){var r=f&&s.indexOf(n)>-1;return null!=t&&(r||u)?e.createElement(Xg,{style:mv.compose(r&&Ay.stickyHeader,u&&Ay.pagingEnabledChild)},t):t})):this.props.children,h=e.createElement(Xg,(0,r.Z)({},d,{children:p,collapsable:!1,ref:this._setInnerViewRef,style:[i&&Ay.contentContainerHorizontal,c&&Ay.contentContainerCenterContent,n]})),m=i?Ay.baseHorizontal:Ay.baseVertical,v=i?Ay.pagingEnabledHorizontal:Ay.pagingEnabledVertical,g=X(X({},l),{},{style:[m,u&&v,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),y=_y;zp()(void 0!==y,"ScrollViewClass must not be undefined");var b=e.createElement(y,(0,r.Z)({},g,{ref:this._setScrollNodeRef}),h);return o?e.cloneElement(o,{style:g.style},b):b},_handleContentOnLayout:function(e){var t=e.nativeEvent.layout,n=t.width,r=t.height;this.props.onContentSizeChange(n,r)},_handleScroll:function(e){"on-drag"===this.props.keyboardDismissMode&&xh(),this.scrollResponderHandleScroll(e)},_setInnerViewRef:function(e){this._innerViewRef=e},_setScrollNodeRef:function(e){this._scrollNodeRef=e,null!=e&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard),Gv(this.props.forwardedRef)(e)}}),Ty={flexGrow:1,flexShrink:1,transform:[{translateZ:0}],WebkitOverflowScrolling:"touch"},Ay=mv.create({baseVertical:X(X({},Ty),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:X(X({},Ty),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),Oy=e.forwardRef((function(t,n){return e.createElement(Cy,(0,r.Z)({},t,{forwardedRef:n}))}));Oy.displayName="ScrollView";var Ry=Oy,Iy=function(){function e(t){(0,gn.Z)(this,e),void 0===t&&(t={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=t}return(0,yn.Z)(e,[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(e,t,n,r,i){var a=this._config,o=a.itemVisiblePercentThreshold,s=a.viewAreaCoveragePercentThreshold,u=null!=s,c=u?s:o;zp()(null!=c&&null!=o!==(null!=s),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var l=[];if(0===e)return l;var d=-1,f=i||{first:0,last:e-1},p=f.first,h=f.last;if(h>=e)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:i,itemCount:e})),[];for(var m=p;m<=h;m++){var v=r(m);if(v){var g=v.offset-t,y=g+v.length;if(g<n&&y>0)d=m,Ny(u,c,g,y,n,v.length)&&l.push(m);else if(d>=0)break}}return l}},{key:"onUpdate",value:function(e,t,n,r,i,a,o){var s=this;if((!this._config.waitForInteraction||this._hasInteracted)&&0!==e&&r(0)){var u=[];if(e&&(u=this.computeViewableItems(e,t,n,r,o)),this._viewableIndices.length!==u.length||!this._viewableIndices.every((function(e,t){return e===u[t]})))if(this._viewableIndices=u,this._config.minimumViewTime){var c=setTimeout((function(){s._timers.delete(c),s._onUpdateSync(u,a,i)}),this._config.minimumViewTime);this._timers.add(c)}else this._onUpdateSync(u,a,i)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(e,t,n){var r=this;e=e.filter((function(e){return r._viewableIndices.includes(e)}));for(var i,a=this._viewableItems,o=new Map(e.map((function(e){var t=n(e,!0);return[t.key,t]}))),s=[],u=Jg(o);!(i=u()).done;){var c=i.value,l=c[0],d=c[1];a.has(l)||s.push(d)}for(var f,p=Jg(a);!(f=p()).done;){var h=f.value,m=h[0],v=h[1];o.has(m)||s.push(X(X({},v),{},{isViewable:!1}))}s.length>0&&(this._viewableItems=o,t({viewableItems:Array.from(o.values()),changed:s,viewabilityConfig:this._config}))}}]),e}();function Ny(e,t,n,r,i,a){if(function(e,t,n){return e>=0&&t<=n&&t>e}(n,r,i))return!0;var o=function(e,t,n){var r=Math.min(t,n)-Math.max(e,0);return Math.max(0,r)}(n,r,i);return 100*(e?o/i:o/a)>=t}var Py=Iy;var My=function(){var e;return(e=console).log.apply(e,arguments)};function Ly(e,t,n,r,i,a,o){var s=t(e);if(0===s)return i;var u=o.offset,c=o.velocity,l=o.visibleLength,d=Math.max(0,u),f=d+l,p=(r-1)*l,h=c>1?"after":c<-1?"before":"none",m=Math.max(0,d-.5*p),v=Math.max(0,f+.5*p);if(a(s-1).offset<m)return{first:Math.max(0,s-1-n),last:s-1};var g=function(e,t,n){for(var r=[],i=0,a=0;a<t;a++)for(var o=n(a),s=o.offset+o.length,u=0;u<e.length;u++)if(null==r[u]&&s>=e[u]&&(r[u]=a,i++,u===e.length-1))return zp()(i===e.length,"bad offsets input, should be in increasing order: %s",JSON.stringify(e)),r;return r}([m,d,f,v],s,a),y=g[0],b=g[1],w=g[2],k=g[3];y=null==y?0:y,k=null==k?s-1:k;for(var x={first:b=null==b?Math.max(0,y):b,last:w=null==w?Math.min(k,b+n-1):w},_=function(e,t){return t.last-t.first+1-Math.max(0,1+Math.min(t.last,e.last)-Math.max(t.first,e.first))}(i,x);!(b<=y&&w>=k);){var S=_>=n,E=b<=i.first||b>i.last,C=b>y&&(!S||!E),T=w>=i.last||w<i.first,A=w<k&&(!S||!T);if(S&&!C&&!A)break;!C||"after"===h&&A&&T||(E&&_++,b--),!A||"before"===h&&C&&E||(T&&_++,w++)}if(!(w>=b&&b>=0&&w<s&&b>=y&&w<=k&&b<=x.first&&w>=x.last))throw new Error("Bad window calculation "+JSON.stringify({first:b,last:w,itemCount:s,overscanFirst:y,overscanLast:k,visible:x}));return{first:b,last:w}}function Dy(e,t){return"object"===typeof e&&null!=(null==e?void 0:e.key)?e.key:"object"===typeof e&&null!=(null==e?void 0:e.id)?e.id:String(t)}var Fy=e.createContext(null);function By(t){var n=t.children,r=t.value,i=(0,e.useMemo)((function(){return{cellKey:null,getScrollMetrics:r.getScrollMetrics,horizontal:r.horizontal,getOutermostParentListRef:r.getOutermostParentListRef,getNestedChildState:r.getNestedChildState,registerAsNestedChild:r.registerAsNestedChild,unregisterAsNestedChild:r.unregisterAsNestedChild,debugInfo:{cellKey:r.debugInfo.cellKey,horizontal:r.debugInfo.horizontal,listKey:r.debugInfo.listKey,parent:r.debugInfo.parent}}}),[r.getScrollMetrics,r.horizontal,r.getOutermostParentListRef,r.getNestedChildState,r.registerAsNestedChild,r.unregisterAsNestedChild,r.debugInfo.cellKey,r.debugInfo.horizontal,r.debugInfo.listKey,r.debugInfo.parent]);return e.createElement(Fy.Provider,{value:i},n)}function jy(t){var n=t.cellKey,r=t.children,i=(0,e.useContext)(Fy);return e.createElement(Fy.Provider,{value:null==i?null:X(X({},i),{},{cellKey:n})},r)}mv.flatten;var Zy=!1,Vy="";function Uy(e){return null!==e&&void 0!==e&&e}function Wy(e){return null!==e&&void 0!==e?e:10}function Hy(e){return null!==e&&void 0!==e?e:10}function zy(e){return null!==e&&void 0!==e?e:2}function Gy(e){return null!==e&&void 0!==e?e:21}var qy=function(t){(0,pc.Z)(i,t);var n=(0,hc.Z)(i);function i(t){var a,o;(0,gn.Z)(this,i),(a=n.call(this,t))._getScrollMetrics=function(){return a._scrollMetrics},a._getOutermostParentListRef=function(){return a._isNestedWithSameOrientation()?a.context.getOutermostParentListRef():(0,A.Z)(a)},a._getNestedChildState=function(e){var t=a._nestedChildLists.get(e);return t&&t.state},a._registerAsNestedChild=function(e){var t=a._cellKeysToChildListKeys.get(e.cellKey)||new Set;t.add(e.key),a._cellKeysToChildListKeys.set(e.cellKey,t);var n=a._nestedChildLists.get(e.key);n&&null!==n.ref&&console.error("A VirtualizedList contains a cell which itself contains more than one VirtualizedList of the same orientation as the parent list. You must pass a unique listKey prop to each sibling list.\n\n"+function(e){var t="VirtualizedList trace:\n  Child ("+(e.horizontal?"horizontal":"vertical")+"):\n    listKey: "+e.key+"\n    cellKey: "+e.cellKey,n=e.parentDebugInfo;for(;n;)t+="\n  Parent ("+(n.horizontal?"horizontal":"vertical")+"):\n    listKey: "+n.listKey+"\n    cellKey: "+n.cellKey,n=n.parent;return t}(X(X({},e),{},{horizontal:!!e.ref.props.horizontal}))),a._nestedChildLists.set(e.key,{ref:e.ref,state:null}),a._hasInteracted&&e.ref.recordInteraction()},a._unregisterAsNestedChild=function(e){a._nestedChildLists.set(e.key,{ref:null,state:e.state})},a._onUpdateSeparators=function(e,t){e.forEach((function(e){var n=null!=e&&a._cellRefs[e];n&&n.updateSeparatorProps(t)}))},a._getSpacerKey=function(e){return e?"height":"width"},a._averageCellLength=0,a._cellKeysToChildListKeys=new Map,a._cellRefs={},a._frames={},a._footerLength=0,a._hasDoneInitialScroll=!1,a._hasInteracted=!1,a._hasMore=!1,a._hasWarned={},a._headerLength=0,a._hiPriInProgress=!1,a._highestMeasuredFrameIndex=0,a._indicesToKeys=new Map,a._nestedChildLists=new Map,a._offsetFromParentVirtualizedList=0,a._prevParentOffset=0,a._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0},a._scrollRef=null,a._sentEndForContentLength=0,a._totalCellLength=0,a._totalCellsMeasured=0,a._viewabilityTuples=[],a._captureScrollRef=function(e){a._scrollRef=e},a._defaultRenderScrollComponent=function(t){var n,i=t.onRefresh;return a._isNestedWithSameOrientation()?e.createElement(Xg,t):i?(zp()("boolean"===typeof t.refreshing,"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify(null!==(n=t.refreshing)&&void 0!==n?n:"undefined")+"`"),e.createElement(Ry,(0,r.Z)({},t,{refreshControl:null==t.refreshControl?e.createElement(sy,{refreshing:t.refreshing,onRefresh:i,progressViewOffset:t.progressViewOffset}):t.refreshControl}))):e.createElement(Ry,t)},a._onCellUnmount=function(e){var t=a._frames[e];t&&(a._frames[e]=X(X({},t),{},{inLayout:!1}))},a._onLayout=function(e){a._isNestedWithSameOrientation()?a.measureLayoutRelativeToContainingList():a._scrollMetrics.visibleLength=a._selectLength(e.nativeEvent.layout),a.props.onLayout&&a.props.onLayout(e),a._scheduleCellsToRenderUpdate(),a._maybeCallOnEndReached()},a._onLayoutEmpty=function(e){a.props.onLayout&&a.props.onLayout(e)},a._onLayoutFooter=function(e){a._triggerRemeasureForChildListsInCell(a._getFooterCellKey()),a._footerLength=a._selectLength(e.nativeEvent.layout)},a._onLayoutHeader=function(e){a._headerLength=a._selectLength(e.nativeEvent.layout)},a._onContentSizeChange=function(e,t){e>0&&t>0&&null!=a.props.initialScrollIndex&&a.props.initialScrollIndex>0&&!a._hasDoneInitialScroll&&(null==a.props.contentOffset&&a.scrollToIndex({animated:!1,index:a.props.initialScrollIndex}),a._hasDoneInitialScroll=!0),a.props.onContentSizeChange&&a.props.onContentSizeChange(e,t),a._scrollMetrics.contentLength=a._selectLength({height:t,width:e}),a._scheduleCellsToRenderUpdate(),a._maybeCallOnEndReached()},a._convertParentScrollMetrics=function(e){var t=e.offset-a._offsetFromParentVirtualizedList,n=e.visibleLength,r=t-a._scrollMetrics.offset;return{visibleLength:n,contentLength:a._scrollMetrics.contentLength,offset:t,dOffset:r}},a._onScroll=function(e){a._nestedChildLists.forEach((function(t){t.ref&&t.ref._onScroll(e)})),a.props.onScroll&&a.props.onScroll(e);var t=e.timeStamp,n=a._selectLength(e.nativeEvent.layoutMeasurement),r=a._selectLength(e.nativeEvent.contentSize),i=a._selectOffset(e.nativeEvent.contentOffset),o=i-a._scrollMetrics.offset;if(a._isNestedWithSameOrientation()){if(0===a._scrollMetrics.contentLength)return;var s=a._convertParentScrollMetrics({visibleLength:n,offset:i});n=s.visibleLength,r=s.contentLength,i=s.offset,o=s.dOffset}var u=a._scrollMetrics.timestamp?Math.max(1,t-a._scrollMetrics.timestamp):1,c=o/u;u>500&&a._scrollMetrics.dt>500&&r>5*n&&!a._hasWarned.perf&&(My("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:u,prevDt:a._scrollMetrics.dt,contentLength:r}),a._hasWarned.perf=!0),a._scrollMetrics={contentLength:r,dt:u,dOffset:o,offset:i,timestamp:t,velocity:c,visibleLength:n},a._updateViewableItems(a.props.data),a.props&&(a._maybeCallOnEndReached(),0!==c&&a._fillRateHelper.activate(),a._computeBlankness(),a._scheduleCellsToRenderUpdate())},a._onScrollBeginDrag=function(e){a._nestedChildLists.forEach((function(t){t.ref&&t.ref._onScrollBeginDrag(e)})),a._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),a._hasInteracted=!0,a.props.onScrollBeginDrag&&a.props.onScrollBeginDrag(e)},a._onScrollEndDrag=function(e){a._nestedChildLists.forEach((function(t){t.ref&&t.ref._onScrollEndDrag(e)}));var t=e.nativeEvent.velocity;t&&(a._scrollMetrics.velocity=a._selectOffset(t)),a._computeBlankness(),a.props.onScrollEndDrag&&a.props.onScrollEndDrag(e)},a._onMomentumScrollBegin=function(e){a._nestedChildLists.forEach((function(t){t.ref&&t.ref._onMomentumScrollBegin(e)})),a.props.onMomentumScrollBegin&&a.props.onMomentumScrollBegin(e)},a._onMomentumScrollEnd=function(e){a._nestedChildLists.forEach((function(t){t.ref&&t.ref._onMomentumScrollEnd(e)})),a._scrollMetrics.velocity=0,a._computeBlankness(),a.props.onMomentumScrollEnd&&a.props.onMomentumScrollEnd(e)},a._updateCellsToRender=function(){var e=a.props,t=e.data,n=e.getItemCount,r=zy(e.onEndReachedThreshold),i=a._isVirtualizationDisabled();a._updateViewableItems(t),t&&a.setState((function(e){var o,s=a._scrollMetrics,u=s.contentLength,c=s.offset,l=s.visibleLength;if(i){var d=u-l-c<r*l?Hy(a.props.maxToRenderPerBatch):0;o={first:0,last:Math.min(e.last+d,n(t)-1)}}else l>0&&u>0&&(a.props.initialScrollIndex&&!a._scrollMetrics.offset||(o=Ly(a.props.data,a.props.getItemCount,Hy(a.props.maxToRenderPerBatch),Gy(a.props.windowSize),e,a._getFrameMetricsApprox,a._scrollMetrics)));if(o&&a._nestedChildLists.size>0)for(var f=o.first,p=o.last,h=f;h<=p;h++){var m=a._indicesToKeys.get(h),v=m&&a._cellKeysToChildListKeys.get(m);if(v){for(var g,y=!1,b=Jg(v);!(g=b()).done;){var w=g.value,k=a._nestedChildLists.get(w);if(k&&k.ref&&k.ref.hasMore()){y=!0;break}}if(y){o.last=h;break}}}return null!=o&&o.first===e.first&&o.last===e.last&&(o=null),o}))},a._createViewToken=function(e,t){var n=a.props,r=n.data,i=(0,n.getItem)(r,e);return{index:e,item:i,key:a._keyExtractor(i,e),isViewable:t}},a._getFrameMetricsApprox=function(e){var t=a._getFrameMetrics(e);if(t&&t.index===e)return t;var n=a.props.getItemLayout;return zp()(!n,"Should not have to estimate frames when a measurement metrics function is provided"),{length:a._averageCellLength,offset:a._averageCellLength*e}},a._getFrameMetrics=function(e){var t=a.props,n=t.data,r=t.getItem,i=t.getItemCount,o=t.getItemLayout;zp()(i(n)>e,"Tried to get frame for out of range index "+e);var s=r(n,e),u=s&&a._frames[a._keyExtractor(s,e)];return u&&u.index===e||o&&(u=o(n,e)),u},zp()(!t.onScroll||!t.onScroll.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),zp()(Gy(t.windowSize)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),a._fillRateHelper=new ay(a._getFrameMetrics),a._updateCellsToRenderBatcher=new $g(a._updateCellsToRender,null!==(o=a.props.updateCellsBatchingPeriod)&&void 0!==o?o:50),a.props.viewabilityConfigCallbackPairs?a._viewabilityTuples=a.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityHelper:new Py(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}})):a.props.onViewableItemsChanged&&a._viewabilityTuples.push({viewabilityHelper:new Py(a.props.viewabilityConfig),onViewableItemsChanged:a.props.onViewableItemsChanged});var s={first:a.props.initialScrollIndex||0,last:Math.min(a.props.getItemCount(a.props.data),(a.props.initialScrollIndex||0)+Wy(a.props.initialNumToRender))-1};if(a._isNestedWithSameOrientation()){var u=a.context.getNestedChildState(a._getListKey());u&&(s=u,a.state=u,a._frames=u.frames)}return a.invertedWheelEventHandler=function(e){if(a.props.inverted&&a._scrollRef&&a._scrollRef.getScrollableNode){var t=a._scrollRef.getScrollableNode();a.props.horizontal?t.scrollLeft-=e.deltaX||e.wheelDeltaX:t.scrollTop-=e.deltaY||e.wheelDeltaY,e.preventDefault()}},a.state=s,a}return(0,yn.Z)(i,[{key:"scrollToEnd",value:function(e){var t=!e||e.animated,n=this.props.getItemCount(this.props.data)-1,r=this._getFrameMetricsApprox(n),i=Math.max(0,r.offset+r.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(Uy(this.props.horizontal)?{x:i,animated:t}:{y:i,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"scrollToIndex",value:function(e){var t=this.props,n=t.data,r=t.horizontal,i=t.getItemCount,a=t.getItemLayout,o=t.onScrollToIndexFailed,s=e.animated,u=e.index,c=e.viewOffset,l=e.viewPosition;if(zp()(u>=0,"scrollToIndex out of range: requested index "+u+" but minimum is 0"),zp()(i(n)>=1,"scrollToIndex out of range: item length "+i(n)+" but minimum is 1"),zp()(u<i(n),"scrollToIndex out of range: requested index "+u+" is out of 0 to "+(i(n)-1)),!a&&u>this._highestMeasuredFrameIndex)return zp()(!!o,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void o({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:u});var d=this._getFrameMetricsApprox(u),f=Math.max(0,d.offset-(l||0)*(this._scrollMetrics.visibleLength-d.length))-(c||0);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(r?{x:f,animated:s}:{y:f,animated:s}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"scrollToItem",value:function(e){for(var t=e.item,n=this.props,r=n.data,i=n.getItem,a=(0,n.getItemCount)(r),o=0;o<a;o++)if(i(r,o)===t){this.scrollToIndex(X(X({},e),{},{index:o}));break}}},{key:"scrollToOffset",value:function(e){var t=e.animated,n=e.offset;null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(Uy(this.props.horizontal)?{x:n,animated:t}:{y:n,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"recordInteraction",value:function(){this._nestedChildLists.forEach((function(e){e.ref&&e.ref.recordInteraction()})),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),this._updateViewableItems(this.props.data)}},{key:"flashScrollIndicators",value:function(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}},{key:"getScrollableNode",value:function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():Wg(this._scrollRef)}},{key:"getScrollRef",value:function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}},{key:"setNativeProps",value:function(e){this._scrollRef&&this._scrollRef.setNativeProps(e)}},{key:"_getCellKey",value:function(){var e;return(null==(e=this.context)?void 0:e.cellKey)||"rootList"}},{key:"_getListKey",value:function(){return this.props.listKey||this._getCellKey()}},{key:"_getDebugInfo",value:function(){var e;return{listKey:this._getListKey(),cellKey:this._getCellKey(),horizontal:Uy(this.props.horizontal),parent:null==(e=this.context)?void 0:e.debugInfo}}},{key:"hasMore",value:function(){return this._hasMore}},{key:"componentDidMount",value:function(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({cellKey:this._getCellKey(),key:this._getListKey(),ref:this,parentDebugInfo:this.context.debugInfo}),this.setupWebWheelHandler()}},{key:"componentWillUnmount",value:function(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({key:this._getListKey(),state:{first:this.state.first,last:this.state.last,frames:this._frames}}),this._updateViewableItems(null),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.dispose()})),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}},{key:"setupWebWheelHandler",value:function(){var e=this;this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler):setTimeout((function(){return e.setupWebWheelHandler()}),50)}},{key:"teardownWebWheelHandler",value:function(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}},{key:"_pushCells",value:function(t,n,r,i,a,o){var s,u=this,c=this.props,l=c.CellRendererComponent,d=c.ItemSeparatorComponent,f=c.data,p=c.getItem,h=c.getItemCount,m=c.horizontal,v=this.props.ListHeaderComponent?1:0,g=h(f)-1;a=Math.min(g,a);for(var y=function(i){var a=p(f,i),c=u._keyExtractor(a,i);u._indicesToKeys.set(i,c),r.has(i+v)&&n.push(t.length),t.push(e.createElement(Ky,{CellRendererComponent:l,ItemSeparatorComponent:i<g?d:void 0,cellKey:c,fillRateHelper:u._fillRateHelper,horizontal:m,index:i,inversionStyle:o,item:a,key:c,prevCellKey:s,onUpdateSeparators:u._onUpdateSeparators,onLayout:function(e){return u._onCellLayout(e,c,i)},onUnmount:u._onCellUnmount,parentProps:u.props,ref:function(e){u._cellRefs[c]=e}})),s=c},b=i;b<=a;b++)y(b)}},{key:"_isVirtualizationDisabled",value:function(){return this.props.disableVirtualization||!1}},{key:"_isNestedWithSameOrientation",value:function(){var e=this.context;return!(!e||!!e.horizontal!==Uy(this.props.horizontal))}},{key:"_keyExtractor",value:function(e,t){if(null!=this.props.keyExtractor)return this.props.keyExtractor(e,t);var n=Dy(e,t);return n===String(t)&&(Zy=!0,e.type&&e.type.displayName&&(Vy=e.type.displayName)),n}},{key:"render",value:function(){var t=this,n=this.props,r=n.ListEmptyComponent,i=n.ListFooterComponent,a=n.ListHeaderComponent,o=this.props,s=o.data,u=o.horizontal,c=this._isVirtualizationDisabled(),l=this.props.inverted?Uy(this.props.horizontal)?Yy.horizontallyInverted:Yy.verticallyInverted:null,d=[],p=new Set(this.props.stickyHeaderIndices),h=[];if(a){p.has(0)&&h.push(0);var m=e.isValidElement(a)?a:e.createElement(a,null);d.push(e.createElement(jy,{cellKey:this._getCellKey()+"-header",key:"$header"},e.createElement(Xg,{onLayout:this._onLayoutHeader,style:mv.compose(l,this.props.ListHeaderComponentStyle)},m)))}var v=this.props.getItemCount(s);if(v>0){Zy=!1,Vy="";var g=this._getSpacerKey(!u),y=this.props.initialScrollIndex?-1:Wy(this.props.initialNumToRender)-1,b=this.state,w=b.first,k=b.last;this._pushCells(d,h,p,0,y,l);var x=Math.max(y+1,w);if(!c&&w>y+1){var _=!1;if(p.size>0)for(var S=a?1:0,E=x-1;E>y;E--)if(p.has(E+S)){var C=this._getFrameMetricsApprox(y),T=this._getFrameMetricsApprox(E),A=T.offset-C.offset-(this.props.initialScrollIndex?0:C.length);d.push(e.createElement(Xg,{key:"$sticky_lead",style:(0,f.Z)({},g,A)})),this._pushCells(d,h,p,E,E,l);var O=this._getFrameMetricsApprox(w).offset-(T.offset+T.length);d.push(e.createElement(Xg,{key:"$sticky_trail",style:(0,f.Z)({},g,O)})),_=!0;break}if(!_){var R=this._getFrameMetricsApprox(y),I=this._getFrameMetricsApprox(w).offset-(R.offset+R.length);d.push(e.createElement(Xg,{key:"$lead_spacer",style:(0,f.Z)({},g,I)}))}}if(this._pushCells(d,h,p,x,k,l),!this._hasWarned.keys&&Zy&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",Vy),this._hasWarned.keys=!0),!c&&k<v-1){var N=this._getFrameMetricsApprox(k),P=this.props.getItemLayout?v-1:Math.min(v-1,this._highestMeasuredFrameIndex),M=this._getFrameMetricsApprox(P),L=M.offset+M.length-(N.offset+N.length);d.push(e.createElement(Xg,{key:"$tail_spacer",style:(0,f.Z)({},g,L)}))}}else if(r){var D=e.isValidElement(r)?r:e.createElement(r,null);d.push(e.cloneElement(D,{key:"$empty",onLayout:function(e){t._onLayoutEmpty(e),D.props.onLayout&&D.props.onLayout(e)},style:mv.compose(l,D.props.style)}))}if(i){var F=e.isValidElement(i)?i:e.createElement(i,null);d.push(e.createElement(jy,{cellKey:this._getFooterCellKey(),key:"$footer"},e.createElement(Xg,{onLayout:this._onLayoutFooter,style:mv.compose(l,this.props.ListFooterComponentStyle)},F)))}var B,j=X(X({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:(B=this.props.scrollEventThrottle,null!==B&&void 0!==B?B:50),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:h,style:l?[l,this.props.style]:this.props.style});this._hasMore=this.state.last<this.props.getItemCount(this.props.data)-1;var Z=e.createElement(By,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:Uy(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,getNestedChildState:this._getNestedChildState,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild,debugInfo:this._getDebugInfo()}},e.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(j),{ref:this._captureScrollRef},d));return this.props.debug?e.createElement(Xg,{style:Yy.debug},Z,this._renderDebugOverlay()):Z}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.data,r=t.extraData;n===e.data&&r===e.extraData||this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.resetViewableIndices()}));var i=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),i&&(this._hiPriInProgress=!1)}},{key:"_computeBlankness",value:function(){this._fillRateHelper.computeBlankness(this.props,this.state,this._scrollMetrics)}},{key:"_onCellLayout",value:function(e,t,n){var r=e.nativeEvent.layout,i={offset:this._selectOffset(r),length:this._selectLength(r),index:n,inLayout:!0},a=this._frames[t];a&&i.offset===a.offset&&i.length===a.length&&n===a.index?this._frames[t].inLayout=!0:(this._totalCellLength+=i.length-(a?a.length:0),this._totalCellsMeasured+=a?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[t]=i,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,n),this._scheduleCellsToRenderUpdate()),this._triggerRemeasureForChildListsInCell(t),this._computeBlankness(),this._updateViewableItems(this.props.data)}},{key:"_triggerRemeasureForChildListsInCell",value:function(e){var t=this._cellKeysToChildListKeys.get(e);if(t)for(var n,r=Jg(t);!(n=r()).done;){var i=n.value,a=this._nestedChildLists.get(i);a&&a.ref&&a.ref.measureLayoutRelativeToContainingList()}}},{key:"measureLayoutRelativeToContainingList",value:function(){var e=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(function(t,n,r,i){e._offsetFromParentVirtualizedList=e._selectOffset({x:t,y:n}),e._scrollMetrics.contentLength=e._selectLength({width:r,height:i});var a=e._convertParentScrollMetrics(e.context.getScrollMetrics());(e._scrollMetrics.visibleLength!==a.visibleLength||e._scrollMetrics.offset!==a.offset)&&(e._scrollMetrics.visibleLength=a.visibleLength,e._scrollMetrics.offset=a.offset,e._cellKeysToChildListKeys.forEach((function(t){if(t)for(var n,r=Jg(t);!(n=r()).done;){var i=n.value,a=e._nestedChildLists.get(i);a&&a.ref&&a.ref.measureLayoutRelativeToContainingList()}})))}),(function(e){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")}))}catch(t){console.warn("measureLayoutRelativeToContainingList threw an error",t.stack)}}},{key:"_getFooterCellKey",value:function(){return this._getCellKey()+"-footer"}},{key:"_renderDebugOverlay",value:function(){for(var t=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),n=[],r=this.props.getItemCount(this.props.data),i=0;i<r;i++){var a=this._getFrameMetricsApprox(i);a.inLayout&&n.push(a)}var o=this._getFrameMetricsApprox(this.state.first).offset,s=this._getFrameMetricsApprox(this.state.last),u=s.offset+s.length-o,c=this._scrollMetrics.offset,l=this._scrollMetrics.visibleLength;return e.createElement(Xg,{style:[Yy.debugOverlayBase,Yy.debugOverlay]},n.map((function(n,r){return e.createElement(Xg,{key:"f"+r,style:[Yy.debugOverlayBase,Yy.debugOverlayFrame,{top:n.offset*t,height:n.length*t}]})})),e.createElement(Xg,{style:[Yy.debugOverlayBase,Yy.debugOverlayFrameLast,{top:o*t,height:u*t}]}),e.createElement(Xg,{style:[Yy.debugOverlayBase,Yy.debugOverlayFrameVis,{top:c*t,height:l*t}]}))}},{key:"_selectLength",value:function(e){return Uy(this.props.horizontal)?e.width:e.height}},{key:"_selectOffset",value:function(e){return Uy(this.props.horizontal)?e.x:e.y}},{key:"_maybeCallOnEndReached",value:function(){var e=this.props,t=e.data,n=e.getItemCount,r=e.onEndReached,i=e.onEndReachedThreshold,a=this._scrollMetrics,o=a.contentLength,s=a.visibleLength,u=o-s-a.offset,c=null!=i?i*s:2;r&&this.state.last===n(t)-1&&u<c&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,r({distanceFromEnd:u})):u>c&&(this._sentEndForContentLength=0)}},{key:"_scheduleCellsToRenderUpdate",value:function(){var e=this.state,t=e.first,n=e.last,r=this._scrollMetrics,i=r.offset,a=r.visibleLength,o=r.velocity,s=this.props.getItemCount(this.props.data),u=!1,c=zy(this.props.onEndReachedThreshold)*a/2;if(t>0){var l=i-this._getFrameMetricsApprox(t).offset;u=u||l<0||o<-2&&l<c}if(n<s-1){var d=this._getFrameMetricsApprox(n).offset-(i+a);u=u||d<0||o>2&&d<c}if(u&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}},{key:"_updateViewableItems",value:function(e){var t=this,n=this.props.getItemCount;this._viewabilityTuples.forEach((function(r){r.viewabilityHelper.onUpdate(n(e),t._scrollMetrics.offset,t._scrollMetrics.visibleLength,t._getFrameMetrics,t._createViewToken,r.onViewableItemsChanged,t.state)}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.getItemCount,i=Hy(e.maxToRenderPerBatch);return{first:Math.max(0,Math.min(t.first,r(n)-1-i)),last:Math.max(0,Math.min(t.last,r(n)-1))}}}]),i}(e.PureComponent);qy.contextType=Fy;var Ky=function(t){(0,pc.Z)(i,t);var n=(0,hc.Z)(i);function i(){var e;return(0,gn.Z)(this,i),(e=n.apply(this,arguments)).state={separatorProps:{highlighted:!1,leadingItem:e.props.item}},e._separators={highlight:function(){var t=e.props,n=t.cellKey,r=t.prevCellKey;e.props.onUpdateSeparators([n,r],{highlighted:!0})},unhighlight:function(){var t=e.props,n=t.cellKey,r=t.prevCellKey;e.props.onUpdateSeparators([n,r],{highlighted:!1})},updateProps:function(t,n){var r=e.props,i=r.cellKey,a=r.prevCellKey;e.props.onUpdateSeparators(["leading"===t?a:i],n)}},e}return(0,yn.Z)(i,[{key:"updateSeparatorProps",value:function(e){this.setState((function(t){return{separatorProps:X(X({},t.separatorProps),e)}}))}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.props.cellKey)}},{key:"_renderElement",value:function(t,n,r,i){return t&&n&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),n?e.createElement(n,{item:r,index:i,separators:this._separators}):t?t({item:r,index:i,separators:this._separators}):void zp()(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}},{key:"render",value:function(){var t=this.props,n=t.CellRendererComponent,i=t.ItemSeparatorComponent,a=t.fillRateHelper,o=t.horizontal,s=t.item,u=t.index,c=t.inversionStyle,l=t.parentProps,d=l.renderItem,f=l.getItemLayout,p=l.ListItemComponent,h=this._renderElement(d,p,s,u),m=!f||l.debug||a.enabled()?this.props.onLayout:void 0,v=i&&e.createElement(i,this.state.separatorProps),g=c?o?[Yy.rowReverse,c]:[Yy.columnReverse,c]:o?[Yy.row,c]:c,y=n?e.createElement(n,(0,r.Z)({},this.props,{style:g,onLayout:m}),h,v):e.createElement(Xg,{style:g,onLayout:m},h,v);return e.createElement(jy,{cellKey:this.props.cellKey},y)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{separatorProps:X(X({},t.separatorProps),{},{leadingItem:e.item})}}}]),i}(e.Component);var Yy=mv.create({verticallyInverted:{transform:[{scaleY:-1}]},horizontallyInverted:{transform:[{scaleX:-1}]},row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}}),Xy=qy,Qy=["numColumns","columnWrapperStyle","removeClippedSubviews"];function Jy(e){return null!==e&&void 0!==e?e:1}var $y=function(t){(0,pc.Z)(i,t);var n=(0,hc.Z)(i);function i(t){var r;return(0,gn.Z)(this,i),(r=n.call(this,t))._virtualizedListPairs=[],r._captureRef=function(e){r._listRef=e},r._getItem=function(e,t){var n=Jy(r.props.numColumns);if(n>1){for(var i=[],a=0;a<n;a++){var o=e[t*n+a];null!=o&&i.push(o)}return i}return e[t]},r._getItemCount=function(e){if(e){var t=Jy(r.props.numColumns);return t>1?Math.ceil(e.length/t):e.length}return 0},r._keyExtractor=function(e,t){var n,i=Jy(r.props.numColumns),a=null!==(n=r.props.keyExtractor)&&void 0!==n?n:Dy;return i>1?Array.isArray(e)?e.map((function(e,n){return a(e,t*i+n)})).join(":"):void zp()(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",i):a(e,t)},r._renderer=function(){var t=r.props,n=t.ListItemComponent,i=t.renderItem,a=t.columnWrapperStyle,o=Jy(r.props.numColumns),s=n?"ListItemComponent":"renderItem",u=function(t){return n?e.createElement(n,t):i?i(t):null};return(0,f.Z)({},s,(function(t){if(o>1){var n=t.item,r=t.index;return zp()(Array.isArray(n),"Expected array of items with numColumns > 1"),e.createElement(Xg,{style:mv.compose(eb.row,a)},n.map((function(n,i){var a=u({item:n,index:r*o+i,separators:t.separators});return null!=a?e.createElement(e.Fragment,{key:i},a):null})))}return u(t)}))},r._checkProps(r.props),r.props.viewabilityConfigCallbackPairs?r._virtualizedListPairs=r.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:r._createOnViewableItemsChanged(e.onViewableItemsChanged)}})):r.props.onViewableItemsChanged&&r._virtualizedListPairs.push({viewabilityConfig:r.props.viewabilityConfig,onViewableItemsChanged:r._createOnViewableItemsChanged(r.props.onViewableItemsChanged)}),r}return(0,yn.Z)(i,[{key:"scrollToEnd",value:function(e){this._listRef&&this._listRef.scrollToEnd(e)}},{key:"scrollToIndex",value:function(e){this._listRef&&this._listRef.scrollToIndex(e)}},{key:"scrollToItem",value:function(e){this._listRef&&this._listRef.scrollToItem(e)}},{key:"scrollToOffset",value:function(e){this._listRef&&this._listRef.scrollToOffset(e)}},{key:"recordInteraction",value:function(){this._listRef&&this._listRef.recordInteraction()}},{key:"flashScrollIndicators",value:function(){this._listRef&&this._listRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._listRef)return this._listRef.getScrollResponder()}},{key:"getNativeScrollRef",value:function(){if(this._listRef)return this._listRef.getScrollRef()}},{key:"getScrollableNode",value:function(){if(this._listRef)return this._listRef.getScrollableNode()}},{key:"setNativeProps",value:function(e){this._listRef&&this._listRef.setNativeProps(e)}},{key:"componentDidUpdate",value:function(e){zp()(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),zp()(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),zp()(!Hg(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),zp()(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}},{key:"_checkProps",value:function(e){var t=e.getItem,n=e.getItemCount,r=e.horizontal,i=e.columnWrapperStyle,a=e.onViewableItemsChanged,o=e.viewabilityConfigCallbackPairs,s=Jy(this.props.numColumns);zp()(!t&&!n,"FlatList does not support custom data formats."),s>1?zp()(!r,"numColumns does not support horizontal."):zp()(!i,"columnWrapperStyle not supported for single column lists"),zp()(!(a&&o),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}},{key:"_pushMultiColumnViewable",value:function(e,t){var n,r=Jy(this.props.numColumns),i=null!==(n=this.props.keyExtractor)&&void 0!==n?n:Dy;t.item.forEach((function(n,a){zp()(null!=t.index,"Missing index!");var o=t.index*r+a;e.push(X(X({},t),{},{item:n,key:i(n,o),index:o}))}))}},{key:"_createOnViewableItemsChanged",value:function(e){var t=this;return function(n){var r=Jy(t.props.numColumns);if(e)if(r>1){var i=[],a=[];n.viewableItems.forEach((function(e){return t._pushMultiColumnViewable(a,e)})),n.changed.forEach((function(e){return t._pushMultiColumnViewable(i,e)})),e({viewableItems:a,changed:i})}else e(n)}}},{key:"render",value:function(){var t,n=this.props,i=(n.numColumns,n.columnWrapperStyle,n.removeClippedSubviews),a=(0,T.Z)(n,Qy);return e.createElement(Xy,(0,r.Z)({},a,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(t=i,null!==t&&void 0!==t?t:"android"===Wp.OS)},this._renderer()))}}]),i}(e.PureComponent),eb=mv.create({row:{flexDirection:"row"}}),tb=$y,nb=n(11752),rb=n(61120);var ib,ab=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e,r,i,a){var o;return(0,gn.Z)(this,n),(o=t.call(this,r)).emitter=e,o.listener=i,o.context=a,o}return(0,yn.Z)(n,[{key:"remove",value:function(){this.emitter.removeSubscription(this)}}]),n}(function(){function e(t){(0,gn.Z)(this,e),this.subscriber=t}return(0,yn.Z)(e,[{key:"remove",value:function(){this.subscriber.removeSubscription(this)}}]),e}()),ob=ab,sb=function(){function e(){(0,gn.Z)(this,e),this._subscriptionsForType={}}return(0,yn.Z)(e,[{key:"addSubscription",value:function(e,t){zp()(t.subscriber===this,"The subscriber of the subscription is incorrectly set."),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t}},{key:"removeAllSubscriptions",value:function(e){null==e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]}},{key:"removeSubscription",value:function(e){var t=e.eventType,n=e.key,r=this._subscriptionsForType[t];r&&delete r[n]}},{key:"getSubscriptionsForType",value:function(e){return this._subscriptionsForType[e]}}]),e}(),ub=sb,cb=function(){return!0},lb=function(){function e(t){(0,gn.Z)(this,e),this._subscriber=t||new ub}return(0,yn.Z)(e,[{key:"addListener",value:function(e,t,n){return this._subscriber.addSubscription(e,new ob(this,this._subscriber,t,n))}},{key:"removeAllListeners",value:function(e){this._subscriber.removeAllSubscriptions(e)}},{key:"removeSubscription",value:function(e){zp()(e.emitter===this,"Subscription does not belong to this emitter."),this._subscriber.removeSubscription(e)}},{key:"listenerCount",value:function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(cb).length:0}},{key:"emit",value:function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=t.length;a<o;a++){var s=t[a];s&&s.listener&&s.listener.apply(s.context,r)}}}},{key:"removeListener",value:function(e,t){console.error("EventEmitter.removeListener('"+e+"', ...): Method has been deprecated. Please instead use `remove()` on the subscription returned by `EventEmitter.addListener`.");var n=this._subscriber.getSubscriptionsForType(e);if(n)for(var r=0,i=n.length;r<i;r++){var a=n[r];a&&a.listener===t&&a.remove()}}}]),e}(),db=new lb,fb=function(){function e(t){(0,gn.Z)(this,e),"ios"===Wp.OS&&(zp()(null!=t,"`new NativeEventEmitter()` requires a non-null argument."),this._nativeModule=t)}return(0,yn.Z)(e,[{key:"addListener",value:function(e,t,n){var r,i=this;null==(r=this._nativeModule)||r.addListener(e);var a=db.addListener(e,t,n);return{remove:function(){var e;null!=a&&(null==(e=i._nativeModule)||e.removeListeners(1),a.remove(),a=null)}}}},{key:"removeListener",value:function(e,t){var n;null==(n=this._nativeModule)||n.removeListeners(1),db.removeListener(e,t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];db.emit.apply(db,[e].concat(n))}},{key:"removeAllListeners",value:function(e){var t;zp()(null!=e,"`NativeEventEmitter.removeAllListener()` requires a non-null argument."),null==(t=this._nativeModule)||t.removeListeners(this.listenerCount(e)),db.removeAllListeners(e)}},{key:"listenerCount",value:function(e){return db.listenerCount(e)}}]),e}(),pb=("ios"===Wp.OS&&n.g.RN$Bridgeless,null),hb=1,mb=1,vb=new Set,gb=!1,yb=[],bb={getValue:function(e,t){zp()(pb,"Native animated module is not available"),pb.getValue&&pb.getValue(e,t)},setWaitingForIdentifier:function(e){vb.add(e),gb=!0},unsetWaitingForIdentifier:function(e){vb.delete(e),0===vb.size&&(gb=!1,bb.disableQueue())},disableQueue:function(){zp()(pb,"Native animated module is not available"),"android"===Wp.OS&&pb.startOperationBatch();for(var e=0,t=yb.length;e<t;e++)yb[e]();yb.length=0,"android"===Wp.OS&&pb.finishOperationBatch()},queueOperation:function(e){gb?yb.push(e):e()},createAnimatedNode:function(e,t){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.createAnimatedNode(e,t)}))},startListeningToAnimatedNodeValue:function(e){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.startListeningToAnimatedNodeValue(e)}))},stopListeningToAnimatedNodeValue:function(e){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.stopListeningToAnimatedNodeValue(e)}))},connectAnimatedNodes:function(e,t){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.connectAnimatedNodes(e,t)}))},disconnectAnimatedNodes:function(e,t){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.disconnectAnimatedNodes(e,t)}))},startAnimatingNode:function(e,t,n,r){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.startAnimatingNode(e,t,n,r)}))},stopAnimation:function(e){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.stopAnimation(e)}))},setAnimatedNodeValue:function(e,t){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.setAnimatedNodeValue(e,t)}))},setAnimatedNodeOffset:function(e,t){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.setAnimatedNodeOffset(e,t)}))},flattenAnimatedNodeOffset:function(e){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.flattenAnimatedNodeOffset(e)}))},extractAnimatedNodeOffset:function(e){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.extractAnimatedNodeOffset(e)}))},connectAnimatedNodeToView:function(e,t){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.connectAnimatedNodeToView(e,t)}))},disconnectAnimatedNodeFromView:function(e,t){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.disconnectAnimatedNodeFromView(e,t)}))},restoreDefaultValues:function(e){zp()(pb,"Native animated module is not available"),null!=pb.restoreDefaultValues&&bb.queueOperation((function(){return pb.restoreDefaultValues(e)}))},dropAnimatedNode:function(e){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.dropAnimatedNode(e)}))},addAnimatedEventToView:function(e,t,n){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.addAnimatedEventToView(e,t,n)}))},removeAnimatedEventFromView:function(e,t,n){zp()(pb,"Native animated module is not available"),bb.queueOperation((function(){return pb.removeAnimatedEventFromView(e,t,n)}))}},wb={opacity:!0,transform:!0,borderRadius:!0,borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0},kb={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},xb={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function _b(){return mb++}var Sb=!1;function Eb(e){return null==e.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==e.useNativeDriver||pb?e.useNativeDriver||!1:(Sb||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),Sb=!0),!1)}var Cb={API:bb,addWhitelistedStyleProp:function(e){wb[e]=!0},addWhitelistedTransformProp:function(e){kb[e]=!0},addWhitelistedInterpolationParam:function(e){xb[e]=!0},validateStyles:function(e){for(var t in e)if(!wb.hasOwnProperty(t))throw new Error("Style property '"+t+"' is not supported by native animated module")},validateTransform:function(e){e.forEach((function(e){if(!kb.hasOwnProperty(e.property))throw new Error("Property '"+e.property+"' is not supported by native animated module")}))},validateInterpolation:function(e){for(var t in e)if(!xb.hasOwnProperty(t))throw new Error("Interpolation property '"+t+"' is not supported by native animated module")},generateNewNodeTag:function(){return hb++},generateNewAnimationId:_b,assertNativeAnimatedModule:function(){zp()(pb,"Native animated module is not available")},shouldUseNativeDriver:Eb,transformDataType:function(e){return"string"!==typeof e?e:/deg$/.test(e)?(parseFloat(e)||0)*Math.PI/180:e},get nativeEventEmitter(){return ib||(ib=new fb(pb)),ib}},Tb=Cb.API,Ab=1,Ob=function(){function e(){(0,gn.Z)(this,e),this._listeners={}}return(0,yn.Z)(e,[{key:"__attach",value:function(){}},{key:"__detach",value:function(){this.__isNative&&null!=this.__nativeTag&&(Cb.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}},{key:"__getValue",value:function(){}},{key:"__getAnimatedValue",value:function(){return this.__getValue()}},{key:"__addChild",value:function(e){}},{key:"__removeChild",value:function(e){}},{key:"__getChildren",value:function(){return[]}},{key:"__makeNative",value:function(){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this.hasListeners()&&this._startListeningToNativeValueUpdates()}},{key:"addListener",value:function(e){var t=String(Ab++);return this._listeners[t]=e,this.__isNative&&this._startListeningToNativeValueUpdates(),t}},{key:"removeListener",value:function(e){delete this._listeners[e],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}},{key:"removeAllListeners",value:function(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}},{key:"hasListeners",value:function(){return!!Object.keys(this._listeners).length}},{key:"_startListeningToNativeValueUpdates",value:function(){var e=this;this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),Tb.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=Cb.nativeEventEmitter.addListener("onAnimatedValueUpdate",(function(t){t.tag===e.__getNativeTag()&&e._onAnimatedValueUpdateReceived(t.value)})))}},{key:"_onAnimatedValueUpdateReceived",value:function(e){this.__callListeners(e)}},{key:"__callListeners",value:function(e){for(var t in this._listeners)this._listeners[t]({value:e})}},{key:"_stopListeningForNativeValueUpdates",value:function(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,Tb.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}},{key:"__getNativeTag",value:function(){var e;Cb.assertNativeAnimatedModule(),zp()(this.__isNative,'Attempt to get native tag from node not marked as "native"');var t=null!==(e=this.__nativeTag)&&void 0!==e?e:Cb.generateNewNodeTag();return null==this.__nativeTag&&(this.__nativeTag=t,Cb.API.createAnimatedNode(t,this.__getNativeConfig()),this.__shouldUpdateListenersForNewNativeTag=!0),t}},{key:"__getNativeConfig",value:function(){throw new Error("This JS animated node type cannot be used as native animated node")}},{key:"toJSON",value:function(){return this.__getValue()}}]),e}(),Rb=Ob,Ib=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(){var e;return(0,gn.Z)(this,n),(e=t.call(this))._children=[],e}return(0,yn.Z)(n,[{key:"__makeNative",value:function(){if(!this.__isNative){this.__isNative=!0;for(var e,t=Jg(this._children);!(e=t()).done;){var r=e.value;r.__makeNative(),Cb.API.connectAnimatedNodes(this.__getNativeTag(),r.__getNativeTag())}}(0,nb.Z)((0,rb.Z)(n.prototype),"__makeNative",this).call(this)}},{key:"__addChild",value:function(e){0===this._children.length&&this.__attach(),this._children.push(e),this.__isNative&&(e.__makeNative(),Cb.API.connectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()))}},{key:"__removeChild",value:function(e){var t=this._children.indexOf(e);-1!==t?(this.__isNative&&e.__isNative&&Cb.API.disconnectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()),this._children.splice(t,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}},{key:"__getChildren",value:function(){return this._children}},{key:"__callListeners",value:function(e){if((0,nb.Z)((0,rb.Z)(n.prototype),"__callListeners",this).call(this,e),!this.__isNative)for(var t,r=Jg(this._children);!(t=r()).done;){var i=t.value;i.__getValue&&i.__callListeners(i.__getValue())}}}]),n}(Rb),Nb=Ib,Pb=function(e){return e};function Mb(e){if(e.outputRange&&"string"===typeof e.outputRange[0])return function(e){var t=e.outputRange;zp()(t.length>=2,"Bad output range"),function(e){for(var t=e[0].replace(Db,""),n=1;n<e.length;++n)zp()(t===e[n].replace(Db,""),"invalid pattern "+e[0]+" and "+e[n])}(t=t.map(Lb));var n=t[0].match(Db).map((function(){return[]}));t.forEach((function(e){e.match(Db).forEach((function(e,t){n[t].push(+e)}))}));var r=t[0].match(Db).map((function(t,r){return Mb(X(X({},e),{},{outputRange:n[r]}))})),i=(a=t[0],"string"===typeof a&&a.startsWith("rgb"));var a;return function(e){var n=0;return t[0].replace(Db,(function(){var t=+r[n++](e);return i&&(t=n<4?Math.round(t):Math.round(1e3*t)/1e3),String(t)}))}}(e);var t=e.outputRange;Fb("outputRange",t);var n=e.inputRange;Fb("inputRange",n),function(e){zp()(e.length>=2,"inputRange must have at least 2 elements");for(var t=1;t<e.length;++t)zp()(e[t]>=e[t-1],"inputRange must be monotonically non-decreasing "+e)}(n),zp()(n.length===t.length,"inputRange ("+n.length+") and outputRange ("+t.length+") must have the same length");var r=e.easing||Pb,i="extend";void 0!==e.extrapolateLeft?i=e.extrapolateLeft:void 0!==e.extrapolate&&(i=e.extrapolate);var a="extend";return void 0!==e.extrapolateRight?a=e.extrapolateRight:void 0!==e.extrapolate&&(a=e.extrapolate),function(e){zp()("number"===typeof e,"Cannot interpolation an input which is not a number");var o=function(e,t){var n;for(n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,n);return function(e,t,n,r,i,a,o,s){var u=e;if(u<t){if("identity"===o)return u;"clamp"===o&&(u=t)}if(u>n){if("identity"===s)return u;"clamp"===s&&(u=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=a(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r;return u}(e,n[o],n[o+1],t[o],t[o+1],r,i,a)}}function Lb(e){var t=Dh()(e);return null===t||"number"!==typeof t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var Db=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function Fb(e,t){zp()(t.length>=2,e+" must have at least 2 elements"),zp()(2!==t.length||t[0]!==-1/0||t[1]!==1/0,e+"cannot be ]-infinity;+infinity[ "+t)}var Bb=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e,r){var i;return(0,gn.Z)(this,n),(i=t.call(this))._parent=e,i._config=r,i._interpolation=Mb(r),i}return(0,yn.Z)(n,[{key:"__makeNative",value:function(){this._parent.__makeNative(),(0,nb.Z)((0,rb.Z)(n.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){var e=this._parent.__getValue();return zp()("number"===typeof e,"Cannot interpolate an input which is not a number."),this._interpolation(e)}},{key:"interpolate",value:function(e){return new n(this,e)}},{key:"__attach",value:function(){this._parent.__addChild(this)}},{key:"__detach",value:function(){this._parent.__removeChild(this),(0,nb.Z)((0,rb.Z)(n.prototype),"__detach",this).call(this)}},{key:"__transformDataType",value:function(e){return e.map(Cb.transformDataType)}},{key:"__getNativeConfig",value:function(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||"extend",extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||"extend",type:"interpolation"}}}]),n}(Nb);Bb.__createInterpolation=Mb;var jb=Bb,Zb=Cb.API;var Vb=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e){var r;if((0,gn.Z)(this,n),r=t.call(this),"number"!==typeof e)throw new Error("AnimatedValue: Attempting to set value to undefined");return r._startingValue=r._value=e,r._offset=0,r._animation=null,r}return(0,yn.Z)(n,[{key:"__detach",value:function(){var e=this;this.__isNative&&Zb.getValue(this.__getNativeTag(),(function(t){e._value=t})),this.stopAnimation(),(0,nb.Z)((0,rb.Z)(n.prototype),"__detach",this).call(this)}},{key:"__getValue",value:function(){return this._value+this._offset}},{key:"setValue",value:function(e){this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(e,!this.__isNative),this.__isNative&&Zb.setAnimatedNodeValue(this.__getNativeTag(),e)}},{key:"setOffset",value:function(e){this._offset=e,this.__isNative&&Zb.setAnimatedNodeOffset(this.__getNativeTag(),e)}},{key:"flattenOffset",value:function(){this._value+=this._offset,this._offset=0,this.__isNative&&Zb.flattenAnimatedNodeOffset(this.__getNativeTag())}},{key:"extractOffset",value:function(){this._offset+=this._value,this._value=0,this.__isNative&&Zb.extractAnimatedNodeOffset(this.__getNativeTag())}},{key:"stopAnimation",value:function(e){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,e&&e(this.__getValue())}},{key:"resetAnimation",value:function(e){this.stopAnimation(e),this._value=this._startingValue}},{key:"_onAnimatedValueUpdateReceived",value:function(e){this._updateValue(e,!1)}},{key:"interpolate",value:function(e){return new jb(this,e)}},{key:"animate",value:function(e,t){var n=this,r=null;e.__isInteraction&&(r=Qp.createInteractionHandle());var i=this._animation;this._animation&&this._animation.stop(),this._animation=e,e.start(this._value,(function(e){n._updateValue(e,!0)}),(function(e){n._animation=null,null!==r&&Qp.clearInteractionHandle(r),t&&t(e)}),i,this)}},{key:"stopTracking",value:function(){this._tracking&&this._tracking.__detach(),this._tracking=null}},{key:"track",value:function(e){this.stopTracking(),this._tracking=e}},{key:"_updateValue",value:function(e,t){if(void 0===e)throw new Error("AnimatedValue: Attempting to set value to undefined");this._value=e,t&&function(e){var t=new Set;!function e(n){"function"===typeof n.update?t.add(n):n.__getChildren().forEach(e)}(e),t.forEach((function(e){return e.update()}))}(this),(0,nb.Z)((0,rb.Z)(n.prototype),"__callListeners",this).call(this,this.__getValue())}},{key:"__getNativeConfig",value:function(){return{type:"value",value:this._value,offset:this._offset}}}]),n}(Nb),Ub=Vb;function Wb(e,t,n){var r=[];zp()(n[0]&&n[0].nativeEvent,"Native driven events only support animated values contained inside `nativeEvent`."),function e(t,n){if(t instanceof Ub)t.__makeNative(),r.push({nativeEventPath:n,animatedValueTag:t.__getNativeTag()});else if("object"===typeof t)for(var i in t)e(t[i],n.concat(i))}(n[0].nativeEvent,[]);var i=Wg(e);return null!=i&&r.forEach((function(e){Cb.API.addAnimatedEventToView(i,t,e)})),{detach:function(){null!=i&&r.forEach((function(e){Cb.API.removeAnimatedEventFromView(i,t,e.animatedValueTag)}))}}}var Hb=function(){function e(t,n){(0,gn.Z)(this,e),this._listeners=[],this._argMapping=t,null==n&&(console.warn("Animated.event now requires a second argument for options"),n={useNativeDriver:!1}),n.listener&&this.__addListener(n.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=Eb(n)}return(0,yn.Z)(e,[{key:"__addListener",value:function(e){this._listeners.push(e)}},{key:"__removeListener",value:function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))}},{key:"__attach",value:function(e,t){zp()(this.__isNative,"Only native driven events need to be attached."),this._attachedEvent=Wb(e,t,this._argMapping)}},{key:"__detach",value:function(e,t){zp()(this.__isNative,"Only native driven events need to be detached."),this._attachedEvent&&this._attachedEvent.detach()}},{key:"__getHandler",value:function(){var e=this;if(this.__isNative)return this._callListeners;return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function e(t,n,r){if(t instanceof Ub)"number"===typeof n&&t.setValue(n);else if("object"===typeof t)for(var i in t)e(t[i],n[i],i)};e._argMapping.forEach((function(e,t){i(e,n[t],"arg"+t)})),e._callListeners.apply(e,n)}}},{key:"_callListeners",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._listeners.forEach((function(e){return e.apply(void 0,t)}))}}]),e}(),zb=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e){var r;return(0,gn.Z)(this,n),(r=t.call(this))._transforms=e,r}return(0,yn.Z)(n,[{key:"__makeNative",value:function(){this._transforms.forEach((function(e){for(var t in e){var n=e[t];n instanceof Rb&&n.__makeNative()}})),(0,nb.Z)((0,rb.Z)(n.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._transforms.map((function(e){var t={};for(var n in e){var r=e[n];t[n]=r instanceof Rb?r.__getValue():r}return t}))}},{key:"__getAnimatedValue",value:function(){return this._transforms.map((function(e){var t={};for(var n in e){var r=e[n];t[n]=r instanceof Rb?r.__getAnimatedValue():r}return t}))}},{key:"__attach",value:function(){var e=this;this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof Rb&&r.__addChild(e)}}))}},{key:"__detach",value:function(){var e=this;this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof Rb&&r.__removeChild(e)}})),(0,nb.Z)((0,rb.Z)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){var e=[];return this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof Rb?e.push({type:"animated",property:n,nodeTag:r.__getNativeTag()}):e.push({type:"static",property:n,value:Cb.transformDataType(r)})}})),Cb.validateTransform(e),{type:"transform",transforms:e}}}]),n}(Nb),Gb=zb,qb=mv.flatten,Kb=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e){var r;return(0,gn.Z)(this,n),r=t.call(this),(e=qb(e)||{}).transform&&(e=X(X({},e),{},{transform:new Gb(e.transform)})),r._style=e,r}return(0,yn.Z)(n,[{key:"_walkStyleAndGetValues",value:function(e){var t={};for(var n in e){var r=e[n];r instanceof Rb?r.__isNative||(t[n]=r.__getValue()):r&&!Array.isArray(r)&&"object"===typeof r?t[n]=this._walkStyleAndGetValues(r):t[n]=r}return t}},{key:"__getValue",value:function(){return this._walkStyleAndGetValues(this._style)}},{key:"_walkStyleAndGetAnimatedValues",value:function(e){var t={};for(var n in e){var r=e[n];r instanceof Rb?t[n]=r.__getAnimatedValue():r&&!Array.isArray(r)&&"object"===typeof r&&(t[n]=this._walkStyleAndGetAnimatedValues(r))}return t}},{key:"__getAnimatedValue",value:function(){return this._walkStyleAndGetAnimatedValues(this._style)}},{key:"__attach",value:function(){for(var e in this._style){var t=this._style[e];t instanceof Rb&&t.__addChild(this)}}},{key:"__detach",value:function(){for(var e in this._style){var t=this._style[e];t instanceof Rb&&t.__removeChild(this)}(0,nb.Z)((0,rb.Z)(n.prototype),"__detach",this).call(this)}},{key:"__makeNative",value:function(){for(var e in this._style){var t=this._style[e];t instanceof Rb&&t.__makeNative()}(0,nb.Z)((0,rb.Z)(n.prototype),"__makeNative",this).call(this)}},{key:"__getNativeConfig",value:function(){var e={};for(var t in this._style)if(this._style[t]instanceof Rb){var n=this._style[t];n.__makeNative(),e[t]=n.__getNativeTag()}return Cb.validateStyles(e),{type:"style",style:e}}}]),n}(Nb),Yb=Kb,Xb=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e,r){var i;return(0,gn.Z)(this,n),i=t.call(this),e.style&&(e=X(X({},e),{},{style:new Yb(e.style)})),i._props=e,i._callback=r,i.__attach(),i}return(0,yn.Z)(n,[{key:"__getValue",value:function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof Rb?(!n.__isNative||n instanceof Yb)&&(e[t]=n.__getValue()):e[t]=n instanceof Hb?n.__getHandler():n}return e}},{key:"__getAnimatedValue",value:function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof Rb&&(e[t]=n.__getAnimatedValue())}return e}},{key:"__attach",value:function(){for(var e in this._props){var t=this._props[e];t instanceof Rb&&t.__addChild(this)}}},{key:"__detach",value:function(){for(var e in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var t=this._props[e];t instanceof Rb&&t.__removeChild(this)}(0,nb.Z)((0,rb.Z)(n.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._callback()}},{key:"__makeNative",value:function(){if(!this.__isNative){for(var e in this.__isNative=!0,this._props){var t=this._props[e];t instanceof Rb&&t.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}},{key:"setNativeView",value:function(e){this._animatedView!==e&&(this._animatedView=e,this.__isNative&&this.__connectAnimatedView())}},{key:"__connectAnimatedView",value:function(){zp()(this.__isNative,'Expected node to be marked as "native"');var e=Wg(this._animatedView);zp()(null!=e,"Unable to locate attached view in the native tree"),Cb.API.connectAnimatedNodeToView(this.__getNativeTag(),e)}},{key:"__disconnectAnimatedView",value:function(){zp()(this.__isNative,'Expected node to be marked as "native"');var e=Wg(this._animatedView);zp()(null!=e,"Unable to locate attached view in the native tree"),Cb.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),e)}},{key:"__restoreDefaultValues",value:function(){this.__isNative&&Cb.API.restoreDefaultValues(this.__getNativeTag())}},{key:"__getNativeConfig",value:function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof Rb&&(n.__makeNative(),e[t]=n.__getNativeTag())}return{type:"props",props:e}}}]),n}(Rb),Qb=Xb;var Jb=function(e){var t=e.getForwardedRef,n=e.setLocalRef;return function(e){var r=t();n(e),"function"===typeof r?r(e):"object"===typeof r&&null!=r&&(r.current=e)}},$b=["style"],ew=["style"],tw=1;var nw=function(t,n){zp()("function"!==typeof t||t.prototype&&t.prototype.isReactComponent,"`createAnimatedComponent` does not support stateless functional components; use a class component instead.");var i=function(n){(0,pc.Z)(a,n);var i=(0,hc.Z)(a);function a(){var e;return(0,gn.Z)(this,a),(e=i.apply(this,arguments))._invokeAnimatedPropsCallbackOnMount=!1,e._eventDetachers=[],e._animatedComponentId=tw+++":animatedComponent",e._isFabric=function(){var t,n,r,i,a,o;return null!=e._component&&(null!=(null==(t=e._component._internalInstanceHandle)||null==(n=t.stateNode)?void 0:n.canonical)||null!=e._component.getNativeScrollRef&&null!=e._component.getNativeScrollRef()&&null!=(null==(r=e._component.getNativeScrollRef()._internalInstanceHandle)||null==(i=r.stateNode)?void 0:i.canonical)||null!=e._component.getScrollResponder&&null!=e._component.getScrollResponder()&&null!=e._component.getScrollResponder().getNativeScrollRef&&null!=e._component.getScrollResponder().getNativeScrollRef()&&null!=(null==(a=e._component.getScrollResponder().getNativeScrollRef()._internalInstanceHandle)||null==(o=a.stateNode)?void 0:o.canonical))},e._waitForUpdate=function(){e._isFabric()&&Cb.API.setWaitingForIdentifier(e._animatedComponentId)},e._markUpdateComplete=function(){e._isFabric()&&Cb.API.unsetWaitingForIdentifier(e._animatedComponentId)},e._animatedPropsCallback=function(){if(null==e._component)e._invokeAnimatedPropsCallbackOnMount=!0;else if("function"!==typeof e._component.setNativeProps||e._isFabric())e.forceUpdate();else{if(e._propsAnimated.__isNative)throw new Error('Attempting to run JS driven animation on animated node that has been moved to "native" earlier by starting an animation with `useNativeDriver: true`');e._component.setNativeProps(e._propsAnimated.__getAnimatedValue())}},e._setComponentRef=Jb({getForwardedRef:function(){return e.props.forwardedRef},setLocalRef:function(t){e._prevComponent=e._component,e._component=t,null!=t&&null==t.getNode&&(t.getNode=function(){var e;return console.warn("%s: Calling `getNode()` on the ref of an Animated component is no longer necessary. You can now directly use the ref instead. This method will be removed in a future release.",null!==(e=t.constructor.name)&&void 0!==e?e:"<<anonymous>>"),t})}}),e}return(0,yn.Z)(a,[{key:"_attachNativeEvents",value:function(){var e,t=this,n=null!=(e=this._component)&&e.getScrollableNode?this._component.getScrollableNode():this._component,r=function(e){var r=t.props[e];r instanceof Hb&&r.__isNative&&(r.__attach(n,e),t._eventDetachers.push((function(){return r.__detach(n,e)})))};for(var i in this.props)r(i)}},{key:"_detachNativeEvents",value:function(){this._eventDetachers.forEach((function(e){return e()})),this._eventDetachers=[]}},{key:"_attachProps",value:function(e){var t=this._propsAnimated;e!==t&&(this._propsAnimated=new Qb(e,this._animatedPropsCallback),t&&(t.__restoreDefaultValues(),t.__detach()))}},{key:"render",value:function(){var n=this._propsAnimated.__getValue()||{},i=n.style,a=void 0===i?{}:i,o=(0,T.Z)(n,$b),s=this.props.passthroughAnimatedPropExplicitValues||{},u=s.style,c=void 0===u?{}:u,l=(0,T.Z)(s,ew),d=X(X({},a),c);return e.createElement(t,(0,r.Z)({},o,l,{style:d,ref:this._setComponentRef}))}},{key:"UNSAFE_componentWillMount",value:function(){this._waitForUpdate(),this._attachProps(this.props)}},{key:"componentDidMount",value:function(){this._invokeAnimatedPropsCallbackOnMount&&(this._invokeAnimatedPropsCallbackOnMount=!1,this._animatedPropsCallback()),this._propsAnimated.setNativeView(this._component),this._attachNativeEvents(),this._markUpdateComplete()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._waitForUpdate(),this._attachProps(e)}},{key:"componentDidUpdate",value:function(e){this._component!==this._prevComponent&&this._propsAnimated.setNativeView(this._component),this._component===this._prevComponent&&e===this.props||(this._detachNativeEvents(),this._attachNativeEvents()),this._markUpdateComplete()}},{key:"componentWillUnmount",value:function(){this._propsAnimated&&this._propsAnimated.__detach(),this._detachNativeEvents(),this._markUpdateComplete(),this._component=null,this._prevComponent=null}}]),a}(e.Component);return e.forwardRef((function(t,n){return e.createElement(i,(0,r.Z)({},t,null==n?null:{forwardedRef:n}))}))},rw=nw(e.forwardRef((function(t,n){return e.createElement(tb,(0,r.Z)({scrollEventThrottle:1e-4},t,{ref:n}))}))),iw=[];function aw(e){return iw[e-1]}var ow=/^data:/,sw=function(){function e(){(0,gn.Z)(this,e)}return(0,yn.Z)(e,null,[{key:"has",value:function(t){var n=e._entries;return ow.test(t)||Boolean(n[t])}},{key:"add",value:function(t){var n=e._entries,r=Date.now();n[t]?(n[t].lastUsedTimestamp=r,n[t].refCount+=1):n[t]={lastUsedTimestamp:r,refCount:1}}},{key:"remove",value:function(t){var n=e._entries;n[t]&&(n[t].refCount-=1),e._cleanUpIfNeeded()}},{key:"_cleanUpIfNeeded",value:function(){var t,n,r=e._entries,i=Object.keys(r);i.length+1>e._maximumEntries&&(i.forEach((function(e){var i=r[e];(!n||i.lastUsedTimestamp<n.lastUsedTimestamp)&&0===i.refCount&&(t=e,n=i)})),t&&delete r[t])}}]),e}();sw._maximumEntries=256,sw._entries={};var uw=0,cw={},lw={abort:function(e){var t=cw[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete cw[""+e])},getSize:function(e,t,n){var r=!1,i=setInterval(o,16),a=lw.load(e,o,(function(){"function"===typeof n&&n();lw.abort(a),clearInterval(i)}));function o(){var e=cw[""+a];if(e){var n=e.naturalHeight,o=e.naturalWidth;n&&o&&(t(o,n),r=!0)}r&&(lw.abort(a),clearInterval(i))}},has:function(e){return sw.has(e)},load:function(e,t,n){uw+=1;var r=new window.Image;return r.onerror=n,r.onload=function(e){var n=function(){return t({nativeEvent:e})};"function"===typeof r.decode?r.decode().then(n,n):setTimeout(n,0)},r.src=e,cw[""+uw]=r,uw},prefetch:function(e){return new Promise((function(t,n){lw.load(e,(function(){sw.add(e),sw.remove(e),t()}),n)}))},queryCache:function(e){var t={};return e.forEach((function(e){sw.has(e)&&(t[e]="disk/memory")})),Promise.resolve(t)}},dw=lw,fw=function(){function e(){(0,gn.Z)(this,e)}return(0,yn.Z)(e,null,[{key:"get",value:function(){return py.get("window").scale}},{key:"getFontScale",value:function(){return py.get("window").fontScale||e.get()}},{key:"getPixelSizeForLayoutSize",value:function(t){return Math.round(t*e.get())}},{key:"roundToNearestPixel",value:function(t){var n=e.get();return Math.round(t*n)/n}}]),e}(),pw=["accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],hw="LOADED",mw="LOADING",vw=0,gw=/^(data:image\/svg\+xml;utf8,)(.*)/;function yw(e){var t=null;if("number"===typeof e){var n=aw(e),r=n.scales[0];if(n.scales.length>1){var i=fw.get();r=n.scales.reduce((function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e}))}var a=1!==r?"@"+r+"x":"";t=n?n.httpServerLocation+"/"+n.name+a+"."+n.type:""}else"string"===typeof e?t=e:e&&"string"===typeof e.uri&&(t=e.uri);if(t){var o=t.match(gw);if(o){var s=o[1],u=o[2];return""+s+encodeURIComponent(u)}}return t}var bw=e.forwardRef((function(t,n){var i=t.accessibilityLabel,a=t.blurRadius,o=t.defaultSource,s=t.draggable,u=t.onError,c=t.onLayout,l=t.onLoad,d=t.onLoadEnd,f=t.onLoadStart,p=t.pointerEvents,h=t.source,m=t.style,v=(0,T.Z)(t,pw);var g=e.useState((function(){var e=yw(h);if(null!=e&&dw.has(e))return hw;return"IDLE"})),y=g[0],b=g[1],w=e.useState({}),k=w[0],x=w[1],_=e.useContext(zg),S=e.useRef(null),E=e.useRef(vw++),C=e.useRef(null),A=y===hw||y===mw&&null==o,O=function(e,t,n){var r=mv.flatten(e),i=r.filter,a=r.resizeMode,o=r.shadowOffset,s=r.tintColor,u=[],c=null;if(i&&u.push(i),t&&u.push("blur("+t+"px)"),o){var l=rv(r);l&&u.push("drop-shadow("+l+")")}return s&&null!=n&&u.push("url(#tint-"+n+")"),u.length>0&&(c=u.join(" ")),delete r.blurRadius,delete r.shadowColor,delete r.shadowOpacity,delete r.shadowOffset,delete r.shadowRadius,delete r.tintColor,delete r.overlayColor,delete r.resizeMode,[r,a,c,s]}(m,a,E.current),R=O[0],I=O[1],N=O[2],P=O[3],M=t.resizeMode||I||"cover",L=A?h:o,D=yw(L),F=function(e){if("number"===typeof e){var t=aw(e);return{height:t.height,width:t.width}}if(null!=e&&!Array.isArray(e)&&"object"===typeof e)return{height:e.height,width:e.width}}(L),B=D?'url("'+D+'")':null,j=function(){if(null!=S.current&&("center"===M||"repeat"===M)){var e=S.current,t=e.naturalHeight,n=e.naturalWidth,r=k.height,i=k.width;if(t&&n&&r&&i){var a=Math.min(1,i/n,r/t),o=Math.ceil(a*n),s=Math.ceil(a*t);return o+"px "+s+"px"}}}(),Z=D?Pv("img",{alt:i||"",style:kw.accessibilityImage$raw,draggable:s||!1,ref:S,src:D}):null;var V=yw(h);return e.useEffect((function(){function e(){null!=C.current&&(dw.abort(C.current),C.current=null)}return e(),null!=V&&(b(mw),f&&f(),C.current=dw.load(V,(function(e){b(hw),l&&l(e),d&&d()}),(function(){b("ERRORED"),u&&u({nativeEvent:{error:"Failed to load resource "+V+" (404)"}}),d&&d()}))),e}),[V,C,b,u,l,d,f]),e.createElement(Xg,(0,r.Z)({},v,{accessibilityLabel:i,onLayout:function(e){if("center"===M||"repeat"===M||c){var t=e.nativeEvent.layout;c&&c(e),x(t)}},pointerEvents:p,ref:n,style:[kw.root,_&&kw.inline,F,R]}),e.createElement(Xg,{style:[kw.image,xw[M],{backgroundImage:B,filter:N},null!=j&&{backgroundSize:j}],suppressHydrationWarning:!0}),Z,function(t,n){return t&&null!=n?e.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},e.createElement("defs",null,e.createElement("filter",{id:"tint-"+n,suppressHydrationWarning:!0},e.createElement("feFlood",{floodColor:""+t,key:t}),e.createElement("feComposite",{in2:"SourceAlpha",operator:"atop"})))):null}(P,E.current))}));bw.displayName="Image";var ww=bw;ww.getSize=function(e,t,n){dw.getSize(e,t,n)},ww.prefetch=function(e){return dw.prefetch(e)},ww.queryCache=function(e){return dw.queryCache(e)};var kw=mv.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},image:X(X({},mv.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:X(X({},mv.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),xw=mv.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}}),_w=nw(ww,{collapsable:!1}),Sw=nw(e.forwardRef((function(t,n){return e.createElement(Ry,(0,r.Z)({scrollEventThrottle:1e-4},t,{ref:n}))})),{collapsable:!1}),Ew=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"],Cw=function(t){(0,pc.Z)(i,t);var n=(0,hc.Z)(i);function i(){var t;return(0,gn.Z)(this,i),(t=n.apply(this,arguments))._keyExtractor=function(e,n){var r=t._subExtractor(n);return r&&r.key||String(n)},t._convertViewable=function(e){var n;zp()(null!=e.index,"Received a broken ViewToken");var r=t._subExtractor(e.index);if(!r)return null;var i=r.section.keyExtractor,a=t.props.keyExtractor||Dy,o=null!=i?i(e.item,r.index):a(e.item,null!==(n=r.index)&&void 0!==n?n:0);return X(X({},e),{},{index:r.index,key:o,section:r.section})},t._onViewableItemsChanged=function(e){var n=e.viewableItems,r=e.changed,i=t.props.onViewableItemsChanged;null!=i&&i({viewableItems:n.map(t._convertViewable,(0,A.Z)(t)).filter(Boolean),changed:r.map(t._convertViewable,(0,A.Z)(t)).filter(Boolean)})},t._renderItem=function(n){return function(r){var i=r.item,a=r.index,o=t._subExtractor(a);if(!o)return null;var s=o.index;if(null==s){var u=o.section;if(!0===o.header){var c=t.props.renderSectionHeader;return c?c({section:u}):null}var l=t.props.renderSectionFooter;return l?l({section:u}):null}var d=o.section.renderItem||t.props.renderItem,f=t._getSeparatorComponent(a,o,n);return zp()(d,"no renderItem!"),e.createElement(Tw,{SeparatorComponent:f,LeadingSeparatorComponent:0===s?t.props.SectionSeparatorComponent:void 0,cellKey:o.key,index:s,item:i,leadingItem:o.leadingItem,leadingSection:o.leadingSection,prevCellKey:(t._subExtractor(a-1)||{}).key,setSelfHighlightCallback:t._setUpdateHighlightFor,setSelfUpdatePropsCallback:t._setUpdatePropsFor,updateHighlightFor:t._updateHighlightFor,updatePropsFor:t._updatePropsFor,renderItem:d,section:o.section,trailingItem:o.trailingItem,trailingSection:o.trailingSection,inverted:!!t.props.inverted})}},t._updatePropsFor=function(e,n){var r=t._updatePropsMap[e];null!=r&&r(n)},t._updateHighlightFor=function(e,n){var r=t._updateHighlightMap[e];null!=r&&r(n)},t._setUpdateHighlightFor=function(e,n){null!=n?t._updateHighlightMap[e]=n:delete t._updateHighlightFor[e]},t._setUpdatePropsFor=function(e,n){null!=n?t._updatePropsMap[e]=n:delete t._updatePropsMap[e]},t._updateHighlightMap={},t._updatePropsMap={},t._captureRef=function(e){t._listRef=e},t}return(0,yn.Z)(i,[{key:"scrollToLocation",value:function(e){for(var t=e.itemIndex,n=0;n<e.sectionIndex;n++)t+=this.props.getItemCount(this.props.sections[n].data)+2;var r=e.viewOffset||0;if(null!=this._listRef){if(e.itemIndex>0&&this.props.stickySectionHeadersEnabled)r+=this._listRef._getFrameMetricsApprox(t-e.itemIndex).length;var i=X(X({},e),{},{viewOffset:r,index:t});this._listRef.scrollToIndex(i)}}},{key:"getListRef",value:function(){return this._listRef}},{key:"render",value:function(){for(var t,n=this,i=this.props,a=(i.ItemSeparatorComponent,i.SectionSeparatorComponent,i.renderItem,i.renderSectionFooter,i.renderSectionHeader,i.sections,i.stickySectionHeadersEnabled,(0,T.Z)(i,Ew)),o=this.props.ListHeaderComponent?1:0,s=this.props.stickySectionHeadersEnabled?[]:void 0,u=0,c=Jg(this.props.sections);!(t=c()).done;){var l=t.value;null!=s&&s.push(u+o),u+=2,u+=this.props.getItemCount(l.data)}var d=this._renderItem(u);return e.createElement(Xy,(0,r.Z)({},a,{keyExtractor:this._keyExtractor,stickyHeaderIndices:s,renderItem:d,data:this.props.sections,getItem:function(e,t){return n._getItem(n.props,e,t)},getItemCount:function(){return u},onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}},{key:"_getItem",value:function(e,t,n){if(!t)return null;for(var r=n-1,i=0;i<t.length;i++){var a=t[i],o=a.data,s=e.getItemCount(o);if(-1===r||r===s)return a;if(r<s)return e.getItem(o,r);r-=s+2}return null}},{key:"_subExtractor",value:function(e){for(var t=e,n=this.props,r=n.getItem,i=n.getItemCount,a=n.keyExtractor,o=n.sections,s=0;s<o.length;s++){var u=o[s],c=u.data,l=u.key||String(s);if(!((t-=1)>=i(c)+1))return-1===t?{section:u,key:l+":header",index:null,header:!0,trailingSection:o[s+1]}:t===i(c)?{section:u,key:l+":footer",index:null,header:!1,trailingSection:o[s+1]}:{section:u,key:l+":"+(u.keyExtractor||a||Dy)(r(c,t),t),index:t,leadingItem:r(c,t-1),leadingSection:o[s-1],trailingItem:r(c,t+1),trailingSection:o[s+1]};t-=i(c)+1}}},{key:"_getSeparatorComponent",value:function(e,t,n){if(!(t=t||this._subExtractor(e)))return null;var r=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,i=this.props.SectionSeparatorComponent,a=e===n-1,o=t.index===this.props.getItemCount(t.section.data)-1;return i&&o?i:!r||o||a?null:r}}]),i}(e.PureComponent);function Tw(t){var n=t.LeadingSeparatorComponent,i=t.SeparatorComponent,a=t.cellKey,o=t.prevCellKey,s=t.setSelfHighlightCallback,u=t.updateHighlightFor,c=t.setSelfUpdatePropsCallback,l=t.updatePropsFor,d=t.item,f=t.index,p=t.section,h=t.inverted,m=e.useState(!1),v=m[0],g=m[1],y=e.useState(!1),b=y[0],w=y[1],k=e.useState({leadingItem:t.leadingItem,leadingSection:t.leadingSection,section:t.section,trailingItem:t.item,trailingSection:t.trailingSection}),x=k[0],_=k[1],S=e.useState({leadingItem:t.item,leadingSection:t.leadingSection,section:t.section,trailingItem:t.trailingItem,trailingSection:t.trailingSection}),E=S[0],C=S[1];e.useEffect((function(){return s(a,w),c(a,C),function(){c(a,null),s(a,null)}}),[a,s,C,c]);var T={highlight:function(){g(!0),w(!0),null!=o&&u(o,!0)},unhighlight:function(){g(!1),w(!1),null!=o&&u(o,!1)},updateProps:function(e,t){"leading"===e?null!=n?_(X(X({},x),t)):null!=o&&l(o,X(X({},x),t)):"trailing"===e&&null!=i&&C(X(X({},E),t))}},A=t.renderItem({item:d,index:f,section:p,separators:T}),O=null!=n&&e.createElement(n,(0,r.Z)({highlighted:v},x)),R=null!=i&&e.createElement(i,(0,r.Z)({highlighted:b},E));return O||R?e.createElement(Xg,null,!1===h?O:R,A,!1===h?R:O):A}var Aw=Cw,Ow=["stickySectionHeadersEnabled"],Rw=function(t){(0,pc.Z)(i,t);var n=(0,hc.Z)(i);function i(){var e;return(0,gn.Z)(this,i),(e=n.apply(this,arguments))._captureRef=function(t){e._wrapperListRef=t},e}return(0,yn.Z)(i,[{key:"scrollToLocation",value:function(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)}},{key:"recordInteraction",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()}},{key:"flashScrollIndicators",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()}},{key:"getScrollableNode",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()}},{key:"setNativeProps",value:function(e){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.setNativeProps(e)}},{key:"render",value:function(){var t=this.props,n=t.stickySectionHeadersEnabled,i=(0,T.Z)(t,Ow),a=null!==n&&void 0!==n?n:"ios"===Wp.OS;return e.createElement(Aw,(0,r.Z)({},i,{stickySectionHeadersEnabled:a,ref:this._captureRef,getItemCount:function(e){return e.length},getItem:function(e,t){return e[t]}}))}}]),i}(e.PureComponent),Iw=Rw,Nw=nw(e.forwardRef((function(t,n){return e.createElement(Iw,(0,r.Z)({scrollEventThrottle:1e-4},t,{ref:n}))}))),Pw=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],Mw=Object.assign({},Mv,Lv,Dv,Fv,Bv,jv,Zv,Vv,{href:!0,lang:!0,pointerEvents:!0}),Lw=e.forwardRef((function(t,n){var r=t.hrefAttrs,i=t.numberOfLines,a=t.onClick,o=t.onLayout,s=t.onPress,u=t.onMoveShouldSetResponder,c=t.onMoveShouldSetResponderCapture,l=t.onResponderEnd,d=t.onResponderGrant,f=t.onResponderMove,p=t.onResponderReject,h=t.onResponderRelease,m=t.onResponderStart,v=t.onResponderTerminate,g=t.onResponderTerminationRequest,y=t.onScrollShouldSetResponder,b=t.onScrollShouldSetResponderCapture,w=t.onSelectionChangeShouldSetResponder,k=t.onSelectionChangeShouldSetResponderCapture,x=t.onStartShouldSetResponder,_=t.onStartShouldSetResponderCapture,S=t.selectable,E=(0,T.Z)(t,Pw),C=e.useContext(zg),A=e.useRef(null),O=Nv().direction;zv(A,o),Fg(A,{onMoveShouldSetResponder:u,onMoveShouldSetResponderCapture:c,onResponderEnd:l,onResponderGrant:d,onResponderMove:f,onResponderReject:p,onResponderRelease:h,onResponderStart:m,onResponderTerminate:v,onResponderTerminationRequest:g,onScrollShouldSetResponder:y,onScrollShouldSetResponderCapture:b,onSelectionChangeShouldSetResponder:w,onSelectionChangeShouldSetResponderCapture:k,onStartShouldSetResponder:x,onStartShouldSetResponderCapture:_});var R=e.useCallback((function(e){null!=a?a(e):null!=s&&(e.stopPropagation(),s(e))}),[a,s]),I=C?"span":"div",N=null!=t.lang?Rv(t.lang):null,P=t.dir||N,M=P||O,L=function(e){return Uv(e,Mw)}(E);if(L.dir=P,C||(L.dir=null!=P?P:"auto"),(a||s)&&(L.onClick=R),L.style=[null!=i&&i>1&&{WebkitLineClamp:i},!0===C?Fw.textHasAncestor$raw:Fw.text$raw,1===i&&Fw.textOneLine,null!=i&&i>1&&Fw.textMultiLine,t.style,!0===S&&Fw.selectable,!1===S&&Fw.notSelectable,s&&Fw.pressable],null!=t.href&&(I="a",null!=r)){var D=r.download,F=r.rel,B=r.target;null!=D&&(L.download=D),null!=F&&(L.rel=F),"string"===typeof B&&(L.target="_"!==B.charAt(0)?"_"+B:B)}var j=qv(A,Qv(L),n);L.ref=j;var Z=Pv(I,L,{writingDirection:M});return C?Z:e.createElement(zg.Provider,{value:!0},Z)}));Lw.displayName="Text";var Dw={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,textAlign:"inherit",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},Fw=mv.create({text$raw:Dw,textHasAncestor$raw:X(X({},Dw),{},{color:"inherit",font:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}}),Bw=nw(Lw,{collapsable:!1}),jw=nw(Xg,{collapsable:!0}),Zw=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e,r){var i;return(0,gn.Z)(this,n),(i=t.call(this))._a="number"===typeof e?new Ub(e):e,i._b="number"===typeof r?new Ub(r):r,i}return(0,yn.Z)(n,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),(0,nb.Z)((0,rb.Z)(n.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()+this._b.__getValue()}},{key:"interpolate",value:function(e){return new jb(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),(0,nb.Z)((0,rb.Z)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"addition",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),n}(Nb),Vw=Zw,Uw=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e,r,i){var a;return(0,gn.Z)(this,n),(a=t.call(this))._a=e,a._min=r,a._max=i,a._value=a._lastValue=a._a.__getValue(),a}return(0,yn.Z)(n,[{key:"__makeNative",value:function(){this._a.__makeNative(),(0,nb.Z)((0,rb.Z)(n.prototype),"__makeNative",this).call(this)}},{key:"interpolate",value:function(e){return new jb(this,e)}},{key:"__getValue",value:function(){var e=this._a.__getValue(),t=e-this._lastValue;return this._lastValue=e,this._value=Math.min(Math.max(this._value+t,this._min),this._max),this._value}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),(0,nb.Z)((0,rb.Z)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"diffclamp",input:this._a.__getNativeTag(),min:this._min,max:this._max}}}]),n}(Nb),Ww=Uw,Hw=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e,r){var i;return(0,gn.Z)(this,n),(i=t.call(this))._warnedAboutDivideByZero=!1,(0===r||r instanceof Rb&&0===r.__getValue())&&console.error("Detected potential division by zero in AnimatedDivision"),i._a="number"===typeof e?new Ub(e):e,i._b="number"===typeof r?new Ub(r):r,i}return(0,yn.Z)(n,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),(0,nb.Z)((0,rb.Z)(n.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){var e=this._a.__getValue(),t=this._b.__getValue();return 0===t?(this._warnedAboutDivideByZero||(console.error("Detected division by zero in AnimatedDivision"),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,e/t)}},{key:"interpolate",value:function(e){return new jb(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),(0,nb.Z)((0,rb.Z)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"division",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),n}(Nb),zw=Hw,Gw=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e,r){var i;return(0,gn.Z)(this,n),(i=t.call(this))._a=e,i._modulus=r,i}return(0,yn.Z)(n,[{key:"__makeNative",value:function(){this._a.__makeNative(),(0,nb.Z)((0,rb.Z)(n.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}},{key:"interpolate",value:function(e){return new jb(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),(0,nb.Z)((0,rb.Z)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"modulus",input:this._a.__getNativeTag(),modulus:this._modulus}}}]),n}(Nb),qw=Gw,Kw=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e,r){var i;return(0,gn.Z)(this,n),(i=t.call(this))._a="number"===typeof e?new Ub(e):e,i._b="number"===typeof r?new Ub(r):r,i}return(0,yn.Z)(n,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),(0,nb.Z)((0,rb.Z)(n.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()*this._b.__getValue()}},{key:"interpolate",value:function(e){return new jb(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),(0,nb.Z)((0,rb.Z)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"multiplication",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),n}(Nb),Yw=Kw,Xw=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e,r){var i;return(0,gn.Z)(this,n),(i=t.call(this))._a="number"===typeof e?new Ub(e):e,i._b="number"===typeof r?new Ub(r):r,i}return(0,yn.Z)(n,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),(0,nb.Z)((0,rb.Z)(n.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()-this._b.__getValue()}},{key:"interpolate",value:function(e){return new jb(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),(0,nb.Z)((0,rb.Z)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"subtraction",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),n}(Nb),Qw=Xw,Jw=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e,r,i,a,o){var s;return(0,gn.Z)(this,n),(s=t.call(this))._value=e,s._parent=r,s._animationClass=i,s._animationConfig=a,s._useNativeDriver=Eb(a),s._callback=o,s.__attach(),s}return(0,yn.Z)(n,[{key:"__makeNative",value:function(){this.__isNative=!0,this._parent.__makeNative(),(0,nb.Z)((0,rb.Z)(n.prototype),"__makeNative",this).call(this),this._value.__makeNative()}},{key:"__getValue",value:function(){return this._parent.__getValue()}},{key:"__attach",value:function(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}},{key:"__detach",value:function(){this._parent.__removeChild(this),(0,nb.Z)((0,rb.Z)(n.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._value.animate(new this._animationClass(X(X({},this._animationConfig),{},{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}},{key:"__getNativeConfig",value:function(){var e=new this._animationClass(X(X({},this._animationConfig),{},{toValue:void 0})).__getNativeAnimationConfig();return{type:"tracking",animationId:_b(),animationConfig:e,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}}]),n}(Rb),$w=Jw,ek=1,tk=function(e){(0,pc.Z)(n,e);var t=(0,hc.Z)(n);function n(e){var r;(0,gn.Z)(this,n),r=t.call(this);var i=e||{x:0,y:0};return"number"===typeof i.x&&"number"===typeof i.y?(r.x=new Ub(i.x),r.y=new Ub(i.y)):(zp()(i.x instanceof Ub&&i.y instanceof Ub,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),r.x=i.x,r.y=i.y),r._listeners={},r}return(0,yn.Z)(n,[{key:"setValue",value:function(e){this.x.setValue(e.x),this.y.setValue(e.y)}},{key:"setOffset",value:function(e){this.x.setOffset(e.x),this.y.setOffset(e.y)}},{key:"flattenOffset",value:function(){this.x.flattenOffset(),this.y.flattenOffset()}},{key:"extractOffset",value:function(){this.x.extractOffset(),this.y.extractOffset()}},{key:"__getValue",value:function(){return{x:this.x.__getValue(),y:this.y.__getValue()}}},{key:"resetAnimation",value:function(e){this.x.resetAnimation(),this.y.resetAnimation(),e&&e(this.__getValue())}},{key:"stopAnimation",value:function(e){this.x.stopAnimation(),this.y.stopAnimation(),e&&e(this.__getValue())}},{key:"addListener",value:function(e){var t=this,n=String(ek++),r=function(n){n.value;e(t.__getValue())};return this._listeners[n]={x:this.x.addListener(r),y:this.y.addListener(r)},n}},{key:"removeListener",value:function(e){this.x.removeListener(this._listeners[e].x),this.y.removeListener(this._listeners[e].y),delete this._listeners[e]}},{key:"removeAllListeners",value:function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}},{key:"getLayout",value:function(){return{left:this.x,top:this.y}}},{key:"getTranslateTransform",value:function(){return[{translateX:this.x},{translateY:this.y}]}}]),n}(Nb),nk=tk,rk=1,ik=function(){function e(){(0,gn.Z)(this,e)}return(0,yn.Z)(e,[{key:"start",value:function(e,t,n,r,i){}},{key:"stop",value:function(){this.__nativeId&&Cb.API.stopAnimation(this.__nativeId)}},{key:"__getNativeAnimationConfig",value:function(){throw new Error("This animation type cannot be offloaded to native")}},{key:"__debouncedOnEnd",value:function(e){var t=this.__onEnd;this.__onEnd=null,t&&t(e)}},{key:"__startNativeAnimation",value:function(e){var t=rk+":startAnimation";rk+=1,Cb.API.setWaitingForIdentifier(t);try{e.__makeNative(),this.__nativeId=Cb.generateNewAnimationId(),Cb.API.startAnimatingNode(this.__nativeId,e.__getNativeTag(),this.__getNativeAnimationConfig(),this.__debouncedOnEnd.bind(this))}catch(n){throw n}finally{Cb.API.unsetWaitingForIdentifier(t)}}}]),e}(),ak=function(e){(0,pc.Z)(r,e);var t=(0,hc.Z)(r);function r(e){var n,i,a,o;return(0,gn.Z)(this,r),(n=t.call(this))._deceleration=null!==(i=e.deceleration)&&void 0!==i?i:.998,n._velocity=e.velocity,n._useNativeDriver=Eb(e),n.__isInteraction=null!==(a=e.isInteraction)&&void 0!==a?a:!n._useNativeDriver,n.__iterations=null!==(o=e.iterations)&&void 0!==o?o:1,n}return(0,yn.Z)(r,[{key:"__getNativeAnimationConfig",value:function(){return{type:"decay",deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}},{key:"start",value:function(e,t,n,r,i){this.__active=!0,this._lastValue=e,this._fromValue=e,this._onUpdate=t,this.__onEnd=n,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(i):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}},{key:"onUpdate",value:function(){var e=Date.now(),t=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(e-this._startTime)));this._onUpdate(t),Math.abs(this._lastValue-t)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=t,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}},{key:"stop",value:function(){(0,nb.Z)((0,rb.Z)(r.prototype),"stop",this).call(this),this.__active=!1,n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),r}(ik),ok=ak;function sk(e){return 3.62*(e-30)+194}function uk(e){return 3*(e-8)+25}var ck,lk={fromOrigamiTensionAndFriction:function(e,t){return{stiffness:sk(e),damping:uk(t)}},fromBouncinessAndSpeed:function(e,t){function n(e,t,n){return(e-t)/(n-t)}function r(e,t,n){return t+e*(n-t)}var i=n(e/1.7,0,20);i=r(i,0,.8);var a,o,s=r(n(t/1.7,0,20),.5,200),u=(a=i,o=function(e){return e<=18?(t=e,7e-4*Math.pow(t,3)-.031*Math.pow(t,2)+.64*t+1.28):e>18&&e<=44?function(e){return 44e-6*Math.pow(e,3)-.006*Math.pow(e,2)+.36*e+2}(e):function(e){return 45e-8*Math.pow(e,3)-332e-6*Math.pow(e,2)+.1078*e+5.84}(e);var t}(s),function(e,t,n){return e*n+(1-e)*t}(2*a-a*a,o,.01));return{stiffness:sk(s),damping:uk(u)}}},dk=function(e){(0,pc.Z)(r,e);var t=(0,hc.Z)(r);function r(e){var n,i,a,o,s,u,c,l,d,f,p,h;if((0,gn.Z)(this,r),(n=t.call(this))._overshootClamping=null!==(i=e.overshootClamping)&&void 0!==i&&i,n._restDisplacementThreshold=null!==(a=e.restDisplacementThreshold)&&void 0!==a?a:.001,n._restSpeedThreshold=null!==(o=e.restSpeedThreshold)&&void 0!==o?o:.001,n._initialVelocity=null!==(s=e.velocity)&&void 0!==s?s:0,n._lastVelocity=null!==(u=e.velocity)&&void 0!==u?u:0,n._toValue=e.toValue,n._delay=null!==(c=e.delay)&&void 0!==c?c:0,n._useNativeDriver=Eb(e),n.__isInteraction=null!==(l=e.isInteraction)&&void 0!==l?l:!n._useNativeDriver,n.__iterations=null!==(d=e.iterations)&&void 0!==d?d:1,void 0!==e.stiffness||void 0!==e.damping||void 0!==e.mass)zp()(void 0===e.bounciness&&void 0===e.speed&&void 0===e.tension&&void 0===e.friction,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one"),n._stiffness=null!==(f=e.stiffness)&&void 0!==f?f:100,n._damping=null!==(p=e.damping)&&void 0!==p?p:10,n._mass=null!==(h=e.mass)&&void 0!==h?h:1;else if(void 0!==e.bounciness||void 0!==e.speed){var m,v;zp()(void 0===e.tension&&void 0===e.friction&&void 0===e.stiffness&&void 0===e.damping&&void 0===e.mass,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one");var g=lk.fromBouncinessAndSpeed(null!==(m=e.bounciness)&&void 0!==m?m:8,null!==(v=e.speed)&&void 0!==v?v:12);n._stiffness=g.stiffness,n._damping=g.damping,n._mass=1}else{var y,b,w=lk.fromOrigamiTensionAndFriction(null!==(y=e.tension)&&void 0!==y?y:40,null!==(b=e.friction)&&void 0!==b?b:7);n._stiffness=w.stiffness,n._damping=w.damping,n._mass=1}return zp()(n._stiffness>0,"Stiffness value must be greater than 0"),zp()(n._damping>0,"Damping value must be greater than 0"),zp()(n._mass>0,"Mass value must be greater than 0"),n}return(0,yn.Z)(r,[{key:"__getNativeAnimationConfig",value:function(){var e;return{type:"spring",overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!==(e=this._initialVelocity)&&void 0!==e?e:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations}}},{key:"start",value:function(e,t,n,i,a){var o=this;if(this.__active=!0,this._startPosition=e,this._lastPosition=this._startPosition,this._onUpdate=t,this.__onEnd=n,this._lastTime=Date.now(),this._frameTime=0,i instanceof r){var s=i.getInternalState();this._lastPosition=s.lastPosition,this._lastVelocity=s.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=s.lastTime}var u=function(){o._useNativeDriver?o.__startNativeAnimation(a):o.onUpdate()};this._delay?this._timeout=setTimeout(u,this._delay):u()}},{key:"getInternalState",value:function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}},{key:"onUpdate",value:function(){var e=Date.now();e>this._lastTime+64&&(e=this._lastTime+64);var t=(e-this._lastTime)/1e3;this._frameTime+=t;var n=this._damping,r=this._mass,i=this._stiffness,a=-this._initialVelocity,o=n/(2*Math.sqrt(i*r)),s=Math.sqrt(i/r),u=s*Math.sqrt(1-o*o),c=this._toValue-this._startPosition,l=0,d=0,f=this._frameTime;if(o<1){var p=Math.exp(-o*s*f);l=this._toValue-p*((a+o*s*c)/u*Math.sin(u*f)+c*Math.cos(u*f)),d=o*s*p*(Math.sin(u*f)*(a+o*s*c)/u+c*Math.cos(u*f))-p*(Math.cos(u*f)*(a+o*s*c)-u*c*Math.sin(u*f))}else{var h=Math.exp(-s*f);l=this._toValue-h*(c+(a+s*c)*f),d=h*(a*(f*s-1)+f*c*(s*s))}if(this._lastTime=e,this._lastPosition=l,this._lastVelocity=d,this._onUpdate(l),this.__active){var m=!1;this._overshootClamping&&0!==this._stiffness&&(m=this._startPosition<this._toValue?l>this._toValue:l<this._toValue);var v=Math.abs(d)<=this._restSpeedThreshold,g=!0;if(0!==this._stiffness&&(g=Math.abs(this._toValue-l)<=this._restDisplacementThreshold),m||v&&g)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}},{key:"stop",value:function(){(0,nb.Z)((0,rb.Z)(r.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),r}(ik),fk=dk,pk=.1,hk="function"===typeof Float32Array;function mk(e,t){return 1-3*t+3*e}function vk(e,t){return 3*t-6*e}function gk(e){return 3*e}function yk(e,t,n){return((mk(t,n)*e+vk(t,n))*e+gk(t))*e}function bk(e,t,n){return 3*mk(t,n)*e*e+2*vk(t,n)*e+gk(t)}function wk(e,t,n,r){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var i=hk?new Float32Array(11):new Array(11);if(e!==t||n!==r)for(var a=0;a<11;++a)i[a]=yk(a*pk,e,n);function o(t){for(var r=0,a=1;10!==a&&i[a]<=t;++a)r+=pk;--a;var o=r+(t-i[a])/(i[a+1]-i[a])*pk,s=bk(o,e,n);return s>=.001?function(e,t,n,r){for(var i=t,a=0;a<4;++a){var o=bk(i,n,r);if(0===o)return i;i-=(yk(i,n,r)-e)/o}return i}(t,o,e,n):0===s?o:function(e,t,n,r,i){var a,o,s=0,u=t,c=n;do{(a=yk(o=u+(c-u)/2,r,i)-e)>0?c=o:u=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,r,r+pk,e,n)}return function(i){return e===t&&n===r?i:0===i?0:1===i?1:yk(o(i),t,r)}}var kk,xk=function(){function e(){(0,gn.Z)(this,e)}return(0,yn.Z)(e,null,[{key:"step0",value:function(e){return e>0?1:0}},{key:"step1",value:function(e){return e>=1?1:0}},{key:"linear",value:function(e){return e}},{key:"ease",value:function(t){return ck||(ck=e.bezier(.42,0,1,1)),ck(t)}},{key:"quad",value:function(e){return e*e}},{key:"cubic",value:function(e){return e*e*e}},{key:"poly",value:function(e){return function(t){return Math.pow(t,e)}}},{key:"sin",value:function(e){return 1-Math.cos(e*Math.PI/2)}},{key:"circle",value:function(e){return 1-Math.sqrt(1-e*e)}},{key:"exp",value:function(e){return Math.pow(2,10*(e-1))}},{key:"elastic",value:function(e){void 0===e&&(e=1);var t=e*Math.PI;return function(e){return 1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)}}},{key:"back",value:function(e){return void 0===e&&(e=1.70158),function(t){return t*t*((e+1)*t-e)}}},{key:"bounce",value:function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){var n=e-2.25/2.75;return 7.5625*n*n+.9375}var r=e-2.625/2.75;return 7.5625*r*r+.984375}},{key:"bezier",value:function(e,t,n,r){return wk(e,t,n,r)}},{key:"in",value:function(e){return e}},{key:"out",value:function(e){return function(t){return 1-e(1-t)}}},{key:"inOut",value:function(e){return function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2}}}]),e}();var _k=function(e){(0,pc.Z)(r,e);var t=(0,hc.Z)(r);function r(e){var n,i,a,o,s,u;return(0,gn.Z)(this,r),(n=t.call(this))._toValue=e.toValue,n._easing=null!==(i=e.easing)&&void 0!==i?i:(kk||(kk=xk.inOut(xk.ease)),kk),n._duration=null!==(a=e.duration)&&void 0!==a?a:500,n._delay=null!==(o=e.delay)&&void 0!==o?o:0,n.__iterations=null!==(s=e.iterations)&&void 0!==s?s:1,n._useNativeDriver=Eb(e),n.__isInteraction=null!==(u=e.isInteraction)&&void 0!==u?u:!n._useNativeDriver,n}return(0,yn.Z)(r,[{key:"__getNativeAnimationConfig",value:function(){for(var e=[],t=Math.round(this._duration/(1e3/60)),n=0;n<t;n++)e.push(this._easing(n/t));return e.push(this._easing(1)),{type:"frames",frames:e,toValue:this._toValue,iterations:this.__iterations}}},{key:"start",value:function(e,t,n,r,i){var a=this;this.__active=!0,this._fromValue=e,this._onUpdate=t,this.__onEnd=n;var o=function(){0!==a._duration||a._useNativeDriver?(a._startTime=Date.now(),a._useNativeDriver?a.__startNativeAnimation(i):a._animationFrame=requestAnimationFrame(a.onUpdate.bind(a))):(a._onUpdate(a._toValue),a.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(o,this._delay):o()}},{key:"onUpdate",value:function(){var e=Date.now();if(e>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((e-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}},{key:"stop",value:function(){(0,nb.Z)((0,rb.Z)(r.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),r}(ik),Sk=_k,Ek=function(e,t){return e&&t.onComplete?function(){t.onComplete&&t.onComplete.apply(t,arguments),e&&e.apply(void 0,arguments)}:e||t.onComplete},Ck=function(e,t,n){if(e instanceof nk){var r=X({},t),i=X({},t);for(var a in t){var o=t[a],s=o.x,u=o.y;void 0!==s&&void 0!==u&&(r[a]=s,i[a]=u)}var c=n(e.x,r),l=n(e.y,i);return Ok([c,l],{stopTogether:!1})}return null},Tk=function e(t,n){var r=function(e,t,n){n=Ek(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof Rb?r.track(new $w(r,t.toValue,Sk,i,n)):r.animate(new Sk(i),n)};return Ck(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=X(X({},n),{},{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},Ak=function(e){var t=0;return{start:function(n){0===e.length?n&&n({finished:!0}):e[t].start((function r(i){i.finished&&++t!==e.length?e[t].start(r):n&&n(i)}))},stop:function(){t<e.length&&e[t].stop()},reset:function(){e.forEach((function(e,n){n<=t&&e.reset()})),t=0},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.sequence animations")},_isUsingNativeDriver:function(){return!1}}},Ok=function(e,t){var n=0,r={},i=!(t&&!1===t.stopTogether),a={start:function(t){n!==e.length?e.forEach((function(o,s){var u=function(o){if(r[s]=!0,++n===e.length)return n=0,void(t&&t(o));!o.finished&&i&&a.stop()};o?o.start(u):u({finished:!0})})):t&&t({finished:!0})},stop:function(){e.forEach((function(e,t){!r[t]&&e.stop(),r[t]=!0}))},reset:function(){e.forEach((function(e,t){e.reset(),r[t]=!1,n=0}))},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.parallel animations")},_isUsingNativeDriver:function(){return!1}};return a},Rk=function(e){return Tk(new Ub(0),{toValue:0,delay:e,duration:0,useNativeDriver:!1})};var Ik={Value:Ub,ValueXY:nk,Interpolation:jb,Node:Rb,decay:function e(t,n){var r=function(e,t,n){n=Ek(n,t);var r=e,i=t;r.stopTracking(),r.animate(new ok(i),n)};return Ck(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=X(X({},n),{},{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},timing:Tk,spring:function e(t,n){var r=function(e,t,n){n=Ek(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof Rb?r.track(new $w(r,t.toValue,fk,i,n)):r.animate(new fk(i),n)};return Ck(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=X(X({},n),{},{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},add:function(e,t){return new Vw(e,t)},subtract:function(e,t){return new Qw(e,t)},divide:function(e,t){return new zw(e,t)},multiply:function(e,t){return new Yw(e,t)},modulo:function(e,t){return new qw(e,t)},diffClamp:function(e,t,n){return new Ww(e,t,n)},delay:Rk,sequence:Ak,parallel:Ok,stagger:function(e,t){return Ok(t.map((function(t,n){return Ak([Rk(e*n),t])})))},loop:function(e,t){var n=void 0===t?{}:t,r=n.iterations,i=void 0===r?-1:r,a=n.resetBeforeIteration,o=void 0===a||a,s=!1,u=0;return{start:function(t){e&&0!==i?e._isUsingNativeDriver()?e._startNativeLoop(i):function n(r){void 0===r&&(r={finished:!0}),s||u===i||!1===r.finished?t&&t(r):(u++,o&&e.reset(),e.start(n))}():t&&t({finished:!0})},stop:function(){s=!0,e.stop()},reset:function(){u=0,s=!1,e.reset()},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.loop animations")},_isUsingNativeDriver:function(){return e._isUsingNativeDriver()}}},event:function(e,t){var n=new Hb(e,t);return n.__isNative?n:n.__getHandler()},createAnimatedComponent:nw,attachNativeEvent:Wb,forkEvent:function(e,t){return e?e instanceof Hb?(e.__addListener(t),e):function(){"function"===typeof e&&e.apply(void 0,arguments),t.apply(void 0,arguments)}:t},unforkEvent:function(e,t){e&&e instanceof Hb&&e.__removeListener(t)},Event:Hb,__PropsOnlyForTests:Qb},Nk={start:function(){},stop:function(){},reset:function(){},_startNativeLoop:function(){},_isUsingNativeDriver:function(){return!1}},Pk={Value:Ub,ValueXY:nk,Interpolation:jb,Node:Rb,decay:function(e,t){return Nk},timing:function(e,t){var n=e;return X(X({},Nk),{},{start:function(e){n.setValue(t.toValue),e&&e({finished:!0})}})},spring:function(e,t){var n=e;return X(X({},Nk),{},{start:function(e){n.setValue(t.toValue),e&&e({finished:!0})}})},add:Ik.add,subtract:Ik.subtract,divide:Ik.divide,multiply:Ik.multiply,modulo:Ik.modulo,diffClamp:Ik.diffClamp,delay:function(e){return Nk},sequence:function(e){return Nk},parallel:function(e,t){return Nk},stagger:function(e,t){return Nk},loop:function(e,t){(void 0===t?{}:t).iterations;return Nk},event:function(e,t){return null},createAnimatedComponent:nw,attachNativeEvent:Wb,forkEvent:Ik.forkEvent,unforkEvent:Ik.unforkEvent,Event:Hb,__PropsOnlyForTests:Qb},Mk=X({FlatList:rw,Image:_w,ScrollView:Sw,SectionList:Nw,Text:Bw,View:jw},Wp.isTesting?Pk:Ik);var Lk=325,Dk=fw.get(),Fk=function(){},Bk=function(){function e(t){(0,gn.Z)(this,e),this._listeners=[],this._min=t.min,this._max=t.max,this._onMomentumEnd=Fk,this._onUpdateListener=Fk}return(0,yn.Z)(e,[{key:"_updateValue",value:function(){if(this._active){var e=Date.now()-this._startTime,t=-this._velocity/this._friction*Math.exp(-e/Lk);if(null==this._toValue&&Math.abs(t)<.5)this.stop();else{var n=t<0;null!=this._toValue&&(t=n?Math.min(t,-.5):Math.max(t,.5));var r=n&&null!=this._toValue?this._toValue:this._min,i=n?this._max:null!=this._toValue?this._toValue:this._max;this._fromValue=Up()(this._fromValue+t,r,i),this._onUpdateListener(this._fromValue),this._fromValue!==this._toValue&&this._fromValue!==this._min&&this._fromValue!==this._max?this._animationFrame=requestAnimationFrame(this._updateValue.bind(this)):this.stop()}}}},{key:"setMax",value:function(e){this._max=e}},{key:"setMin",value:function(e){this._min=e}},{key:"start",value:function(e){this._active=!0,this._startTime=Date.now(),this._toValue=e.toValue,this._fromValue=e.fromValue,this._friction=Up()(e.friction,0,1),this._velocity=e.velocity*Dk*10,this._onMomentumEnd=e.onMomentumEnd||Fk,this._animationFrame=requestAnimationFrame(this._updateValue.bind(this)),this._interactionHandler=Qp.createInteractionHandle()}},{key:"stop",value:function(){this._active&&(this._active=!1,this._onMomentumEnd(this._fromValue)),this._interactionHandler&&Qp.clearInteractionHandle(this._interactionHandler),cancelAnimationFrame(this._animationFrame)}},{key:"onUpdate",value:function(e){var t=this;return this._onUpdateListener=e,{remove:function(){t._onUpdateListener=Fk,t.stop()}}}},{key:"predictNextPosition",value:function(e){var t=e.fromValue,n=e.velocity,r=e.friction,i=n*Dk*10,a=Array.from({length:60}).reduce((function(e,t,n){return e+-i/r*Math.exp(-16.67*n/Lk)}),t);return Up()(a,this._min,this._max)}}]),e}(),jk=function(){};function Zk(){return null}Zk.setBackgroundColor=jk,Zk.setBarStyle=jk,Zk.setHidden=jk,Zk.setNetworkActivityIndicatorVisible=jk,Zk.setTranslucent=jk;var Vk=Zk;var Uk=function(e){var t=Wg(e);return new Promise((function(e){wh.measureInWindow(t,(function(t,n,r,i){e({x:t,y:n,width:r,height:i})}))}))},Wk=mv.create({backdrop:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"#000"},animatedContainer:{position:"absolute",left:0,right:0}}),Hk=Wp.select({android:"keyboardDidShow",ios:"keyboardWillShow"}),zk=Wp.select({android:"keyboardDidHide",ios:"keyboardWillHide"}),Gk=py.get("window").height-(Vk.currentHeight||0),qk=function(t){(0,pc.Z)(i,t);var n=(0,hc.Z)(i);function i(e){var t;(0,gn.Z)(this,i),(t=n.call(this,e))._panResponder=ch.create({onMoveShouldSetPanResponder:t._onMoveShouldSetPanResponder.bind((0,A.Z)(t)),onPanResponderGrant:t._onPanResponderGrant.bind((0,A.Z)(t)),onPanResponderMove:t._onPanResponderMove.bind((0,A.Z)(t)),onPanResponderRelease:t._onPanResponderRelease.bind((0,A.Z)(t)),onPanResponderTerminate:t._onPanResponderTerminate.bind((0,A.Z)(t)),onShouldBlockNativeResponder:function(){return!0},onPanResponderTerminationRequest:function(){return!1}}),t._keyboardShowListener=_h.addListener(Hk,t._onKeyboardShown.bind((0,A.Z)(t))),t._keyboardHideListener=_h.addListener(zk,t._onKeyboardHiden.bind((0,A.Z)(t))),t._backButtonListener=Eh.addEventListener("hardwareBackPress",t._onBackButtonPress.bind((0,A.Z)(t))),t._storeKeyboardPosition=t._storeKeyboardPosition.bind((0,A.Z)(t)),t._isInsideDraggableRange=t._isInsideDraggableRange.bind((0,A.Z)(t)),t._triggerAnimation=t._triggerAnimation.bind((0,A.Z)(t)),t._renderContent=t._renderContent.bind((0,A.Z)(t)),t._renderBackdrop=t._renderBackdrop.bind((0,A.Z)(t)),t.show=t.show.bind((0,A.Z)(t)),t.hide=t.hide.bind((0,A.Z)(t)),t.scrollIntoView=t.scrollIntoView.bind((0,A.Z)(t));var r=t.props.draggableRange,a=r.top,o=r.bottom,s=t.props.animatedValue.__getValue(),u=Up()(s,o,a);return t.props.animatedValue.setValue(u),t._initialDragPosition=u,t._backdropPointerEvents=t._isAtBottom(u)?"none":"box-only",t._flick=new Bk({max:a,min:o}),t._flickAnimationListener=t._flick.onUpdate((function(e){t.props.animatedValue.setValue(e)})),t._animatedValueListener=t.props.animatedValue.addListener(t._onAnimatedValueChange.bind((0,A.Z)(t))),t}return(0,yn.Z)(i,[{key:"componentDidUpdate",value:function(e){if(e.draggableRange.top!==this.props.draggableRange.top||e.draggableRange.bottom!==this.props.draggableRange.bottom){var t=this.props.draggableRange,n=t.top,r=t.bottom,i=this.props.animatedValue.__getValue();if(this._flick.setMax(n),this._flick.setMin(r),i<r||i>n){var a=Up()(i,r,n);this.props.animatedValue.setValue(a)}}}},{key:"componentWillUnmount",value:function(){null!=this._animatedValueListener&&this.props.animatedValue.removeListener(this._animatedValueListener),null!=this._keyboardShowListener&&this._keyboardShowListener.remove(),null!=this._keyboardHideListener&&this._keyboardHideListener.remove(),null!=this._flickAnimationListener&&this._flickAnimationListener.remove(),null!=this._backButtonListener&&this._backButtonListener.remove()}},{key:"_onMoveShouldSetPanResponder",value:function(e,t){if(!this.props.allowDragging)return!1;var n=this.props.animatedValue.__getValue();return this._isInsideDraggableRange(n,t)&&Math.abs(t.dy)>this.props.minimumDistanceThreshold}},{key:"_onPanResponderGrant",value:function(e,t){this._flick.stop();var n=this.props.animatedValue.__getValue();this._initialDragPosition=n,this.props.onDragStart(n,t)}},{key:"_onPanResponderMove",value:function(e,t){var n=this.props.draggableRange,r=n.top,i=n.bottom,a=this._initialDragPosition-t.dy,o=Up()(a,r,i);this.props.animatedValue.setValue(o)}},{key:"_onPanResponderRelease",value:function(e,t){var n=this.props.animatedValue.__getValue();if(!this._isInsideDraggableRange(n,t))return!0;if(this._initialDragPosition=n,this.props.onDragEnd(n,t),!this.props.allowMomentum)return!0;if(this.props.snappingPoints.length>0){this.props.onMomentumDragStart(n);var r=this.props.draggableRange,i=r.top,a=r.bottom,o=function(e,t){for(var n,r,i,a=1/0,o=0,s=t.length-1;o<=s&&((i=t[n=o+(s-o>>1)]-e)<0?o=n+1:i>0&&(s=n-1),(i=Math.abs(i))<a&&(a=i,r=n),t[n]!==e););return t[r]}(this._flick.predictNextPosition({fromValue:n,velocity:t.vy,friction:this.props.friction}),[a].concat((0,C.Z)(this.props.snappingPoints),[i])),s=(n-o)/Lk;return this._flick.start({velocity:s,toValue:o,fromValue:n,friction:this.props.friction,onMomentumEnd:this.props.onMomentumDragEnd}),!0}return Math.abs(t.vy)>this.props.minimumVelocityThreshold&&(this.props.onMomentumDragStart(n),this._flick.start({velocity:t.vy,fromValue:n,friction:this.props.friction,onMomentumEnd:this.props.onMomentumDragEnd})),!0}},{key:"_onPanResponderTerminate",value:function(e,t){var n=this.props.animatedValue.__getValue();this._isInsideDraggableRange(n,t)&&(this._initialDragPosition=n,this.props.onDragEnd(n,t))}},{key:"_onAnimatedValueChange",value:function(e){var t=e.value,n=this._isAtBottom(t);n&&(this.props.onBottomReached(),this.props.avoidKeyboard&&_h.dismiss()),null!=this._backdrop&&(n&&"box-only"===this._backdropPointerEvents&&(this._backdropPointerEvents="none",this._backdrop.setNativeProps({pointerEvents:"none"})),n||"none"!==this._backdropPointerEvents||(this._backdropPointerEvents="box-only",this._backdrop.setNativeProps({pointerEvents:"box-only"})))}},{key:"_onKeyboardShown",value:function(e){var t=this;if(this.props.avoidKeyboard){this._storeKeyboardPosition(e.endCoordinates.screenY);var n=Ug.State.currentlyFocusedInput?Wg(Ug.State.currentlyFocusedInput()):Ug.State.currentlyFocusedField();null!=n&&wh.viewIsDescendantOf(n,Wg(this._content),(function(e){e&&t.scrollIntoView(n)}))}}},{key:"_onKeyboardHiden",value:function(){this._storeKeyboardPosition(0);var e=this.props.animatedValue.__getValue();null==this._lastPosition||this._isAtBottom(e)||Mk.timing(this.props.animatedValue,{toValue:this._lastPosition,duration:160,useNativeDriver:!0}).start(),this._lastPosition=null}},{key:"_onBackButtonPress",value:function(){if(this.props.onBackButtonPress)return this.props.onBackButtonPress();var e=this.props.animatedValue.__getValue();return!this._isAtBottom(e)&&(this.hide(),!0)}},{key:"_isInsideDraggableRange",value:function(e,t){var n=this.props.draggableRange,r=n.top,i=n.bottom;return t.dy>0?e>=i:e<=r}},{key:"_isAtBottom",value:function(e){return e<=this.props.draggableRange.bottom}},{key:"_storeKeyboardPosition",value:function(e){this._keyboardYPosition=e}},{key:"_triggerAnimation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props.animatedValue.__getValue(),n=t-e.toValue,r=e.velocity||n/Lk;this._flick.start({velocity:r,toValue:e.toValue,fromValue:t,friction:this.props.friction})}},{key:"_renderBackdrop",value:function(){var t=this;if(!this.props.showBackdrop)return null;var n=this.props.draggableRange,r=n.top,i=n.bottom,a=this.props.backdropStyle,o=this.props.animatedValue.interpolate({inputRange:[i,r],outputRange:[0,this.props.backdropOpacity],extrapolate:"clamp"});return e.createElement(Mk.View,{key:"backdrop",pointerEvents:this._backdropPointerEvents,ref:function(e){return t._backdrop=e},onTouchStart:function(){return t._flick.stop()},onTouchEnd:function(){return t.hide()},style:[Wk.backdrop,a,{opacity:o}]})}},{key:"_renderContent",value:function(){var t=this,n=this.props,i=n.height,a=n.draggableRange,o=a.top,s=a.bottom,u=n.containerStyle,c={transform:[{translateY:this.props.animatedValue.interpolate({inputRange:[s,o],outputRange:[-s,-o],extrapolate:"clamp"})}]},l=[Wk.animatedContainer,c,u,{height:i,bottom:-i}];return"function"===typeof this.props.children?e.createElement(Mk.View,{key:"content",pointerEvents:"box-none",ref:function(e){return t._content=e},style:l},this.props.children(this._panResponder.panHandlers)):e.createElement(Mk.View,(0,r.Z)({key:"content",pointerEvents:"box-none",ref:function(e){return t._content=e},style:l},this._panResponder.panHandlers),this.props.children)}},{key:"render",value:function(){return[this._renderBackdrop(),this._renderContent()]}},{key:"show",value:function(e){if(!e){var t=this.props.draggableRange.top;return this._triggerAnimation({toValue:t})}return"object"===(0,ri.Z)(e)?this._triggerAnimation(e):this._triggerAnimation({toValue:e})}},{key:"hide",value:function(){var e=this.props.draggableRange.bottom;this._triggerAnimation({toValue:e})}},{key:"scrollIntoView",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a,o,s,u,c=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},this._keyboardYPosition){e.next=3;break}return e.abrupt("return");case 3:return this._flick.stop(),e.next=6,Uk(t);case 6:r=e.sent,i=r.y,a=n.keyboardExtraMargin||75,o=this._keyboardYPosition-a,i>o&&(this._lastPosition=this.props.animatedValue.__getValue(),s=i-o,u=this._lastPosition+s,Mk.timing(this.props.animatedValue,{toValue:u,duration:160,useNativeDriver:!0}).start());case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),i}(e.PureComponent);qk.defaultProps={height:Gk,animatedValue:new Mk.Value(0),draggableRange:{top:Gk,bottom:0},snappingPoints:[],minimumVelocityThreshold:.1,minimumDistanceThreshold:.24,avoidKeyboard:!0,onBackButtonPress:null,onDragStart:function(){},onDragEnd:function(){},onMomentumDragStart:function(){},onMomentumDragEnd:function(){},allowMomentum:!0,allowDragging:!0,showBackdrop:!0,backdropOpacity:.75,friction:.998,onBottomReached:function(){return null}};var Kk=qk,Yk=e.forwardRef((function(t,n){var i=t.autoFocus,a=t.checked,o=t.checkedIcon,s=t.classes,u=t.className,c=t.defaultChecked,l=t.disabled,d=t.icon,f=t.id,m=t.inputProps,v=t.inputRef,g=t.name,y=t.onBlur,b=t.onChange,w=t.onFocus,k=t.readOnly,x=t.required,_=t.tabIndex,S=t.type,E=t.value,C=(0,p.Z)(t,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),T=(0,Ri.Z)({controlled:a,default:Boolean(c),name:"SwitchBase",state:"checked"}),A=(0,G.Z)(T,2),O=A[0],R=A[1],I=Li(),N=l;I&&"undefined"===typeof N&&(N=I.disabled);var P="checkbox"===S||"radio"===S;return e.createElement(_u,(0,r.Z)({component:"span",className:(0,h.Z)(s.root,u,O&&s.checked,N&&s.disabled),disabled:N,tabIndex:null,role:void 0,onFocus:function(e){w&&w(e),I&&I.onFocus&&I.onFocus(e)},onBlur:function(e){y&&y(e),I&&I.onBlur&&I.onBlur(e)},ref:n},C),e.createElement("input",(0,r.Z)({autoFocus:i,checked:a,defaultChecked:c,className:s.input,disabled:N,id:P&&f,name:g,onChange:function(e){var t=e.target.checked;R(t),b&&b(e,t)},readOnly:k,ref:v,required:x,tabIndex:_,type:S,value:E},m)),O?o:d)})),Xk=(0,i.Z)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(Yk),Qk=(0,Di.Z)(e.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Jk=(0,Di.Z)(e.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),$k=(0,Di.Z)(e.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),ex=e.createElement(Jk,null),tx=e.createElement(Qk,null),nx=e.createElement($k,null),rx=e.forwardRef((function(t,n){var i=t.checkedIcon,a=void 0===i?ex:i,o=t.classes,s=t.color,u=void 0===s?"secondary":s,c=t.icon,l=void 0===c?tx:c,d=t.indeterminate,f=void 0!==d&&d,m=t.indeterminateIcon,v=void 0===m?nx:m,g=t.inputProps,y=t.size,b=void 0===y?"medium":y,w=(0,p.Z)(t,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),k=f?v:l,x=f?v:a;return e.createElement(Xk,(0,r.Z)({type:"checkbox",classes:{root:(0,h.Z)(o.root,o["color".concat((0,W.Z)(u))],f&&o.indeterminate),checked:o.checked,disabled:o.disabled},color:u,inputProps:(0,r.Z)({"data-indeterminate":f},g),icon:e.cloneElement(k,{fontSize:void 0===k.props.fontSize&&"small"===b?b:k.props.fontSize}),checkedIcon:e.cloneElement(x,{fontSize:void 0===x.props.fontSize&&"small"===b?b:x.props.fontSize}),ref:n},w))})),ix=(0,i.Z)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,x.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,x.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(rx);function ax(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.75 13.75L6.5 19L5 17.5L10 12.5L5 7.5L6.5 6L11.75 11.25L17 6L18.5 7.5L13.5 12.5L18.5 17.5L17 19L11.75 13.75Z",fill:"#E94E32"}))}function ox(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("path",{d:"M15.5 8L17 9.5 10.5 16 7 12.5 8.5 11l2 2z",fill:"currentColor"}))}function sx(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z",fill:"#CBCFD5"}))}var ux=[{outward:"AL1",town:"St Albans",county:"St Albans",coordinates:[51.747828,-.30186478]},{outward:"AL2",town:"St Albans, Bricket Wood, Colney Street, Frogmore, London Colney, Napsbury, Park Street, Potters Crouch, Chiswell Green",county:"St Albans",coordinates:[51.716299,-.28244635]},{outward:"AL3",town:"St Albans, Childwickbury, Flamstead, Gorhambury, Markyate, Porters Wood, Redbourn, Sandridge",county:"St Albans",coordinates:[51.740921,-.35425192]},{outward:"AL4",town:"St Albans, Colney Heath, London Colney, Jersey Farm, Marshalswick, Oaklands, Sandridge, Smallford, Tyttenhanger, Wheathampstead",county:"St Albans",coordinates:[51.740198,-.30585874]},{outward:"AL5",town:"Harpenden",county:"St Albans",coordinates:[51.81121,-.33501026]},{outward:"AL6",town:"Welwyn, Ayot St Peter, Ayot St Lawrence, Digswell, Rabley Heath, Tewin",county:"Welwyn Hatfield",coordinates:[51.81548,-.1790068]},{outward:"AL7",town:"Welwyn Garden City",county:"Welwyn Hatfield",coordinates:[51.804482,-.19589835]},{outward:"AL8",town:"Welwyn Garden City, Lemsford",county:"Welwyn Hatfield",coordinates:[51.802056,-.2071922]},{outward:"AL9",town:"Hatfield, Brookmans Park, Essendon, North Mymms",county:"Welwyn Hatfield",coordinates:[51.763895,-.21555893]},{outward:"AL10",town:"Hatfield",county:"Welwyn Hatfield",coordinates:[51.764308,-.22619409]},{outward:"BR1",town:"Bromley, Bickley, Downham",county:"Bromley",coordinates:[51.406271,.015176765]},{outward:"BR2",town:"Bickley, Hayes, Bromley Common, Shortlands",county:"Bromley",coordinates:[51.407775,-.0033205432]},{outward:"BR3",town:"Beckenham, Eden Park, Elmers End, Park Langley, Shortlands",county:"Bromley",coordinates:[51.407682,-.032384606]},{outward:"BR4",town:"West Wickham",county:"Bromley",coordinates:[51.380973,-.01161506]},{outward:"BR5",town:"Orpington, St Mary Cray, Petts Wood",county:"Bromley",coordinates:[51.38637,.064749625]},{outward:"BR6",town:"Orpington, Farnborough, Downe, Pratt's Bottom, Chelsfield, Well Hill",county:"Bromley",coordinates:[51.374644,.093074618]},{outward:"BR7",town:"Chislehurst, Elmstead",county:"Bromley",coordinates:[51.416174,.067703211]},{outward:"BR8",town:"Swanley",county:"Sevenoaks",coordinates:[51.395891,.17519484]},{outward:"BR98",town:"Non-geographic",county:"Bromley"},{outward:"CM0",town:"Southminster, Bradwell, Tillingham, Asheldham, Dengie, Burnham-on-Crouch, Tillingham",county:"Maldon",coordinates:[51.662523,.82912161]},{outward:"CM1",town:"Chelmsford, Writtle",county:"Chelmsford",coordinates:[51.737213,.47599066]},{outward:"CM2",town:"Chelmsford",county:"Chelmsford",coordinates:[51.728372,.46705003]},{outward:"CM3",town:"Hatfield Peverel, South Woodham Ferrers, Boreham, Maylandsea",county:"Chelmsford",coordinates:[51.785623,.46869429]},{outward:"CM4",town:"Blackmore, Fryerning, Ingatestone, Stock",county:"Brentwood",coordinates:[51.670158,.38267486]},{outward:"CM5",town:"Chipping Ongar, High Ongar, Bobbingworth, Moreton, The Lavers, The Rodings",county:"Epping Forest",coordinates:[51.710728,.24418956]},{outward:"CM6",town:"Great Dunmow, Felsted",county:"Uttlesford",coordinates:[51.872315,.36273828]},{outward:"CM7",town:"Braintree",county:"Braintree",coordinates:[51.876265,.56645693]},{outward:"CM8",town:"Witham",county:"Braintree",coordinates:[51.798703,.63901033]},{outward:"CM9",town:"Maldon, Tollesbury, Tolleshunt D'Arcy, Tolleshunt Knights",county:"Maldon",coordinates:[51.741545,.69003036]},{outward:"CM11",town:"Billericay (East), Great Burstead",county:"Basildon",coordinates:[51.634322,.42693975]},{outward:"CM12",town:"Billericay (West)",county:"Basildon",coordinates:[51.62913,.41923528]},{outward:"CM13",town:"Brentwood, East Horndon, Great Warley, Herongate, Hutton, Ingrave, Little Warley, West Horndon",county:"Brentwood",coordinates:[51.631749,.33343636]},{outward:"CM14",town:"Brentwood",county:"Brentwood",coordinates:[51.620306,.30359417]},{outward:"CM15",town:"Brentwood, Doddinghurst, Kelvedon Hatch, Mountnessing, Shenfield, Stondon Massey",county:"Brentwood",coordinates:[51.665971,.26946763]},{outward:"CM16",town:"Epping, Theydon Bois",county:"Epping Forest",coordinates:[51.700041,.11300739]},{outward:"CM17",town:"Harlow, Old Harlow, Matching, Matching Tye, Matching Green",county:"Harlow",coordinates:[51.783171,.13225829]},{outward:"CM18",town:"Harlow",county:"Harlow",coordinates:[51.764472,.10352242]},{outward:"CM19",town:"Harlow, Roydon",county:"Harlow",coordinates:[51.76786,.090012568]},{outward:"CM20",town:"Harlow",county:"Harlow",coordinates:[51.771747,.093946281]},{outward:"CM21",town:"Sawbridgeworth",county:"East Hertfordshire",coordinates:[51.803615,.13748744]},{outward:"CM22",town:"Bishop's Stortford, Sheering",county:"East Hertfordshire",coordinates:[51.924558,.24583864]},{outward:"CM23",town:"Bishop's Stortford",county:"East Hertfordshire",coordinates:[51.937084,.15152218]},{outward:"CM24",town:"Stansted Mountfitchet",county:"Uttlesford",coordinates:[51.880949,.21909359]},{outward:"CM77",town:"Braintree, Great Notley, Rayne",county:"Braintree",coordinates:[51.878201,.50801094]},{outward:"CM92",town:"Non-geographic",county:"Harlow",coordinates:[51.769357,.061253245]},{outward:"CM98",town:"Non-geographic",county:"Chelmsford",coordinates:[51.752184,.51884349]},{outward:"CM99",town:"Chelmsford",county:"Chelmsford",coordinates:[51.737213,.47599066]},{outward:"CR0",town:"Croydon, Addiscombe, Shirley, Addington, New Addington, Forestdale, Waddon",county:"Croydon",coordinates:[51.34034,-.0050608257]},{outward:"CR2",town:"South Croydon, Sanderstead, Selsdon, Addington",county:"Croydon",coordinates:[51.347927,-.089571656]},{outward:"CR3",town:"Caterham, Whyteleafe, Chaldon, Woldingham",county:"Croydon",coordinates:[51.307715,-.083207501]},{outward:"CR4",town:"Mitcham, Beddington Corner",county:"Merton",coordinates:[51.410383,-.14732096]},{outward:"CR5",town:"Coulsdon, Chipstead, Woodmansterne",county:"Croydon",coordinates:[51.313816,-.13634763]},{outward:"CR6",town:"Warlingham, Chelsham, Farleigh",county:"Croydon",coordinates:[51.279515,-.074000301]},{outward:"CR7",town:"Thornton Heath",county:"Croydon",coordinates:[51.394377,-.11579722]},{outward:"CR8",town:"Purley, Kenley",county:"Croydon",coordinates:[51.33853,-.11065113]},{outward:"CR9",town:"Non-geographic",county:"Croydon",coordinates:[51.333332,-.0038720438]},{outward:"CR44",town:"Non-geographic",county:"Croydon",coordinates:[51.382348,-.13287528]},{outward:"CR90",town:"Non-geographic",county:"Croydon",coordinates:[51.375716,-.091863492]},{outward:"DA1",town:"Dartford, Crayford, Barnes Cray",county:"Dartford",coordinates:[51.4445,.20975447]},{outward:"DA2",town:"Dartford, Stone, Joydens Wood, Wilmington, Bean",county:"Dartford",coordinates:[51.440489,.23960681]},{outward:"DA3",town:"Longfield, Hartley, Fawkham",county:"Dartford",coordinates:[51.387833,.30230399]},{outward:"DA4",town:"Dartford, South Darenth, Farningham, Eynsford",county:"Dartford",coordinates:[51.369373,.21346256]},{outward:"DA5",town:"Bexley, Albany Park, Joydens Wood",county:"Bexley",coordinates:[51.44178,.14999043]},{outward:"DA6",town:"Bexleyheath, Upton",county:"Bexley",coordinates:[51.450268,.13875986]},{outward:"DA7",town:"Bexleyheath, Barnehurst",county:"Bexley",coordinates:[51.463461,.13380512]},{outward:"DA8",town:"Erith, Northumberland Heath, Slade Green",county:"Bexley",coordinates:[51.482681,.17625485]},{outward:"DA9",town:"Greenhithe, Stone",county:"Dartford",coordinates:[51.44868,.27701077]},{outward:"DA10",town:"Swanscombe, Ebbsfleet",county:"Dartford",coordinates:[51.449983,.30832276]},{outward:"DA11",town:"Gravesend (west), Northfleet",county:"Gravesham",coordinates:[51.442728,.36772177]},{outward:"DA12",town:"Gravesend (east)",county:"Gravesham",coordinates:[51.441275,.37019371]},{outward:"DA13",town:"Meopham",county:"Gravesham",coordinates:[51.372255,.36245969]},{outward:"DA14",town:"Sidcup, Foots Cray, Albany Park, Longlands",county:"Bexley",coordinates:[51.426481,.10503758]},{outward:"DA15",town:"Sidcup, Blackfen, Longlands, Lamorbey, Avery Hill",county:"Bexley",coordinates:[51.43585,.10112309]},{outward:"DA16",town:"Welling, Falconwood, East Wickham",county:"Bexley",coordinates:[51.461392,.11002683]},{outward:"DA17",town:"Belvedere, Lessness Heath",county:"Bexley",coordinates:[51.49077,.14725277]},{outward:"DA18",town:"Erith Marshes, Thamesmead",county:"Bexley",coordinates:[51.496327,.14927162]},{outward:"E1",town:"Aldgate, Bishopsgate, Whitechapel, Shoreditch, Spitalfields, Shadwell, Stepney, Mile End, Portsoken",county:"Tower Hamlets",coordinates:[51.512497,-.05209791]},{outward:"E1W",town:"Wapping",county:"Tower Hamlets"},{outward:"E2",town:"Bethnal Green, Haggerston, Shoreditch, Cambridge Heath",county:"Tower Hamlets",coordinates:[51.526024,-.06691716]},{outward:"E3",town:"Bow, Bromley-by-Bow, Old Ford, Mile End, Three Mills, London Gas Museum",county:"Tower Hamlets",coordinates:[51.53023,-.028907296]},{outward:"E4",town:"Chingford, Sewardstone, Highams Park",county:"Waltham Forest",coordinates:[51.63325,.0081558303]},{outward:"E5",town:"Upper Clapton, Lower Clapton, Leyton, Stoke Newington",county:"Hackney",coordinates:[51.557186,-.049164802]},{outward:"E6",town:"East Ham, Beckton, Upton Park, Barking",county:"Newham",coordinates:[51.537563,.040293854]},{outward:"E7",town:"Forest Gate, Stratford",county:"Newham",coordinates:[51.554412,.019654969]},{outward:"E8",town:"Hackney Central, Dalston, London Fields",county:"Hackney",coordinates:[51.544454,-.062790254]},{outward:"E9",town:"Homerton, Hackney Wick, South Hackney, Hackney Marshes, Victoria Park",county:"Hackney",coordinates:[51.545421,-.04195212]},{outward:"E10",town:"Leyton, Temple Mills, Hackney Marshes, Upper Clapton, Walthamstow Marshes",county:"Hackney",coordinates:[51.573046,-.0088001352]},{outward:"E11",town:"Leytonstone, Wanstead, Aldersbrook, Snaresbrook, Cann Hall",county:"Waltham Forest",coordinates:[51.564032,.0087982145]},{outward:"E12",town:"Manor Park, Little Ilford, Aldersbrook",county:"Newham",coordinates:[51.551892,.046228846]},{outward:"E13",town:"Plaistow, West Ham, Upton Park",county:"Newham",coordinates:[51.529253,.023154858]},{outward:"E14",town:"Poplar, Isle of Dogs, Limehouse, Canary Wharf, Blackwall, Cubitt Town",county:"Tower Hamlets",coordinates:[51.509978,-.01501005]},{outward:"E15",town:"Stratford, West Ham, Maryland, Leyton, Leytonstone, Temple Mills, Hackney Wick, Bow",county:"Newham",coordinates:[51.54997,-.0034902478]},{outward:"E16",town:"Silvertown, North Woolwich, Canning Town, Custom House, London City Airport",county:"Newham",coordinates:[51.507713,.022805703]},{outward:"E17",town:"Walthamstow, Upper Walthamstow",county:"Waltham Forest",coordinates:[51.585503,-.018013658]},{outward:"E18",town:"Woodford, South Woodford",county:"Redbridge",coordinates:[51.591999,.026576978]},{outward:"E20",town:"Olympic Park, Stratford",county:"Newham",coordinates:[51.547915,-.0074312368]},{outward:"E77",town:"Non-geographic",county:"Tower Hamlets",coordinates:[51.513948,-.06912914]},{outward:"E98",town:"Non-geographic",county:"Tower Hamlets",coordinates:[51.508024,-.064393535]},{outward:"EC1A",town:"St Bartholomew's Hospital",county:"City of London",coordinates:[51.525136,-.11118274]},{outward:"EC1M",town:"Clerkenwell, Farringdon",county:"Islington",coordinates:[51.520368,-.10551336]},{outward:"EC1N",town:"Hatton Garden",county:"Camden",coordinates:[51.518252,-.11032888]},{outward:"EC1P",town:"Non-geographic",county:"London",coordinates:[51.524503,-.11208828]},{outward:"EC1R",town:"Finsbury, Finsbury Estate",county:"Islington",coordinates:[51.52326,-.10695019]},{outward:"EC1V",town:"Finsbury, Moorfields Eye Hospital",county:"Islington",coordinates:[51.523198,-.099802784]},{outward:"EC1Y",town:"St Luke's, Bunhill Fields",county:"Islington",coordinates:[51.523387,-.097027183]},{outward:"EC2A",town:"Shoreditch",county:"Hackney",coordinates:[51.520707,-.087596529]},{outward:"EC2M",town:"Broadgate, Liverpool Street",county:"City of London",coordinates:[51.516838,-.08473179]},{outward:"EC2N",town:"Old Broad Street, Tower 42",county:"City of London",coordinates:[51.514782,-.084918932]},{outward:"EC2P",town:"Non-geographic",county:"London",coordinates:[51.524503,-.11208828]},{outward:"EC2R",town:"Bank of England",county:"City of London",coordinates:[51.51727,-.090248429]},{outward:"EC2V",town:"Guildhall",county:"City of London",coordinates:[51.515373,-.092460886]},{outward:"EC2Y",town:"Barbican",county:"City of London",coordinates:[51.517346,-.096039438]},{outward:"EC3A",town:"St Mary Axe, Aldgate",county:"City of London",coordinates:[51.513299,-.081104267]},{outward:"EC3B",town:"City of London",county:"London"},{outward:"EC3M",town:"Leadenhall, Lloyd's of London, Fenchurch Street",county:"City of London",coordinates:[51.510603,-.085598604]},{outward:"EC3N",town:"Tower Hill, Tower of London",county:"Tower Hamlets",coordinates:[51.51406,-.076489152]},{outward:"EC3P",town:"Non-geographic",county:"London",coordinates:[51.524503,-.11208828]},{outward:"EC3R",town:"Monument, Billingsgate",county:"City of London",coordinates:[51.509998,-.082698506]},{outward:"EC3V",town:"Royal Exchange, Lombard Street",county:"City of London",coordinates:[51.51273,-.084269979]},{outward:"EC4A",town:"Fetter Lane",county:"City of London",coordinates:[51.517526,-.10828337]},{outward:"EC4M",town:"St Paul's",county:"City of London",coordinates:[51.512829,-.094757765]},{outward:"EC4N",town:"Mansion House",county:"City of London",coordinates:[51.513463,-.09170476]},{outward:"EC4P",town:"Non-geographic",county:"London",coordinates:[51.524503,-.11208828]},{outward:"EC4R",town:"Cannon Street",county:"City of London",coordinates:[51.51097,-.090497485]},{outward:"EC4V",town:"Blackfriars",county:"City of London",coordinates:[51.512092,-.094197654]},{outward:"EC4Y",town:"Temple",county:"City of London",coordinates:[51.512597,-.10484138]},{outward:"EC50",town:"Non-geographic",county:"London",coordinates:[51.524503,-.11208828]},{outward:"EC88",town:"Non-geographic",county:"London"},{outward:"EN1",town:"Bush Hill Park, Bulls Cross, Enfield Town, Forty Hill",county:"Enfield",coordinates:[51.651933,-.077090768]},{outward:"EN2",town:"Botany Bay, Clay Hill, Crews Hill, Bulls Cross, Enfield Chase, Enfield Town, Forty Hill",county:"Enfield",coordinates:[51.657483,-.082104083]},{outward:"EN3",town:"Enfield Highway, Enfield Island Village, Enfield Lock, Enfield Wash, Ponders End",county:"Enfield",coordinates:[51.644435,-.053183515]},{outward:"EN4",town:"Hadley Wood, Cockfosters, East Barnet, New Barnet",county:"Enfield",coordinates:[51.649928,-.14930818]},{outward:"EN5",town:"High Barnet, Arkley",county:"Barnet",coordinates:[51.643239,-.17114478]},{outward:"EN6",town:"Potters Bar, South Mimms, Cuffley, Northaw",county:"Hertsmere",coordinates:[51.699279,-.18975339]},{outward:"EN7",town:"Cheshunt",county:"Broxbourne",coordinates:[51.701123,-.050476168]},{outward:"EN8",town:"Waltham Cross, Cheshunt",county:"Enfield",coordinates:[51.707866,-.036884637]},{outward:"EN9",town:"Waltham Abbey",county:"Epping Forest",coordinates:[51.686246,-.013746726]},{outward:"EN10",town:"Broxbourne",county:"Broxbourne",coordinates:[51.728633,-.025283755]},{outward:"EN11",town:"Hoddesdon",county:"Broxbourne",coordinates:[51.764847,-.0072694577]},{outward:"EN77",town:"Non-geographic",county:"Enfield",coordinates:[49.766809,-7.5571598]},{outward:"GU1",town:"Guildford Town Centre, Slyfield, Merrow",county:"Guildford",coordinates:[51.245291,-.58231792]},{outward:"GU2",town:"Guildford Park, Onslow Village, Park Barn, University of Surrey",county:"Guildford",coordinates:[51.234877,-.57779643]},{outward:"GU3",town:"Normandy, Puttenham, Worplesdon, Christmas Pie, Flexford",county:"Guildford",coordinates:[51.23157,-.63457485]},{outward:"GU4",town:"Burpham, Chilworth, Jacobs Well, Shalford",county:"Guildford",coordinates:[51.246767,-.52487507]},{outward:"GU5",town:"Albury, Bramley, Shere",county:"Guildford",coordinates:[51.202117,-.55936707]},{outward:"GU6",town:"Cranleigh, Ewhurst, Alfold",county:"Waverley",coordinates:[51.140962,-.48424915]},{outward:"GU7",town:"Farncombe, Godalming",county:"Waverley",coordinates:[51.185998,-.60575855]},{outward:"GU8",town:"Chiddingfold, Dunsfold, Elstead, Hascombe, Milford, Thursley, Witley",county:"Waverley",coordinates:[51.172317,-.5927104]},{outward:"GU9",town:"Farnham, Badshot Lea, Hale, Heath End",county:"Waverley",coordinates:[51.235201,-.81165614]},{outward:"GU10",town:"Bentley, Frensham, Churt, Crondall, Tongham, Ewshot, Seale, Tilford",county:"Waverley",coordinates:[51.233412,-.73199218]},{outward:"GU11",town:"Aldershot",county:"Rushmoor",coordinates:[51.248742,-.76117283]},{outward:"GU12",town:"Aldershot, Ash, Ash Green, Ash Vale",county:"Rushmoor",coordinates:[51.238823,-.74432066]},{outward:"GU13",town:"Fleet",county:"Hampshire"},{outward:"GU14",town:"Farnborough, Cove",county:"Rushmoor",coordinates:[51.289171,-.76546319]},{outward:"GU15",town:"Camberley, Old Dean, RMAS",county:"Surrey Heath",coordinates:[51.332793,-.71697988]},{outward:"GU16",town:"Frimley, Frimley Green, Deepcut, Mytchett",county:"Surrey Heath",coordinates:[51.286937,-.72641755]},{outward:"GU17",town:"Blackwater, Hawley, Minley, Darby Green, Frogmore, Blackbushe",county:"Hart",coordinates:[51.330814,-.78095266]},{outward:"GU18",town:"Lightwater",county:"Surrey Heath",coordinates:[51.35209,-.67014265]},{outward:"GU19",town:"Bagshot",county:"Surrey Heath",coordinates:[51.360778,-.69353301]},{outward:"GU20",town:"Windlesham",county:"Surrey Heath",coordinates:[51.368465,-.66383593]},{outward:"GU21",town:"Woking, Knaphill, St. John's, Horsell, Goldsworth Park",county:"Woking",coordinates:[51.318119,-.61295023]},{outward:"GU22",town:"Woking, Pyrford, Hook Heath, Mayford, Old Woking",county:"Woking",coordinates:[51.309189,-.56957505]},{outward:"GU23",town:"Send, Ripley, Ockham, Wisley",county:"Guildford",coordinates:[51.300154,-.49233802]},{outward:"GU24",town:"Bisley, Pirbright, Chobham, Knaphill, Brookwood, West End",county:"Woking",coordinates:[51.30442,-.63868342]},{outward:"GU25",town:"Virginia Water, Wentworth",county:"Runnymede",coordinates:[51.401726,-.56345564]},{outward:"GU26",town:"Hindhead, Bramshott Chase, Grayshott",county:"Waverley",coordinates:[51.113517,-.73297592]},{outward:"GU27",town:"Haslemere, Fernhurst, Shottermill, Grayswood",county:"Waverley",coordinates:[51.100596,-.70672099]},{outward:"GU28",town:"Petworth, Graffham, Northchapel, Byworth, Lodsworth",county:"Chichester",coordinates:[50.986694,-.60883085]},{outward:"GU29",town:"Midhurst, Cocking, Easebourne",county:"Chichester",coordinates:[50.999621,-.73170508]},{outward:"GU30",town:"Liphook, Bramshott, Conford, Linch, Milland, Passfield",county:"East Hampshire",coordinates:[51.076329,-.80342483]},{outward:"GU31",town:"Petersfield, Buriton, East Harting, South Harting, Elsted, Rogate",county:"East Hampshire",coordinates:[51.002848,-.9350538]},{outward:"GU32",town:"East Meon, West Meon, Sheet, Steep",county:"East Hampshire",coordinates:[51.034752,-.94082627]},{outward:"GU33",town:"Liss, Greatham, Selborne, Rake",county:"East Hampshire",coordinates:[51.075687,-.88777579]},{outward:"GU34",town:"Alton, Beech, Bentworth, Medstead, Four Marks, Golden Pot, Lasham",county:"East Hampshire",coordinates:[51.147191,-.97697025]},{outward:"GU35",town:"Bordon, Headley, Headley Down Lindford, Oakhanger, Kingsley, Arford, Whitehill",county:"East Hampshire",coordinates:[51.106157,-.85000645]},{outward:"GU46",town:"Yateley",county:"Hart",coordinates:[51.340877,-.83215526]},{outward:"GU47",town:"Sandhurst, College Town, Owlsmoor, Little Sandhurst",county:"Bracknell Forest",coordinates:[51.345395,-.77535381]},{outward:"GU51",town:"Fleet, Elvetham Heath",county:"Hart",coordinates:[51.296113,-.85570917]},{outward:"GU52",town:"Church Crookham, Crookham Village",county:"Hart",coordinates:[51.255232,-.84546064]},{outward:"GU95",town:"British Gas",county:"Guildford",coordinates:[51.326293,-.76307465]},{outward:"HA0",town:"Alperton, Sudbury, Sudbury Hill, Wembley Central, North Wembley",county:"Harrow",coordinates:[51.539677,-.30304808]},{outward:"HA1",town:"Harrow, North Harrow, Northwick Park",county:"Harrow",coordinates:[51.581021,-.33679754]},{outward:"HA2",town:"North Harrow, South Harrow",county:"Harrow",coordinates:[51.572341,-.35059235]},{outward:"HA3",town:"Harrow Weald, Kenton, Wealdstone",county:"Harrow",coordinates:[51.579337,-.31958317]},{outward:"HA4",town:"Ruislip",county:"Hillingdon",coordinates:[51.573425,-.41357178]},{outward:"HA5",town:"Pinner, Eastcote, Hatch End, Carpenders Park",county:"Harrow",coordinates:[51.592949,-.38407581]},{outward:"HA6",town:"Northwood, Moor Park, Sandy Lodge",county:"Hillingdon",coordinates:[51.611575,-.42334862]},{outward:"HA7",town:"Stanmore",county:"Harrow",coordinates:[51.605562,-.3023113]},{outward:"HA8",town:"Edgware",county:"Harrow",coordinates:[51.606783,-.27198215]},{outward:"HA9",town:"Wembley, Wembley Park, Wembley Central, Preston, Tokyngton",county:"Brent",coordinates:[51.557908,-.28351498]},{outward:"HP1",town:"Bourne End, Boxmoor, Fields End, Gadebridge, Great Gaddesden, Nettleden, Piccotts End, Water End, Warner's End",county:"Dacorum",coordinates:[51.7484,-.46988523]},{outward:"HP2",town:"Gaddesden Row, Piccotts End, Grove Hill, Adeyfield, Hemel Hempstead Industrial Estate",county:"Dacorum",coordinates:[51.752926,-.47009449]},{outward:"HP3",town:"Apsley, Bovingdon, Felden, Flaunden, Hemel Hempstead, Leverstock Green",county:"Dacorum",coordinates:[51.728821,-.4709229]},{outward:"HP4",town:"Berkhamsted, Dagnall, Dudswell, Little Gaddesden, Northchurch, Potten End, Ringshall",county:"Dacorum",coordinates:[51.761823,-.56964752]},{outward:"HP5",town:"Chesham, Ashley Green, Bellingdon, Botley, Chartridge, Hawridge, Latimer, Lye Green, Newtown, Waterside, Whelpley Hill",county:"Chiltern",coordinates:[51.707518,-.61061154]},{outward:"HP6",town:"Amersham, Chesham Bois, Hyde Heath, Little Chalfont",county:"Chiltern",coordinates:[51.67368,-.59980262]},{outward:"HP7",town:"Amersham, Coleshill, Little Chalfont, Little Missenden, Penn Street, Winchmore Hill",county:"Chiltern",coordinates:[51.673717,-.60898496]},{outward:"HP8",town:"Chalfont Saint Giles",county:"South Buckinghamshire",coordinates:[51.648152,-.55091048]},{outward:"HP9",town:"Beaconsfield, Forty Green, Holtspur, Jordans, Knotty Green, Seer Green",county:"Chiltern",coordinates:[51.607721,-.64157468]},{outward:"HP10",town:"High Wycombe, Flackwell Heath, Handy Cross, Hedsor, Loudwater, Penn, Tylers Green, Wooburn, Wooburn Green, Wooburn Moor",county:"Wycombe",coordinates:[51.589355,-.68144421]},{outward:"HP11",town:"Wycombe Marsh",county:"Wycombe",coordinates:[51.62776,-.74800293]},{outward:"HP12",town:"High Wycombe, Booker, Sands",county:"Wycombe",coordinates:[51.635855,-.76698401]},{outward:"HP13",town:"High Wycombe, Downley",county:"Wycombe",coordinates:[51.642309,-.73632974]},{outward:"HP14",town:"Beacon's Bottom, Bledlow Ridge, Bolter End, Bradenham, Cadmore End, Hughenden Valley, Ibstone, Lane End, Naphill, Northend, Stokenchurch, The City, Upper North Dean, West Wycombe",county:"Wycombe",coordinates:[51.644412,-.79700128]},{outward:"HP15",town:"Cryers Hill, Great Kingshill, Hazlemere, Holmer Green, Hughenden Valley",county:"Wycombe",coordinates:[51.662146,-.73227913]},{outward:"HP16",town:"Great Missenden, Ballinger, The Lee, Little Hampden, Little Kingshill, Prestwood, South Heath",county:"Wycombe",coordinates:[51.703112,-.70667797]},{outward:"HP17",town:"Aston Sandford, Bishopstone, Butler's Cross, Dinton, Dorton, Ellesborough, Ford, The Kimbles, Kingsey, Haddenham, Meadle, Nash Lee, Stone, Upton, Westlington",county:"Aylesbury Vale",coordinates:[51.75603,-.80812058]},{outward:"HP18",town:"Ashendon, Boarstall, Brill, Chearsley, Chilton, Cuddington, Dorton, Easington, Edgcott, Grendon Underwood, Ickford, Kingswood, Long Crendon, Lower Winchendon, Ludgershall, Oakley, Shabbington, Upper Winchendon, Waddesdon, Westcott, Worminghall, Wotton Underwood",county:"Aylesbury Vale",coordinates:[51.791193,-.91263375]},{outward:"HP19",town:"Aylesbury, Fairford Leys, Prebendal Farm, Quarrendon, Watermead",county:"Aylesbury Vale",coordinates:[51.83341,-.80536799]},{outward:"HP20",town:"Aylesbury, Aylesbury Town Centre, Broughton, Elmhurst",county:"Aylesbury Vale",coordinates:[51.818553,-.80947501]},{outward:"HP21",town:"Aylesbury, Bedgrove, Elm Farm, Queens Park, Southcourt, Walton, Walton Court",county:"Aylesbury Vale",coordinates:[51.812594,-.78337551]},{outward:"HP22",town:"Aston Abbotts, Aston Clinton, Bierton, Buckland, Drayton Beauchamp, Dunsmore, Halton, Hardwick, Hulcott, North Lee, Nup End, Oving, Pitchcott, Quainton, Rowsham, Stoke Mandeville, Weedon, Wendover, Weston Turville, Whitchurch, Wingrave",county:"Aylesbury Vale",coordinates:[51.851989,-.87122786]},{outward:"HP23",town:"Aldbury, Buckland Common, Cholesbury, Hastoe, Long Marston, Marsworth, New Mill, Puttenham, St Leonards, Tring, Wigginton, Wilstone",county:"Dacorum",coordinates:[51.793238,-.66352991]},{outward:"HP27",town:"Askett, Bledlow, Ilmer, Lacey Green, Longwick, Loosley Row, Monks Risborough, Owlswick, Pitch Green, Princes Risborough, Saunderton",county:"Wycombe",coordinates:[51.722499,-.83126869]},{outward:"IG1",town:"Ilford",county:"Redbridge",coordinates:[51.558255,.072064067]},{outward:"IG2",town:"Gants Hill, Newbury Park",county:"Redbridge",coordinates:[51.572847,.082411036]},{outward:"IG3",town:"Seven Kings",county:"Redbridge",coordinates:[51.561221,.092945837]},{outward:"IG4",town:"Redbridge",county:"Redbridge",coordinates:[51.576197,.057668342]},{outward:"IG5",town:"Clayhall",county:"Redbridge",coordinates:[51.582095,.061341249]},{outward:"IG6",town:"Barkingside, Hainault",county:"Redbridge",coordinates:[51.578987,.082518528]},{outward:"IG7",town:"Chigwell",county:"Epping Forest",coordinates:[51.60901,.11092931]},{outward:"IG8",town:"Woodford Green, Woodford Bridge",county:"Redbridge",coordinates:[51.607377,.023391276]},{outward:"IG9",town:"Buckhurst Hill",county:"Epping Forest",coordinates:[51.623454,.044766103]},{outward:"IG10",town:"Loughton, High Beach",county:"Epping Forest",coordinates:[51.647746,.055948672]},{outward:"IG11",town:"Barking",county:"Barking and Dagenham",coordinates:[51.525635,.079910083]},{outward:"KT1",town:"Kingston upon Thames, Hampton Wick",county:"Kingston upon Thames",coordinates:[51.408596,-.30433927]},{outward:"KT2",town:"Kingston upon Thames, Norbiton",county:"Kingston upon Thames",coordinates:[51.413955,-.30242972]},{outward:"KT3",town:"New Malden",county:"Kingston upon Thames",coordinates:[51.402625,-.258942]},{outward:"KT4",town:"Worcester Park",county:"Sutton",coordinates:[51.378171,-.24427923]},{outward:"KT5",town:"Berrylands, Tolworth",county:"Kingston upon Thames",coordinates:[51.395788,-.29735236]},{outward:"KT6",town:"Surbiton, Tolworth, Long Ditton",county:"Kingston upon Thames",coordinates:[51.392393,-.31065911]},{outward:"KT7",town:"Thames Ditton, Weston Green",county:"Elmbridge",coordinates:[51.383516,-.32183603]},{outward:"KT8",town:"West Molesey, East Molesey, Hampton Court Palace, Bushy Park",county:"Elmbridge",coordinates:[51.397497,-.34889621]},{outward:"KT9",town:"Chessington, Hook, Malden Rushett",county:"Kingston upon Thames",coordinates:[51.367414,-.30584649]},{outward:"KT10",town:"Esher, Claygate, Hinchley Wood",county:"Elmbridge",coordinates:[51.376481,-.3373816]},{outward:"KT11",town:"Cobham",county:"Elmbridge",coordinates:[51.32952,-.41379281]},{outward:"KT12",town:"Walton-on-Thames, Hersham",county:"Elmbridge",coordinates:[51.386684,-.42035398]},{outward:"KT13",town:"Weybridge",county:"Elmbridge",coordinates:[51.366804,-.43994312]},{outward:"KT14",town:"Byfleet, West Byfleet",county:"Elmbridge",coordinates:[51.334371,-.51137075]},{outward:"KT15",town:"Addlestone, New Haw",county:"Runnymede",coordinates:[51.367194,-.50648551]},{outward:"KT16",town:"Chertsey, Lyne",county:"Runnymede",coordinates:[51.387935,-.52748335]},{outward:"KT17",town:"Stoneleigh, East Ewell, Epsom",county:"Epsom and Ewell",coordinates:[51.335322,-.26244034]},{outward:"KT18",town:"Epsom, Headley, Langley Vale, Tattenham Corner",county:"Epsom and Ewell",coordinates:[51.332345,-.26726132]},{outward:"KT19",town:"Horton, West Ewell, Stoneleigh",county:"Epsom and Ewell",coordinates:[51.360472,-.25317219]},{outward:"KT20",town:"Tadworth, Burgh Heath",county:"Reigate and Banstead",coordinates:[51.29135,-.23730943]},{outward:"KT21",town:"Ashtead",county:"Mole Valley",coordinates:[51.310089,-.29860366]},{outward:"KT22",town:"Leatherhead, Oxshott, Fetcham",county:"Mole Valley",coordinates:[51.30148,-.34096798]},{outward:"KT23",town:"The Bookhams",county:"Mole Valley",coordinates:[51.279714,-.38770682]},{outward:"KT24",town:"West Horsley, East Horsley, Effingham",county:"Guildford",coordinates:[51.268213,-.43076957]},{outward:"LU1",town:"Luton (South), Aley Green, Caddington, Lower Woodside, Pepperstock, Skimpot, Slip End, Woodside",county:"Luton",coordinates:[51.879977,-.42292639]},{outward:"LU2",town:"Luton (East), Chiltern Green, Cockernhoe, East Hyde, Lawrence End, Lilley, New Mill End, Peters Green, Tea Green, The Hyde, Wandon End, Wandon Green, Winch Hill",county:"Luton",coordinates:[51.879843,-.40301242]},{outward:"LU3",town:"Luton (North), Lower Sundon, Streatley, Sundon",county:"Luton",coordinates:[51.885732,-.42496267]},{outward:"LU4",town:"Luton (West), Chalton, Leagrave",county:"Luton",coordinates:[51.892716,-.47251639]},{outward:"LU5",town:"Dunstable (East including Woodside Estate), Bidwell, Chalgrave, Fancott, Harlington, Houghton Regis (including Townsend Industrial Estate), Thorn, Toddington",county:"Central Bedfordshire",coordinates:[51.880786,-.51057921]},{outward:"LU6",town:"Dunstable (West), Eaton Bray, Edlesborough, Holywell, Kensworth, Northall, Sewell, Studham, Totternhoe, Whipsnade",county:"Central Bedfordshire",coordinates:[51.892097,-.53489574]},{outward:"LU7",town:"Leighton Buzzard, Bragenham, Briggington, Burcott, Cheddington, Chelmscote, Clipstone, Crafton, Cublington, Eggington, Great Billington, Grove, Heath and Reach, Hockliffe, Horton, Hollingdon, Ivinghoe, Ivinghoe Aston, Ledburn, Leedon, Little Billington, Mentmore, Pitstone, Slapton, Soulbury, Stanbridge, Stewkley, Stockgrove, Tebworth, Tilsworth, Wing, Wingfield",county:"Central Bedfordshire",coordinates:[51.941678,-.65555907]},{outward:"LU95",town:"Non-geographic",county:"Leighton Buzzard"},{outward:"ME1",town:"Rochester, Burham, Wouldham",county:"Medway",coordinates:[51.386148,.50743955]},{outward:"ME2",town:"Strood, Halling, Cuxton, Frindsbury",county:"Medway",coordinates:[51.372776,.45904613]},{outward:"ME3",town:"Rochester",county:"Medway",coordinates:[51.448019,.67875267]},{outward:"ME4",town:"Chatham",county:"Medway",coordinates:[51.407516,.54790965]},{outward:"ME5",town:"Walderslade, Blue Bell Hill, Luton",county:"Medway",coordinates:[51.368442,.54527959]},{outward:"ME6",town:"Snodland, West Malling",county:"Tonbridge and Malling",coordinates:[51.329355,.44230891]},{outward:"ME7",town:"Gillingham",county:"Medway",coordinates:[51.386468,.54638065]},{outward:"ME8",town:"Rainham",county:"Medway",coordinates:[51.366581,.58510339]},{outward:"ME9",town:"Sittingbourne",county:"Swale",coordinates:[51.322773,.74007266]},{outward:"ME10",town:"Sittingbourne",county:"Swale",coordinates:[51.34041,.73278181]},{outward:"ME11",town:"Queenborough, Rushenden",county:"Swale",coordinates:[51.41697,.74183519]},{outward:"ME12",town:"Isle of Sheppey",county:"Swale",coordinates:[51.440699,.76429659]},{outward:"ME13",town:"Faversham",county:"Swale",coordinates:[51.288423,.8534349]},{outward:"ME14",town:"Maidstone, Bearsted, Grove Green",county:"Maidstone",coordinates:[51.274428,.5246648]},{outward:"ME15",town:"Bearsted, Downswood, Shepway, Senacre, Maidstone Town Centre, Loose, Mangravet, Parkwood",county:"Maidstone",coordinates:[51.242602,.51909551]},{outward:"ME16",town:"Barming, West Maidstone",county:"Maidstone",coordinates:[51.281509,.49684505]},{outward:"ME17",town:"Hollingbourne, Hucking, Harrietsham, Lenham, Boughton Monchelsea, Linton, Coxheath, Chart Sutton, Sutton Valence",county:"Maidstone",coordinates:[51.241398,.67227194]},{outward:"ME18",town:"Maidstone",county:"Maidstone",coordinates:[51.266213,.37803245]},{outward:"ME19",town:"West Malling",county:"Tonbridge and Malling",coordinates:[51.279567,.39747867]},{outward:"ME20",town:"Aylesford",county:"Tonbridge and Malling",coordinates:[51.299119,.44229572]},{outward:"ME99",town:"Non-geographic",county:"Maidstone",coordinates:[51.278325,.51909963]},{outward:"N1",town:"Barnsbury, Canonbury, Kings Cross, Islington, Pentonville, De Beauvoir Town, Hoxton",county:"Hackney",coordinates:[51.539425,-.11793111]},{outward:"N1C",town:"Kings Cross",county:"Camden"},{outward:"N1P",town:"Non-geographic",county:"Islington"},{outward:"N2",town:"East Finchley, Fortis Green, Hampstead Garden Suburb",county:"Barnet",coordinates:[51.586175,-.17013147]},{outward:"N3",town:"Finchley, Church End, Finchley Central",county:"Barnet",coordinates:[51.606177,-.19292462]},{outward:"N4",town:"Finsbury Park, Manor House, Harringay, Stroud Green",county:"Haringey",coordinates:[51.577749,-.10216114]},{outward:"N5",town:"Highbury, Highbury Fields",county:"Islington",coordinates:[51.55455,-.1022326]},{outward:"N6",town:"Highgate, Hampstead Heath",county:"Camden",coordinates:[51.574339,-.14934951]},{outward:"N7",town:"Holloway, Barnsbury, Islington, Tufnell Park",county:"Islington",coordinates:[51.555344,-.12871342]},{outward:"N8",town:"Hornsey, Crouch End, Harringay",county:"Haringey",coordinates:[51.584529,-.10492435]},{outward:"N9",town:"Lower Edmonton, Edmonton",county:"Enfield",coordinates:[51.627045,-.044059925]},{outward:"N10",town:"Muswell Hill",county:"Haringey",coordinates:[51.600529,-.15071083]},{outward:"N11",town:"New Southgate, Friern Barnet, Bounds Green, Arnos Grove",county:"Enfield",coordinates:[51.615924,-.13480278]},{outward:"N12",town:"North Finchley, Woodside Park",county:"Barnet",coordinates:[51.609953,-.174837]},{outward:"N13",town:"Palmers Green",county:"Enfield",coordinates:[51.620946,-.10755358]},{outward:"N14",town:"Southgate, Oakwood, Arnos Grove",county:"Enfield",coordinates:[51.64193,-.14223401]},{outward:"N15",town:"West Green, Seven Sisters, Duckett's Green",county:"Haringey",coordinates:[51.584643,-.092520204]},{outward:"N16",town:"Stoke Newington, Stamford Hill, Shacklewell, Dalston, Newington Green",county:"Hackney",coordinates:[51.565965,-.081427142]},{outward:"N17",town:"Tottenham, South Tottenham",county:"Haringey",coordinates:[51.599578,-.067708293]},{outward:"N18",town:"Upper Edmonton, Edmonton",county:"Enfield",coordinates:[51.609087,-.086036484]},{outward:"N19",town:"Upper Holloway, Archway, Tufnell Park, Hornsey",county:"Islington",coordinates:[51.571541,-.12599921]},{outward:"N20",town:"Whetstone, Totteridge, Oakleigh Park",county:"Barnet",coordinates:[51.628393,-.16081884]},{outward:"N21",town:"Winchmore Hill, Bush Hill, Grange Park",county:"Enfield",coordinates:[51.636934,-.10308738]},{outward:"N22",town:"Wood Green, Bounds Green, Bowes Park",county:"Haringey",coordinates:[51.606472,-.11001848]},{outward:"N81",town:"Non-geographic",county:"Haringey",coordinates:[51.589973,-.1123924]},{outward:"NW1",town:"Euston, Camden Town, Somers Town, Primrose Hill, Gospel Oak, Lisson Grove",county:"Camden",coordinates:[51.536729,-.13944085]},{outward:"NW1W",town:"Non-geographic, Euston",county:"Camden",coordinates:[51.530784,-.13543005]},{outward:"NW2",town:"Cricklewood, Willesden, Neasden, Dollis Hill, Childs Hill",county:"Barnet",coordinates:[51.562193,-.21335227]},{outward:"NW3",town:"Hampstead, Chalk Farm, Primrose Hill, Swiss Cottage, Belsize Park, Gospel Oak, Frognal, Childs Hill",county:"Camden",coordinates:[51.559003,-.17778639]},{outward:"NW4",town:"Brent Cross, Hendon",county:"Barnet",coordinates:[51.592278,-.22197477]},{outward:"NW5",town:"Kentish Town, Tufnell Park, Dartmouth Park, Gospel Oak",county:"Camden",coordinates:[51.55218,-.14129145]},{outward:"NW6",town:"Kilburn, Brondesbury, West Hampstead, Queen's Park",county:"Brent",coordinates:[51.552426,-.19328131]},{outward:"NW7",town:"Mill Hill, Arkley",county:"Barnet",coordinates:[51.61547,-.24117495]},{outward:"NW8",town:"St John's Wood, Primrose Hill, Lisson Grove",county:"Camden",coordinates:[51.535624,-.18195008]},{outward:"NW9",town:"The Hyde, Colindale, Kingsbury, Queensbury, West Hendon",county:"Barnet",coordinates:[51.584491,-.26042886]},{outward:"NW10",town:"Willesden, Acton, Harlesden, Kensal Green, Neasden, Old Oak Common, Park Royal, Stonebridge, Brent Park",county:"Brent",coordinates:[51.559111,-.24930817]},{outward:"NW11",town:"Golders Green, Hampstead Garden Suburb",county:"Barnet",coordinates:[51.584599,-.20018977]},{outward:"NW26",town:"Non-geographic",county:"Camden",coordinates:[51.530784,-.13543005]},{outward:"OX1",town:"Central and South Oxford, Kennington",county:"Oxford",coordinates:[51.750231,-1.2673668]},{outward:"OX2",town:"North and West Oxford, Botley, North Hinksey, Summertown, Wytham",county:"Oxford",coordinates:[51.752397,-1.2715329]},{outward:"OX3",town:"North East Oxford, Headington, Marston, Elsfield",county:"Oxford",coordinates:[51.76441,-1.2252889]},{outward:"OX4",town:"East Oxford, Cowley, Blackbird Leys, Sandford-on-Thames, Iffley",county:"Oxford",coordinates:[51.750537,-1.2432861]},{outward:"OX5",town:"Kidlington",county:"Cherwell",coordinates:[51.822307,-1.2897612]},{outward:"OX6",town:"Bicester",county:"Oxford"},{outward:"OX7",town:"Charlbury, Chadlington",county:"West Oxfordshire",coordinates:[51.866948,-1.4788924]},{outward:"OX8",town:"Witney, Burford, Eynsham",county:"Oxford"},{outward:"OX9",town:"Postcombe, Thame, Towersey, North Weston",county:"South Oxfordshire",coordinates:[51.748168,-.97867801]},{outward:"OX10",town:"Wallingford, Berinsfield, Cholsey, Dorchester",county:"South Oxfordshire",coordinates:[51.600443,-1.1228842]},{outward:"OX11",town:"Didcot, Blewbury, Harwell",county:"South Oxfordshire",coordinates:[51.602002,-1.2562826]},{outward:"OX12",town:"Wantage, Grove",county:"Vale of White Horse",coordinates:[51.60358,-1.4233897]},{outward:"OX13",town:"Longworth, Sunningwell, Frilford, Cothill, Appleton",county:"Vale of White Horse",coordinates:[51.68036,-1.4203472]},{outward:"OX14",town:"Abingdon, Appleford-on-Thames, Burcot, Clifton Hampden, Culham, Drayton, Little Wittenham, Long Wittenham, Radley, Milton, Sutton Courtenay",county:"South Oxfordshire",coordinates:[51.669901,-1.2965712]},{outward:"OX15",town:"Bloxham, Drayton, Wroxton, North Newington, South Newington, Swalcliffe, Sibford Gower, Sibford Ferris, Barford St Michael, Barford St John, Deddington, Hempton, Broughton, Hornton, Horley, Balscote, Shenington, Alkerton, Wigginton, Milton, Hook Norton, Milcombe, Shutford, Epwell, Tadmarton, Swerford, Bodicote, Brailes, Edge Hill, Ratley, Upton",county:"Cherwell",coordinates:[51.990837,-1.3674742]},{outward:"OX16",town:"Banbury",county:"Cherwell",coordinates:[52.06004,-1.3399076]},{outward:"OX17",town:"Adderbury, Aynho, Arlescote, Chacombe, Charlton, Chipping Warden, Claydon, Cropredy, Culworth, Edgcote, Farnborough, Great Bourton, Hanwell, King's Sutton, Little Bourton, Lower Thorpe, Marston St Lawrence, Middleton Cheney, Mollington, Nethercote, Newbottle, Overthorpe, Shotteswell, Stuchbury, Sulgrave, Thenford, Thorpe Mandeville, Twyford, Wardington, Warkworth, Warmington, Williamscott",county:"Cherwell",coordinates:[52.102926,-1.2979135]},{outward:"OX18",town:"Alvescot, Asthall, Aston, Bampton, Barrington, Black Bourton, Bradwell, Brize Norton, Burford, Carterton, Chimney, Clanfield, Cote, Fulbrook, Grafton, Holwell, Lew, Little Clanfield, Radcot, Shilton, Signet, Swinbrook, Taynton, Upper Windrush, Upton, Weald, Westwell, Widford, Windrush",county:"West Oxfordshire",coordinates:[51.766534,-1.5870935]},{outward:"OX20",town:"Woodstock, Bladon, Glympton, Kiddington, Woodleys, Wootton",county:"West Oxfordshire",coordinates:[51.856191,-1.3613482]},{outward:"OX25",town:"Ambrosden, Arncott, Blackthorn, Caulcott, Duns Tew, Little Chesterton, Lower Heyford, Merton, Middle Aston, Middleton Stoney, North Aston, Piddington, Rousham, Somerton, Steeple Aston, Steeple Barton, Upper Heyford, Wendlebury, Weston-on-the-Green",county:"Cherwell",coordinates:[51.849792,-1.1133575]},{outward:"OX26",town:"Bicester, Chesterton, Launton",county:"Cherwell",coordinates:[51.896641,-1.1669783]},{outward:"OX27",town:"Ardley, Bainton, Baynards Green, Bucknell, Caversfield, Charndon, Fewcott, Fringford, Fritwell, Godington, Hardwick, Hethe, Marsh Gibbon, Newton Morrell, Poundon, Souldern, Stoke Lyne, Stratton Audley, Tusmore",county:"Cherwell",coordinates:[51.906937,-1.0813431]},{outward:"OX28",town:"Witney",county:"West Oxfordshire",coordinates:[51.790653,-1.4635186]},{outward:"OX29",town:"Barnard Gate, Brighthampton, Church Hanborough, Combe, Crawley, Curbridge, Ducklington, Eynsham, Freeland, Hailey, Hardwick, High Cogges, Long Hanborough, New Yatt, Newbridge, North Leigh, East End (North Leigh), Old Shifford, Shifford, Standlake, Stanton Harcourt, Stonesfield, Sutton, Yelford",county:"West Oxfordshire",coordinates:[51.789058,-1.5209938]},{outward:"OX33",town:"Wheatley, Forest Hill, Holton, Horspath, Horton-cum-Studley, Littleworth, Milton Common, Stanton St. John, Waterperry, Waterstock, Woodperry.",county:"South Oxfordshire",coordinates:[51.802932,-1.1464877]},{outward:"OX39",town:"Chinnor",county:"South Oxfordshire",coordinates:[51.716754,-.92841753]},{outward:"OX44",town:"Chalgrove, Garsington, Toot Baldon",county:"South Oxfordshire",coordinates:[51.670802,-1.089843]},{outward:"OX49",town:"Watlington",county:"South Oxfordshire",coordinates:[51.612767,-.99988752]},{outward:"RH1",town:"Redhill, Bletchingley, Nutfield, Merstham, South Nutfield",county:"Reigate and Banstead",coordinates:[51.240567,-.1646819]},{outward:"RH2",town:"Reigate",county:"Reigate and Banstead",coordinates:[51.238009,-.2049817]},{outward:"RH3",town:"Betchworth, Brockham, Buckland, Strood Green",county:"Mole Valley",coordinates:[51.238367,-.26086685]},{outward:"RH4",town:"Dorking",county:"Mole Valley",coordinates:[51.231714,-.33075896]},{outward:"RH5",town:"Capel, Westhumble, Mickleham, Ockley",county:"Mole Valley",coordinates:[51.23478,-.32192439]},{outward:"RH6",town:"Horley, Gatwick Airport",county:"Crawley",coordinates:[51.168334,-.17893693]},{outward:"RH7",town:"Lingfield, Dormansland",county:"Tandridge",coordinates:[51.174263,-.017058753]},{outward:"RH8",town:"Oxted",county:"Tandridge",coordinates:[51.259899,-.0040879818]},{outward:"RH9",town:"Godstone, South Godstone",county:"Tandridge",coordinates:[51.251097,-.065271602]},{outward:"RH10",town:"Copthorne, Crawley Down, Domewood, Furnace Green, Northgate, Maidenbower, Pound Hill, Rowfant, Southgate, Three Bridges, Tilgate",county:"Crawley",coordinates:[51.117177,-.18847891]},{outward:"RH11",town:"Bewbush, Broadfield, Gossops Green, Ifield, Langley Green, Lowfield Heath, Pease Pottage, Southgate West, West Green",county:"Crawley",coordinates:[51.123739,-.20166941]},{outward:"RH12",town:"Horsham, Broadbridge Heath, Rusper, Rudgwick, Warnham",county:"Horsham",coordinates:[49.766809,-7.5571598]},{outward:"RH13",town:"Barns Green, Cowfold, Mannings Heath, Partridge Green, Slinfold, Southwater, West Grinstead",county:"Horsham",coordinates:[51.053156,-.32220524]},{outward:"RH14",town:"Billingshurst, Ifold, Kirdford, Loxwood, Plaistow, Wisborough Green",county:"Chichester",coordinates:[51.039354,-.52078751]},{outward:"RH15",town:"Burgess Hill, Ditchling Common",county:"Mid Sussex",coordinates:[50.952832,-.1271896]},{outward:"RH16",town:"Haywards Heath, Lindfield",county:"Mid Sussex",coordinates:[51.006415,-.10382195]},{outward:"RH17",town:"Ansty, Ardingly, Balcombe, Bolney, Chelwood Gate, Cuckfield, Danehill, Handcross, Hickstead, Horsted Keynes, Wivelsfield, Wivelsfield Green",county:"Mid Sussex",coordinates:[51.00356,-.14441815]},{outward:"RH18",town:"Forest Row",county:"Mid Sussex",coordinates:[51.097001,.033821307]},{outward:"RH19",town:"East Grinstead, Ashurst Wood, Dormans Park, Felbridge, Felcourt, Sharpthorne, West Hoathly",county:"Mid Sussex",coordinates:[51.125873,-.0097425769]},{outward:"RH20",town:"Pulborough, Ashington, Storrington, West Chiltington, West Chiltington Common",county:"Horsham",coordinates:[50.95727,-.51179062]},{outward:"RH77",town:"Non-geographic",county:"Crawley",coordinates:[51.138775,-.16977926]},{outward:"RM1",town:"Romford",county:"Havering",coordinates:[51.5776,.17826093]},{outward:"RM2",town:"Gidea Park, Heath Park",county:"Havering",coordinates:[51.577913,.19091933]},{outward:"RM3",town:"Harold Wood, Harold Hill, Noak Hill",county:"Havering",coordinates:[51.597199,.21695748]},{outward:"RM4",town:"Havering-atte-Bower, Abridge, Stapleford Abbotts, Noak Hill, Navestock, Stapleford Tawney, Stapleford Aerodrome",county:"Havering",coordinates:[51.651567,.14446451]},{outward:"RM5",town:"Collier Row",county:"Havering",coordinates:[51.597077,.16227013]},{outward:"RM6",town:"Chadwell Heath, Little Heath",county:"Barking and Dagenham",coordinates:[51.570386,.12935673]},{outward:"RM7",town:"Rush Green, Mawneys, Romford",county:"Havering",coordinates:[51.57244,.18007792]},{outward:"RM8",town:"Dagenham, Becontree Heath",county:"Barking and Dagenham",coordinates:[51.561301,.14724113]},{outward:"RM9",town:"Dagenham, Becontree",county:"Barking and Dagenham",coordinates:[51.544049,.12227137]},{outward:"RM10",town:"Dagenham",county:"Barking and Dagenham",coordinates:[51.554182,.16809698]},{outward:"RM11",town:"Hornchurch, Emerson Park, Ardleigh Green",county:"Havering",coordinates:[51.570191,.18834011]},{outward:"RM12",town:"Hornchurch, Elm Park",county:"Havering",coordinates:[51.561858,.19394205]},{outward:"RM13",town:"Rainham, South Hornchurch, Wennington",county:"Havering",coordinates:[51.516766,.19212017]},{outward:"RM14",town:"Upminster, Cranham, North Ockendon, Bulphan",county:"Havering",coordinates:[51.552369,.24675743]},{outward:"RM15",town:"South Ockendon, Aveley",county:"Thurrock",coordinates:[51.499427,.26266727]},{outward:"RM16",town:"Chafford Hundred, Chadwell St Mary, North Stifford, Orsett",county:"Thurrock",coordinates:[51.495911,.3319371]},{outward:"RM17",town:"Grays, Badgers Dene",county:"Thurrock",coordinates:[51.492202,.32036674]},{outward:"RM18",town:"Tilbury, East Tilbury, West Tilbury",county:"Thurrock",coordinates:[51.465287,.35141052]},{outward:"RM19",town:"Purfleet",county:"Thurrock",coordinates:[51.493821,.28420141]},{outward:"RM20",town:"West Thurrock, South Stifford",county:"Thurrock",coordinates:[51.489033,.27556382]},{outward:"RM50",town:"Non-geographic",county:"Romford"},{outward:"SE1",town:"Bankside, South Bank, Southwark, Bermondsey, Vauxhall",county:"Southwark",coordinates:[51.498409,-.10165523]},{outward:"SE1P",town:"Non-geographic",county:"Southwark",coordinates:[51.492762,-.080151673]},{outward:"SE2",town:"Abbey Wood, West Heath, Crossness, Thamesmead",county:"Greenwich",coordinates:[51.481603,.12271219]},{outward:"SE3",town:"Blackheath, Kidbrooke, Westcombe Park",county:"Greenwich",coordinates:[51.467796,.0180305]},{outward:"SE4",town:"Brockley, Crofton Park, Western Ladywell, Honor Oak",county:"Lewisham",coordinates:[51.453277,-.032497323]},{outward:"SE5",town:"Camberwell, Denmark Hill, Southampton Way Estate, Peckham",county:"Lambeth",coordinates:[51.48248,-.095374827]},{outward:"SE6",town:"Bellingham, Catford, Hither Green",county:"Lewisham",coordinates:[51.445315,-.0062021278]},{outward:"SE7",town:"Charlton",county:"Greenwich",coordinates:[51.483026,.034848417]},{outward:"SE8",town:"Deptford, Evelyn",county:"Lewisham",coordinates:[51.486013,-.03159257]},{outward:"SE9",town:"Eltham, Mottingham, New Eltham, Falconwood, Chinbrook, Longlands, Kidbrooke",county:"Greenwich",coordinates:[51.450353,.062295515]},{outward:"SE10",town:"Greenwich, Maze Hill, Greenwich Peninsula",county:"Greenwich",coordinates:[51.487122,.0032841377]},{outward:"SE11",town:"Kennington, Vauxhall",county:"Lambeth",coordinates:[51.485536,-.10969408]},{outward:"SE12",town:"Lee, Grove Park, Chinbrook, Hither Green, Eltham, Horn Park, Blackheath",county:"Lewisham",coordinates:[51.449266,.013068373]},{outward:"SE13",town:"Lewisham, Hither Green, Ladywell",county:"Lewisham",coordinates:[51.4596,-.0059538934]},{outward:"SE14",town:"New Cross, New Cross Gate",county:"Lewisham",coordinates:[51.474839,-.046876962]},{outward:"SE15",town:"Nunhead, Peckham",county:"Lewisham",coordinates:[51.47681,-.068163385]},{outward:"SE16",town:"Rotherhithe, Bermondsey, Surrey Quays",county:"Southwark",coordinates:[51.490761,-.048285259]},{outward:"SE17",town:"Walworth, Newington",county:"Southwark",coordinates:[51.489348,-.091357828]},{outward:"SE18",town:"Plumstead, Woolwich",county:"Greenwich",coordinates:[51.484461,.084733441]},{outward:"SE19",town:"Upper Norwood, Crystal Palace, Crown Point, Norwood",county:"Croydon",coordinates:[51.420963,-.086067379]},{outward:"SE20",town:"Anerley, Crystal Palace, Penge, Beckenham",county:"Bromley",coordinates:[51.409107,-.059069145]},{outward:"SE21",town:"Dulwich, Dulwich Village, West Dulwich, Tulse Hill, Sydenham Hill",county:"Lambeth",coordinates:[51.434204,-.085226241]},{outward:"SE22",town:"East Dulwich, Peckham Rye, Loughborough Junction, Herne Hill",county:"Southwark",coordinates:[51.447688,-.072271143]},{outward:"SE23",town:"Forest Hill, Honor Oak, Crofton Park",county:"Lewisham",coordinates:[51.443782,-.049252879]},{outward:"SE24",town:"Herne Hill, Tulse Hill",county:"Lambeth",coordinates:[51.464009,-.093149521]},{outward:"SE25",town:"South Norwood, Selhurst",county:"Croydon",coordinates:[51.40169,-.076118048]},{outward:"SE26",town:"Sydenham, Crystal Palace",county:"Bromley",coordinates:[51.429773,-.04609493]},{outward:"SE27",town:"West Norwood, Gipsy Hill, Norwood",county:"Lambeth",coordinates:[51.436348,-.10538034]},{outward:"SE28",town:"Thamesmead",county:"Greenwich",coordinates:[51.495614,.098266154]},{outward:"SE99",town:"Non-geographic",county:"London"},{outward:"SL0",town:"Iver, Iver Heath, Richings Park, Thorney",county:"South Buckinghamshire",coordinates:[51.522086,-.50795379]},{outward:"SL1",town:"Burnham, Littleworth, Salt Hill, Slough, Upton, Cippenham",county:"South Buckinghamshire",coordinates:[51.508271,-.58461853]},{outward:"SL2",town:"Farnham Common, Farnham Royal, Hedgerley, Stoke Poges",county:"South Buckinghamshire",coordinates:[51.52676,-.61489465]},{outward:"SL3",town:"Colnbrook, Datchet, Fulmer, George Green, Horton, Langley, Poyle",county:"Slough",coordinates:[51.475676,-.51638022]},{outward:"SL4",town:"Boveney, Clewer, Cranbourne, Dorney, Eton, Eton Wick, Fifield, Oakley Green, Old Windsor, Spital, Windsor, Berkshire, Winkfield, Woodside",county:"Bracknell Forest",coordinates:[51.481162,-.61040066]},{outward:"SL5",town:"Ascot, Burleigh, Cheapside, North Ascot, South Ascot, Sunningdale, Sunninghill",county:"Windsor and Maidenhead",coordinates:[51.402678,-.65268947]},{outward:"SL6",town:"Bray, Bray Wick, Burchett's Green, Cookham, Cookham Dean, Cookham Rise, Furze Platt, Hitcham, Holyport, Hurley, Hurley Bottom, Littlewick Green, Maidenhead, Paley Street, Pinkneys Green, Stud Green, Taplow, Touchen End, White Waltham, Woodlands Park",county:"South Buckinghamshire",coordinates:[51.525605,-.70097357]},{outward:"SL7",town:"Bisham, Little Marlow, Lower Woodend, Buckinghamshire, Marlow, Marlow Bottom, Medmenham",county:"South Buckinghamshire",coordinates:[51.570717,-.77544203]},{outward:"SL8",town:"Bourne End, Well End, Buckinghamshire",county:"South Buckinghamshire",coordinates:[51.575941,-.70825554]},{outward:"SL9",town:"Chalfont Common, Chalfont St Peter, Gerrards Cross, Horn Hill",county:"South Buckinghamshire",coordinates:[51.608595,-.55367216]},{outward:"SL60",town:"Non-geographic",county:"Maidenhead",coordinates:[51.518554,-.71479426]},{outward:"SL95",town:"Non-geographic",county:"Slough",coordinates:[51.508271,-.58461853]},{outward:"SM1",town:"Sutton, Rose Hill, The Wrythe, Carshalton, Benhilton, Erskine Village",county:"Sutton",coordinates:[51.359919,-.19302374]},{outward:"SM2",town:"Belmont, South Sutton, East Ewell",county:"Sutton",coordinates:[51.358872,-.19102534]},{outward:"SM3",town:"North Cheam",county:"Sutton",coordinates:[51.355393,-.22222803]},{outward:"SM4",town:"Morden, Morden Park, Lower Morden, St. Helier",county:"Merton",coordinates:[51.384566,-.22463315]},{outward:"SM5",town:"Carshalton, Carshalton Beeches, Carshalton on the Hill, The Wrythe, Carshalton Village, Eastern St. Helier, Middleton Circle",county:"Sutton",coordinates:[51.380072,-.18319141]},{outward:"SM6",town:"Wallington, Beddington, Hackbridge, Roundshaw, South Beddington",county:"Sutton",coordinates:[51.365888,-.15308218]},{outward:"SM7",town:"Banstead",county:"Reigate and Banstead",coordinates:[51.319039,-.21355952]},{outward:"SS0",town:"Southend-on-Sea, Westcliff-on-Sea",county:"Southend-on-Sea",coordinates:[51.55216,.6777998]},{outward:"SS1",town:"Southend-on-Sea, Thorpe Bay",county:"Southend-on-Sea",coordinates:[51.543523,.71237046]},{outward:"SS2",town:"Prittlewell, Southend-on-Sea",county:"Southend-on-Sea",coordinates:[51.547412,.72349252]},{outward:"SS3",town:"Shoeburyness",county:"Rochford",coordinates:[51.553599,.80853362]},{outward:"SS4",town:"Rochford",county:"Rochford",coordinates:[51.58308,.70681542]},{outward:"SS5",town:"Hockley",county:"Rochford",coordinates:[51.602281,.6564715]},{outward:"SS6",town:"Rayleigh",county:"Rochford",coordinates:[51.584471,.60201788]},{outward:"SS7",town:"Hadleigh, South Benfleet, Thundersley",county:"Castle Point",coordinates:[51.562395,.57579454]},{outward:"SS8",town:"Canvey Island",county:"Castle Point",coordinates:[51.51841,.59205108]},{outward:"SS9",town:"Eastwood, Leigh-on-Sea",county:"Southend-on-Sea",coordinates:[51.548734,.64847433]},{outward:"SS11",town:"Wickford",county:"Basildon",coordinates:[51.614534,.5230439]},{outward:"SS12",town:"Wickford",county:"Basildon",coordinates:[51.615038,.51756805]},{outward:"SS13",town:"Basildon",county:"Basildon",coordinates:[51.576056,.51993028]},{outward:"SS14",town:"Basildon",county:"Basildon",coordinates:[51.571103,.46003895]},{outward:"SS15",town:"Laindon",county:"Basildon",coordinates:[51.586298,.4317416]},{outward:"SS16",town:"Langdon Hills",county:"Basildon",coordinates:[51.564445,.47260831]},{outward:"SS17",town:"Corringham, Stanford-le-Hope",county:"Thurrock",coordinates:[51.516682,.44083087]},{outward:"SS22",town:"Non-geographic",county:"Southend-on-Sea",coordinates:[51.55698,.70682309]},{outward:"SS99",town:"Non-geographic",county:"Southend-on-Sea",coordinates:[51.531166,.72942942]},{outward:"SW1A",town:"Whitehall, Buckingham Palace",county:"Westminster",coordinates:[51.49984,-.12466273]},{outward:"SW1E",town:"Buckingham Gate, Victoria Station",county:"Westminster",coordinates:[51.498125,-.14060996]},{outward:"SW1H",town:"Buckingham Gate, Victoria St, Birdcage Walk",county:"Westminster",coordinates:[51.499445,-.13541268]},{outward:"SW1P",town:"Victoria Station, the Houses of Parliament, Vauxhall Bridge, Pimlico",county:"Westminster",coordinates:[51.496429,-.13743747]},{outward:"SW1V",town:"Vauxhall Bridge, Chelsea Bridge, Victoria Station, Pimlico",county:"Westminster",coordinates:[51.495671,-.14183351]},{outward:"SW1W",town:"Belgravia",county:"Westminster",coordinates:[51.498404,-.14686581]},{outward:"SW1X",town:"Belgravia, Knightsbridge",county:"Westminster",coordinates:[51.497343,-.15944292]},{outward:"SW1Y",town:"St. James's",county:"Westminster",coordinates:[51.50799,-.13381017]},{outward:"SW2",town:"Brixton, Brixton Hill, Streatham Hill, Tulse Hill, Clapham Park, Balham",county:"Lambeth",coordinates:[51.454693,-.11933117]},{outward:"SW3",town:"Chelsea, Brompton, Knightsbridge",county:"Kensington and Chelsea",coordinates:[51.501272,-.16056694]},{outward:"SW4",town:"Clapham, Stockwell",county:"Lambeth",coordinates:[51.461644,-.1481249]},{outward:"SW5",town:"Earl's Court",county:"Kensington and Chelsea",coordinates:[51.490069,-.19012971]},{outward:"SW6",town:"Fulham, Parson's Green",county:"Hammersmith and Fulham",coordinates:[51.48008,-.1966602]},{outward:"SW7",town:"South Kensington, Knightsbridge",county:"Kensington and Chelsea",coordinates:[51.499581,-.1714696]},{outward:"SW8",town:"South Lambeth, Vauxhall, Battersea, Clapham, Stockwell",county:"Lambeth",coordinates:[51.478732,-.11886095]},{outward:"SW9",town:"Stockwell, Brixton, Clapham",county:"Lambeth",coordinates:[51.471957,-.11303446]},{outward:"SW10",town:"West Brompton, Chelsea",county:"Kensington and Chelsea",coordinates:[51.477972,-.18300497]},{outward:"SW11",town:"Battersea, Clapham Junction",county:"Wandsworth",coordinates:[51.464566,-.16469231]},{outward:"SW12",town:"Balham, Clapham South, Hyde Farm",county:"Wandsworth",coordinates:[51.448263,-.14243481]},{outward:"SW13",town:"Barnes, Castelnau",county:"Richmond upon Thames",coordinates:[51.471845,-.24899353]},{outward:"SW14",town:"Mortlake, East Sheen",county:"Richmond upon Thames",coordinates:[51.46141,-.26996407]},{outward:"SW15",town:"Putney, Roehampton University",county:"Wandsworth",coordinates:[51.464133,-.22292897]},{outward:"SW16",town:"Streatham, Norbury, Thornton Heath, Streatham Park, Furzedown, Streatham Vale, Pollards Hill",county:"Lambeth",coordinates:[51.438392,-.13076338]},{outward:"SW17",town:"Tooting, Mitcham",county:"Wandsworth",coordinates:[51.433773,-.18296084]},{outward:"SW18",town:"Wandsworth, Southfields, Earlsfield",county:"Wandsworth",coordinates:[51.458462,-.18559358]},{outward:"SW19",town:"Wimbledon, Colliers Wood, Southfields",county:"Merton",coordinates:[51.421637,-.18614621]},{outward:"SW20",town:"Merton Park, Raynes Park",county:"Merton",coordinates:[51.421261,-.25377521]},{outward:"SW95",town:"Non-geographic",county:"Lambeth",coordinates:[51.481035,-.13580363]},{outward:"SW99",town:"Non-geographic",county:"Lambeth"},{outward:"TW1",town:"Twickenham, St. Margarets, Strawberry Hill",county:"Richmond upon Thames",coordinates:[51.450065,-.33227783]},{outward:"TW2",town:"Whitton, Strawberry Hill",county:"Richmond upon Thames",coordinates:[51.44488,-.34013668]},{outward:"TW3",town:"Hounslow, Maswell Park, Lampton",county:"Hounslow",coordinates:[51.470271,-.36098534]},{outward:"TW4",town:"Hounslow West, Hounslow Heath, Whitton",county:"Hounslow",coordinates:[51.463737,-.38392197]},{outward:"TW5",town:"Heston",county:"Hounslow",coordinates:[51.477373,-.38346892]},{outward:"TW6",town:"Heathrow",county:"Hillingdon",coordinates:[51.470836,-.45828258]},{outward:"TW7",town:"Isleworth, Osterley",county:"Hounslow",coordinates:[51.474162,-.349888]},{outward:"TW8",town:"Brentford",county:"Hounslow",coordinates:[51.483357,-.30356965]},{outward:"TW9",town:"North Sheen, Kew",county:"Richmond upon Thames",coordinates:[51.460814,-.30237592]},{outward:"TW10",town:"Ham, Petersham",county:"Richmond upon Thames",coordinates:[51.463414,-.28581034]},{outward:"TW11",town:"Teddington",county:"Richmond upon Thames",coordinates:[51.426111,-.33493367]},{outward:"TW12",town:"Hampton",county:"Richmond upon Thames",coordinates:[51.432254,-.37539439]},{outward:"TW13",town:"Feltham, Hanworth",county:"Hounslow",coordinates:[51.445927,-.41576353]},{outward:"TW14",town:"Hatton",county:"Hounslow",coordinates:[51.450907,-.40501311]},{outward:"TW15",town:"Ashford",county:"Spelthorne",coordinates:[51.43211,-.44020856]},{outward:"TW16",town:"Sunbury-on-thames",county:"Spelthorne",coordinates:[51.418742,-.41440244]},{outward:"TW17",town:"Shepperton",county:"Spelthorne",coordinates:[51.398655,-.45487407]},{outward:"TW18",town:"Staines, Egham Hythe",county:"Spelthorne",coordinates:[51.430518,-.49804904]},{outward:"TW19",town:"Stanwell, Wraysbury",county:"Spelthorne",coordinates:[51.450869,-.55473244]},{outward:"TW20",town:"Egham, Englefield Green",county:"Runnymede",coordinates:[51.439533,-.54258697]},{outward:"UB1",town:"Southall",county:"Ealing",coordinates:[51.5075,-.37848347]},{outward:"UB2",town:"Southall",county:"Ealing",coordinates:[51.506172,-.3780551]},{outward:"UB3",town:"Hayes, Harlington",county:"Hillingdon",coordinates:[51.503676,-.41452537]},{outward:"UB4",town:"Yeading, Hayes",county:"Hillingdon",coordinates:[51.525885,-.41770399]},{outward:"UB5",town:"Northolt",county:"Ealing",coordinates:[51.548212,-.36844058]},{outward:"UB6",town:"Greenford, Perivale",county:"Ealing",coordinates:[51.542247,-.34380685]},{outward:"UB7",town:"West Drayton, Harmondsworth, Sipson, Yiewsley, Longford",county:"Hillingdon",coordinates:[51.48946,-.4714247]},{outward:"UB8",town:"Uxbridge, Cowley, Hillingdon",county:"Hillingdon",coordinates:[51.537333,-.4873407]},{outward:"UB9",town:"Denham, Harefield",county:"South Buckinghamshire",coordinates:[51.551325,-.48523241]},{outward:"UB10",town:"Hillingdon, Ickenham",county:"Hillingdon",coordinates:[51.536913,-.47156588]},{outward:"UB11",town:"Stockley Park",county:"Hillingdon",coordinates:[51.512385,-.44437146]},{outward:"UB18",town:"Non-geographic",county:"Ealing",coordinates:[51.500719,-.40268407]},{outward:"W1A",town:"Non-geographic",county:"Westminster"},{outward:"W1B",town:"Portland Street, Regent Street",county:"Westminster"},{outward:"W1C",town:"Oxford Street (west)",county:"Westminster"},{outward:"W1D",town:"Soho (south east), Chinatown, Soho Square",county:"Westminster"},{outward:"W1E",town:"Non-geographic",county:"West London"},{outward:"W1F",town:"Soho (north west)",county:"Westminster"},{outward:"W1G",town:"Harley Street",county:"Westminster"},{outward:"W1H",town:"Marylebone",county:"Westminster"},{outward:"W1J",town:"Mayfair (south), Piccadilly, Royal Academy",county:"Westminster"},{outward:"W1K",town:"Mayfair (north), Grosvenor Square",county:"Westminster"},{outward:"W1M",town:"Marylebone",county:"London"},{outward:"W1N",town:"Regents Park, Oxford Circus",county:"London"},{outward:"W1P",town:"Goodge Street, Warren Street",county:"London"},{outward:"W1R",town:"Oxford Street, Regent Street",county:"London"},{outward:"W1S",town:"Hanover Square, Savile Row",county:"Westminster"},{outward:"W1T",town:"Fitzrovia, Tottenham Court Road",county:"Camden"},{outward:"W1U",town:"Marylebone",county:"Westminster"},{outward:"W1V",town:"Soho, Piccadilly",county:"London"},{outward:"W1W",town:"Great Portland Street, Fitzrovia",county:"Westminster"},{outward:"W1X",town:"Mayfair",county:"London"},{outward:"W1Y",town:"Mayfair",county:"London"},{outward:"W2",town:"Paddington, Bayswater, Hyde Park, Westbourne Green, Little Venice, Westbourne Green, Notting Hill",county:"Westminster",coordinates:[51.520327,-.17842245]},{outward:"W3",town:"Acton, East Acton, Park Royal, West Acton",county:"Ealing",coordinates:[51.519838,-.26841397]},{outward:"W4",town:"Chiswick, Gunnersbury, Turnham Green, Bedford Park",county:"Hounslow",coordinates:[51.501346,-.25421702]},{outward:"W5",town:"Ealing, Park Royal",county:"Ealing",coordinates:[51.528642,-.29793685]},{outward:"W6",town:"Hammersmith, Ravenscourt Park",county:"Hammersmith and Fulham",coordinates:[51.495143,-.22739925]},{outward:"W7",town:"Hanwell, Boston Manor",county:"Ealing",coordinates:[51.518505,-.33789393]},{outward:"W8",town:"Kensington, Holland Park",county:"Kensington and Chelsea",coordinates:[51.504699,-.19299391]},{outward:"W9",town:"Maida Vale, Little Venice",county:"Westminster",coordinates:[51.522735,-.18119493]},{outward:"W10",town:"North Kensington, Queens Park",county:"Kensington and Chelsea",coordinates:[51.529068,-.21587479]},{outward:"W11",town:"Notting Hill, Holland Park",county:"Kensington and Chelsea",coordinates:[51.520271,-.20043511]},{outward:"W12",town:"Shepherds Bush, White City",county:"Hammersmith and Fulham",coordinates:[51.516396,-.244403]},{outward:"W13",town:"West Ealing, Northfields",county:"Ealing",coordinates:[51.528521,-.32955688]},{outward:"W14",town:"West Kensington, Kensington Olympia, Holland Park",county:"Kensington and Chelsea",coordinates:[51.499435,-.21866026]},{outward:"WC1A",town:"New Oxford Street",county:"Camden",coordinates:[51.516395,-.12516473]},{outward:"WC1B",town:"Bloomsbury, British Museum",county:"Camden",coordinates:[51.518137,-.12897044]},{outward:"WC1E",town:"University College London",county:"Camden",coordinates:[51.522774,-.1333067]},{outward:"WC1H",town:"St Pancras",county:"Camden",coordinates:[51.522981,-.12991069]},{outward:"WC1N",town:"Great Ormond Street Hospital",county:"Camden",coordinates:[51.525387,-.12517019]},{outward:"WC1R",town:"Gray's Inn",county:"Camden",coordinates:[51.518266,-.12014401]},{outward:"WC1V",town:"High Holborn",county:"Camden",coordinates:[51.518435,-.11389589]},{outward:"WC1X",town:"Kings Cross, Finsbury (west)",county:"Camden",coordinates:[51.523743,-.11180257]},{outward:"WC2A",town:"Lincoln's Inn Fields, Royal Courts of Justice",county:"Camden",coordinates:[51.51785,-.11384801]},{outward:"WC2B",town:"Drury Lane, Aldwych",county:"Camden",coordinates:[51.514374,-.11971333]},{outward:"WC2E",town:"Covent Garden",county:"Westminster",coordinates:[51.513814,-.12295031]},{outward:"WC2H",town:"Leicester Square",county:"Westminster",coordinates:[51.513033,-.12923721]},{outward:"WC2N",town:"Charing Cross",county:"Westminster",coordinates:[51.511496,-.12758521]},{outward:"WC2R",town:"Somerset House",county:"Westminster",coordinates:[51.510588,-.12025832]},{outward:"WC99",town:"Covent Garden",county:"London"},{outward:"WD1",town:"Watford",county:"Watford"},{outward:"WD2",town:"Watford, Leavesden, Bushey",county:"Watford"},{outward:"WD3",town:"Batchworth Heath, Chandlers Cross, Chenies, Chorleywood, Croxley Green, Heronsgate, Loudwater, Maple Cross, Mill End, Rickmansworth, Sarratt, West Hyde",county:"Three Rivers"},{outward:"WD4",town:"Bucks Hill, Chipperfield, Hunton Bridge, Kings Langley",county:"Dacorum",coordinates:[51.712833,-.45029984]},{outward:"WD5",town:"Bedmond, Abbots Langley",county:"Three Rivers",coordinates:[51.707237,-.41634895]},{outward:"WD6",town:"Borehamwood, Elstree, Well End",county:"Hertsmere",coordinates:[51.654296,-.27923992]},{outward:"WD7",town:"Shenley, Radlett",county:"Hertsmere",coordinates:[51.682947,-.31723999]},{outward:"WD17",town:"Watford, Cassiobury, Nascot Wood",county:"Watford",coordinates:[51.656885,-.39867429]},{outward:"WD18",town:"West Watford",county:"Watford",coordinates:[51.653146,-.39420906]},{outward:"WD19",town:"Oxhey, South Oxhey, Carpenders Park",county:"Watford",coordinates:[51.646235,-.38270233]},{outward:"WD23",town:"Bushey, Bushey Heath",county:"Hertsmere",coordinates:[51.640496,-.35790463]},{outward:"WD24",town:"North Watford",county:"Watford",coordinates:[51.667554,-.39773415]},{outward:"WD25",town:"Garston, Aldenham, Leavesden, Letchmore Heath",county:"Watford",coordinates:[51.688202,-.40516471]},{outward:"WD99",town:"Non-geographic",county:"Watford",coordinates:[51.648776,-.42208728]}],cx=k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,f.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,f.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},gutterBottom:{marginBottom:"1em"},gutterTopDoubleMedium:{marginTop:"2em"},gutterBottomDoubleMedium:{marginBottom:"2em"},gutterBottomExtraExtraLarge:{marginBottom:80},passcodeContainer:{minHeight:"120px"},submitButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"}),addAreaCtaButton:(0,f.Z)({marginBottom:8},e.breakpoints.down("sm"),{width:"100%"}),whiteBasicColor:{color:e.whiteBasic},trueblackBasicColor:{color:e.trueblackBasic},redColor:{color:e.red},greyColor:{color:e.grey},greyMainColor:{color:e.greyMain},root:{justifyContent:"center",color:e.trueblackBasic,minWidth:24},closeBackgroundSelection:{cursor:"pointer",display:"flex",background:"transparent",border:"0",padding:"0"}}}));function lx(t){var n=t.onClose,r=cx(),i=Ot(),a=(i.signIn,i.user),o=i.updatePartnerCoverage,s=(i.isAuthReady,kt(),xt(),(0,e.useState)("")),u=(0,G.Z)(s,2),c=(u[0],u[1],(0,e.useState)("")),l=(0,G.Z)(c,2),d=(l[0],l[1],(0,e.useState)("")),f=(0,G.Z)(d,2),p=(f[0],f[1],(0,e.useState)(ux)),m=(0,G.Z)(p,2),v=m[0],g=m[1],y=(0,e.useState)([]),b=(0,G.Z)(y,2),w=b[0],k=b[1],x=(0,e.useState)(null),_=(0,G.Z)(x,2);_[0],_[1];(0,e.useEffect)((function(){if(a&&a.areas){var e=ux.filter((function(e){return a&&a.areas&&a.areas.find((function(t){return t===e.outward}))}));k(e)}}),[a]);var S=(0,e.useCallback)((function(e){var t=e.target.value,n=(0,C.Z)(ux);n=ux.filter((function(e){return e.outward.toLowerCase().includes(t.toLowerCase())||e.town.toLowerCase().includes(t.toLowerCase())})),g(n)}),[g]),E=(0,e.useCallback)((function(e){return function(t){t.preventDefault();var n=(0,C.Z)(w);t.target.checked?n.push(e):n=n.filter((function(t){return t.outward!==e.outward})),k(n)}}),[w,k]);return e.createElement(e.Fragment,null,e.createElement(Hf,{display:"flex",textAlign:"center",py:1,px:2},e.createElement(Hf,{position:"absolute"},e.createElement("button",{className:r.closeBackgroundSelection,onClick:n},e.createElement(ax,null))),e.createElement(cr,{variant:"button",color:"primary",className:(0,h.Z)(r.gutterBottom),style:{flexGrow:1}},"Add area")),e.createElement(Hf,{display:"flex",pb:3,px:2},e.createElement(Js,{id:"input-district",onChange:S,type:"text",variant:"outlined",placeholder:"Search a district",size:"small",style:{flexGrow:1}})),e.createElement("form",{onSubmit:function(e){e.preventDefault();var t=w.map((function(e){return e.outward}));o(null===a||void 0===a?void 0:a.id,t)}},e.createElement(Zp,{style:{height:"calc(100% - 126px)",overflow:"scroll"},innerContainerStyle:{minHeight:"100%"}},e.createElement(Hf,null,e.createElement(ff,{maxWidth:"sm",disableGutters:!0,style:{flexGrow:1}},e.createElement(yi,{component:"nav","aria-label":"mailbox folders",disablePadding:!0,className:""},v.map((function(t){return e.createElement(e.Fragment,null,e.createElement(fa,{button:!0,style:{paddingLeft:0,paddingRight:0},key:t.outward},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"space-between",flex:"1"},e.createElement(Sp,{classes:{root:r.root}},e.createElement(Tp,null)),e.createElement(up,{primaryTypographyProps:{variant:"button",display:"inline",color:"primary"},secondaryTypographyProps:{variant:"subtitle1",display:"inline",color:"primary"},primary:"".concat(t&&t.outward,", "),secondary:t&&t.town,style:{marginLeft:16}}),e.createElement(ix,{checked:!!w.find((function(e){return e.outward===t.outward})),onChange:E(t),value:"checkedA",checkedIcon:e.createElement(ox,null),icon:e.createElement(sx,null),inputProps:{"aria-label":"Checkbox A"}}))),e.createElement(mr,null))})),e.createElement(mr,{light:!0}))),e.createElement(Kr,{container:!0,justifyContent:"flex-end",style:{padding:"16px 0"}},e.createElement(z,{variant:"contained",color:"primary",type:"submit",className:r.addAreaCtaButton},"Save"))))),e.createElement(Np,null))}function dx(){return e.createElement("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 12.7143H13.2143V20H10.7857V12.7143H3.5V10.2857H10.7857V3H13.2143V10.2857H20.5V12.7143Z",fill:"white"}))}var fx=k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,f.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,f.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},gutterBottom:{marginBottom:"1em"},gutterTopDoubleMedium:{marginTop:"2em"},gutterBottomDoubleMedium:{marginBottom:"2em"},gutterBottomExtraExtraLarge:{marginBottom:80},passcodeContainer:{minHeight:"120px"},submitButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"}),addAreaCtaButton:(0,f.Z)({marginBottom:8},e.breakpoints.down("sm"),{width:"100%"}),whiteBasicColor:{color:e.whiteBasic},trueblackBasicColor:{color:e.trueblackBasic},redColor:{color:e.red},greyColor:{color:e.grey},greyMainColor:{color:e.greyMain},root:{justifyContent:"center",color:e.trueblackBasic,minWidth:24}}})),px={container:{flex:1,backgroundColor:"white",alignItems:"center",justifyContent:"center",borderRadius:8,height:"100%"}},hx={backdrop:{position:"fixed",zIndex:1e3},container:{position:"fixed",zIndex:1e3}},mx=fe();function vx(){var t=fx(),n=Ot(),r=(n.signIn,n.user),i=(n.isAuthReady,kt(),xt(),(0,e.useState)("")),a=(0,G.Z)(i,2),o=(a[0],a[1],(0,e.useState)("")),s=(0,G.Z)(o,2),u=(s[0],s[1],(0,e.useState)("")),c=(0,G.Z)(u,2),l=(c[0],c[1],(0,e.useState)(null)),d=(0,G.Z)(l,2),f=(d[0],d[1],(0,e.useRef)(null)),p=r&&r.areas?r.areas.map((function(e){return ux.find((function(t){return t.outward===e}))})):[];return e.createElement(e.Fragment,null,e.createElement(ff,null,e.createElement(cr,{variant:"h2",className:(0,h.Z)(t.gutterTopDoubleMedium,t.gutterBottomDoubleMedium,t.greyMainColor)},"AREAS COVERED")),e.createElement(Zp,null,e.createElement(cr,{variant:"h3",className:(0,h.Z)(t.gutterBottom,t.greyColor)},p.length," postcodes covered:"),e.createElement(ff,{maxWidth:"sm",disableGutters:!0},e.createElement(yi,{component:"nav","aria-label":"mailbox folders",disablePadding:!0,className:t.gutterBottomExtraExtraLarge},p.map((function(n){return e.createElement(e.Fragment,null,e.createElement(fa,{button:!0,style:{paddingLeft:0,paddingRight:0}},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"space-between",flex:"1"},e.createElement(Sp,{classes:{root:t.root}},e.createElement(Tp,null)),e.createElement(up,{primaryTypographyProps:{variant:"button",display:"inline",color:"primary"},secondaryTypographyProps:{variant:"subtitle1",display:"inline",color:"primary"},primary:"".concat(null===n||void 0===n?void 0:n.outward,", "),secondary:null===n||void 0===n?void 0:n.town,style:{marginLeft:16}}))),e.createElement(mr,null))})),e.createElement(mr,{light:!0}))),e.createElement(Kr,{container:!0,justifyContent:"flex-end"},e.createElement(z,{variant:"contained",color:"primary",type:"submit",onClick:function(){return f.current&&f.current.show()},className:t.addAreaCtaButton},e.createElement(dx,null),"Add Area"))),e.createElement(Np,null),e.createElement(Kk,{ref:f,draggableRange:{top:mx-24,bottom:0},snappingPoints:[118,500],backdropStyle:hx.backdrop,containerStyle:hx.container,height:mx-24,friction:.7},e.createElement("div",{style:px.container},e.createElement(lx,{onClose:function(){return f.current&&f.current.hide()}}))))}function gx(){return e.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M42.8365 37.743L39.352 35.3085C38.8964 34.9907 38.3638 34.8232 37.8115 34.8232C36.9333 34.8232 36.109 35.2539 35.6068 35.9745L34.798 37.1337C33.4423 36.2245 31.9296 34.955 30.4876 33.5132C29.0458 32.0714 27.7766 30.5588 26.8677 29.2031L28.0263 28.3942C28.617 27.983 29.0114 27.3669 29.1367 26.6599C29.2617 25.9535 29.1041 25.2397 28.6923 24.6488L26.2584 21.1643C25.7494 20.4364 24.9282 20.0015 24.0613 20.0015C23.7609 20.0015 23.4662 20.0545 23.1857 20.158C22.8672 20.2756 22.5704 20.4201 22.2794 20.6029L21.7983 20.9416C21.678 21.0351 21.5662 21.1376 21.459 21.2447C20.8721 21.8314 20.4555 22.5741 20.2205 23.4523C19.2176 27.2119 21.7022 32.8971 26.4031 37.598C30.3508 41.5457 35.0934 43.998 38.7798 43.9986H38.7801C39.4114 43.9986 40.0065 43.925 40.5491 43.7801C41.4273 43.5453 42.1699 43.1288 42.7572 42.5415C42.8638 42.4349 42.9657 42.323 43.0749 42.1818L43.414 41.698C43.5797 41.4333 43.7239 41.1365 43.8431 40.8156C44.253 39.7074 43.8392 38.4436 42.8365 37.743Z",fill:"currentColor"}))}function yx(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M17.5987 5.51323H15.8635V4.80706C15.8635 4.36318 15.5004 4 15.0565 4C14.6126 4 14.2494 4.36318 14.2494 4.80706V5.51323H9.77024V4.80706C9.77024 4.36318 9.40706 4 8.96318 4C8.51929 4 8.15612 4.36318 8.15612 4.80706V5.51323H6.42094C5.53318 5.51323 4.80682 6.23959 4.80682 7.12735V18.3858C4.80682 19.2736 5.53318 19.9999 6.42094 19.9999H17.5785C18.4663 19.9999 19.1926 19.2736 19.1926 18.3858V7.12735C19.2128 6.23959 18.4865 5.51323 17.5987 5.51323ZM17.5785 18.3656H6.42094V11.5864H17.5785V18.3656Z",fill:"#303740"}))}function bx(){return e.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M46.9333 28.2666V24.5333C46.9333 24.0382 46.7366 23.5634 46.3865 23.2134C46.0365 22.8633 45.5617 22.6666 45.0666 22.6666H43.1999V24.5333C43.1999 25.0284 43.0033 25.5031 42.6532 25.8532C42.3031 26.2033 41.8283 26.4 41.3333 26.4C40.8382 26.4 40.3634 26.2033 40.0133 25.8532C39.6633 25.5031 39.4666 25.0284 39.4666 24.5333V22.6666H24.5333V24.5333C24.5333 25.0284 24.3366 25.5031 23.9865 25.8532C23.6365 26.2033 23.1617 26.4 22.6666 26.4C22.1715 26.4 21.6967 26.2033 21.3467 25.8532C20.9966 25.5031 20.7999 25.0284 20.7999 24.5333V22.6666H18.9333C18.4382 22.6666 17.9634 22.8633 17.6133 23.2134C17.2633 23.5634 17.0666 24.0382 17.0666 24.5333V28.2666H46.9333ZM46.9333 32H17.0666V43.1999C17.0666 43.695 17.2633 44.1698 17.6133 44.5199C17.9634 44.87 18.4382 45.0666 18.9333 45.0666H45.0666C45.5617 45.0666 46.0365 44.87 46.3865 44.5199C46.7366 44.1698 46.9333 43.695 46.9333 43.1999V32ZM43.1999 18.9333H45.0666C46.5518 18.9333 47.9762 19.5233 49.0264 20.5735C50.0766 21.6237 50.6666 23.0481 50.6666 24.5333V43.1999C50.6666 44.6852 50.0766 46.1095 49.0264 47.1597C47.9762 48.21 46.5518 48.7999 45.0666 48.7999H18.9333C17.448 48.7999 16.0237 48.21 14.9735 47.1597C13.9233 46.1095 13.3333 44.6852 13.3333 43.1999V24.5333C13.3333 23.0481 13.9233 21.6237 14.9735 20.5735C16.0237 19.5233 17.448 18.9333 18.9333 18.9333H20.7999V17.0666C20.7999 16.5715 20.9966 16.0968 21.3467 15.7467C21.6967 15.3966 22.1715 15.2 22.6666 15.2C23.1617 15.2 23.6365 15.3966 23.9865 15.7467C24.3366 16.0968 24.5333 16.5715 24.5333 17.0666V18.9333H39.4666V17.0666C39.4666 16.5715 39.6633 16.0968 40.0133 15.7467C40.3634 15.3966 40.8382 15.2 41.3333 15.2C41.8283 15.2 42.3031 15.3966 42.6532 15.7467C43.0033 16.0968 43.1999 16.5715 43.1999 17.0666V18.9333Z",fill:"currentColor"}))}function wx(){return e.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.0001 14C25.0893 14 19.5 19.5893 19.5 26.5001C19.5 35.8751 32.0001 49.7144 32.0001 49.7144C32.0001 49.7144 44.5001 35.8751 44.5001 26.5001C44.5001 19.5893 38.9108 14 32.0001 14ZM32.0004 31.8578C29.2404 31.8578 27.0004 29.5721 27.0004 26.7558C27.0004 23.9394 29.2404 21.6537 32.0004 21.6537C34.7604 21.6537 37.0004 23.9394 37.0004 26.7558C37.0004 29.5721 34.7604 31.8578 32.0004 31.8578Z",fill:"currentColor"}))}function kx(){return e.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.111 29.2916V22.9722C42.111 21.9791 41.2985 21.1666 40.3055 21.1666H18.6388C17.6458 21.1666 16.8333 21.9791 16.8333 22.9722V41.0277C16.8333 42.0208 17.6458 42.8333 18.6388 42.8333H40.3055C41.2985 42.8333 42.111 42.0208 42.111 41.0277V34.7083L49.3333 41.9305V22.0694L42.111 29.2916V29.2916Z",fill:"#B87BC9"}))}function xx(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2763 4.32671C17.6699 3.9095 18.3238 3.88879 18.741 4.28233C19.1582 4.67586 19.1759 5.32978 18.7883 5.74698L16.1342 8.5609L13.8322 11.0405C13.8203 11.0878 13.8026 11.1351 13.7848 11.1795V18.417C13.7848 18.9881 13.3203 19.4526 12.7492 19.4526C12.1781 19.4526 11.7136 18.9881 11.7136 18.417V12.0021L10.1246 11.9932C10.0093 11.9932 9.89681 11.9784 9.78733 11.9488L7.35807 11.2979C7.32974 11.2908 7.30329 11.2818 7.27572 11.2725C7.26874 11.2701 7.26169 11.2677 7.25451 11.2653L6.76038 12.372L7.65988 13.2123C8.01791 13.5467 8.03566 14.1088 7.70131 14.4669C7.52673 14.6533 7.29002 14.748 7.05331 14.748C6.83435 14.748 6.61835 14.6681 6.44673 14.5083L5.08563 13.236C4.8075 12.9756 4.72761 12.5702 4.88147 12.224L5.83128 10.0995C5.87566 9.99893 5.9378 9.9072 6.01473 9.83323C6.09462 9.8421 6.17747 9.84802 6.25736 9.84802C6.48224 9.84802 6.69824 9.81252 6.90536 9.74446C7.27522 9.62019 7.59774 9.39235 7.867 9.06983C8.08892 8.80057 8.2635 8.47805 8.38481 8.11115L9.51216 7.03411L11.9592 4.73504C12.3172 4.39772 12.8794 4.41548 13.2137 4.7735C13.5511 5.13153 13.5333 5.69372 13.1753 6.02808L10.7312 8.32419L9.81396 9.20002L10.3111 9.33317L12.5569 9.34797H12.5746L14.6222 7.14359L17.2763 4.32671ZM7.71316 6.19673C8.04456 7.18797 7.6599 8.7118 6.66867 9.0432C6.53256 9.08758 6.39349 9.10829 6.25738 9.10829C5.36084 9.10829 4.40807 8.25909 4.12105 7.40101C3.78966 6.40977 4.12697 5.27651 5.27798 4.89186C5.50582 4.81493 5.72182 4.77942 5.92894 4.77942C6.78998 4.77942 7.4439 5.39487 7.71316 6.19673Z",fill:"currentColor"}))}function _x(){return e.createElement("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.9773 6.46154H16.7045V5.23077C16.7045 4.55385 16.1318 4 15.4318 4H6.52273C5.82273 4 5.25 4.55385 5.25 5.23077V16.3077C5.25 16.9846 5.82273 17.5385 6.52273 17.5385H7.79545V18.7692C7.79545 19.4462 8.36818 20 9.06818 20H17.9773C18.6773 20 19.25 19.4462 19.25 18.7692V7.69231C19.25 7.01538 18.6773 6.46154 17.9773 6.46154ZM7.79545 7.69231V16.3077H6.52273V5.23077H15.4318V6.46154H9.06818C8.36818 6.46154 7.79545 7.01538 7.79545 7.69231ZM17.9773 18.7692H9.06818V7.69231H17.9773V18.7692Z",fill:"currentColor"}))}var Sx=k((function(e){var t;return{container:(t={width:"320px",minHeight:"86px",padding:"32px 24px 0"},(0,f.Z)(t,e.breakpoints.down("xs"),{width:"calc(100vw - 32px)"}),(0,f.Z)(t,"& .inputSelect",{width:"calc(100% - 35px)"}),t),button:{width:"100%"},paper:(0,f.Z)({alignItems:"center"},e.breakpoints.down("xs"),{margin:"16px"}),formControl:{display:"block",margin:"1.5em 0","&:first-child":{margin:"0 0 1.5em 0"}},label:{width:"133%"},greyMainColor:{color:e.greyMain}}}));function Ex(t){var n=t.open,r=t.onClose,i=Sx();return e.createElement(nr,{open:n,onClose:r,classes:{paper:i.paper}},e.createElement(or,{className:i.container},e.createElement(Kr,{container:!0,justifyContent:"center"},e.createElement(Kr,{item:!0,style:{textAlign:"center"}},e.createElement(Hf,{display:"inline-flex",mb:4,justifyContent:"center"},e.createElement(np,null)),e.createElement(cr,{variant:"body1",className:i.greyMainColor},"The rating has been sent.\u2028Thank you!")))),e.createElement(ir,null,e.createElement(z,{className:i.button,color:"primary",variant:"contained",onClick:r},"OK")))}function Cx(e){e||(e={id:null}),this._address=e,this.thoroughfare=e.firstStreet,this.locality=e.city,this.subLocality=e.borough,this.postalCode=e.postCode,this.subThoroughfare=e.homeNumber,this.country=e.country,this.buildingNumber=e.buildingNumber,this.longitude=e.longitude,this.latitude=e.latitude}Cx.prototype={get id(){return this._address.id},shortAddress:function(){var e;return e=[this.subThoroughfare,this.buildingNumber,this.thoroughfare].filter((function(e){return e})).join(" "),e},boroughWithoutPostCode:function(){return[this.subLocality,this.locality].filter((function(e){return e})).join(" ")},boroughAndPostCode:function(){var e;return e=[this.subLocality,this.locality,this.postalCode].filter((function(e){return e})).join(" "),e},addressDescription:function(e){return e?this.postalCode:[this.subLocality,this.locality,this.postalCode].filter((function(e){return e})).join(", ")},fullAddress:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.thoroughfare?[this.thoroughfare,e?this.boroughAndPostCode():this.boroughWithoutPostCode()].filter((function(e){return/\w+/.test(e)})).join(", "):[e?this.boroughAndPostCode():this.boroughWithoutPostCode()].filter((function(e){return/\w+/.test(e)})).join(", ")},getAddrElements:function(){var e=[];return this.thoroughfare?e.push(this.thoroughfare,this.addressDescription(!0)):e.push(this.boroughAndPostCode()),e.filter((function(e){return/\w+/.test(e)}))}};var Tx=Cx,Ax=n.p+"static/media/session-details-map@2x.17f8be66b2b028c01b11.png",Ox=k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,f.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,f.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},gutterBottom:{marginBottom:".5rem"},gutterBottomBase:{marginBottom:"1rem"},gutterBottomExtraLarge:{marginBottom:"1.5em"},gutterTopDoubleMedium:{marginTop:"2em"},gutterBottomDoubleMedium:{marginBottom:"2em"},gutterTopFull:{marginTop:64},gutterBottomExtraExtraLarge:{marginBottom:80},passcodeContainer:{minHeight:"120px"},bottomCtaContainer:{position:"fixed",bottom:0,left:0,backgroundColor:"#ffffff",boxShadow:"0px 0px 32px rgba(0, 0, 0, 0.1)",zIndex:1099},submitButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"}),addAreaCtaButton:(0,f.Z)({marginBottom:8},e.breakpoints.down("sm"),{width:"100%"}),whiteBasicColor:{color:e.whiteBasic},trueblackBasicColor:{color:e.trueblackBasic},redColor:{color:e.red},greyColor:{color:e.grey},greyMainColor:{color:e.greyMain},greenMainColor:{color:e.greenMain},root:{justifyContent:"center",color:e.trueblackBasic,minWidth:24},rootArrow:{color:e.red,minWidth:24},closeSessionDetails:{cursor:"pointer",display:"flex",background:"transparent",border:"0",padding:"0"},buttonsDuet:{cursor:"pointer",display:"flex",width:"100%",border:"0",backgroundColor:"#ffffff",padding:"8px 16px",borderRadius:8},linkLikeButton:{textDecoration:"underline"}}})),Rx=(0,i.Z)((function(e){return{root:{height:"100%",borderRadius:8,backgroundColor:e.greyLight}}}))(Hf),Ix={display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},Nx={height:"100%"};function Px(t){var n,r,i,a,o,s,u=t.booking,c=(t.sessionType,t.onClick,t.onClose),l=Ox(),d=Ot(),f=(d.signIn,d.user),p=d.runningLate,m=d.startSession,v=d.stopSession,g=d.declineSession,y=d.cancelSession,b=(d.isAuthReady,kt()),w=(xt(),(0,e.useState)("")),k=(0,G.Z)(w,2),x=(k[0],k[1]),_=(0,e.useState)(""),S=(0,G.Z)(_,2),E=(S[0],S[1],(0,e.useState)("")),C=(0,G.Z)(E,2),T=(C[0],C[1],(0,e.useState)(!1)),A=(0,G.Z)(T,2),O=A[0],R=A[1],I=(0,e.useState)(""),N=(0,G.Z)(I,2),P=N[0],M=N[1],L=(0,e.useState)(null),D=(0,G.Z)(L,2);D[0],D[1];(0,e.useEffect)((function(){if(u&&!u.isOnline){var e=new Tx(null===u||void 0===u?void 0:u.location);M(e.fullAddress(!0))}}),[u]);var F=(0,e.useCallback)((function(e){!function(e){var t,n=!1,r=!1;try{n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0),window.getSelection(),(t=document.createElement("textarea")).value=e,t.contentEditable="true",t.setAttribute("readonly",""),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="1px",t.style.height="1px",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length),r=document.execCommand("copy")}finally{t&&document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))}}(null===u||void 0===u?void 0:u.roomUrl)}),[u]),B=(0,e.useCallback)((function(e){null===u||void 0===u||u.product.id.includes("_LS")}),[u]),j=(0,e.useCallback)((function(e){f&&u&&p(null===f||void 0===f?void 0:f.id,null===u||void 0===u?void 0:u.id)}),[f,u]),Z=(0,e.useCallback)((function(e){f&&u&&("IN_PROGRESS"===(null===u||void 0===u?void 0:u.status)?v(null===f||void 0===f?void 0:f.id,null===u||void 0===u?void 0:u.id).then((function(){b.push({pathname:"/rate-session"})})):m(null===f||void 0===f?void 0:f.id,null===u||void 0===u?void 0:u.id))}),[f,u]),V=((0,e.useCallback)((function(e){f&&u&&g(null===f||void 0===f?void 0:f.id,null===u||void 0===u?void 0:u.id)}),[f,u]),(0,e.useCallback)((function(e){f&&u&&y(null===f||void 0===f?void 0:f.id,null===u||void 0===u?void 0:u.id)}),[f,u]),null===u||void 0===u?void 0:u.product.id.includes("_LS")),U=u?gp()(null===u||void 0===u?void 0:u.startTime):gp()(),W=null===u||void 0===u?void 0:u.status.toLowerCase().startsWith("cancelled"),H="IN_PROGRESS"===(null===u||void 0===u?void 0:u.status)?"#303740":"#E94E32";return e.createElement(e.Fragment,null,e.createElement(Hf,{display:"flex",textAlign:"center",py:1,px:2,style:{userSelect:"none"}},e.createElement(Hf,{position:"absolute"},e.createElement("button",{className:l.closeSessionDetails,onClick:c},e.createElement(ax,null))),e.createElement(cr,{variant:"button",color:"primary",className:(0,h.Z)(l.gutterBottom),style:{flexGrow:1}},"Sessions Details")),e.createElement(Zp,{style:{height:"calc(100% - 50px)"},innerContainerStyle:{maxHeight:"calc(100% + 8px)",paddingBottom:24,overflow:"scroll"}},e.createElement("div",{style:{paddingBottom:"IN_PROGRESS"===(null===u||void 0===u?void 0:u.status)?128:112}},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},e.createElement(yp,null),e.createElement(Hf,{flexGrow:"1",ml:1},e.createElement(Hf,{display:"flex",alignItems:"center",mb:1},e.createElement(Hf,{display:"flex",className:(0,h.Z)(l.greyColor),mr:1},e.createElement(xx,null)),e.createElement(cr,{variant:"caption",color:"primary"},null===u||void 0===u?void 0:u.product.labels.displayName," session with")),e.createElement(cr,{variant:"h2",color:"primary",className:""},null!==u&&void 0!==u&&u.customer?"".concat(null===u||void 0===u||null===(n=u.customer)||void 0===n?void 0:n.firstName," ").concat(null===u||void 0===u||null===(r=u.customer)||void 0===r?void 0:r.familyName):"".concat(null===u||void 0===u||null===(i=u.user)||void 0===i?void 0:i.firstName," ").concat(null===u||void 0===u||null===(a=u.user)||void 0===a?void 0:a.familyName)))),e.createElement(Rx,{display:"flex",py:1,mb:2},e.createElement(gx,null),e.createElement(Hf,{ml:2},e.createElement(cr,{variant:"caption",color:"primary"},"Mobile:"),e.createElement(cr,{variant:"h5",color:"primary"},(null===u||void 0===u||null===(o=u.user)||void 0===o||null===(s=o.userDetail)||void 0===s?void 0:s.phoneNumber)||"+44(0) 745 978 3573"))),e.createElement(Hf,{sx:Ix,mb:2},e.createElement(Hf,{sx:Nx},e.createElement(Rx,{display:"flex",alignItems:"center",flexDirection:"column",py:2,px:5,mr:1},e.createElement(Hf,{className:l.greenMainColor},e.createElement(bx,null)),e.createElement(cr,{variant:"h4",color:"primary"},U.calendar(void 0,ae)),e.createElement(cr,{variant:"h2",color:"primary"},U.format("HH:mm")))),e.createElement(Hf,{sx:Nx},e.createElement(Rx,{display:"flex",alignItems:"center",flexDirection:"column",py:2,px:5},e.createElement(Hf,{className:l.redColor},V?e.createElement(kx,null):e.createElement(wx,null)),e.createElement(cr,{variant:"h4",color:"primary",style:{whiteSpace:"nowrap"}},V?"Online":"In-person"),e.createElement(cr,{variant:"h4",color:"primary"},"session")))),e.createElement(Rx,{py:1,mb:3},V?e.createElement(Hf,{pt:0,pb:0,px:2,flexGrow:1,display:"flex",flexDirection:"column",sx:{padding:"0 16px 0 16px"}},e.createElement(qs,{shrink:!0,htmlFor:"input-live-stream-link"},"Link for stream"),e.createElement(Js,{id:"input-live-stream-link",onChange:function(e){return x(e.target.value)},type:"text",value:null===u||void 0===u?void 0:u.roomUrl,variant:"outlined",size:"small",style:{flexGrow:1}})):e.createElement("img",{src:Ax,width:"343pxh",height:"154px"}),e.createElement(Hf,{p:2},!V&&e.createElement(Hf,null,e.createElement(cr,{variant:"subtitle1",color:"primary",style:{marginBottom:8}},"Address:"),e.createElement(cr,{variant:"body1",color:"primary",style:{marginBottom:16}},P)),e.createElement(Hf,{display:"flex",justifyContent:"space-evenly"},e.createElement(Hf,{display:"inline-flex",alignItems:"center",mr:2,flexGrow:1,style:{},onClick:F},e.createElement(z,{className:l.buttonsDuet},e.createElement(cr,{variant:"body1",color:"primary"},"Copy"),e.createElement(Hf,{display:"flex",className:l.redColor},e.createElement(_x,null)))),e.createElement(Hf,{display:"inline-flex",alignItems:"center",flexGrow:1,style:{},onClick:B},V?e.createElement(z,{href:null===u||void 0===u?void 0:u.roomUrl,className:l.buttonsDuet},e.createElement(cr,{variant:"body1",color:"primary"},"Open")):e.createElement(z,{className:l.buttonsDuet,onClick:B},e.createElement(cr,{variant:"body1",color:"primary"},"Open in Maps")))))),e.createElement(ff,{maxWidth:"sm",disableGutters:!0,className:l.gutterBottom},e.createElement(yi,{component:"nav","aria-label":"mailbox folders",className:l.gutterBottomBase},e.createElement(fa,{button:!0,divider:!0,style:{paddingLeft:0,paddingRight:0}},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"space-between",flex:"1"},e.createElement(yx,null),e.createElement(up,{primary:"Add to calendar",style:{marginLeft:16}}),e.createElement(Hf,{display:"flex",className:l.redColor},e.createElement(hp,null)))),e.createElement(fa,{button:!0,style:{paddingLeft:0,paddingRight:0}},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"space-between",flex:"1"},e.createElement(dp,null),e.createElement(up,{primary:"Contact Support",style:{marginLeft:16}}),e.createElement(Hf,{display:"flex",className:l.redColor},e.createElement(hp,null)))),e.createElement(mr,{light:!0}))),(null===u||void 0===u?void 0:u.preferences.notes)&&e.createElement(e.Fragment,null,e.createElement(cr,{variant:"h3",className:l.gutterBottom,style:{color:"#6B7178"}},"Client\u2019s notes"),e.createElement(cr,{variant:"body1",color:"primary",className:l.gutterBottomExtraLarge},null===u||void 0===u?void 0:u.preferences.notes),e.createElement(mr,null)),"HAS_A_PARTNER"===(null===u||void 0===u?void 0:u.status)&&e.createElement(cr,{variant:"subtitle1",color:"primary",className:(0,h.Z)(l.gutterTopFull,l.gutterBottomExtraLarge,l.linkLikeButton,l.greyColor),style:{textAlign:"center"}},"Need to decline the session?"),"HAS_A_PARTNER"===(null===u||void 0===u?void 0:u.status)&&e.createElement(z,{variant:"outlined",color:"primary",type:"submit",className:(0,h.Z)(l.submitButton,l.gutterBottom),style:{},onClick:j},"Running late?")),(W||"HAS_A_PARTNER"===(null===u||void 0===u?void 0:u.status)||"IN_PROGRESS"===(null===u||void 0===u?void 0:u.status))&&e.createElement(ff,{maxWidth:"xs",className:l.bottomCtaContainer,disableGutters:!0},e.createElement(Hf,{pt:"IN_PROGRESS"===(null===u||void 0===u?void 0:u.status)?1:2,pb:2,px:2,sx:{padding:"16px"},textAlign:"center",style:{backgroundColor:"IN_PROGRESS"===(null===u||void 0===u?void 0:u.status)?"#3BC693":"#ffffff"}},e.createElement(Kr,{container:!0,justifyContent:"center"},"IN_PROGRESS"===(null===u||void 0===u?void 0:u.status)&&e.createElement(cr,{variant:"caption",color:"secondary",className:(0,h.Z)(l.gutterBottom),style:{flexGrow:1,textTransform:"uppercase"}},"Session started"),("HAS_A_PARTNER"===(null===u||void 0===u?void 0:u.status)||"IN_PROGRESS"===(null===u||void 0===u?void 0:u.status))&&e.createElement(z,{variant:"contained",color:"primary",type:"submit",disabled:W,className:l.submitButton,style:{backgroundColor:W?"":H},onClick:Z},W?"Cancelled":"IN_PROGRESS"===(null===u||void 0===u?void 0:u.status)?"Stop Session":"Start Session"))))),e.createElement(Ex,{open:O,onClose:function(){R(!1)}}))}function Mx(){return e.createElement("svg",{width:"52",height:"52",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{cx:"26",cy:"26",r:"24",fill:"white"}),e.createElement("circle",{cx:"26",cy:"26",r:"24",fill:"#F8F8F8"}),e.createElement("mask",{id:"mask0_1199_1925",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"2",y:"2",width:"48",height:"48"},e.createElement("circle",{cx:"26",cy:"26",r:"24",fill:"white"})),e.createElement("g",{mask:"url(#mask0_1199_1925)"},e.createElement("path",{opacity:"0.6","fill-rule":"evenodd","clip-rule":"evenodd",d:"M26 34C30.6963 34 34.5 30.1962 34.5 25.5C34.5 20.8038 30.6963 17 26 17C21.3038 17 17.5 20.8038 17.5 25.5C17.5 30.1962 21.3038 34 26 34ZM26 38.25C20.3263 38.25 9 41.0975 9 46.75V51H43V46.75C43 41.0975 31.6737 38.25 26 38.25Z",fill:"#CBCFD5"})),e.createElement("rect",{x:"1",y:"1",width:"50",height:"50",rx:"25",stroke:"#E94E32","stroke-width":"2"}))}function Lx(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{cx:"12",cy:"12",r:"12",fill:"url(#paint0_linear_1261_1835)"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0001 5C9.21362 5 6.95996 7.25366 6.95996 10.0401C6.95996 13.8202 12.0001 19.4004 12.0001 19.4004C12.0001 19.4004 17.0402 13.8202 17.0402 10.0401C17.0402 7.25366 14.7866 5 12.0001 5ZM12.0001 12.2005C10.8873 12.2005 9.98409 11.2789 9.98409 10.1433C9.98409 9.00772 10.8873 8.08609 12.0001 8.08609C13.113 8.08609 14.0162 9.00772 14.0162 10.1433C14.0162 11.2789 13.113 12.2005 12.0001 12.2005Z",fill:"white"}),e.createElement("defs",null,e.createElement("linearGradient",{id:"paint0_linear_1261_1835",x1:"-4.4712e-08",y1:"0.0519513",x2:"14.2486",y2:"31.4852",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{"stop-color":"#E34124"}),e.createElement("stop",{offset:"1","stop-color":"#FF826B"}))))}var Dx=k((function(e){return{sessionTypeIcon:{display:"flex",position:"absolute",bottom:0,left:0},root:{position:"relative",justifyContent:"center",color:e.trueblackBasic,minWidth:24}}}));function Fx(){var t=Dx();return e.createElement(Sp,{classes:{root:t.root}},e.createElement(Mx,null),e.createElement("div",{className:t.sessionTypeIcon},e.createElement(Lx,null)))}function Bx(){return e.createElement("svg",{width:"52",height:"52",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{cx:"26",cy:"26",r:"24",fill:"white"}),e.createElement("circle",{cx:"26",cy:"26",r:"24",fill:"#F8F8F8"}),e.createElement("mask",{id:"mask0_1249_2271",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"2",y:"2",width:"48",height:"48"},e.createElement("circle",{cx:"26",cy:"26",r:"24",fill:"white"})),e.createElement("g",{mask:"url(#mask0_1249_2271)"},e.createElement("path",{opacity:"0.6","fill-rule":"evenodd","clip-rule":"evenodd",d:"M26 34C30.6963 34 34.5 30.1962 34.5 25.5C34.5 20.8038 30.6963 17 26 17C21.3038 17 17.5 20.8038 17.5 25.5C17.5 30.1962 21.3038 34 26 34ZM26 38.25C20.3263 38.25 9 41.0975 9 46.75V51H43V46.75C43 41.0975 31.6737 38.25 26 38.25Z",fill:"#CBCFD5"})),e.createElement("rect",{x:"1",y:"1",width:"50",height:"50",rx:"25",stroke:"#AD60D0","stroke-width":"2"}))}function jx(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{cx:"12",cy:"12",r:"12",fill:"url(#paint0_linear_1261_1846)"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3333 11V8.66667C15.3333 8.3 15.0333 8 14.6667 8H6.66667C6.3 8 6 8.3 6 8.66667V15.3333C6 15.7 6.3 16 6.66667 16H14.6667C15.0333 16 15.3333 15.7 15.3333 15.3333V13L18 15.6667V8.33333L15.3333 11Z",fill:"white"}),e.createElement("defs",null,e.createElement("linearGradient",{id:"paint0_linear_1261_1846",x1:"45.5234",y1:"10.1229",x2:"13.1538",y2:"-16.1848",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{stopColor:"#3023AE"}),e.createElement("stop",{offset:"1",stopColor:"#C86DD7"}))))}var Zx=k((function(e){return{sessionTypeIcon:{display:"flex",position:"absolute",bottom:0,left:0},root:{position:"relative",justifyContent:"center",color:e.trueblackBasic,minWidth:24}}}));function Vx(){var t=Zx();return e.createElement(Sp,{classes:{root:t.root}},e.createElement(Bx,null),e.createElement("div",{className:t.sessionTypeIcon},e.createElement(jx,null)))}var Ux={container:{flex:1,backgroundColor:"white",alignItems:"center",justifyContent:"center",borderRadius:8,height:"100%"}},Wx={backdrop:{position:"fixed",zIndex:1e3},container:{position:"fixed",zIndex:1e3}},Hx=k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,f.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,f.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},gutterBottom:{marginBottom:"1em"},gutterTopDoubleMedium:{marginTop:"2em"},gutterBottomDoubleMedium:{marginBottom:"2em"},gutterBottomExtraExtraLarge:{marginBottom:80},passcodeContainer:{minHeight:"120px"},submitButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"}),addAreaCtaButton:(0,f.Z)({marginBottom:8},e.breakpoints.down("sm"),{width:"100%"}),whiteBasicColor:{color:e.whiteBasic},trueblackBasicColor:{color:e.trueblackBasic},redColor:{color:e.red},greyColor:{color:e.grey},greyMainColor:{color:e.greyMain},root:{justifyContent:"center",color:e.trueblackBasic,minWidth:24},rootArrow:{color:e.red,minWidth:24}}})),zx=fe();function Gx(){var t=Hx(),n=Ot(),r=(n.signIn,n.user),i=n.getBooking,a=n.booking,o=n.upcomingBookings,s=n.getUpcomingBookings,u=(n.isAuthReady,kt()),c=(xt(),_t().BookingId),l=(0,e.useState)(""),d=(0,G.Z)(l,2),f=(d[0],d[1],(0,e.useState)("")),p=(0,G.Z)(f,2),m=(p[0],p[1],(0,e.useState)("")),v=(0,G.Z)(m,2),g=(v[0],v[1],(0,e.useState)(null)),y=(0,G.Z)(g,2),b=y[0],w=y[1],k=(0,e.useState)("HAS_A_PARTNER"),x=(0,G.Z)(k,2),_=x[0],S=x[1],E=(0,e.useState)(""),C=(0,G.Z)(E,2),T=C[0],A=(C[1],(0,e.useState)(null)),O=(0,G.Z)(A,2),R=(O[0],O[1],(0,e.useRef)(null));(0,e.useEffect)((function(){c&&(w(c),i(Number(c)))}),[r,c]),(0,e.useEffect)((function(){s()}),[]),(0,e.useEffect)((function(){b&&a&&R.current&&R.current.show()}),[b,a]);var I=(0,e.useCallback)((function(e){return function(t){t.preventDefault(),u.replace({pathname:"/sessions-page/".concat(e)}),R.current&&R.current.show()}}),[u]),N=(0,e.useCallback)((function(e){R.current&&R.current.hide(),u.push({pathname:"/sessions-page"})}),[u]);return e.createElement(e.Fragment,null,e.createElement(ff,null,e.createElement(cr,{variant:"h2",className:(0,h.Z)(t.gutterTopDoubleMedium,t.gutterBottomDoubleMedium,t.greyMainColor)},"Upcoming sessions")),e.createElement(Zp,null,e.createElement(ff,{maxWidth:"sm",disableGutters:!0},e.createElement(yi,{component:"nav","aria-label":"mailbox folders",disablePadding:!0,className:t.gutterBottomExtraExtraLarge},o.map((function(n){var r,i;return e.createElement(e.Fragment,null,e.createElement(fa,{button:!0,style:{paddingLeft:0,paddingRight:0},onClick:I(n.id)},e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"space-between",flex:"1"},"LS"===(n.product.id.includes("_LS")?"LS":"F2F")?e.createElement(Vx,null):e.createElement(Fx,null),e.createElement(up,{primaryTypographyProps:{variant:"h3",style:{color:"#111418"}},secondaryTypographyProps:{variant:"body1",style:{color:"#111418"}},primary:"".concat(null===(r=n.user)||void 0===r?void 0:r.firstName," ").concat(null===(i=n.user)||void 0===i?void 0:i.familyName),secondary:gp()(Number(n.startTime)).format("ddd, DD MMM [at] HH:mm A"),style:{marginLeft:16}}),e.createElement(Sp,{classes:{root:t.rootArrow}},e.createElement(hp,null)))),e.createElement(mr,null))})),e.createElement(mr,{light:!0})))),e.createElement(Np,null),e.createElement(Kk,{ref:R,draggableRange:{top:zx-24,bottom:0},snappingPoints:[118,660],backdropStyle:Wx.backdrop,containerStyle:Wx.container,height:zx-24},b&&a?e.createElement("div",{style:Ux.container},e.createElement(Px,{booking:a,status:_,sessionType:T,onClick:function(){S("HAS_A_PARTNER"===_?"IN_PROGRESS":"HAS_A_PARTNER")},onClose:N})):e.createElement("div",null)))}function qx(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.686 10.8326L12 7L10.314 10.8384L6 11.1916L9.276 13.93L8.292 18L12 15.8405L15.708 18L14.73 13.93L18 11.1916L13.686 10.8326Z",fill:"currentColor"}))}var Kx=k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,f.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,f.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},gutterBottom:{marginBottom:".5rem"},gutterBottomBase:{marginBottom:"1rem"},gutterBottomExtraLarge:{marginBottom:"1.5em"},gutterTopDoubleMedium:{marginTop:"2em"},gutterBottomDoubleMedium:{marginBottom:"2em"},gutterTopFull:{marginTop:64},gutterBottomExtraExtraLarge:{marginBottom:80},passcodeContainer:{minHeight:"120px"},bottomCtaContainer:{position:"fixed",bottom:100,left:0,backgroundColor:"#ffffff",boxShadow:"0px 0px 32px rgba(0, 0, 0, 0.1)",zIndex:1099},submitButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"}),addAreaCtaButton:(0,f.Z)({marginBottom:8},e.breakpoints.down("sm"),{width:"100%"}),whiteBasicColor:{color:e.whiteBasic},trueblackBasicColor:{color:e.trueblackBasic},redColor:{color:e.red},greyColor:{color:e.grey},greyMainColor:{color:e.greyMain},greenMainColor:{color:e.greenMain},root:{justifyContent:"center",color:e.trueblackBasic,minWidth:24},rootArrow:{color:e.red,minWidth:24},closeBackgroundSelection:{cursor:"pointer",display:"flex",background:"transparent",border:"0",padding:"0"},linkLikeButton:{textDecoration:"underline"}}}));(0,i.Z)((function(e){return{root:{height:"100%",borderRadius:8,backgroundColor:e.greyLight}}}))(Hf);function Yx(t){var n,r=t.className,i=t.title,a=(t.trainerName,t.rating),o=void 0===a?0:a,s=t.onRatingSet,u=Kx(),c=Ot(),l=(c.signIn,c.user,c.isAuthReady,kt(),xt(),(0,e.useState)("")),d=(0,G.Z)(l,2),f=(d[0],d[1],(0,e.useState)("")),p=(0,G.Z)(f,2),m=(p[0],p[1],(0,e.useState)("")),v=(0,G.Z)(m,2),g=(v[0],v[1],(0,e.useState)(0)),y=(0,G.Z)(g,2),b=y[0],w=y[1],k=(0,e.useState)(0),x=(0,G.Z)(k,2),_=x[0],S=x[1],E=(0,e.useState)(null),C=(0,G.Z)(E,2),T=(C[0],C[1],[]),A=function(e){0===o&&w(e)},O=function(e){0!==e&&(S(e),s(e)),w(0)};if(0!==o)for(var R=function(t){T.push(e.createElement(Hf,{display:"flex",style:{color:t<o?"#E94E32":"#CBCFD5"},key:t},e.createElement("i",{onMouseEnter:function(){return A(t+1)},onClick:function(){return O(t+1)}},e.createElement(qx,null))))},I=0;I<5;I++)R(I);else for(var N=function(t){n=0!==_?{color:t<_?"#E94E32":"#CBCFD5"}:{color:t<b?"#F1644A":"#CBCFD5"},T.push(e.createElement(Hf,{display:"flex",style:n,key:t},e.createElement("i",{onMouseEnter:function(){return A(t+1)},onClick:function(){return O(t+1)}},e.createElement(qx,null))))},P=0;P<5;P++)N(P);return e.createElement("div",{className:(0,h.Z)(r,"stars-rating-block"),onMouseLeave:function(){return w(0)}},e.createElement(cr,{variant:"subtitle2",className:(0,h.Z)(u.gutterBottom,u.greyColor)},i),e.createElement(Hf,{display:"flex",justifyContent:"center",mb:2},T))}var Xx=k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,f.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,f.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},gutterBottom:{marginBottom:".5rem"},gutterBottomBase:{marginBottom:"1rem"},gutterBottomExtraLarge:{marginBottom:"1.5em"},gutterTopDoubleMedium:{marginTop:"2em"},gutterBottomDoubleMedium:{marginBottom:"2em"},gutterTopFull:{marginTop:64},gutterBottomExtraExtraLarge:{marginBottom:80},passcodeContainer:{minHeight:"120px"},bottomCtaContainer:{position:"fixed",bottom:100,left:0,backgroundColor:"#ffffff",boxShadow:"0px 0px 32px rgba(0, 0, 0, 0.1)",zIndex:1099},submitButton:(0,f.Z)({},e.breakpoints.down("sm"),{width:"100%"}),addAreaCtaButton:(0,f.Z)({marginBottom:8},e.breakpoints.down("sm"),{width:"100%"}),whiteBasicColor:{color:e.whiteBasic},trueblackBasicColor:{color:e.trueblackBasic},redColor:{color:e.red},greyColor:{color:e.grey},greyMainColor:{color:e.greyMain},greenMainColor:{color:e.greenMain},root:{justifyContent:"center",color:e.trueblackBasic,minWidth:24},rootArrow:{color:e.red,minWidth:24},closeBackgroundSelection:{cursor:"pointer",display:"flex",background:"transparent",border:"0",padding:"0"},linkLikeButton:{textDecoration:"underline"}}}));(0,i.Z)((function(e){return{root:{height:"100%",borderRadius:8,backgroundColor:e.greyLight}}}))(Hf);function Qx(t){t.trainerName;var n,r=Xx(),i=Ot(),a=(i.signIn,i.user),o=i.booking,s=i.rateCustomer,u=(i.isAuthReady,kt()),c=(xt(),(0,e.useState)("")),l=(0,G.Z)(c,2),d=(l[0],l[1],(0,e.useState)("")),f=(0,G.Z)(d,2),p=(f[0],f[1],(0,e.useState)("")),m=(0,G.Z)(p,2),v=(m[0],m[1],(0,e.useState)(0)),g=(0,G.Z)(v,2),y=g[0],b=g[1],w=(0,e.useState)(0),k=(0,G.Z)(w,2),x=k[0],_=k[1],S=(0,e.useState)(0),E=(0,G.Z)(S,2),C=E[0],T=E[1],A=(0,e.useState)(0),O=(0,G.Z)(A,2),R=O[0],I=O[1],N=(0,e.useState)(null),P=(0,G.Z)(N,2),M=(P[0],P[1],(0,e.useState)(!1)),L=(0,G.Z)(M,2),D=L[0],F=L[1],B=(0,e.useRef)(null);return e.createElement("form",{onSubmit:function(e){var t;e.preventDefault();var n=(null===(t=B.current)||void 0===t?void 0:t.value)||"";s(null===a||void 0===a?void 0:a.id,null===o||void 0===o?void 0:o.id,y,x,C,R,n).then((function(){return F(!0)}))}},e.createElement(Zp,null,e.createElement(Hf,{display:"flex",alignItems:"center",justifyContent:"space-between",mt:7,mb:3},e.createElement(Hf,{flexGrow:"1",ml:1,textAlign:"center"},e.createElement(cr,{variant:"caption",color:"primary",className:r.gutterBottom,style:{color:"#6B7178",textTransform:"uppercase"}},"Rate the Session With"),e.createElement(cr,{variant:"h2",color:"primary",className:""},null===o||void 0===o||null===(n=o.user)||void 0===n?void 0:n.firstName),e.createElement(yp,null),e.createElement(Yx,{className:(0,h.Z)(r.gutterBottom,r.greyColor),title:"Strength",onRatingSet:b}),e.createElement(Yx,{className:(0,h.Z)(r.gutterBottom,r.greyColor),title:"Endurance",onRatingSet:_}),e.createElement(Yx,{className:(0,h.Z)(r.gutterBottom,r.greyColor),title:"Mobility",onRatingSet:T}),e.createElement(Yx,{className:(0,h.Z)(r.gutterBottom,r.greyColor),title:"How was the session?",onRatingSet:I}))),e.createElement(Ui,{ref:B,maxRows:4,"aria-label":"Notes",placeholder:"Please add some notes",style:{width:"100%",height:"144px",border:"0",borderRadius:"8px",backgroundColor:"#F8F8F8",padding:"16px",marginBottom:"24px",color:"#6B7178",fontSize:"16px",fontFamily:"Poppins",fontWeight:400}}),e.createElement(ff,{maxWidth:"sm",disableGutters:!0,className:r.gutterBottom},e.createElement(Kr,{container:!0,justifyContent:"center"},e.createElement(z,{variant:"contained",color:"primary",type:"submit",disabled:!y||!x||!C||!R,className:r.submitButton},"Submit rating")))),e.createElement(Ex,{open:D,onClose:function(){F(!1),u.push({pathname:"/sessions-page/".concat(null===o||void 0===o?void 0:o.id)})}}))}var Jx=["children"];function $x(t){var n=t.children,i=(0,p.Z)(t,Jx),a=Ot(),o=a.isAuthReady,s=a.user;return s||o?e.createElement(pt,(0,r.Z)({},i,{render:function(t){var r=t.location;return s?n:e.createElement(ct,{to:{pathname:"/login",state:{from:r}}})}})):null}var e_=n(65628),t_=n.p+"static/media/BebasNeue-Regular.46629f617f69b1ab231f.woff2",n_=n.p+"static/media/BebasNeue-Regular.be4b83e55f8bb37d6440.woff",r_=n.p+"static/media/BebasNeue-Regular.7d2f1e3c43251f14336c.ttf",i_=n.p+"static/media/BebasNeue-Bold.8768834759eb29da26d7.woff2",a_=n.p+"static/media/BebasNeue-Bold.3a1f6da257e307578f85.woff",o_=n.p+"static/media/BebasNeue-Bold.0fff693ee8f49e3b60f2.ttf",s_={fontFamily:"BebasNeue",fontStyle:"normal",fontWeight:300,src:"\n    local('BebasNeue'),\n    local('BebasNeue-Regular'),\n    url(".concat(r_,') format("truetype"),\n    url(').concat(t_,') format("woff2"),\n    url(').concat(n_,') format("woff")\n  ')},u_={fontFamily:"BebasNeue",fontStyle:"normal",fontWeight:700,src:"\n    local('BebasNeue'),\n    local('BebasNeue-Bold'),\n    url(".concat(o_,') format("truetype"),\n    url(').concat(i_,') format("woff2"),\n    url(').concat(a_,') format("woff")\n  ')},c_=(0,e_.Z)(),l_=(0,e_.Z)({overrides:{MuiCssBaseline:{"@global":{"html, body, #root":{height:"100%"},body:{fontSize:"16px"},"@font-face":[s_,u_]}},MuiCheckbox:{root:{borderRadius:"8px","&$root$root:hover":{backgroundColor:"transparent"},"&$checked":{color:"rgba(0, 0, 0, 0.54)","& .MuiIconButton-label":{backgroundColor:"#E94E32"}},"& .MuiIconButton-label":{boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.1)",borderRadius:"16px"}}},MuiButton:{root:{borderRadius:"8px",padding:"19px 14px",color:"#ffffff",fontSize:"1rem",transition:c_.transitions.create(["background-color","box-shadow","border","color"],{duration:c_.transitions.duration.short})},disabled:{backgroundColor:"red"},label:{color:"#ffffff"},text:{padding:"19px 14px"},contained:{boxShadow:"none","&:hover":{boxShadow:"none"}},containedPrimary:{backgroundColor:"#E94E32","&:hover":{backgroundColor:"#F1644A"},"& .Mui-disabled":{backgroundColor:"#CBCFD5"}},outlinedPrimary:{padding:"19px 14px",color:"#E94E32",backgroundColor:"transparent",border:"2px solid #E94E32",label:{color:"#E94E32"},"& .MuiButton-label":{color:"#E94E32"},"&:hover":{backgroundColor:"#F1644A",border:"2px solid #F1644A","& .MuiButton-label":{color:"#FFFFFF"}}},startIcon:{marginRight:"6px"}},MuiTypography:{body1:{color:"rgb(40, 42, 43)",fontSize:"0.9rem"}},MuiInputBase:{root:{fontSize:"0.9rem"}},MuiSelect:{root:{padding:"0.85em"}},MuiDialogActions:{root:{padding:"24px",width:"100%",justifyContent:"stretch"}},MuiTextField:{root:{color:"rgb(40, 42, 43)"}},MuiInputLabel:{root:{color:"#6B7178",marginLeft:"1rem",marginBottom:"0.5rem",fontWeight:400,fontSize:"12px",lineHeight:"18px",textAlign:"left"}},MuiOutlinedInput:{root:{fontSize:"0.9rem"},input:{fontWeight:400,fontSize:16,lineHeight:"26px",padding:"19px 16px",paddingTop:"14px",paddingBottom:"14px",border:"1px solid #CBCFD5",borderRadius:"8px",textOverflow:"ellipsis"},notchedOutline:{borderColor:"rgb(136, 140, 142)"}}},typography:{fontFamily:["BebasNeue","AvenirNextCondensed-Bold","Futura-CondensedExtraBold","HelveticaNeue-CondensedBold","Arial Narrow","Helvetica Neue","sans-serif-condensed","sans-serif"].join(","),body1:{fontFamily:"'Poppins', Arial, sans-serif",fontSize:"16px",fontWeight:400,lineHeight:"26px"},subtitle1:{fontSize:12,fontFamily:"'Poppins', Arial, sans-serif",lineHeight:"18px",fontWeight:400},caption:{fontSize:12,fontFamily:"'Poppins', Arial, sans-serif",lineHeight:"14px",fontWeight:700},h1:{fontWeight:700,fontSize:60,lineHeight:"60px"},h2:{fontSize:40,lineHeight:"40px",fontWeight:700},h3:{fontSize:18,fontFamily:"'Poppins', Arial, sans-serif",lineHeight:"26px",fontWeight:600},h4:{fontSize:26,lineHeight:"26px",fontWeight:700},h5:{fontSize:22,fontFamily:"'Poppins', Arial, sans-serif",lineHeight:"33px",fontWeight:400},button:{fontFamily:"Poppins",fontWeight:600,fontSize:18,lineHeight:"26px"},subtitle2:{fontFamily:"Poppins",fontWeight:400,fontSize:16,lineHeight:"26px"}},palette:{primary:{main:"#303740"},secondary:{main:"#ffffff"},action:{active:"#E94E32",hover:"#F8F8F8"}},brand:"#E22525",grey:"#6B7178",greyMain:"#303740",greyLight:"#F8F8F8",red:"#E94E32",whiteBasic:"#ffffff",trueblackBasic:"#000000",greenMain:"#3BC693",footerHeight:72,mobileFooterHeight:56,sidebarWidth:300,sidebarMobileHeight:90,sidebarMobilePadding:8,participantBorderWidth:2,mobileTopBarHeight:52,rightDrawerWidth:320,galleryViewBackgroundColor:"#121C2D"});var d_=k({container:{marginTop:"2.5em"},paper:{padding:"1em"},heading:{marginBottom:"0.4em"}});function f_(t){var n=t.children,r=d_();return tn().isSupported?n:e.createElement(ff,null,e.createElement(Kr,{container:!0,justifyContent:"center",className:r.container},e.createElement(Kr,{item:!0,xs:12,sm:6},e.createElement($n,{className:r.paper},e.createElement(cr,{variant:"h4",className:r.heading},"Browser or context not supported"),e.createElement(cr,null,"Please open this application in one of the"," ",e.createElement(cu,{href:"https://www.twilio.com/docs/video/javascript#supported-browsers",target:"_blank",rel:"noopener"},"supported browsers"),".",e.createElement("br",null),"If you are using a supported browser, please ensure that this app is served over a"," ",e.createElement(cu,{href:"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts",target:"_blank",rel:"noopener"},"secure context")," ","(e.g. https or localhost).")))))}var p_=function(){var t=Ot(),n=t.error,r=t.setError,i=function(){var e,t=Ot().settings,n={bandwidthProfile:{video:{mode:t.bandwidthProfileMode,dominantSpeakerPriority:t.dominantSpeakerPriority,trackSwitchOffMode:t.trackSwitchOffMode,contentPreferencesMode:t.contentPreferencesMode,clientTrackSwitchOffControl:t.clientTrackSwitchOffControl}},dominantSpeaker:!0,networkQuality:{local:1,remote:1},maxAudioBitrate:Number(t.maxAudioBitrate),preferredVideoCodecs:"auto",environment:{NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TWILIO_ENVIRONMENT};return ue&&null!==n&&void 0!==n&&null!==(e=n.bandwidthProfile)&&void 0!==e&&e.video&&(n.bandwidthProfile.video.maxSubscriptionBitrate=25e5),"dev"==={NODE_ENV:"production",PUBLIC_URL:"/partner-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TWILIO_ENVIRONMENT&&(n.wsServer="wss://us2.vss.dev.twilio.com/signaling"),ce(n)}();return e.createElement(an,{options:i,onError:r},e.createElement(cf,{dismissError:function(){return r(null)},error:n}),e.createElement(cl,null,e.createElement(za,null,e.createElement(Qd,null))))},h_=function(){return e.createElement(d,{theme:l_},e.createElement(s,null),e.createElement(f_,null,e.createElement(Jd,null,e.createElement(At,null,e.createElement(bt,null,e.createElement($x,{exact:!0,path:"/"},e.createElement(Bp,null)),e.createElement($x,{path:"/room/:URLRoomName"},e.createElement(p_,null)),e.createElement($x,{path:"/main-page"},e.createElement(Bp,null)),e.createElement($x,{path:"/areas-page"},e.createElement(vx,null)),e.createElement($x,{exact:!0,path:"/sessions-page"},e.createElement(Gx,null)),e.createElement($x,{path:"/sessions-page/:BookingId"},e.createElement(Gx,null)),e.createElement(pt,{exact:!0,path:"/rate-session"},e.createElement(Qx,{trainerName:"Peter"})),e.createElement(pt,{exact:!0,path:"/password-reset"},e.createElement(tp,null)),e.createElement(pt,{exact:!0,path:"/password-reset-instructions"},e.createElement(ip,null)),e.createElement(pt,{exact:!0,path:"/password-reset-new-password"},e.createElement(op,null)),e.createElement(pt,{path:"/login"},e.createElement($f,null)),e.createElement(ct,{to:"/"}))))))};t.render(e.createElement(h_,null),document.getElementById("root"))}()}();
//# sourceMappingURL=main.2a6f859b.js.map